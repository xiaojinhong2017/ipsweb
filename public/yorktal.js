!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=282)}([function(e,t,n){"use strict";(function(e){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){return ee}function o(){}function s(e,t){re[e]&&(re[e]=t||o)}function u(){re.log.apply(re,arguments)}function l(){re.info.apply(re,arguments)}function c(){re.debug.apply(re,arguments)}function d(){re.error.apply(re,arguments)}function f(){re.warn.apply(re,arguments)}function m(e){ae[e]||(re.error(e),ae[e]=!0)}function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(e){return e.charAt(0).toLowerCase()+e.slice(1)}function v(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=["TB","GB","MB","KB"],a=Number(e),i="B";a>n;)a/=n,i=r.pop();return a.toFixed(t)+" "+i}function h(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=[],r=e;r>1e3;)n.push(("000"+r%1e3).slice(-3)),r=Math.floor(r/1e3);return r>0&&n.push(r),n.reverse(),n.join(t)}function y(e){Object.keys(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=[].concat(e[t]))})}function A(e,t){return Object.keys(e).find(function(n){return e[n]===t})}function S(e){return e.isA?e.getState():e}function T(e){setTimeout(e,0)}function M(){function e(e){i[e]=null}function t(t){function n(){e(t)}return Object.freeze({unsubscribe:n})}var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(r);var i=[];return Number.isInteger(r.mtime)||(r.mtime=++ee),r.classHierarchy=["vtkObject"],n.isDeleted=function(){return!!r.deleted},n.modified=function(e){if(r.deleted)return void d("instance deleted - cannot call any method");e&&e<n.getMTime()||(r.mtime=++ee,i.forEach(function(e){return e&&e(n)}))},n.onModified=function(e){if(r.deleted)return d("instance deleted - cannot call any method"),null;var n=i.length;return i.push(e),t(n)},n.getMTime=function(){return r.mtime},n.isA=function(e){for(var t=r.classHierarchy.length;t--;)if(r.classHierarchy[t]===e)return!0;return!1},n.getClassName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.classHierarchy[r.classHierarchy.length-1-e]},n.set=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!1;return Object.keys(e).forEach(function(s){var u=i?null:n["set"+g(s)];u&&Array.isArray(e[s])&&u.length>1?o=u.apply(void 0,a(e[s]))||o:u?o=u(e[s])||o:(-1!==["mtime"].indexOf(s)||t||f("Warning: Set value to model directly "+s+", "+e[s]),r[s]=e[s],o=!0)}),o},n.get=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return r;var a={};return t.forEach(function(e){a[e]=r[e]}),a},n.getReferenceByName=function(e){return r[e]},n.delete=function(){Object.keys(r).forEach(function(e){return delete r[e]}),i.forEach(function(t,n){return e(n)}),r.deleted=!0},n.getState=function(){var e=Object.assign({},r,{vtkClass:n.getClassName()});Object.keys(e).forEach(function(t){null===e[t]||void 0===e[t]?delete e[t]:e[t].isA?e[t]=e[t].getState():Array.isArray(e[t])&&(e[t]=e[t].map(S))});var t={};return Object.keys(e).sort().forEach(function(n){t[n]=e[n]}),t.mtime&&delete t.mtime,t},n.shallowCopy=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.getClassName()!==n.getClassName())throw new Error("Cannot ShallowCopy "+e.getClassName()+" into "+n.getClassName());var a=e.get(),i=Object.keys(r).sort();Object.keys(a).sort().forEach(function(e){var n=i.indexOf(e);-1===n?t&&c("add "+e+" in shallowCopy"):i.splice(n,1),r[e]=a[e]}),i.length&&t&&c("Untouched keys: "+i.join(", ")),n.modified()},n}function b(e,t,n){n.forEach(function(n){"object"===(void 0===n?"undefined":X(n))?e["get"+g(n.name)]=function(){return t[n.name]}:e["get"+g(n)]=function(){return t[n]}})}function D(){return"Cp4dFRUVFRUVFhDUVB/XJQUQxWhb5Dp1jk05IT6QwYCXNZ07VgxhNcbVMQTg4ati6INf9+RNEYK9kGEmEcmtoY3tUn8buKunb4mt9Nv+jMKyjDBn5+1d93Myos6uZP2DOTPFrladgCmbjxBO/rPLm6hgah3wme19FRUV"}function I(e){if("object"===(void 0===e?"undefined":X(e))){var t=oe[e.type];if(t)return function(n,r){return t(n,r,e)};throw d("No setter for field "+e),new TypeError("No setter for field")}return function(t,n){return function(r){return n.deleted?(d("instance deleted - cannot call any method"),!1):n[e]!==r&&(n[e]=r,t.modified(),!0)}}}function w(e,t,n){n.forEach(function(n){"object"===(void 0===n?"undefined":X(n))?e["set"+g(n.name)]=I(n)(e,t):e["set"+g(n)]=I(n)(e,t)})}function C(e,t,n){b(e,t,n),w(e,t,n)}function N(e,t,n){n.forEach(function(n){e["get"+g(n)]=function(){return[].concat(t[n])},e["get"+g(n)+"ByReference"]=function(){return t[n]}})}function P(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;n.forEach(function(n){e["set"+g(n)]=function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];if(t.deleted)return d("instance deleted - cannot call any method"),!1;var u=o;if(1===u.length&&Array.isArray(u[0])&&(u=u[0]),u.length!==r){if(!(u.length<r&&void 0!==a))throw new RangeError("Invalid number of values for array setter");for(u=[].concat(u);u.length<r;)u.push(a)}var l=!1;return t[n].forEach(function(e,t){if(e!==u[t]){if(l)return;l=!0}}),(l||t[n].length!==u.length)&&(t[n]=[].concat(u),e.modified()),!0},e["set"+g(n)+"From"]=function(e){var r=t[n];e.forEach(function(e,t){r[t]=e})}})}function x(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;N(e,t,n),P(e,t,n,r,a)}function E(e,t,n,r){function a(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.deleted?void d("instance deleted - cannot call any method"):r>=t.numberOfInputs?void d("algorithm "+e.getClassName()+" only has "+t.numberOfInputs+" input ports. To add more input ports, use addInputData()"):void((t.inputData[r]!==n||t.inputConnection[r])&&(t.inputData[r]=n,t.inputConnection[r]=null,e.modified&&e.modified()))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.inputConnection[e]&&(t.inputData[e]=t.inputConnection[e]()),t.inputData[e]}function o(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t.deleted)return void d("instance deleted - cannot call any method");if(r>=t.numberOfInputs){var a="algorithm "+e.getClassName()+" only has ";return a+=""+t.numberOfInputs,a+=" input ports. To add more input ports, use addInputConnection()",void d(a)}t.inputData[r]=null,t.inputConnection[r]=n}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.inputConnection[e]}function u(e){if(t.deleted)return void d("instance deleted - cannot call any method");t.numberOfInputs++,o(e,t.numberOfInputs-1)}function l(e){if(t.deleted)return void d("instance deleted - cannot call any method");t.numberOfInputs++,a(e,t.numberOfInputs-1)}function c(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return t.deleted?(d("instance deleted - cannot call any method"),null):(e.shouldUpdate()&&e.update(),t.output[n])}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=function(){return c(t)};return n.filter=e,n}if(t.inputData?t.inputData=t.inputData.map($.default):t.inputData=[],t.inputConnection?t.inputConnection=t.inputConnection.map($.default):t.inputConnection=[],t.output?t.output=t.output.map($.default):t.output=[],t.inputArrayToProcess?t.inputArrayToProcess=t.inputArrayToProcess.map($.default):t.inputArrayToProcess=[],t.numberOfInputs=n,e.shouldUpdate=function(){for(var n=e.getMTime(),a=r,i=1/0;a--;){if(!t.output[a])return!0;var o=t.output[a].getMTime();if(o<n)return!0;o<i&&(i=o)}for(a=t.numberOfInputs;a--;)if(t.inputConnection[a]&&t.inputConnection[a].filter.shouldUpdate())return!0;for(a=t.numberOfInputs;a--;)if(e.getInputData(a)&&e.getInputData(a).getMTime()>i)return!0;return!1},t.numberOfInputs){for(var m=t.numberOfInputs;m--;)t.inputData.push(null),t.inputConnection.push(null);e.setInputData=a,e.setInputConnection=o,e.addInputData=l,e.addInputConnection=u,e.getInputData=i,e.getInputConnection=s}r&&(e.getOutputData=c,e.getOutputPort=f),e.update=function(){var n=[];if(t.numberOfInputs)for(var r=0;r<t.numberOfInputs;)n[r]=e.getInputData(r),r++;e.shouldUpdate()&&e.requestData&&e.requestData(n,t.output)},e.getNumberOfInputPorts=function(){return t.numberOfInputs},e.getNumberOfOutputPorts=function(){return r||t.output.length},e.getInputArrayToProcess=function(e){var n=t.inputArrayToProcess[e],r=t.inputData[e];return n&&r?r["get"+n.fieldAssociation]().getArray(n.arrayName):null},e.setInputArrayToProcess=function(e,n,r){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Scalars";t.inputArrayToProcess.length<e;)t.inputArrayToProcess.push(null);t.inputArrayToProcess[e]={arrayName:n,fieldAssociation:r,attributeType:a}}}function O(e,t,n){function r(e){for(var t=0;t<o.length;++t)if(K(o[t],1)[0]===e)return void o.splice(t,1)}function a(e){function t(){r(e)}return Object.freeze({unsubscribe:t})}function i(){var n=arguments;if(t.deleted)return void d("instance deleted - cannot call any method");var r=o.slice();e:for(var a=0;a<r.length;++a){var i=function(t){var a=K(r[t],3),i=a[1],o=a[2];if(!i)return"continue";if(o<0)setTimeout(function(){return i.apply(e,n)},1-o);else if(i.apply(e,n)===se)return"break"}(a);switch(i){case"continue":continue;case"break":break e}}}var o=[],s=e.delete,u=1;e["invoke"+g(n)]=i,e["on"+g(n)]=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e.apply)return null;if(t.deleted)return d("instance deleted - cannot call any method"),null;var r=u++;return o.push([r,e,n]),o.sort(function(e,t){return t[2]-e[2]}),a(r)},e.delete=function(){s(),o.forEach(function(e){return r(K(e,1)[0])})}}function L(e,t){var n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={},r={};return e(r,n,t),Object.freeze(r)};return t&&$.default.register(t,n),n}function _(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.filter(function(e){return!!e}).map(function(e){return e.apply(void 0,n)})}}function R(e){return e&&e.isA&&e.isA("vtkObject")}function k(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(R(e)){if(r.indexOf(e)>=0)return n;r.push(e);var a=t(e);void 0!==a&&n.push(a);var i=e.get();Object.keys(i).forEach(function(e){var a=i[e];Array.isArray(a)?a.forEach(function(e){k(e,t,n,r)}):k(a,t,n,r)})}return n}function B(e,t,n){var r=this,a=void 0;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];var u=r,l=function(){a=null,n||e.apply(u,o)},c=n&&!a;clearTimeout(a),a=setTimeout(l,t),c&&e.apply(u,o)}}function V(e,t){function n(){i=!1,null!==o&&(r.apply(void 0,a(o)),o=null)}function r(){for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];if(i)return void(o=a);i=!0,e.apply(void 0,a),setTimeout(n,t)}var i=!1,o=null;return r}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t.keystore=Object.assign(t.keystore||{},n),e.setKey=function(e,n){t.keystore[e]=n},e.getKey=function(e,n){return t.keystore[e]},e.getAllKeys=function(e,n){return Object.keys(t.keystore)},e.deleteKey=function(e,n){return delete t.keystore[e]},e.clearKeystore=function(){return e.getAllKeys().forEach(function(e){return delete t.keystore[e]})}}function j(e,t){function n(e,t){l[t]||(l[t]=[]);for(var r=l[t],a=0;a<e.length;a++)r.push(e[a].name),u[e[a].name]=e[a],e[a].children&&e[a].children.length&&n(e[a].children,e[a].name)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return l[e]}function i(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,r=[],o=t.proxyId,s=a(n)||[],u=0;u<s.length;u++){var l=s[u],c=e["get"+g(l)],d=c?c():void 0,f={id:o,name:l,value:d},m=i(l);m.length&&(f.children=m),r.push(f)}return r}function o(){if(t.links)for(var n=0;n<t.links.length;n++){var r=t.links[n],a=r.link,i=r.property,o=r.persistent,s=r.updateOnBind,u=r.type;if("application"===u){var l=t.proxyManager.getPropertyLink(a,o);e.registerPropertyLinkForGC(l,"application"),l.bind(e,i,s)}}}F(e,t);var s=e.delete;t.proxyId=""+ue++,t.ui=JSON.parse(JSON.stringify(t.ui||[])),b(e,t,["proxyId","proxyGroup","proxyName"]),C(e,t,["proxyManager"]);var u={},l={};n(t.ui,le),e.updateUI=function(r){t.ui=JSON.parse(JSON.stringify(r||[])),Object.keys(u).forEach(function(e){return delete u[e]}),Object.keys(l).forEach(function(e){return delete l[e]}),n(t.ui,le),e.modified()},e.updateProxyProperty=function(e,t){var n=u[e];n?Object.assign(n,t):u[e]=Object.assign({},t)},e.activate=function(){if(t.proxyManager){var n="setActive"+g(e.getProxyGroup().slice(0,-1));t.proxyManager[n]&&t.proxyManager[n](e)}},t.propertyLinkSubscribers={},e.registerPropertyLinkForGC=function(e,n){n in t.propertyLinkSubscribers||(t.propertyLinkSubscribers[n]=[]),t.propertyLinkSubscribers[n].push(e)},e.gcPropertyLinks=function(n){for(var r=t.propertyLinkSubscribers[n]||[];r.length;)r.pop().unbind(e)},t.propertyLinkMap={},e.getPropertyLink=function(e){function n(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d)return null;var i=[],o=null;for(c=l.length;c--;){var s=l[c];s.instance===n?o=s:i.push(s)}if(!o)return null;var f=o.instance["get"+g(o.propertyName)]();if(f!==u||a){for(u=f,d=!0;i.length;){var m=i.pop();m.instance.set(r({},m.propertyName,u))}d=!1}return t.propertyLinkMap[e].persistent&&(t.propertyLinkMap[e].value=f),f}function a(e,t){var n=[];for(c=l.length;c--;){var r=l[c];r.instance!==e||r.propertyName!==t&&void 0!==t||(r.subscription.unsubscribe(),n.push(c))}for(;n.length;)l.splice(n.pop(),1)}function i(i,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=i.onModified(n),c=l[0];return l.push({instance:i,propertyName:o,subscription:u}),s&&(t.propertyLinkMap[e].persistent&&void 0!==t.propertyLinkMap[e].value?i.set(r({},o,t.propertyLinkMap[e].value)):c&&n(c.instance,!0)),{unsubscribe:function(){return a(i,o)}}}function o(){for(;l.length;)l.pop().subscription.unsubscribe()}var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.propertyLinkMap[e])return t.propertyLinkMap[e];var u=null,l=[],c=0,d=!1,f={bind:i,unbind:a,unsubscribe:o,persistent:s};return t.propertyLinkMap[e]=f,f},e.listPropertyNames=function(){return i().map(function(e){return e.name})},e.getPropertyByName=function(e){return i().find(function(t){return t.name===e})},e.getPropertyDomainByName=function(e){return u[e].domain},e.getProxySection=function(){return{id:t.proxyId,name:t.proxyGroup,ui:t.ui,properties:i()}},e.delete=function(){for(var n=Object.keys(t.propertyLinkMap),r=n.length;r--;)t.propertyLinkMap[n[r]].unsubscribe();Object.keys(t.propertyLinkSubscribers).forEach(e.gcPropertyLinks),s()},T(o)}function U(e,t,n){for(var r=e.delete,a=[],i=Object.keys(n),o=i.length;o--;){var s=i[o],u=n[s],l=u.modelKey,c=u.property,d=u.modified,f=void 0===d||d,m=g(c),p=g(s);e["get"+p]=t[l]["get"+m],e["set"+p]=t[l]["set"+m],f&&a.push(t[l].onModified(e.modified))}e.delete=function(){for(;a.length;)a.pop().unsubscribe();r()}}function z(e,t){function n(e){for(var n=Object.keys(e),r=n.length;r--;){var a=n[r];t[a].set(e[a])}}var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.this=e;for(var i=Object.keys(a),o=i.length;o--;)!function(){var s=i[o];t[s]=a[s];var u=r[s];e["set"+g(s)]=function(r){r!==t[s]&&(t[s]=r,n(u[r]),e.modified())}}();i.length&&b(e,t,i)}function G(e){var t=0,n=0,r=0,a=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=t*ce,a=n*ce,"deltaY"in e&&(a=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||a)&&e.deltaMode&&(1===e.deltaMode?(r*=de,a*=de):(r*=fe,a*=fe)),r&&!t&&(t=r<1?-1:1),a&&!n&&(n=a<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:a}}function W(e){return e?(e.split(",")||[]).map(function(e){return Number(e)}):[]}function Q(e){if(!e)return null;for(var t=e.length;--t>=0&&("\\"===e[t]||"/"===e[t]););for(;--t>=0&&"\\"!==e[t]&&"/"!==e[t];);return e.substr(0,t)}function Y(e){if(!e)return e;for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function q(e,t,n){return e<t?t:e>n?n:e}function H(){return!/Android|webOS|iPhone|iPad|iPod|BlackBerry|SymbianOS|Windows Phone/i.test(navigator.userAgent)}function Z(){var e=navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Linux")>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalObjects=t.GlobalStates=t.GlobalOptions=t.EVENT_ABORT=t.TYPED_ARRAYS=t.VOID=void 0;var K=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.setLoggerFunction=s,t.vtkLogMacro=u,t.vtkInfoMacro=l,t.vtkDebugMacro=c,t.vtkErrorMacro=d,t.vtkWarningMacro=f,t.lxmOnceErrorMacro=m,t.capitalize=g,t.uncapitalize=p,t.formatBytesToProperUnit=v,t.formatNumbersWithThousandSeparator=h,t.setImmediateVTK=T,t.obj=M,t.get=b,t.getSystemInfo=D,t.set=w,t.setGet=C,t.getArray=N,t.setArray=P,t.setGetArray=x,t.algo=E,t.event=O,t.newInstance=L,t.chain=_,t.isVtkObject=R,t.traverseInstanceTree=k,t.debounce=B,t.throttle=V,t.keystore=F,t.proxy=j,t.proxyPropertyMapping=U,t.proxyPropertyState=z,t.normalizeWheel=G,t.parseNumberArray=W,t.parseFileParent=Q,t.uint8ArrayToString=Y,t.clampValue=q,t.checkIsPC=H,t.checkIsAndroid=Z;var J=n(34),$=function(e){return e&&e.__esModule?e:{default:e}}(J),ee=0,te=t.VOID=Symbol("void"),ne={};["log","debug","info","warn","error","time","timeEnd","group","groupEnd"].forEach(function(e){ne[e]=o}),e.console=ne;var re={debug:o,error:e.console.error||o,info:e.console.info||o,log:e.console.log||o,warn:e.console.warn||o},ae={},ie=t.TYPED_ARRAYS={Float32Array:Float32Array,Float64Array:Float64Array,Uint8Array:Uint8Array,Int8Array:Int8Array,Uint16Array:Uint16Array,Int16Array:Int16Array,Uint32Array:Uint32Array,Int32Array:Int32Array},oe={enum:function(e,t,n){return function(r){if("string"==typeof r){if(void 0!==n.enum[r])return t[n.name]!==n.enum[r]&&(t[n.name]=n.enum[r],e.modified(),!0);throw d("Set Enum with invalid argument "+n+", "+r),new RangeError("Set Enum with invalid string argument")}if("number"==typeof r){if(t[n.name]!==r){if(-1!==Object.keys(n.enum).map(function(e){return n.enum[e]}).indexOf(r))return t[n.name]=r,e.modified(),!0;throw d("Set Enum outside numeric range "+n+", "+r),new RangeError("Set Enum outside numeric range")}return!1}throw d("Set Enum with invalid argument (String/Number) "+n+", "+r),new TypeError("Set Enum with invalid argument (String/Number)")}}},se=t.EVENT_ABORT=Symbol("Event abort"),ue=1,le="__root__",ce=10,de=40,fe=800,me=t.GlobalOptions={YCM_PATH:"",DATA_SERVER_URL:"",USE_ZIP:!0,USE_DATA_SERVER:!1,USE_DS_FIRST:!0,USE_WS_FIRST:!0,USE_DEPTHPEEL:!0,USE_VR_WINDOW:!1,USE_VR_INVIEW3D:!1,USE_DICOM_DATA:!0,DICOM_MODE:"single",TEXTURED_BACKGROUND_3D:!0,LIGHT_PRESET:"bright",LOGO_URL:"yorktallogo.png",SHOW_DICOM_INFO:!0,ALGO_SERVER_URL:null},ge=t.GlobalStates={HAS_WS_ERROR:!1},pe=t.GlobalObjects={DataManagement:null,MultiView:null,RemoteData:null,AlgoServer:null,ToolManager:null};t.default={algo:E,capitalize:g,chain:_,debounce:B,enumToString:A,event:O,EVENT_ABORT:se,formatBytesToProperUnit:v,formatNumbersWithThousandSeparator:h,get:b,getArray:N,getCurrentGlobalMTime:i,getSystemInfo:D,getStateArrayMapFunc:S,isVtkObject:R,keystore:F,newInstance:L,normalizeWheel:G,obj:M,proxy:j,proxyPropertyMapping:U,proxyPropertyState:z,safeArrays:y,set:w,setArray:P,setGet:C,setGetArray:x,setImmediate:T,setLoggerFunction:s,throttle:V,traverseInstanceTree:k,TYPED_ARRAYS:ie,uncapitalize:p,VOID:te,vtkDebugMacro:c,vtkErrorMacro:d,vtkInfoMacro:l,vtkLogMacro:u,lxmOnceErrorMacro:m,vtkWarningMacro:f,parseNumberArray:W,parseFileParent:Q,uint8ArrayToString:Y,clampValue:q,checkIsPC:H,checkIsAndroid:Z,GlobalOptions:me,GlobalStates:ge,GlobalObjects:pe}}).call(t,n(14))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){return We("vtkMath::"+e+" - NOT IMPLEMENTED")}}function i(e,t){for(var n=0;n<3;n++){var r=e[n];e[n]=t[n],t[n]=r}}function o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=[];t.length<e;)t.push(0);return t}function s(e){return e/180*Math.PI}function u(e){return 180*e/Math.PI}function l(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=1/0,a=t,i=e.length;a<i;a+=n)e[a]<r&&(r=e[a]);return r}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=-1/0,a=t,i=e.length;a<i;a+=n)r<e[a]&&(r=e[a]);return r}function d(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=1/0,a=-1/0,i=t,o=e.length;i<o;i+=n)e[i]<r&&(r=e[i]),a<e[i]&&(a=e[i]);return[r,a]}function f(e){for(var t=1;t<e;)t*=2;return t}function m(e){return e===f(e)}function g(e,t){for(var n=1,r=1;r<=t;++r)n*=(e-r+1)/r;return Math.floor(n)}function p(e,t){if(e<t)return 0;for(var n=o(t),r=0;r<t;++r)n[r]=r;return n}function v(e,t,n){for(var r=0,a=t-1;a>=0;--a)if(n[a]<e-t+a){for(var i=n[a]+1;a<t;)n[a++]=i++;r=1;break}return r}function h(e){(0,Ue.default)(""+e,{global:!0}),Ye=e}function y(){return Ye}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+((arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)-e)*Math.random()}function S(e,t,n){n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2]}function T(e,t,n){n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2]}function M(e,t){e[0]*=t,e[1]*=t,e[2]*=t}function b(e,t){e[0]*=t,e[1]*=t}function D(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function I(e,t,n){for(var r=0;r<3;r++)for(var a=0;a<3;a++)n[r][a]=e[r]*t[a]}function w(e,t,n){var r=e[1]*t[2]-e[2]*t[1],a=e[2]*t[0]-e[0]*t[2],i=e[0]*t[1]-e[1]*t[0];n[0]=r,n[1]=a,n[2]=i}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;switch(t){case 1:return Math.abs(e);case 2:return Math.sqrt(e[0]*e[0]+e[1]*e[1]);case 3:return Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);default:for(var n=0,r=0;r<t;r++)n+=e[r]*e[r];return Math.sqrt(n)}}function N(e){var t=C(e);return 0!==t&&(e[0]/=t,e[1]/=t,e[2]/=t),t}function P(e,t,n,r){var a=e[0]*e[0],i=e[1]*e[1],o=e[2]*e[2],s=Math.sqrt(a+i+o),u=void 0,l=void 0,c=void 0;a>i&&a>o?(u=0,l=1,c=2):i>o?(u=1,l=2,c=0):(u=2,l=0,c=1);var d=e[u]/s,f=e[l]/s,m=e[c]/s,g=Math.sqrt(d*d+m*m);if(0!==r){var p=Math.sin(r),v=Math.cos(r);t&&(t[u]=(m*v-d*f*p)/g,t[l]=p*g,t[c]=(-d*v-f*m*p)/g),n&&(n[u]=(-m*p-d*f*v)/g,n[l]=v*g,n[c]=(d*p-f*m*v)/g)}else t&&(t[u]=m/g,t[l]=0,t[c]=-d/g),n&&(n[u]=-d*f/g,n[l]=g,n[c]=-f*m/g)}function x(e,t,n){var r=D(t,t);if(0===r)return n[0]=0,n[1]=0,n[2]=0,!1;for(var a=D(e,t)/r,i=0;i<3;i++)n[i]=t[i];return M(n,a),!0}function E(e,t){return e[0]*t[0]+e[1]*t[1]}function O(e,t,n){var r=E(t,t);if(0===r)return n[0]=0,n[1]=0,!1;for(var a=E(e,t)/r,i=0;i<2;i++)n[i]=t[i];return b(n,a),!0}function L(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])+(e[2]-t[2])*(e[2]-t[2])}function _(e,t){var n=[0,0,0];return w(e,t,n),Math.atan2(C(n),D(e,t))}function R(e,t,n){var r=Math.abs(e-n);return 1/Math.sqrt(2*Math.PI*t)*Math.exp(-Math.pow(r,2)/(2*t))}function k(e,t,n){var r=Math.abs(e-n);return Math.exp(-Math.pow(r,2)/(2*t))}function B(e,t,n){for(var r=0;r<2;r++)for(var a=0;a<2;a++)n[r][a]=e[r]*t[a]}function V(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function F(e){var t=V(e);return 0!==t&&(e[0]/=t,e[1]/=t),t}function j(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 2===t.length?t[0][0]*t[1][1]-t[1][0]*t[0][1]:4===t.length?t[0]*t[3]-t[1]*t[2]:Number.NaN}function U(e,t){for(var n=void 0,r=void 0,a=void 0,o=[0,0,0],s=0;s<3;s++)a=Math.abs(e[s][0]),(r=Math.abs(e[s][1]))>a&&(a=r),(r=Math.abs(e[s][2]))>a&&(a=r),o[s]=1/a;a=o[0]*Math.abs(e[0][0]),n=0,(r=o[1]*Math.abs(e[1][0]))>=a&&(a=r,n=1),(r=o[2]*Math.abs(e[2][0]))>=a&&(n=2),0!==n&&(i(e[n],e[0]),o[n]=o[0]),t[0]=n,e[1][0]/=e[0][0],e[2][0]/=e[0][0],e[1][1]-=e[1][0]*e[0][1],e[2][1]-=e[2][0]*e[0][1],a=o[1]*Math.abs(e[1][1]),n=1,(r=o[2]*Math.abs(e[2][1]))>=a&&(n=2,i(e[2],e[1]),o[2]=o[1]),t[1]=n,e[2][1]/=e[1][1],e[1][2]-=e[1][0]*e[0][2],e[2][2]-=e[2][0]*e[0][2]+e[2][1]*e[1][2],t[2]=2}function z(e,t,n){var r=n[t[0]];n[t[0]]=n[0],n[0]=r,r=n[t[1]],n[t[1]]=n[1],n[1]=r-e[1][0]*n[0],r=n[t[2]],n[t[2]]=n[2],n[2]=r-e[2][0]*n[0]-e[2][1]*n[1],n[2]/=e[2][2],n[1]=(n[1]-e[1][2]*n[2])/e[1][1],n[0]=(n[0]-e[0][1]*n[1]-e[0][2]*n[2])/e[0][0]}function G(e,t,n){var r=e[0][0],a=e[0][1],i=e[0][2],o=e[1][0],s=e[1][1],u=e[1][2],l=e[2][0],c=e[2][1],d=e[2][2],f=+j(s,c,u,d),m=-j(o,l,u,d),g=+j(o,l,s,c),p=-j(a,c,i,d),v=+j(r,l,i,d),h=-j(r,l,a,c),y=+j(a,s,i,u),A=-j(r,o,i,u),S=+j(r,o,a,s),T=r*f+a*m+i*g,M=f*t[0]+p*t[1]+y*t[2],b=m*t[0]+v*t[1]+A*t[2],D=g*t[0]+h*t[1]+S*t[2];n[0]=M/T,n[1]=b/T,n[2]=D/T}function W(e,t,n){var r=e[0][0]*t[0]+e[0][1]*t[1]+e[0][2]*t[2],a=e[1][0]*t[0]+e[1][1]*t[1]+e[1][2]*t[2],i=e[2][0]*t[0]+e[2][1]*t[1]+e[2][2]*t[2];n[0]=r,n[1]=a,n[2]=i}function Q(e,t,n){for(var r=[[0,0,0],[0,0,0],[0,0,0]],a=0;a<3;a++)r[0][a]=e[0][0]*t[0][a]+e[0][1]*t[1][a]+e[0][2]*t[2][a],r[1][a]=e[1][0]*t[0][a]+e[1][1]*t[1][a]+e[1][2]*t[2][a],r[2][a]=e[2][0]*t[0][a]+e[2][1]*t[1][a]+e[2][2]*t[2][a];for(var i=0;i<3;i++)n[i][0]=r[i][0],n[i][1]=r[i][1],n[i][2]=r[i][2]}function Y(e,t,n,r,a,i,o){r!==a&&We("Number of columns of A must match number of rows of B.");for(var s=0;s<n;s++)for(var u=0;u<i;u++){o[s][u]=0;for(var l=0;l<r;l++)o[s][u]+=e[s][l]*t[l][u]}}function q(e,t){var n=void 0;n=e[1][0],t[1][0]=e[0][1],t[0][1]=n,n=e[2][0],t[2][0]=e[0][2],t[0][2]=n,n=e[2][1],t[2][1]=e[1][2],t[1][2]=n,t[0][0]=e[0][0],t[1][1]=e[1][1],t[2][2]=e[2][2]}function H(e,t){var n=e[0][0],r=e[0][1],a=e[0][2],i=e[1][0],o=e[1][1],s=e[1][2],u=e[2][0],l=e[2][1],c=e[2][2],d=+j(o,l,s,c),f=-j(i,u,s,c),m=+j(i,u,o,l),g=-j(r,l,a,c),p=+j(n,u,a,c),v=-j(n,u,r,l),h=+j(r,o,a,s),y=-j(n,i,a,s),A=+j(n,i,r,o),S=n*d+r*f+a*m;t[0][0]=d/S,t[1][0]=f/S,t[2][0]=m/S,t[0][1]=g/S,t[1][1]=p/S,t[2][1]=v/S,t[0][2]=h/S,t[1][2]=y/S,t[2][2]=A/S}function Z(e){for(var t=0;t<3;t++)e[t][0]=e[t][1]=e[t][2]=0,e[t][t]=1}function K(e){return e[0][0]*e[1][1]*e[2][2]+e[1][0]*e[2][1]*e[0][2]+e[2][0]*e[0][1]*e[1][2]-e[0][0]*e[2][1]*e[1][2]-e[1][0]*e[0][1]*e[2][2]-e[2][0]*e[1][1]*e[0][2]}function X(e,t){var n=e[0]*e[0],r=e[0]*e[1],a=e[0]*e[2],i=e[0]*e[3],o=e[1]*e[1],s=e[2]*e[2],u=e[3]*e[3],l=e[1]*e[2],c=e[1]*e[3],d=e[2]*e[3],f=o+s+u,m=1/(n+f),g=(n-f)*m;m*=2,t[0][0]=o*m+g,t[1][0]=(l+i)*m,t[2][0]=(c-a)*m,t[0][1]=(l-i)*m,t[1][1]=s*m+g,t[2][1]=(d+r)*m,t[0][2]=(c+a)*m,t[1][2]=(d-r)*m,t[2][2]=u*m+g}function J(e,t){function n(e,n){return e===t[n]}return!e.length!==t.length&&e.every(n)}function $(e,t,n,r){var a=void 0,i=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,m=void 0,g=void 0,p=void 0,v=void 0,h=void 0,y=void 0,A=void 0,S=void 0,T=o(t),M=o(t),b=function(e,t,n,r,a){y=e[t][n],h=e[r][a],e[t][n]=y-v*(h+y*g),e[r][a]=h+v*(y-h*g)};for(l=0;l<t;l++){for(u=0;u<t;u++)r[l][u]=0;r[l][l]=1}for(l=0;l<t;l++)T[l]=n[l]=e[l][l],M[l]=0;for(a=0;a<qe;a++){for(p=0,l=0;l<t-1;l++)for(u=l+1;u<t;u++)p+=Math.abs(e[l][u]);if(0===p)break;for(d=a<3?.2*p/(t*t):0,l=0;l<t-1;l++)for(u=l+1;u<t;u++)if(y=100*Math.abs(e[l][u]),a>3&&Math.abs(n[l])+y===Math.abs(n[l])&&Math.abs(n[u])+y===Math.abs(n[u]))e[l][u]=0;else if(Math.abs(e[l][u])>d){for(h=n[u]-n[l],Math.abs(h)+y===Math.abs(h)?m=e[l][u]/h:(f=.5*h/e[l][u],m=1/(Math.abs(f)+Math.sqrt(1+f*f)),f<0&&(m=-m)),A=1/Math.sqrt(1+m*m),v=m*A,g=v/(1+A),h=m*e[l][u],M[l]-=h,M[u]+=h,n[l]-=h,n[u]+=h,e[l][u]=0,i=0;i<=l-1;i++)b(e,i,l,i,u);for(i=l+1;i<=u-1;i++)b(e,l,i,i,u);for(i=u+1;i<t;i++)b(e,l,i,u,i);for(i=0;i<t;i++)b(r,i,l,i,u)}for(l=0;l<t;l++)T[l]+=M[l],n[l]=T[l],M[l]=0}if(a>=qe)return Qe("vtkMath::Jacobi: Error extracting eigenfunctions"),0;for(i=0;i<t-1;i++){for(s=i,S=n[s],a=i+1;a<t;a++)n[a]>=S&&(s=a,S=n[s]);if(s!==i)for(n[s]=n[i],n[i]=S,a=0;a<t;a++)S=r[a][i],r[a][i]=r[a][s],r[a][s]=S}var D=(t>>1)+(1&t);for(i=0;i<t;i++){for(c=0,a=0;a<t;a++)r[a][i]>=0&&c++;if(c<D)for(a=0;a<t;a++)r[a][i]*=-1}return 1}function ee(e,t){var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];n[0][0]=e[0][0]+e[1][1]+e[2][2],n[1][1]=e[0][0]-e[1][1]-e[2][2],n[2][2]=-e[0][0]+e[1][1]-e[2][2],n[3][3]=-e[0][0]-e[1][1]+e[2][2],n[0][1]=n[1][0]=e[2][1]-e[1][2],n[0][2]=n[2][0]=e[0][2]-e[2][0],n[0][3]=n[3][0]=e[1][0]-e[0][1],n[1][2]=n[2][1]=e[1][0]+e[0][1],n[1][3]=n[3][1]=e[0][2]+e[2][0],n[2][3]=n[3][2]=e[2][1]+e[1][2];for(var r=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],a=[0,0,0,0],i=[0,0,0,0],o=[0,0,0,0],s=0;s<4;s++)i[s]=n[s],o[s]=r[s];$(i,4,a,o),t[0]=r[0][0],t[1]=r[1][0],t[2]=r[2][0],t[3]=r[3][0]}function te(e,t,n){var r=e[0]*t[0],a=e[0]*t[1],i=e[0]*t[2],o=e[0]*t[3],s=e[1]*t[0],u=e[1]*t[1],l=e[1]*t[2],c=e[1]*t[3],d=e[2]*t[0],f=e[2]*t[1],m=e[2]*t[2],g=e[2]*t[3],p=e[3]*t[0],v=e[3]*t[1],h=e[3]*t[2],y=e[3]*t[3];n[0]=r-u-m-y,n[1]=a+s+g-h,n[2]=i-c+d+v,n[3]=o+l-f+p}function ne(e,t){for(var n=0;n<3;n++)t[0][n]=e[0][n],t[1][n]=e[1][n],t[2][n]=e[2][n];for(var r=o(3),a=o(3),s=void 0,u=0;u<3;u++){var l=Math.abs(t[u][0]),c=Math.abs(t[u][1]),d=Math.abs(t[u][2]);s=c>l?c:l,s=d>s?d:s,r[u]=1,0!==s&&(r[u]/=s)}var f=Math.abs(t[0][0])*r[0],m=Math.abs(t[1][0])*r[1],g=Math.abs(t[2][0])*r[2];a[0]=0,s=f,m>=s&&(s=m,a[0]=1),g>=s&&(a[0]=2),0!==a[0]&&(i(t[a[0]],t[0]),r[a[0]]=r[0]);var p=Math.abs(t[1][1])*r[1],v=Math.abs(t[2][1])*r[2];a[1]=1,s=p,v>=s&&(a[1]=2,i(t[2],t[1])),a[2]=2;var h=0;if(K(t)<0){h=1;for(var y=0;y<3;y++)t[0][y]=-t[0][y],t[1][y]=-t[1][y],t[2][y]=-t[2][y]}var A=o(4);if(ee(t,A),X(A,t),h)for(var S=0;S<3;S++)t[0][S]=-t[0][S],t[1][S]=-t[1][S],t[2][S]=-t[2][S];1!==a[1]&&i(t[a[1]],t[1]),0!==a[0]&&i(t[a[0]],t[0])}function re(e,t,n){var r=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=[o(3),o(3),o(3)],f=o(3),m=o(3);for(r=0;r<3;r++)d[r][0]=e[r][0],d[r][1]=e[r][1],d[r][2]=e[r][2],f[r]=d[r],m[r]=n[r];if($(f,3,t,m),t[0]===t[1]&&t[0]===t[2])return void Z(n);for(q(n,n),r=0;r<3;r++)if(t[(r+1)%3]===t[(r+2)%3]){for(c=Math.abs(n[r][0]),u=0,a=1;a<3;a++)c<(l=Math.abs(n[r][a]))&&(c=l,u=a);return u!==r&&(l=t[u],t[u]=t[r],t[r]=l,i(n[r],n[u])),n[u][u]<0&&(n[u][0]=-n[u][0],n[u][1]=-n[u][1],n[u][2]=-n[u][2]),a=(u+1)%3,s=(u+2)%3,n[a][0]=0,n[a][1]=0,n[a][2]=0,n[a][a]=1,w(n[u],n[a],n[s]),N(n[s]),w(n[s],n[u],n[a]),void q(n,n)}for(c=Math.abs(n[0][0]),u=0,r=1;r<3;r++)c<(l=Math.abs(n[r][0]))&&(c=l,u=r);for(0!==u&&(l=t[u],t[u]=t[0],t[0]=l,i(n[u],n[0])),Math.abs(n[1][1])<Math.abs(n[2][1])&&(l=t[2],t[2]=t[1],t[1]=l,i(n[2],n[1])),r=0;r<2;r++)n[r][r]<0&&(n[r][0]=-n[r][0],n[r][1]=-n[r][1],n[r][2]=-n[r][2]);K(n)<0&&(n[2][0]=-n[2][0],n[2][1]=-n[2][1],n[2][2]=-n[2][2]),q(n,n)}function ae(e,t,n,r){var a=void 0,i=[o(3),o(3),o(3)];for(a=0;a<3;a++)i[0][a]=e[0][a],i[1][a]=e[1][a],i[2][a]=e[2][a];var s=K(i);if(s<0)for(a=0;a<3;a++)i[0][a]=-i[0][a],i[1][a]=-i[1][a],i[2][a]=-i[2][a];ne(i,t),q(i,i),Q(i,t,r),re(r,n,r),Q(t,r,t),q(r,r),s<0&&(n[0]=-n[0],n[1]=-n[1],n[2]=-n[2])}function ie(e,t,n){var r=void 0,a=void 0,i=void 0,s=void 0,u=0,l=void 0,c=void 0,d=void 0,f=o(n);for(r=0;r<n;r++){for(s=0,a=0;a<n;a++)(d=Math.abs(e[r][a]))>s&&(s=d);if(0===s)return Qe("Unable to factor linear system"),0;f[r]=1/s}for(a=0;a<n;a++){for(r=0;r<a;r++){for(l=e[r][a],i=0;i<r;i++)l-=e[r][i]*e[i][a];e[r][a]=l}for(s=0,r=a;r<n;r++){for(l=e[r][a],i=0;i<a;i++)l-=e[r][i]*e[i][a];e[r][a]=l,(c=f[r]*Math.abs(l))>=s&&(s=c,u=r)}if(a!==u){for(i=0;i<n;i++)c=e[u][i],e[u][i]=e[a][i],e[a][i]=c;f[u]=f[a]}if(t[a]=u,Math.abs(e[a][a])<=He)return Qe("Unable to factor linear system"),0;if(a!==n-1)for(c=1/e[a][a],r=a+1;r<n;r++)e[r][a]*=c}return 1}function oe(e,t,n,r){var a=void 0,i=void 0,o=void 0,s=void 0,u=void 0;for(o=-1,a=0;a<r;a++){if(s=t[a],u=n[s],n[s]=n[a],o>=0)for(i=o;i<=a-1;i++)u-=e[a][i]*n[i];else 0!==u&&(o=a);n[a]=u}for(a=r-1;a>=0;a--){for(u=n[a],i=a+1;i<r;i++)u-=e[a][i]*n[i];n[a]=u/e[a][a]}}function se(e,t,n){if(2===n){var r=o(2),a=j(e[0][0],e[0][1],e[1][0],e[1][1]);return 0===a?0:(r[0]=(e[1][1]*t[0]-e[0][1]*t[1])/a,r[1]=(-e[1][0]*t[0]+e[0][0]*t[1])/a,t[0]=r[0],t[1]=r[1],1)}if(1===n)return 0===e[0][0]?0:(t[0]/=e[0][0],1);var i=o(n);return 0===ie(e,i,n)?0:(oe(e,i,t,n),1)}function ue(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=r||o(n),s=a||o(n);if(0===ie(e,i,n,s))return 0;for(var u=0;u<n;u++){for(var l=0;l<n;l++)s[l]=0;s[u]=1,oe(e,i,s,n);for(var c=0;c<n;c++)t[c][u]=s[c]}return 1}function le(e,t){for(var n=+Number.MAX_VALUE,r=-Number.MAX_VALUE,a=0;a<t;a++)for(var i=a;i<t;i++)Math.abs(e[a][i])>et&&(r=Math.abs(e[a][i]));for(var o=0;o<t;o++)Math.abs(e[o][o])<$e&&(n=Math.abs(e[o][o]));return 0===n?Number.MAX_VALUE:r/n}function ce(e,t,n){return $(e,3,t,n)}function de(e,t,n,r){if(e<n)return Qe("Insufficient number of samples. Underdetermined."),0;var a=void 0,i=void 0,s=void 0,u=o(n),l=o(n),c=o(n);for(a=0;a<n;a++)for(c[a]=o(n),u[a]=o(n),i=0;i<n;i++)u[a][i]=0;for(s=0;s<e;s++)for(a=0;a<n;a++)for(i=a;i<n;i++)u[a][i]+=t[s][a]*t[s][i];for(a=0;a<n;a++)for(i=0;i<a;i++)u[a][i]=u[i][a];for($(u,n,l,c),a=0;a<n;a++)r[a][0]=c[a][n-1];return 1}function fe(e,t,n,r,a,i){var s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];if(e<n||e<a)return Qe("Insufficient number of samples. Underdetermined."),0;var u=o(a),l=1,c=void 0,d=0,f=void 0,m=void 0,g=void 0,p=0;if(s){for(m=0;m<a;m++)u[m]=1;for(f=0;f<e;f++)for(m=0;m<a;m++)Math.abs(r[f][m])>He&&(l=0,u[m]=0);if(l&&1===a)return Qe("Detected homogeneous system (Y=0), calling SolveHomogeneousLeastSquares()"),de(e,t,n,i);if(l)p=1;else for(m=0;m<a;m++)u[m]&&(p=1)}if(p){for(c=o(n),m=0;m<n;m++)c[m]=[0];d=de(e,t,n,c)}var v=o(n),h=o(n),y=o(n);for(f=0;f<n;f++){for(v[f]=o(n),h[f]=o(n),m=0;m<n;m++)v[f][m]=0,h[f][m]=0;for(y[f]=o(a),m=0;m<a;m++)y[f][m]=0}for(g=0;g<e;g++)for(f=0;f<n;f++){for(m=f;m<n;m++)v[f][m]+=t[g][f]*t[g][m];for(m=0;m<a;m++)y[f][m]+=t[g][f]*r[g][m]}for(f=0;f<n;f++)for(m=0;m<f;m++)v[f][m]=v[m][f];var A=ue(v,h,n);if(A)for(f=0;f<n;f++)for(m=0;m<a;m++)for(i[f][m]=0,g=0;g<n;g++)i[f][m]+=h[f][g]*y[g][m];if(p)for(m=0;m<a;m++)if(u[m])for(f=0;f<n;f++)i[f][m]=c[f][0];return p?d&&A:A}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,.5,1];switch(e.length){case 3:return t[0]=17*parseInt(e[0],16)/255,t[1]=17*parseInt(e[1],16)/255,t[2]=17*parseInt(e[2],16)/255,t;case 4:return t[0]=17*parseInt(e[1],16)/255,t[1]=17*parseInt(e[2],16)/255,t[2]=17*parseInt(e[3],16)/255,t;case 6:return t[0]=parseInt(e.substr(0,2),16)/255,t[1]=parseInt(e.substr(2,2),16)/255,t[2]=parseInt(e.substr(4,2),16)/255,t;case 7:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t;case 9:return t[0]=parseInt(e.substr(1,2),16)/255,t[1]=parseInt(e.substr(3,2),16)/255,t[2]=parseInt(e.substr(5,2),16)/255,t[3]=parseInt(e.substr(7,2),16)/255,t;default:return t}}function ge(e,t){var n=void 0,r=void 0,a=Fe(e,3),i=a[0],o=a[1],s=a[2],u=i,l=i;o>u?u=o:o<l&&(l=o),s>u?u=s:s<l&&(l=s);var c=u;r=c>0?(u-l)/u:0,r>0?(n=i===u?1/6*(o-s)/(u-l):o===u?1/3+1/6*(s-i)/(u-l):2/3+1/6*(i-o)/(u-l))<0&&(n+=1):n=0,t[0]=n,t[1]=r,t[2]=c}function pe(e,t){var n=Fe(e,3),r=n[0],a=n[1],i=n[2],o=void 0,s=void 0,u=void 0;r>1/6&&r<=1/3?(s=1,o=(1/3-r)/(1/6),u=0):r>1/3&&r<=.5?(s=1,u=(r-1/3)/(1/6),o=0):r>.5&&r<=2/3?(u=1,s=(2/3-r)/(1/6),o=0):r>2/3&&r<=5/6?(u=1,o=(r-2/3)/(1/6),s=0):r>5/6&&r<=1?(o=1,u=(1-r)/(1/6),s=0):(o=1,s=r/(1/6),u=0),o=a*o+(1-a),s=a*s+(1-a),u=a*u+(1-a),o*=i,s*=i,u*=i,t[0]=o,t[1]=s,t[2]=u}function ve(e,t){var n=Fe(e,3),r=n[0],a=n[1],i=n[2],o=(r+16)/116,s=a/500+o,u=o-i/200;o=Math.pow(o,3)>.008856?Math.pow(o,3):(o-16/116)/7.787,s=Math.pow(s,3)>.008856?Math.pow(s,3):(s-16/116)/7.787,u=Math.pow(u,3)>.008856?Math.pow(u,3):(u-16/116)/7.787,t[0]=.9505*s,t[1]=1*o,t[2]=1.089*u}function he(e,t){var n=Fe(e,3),r=n[0],a=n[1],i=n[2],o=r/.9505,s=a/1,u=i/1.089;o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,t[0]=116*s-16,t[1]=500*(o-s),t[2]=200*(s-u)}function ye(e,t){var n=Fe(e,3),r=n[0],a=n[1],i=n[2],o=3.2406*r+-1.5372*a+-.4986*i,s=-.9689*r+1.8758*a+.0415*i,u=.0557*r+-.204*a+1.057*i;o>.0031308?o=1.055*Math.pow(o,1/2.4)-.055:o*=12.92,s>.0031308?s=1.055*Math.pow(s,1/2.4)-.055:s*=12.92,u>.0031308?u=1.055*Math.pow(u,1/2.4)-.055:u*=12.92;var l=o;l<s&&(l=s),l<u&&(l=u),l>1&&(o/=l,s/=l,u/=l),o<0&&(o=0),s<0&&(s=0),u<0&&(u=0),t[0]=o,t[1]=s,t[2]=u}function Ae(e,t){var n=Fe(e,3),r=n[0],a=n[1],i=n[2];r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,a>.04045?a=Math.pow((a+.055)/1.055,2.4):a/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,t[0]=.4124*r+.3576*a+.1805*i,t[1]=.2126*r+.7152*a+.0722*i,t[2]=.0193*r+.1192*a+.9505*i}function Se(e,t){var n=[0,0,0];Ae(e,n),he(n,t)}function Te(e,t){var n=[0,0,0];ve(e,n),ye(n,t)}function Me(e){e[0]=1,e[1]=-1,e[2]=1,e[3]=-1,e[4]=1,e[5]=-1}function be(e){return!(e[1]-e[0]<0)}function De(e,t,n){n[0]=Math.min(e[0],t[0]),n[1]=Math.max(e[0],t[0]),n[2]=Math.min(e[1],t[1]),n[3]=Math.max(e[1],t[1]),n[4]=Math.min(e[2],t[2]),n[5]=Math.max(e[2],t[2])}function Ie(e,t,n){return e<t?t:e>n?n:e}function we(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return r[0]=Ie(e[0],t[0],n[0]),r[1]=Ie(e[1],t[1],n[1]),r[2]=Ie(e[2],t[2],n[2]),r}function Ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function Ne(e,t){var n=0;return t[0]!==t[1]&&(n=e<t[0]?t[0]:e>t[1]?t[1]:e,n=(n-t[0])/(t[1]-t[0])),n}function Pe(e,t){if(!e||!t)return 0;for(var n=0;n<6;n+=2)if(e[n]<t[n]||e[n]>t[n+1]||e[n+1]<t[n]||e[n+1]>t[n+1])return 0;return 1}function xe(e,t,n){if(!e||!t)return 0;for(var r=0;r<6;r+=2)if(e[r]+n[r/2]<t[r]||e[r]-n[r/2]>t[r+1]||e[r+1]+n[r/2]<t[r]||e[r+1]-n[r/2]>t[r+1])return 0;return 1}function Ee(e,t,n){if(!e||!t||!n)return 0;for(var r=0;r<3;r++)if(e[r]+n[r]<t[2*r]||e[r]-n[r]>t[2*r+1])return 0;return 1}function Oe(e,t,n,r){for(var a=o(3),i=o(3),s=o(3),u=o(3),l=o(3),c=o(3),d=0;d<3;++d)a[d]=e[d]-t[d],i[d]=t[d]-n[d],s[d]=n[d]-e[d],u[d]=-a[d],l[d]=-i[d],c[d]=-s[d];var f=C(u),m=C(l),g=C(s),p=o(3);w(a,i,p);for(var v=C(p),h=f*m*g/(2*v),y=2*v*v,A=m*m*D(a,c)/y,S=g*g*D(u,i)/y,T=f*f*D(s,l)/y,M=0;M<3;++M)r[M]=A*e[M]+S*t[M]+T*n[M];return h}function Le(){return[].concat([Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE])}function _e(e){for(var t=-1,n=-1,r=0;r<e.length;r++){var a=Math.abs(e[r]);a>t&&(n=r,t=a)}return n}function Re(e){var t=Math.floor(255*e);return t>15?t.toString(16):"0"+t.toString(16)}function ke(e){return""+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#")+e.map(Re).join("")}function Be(e){return Math.round(255*e)}function Ve(e){return 3===e.length?"rgb("+e.map(Be).join(", ")+")":"rgba("+Be(e[0]||0)+", "+Be(e[1]||0)+", "+Be(e[2]||0)+", "+(e[3]||0)+")"}Object.defineProperty(t,"__esModule",{value:!0}),t.isNan=t.isNaN=t.isFinite=t.isInf=t.negInf=t.inf=t.getAdjustedScalarRange=t.getScalarTypeFittingRange=t.gaussian=t.factorial=t.ceilLog2=t.max=t.min=t.ceil=t.floor=t.round=t.Pi=void 0;var Fe=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.radiansFromDegrees=s,t.degreesFromRadians=u,t.arrayMin=l,t.arrayMax=c,t.arrayRange=d,t.nearestPowerOfTwo=f,t.isPowerOfTwo=m,t.binomial=g,t.beginCombination=p,t.nextCombination=v,t.randomSeed=h,t.getSeed=y,t.random=A,t.add=S,t.subtract=T,t.multiplyScalar=M,t.multiplyScalar2D=b,t.dot=D,t.outer=I,t.cross=w,t.norm=C,t.normalize=N,t.perpendiculars=P,t.projectVector=x,t.dot2D=E,t.projectVector2D=O,t.distance2BetweenPoints=L,t.angleBetweenVectors=_,t.gaussianAmplitude=R,t.gaussianWeight=k,t.outer2D=B,t.norm2D=V,t.normalize2D=F,t.determinant2x2=j,t.LUFactor3x3=U,t.LUSolve3x3=z,t.linearSolve3x3=G,t.multiply3x3_vect3=W,t.multiply3x3_mat3=Q,t.multiplyMatrix=Y,t.transpose3x3=q,t.invert3x3=H,t.identity3x3=Z,t.determinant3x3=K,t.quaternionToMatrix3x3=X,t.areMatricesEqual=J,t.jacobiN=$,t.matrix3x3ToQuaternion=ee,t.multiplyQuaternion=te,t.orthogonalize3x3=ne,t.diagonalize3x3=re,t.singularValueDecomposition3x3=ae,t.luFactorLinearSystem=ie,t.luSolveLinearSystem=oe,t.solveLinearSystem=se,t.invertMatrix=ue,t.estimateMatrixCondition=le,t.jacobi=ce,t.solveHomogeneousLeastSquares=de,t.solveLeastSquares=fe,t.hex2float=me,t.rgb2hsv=ge,t.hsv2rgb=pe,t.lab2xyz=ve,t.xyz2lab=he,t.xyz2rgb=ye,t.rgb2xyz=Ae,t.rgb2lab=Se,t.lab2rgb=Te,t.uninitializeBounds=Me,t.areBoundsInitialized=be,t.computeBoundsFromPoints=De,t.clampValue=Ie,t.clampVector=we,t.roundVector=Ce,t.clampAndNormalizeValue=Ne,t.extentIsWithinOtherExtent=Pe,t.boundsIsWithinOtherBounds=xe,t.pointIsWithinBounds=Ee,t.solve3PointCircle=Oe,t.createUninitializedBounds=Le,t.getMajorAxisIndex=_e,t.floatToHex2=Re,t.floatRGB2HexCode=ke,t.float2CssRGBA=Ve;var je=n(285),Ue=r(je),ze=n(0),Ge=r(ze),We=Ge.default.vtkErrorMacro,Qe=Ge.default.vtkWarningMacro,Ye=0,qe=20,He=1e-12,Ze=t.Pi=function(){return Math.PI},Ke=Math.round,Xe=Math.floor,Je=Math.ceil,$e=Math.min,et=Math.max;t.round=Ke,t.floor=Xe,t.ceil=Je,t.min=$e,t.max=et;var tt=t.ceilLog2=a("ceilLog2"),nt=t.factorial=a("factorial"),rt=t.gaussian=a("gaussian"),at=t.getScalarTypeFittingRange=a("GetScalarTypeFittingRange"),it=t.getAdjustedScalarRange=a("GetAdjustedScalarRange"),ot=t.inf=1/0,st=t.negInf=-1/0,ut=t.isInf=function(e){return!Number.isFinite(e)},lt=Number.isFinite,ct=Number.isNaN;t.isFinite=lt,t.isNaN=ct,t.isNan=ct,t.default={Pi:Ze,radiansFromDegrees:s,degreesFromRadians:u,round:Ke,floor:Xe,ceil:Je,ceilLog2:tt,min:$e,max:et,arrayMin:l,arrayMax:c,arrayRange:d,isPowerOfTwo:m,nearestPowerOfTwo:f,factorial:nt,binomial:g,beginCombination:p,nextCombination:v,randomSeed:h,getSeed:y,random:A,gaussian:rt,add:S,subtract:T,multiplyScalar:M,multiplyScalar2D:b,dot:D,outer:I,cross:w,norm:C,normalize:N,perpendiculars:P,projectVector:x,projectVector2D:O,distance2BetweenPoints:L,angleBetweenVectors:_,gaussianAmplitude:R,gaussianWeight:k,dot2D:E,outer2D:B,norm2D:V,normalize2D:F,determinant2x2:j,LUFactor3x3:U,LUSolve3x3:z,linearSolve3x3:G,multiply3x3_vect3:W,multiply3x3_mat3:Q,multiplyMatrix:Y,transpose3x3:q,invert3x3:H,identity3x3:Z,determinant3x3:K,quaternionToMatrix3x3:X,areMatricesEqual:J,matrix3x3ToQuaternion:ee,multiplyQuaternion:te,orthogonalize3x3:ne,diagonalize3x3:re,singularValueDecomposition3x3:ae,solveLinearSystem:se,invertMatrix:ue,luFactorLinearSystem:ie,luSolveLinearSystem:oe,estimateMatrixCondition:le,jacobi:ce,jacobiN:$,solveHomogeneousLeastSquares:de,solveLeastSquares:fe,hex2float:me,rgb2hsv:ge,hsv2rgb:pe,lab2xyz:ve,xyz2lab:he,xyz2rgb:ye,rgb2xyz:Ae,rgb2lab:Se,lab2rgb:Te,uninitializeBounds:Me,areBoundsInitialized:be,computeBoundsFromPoints:De,clampValue:Ie,clampVector:we,clampAndNormalizeValue:Ne,getScalarTypeFittingRange:at,getAdjustedScalarRange:it,extentIsWithinOtherExtent:Pe,boundsIsWithinOtherBounds:xe,pointIsWithinBounds:Ee,solve3PointCircle:Oe,inf:ot,negInf:st,isInf:ut,isNan:ct,isNaN:ct,isFinite:lt,createUninitializedBounds:Le,getMajorAxisIndex:_e,floatToHex2:Re,floatRGB2HexCode:ke,float2CssRGBA:Ve}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=Number.MAX_VALUE,t=-Number.MAX_VALUE,n=0,r=0;return{add:function(a){e>a&&(e=a),t<a&&(t=a),n++,r+=a},get:function(){return{min:e,max:t,count:n,sum:r,mean:r/n}},getRange:function(){return{min:e,max:t}}}}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=a(),i=e.length,o=0;if(t<0&&n>1){for(var s=0;s<i;s+=n){o=0;for(var u=0;u<n;u++)o+=e[s+u]*e[s+u];o=Math.pow(o,.5),r.add(o)}return r.getRange()}for(var l=t<0?0:t,c=l;c<i;c+=n)r.add(e[c]);return r.getRange()}function o(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e||[];n.length<=t;)n.push(null);return n}function s(e){return Object.prototype.toString.call(e).slice(8,-1)}function u(e){for(var t=e.getNumberOfComponents(),n=0,r=0;r<e.getNumberOfTuples();++r){var a=v.norm(e.getTuple(r),t);a>n&&(n=a)}return n}function l(e,t){function n(){t.ranges=null,e.modified()}t.classHierarchy.push("vtkDataArray"),e.getElementComponentSize=function(){return t.values.BYTES_PER_ELEMENT},e.getComponent=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.values[e*t.numberOfComponents+n]},e.setComponent=function(e,r,a){var i=e*t.numberOfComponents+r;i>t.values.length&&h("vtkDataArray.setComponent: out of range("+i+", "+t.values.length+")"),a!==t.values[i]&&(t.values[i]=a,n())},e.getData=function(){return t.values},e.getSize=function(){return t.values?t.values.length:0},e.getRange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=e<0?t.numberOfComponents:e,r=null;return t.ranges||(t.ranges=o(t.ranges,t.numberOfComponents)),(r=t.ranges[n])?(t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple):(r=i(t.values,e,t.numberOfComponents),t.ranges[n]=r,t.rangeTuple[0]=r.min,t.rangeTuple[1]=r.max,t.rangeTuple)},e.setTuple=function(e,n){var r=e*t.numberOfComponents;r+t.numberOfComponents>t.values.length&&h("vtkDataArray.setTuple: out of range("+r+" + "+t.numberOfComponents+", "+t.values.length+")");for(var a=0;a<t.numberOfComponents;a++)t.values[r+a]=n[a]},e.getTuple=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,r=t.numberOfComponents||1;n.length!==r&&(n.length=r);var a=e*r;if(1===r)n[0]=t.values[a];else if(2===r)n[0]=t.values[a],n[1]=t.values[a+1];else if(3===r)n[0]=t.values[a],n[1]=t.values[a+1],n[2]=t.values[a+2];else if(4===r)n[0]=t.values[a],n[1]=t.values[a+1],n[2]=t.values[a+2],n[3]=t.values[a+3];else for(var i=0;i<r;i++)n[i]=t.values[a+i];return n},e.getTupleLocation=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)*t.numberOfComponents},e.getNumberOfComponents=function(){return t.numberOfComponents},e.getNumberOfValues=function(){return t.values.length},e.getNumberOfTuples=function(){return t.values.length/t.numberOfComponents},e.getDataType=function(){return t.dataType},e.newClone=function(){return b({empty:!0,name:t.name,dataType:t.dataType,numberOfComponents:t.numberOfComponents})},e.getName=function(){return t.name||(e.modified(),t.name="vtkDataArray"+e.getMTime()),t.name},e.setData=function(e,r){t.values=e,t.size=e.length,t.dataType=s(e),r&&(t.numberOfComponents=r),t.size%t.numberOfComponents!=0&&(t.numberOfComponents=1),n()},e.shallowCopy=function(){return b(Object.assign({},t))},e.getState=function(){var n=Object.assign({},t,{vtkClass:e.getClassName()});n.values=Array.from(n.values),delete n.buffer,Object.keys(n).forEach(function(e){n[e]||delete n[e]});var r={};return Object.keys(n).sort().forEach(function(e){r[e]=n[e]}),r.mtime&&delete r.mtime,r},e.setNumberOfTuples=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;e.getNumberOfTuples()!==n&&(t.size=n*r,t.values=new window[t.dataType](t.size),e.setNumberOfComponents(r),e.modified())},e.deepCopy=function(n){if(e!==n){var r=n.get();t.empty=r.empty,t.name=r.name,t.numberOfComponents=r.numberOfComponents,t.dataType=r.dataType,t.size=r.size,t.rangeTuple=r.rangeTuple.concat(),r.ranges?t.ranges=r.ranges.concat():t.ranges=null,r.values?t.values=r.values.slice(0):t.values=null,t.nextTupleId=0,t.nextValueId=0}},e.reset=function(){t.size=0,t.values=new window[t.dataType](t.size),n()},e.interpolateTuple=function(n,r,a,i){if(!a.isA("vtkDataArray"))return void h("Invalid source type");var o=e.getNumberOfComponents();if(a.getNumberOfComponents()!==o)return void h("Number of components do not match: Source: "+a.getNumberOfComponents()+" Dest: "+e.getNumberOfComponents());for(var s=r.getNumberOfIds(),u=r.getIds(),l=t.dataType===A.UNSIGNED_INT||t.dataType===A.INT||t.dataType===A.UNSIGNED_SHORT||t.dataType===A.SHORT,c=0;c<o;++c){for(var d=0,f=0;f<s;++f){var m=u[f];d+=i[f]*a.getComponent(m,c)}var g=d;l&&(g=d>=0?Math.floor(d+.5):Math.floor(d-.5)),e.setComponent(n,c,g)}},e.getValue=function(e){return t.values[e]}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,M,n),!t.empty&&!t.values&&!t.size)throw new TypeError("Cannot create vtkDataArray object without: size > 0, values");t.values?Array.isArray(t.values)&&(t.values=window[t.dataType].from(t.values)):t.values=new window[t.dataType](t.size),t.values&&(t.size=t.values.length,t.dataType=s(t.values)),g.default.obj(e,t),g.default.set(e,t,["name","numberOfComponents"]),g.default.setGet(e,t,["nextTupleId","nextValueId"]),l(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=c;var d=n(5),f=r(d),m=n(0),g=r(m),p=n(1),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),h=g.default.vtkErrorMacro,y=f.default.DefaultDataType,A=f.default.VtkDataTypes,S=[],T=t.STATIC={computeRange:i,createRangeHelper:a,getDataType:s,getMaxNorm:u},M={name:"",numberOfComponents:1,size:0,dataType:y,rangeTuple:[0,0],nextTupleId:0,nextValueId:0},b=t.newInstance=g.default.newInstance(c,"vtkDataArray");t.default=Object.assign({newInstance:b,extend:c},T,f.default)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.vec4=t.vec3=t.vec2=t.quat2=t.quat=t.mat4=t.mat3=t.mat2d=t.mat2=t.glMatrix=void 0;var a=n(23),i=r(a),o=n(297),s=r(o),u=n(298),l=r(u),c=n(160),d=r(c),f=n(161),m=r(f),g=n(162),p=r(g),v=n(299),h=r(v),y=n(300),A=r(y),S=n(163),T=r(S),M=n(164),b=r(M);t.glMatrix=i,t.mat2=s,t.mat2d=l,t.mat3=d,t.mat4=m,t.quat=p,t.quat2=h,t.vec2=A,t.vec3=T,t.vec4=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"numberOfComponents: "+e.getNumberOfComponents()+", numberOfTuples: "+e.getNumberOfTuples()+", size: "+e.get("size").size+", dataType: "+e.getDataType()+"("+e.getData().length+"), name: "+e.getName():e.getNumberOfComponents()+"x"+e.getNumberOfTuples()+"="+e.get("size").size+","+e.getDataType()+"("+e.getData().length+"),"+e.getName()}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.getNumberOfComponents(),r=e.getNumberOfTuples(),a=t<0?r:t;a=a>r?r:a;for(var i="",o=0;o<a;o++){var s=e.getTuple(o);i+="["+o+"]=(";for(var u=0;u<n;u++)i+=u===n-1?s[u]:s[u]+",";i+=o===a-1?")":"), "}return o<r&&(i+=", ..."),i}function o(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.getData(),r="",a=0,i=0;i<n.length;){if(t>=0&&a>=t){r+=", ...";break}var o=n[i];r+="["+a+","+o+"]=(";for(var s=0;s<o;s++)r+=s===o-1?n[i+s+1]:n[i+s+1]+",";a++,i+=o+1,t>=0&&a>=t?r+=")":i>=n.length?r+=")":r+="), "}return r}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.getNumberOfPoints(),r=t<0?n:t;r=r>n?n:r;var a=e.getNumberOfComponents();3!==a&&U("numberOfComponents must be 3 in vtkPoints: "+a);for(var i="",o=0;o<r;o++){var s=e.getPoint(o);i+="["+o+"]=(";for(var u=0;u<a;u++)i+=u===a-1?s[u]:s[u]+",";i+=o===r-1?")":"), "}return o<n&&(i+=", ..."),i}function u(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"],r=e.getNumberOfArrays(),o="",s=0;s<r;s++)!function(r){var s="Unknown";n.forEach(function(t){e["getActive"+t]()===r&&(s=t)});var u=e.getArray(r);o+=s+": ("+r+","+a(u)+") ",o+=s+" data: "+i(u,t)}(s);return o}function l(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],t){var n=(t.getVerts(),t.getLines(),t.getPolys(),t.getStrips(),t.getPoints()),r=(n.getBounds(),t.getBounds(),t.getCellData());r&&(r.getNumberOfArrays(),r.getNumberOfTuples(),r.getNumberOfComponents());var a=t.getPointData();a&&(a.getNumberOfArrays(),a.getNumberOfTuples(),a.getNumberOfComponents());var i=t.getFieldData();i&&(i.getNumberOfArrays(),i.getNumberOfTuples(),i.getNumberOfComponents())}}function c(e,t){if(e&&t){e.reset(),["verts","lines","polys","strips"].forEach(function(n,r){var a=e["get"+p.default.capitalize(n)]();a&&a.reset();var i=t[n];if(i){a||(a=A.default.newInstance()),a.setName(i.name),a.setNumberOfComponents(i.numberOfComponents),1!==i.numberOfComponents&&U("vtkCellArray: invalid numberOfComponents "+i.numberOfComponents),12!==i.dataType&&U("vtkCellArray: invalid dataType "+i.dataType);var o=new Int32Array(i.values);a.setData(o),e["set"+p.default.capitalize(n)](a)}});var n=e.getPoints();if(n&&n.reset(),t.points){n||(n=N.default.newInstance()),n.setName(t.points.name),n.setNumberOfComponents(t.points.numberOfComponents),3!==t.points.numberOfComponents&&U("vtkPoints: invalid numberOfComponents "+t.points.numberOfComponents),10!==t.points.dataType&&11!==t.points.dataType&&U("vtkPoints: invalid dataType "+t.points.dataType);var r=new Float32Array(t.points.values);n.setData(r),e.setPoints(n)}["fieldData","pointData","cellData"].forEach(function(n){var r=e["get"+p.default.capitalize(n)]();r||(r=_.default.newInstance(),e["set"+p.default.capitalize(n)](r)),r.removeAllArrays(),t[n]&&t[n].arrays&&Object.keys(t[n].arrays).forEach(function(e){var a=t[n].arrays[e],i=O.default.newInstance({numberOfComponents:a.numberOfComponents,dataType:R.VtkDataTypes.FLOAT,size:a.values.length});i.setName(a.name),i.setData(new Float32Array(a.values));var o=r.addArray(i);k.AttributeTypes[a.name.toUpperCase()]||U("invalid array name: "+n+"."+e+" "+a.name),"fieldData"!==n&&r.setActiveAttributeByIndex(o,k.AttributeTypes[a.name.toUpperCase()])})})}}function d(e,t){function n(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e){return e.toUpperCase()}).replace(/\s+/g,"")}t.classHierarchy.push("vtkPolyData");var r=Object.assign({},e);e.dumpPolyData=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;l(t,e,n)},e.loadPolyDataJson=function(t){c(e,t)},F.forEach(function(r){e["getNumberOf"+n(r)]=function(){return t[r].getNumberOfCells()},t[r]?t[r]=(0,h.default)(t[r]):t[r]=A.default.newInstance()}),e.getNumberOfCells=function(){return F.reduce(function(e,n){var r=t[n].getNumberOfCells();return r||(r=t[n].getNumberOfCells(!0)),e+r},0)},e.deleteCells=function(){t.links=null,t.cells=null},e.buildCells=function(){t.cells&&e.deleteCells();var n=e.getVerts(),r=e.getLines(),a=e.getPolys(),i=e.getStrips(),o=[],s=[];if(n.getData().length>0)for(var u=n.getData(),l=0,c=0;c<u.length;)l=u[c],s.push(c),o.push(l>1?D.VTKCellTypes.VTK_POLY_VERTEX:D.VTKCellTypes.VTK_VERTEX),c+=l+1;if(r.getData().length>0)for(var d=r.getData(),f=0,m=0,g=0;m<d.length;)f=d[m],1===f&&z("Building VTK_LINE "+g+" with only one point, but VTK_LINE needs at least two points. Check the input."),s.push(m),o.push(f>2?D.VTKCellTypes.VTK_POLY_LINE:D.VTKCellTypes.VTK_LINE),m+=f+1,g++;if(a.getData().length>0)for(var p=a.getData(),v=0,h=0,y=0;h<p.length;)v=p[h],v<3&&z("Building VTK_TRIANGLE "+y+" with less than three points, but VTK_TRIANGLE needs at least three points. Check the input."),s.push(h),3===v?o.push(D.VTKCellTypes.VTK_TRIANGLE):o.push(4===v?D.VTKCellTypes.VTK_QUAD:D.VTKCellTypes.VTK_POLYGON),h+=v+1,y++;if(i.getData().length>0)for(var A=i.getData(),S=0,M=0;M<A.length;)S=A[M],s.push(M),o.push(D.VTKCellTypes.VTK_TRIANGLE_STRIP),M+=S+1;t.cells=T.default.newInstance(),t.cells.setCellTypes(o.length,o,s)},e.getCellType=function(n){return t.cells||e.buildCells(),t.cells.getCellType(n)},e.getCellPoints=function(n,r){t.cells||e.buildCells();var a=t.cells.getCellType(n),i=null;switch(a){case D.VTKCellTypes.VTK_VERTEX:case D.VTKCellTypes.VTK_POLY_VERTEX:i=t.verts;break;case D.VTKCellTypes.VTK_LINE:case D.VTKCellTypes.VTK_POLY_LINE:i=t.lines;break;case D.VTKCellTypes.VTK_TRIANGLE:case D.VTKCellTypes.VTK_QUAD:case D.VTKCellTypes.VTK_POLYGON:i=t.polys;break;case D.VTKCellTypes.VTK_TRIANGLE_STRIP:i=t.strips;break;default:return i=null,r.length=0,0}var o=t.cells.getCellLocation(n);return i.getCell(o,r),a},e.getCellPoints2=function(n,r){t.cells||e.buildCells();var a=t.cells.getCellType(n),i=null;switch(a){case D.VTKCellTypes.VTK_VERTEX:case D.VTKCellTypes.VTK_POLY_VERTEX:i=t.verts;break;case D.VTKCellTypes.VTK_LINE:case D.VTKCellTypes.VTK_POLY_LINE:i=t.lines;break;case D.VTKCellTypes.VTK_TRIANGLE:case D.VTKCellTypes.VTK_QUAD:case D.VTKCellTypes.VTK_POLYGON:i=t.polys;break;case D.VTKCellTypes.VTK_TRIANGLE_STRIP:i=t.strips;break;default:return r.setNumberOfPoints(0),0}var o=t.cells.getCellLocation(n),s=[];i.getCell(o,s),r.setNumberOfPoints(s.length);for(var u=0;u<s.length;u++){var l=t.points.getPoint(s[u]);r.setPoint(u,l[0],l[1],l[2])}return a},e.setCellPoints=function(e,n){var r=t.cells.getCellType(e),a=null;switch(r){case D.VTKCellTypes.VTK_VERTEX:case D.VTKCellTypes.VTK_POLY_VERTEX:a=t.verts;break;case D.VTKCellTypes.VTK_LINE:case D.VTKCellTypes.VTK_POLY_LINE:a=t.lines;break;case D.VTKCellTypes.VTK_TRIANGLE:case D.VTKCellTypes.VTK_QUAD:case D.VTKCellTypes.VTK_POLYGON:a=t.polys;break;case D.VTKCellTypes.VTK_TRIANGLE_STRIP:a=t.strips;break;default:return a=null,n.length=0,0}var i=t.cells.getCellLocation(e);return a.setCell(i,n),r},e.getCellPointsWithIds=function(n,r){r.reset(),t.cells||e.buildCells();var a=[];e.getCellPoints(n,a);var i=a.length;r.insertId(i-1,a[i-1]);for(var o=0;o<i-1;o++)r.setId(o,a[o])},e.getCell=function(n){t.cells||e.buildCells();var r=t.cells.getCellType(n),a=t.cells.getCellLocation(n),i=[],o=b.default.newInstance();switch(r){case D.VTKCellTypes.VTK_VERTEX:case D.VTKCellTypes.VTK_POLY_VERTEX:t.verts.getCell(a,i);break;case D.VTKCellTypes.VTK_LINE:case D.VTKCellTypes.VTK_POLY_LINE:t.lines.getCell(a,i);break;case D.VTKCellTypes.VTK_TRIANGLE:t.polys.getCell(a,i),o=V.default.newInstance();break;case D.VTKCellTypes.VTK_QUAD:case D.VTKCellTypes.VTK_POLYGON:t.polys.getCell(a,i);break;case D.VTKCellTypes.VTK_TRIANGLE_STRIP:t.strips.getCell(a,i);break;default:return o}var s=[],u=N.default.newInstance();s.length=i.length,u.setNumberOfPoints(i.length);for(var l=0;l<i.length;l++){s[l]=i[l];var c=t.points.getPoint(i[l]);u.setPoint(l,c[0],c[1],c[2])}return o.initialize(s.length,s,u),o},e.reverseCell=function(n){t.cells||e.buildCells();var r=t.cells.getCellLocation(n);switch(t.cells.getCellType(n)){case D.VTKCellTypes.VTK_VERTEX:case D.VTKCellTypes.VTK_POLY_VERTEX:t.verts.reverseCell(r);break;case D.VTKCellTypes.VTK_LINE:case D.VTKCellTypes.VTK_POLY_LINE:t.lines.reverseCell(r);break;case D.VTKCellTypes.VTK_TRIANGLE:case D.VTKCellTypes.VTK_QUAD:case D.VTKCellTypes.VTK_POLYGON:t.polys.reverseCell(r);break;case D.VTKCellTypes.VTK_TRIANGLE_STRIP:t.strips.reverseCell(r)}},e.reset=function(){t.verts&&t.verts.reset(),t.lines&&t.lines.reset(),t.polys&&t.polys.reset(),t.strips&&t.strips.reset(),e.deleteLinks(),e.deleteCells()},e.buildLinks=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t.links&&e.deleteLinks(),t.cells||e.buildCells(),t.links=x.default.newInstance(),n>0?t.links.allocate(n):t.links.allocate(e.getNumberOfPoints()),t.links.buildLinks(e)},e.deleteLinks=function(){t.links=null},e.getPointCells=function(n,r){t.links||e.buildLinks(),r.length=0;for(var a=t.links.getNcells(n),i=t.links.getCells(n),o=0;o<a;o++)r.push(i[o])},e.getPointCellsWithIds=function(n,r){t.links||e.buildLinks(),r.reset();for(var a=t.links.getNcells(n),i=t.links.getCells(n),o=0;o<a;o++)r.insertId(o,i[o])},e.deletePoint=function(e){t.links.deletePoint(e)},e.removeCellReference=function(n){var r=[];e.getCellPoints(n,r);for(var a=r.length,i=0;i<a;i++)t.links.removeCellReference(n,r[i])},e.addCellReference=function(n){var r=[];e.getCellPoints(n,r);for(var a=r.length,i=0;i<a;i++)t.links.addCellReference(n,r[i])},e.resizeCellList=function(e,n){t.links.resizeCellList(e,n)},e.insertNextLinkedPoint=function(e){return t.links.insertNextPoint(e)},e.insertNextLinkedPoint=function(e,n){return t.links.insertNextPoint(n),t.points.insertNextPoint(e)},e.insertNextLinkedCell=function(n,r,a){for(var i=e.insertNextCell(n,r,a),o=0;o<r;o++)t.links.resizeCellList(a[o],1),t.links.addCellReference(i,a[o]);return i},e.removeReferenceToCell=function(e,n){t.links.removeCellReference(n,e)},e.addReferenceToCell=function(e,n){t.links.addCellReference(n,e)},e.getCellEdgeNeighbors=function(e,n,r,a){a.reset();for(var i=t.links.getLink(n),o=t.links.getLink(r),s=0;s<i.ncells;s++)if(i.cells[s]!==e)for(var u=0;u<o.ncells;u++)if(i.cells[s]===o.cells[u]){a.insertNextId(i.cells[s]);break}},e.getCellNeighbors=function(n,r,a){t.links||e.buildLinks(),a.reset();for(var i=r.getId(0),o=t.links.getNcells(i),s=t.links.getCells(i),u=r.getNumberOfIds(),l=0;l<o;l++)if(s[l]!==n){for(var c=1,d=1;d<u&&c;d++){i=r.getId(d);for(var f=t.links.getNcells(i),m=t.links.getCells(i),g=0,p=0;p<f;p++)if(s[l]===m[p]){g=1;break}g||(c=0)}c&&a.insertNextId(s[l])}},e.getNumberOfVerts=function(){return t.verts?t.verts.getNumberOfCells():0},e.getNumberOfLines=function(){return t.lines?t.lines.getNumberOfCells():0},e.getNumberOfPolys=function(){return t.polys?t.polys.getNumberOfCells():0},e.getNumberOfStrips=function(){return t.strips?t.strips.getNumberOfCells():0},e.copyStructure=function(e){r.copyStructure(e),t.verts!==e.getVerts()&&(t.verts=e.getVerts()),t.lines!==e.getLines()&&(t.lines=e.getLines()),t.polys!==e.getPolys()&&(t.polys=e.getPolys()),t.strips!==e.getStrips()&&(t.strips=e.getStrips()),t.cells=null,t.links=null},e.getSerialData=function(){var t={},n=e.getPoints();if(n){var r={};t.points=r,r.name=n.getName(),r.numberOfComponents=n.getNumberOfComponents(),n.getDataType()===R.VtkDataTypes.DOUBLE?r.dataType=11:r.dataType=10,r.values=Array.from(n.getData())}return["verts","lines","polys","strips"].forEach(function(n,r){var a=e["get"+p.default.capitalize(n)]();if(!(a.getNumberOfCells()<=0)){var i={};t[n]=i,i.name=a.getName(),i.numberOfComponents=a.getNumberOfComponents(),i.values=Array.from(a.getData())}}),t},e.setSerialData=function(n){if(!n)return!1;e.reset(),["fieldData","pointData","cellData"].forEach(function(e){var r=t[e];r||(r=_.default.newInstance(),t[e]=r),r.removeAllArrays(),n[e]&&Object.keys(n[e]).forEach(function(t){var a=n[e][t],i=O.default.newInstance({numberOfComponents:a.numberOfComponents,dataType:R.VtkDataTypes.FLOAT,size:a.values.length});i.setName(a.name),i.setData(new Float32Array(a.values));var o=r.addArray(i);"fieldData"!==e&&r.setActiveAttributeByIndex(o,k.AttributeTypes[a.name.toUpperCase()])})});var r=e.getPoints();if(r&&r.reset(),n.points){r||(r=N.default.newInstance()),r.setName(n.points.name),r.setNumberOfComponents(n.points.numberOfComponents);var a=new Float32Array(n.points.values);r.setData(a),e.setPoints(r)}return["verts","lines","polys","strips"].forEach(function(r,a){var i=t[r];i&&i.reset();var o=n[r];if(o){i||(i=A.default.newInstance()),i.setName(o.name),i.setNumberOfComponents(o.numberOfComponents);var s=new Int32Array(o.values);i.setData(s),e["set"+p.default.capitalize(r)](i)}}),!0},e.deepCopy=function(n){e!==n&&(r.deepCopy(n),n.getVerts()?(t.verts||(t.verts=A.default.newInstance()),t.verts.deepCopy(n.getVerts())):t.verts=null,n.getLines()?(t.lines||(t.lines=A.default.newInstance()),t.lines.deepCopy(n.getLines())):t.lines=null,n.getPolys()?(t.polys||(t.polys=A.default.newInstance()),t.polys.deepCopy(n.getPolys())):t.polys=null,n.getStrips()?(t.strips||(t.strips=A.default.newInstance()),t.strips.deepCopy(n.getStrips())):t.strips=null,t.cells=null,n.get().cells&&e.buildCells(),t.links=null,n.get().links&&e.buildLinks())},e.initialize=function(){r.initialize(),e.cleanup()},e.cleanup=function(){t.verts=null,t.lines=null,t.polys=null,t.strips=null,t.cells=null,t.links=null},e.toJson=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a={},i=t.verts,o=t.lines,s=t.polys,u=t.strips,l=[i,o,s,u].map(function(e){if(!e)return null;var t=e.getData();return t&&t.length?Array.from(t):null}),c=m(l,4),d=c[0],f=c[1],g=c[2],p=c[3];d&&(a.verts={numberOfComponents:i.getNumberOfComponents(),name:i.getName(),values:d}),f&&(a.lines={numberOfComponents:o.getNumberOfComponents(),name:o.getName(),values:f}),g&&(a.polys={numberOfComponents:s.getNumberOfComponents(),name:s.getName(),values:g}),p&&(a.strips={numberOfComponents:u.getNumberOfComponents(),name:u.getName(),values:p});var v=t.points,h=null;if(v){var y=v.getData();y&&y.length>0&&(h=Array.from(y))}h&&(a.points={numberOfComponents:v.getNumberOfComponents(),dataType:v.getDataType(),name:v.getName(),values:h});var A=e?null:t.fieldData,S=n?null:t.cellData,T=r?null:t.pointData,M=[A,S,T].map(function(e){if(!e)return null;for(var t=[],n=e.getNumberOfArrays(),r=0;r<n;r++)!function(n){var r=e.getArray(n);if(r){var a="";j.forEach(function(t){e["getActive"+t]()===n&&(a=t)});var i=r.getData();if(i&&i.length>0){var o={numberOfComponents:r.getNumberOfComponents(),dataType:r.getDataType(),name:r.getName(),values:Array.from(i),attrType:a};t.push(o)}}}(r);return 0===t.length?null:t}),b=m(M,3),D=b[0],I=b[1],w=b[2];return D&&(a.fieldData={arrays:D}),I&&(a.cellData={arrays:I}),w&&(a.pointData={arrays:w}),a},e.fromJson=function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t.verts&&t.verts.reset(),t.lines&&t.lines.reset(),t.polys&&t.polys.reset(),t.strips&&t.strips.reset(),t.points&&t.points.reset(),[t.fieldData,t.cellData,t.pointData].forEach(function(e){e&&e.removeAllArrays()}),e.modified(),n){if(["verts","lines","polys","strips"].forEach(function(t){if(n[t]&&n[t].values){var r=n[t],a=A.default.newInstance({numberOfComponents:r.numberOfComponents,values:new Uint32Array(r.values),name:r.name});e["set"+p.default.capitalize(t)](a)}}),n.points&&n.points.values){var o=n.points,s=N.default.newInstance({numberOfComponents:o.numberOfComponents,dataType:o.dataType,values:new window[o.dataType](o.values),name:o.name});e.setPoints(s)}var u=[r,a,i];["fieldData","cellData","pointData"].forEach(function(t,r){if(!u[r]){var a=n[t].arrays;if(a)for(var i=0;i<a.length;i++){var o=a[i];if(o.values){var s=O.default.newInstance({numberOfComponents:o.numberOfComponents,dataType:o.dataType,values:new window[o.dataType](o.values),name:o.name}),l=e["get"+p.default.capitalize(t)]();o.attrType?l["set"+p.default.capitalize(o.attrType)](s):l.addArray(s)}}}})}}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,W,n),w.default.extend(e,t,n),p.default.setGet(e,t,["verts","lines","polys","strips"]),d(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0;var m=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.extend=f;var g=n(0),p=r(g),v=n(34),h=r(v),y=n(11),A=r(y),S=n(346),T=r(S),M=n(51),b=r(M),D=n(121),I=n(347),w=r(I),C=n(6),N=r(C),P=n(348),x=r(P),E=n(2),O=r(E),L=n(99),_=r(L),R=n(5),k=n(40),B=n(122),V=r(B),F=["verts","lines","polys","strips"],j=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"],U=p.default.vtkErrorMacro,z=p.default.vtkWarningMacro,G=t.STATIC={dumpDataArray:a,dumpDataArrayData:i,dumpCellArrayData:o,dumpPointsData:s,dumpDataSetAttributes:u,dumpPolyData:l,loadPolyDataJson:c},W={cells:null,links:null},Q=t.newInstance=p.default.newInstance(f,"vtkPolyData");t.default=Object.assign({newInstance:Q,extend:f},G)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.DataTypeByteSize={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},a=t.VtkDataTypes={VOID:"",CHAR:"Int8Array",SIGNED_CHAR:"Int8Array",UNSIGNED_CHAR:"Uint8Array",SHORT:"Int16Array",UNSIGNED_SHORT:"Uint16Array",INT:"Int32Array",UNSIGNED_INT:"Uint32Array",FLOAT:"Float32Array",DOUBLE:"Float64Array"},i=t.DefaultDataType=a.FLOAT;t.default={DefaultDataType:i,DataTypeByteSize:r,VtkDataTypes:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPoints"),e.getNumberOfPoints=e.getNumberOfTuples,e.setNumberOfPoints=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;e.getNumberOfPoints()!==n&&(t.size=n*r,t.values=new window[t.dataType](t.size),e.setNumberOfComponents(r),e.modified())},e.setPoint=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];Array.isArray(r[0])&&m("vtkPoints.setPoint(): xyz[0] is a array!"),3!==t.numberOfComponents&&m("vtkPoints.setPoint(): numberOfComponents = "+t.numberOfComponents);var i=e*t.numberOfComponents;i+t.numberOfComponents>t.values.length&&m("vtkPoints.setPoint(): out of range("+i+" + "+t.numberOfComponents+", "+t.values.length+")");for(var o=0;o<t.numberOfComponents;o++)t.values[i+o]=r[o]},e.getPoint=e.getTuple,e.getBounds=function(){if(3===e.getNumberOfComponents()){var n=e.getRange(0);t.bounds[0]=n[0],t.bounds[1]=n[1];var r=e.getRange(1);t.bounds[2]=r[0],t.bounds[3]=r[1];var a=e.getRange(2);return t.bounds[4]=a[0],t.bounds[5]=a[1],t.bounds}if(2!==e.getNumberOfComponents())return g;var i=e.getRange(0);t.bounds[0]=i[0],t.bounds[1]=i[1];var o=e.getRange(1);return t.bounds[2]=o[0],t.bounds[3]=o[1],t.bounds[4]=0,t.bounds[5]=0,t.bounds},e.getBounds2=function(t){var n=e.getNumberOfPoints();if(!n)return void f.default.uninitializeBounds(t);var r=[];if(3!==e.getNumberOfComponents()){if(2!==e.getNumberOfComponents())return void f.default.uninitializeBounds(t);e.getPoint(0,r),t[0]=r[0],t[1]=r[0],t[2]=r[1],t[3]=r[1],t[4]=0,t[5]=0;for(var a=1;a<n;a++)e.getPoint(a,r),t[0]=r[0]<t[0]?r[0]:t[0],t[1]=r[0]>t[1]?r[0]:t[1],t[2]=r[1]<t[2]?r[1]:t[2],t[3]=r[1]>t[3]?r[1]:t[3]}else{e.getPoint(0,r),t[0]=r[0],t[1]=r[0],t[2]=r[1],t[3]=r[1],t[4]=r[2],t[5]=r[2];for(var i=1;i<n;i++)e.getPoint(i,r),t[0]=r[0]<t[0]?r[0]:t[0],t[1]=r[0]>t[1]?r[0]:t[1],t[2]=r[1]<t[2]?r[1]:t[2],t[3]=r[1]>t[3]?r[1]:t[3],t[4]=r[2]<t[4]?r[2]:t[4],t[5]=r[2]>t[5]?r[2]:t[5]}},e.computeBounds=e.getBounds,e.setNumberOfComponents(t.numberOfComponents<2?3:t.numberOfComponents)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(2),l=r(u),c=n(5),d=n(1),f=r(d),m=s.default.vtkErrorMacro,g=[1,-1,1,-1,1,-1],p={empty:!0,numberOfComponents:3,dataType:c.VtkDataTypes.FLOAT,bounds:[1,-1,1,-1,1,-1]},v=t.newInstance=s.default.newInstance(i,"vtkPoints");t.default={newInstance:v,extend:i}},function(e,t,n){"use strict";function r(e){var t=null;return t=u.uint8array?new Uint8Array(e.length):new Array(e.length),i(e,t)}function a(e){return e}function i(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}function o(e){var n=65536,r=t.getTypeOf(e),a=!0;if("uint8array"===r?a=m.applyCanBeUsed.uint8array:"nodebuffer"===r&&(a=m.applyCanBeUsed.nodebuffer),a)for(;n>1;)try{return m.stringifyByChunk(e,r,n)}catch(e){n=Math.floor(n/2)}return m.stringifyByChar(e)}function s(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}var u=n(33),l=n(236),c=n(93),d=n(459),f=n(58);t.newBlob=function(e,n){t.checkSupport("blob");try{return new Blob(e,{type:n})}catch(t){try{for(var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,a=new r,i=0;i<e.length;i++)a.append(e[i]);return a.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(e,t,n){var r=[],a=0,i=e.length;if(i<=n)return String.fromCharCode.apply(null,e);for(;a<i;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(a,Math.min(a+n,i)))):r.push(String.fromCharCode.apply(null,e.subarray(a,Math.min(a+n,i)))),a+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return u.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return u.nodebuffer&&1===String.fromCharCode.apply(null,c.newBuffer(1)).length}catch(e){return!1}}()}};t.applyFromCharCode=o;var g={};g.string={string:a,array:function(e){return i(e,new Array(e.length))},arraybuffer:function(e){return g.string.uint8array(e).buffer},uint8array:function(e){return i(e,new Uint8Array(e.length))},nodebuffer:function(e){return i(e,c.newBuffer(e.length))}},g.array={string:o,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c.newBuffer(e)}},g.arraybuffer={string:function(e){return o(new Uint8Array(e))},array:function(e){return s(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return c.newBuffer(new Uint8Array(e))}},g.uint8array={string:o,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){var t=new Uint8Array(e.length);return e.length&&t.set(e,0),t.buffer},uint8array:a,nodebuffer:function(e){return c.newBuffer(e)}},g.nodebuffer={string:o,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return g.nodebuffer.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:a},t.transformTo=function(e,n){if(n||(n=""),!e)return n;t.checkSupport(e);var r=t.getTypeOf(n);return g[r][e](n)},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":u.nodebuffer&&c.isBuffer(e)?"nodebuffer":u.uint8array&&e instanceof Uint8Array?"uint8array":u.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!u[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)t=e.charCodeAt(n),r+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return r},t.delay=function(e,t,n){d(function(){e.apply(n||null,t||[])})},t.inherits=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n},t.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},t.prepareContent=function(e,n,a,i,o){return f.Promise.resolve(n).then(function(e){return u.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new f.Promise(function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)}):e}).then(function(n){var s=t.getTypeOf(n);return s?("arraybuffer"===s?n=t.transformTo("uint8array",n):"string"===s&&(o?n=l.decode(n):a&&!0!==i&&(n=r(n))),n):f.Promise.reject(new Error("The data of '"+e+"' is in an unsupported format !"))})}},function(e,t,n){"use strict";(function(e){function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=i.prototype):(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return o(this,e,t,n)}function o(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,n,r):"string"==typeof t?c(e,t,n):m(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return s(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}function l(e,t){if(s(t),e=a(e,t<0?0:0|g(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function c(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(t,n);e=a(e,r);var o=e.write(t,n);return o!==r&&(e=e.slice(0,o)),e}function d(e,t){var n=t.length<0?0:0|g(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=i.prototype):e=d(e,t),e}function m(e,t){if(i.isBuffer(t)){var n=0|g(t.length);return e=a(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||Z(t.length)?a(e,0):d(e,t);if("Buffer"===t.type&&J(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function p(e){return+e!=e&&(e=0),i.alloc(+e)}function v(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return W(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return x(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function A(e,t,n,r,a){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:S(e,t,n,r,a);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):S(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function S(e,t,n,r,a){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}var l;if(a){var c=-1;for(l=n;l<s;l++)if(i(e,l)===i(t,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*o}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var d=!0,f=0;f<u;f++)if(i(e,l+f)!==i(t,f)){d=!1;break}if(d)return l}return-1}function T(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[n+o]=s}return o}function M(e,t,n,r){return H(W(t,e.length-n),e,n,r)}function b(e,t,n,r){return H(Q(t),e,n,r)}function D(e,t,n,r){return b(e,t,n,r)}function I(e,t,n,r){return H(q(t),e,n,r)}function w(e,t,n,r){return H(Y(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?K.fromByteArray(e):K.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i=e[a],o=null,s=i>239?4:i>223?3:i>191?2:1;if(a+s<=n){var u,l,c,d;switch(s){case 1:i<128&&(o=i);break;case 2:128==(192&(u=e[a+1]))&&(d=(31&i)<<6|63&u)>127&&(o=d);break;case 3:u=e[a+1],l=e[a+2],128==(192&u)&&128==(192&l)&&(d=(15&i)<<12|(63&u)<<6|63&l)>2047&&(d<55296||d>57343)&&(o=d);break;case 4:u=e[a+1],l=e[a+2],c=e[a+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(d=(15&i)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&d<1114112&&(o=d)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),a+=s}return P(r)}function P(e){var t=e.length;if(t<=$)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=$));return n}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function E(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=G(e[i]);return a}function L(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function _(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,a,o){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function k(e,t,n,r){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-n,2);a<i;++a)e[n+a]=(t&255<<8*(r?a:1-a))>>>8*(r?a:1-a)}function B(e,t,n,r){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-n,4);a<i;++a)e[n+a]=t>>>8*(r?a:3-a)&255}function V(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,r,a){return a||V(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),X.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,a){return a||V(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),X.write(e,t,n,r,52,8),n+8}function U(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function G(e){return e<16?"0"+e.toString(16):e.toString(16)}function W(e,t){t=t||1/0;for(var n,r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Y(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,a=n%256,i.push(a),i.push(r);return i}function q(e){return K.toByteArray(U(e))}function H(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function Z(e){return e!==e}var K=n(177),X=n(107),J=n(48);t.Buffer=i,t.SlowBuffer=p,t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return o(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return u(null,e,t,n)},i.allocUnsafe=function(e){return l(null,e)},i.allocUnsafeSlow=function(e){return l(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,a=0,o=Math.min(n,r);a<o;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!J(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!i.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,a),a+=o.length}return r},i.byteLength=v,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):h.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,a){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,a>>>=0,this===e)return 0;for(var o=a-r,s=n-t,u=Math.min(o,s),l=this.slice(r,a),c=e.slice(t,n),d=0;d<u;++d)if(l[d]!==c[d]){o=l[d],s=c[d];break}return o<s?-1:s<o?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return A(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return A(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return M(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return D(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=this.subarray(e,t),r.__proto__=i.prototype;else{var a=t-e;r=new i(a,void 0);for(var o=0;o<a;++o)r[o]=this[o+e]}return r},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},i.prototype.readUInt8=function(e,t){return t||_(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||_(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||_(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return a*=128,r>=a&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||_(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||_(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||_(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||_(e,4,this.length),X.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||_(e,4,this.length),X.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||_(e,8,this.length),X.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||_(e,8,this.length),X.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||R(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);R(this,e,t,n,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var a=Math.pow(2,8*n-1);R(this,e,t,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a,o=r-n;if(this===e&&n<t&&t<r)for(a=o-1;a>=0;--a)e[a+t]=this[a+n];else if(o<1e3||!i.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=i.isBuffer(e)?e:W(new i(e,r).toString()),u=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%u]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(14))},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkViewNode"),e.build=function(e){},e.render=function(e){},e.traverse=function(n){var r=n.getTraverseOperation(),a=e[r];if(a)return void a(n);e.apply(n,!0);for(var i=0;i<t.children.length;i++)t.children[i].traverse(n);e.apply(n,!1)},e.apply=function(t,n){var r=e[t.getOperation()];r&&r(n,t)},e.getViewNodeFor=function(n){if(t.renderable===n)return e;for(var r=0;r<t.children.length;++r){var a=t.children[r],i=a.getViewNodeFor(n);if(i)return i}},e.getFirstAncestorOfType=function(e){return t.parent?t.parent.isA(e)?t.parent:t.parent.getFirstAncestorOfType(e):null},e.addMissingNode=function(n){if(n){var r=t.renderableChildMap.get(n);if(void 0!==r)r.setVisited(!0);else{var a=e.createViewNode(n);a&&(a.setParent(e),a.setVisited(!0),t.renderableChildMap.set(n,a),t.children.push(a),e.sortChildren())}}},e.addMissingNodes=function(n){if(n&&n.length){for(var r=0;r<n.length;++r){var a=n[r],i=t.renderableChildMap.get(a);if(void 0!==i)i.setVisited(!0);else{var o=e.createViewNode(a);o&&(o.setParent(e),o.setVisited(!0),t.renderableChildMap.set(a,o),t.children.push(o))}}e.sortChildren()}},e.sortChildren=function(){if(t.children&&!(t.children.length<=1)){var e=t.children.map(function(e,t){return{actor:e,index:t,order:e.getRenderOrder?e.getRenderOrder():0}});e.sort(function(e,t){var n=1;e.actor.isA("vtkOpenGLActor")&&(n=e.actor.getRenderable().getProperty().getOpacity());var r=1;return t.actor.isA("vtkOpenGLActor")&&(r=t.actor.getRenderable().getProperty().getOpacity()),e.order!==t.order?e.order-t.order:n!==r?n-r:e.index-t.index}),t.children=e.map(function(e){return e.actor})}},e.prepareNodes=function(){for(var e=0;e<t.children.length;++e)t.children[e].setVisited(!1)},e.setVisited=function(e){t.visited=e},e.removeUnusedNodes=function(){for(var e=null,n=0;n<t.children.length;++n){var r=t.children[n];if(r.getVisited())r.setVisited(!1);else{var a=r.getRenderable();a&&t.renderableChildMap.delete(a),e||(e=[]),e.push(r)}}e&&(t.children=t.children.filter(function(t){return!e.includes(t)}))},e.createViewNode=function(e){if(!t.myFactory)return s("Cannot create view nodes without my own factory"),null;var n=t.myFactory.createNode(e);return n&&n.setRenderable(e),n}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),o.default.obj(e,t),o.default.event(e,t,"event"),t.renderableChildMap=new Map,o.default.get(e,t,["visited"]),o.default.setGet(e,t,["parent","renderable","myFactory"]),o.default.getArray(e,t,["children"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o.default.vtkErrorMacro,u=["Build","Render"],l={parent:null,renderable:null,myFactory:null,children:[],visited:!1},c=o.default.newInstance(a,"vtkViewNode");t.default={newInstance:c,extend:a,PASS_TYPES:u}},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=0;return e.filter(function(e,n){return n===t&&(t+=e+1,!0)})}function i(e){return a(e).length}function o(e,t){t.classHierarchy.push("vtkCellArray"),e.getNumberOfCells=function(e){return void 0===t.numberOfCells||e?(t.cellSizes=a(t.values),t.numberOfCells=t.cellSizes.length,t.numberOfCells):t.numberOfCells},e.getCellSizes=function(e){return void 0===t.cellSizes||e?(t.cellSizes=a(t.values),t.cellSizes):t.cellSizes};var n=e.setData;e.setData=function(e){n(e,1),t.numberOfCells=void 0,t.cellSizes=void 0},e.getCell=function(e,n){var r=n||[],a=t.values[e];r.length=a,r[a-1]=t.values[e+a];for(var i=0;i<a-1;i++)r[i]=t.values[e+i+1];return r},e.getCellWithIdList=function(e,n){var r=n||g.default.newInstance(),a=t.values[e];r.allocate(a),r.insertId(a-1,t.values[e+a]);for(var i=0;i<a-1;i++)r.insertId(i,t.values[e+i+1]);return r},e.setCell=function(e,n){e+n.length>t.values.length&&p("vtkCellArray.setCell: out of range("+e+" + "+n.length+", "+t.values.length+")"),1!==t.numberOfComponents&&p("vtkCellArray.setCell(): numberOfComponents = "+t.numberOfComponents);var r=n.length;t.values[e]=r;for(var a=0;a<r;a++)t.values[e+a+1]=n[a];t.numberOfCells=void 0,t.cellSizes=void 0},e.setCellWithIdList=function(e,n){e+n.getNumberOfIds()>t.values.length&&p("vtkCellArray.setCell: out of range("+e+" + "+n.getNumberOfIds()+", "+t.values.length+")"),1!==t.numberOfComponents&&p("vtkCellArray.setCell(): numberOfComponents = "+t.numberOfComponents);var r=n.getNumberOfIds();t.values[e]=r;for(var a=0;a<r;a++)t.values[e+a+1]=n.getId(a);t.numberOfCells=void 0,t.cellSizes=void 0},e.reverseCell=function(e){for(var n=t.values[e],r=Math.floor(n/2),a=0;a<r;a++){var i=e+1+a,o=e+n-a,s=[t.values[o],t.values[i]];t.values[i]=s[0],t.values[o]=s[1]}};var r=e.reset;e.reset=function(){r(),t.numberOfCells=void 0,t.cellSizes=void 0},e.estimateSize=function(e,t){return e*(1+t)}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,h,n),d.default.extend(e,t,n),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=s;var u=n(0),l=r(u),c=n(2),d=r(c),f=n(5),m=n(18),g=r(m),p=l.default.vtkErrorMacro,v=t.STATIC={extractCellSizes:a,getNumberOfCells:i},h={empty:!0,numberOfComponents:1,dataType:f.VtkDataTypes.UNSIGNED_INT},y=t.newInstance=l.default.newInstance(s,"vtkCellArray");t.default=Object.assign({newInstance:y,extend:s},v)},function(e,t,n){"use strict";(function(){var t,r,a,i,o,s,u,l,c,d,f,m,g={}.hasOwnProperty;m=n(29),f=m.isObject,d=m.isFunction,c=m.isEmpty,o=null,t=null,r=null,a=null,i=null,u=null,l=null,s=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],o||(o=n(73),t=n(74),r=n(75),a=n(76),i=n(77),u=n(82),l=n(83),s=n(84))}return e.prototype.element=function(e,t,n){var r,a,i,o,s,u,l,m,p,v;if(u=null,null==t&&(t={}),t=t.valueOf(),f(t)||(p=[t,n],n=p[0],t=p[1]),null!=e&&(e=e.valueOf()),Array.isArray(e))for(i=0,l=e.length;i<l;i++)a=e[i],u=this.element(a);else if(d(e))u=this.element(e.apply());else if(f(e)){for(s in e)if(g.call(e,s))if(v=e[s],d(v)&&(v=v.apply()),f(v)&&c(v)&&(v=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))u=this.attribute(s.substr(this.stringify.convertAttKey.length),v);else if(!this.options.separateArrayItems&&Array.isArray(v))for(o=0,m=v.length;o<m;o++)a=v[o],r={},r[s]=a,u=this.element(r);else f(v)?(u=this.element(s),u.element(v)):u=this.element(s,v)}else u=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n);if(null==u)throw new Error("Could not create any elements with: "+e);return u},e.prototype.insertBefore=function(e,t,n){var r,a,i;if(this.isRoot)throw new Error("Cannot insert elements at root level");return a=this.parent.children.indexOf(this),i=this.parent.children.splice(a),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,i),r},e.prototype.insertAfter=function(e,t,n){var r,a,i;if(this.isRoot)throw new Error("Cannot insert elements at root level");return a=this.parent.children.indexOf(this),i=this.parent.children.splice(a+1),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,i),r},e.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element");return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},e.prototype.node=function(e,t,n){var r,a;return null!=e&&(e=e.valueOf()),t||(t={}),t=t.valueOf(),f(t)||(a=[t,n],n=a[0],t=a[1]),r=new o(this,e,t),null!=n&&r.text(n),this.children.push(r),r},e.prototype.text=function(e){var t;return t=new l(this,e),this.children.push(t),this},e.prototype.cdata=function(e){var n;return n=new t(this,e),this.children.push(n),this},e.prototype.comment=function(e){var t;return t=new r(this,e),this.children.push(t),this},e.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.raw=function(e){var t;return t=new u(this,e),this.children.push(t),this},e.prototype.instruction=function(e,t){var n,r,a,i,o;if(null!=e&&(e=e.valueOf()),null!=t&&(t=t.valueOf()),Array.isArray(e))for(i=0,o=e.length;i<o;i++)n=e[i],this.instruction(n);else if(f(e))for(n in e)g.call(e,n)&&(r=e[n],this.instruction(n,r));else d(t)&&(t=t.apply()),a=new s(this,e,t),this.children.push(a);return this},e.prototype.instructionBefore=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.instructionAfter=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.declaration=function(e,t,n){var r,i;return r=this.document(),i=new a(r,e,t,n),r.children[0]instanceof a?r.children[0]=i:r.children.unshift(i),r.root()||r},e.prototype.doctype=function(e,t){var n,r,a,o,s,u,l,c,d,f;for(r=this.document(),a=new i(r,e,t),d=r.children,o=s=0,l=d.length;s<l;o=++s)if((n=d[o])instanceof i)return r.children[o]=a,a;for(f=r.children,o=u=0,c=f.length;u<c;o=++u)if(n=f[o],n.isRoot)return r.children.splice(o,0,a),a;return r.children.push(a),a},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var e;for(e=this;e;){if(e.isDocument)return e.rootObject;if(e.isRoot)return e;e=e.parent}},e.prototype.document=function(){var e;for(e=this;e;){if(e.isDocument)return e;e=e.parent}},e.prototype.end=function(e){return this.document().end(e)},e.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[e-1]},e.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[e+1]},e.prototype.importDocument=function(e){var t;return t=e.root().clone(),t.parent=this,t.isRoot=!1,this.children.push(t),this},e.prototype.ele=function(e,t,n){return this.element(e,t,n)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t){return this.doctype(e,t)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(e){return this.importDocument(e)},e}()}).call(void 0)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=Array.isArray(n)?n.join("\n"):n,i=!1;-1!==e.search(t)&&(i=!0);var o="";r&&(o="g");var s=new RegExp(t,o);return{replace:i,result:e.replace(s,a)}}function i(e,t){t.classHierarchy.push("vtkShaderProgram"),e.compileShader=function(){return t.vertexShader.compile()?t.fragmentShader.compile()?e.attachShader(t.vertexShader)&&e.attachShader(t.fragmentShader)?e.link()?(e.setCompiled(!0),1):(d("Links failed: "+t.error),0):(d(t.error),0):(d(t.fragmentShader.getSource().split("\n").map(function(e,t){return t+": "+e}).join("\n")),d(t.fragmentShader.getError()),0):(d(t.vertexShader.getSource().split("\n").map(function(e,t){return t+": "+e}).join("\n")),d(t.vertexShader.getError()),0)},e.cleanup=function(){"Unknown"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0)},e.bind=function(){return!(!t.linked&&!t.link()||(t.context.useProgram(t.handle),e.setBound(!0),0))},e.isBound=function(){return!!t.bound},e.release=function(){t.context.useProgram(null),e.setBound(!1)},e.setContext=function(e){t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)},e.link=function(){if(t.inked)return!0;if(0===t.handle)return t.error="Program has not been initialized, and/or does not have shaders.",!1;if(t.uniformLocs={},t.context.linkProgram(t.handle),!t.context.getProgramParameter(t.handle,t.context.LINK_STATUS)){var n=t.context.getProgramInfoLog(t.handle);return d("Error linking shader "+n),t.handle=0,!1}return e.setLinked(!0),t.attributeLocs={},!0},e.setUniformMatrix=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniformMatrix4fv(a,!1,r),!0)},e.setUniformMatrix3x3=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniformMatrix3fv(a,!1,r),!0)},e.setUniformf=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform1f(a,r),!0)},e.setUniformfv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform1fv(a,r),!0)},e.setUniformi=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform1i(a,r),!0)},e.setUniformiv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform1iv(a,r),!0)},e.setUniform2f=function(n,r,a){var i=e.findUniform(n);if(-1===i)return t.error="Could not set uniform "+n+" . No such uniform.",!1;if(void 0===a)throw new RangeError("Invalid number of values for array");return t.context.uniform2f(i,r,a),!0},e.setUniform2fv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform2fv(a,r),!0)},e.setUniform2i=function(n,r,a){var i=e.findUniform(n);if(-1===i)return t.error="Could not set uniform "+n+" . No such uniform.",!1;if(void 0===a)throw new RangeError("Invalid number of values for array");return t.context.uniform2i(i,r,a),!0},e.setUniform2iv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform2iv(a,r),!0)},e.setUniform3f=function(n,r,a,i){var o=e.findUniform(n);if(-1===o)return t.error="Could not set uniform "+n+" . No such uniform.",!1;if(void 0===i)throw new RangeError("Invalid number of values for array");return t.context.uniform3f(o,r,a,i),!0},e.setUniform3fArray=function(n,r){var a=e.findUniform(n);if(-1===a)return t.error="Could not set uniform "+n+" . No such uniform.",!1;if(!Array.isArray(r)||3!==r.length)throw new RangeError("Invalid number of values for array");return t.context.uniform3f(a,r[0],r[1],r[2]),!0},e.setUniform3fv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform3fv(a,r),!0)},e.setUniform3i=function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=e.findUniform(n);if(-1===o)return t.error="Could not set uniform "+n+" . No such uniform.",!1;var s=a;if(1===s.length&&Array.isArray(s[0])&&(s=s[0]),3!==s.length)throw new RangeError("Invalid number of values for array");return t.context.uniform3i(o,s[0],s[1],s[2]),!0},e.setUniform3iv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform3iv(a,r),!0)},e.setUniform4f=function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=e.findUniform(n);if(-1===o)return t.error="Could not set uniform "+n+" . No such uniform.",!1;var s=a;if(1===s.length&&Array.isArray(s[0])&&(s=s[0]),4!==s.length)throw new RangeError("Invalid number of values for array");return t.context.uniform4f(o,s[0],s[1],s[2],s[3]),!0},e.setUniform4fv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform4fv(a,r),!0)},e.setUniform4i=function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];var o=e.findUniform(n);if(-1===o)return t.error="Could not set uniform "+n+" . No such uniform.",!1;var s=a;if(1===s.length&&Array.isArray(s[0])&&(s=s[0]),4!==s.length)throw new RangeError("Invalid number of values for array");return t.context.uniform4i(o,s[0],s[1],s[2],s[3]),!0},e.setUniform4iv=function(n,r){var a=e.findUniform(n);return-1===a?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform4iv(a,r),!0)},e.setUniform4fv=function(n,r,a){var i=e.findUniform(n);return-1===i?(t.error="Could not set uniform "+n+" . No such uniform.",!1):(t.context.uniform4fv(i,a),!0)},e.findUniform=function(e){if(!e||!t.linked)return-1;var n=t.uniformLocs[e];return void 0!==n?n:null===(n=t.context.getUniformLocation(t.handle,e))?(t.error="Uniform "+e+" not found in current shader program.",t.uniformLocs[e]=-1,-1):(t.uniformLocs[e]=n,n)},e.isUniformUsed=function(e){if(!e)return!1;var n=t.uniformLocs[e];return void 0!==n?null!==n:t.linked?(n=t.context.getUniformLocation(t.handle,e),t.uniformLocs[e]=n,null!==n):(d("attempt to find uniform when the shader program is not linked"),!1)},e.isAttributeUsed=function(e){if(!e)return!1;var n=Object.keys(t.attributeLocs).indexOf(e);return-1!==n||(t.linked?-1!==(n=t.context.getAttribLocation(t.handle,e))&&(t.attributeLocs[e]=n,!0):(d("attempt to find uniform when the shader program is not linked"),!1))},e.attachShader=function(n){if(0===n.getHandle())return t.error="Shader object was not initialized, cannot attach it.",!1;if("Unknown"===n.getShaderType())return t.error="Shader object is of type Unknown and cannot be used.",!1;if(0===t.handle){var r=t.context.createProgram();if(0===r)return t.error="Could not create shader program.",!1;t.handle=r,t.linked=!1}return"Vertex"===n.getShaderType()&&(0!==t.vertexShaderHandle&&t.comntext.detachShader(t.handle,t.vertexShaderHandle),t.vertexShaderHandle=n.getHandle()),"Fragment"===n.getShaderType()&&(0!==t.fragmentShaderHandle&&t.context.detachShader(t.handle,t.fragmentShaderHandle),t.fragmentShaderHandle=n.getHandle()),t.context.attachShader(t.handle,n.getHandle()),e.setLinked(!1),!0},e.detachShader=function(e){if(0===e.getHandle())return t.error="shader object was not initialized, cannot attach it.",!1;if("Unknown"===e.getShaderType())return t.error="Shader object is of type Unknown and cannot be used.",!1;switch(0===t.handle&&(t.errror="This shader prorgram has not been initialized yet."),e.getShaderType()){case"Vertex":return t.vertexShaderHandle!==e.getHandle()?(t.error="The supplied shader was not attached to this program.",!1):(t.context.detachShader(t.handle,e.getHandle()),t.vertexShaderHandle=0,t.linked=!1,!0);case"Fragment":return t.fragmentShaderHandle!==e.getHandle()?(t.error="The supplied shader was not attached to this program.",!1):(t.context.detachShader(t.handle,e.getHandle()),t.fragmentShaderHandle=0,t.linked=!1,!0);default:return!1}},e.setContext=function(e){t.context=e,t.vertexShader.setContext(e),t.fragmentShader.setContext(e),t.geometryShader.setContext(e)},e.setLastCameraMTime=function(e){t.lastCameraMTime=e}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),t.attributesLocs={},t.uniformLocs={},t.vertexShader=c.default.newInstance(),t.vertexShader.setShaderType("Vertex"),t.fragmentShader=c.default.newInstance(),t.fragmentShader.setShaderType("Fragment"),t.geometryShader=c.default.newInstance(),t.geometryShader.setShaderType("Geometry"),u.default.obj(e,t),u.default.get(e,t,["lastCameraMTime"]),u.default.setGet(e,t,["error","handle","compiled","bound","md5Hash","vertexShader","fragmentShader","geometryShader","linked"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),u=r(s),l=n(376),c=r(l),d=u.default.vtkErrorMacro,f={vertexShaderHandle:0,fragmentShaderHandle:0,geometryShaderHandle:0,vertexShader:null,fragmentShader:null,geometryShader:null,linked:!1,bound:!1,compiled:!1,error:"",handle:0,numberOfOutputs:0,attributesLocs:null,uniformLocs:null,md5Hash:0,context:null,lastCameraMTime:null},m=u.default.newInstance(o,"vtkShaderProgram");t.default={newInstance:m,extend:o,substitute:a}},function(e,t,n){"use strict";var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":a(window))&&(r=window)}e.exports=r},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){"use strict";function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(d===setTimeout)return setTimeout(e,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===a||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){v&&g&&(v=!1,g.length?p=g.concat(p):h=-1,p.length&&u())}function u(){if(!v){var e=i(s);v=!0;for(var t=p.length;t;){for(g=p,p=[];++h<t;)g&&g[h].run();h=-1,t=p.length}g=null,v=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var d,f,m=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(e){d=r}try{f="function"==typeof clearTimeout?clearTimeout:a}catch(e){f=a}}();var g,p=[],v=!1,h=-1;m.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||v||i(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=c,m.addListener=c,m.once=c,m.off=c,m.removeListener=c,m.removeAllListeners=c,m.emit=c,m.prependListener=c,m.prependOnceListener=c,m.listeners=function(e){return[]},m.binding=function(e){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(e){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return"string"==typeof e?s.call(this,e):u(this).from(e)}function a(e){return u(this).alloc(e)}function i(e,n){function r(e){n+=e.length}function i(e){u+=S.copy.call(e,s,u)}n||(n=0,Array.prototype.forEach.call(e,r));var o=this!==t&&this||e[0],s=a.call(o,n),u=0;return Array.prototype.forEach.call(e,i),s}function o(e){return e instanceof ArrayBuffer||T(e)}function s(e){var t=3*e.length,n=a.call(this,t),r=S.write.call(n,e);return t!==r&&(n=S.slice.call(n,0,r)),n}function u(e){return p(e)?y:v(e)?A:g(e)?h:f?y:m?A:h}function l(){return!1}function c(e,t){return e="[object "+e+"]",function(n){return null!=n&&{}.toString.call(t?n[t]:n)===e}}var d=t.global=n(332),f=t.hasBuffer=d&&!!d.isBuffer,m=t.hasArrayBuffer="undefined"!=typeof ArrayBuffer,g=t.isArray=n(48);t.isArrayBuffer=m?o:l;var p=t.isBuffer=f?d.isBuffer:l,v=t.isView=m?ArrayBuffer.isView||c("ArrayBuffer","buffer"):l;t.alloc=a,t.concat=i,t.from=r;var h=t.Array=n(333),y=t.Buffer=n(334),A=t.Uint8Array=n(335),S=t.prototype=n(117),T=c("ArrayBuffer")},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkIdList"),e.initialize=function(){t.ids.splice(0,t.ids.length),t.numberOfIds=0},e.allocate=function(n){if(n>t.ids.length){e.initialize();var r=n>0?n:1;t.ids=new Array(r)}return t.numberOfIds=0,1},e.getNumberOfIds=function(){return t.numberOfIds},e.setNumberOfIds=function(n){e.allocate(n),t.numberOfIds=n},e.insertUniqueId=function(n){for(var r=0;r<t.numberOfIds;r++)if(n===t.ids[r])return r;return e.insertNextId(n)},e.setArray=function(e,n){t.ids.splice(0,t.ids.length),t.ids=e,t.numberOfIds=n},e.deleteId=function(n){for(var r=0;r<t.numberOfIds;)for(;r<t.numberOfIds&&t.ids[r]!==n;r++);r<t.numberOfIds&&(e.insertId(r,t.ids[t.numberOfIds-1]),t.numberOfIds--)},e.reset=function(){t.numberOfIds=0},e.squeeze=function(){e.resize(t.numberOfIds)},e.deepCopy=function(e){var n=e.getNumberOfIds();t.ids=e.getIds().slice(0,n),t.numberOfIds=n},e.resize=function(n){var r=void 0;if(n>t.ids.length)r=t.ids.length+n;else{if(n===t.ids.length)return t.ids;r=n}return r<=0?(e.initialize(),t.ids):(t.ids.length=r,t.ids)},e.insertId=function(n,r){n>=t.ids.length&&e.resize(n+1),t.ids[n]=r,n>=t.numberOfIds&&(t.numberOfIds=n+1)},e.insertNextId=function(n){return t.numberOfIds>=t.ids.length&&e.resize(2*t.numberOfIds+1),t.ids[t.numberOfIds++]=n,t.numberOfIds-1},e.isId=function(e){for(var n=0;n<t.numberOfIds;n++)if(e===t.ids[n])return n;return-1},e.getId=function(e){return t.ids[e]},e.setId=function(e,n){t.ids[e]=n},e.insertWith=function(n){var r=t.numberOfIds,a=[],i=0,o=void 0;for(i=0;i<r;i++)a[i]=e.getId(i);for(e.reset(),i=0;i<r;i++)o=a[i],-1!==n.isId(o)&&e.insertNextId(o)},e.intersectWith=function(n){var r=t.ids.slice(0,t.numberOfIds);e.reset();for(var a=0;a<r.length;a++){var i=r[a];-1!==n.isId(i)&&e.insertNextId(i)}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.get(e,t,["ids"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={numberOfIds:0,ids:[]},u=t.newInstance=o.default.newInstance(a,"vtkIdList");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){return u.default.vtkErrorMacro("vtkMapper::"+e+" - NOT IMPLEMENTED")}}function i(e,t){t.classHierarchy.push("vtkMapper"),e.getBounds=function(){var n=e.getInputData();return n?(t.static||e.update(),t.bounds=n.getBounds()):t.bounds=y.createUninitializedBounds(),t.bounds},e.setForceCompileOnly=function(e){t.forceCompileOnly=e},e.createDefaultLookupTable=function(){t.lookupTable=v.default.newInstance()},e.getColorModeAsString=function(){return u.default.enumToString(C,t.colorMode)},e.setColorModeToDefault=function(){return e.setColorMode(0)},e.setColorModeToMapScalars=function(){return e.setColorMode(1)},e.setColorModeToDirectScalars=function(){return e.setColorMode(2)},e.getScalarModeAsString=function(){return u.default.enumToString(N,t.scalarMode)},e.setScalarModeToDefault=function(){return e.setScalarMode(0)},e.setScalarModeToUsePointData=function(){return e.setScalarMode(1)},e.setScalarModeToUseCellData=function(){return e.setScalarMode(2)},e.setScalarModeToUsePointFieldData=function(){return e.setScalarMode(3)},e.setScalarModeToUseCellFieldData=function(){return e.setScalarMode(4)},e.setScalarModeToUseFieldData=function(){return e.setScalarMode(5)},Object.keys(D.default).forEach(function(t){e[t]=D.default[t]}),Object.keys(L).forEach(function(t){e[t]=L[t]}),t.topologyOffset={Polygon:{factor:0,offset:0},Line:{factor:0,offset:0},Point:{factor:0,offset:0}},M.default.addCoincidentTopologyMethods(e,t.topologyOffset,M.default.CATEGORIES.map(function(e){return{key:e,method:"RelativeCoincidentTopology"+e+"OffsetParameters"}})),e.getCoincidentTopologyPolygonOffsetParameters=function(){var t=L.getResolveCoincidentTopologyPolygonOffsetParameters(),n=e.getRelativeCoincidentTopologyPolygonOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyLineOffsetParameters=function(){var t=L.getResolveCoincidentTopologyLineOffsetParameters(),n=e.getRelativeCoincidentTopologyLineOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getCoincidentTopologyPointOffsetParameter=function(){var t=L.getResolveCoincidentTopologyPointOffsetParameters(),n=e.getRelativeCoincidentTopologyPointOffsetParameters();return{factor:t.factor+n.factor,offset:t.offset+n.offset}},e.getAbstractScalars=function(e,n,r,a,i){if(!e||!t.scalarVisibility)return{scalars:null,cellFLag:!1};var o=null,s=!1;if(n===N.DEFAULT)(o=e.getPointData().getScalars())||(o=e.getCellData().getScalars(),s=!0);else if(n===N.USE_POINT_DATA)o=e.getPointData().getScalars();else if(n===N.USE_CELL_DATA)o=e.getCellData().getScalars(),s=!0;else if(n===N.USE_POINT_FIELD_DATA){var u=e.getPointData();o=r===P.BY_ID?u.getArrayByIndex(a):u.getArrayByName(i)}else if(n===N.USE_CELL_FIELD_DATA){var l=e.getCellData();s=!0,o=r===P.BY_ID?l.getArrayByIndex(a):l.getArrayByName(i)}else if(n===N.USE_FIELD_DATA){var c=e.getFieldData();o=r===P.BY_ID?c.getArrayByIndex(a):c.getArrayByName(i)}return{scalars:o,cellFlag:s}},e.mapScalars=function(n,r){var a=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName).scalars;if(!a)return t.colorCoordinates=null,t.colorTextureMap=null,void(t.colorMapColors=null);if(t.useLookupTableScalarRange||e.getLookupTable().setRange(t.scalarRange[0],t.scalarRange[1]),e.canUseTextureMapForColoring(n))return void e.mapScalarsToTexture(a,r);t.colorCoordinates=null,t.colorTextureMap=null;var i=e.getLookupTable();i&&(i.build(),t.colorMapColors=i.mapScalars(a,t.colorMode,-1))},e.scalarToTextureCoordinate=function(e,t,n){var r=.5,a=1;return y.isNan(e)||(a=.49,r=(e-t)*n,r>1e3?r=1e3:r<-1e3&&(r=-1e3)),{texCoordS:r,texCoordT:a}},e.createColorTextureCoordinates=function(t,n,r,a,i,o,s,u,l){var c=(o[1]-o[0])/u,d=[];d[0]=o[0]-c,d[1]=o[1]+c;var f=1/(d[1]-d[0]),m=n.getData(),g=t.getData(),p=0,h=0;if(i<0||i>=a)for(var y=0;y<r;++y){for(var A=0,S=0;S<a;++S)A+=g[p]*g[p],p++;var T=Math.sqrt(A);l&&(T=v.default.applyLogScale(T,s,o));var M=e.scalarToTextureCoordinate(T,d[0],f);m[h]=M.texCoordS,m[h+1]=M.texCoordT,h+=2}else{p+=i;for(var b=0;b<r;++b){var D=g[p];l&&(D=v.default.applyLogScale(D,s,o));var I=e.scalarToTextureCoordinate(D,d[0],f);m[h]=I.texCoordS,m[h+1]=I.texCoordT,h+=2,p+=a}}},e.mapScalarsToTexture=function(n,r){var a=t.lookupTable.getRange(),i=t.lookupTable.usingLogScale();i&&v.default.getLogRange(a,a);var o=t.lookupTable.getAlpha();if(t.colorMapColors=null,null==t.colorTextureMap||e.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getMTime()>t.colorTextureMap.getMTime()||t.lookupTable.getAlpha()!==r){t.lookupTable.setAlpha(r),t.colorTextureMap=null,t.lookupTable.build();var s=t.lookupTable.getNumberOfAvailableColors();s>4094&&(s=4094),s+=2;for(var u=(a[1]-a[0])/(s-1-2),l=new Float64Array(2*s),c=0;c<s;++c)l[c]=a[0]+c*u-u,i&&(l[c]=Math.pow(10,l[c]));for(var d=0;d<s;++d)l[d+s]=NaN;t.colorTextureMap=g.default.newInstance(),t.colorTextureMap.setExtent(0,s-1,0,1,0,0);var m=f.default.newInstance({numberOfComponents:1,values:l});t.colorTextureMap.getPointData().setScalars(t.lookupTable.mapScalars(m,t.colorMode,0)),t.lookupTable.setAlpha(o)}if(!t.colorCoordinates||e.getMTime()>t.colorCoordinates.getMTime()||e.getInputData(0).getMTime()>t.colorCoordinates.getMTime()||t.lookupTable.getMTime()>t.colorCoordinates.getMTime()){t.colorCoordinates=null;var p=n.getNumberOfComponents(),h=n.getNumberOfTuples();t.colorCoordinates=f.default.newInstance({numberOfComponents:2,values:new Float32Array(2*h)});var y=t.lookupTable.getVectorComponent();t.lookupTable.getVectorMode()===x.MAGNITUDE&&n.getNumberOfComponents()>1&&(y=-1),e.createColorTextureCoordinates(n,t.colorCoordinates,h,p,y,a,t.lookupTable.getRange(),t.colorTextureMap.getPointData().getScalars().getNumberOfTuples()/2-2,i)}},e.getIsOpaque=function(){var t=e.getLookupTable();return!t||(t.build(),t.isOpaque())},e.canUseTextureMapForColoring=function(n){if(!t.interpolateScalarsBeforeMapping)return!1;if(t.lookupTable&&t.lookupTable.getIndexedLookup())return!1;var r=e.getAbstractScalars(n,t.scalarMode,t.arrayAccessMode,t.arrayId,t.colorByArrayName),a=r.scalars;return!(!a||r.cellFlag||t.colorMode===C.DEFAULT&&a.getDataType()===E.UNSIGNED_CHAR||t.colorMode===C.DIRECT_SCALARS)},e.clearColorArrays=function(){t.colorMapColors=null,t.colorCoordinates=null,t.colorTextureMap=null},e.getLookupTable=function(){return t.lookupTable||e.createDefaultLookupTable(),t.lookupTable},e.getMTime=function(){var e=t.mtime;if(null!==t.lookupTable){var n=t.lookupTable.getMTime();e=n>e?n:e}return e},e.getPrimitiveCount=function(){var t=e.getInputData();return{points:t.getPoints().getNumberOfValues()/3,verts:t.getVerts().getNumberOfValues()-t.getVerts().getNumberOfCells(),lines:t.getLines().getNumberOfValues()-2*t.getLines().getNumberOfCells(),triangles:t.getPolys().getNumberOfValues()-3*t.getLines().getNumberOfCells()}},e.acquireInvertibleLookupTable=a("AcquireInvertibleLookupTable"),e.valueToColor=a("ValueToColor"),e.colorToValue=a("ColorToValue"),e.useInvertibleColorFor=a("UseInvertibleColorFor"),e.clearInvertibleColor=a("ClearInvertibleColor")}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,_,n),c.default.extend(e,t,n),u.default.get(e,t,["colorCoordinates","colorMapColors","colorTextureMap"]),u.default.setGet(e,t,["colorByArrayName","arrayAccessMode","colorMode","fieldDataTupleId","interpolateScalarsBeforeMapping","lookupTable","renderTime","resolveCoincidentTopology","scalarMode","scalarVisibility","static","useLookupTableScalarRange","viewSpecificProperties","customShaderAttributes"]),u.default.setGetArray(e,t,["scalarRange"],2),t.viewSpecificProperties||(t.viewSpecificProperties={}),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(362),c=r(l),d=n(2),f=r(d),m=n(22),g=r(m),p=n(128),v=r(p),h=n(1),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),A=n(86),S=r(A),T=n(363),M=r(T),b=n(364),D=r(b),I=n(87),w=r(I),C=w.default.ColorMode,N=w.default.ScalarMode,P=w.default.GetArray,x=S.default.VectorMode,E=f.default.VtkDataTypes,O={Polygon:{factor:2,offset:0},Line:{factor:1,offset:-1},Point:{factor:0,offset:-2}},L={};M.default.addCoincidentTopologyMethods(L,O,M.default.CATEGORIES.map(function(e){return{key:e,method:"ResolveCoincidentTopology"+e+"OffsetParameters"}}));var _={colorMapColors:null,static:!1,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,fieldDataTupleId:-1,interpolateScalarsBeforeMapping:!1,colorCoordinates:null,colorTextureMap:null,forceCompileOnly:0,useInvertibleColors:!1,invertibleScalars:null,resolveCoincidentTopology:!1,viewSpecificProperties:null,customShaderAttributes:[]},R=t.newInstance=u.default.newInstance(o,"vtkMapper");t.default=Object.assign({newInstance:R,extend:o},L,D.default,w.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){return e.getRenderWindow().getViews()[0].worldToDisplay(t,n,r,e)}function i(e,t,n,r){return e.getRenderWindow().getViews()[0].displayToWorld(t,n,r,e)}function o(e,t,n,r){return e.getRenderWindow().getViews()[0].worldToView(t,n,r,e)}function s(e,t,n,r){return e.getRenderWindow().getViews()[0].viewToWorld(t,n,r,e)}function u(e,t,n,r){return e.getRenderWindow().getViews()[0].displayToNormalizedDisplay(t,n,r)}function l(e,t,n,r){return e.getRenderWindow().getViews()[0].normalizedDisplayToDisplay(t,n,r)}function c(e){var t=e.getRenderWindow().getViews()[0],n=t.getViewportSize(e);return[n[0]/n[1],1]}function d(e){var t=e.getRenderWindow().getViews()[0],n=t.getViewportSize(e),r=1;return n[0]&&n[1]&&(r=n[0]/n[1]),r}function f(e,t){function n(){for(;t.subscribedEvents.length;)t.subscribedEvents.pop().unsubscribe()}function r(){h.default.handledEvents.forEach(function(n){e["handle"+n]&&t.subscribedEvents.push(t.interactor["on"+n](function(r){return t.processEvents?e["handle"+n](r):A},t.priority))})}t.classHierarchy.push("vtkInteractorObserver");var a=Object.assign({},e);e.setInteractor=function(a){a!==t.interactor&&(n(),t.interactor=a,a&&t.enabled&&r(),e.modified())},e.setEnabled=function(a){a!==t.enabled&&(n(),a&&(t.interactor?r():y("\n          The interactor must be set before subscribing to events\n        ")),t.enabled=a,e.modified())},e.computeDisplayToWorld=function(e,n,r,a){return e?t.interactor.getView().displayToWorld(n,r,a,e):null},e.computeWorldToDisplay=function(e,n,r,a){return e?t.interactor.getView().worldToDisplay(n,r,a,e):null},e.startInteraction=function(){},e.endInteraction=function(){},e.getWidgetParams=function(n){var r={id:n.getInstanceId(e)};return r.enabled=t.enabled,r},e.setWidgetParams=function(e){},e.setPriority=function(e){a.setPriority(e)&&t.interactor&&(n(),r())}}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),p.default.obj(e,t),p.default.event(e,t,"InteractionEvent"),p.default.event(e,t,"StartInteractionEvent"),p.default.event(e,t,"EndInteractionEvent"),p.default.get(e,t,["interactor","enabled"]),p.default.setGet(e,t,["priority","processEvents"]),f(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=m;var g=n(0),p=r(g),v=n(214),h=r(v),y=p.default.vtkErrorMacro,A=p.default.VOID,S=t.STATIC={computeWorldToDisplay:a,computeDisplayToWorld:i,computeWorldToView:o,computeViewToWorld:s,computeDisplayToNormalizedDisplay:u,computeNormalizedDisplayToDisplay:l,getAspectRatio:c,getTiledAspectRatio:d},T={enabled:!0,interactor:null,priority:0,processEvents:!0,subscribedEvents:[]},M=t.newInstance=p.default.newInstance(m,"vtkInteractorObserver");t.default=Object.assign({newInstance:M,extend:m},S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"numberOfComponents: "+e.getNumberOfComponents()+", numberOfTuples: "+e.getNumberOfTuples()+", size: "+e.get("size").size+", dataType: "+e.getDataType()+"("+e.getData().length+"), name: "+e.getName():e.getNumberOfComponents()+"x"+e.getNumberOfTuples()+"="+e.get("size").size+","+e.getDataType()+"("+e.getData().length+"),"+e.getName()}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.getNumberOfComponents(),r=e.getNumberOfTuples(),a=t<0?r:t;a=a>r?r:a;for(var i="",o=0;o<a;o++){var s=e.getTuple(o);i+="["+o+"]=(";for(var u=0;u<n;u++)i+=u===n-1?s[u]:s[u]+",";i+=o===a-1?")":"), "}return o<r&&(i+=", ..."),i}function o(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"],r=e.getNumberOfArrays(),o="",s=0;s<r;s++)!function(r){var s="Unknown";n.forEach(function(t){e["getActive"+t]()===r&&(s=t)});var u=e.getArray(r);o+=s+": ("+r+","+a(u)+") ",o+=s+" data: "+i(u,t)}(s);return o}function s(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2],t){var n=(t.getExtent(),t.getDimensions(),t.getOrigin(),t.getSpacing(),t.get("dataDescription").dataDescription,t.getBounds(),t.getCellData());n&&(n.getNumberOfArrays(),n.getNumberOfTuples(),n.getNumberOfComponents());var r=t.getPointData();r&&(r.getNumberOfArrays(),r.getNumberOfTuples(),r.getNumberOfComponents());var a=t.getFieldData();a&&(a.getNumberOfArrays(),a.getNumberOfTuples(),a.getNumberOfComponents())}}function u(e,t){t.classHierarchy.push("vtkImageData"),e.dumpImageData=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;s(t,e,n)},e.setExtent=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(t.deleted)return void I("instance deleted - cannot call any method");if(r&&6===r.length){var i=!1;t.extent.forEach(function(e,t){if(e!==r[t]){if(i)return;i=!0}}),i&&(t.extent=[].concat(r),t.dataDescription=M.default.getDataDescriptionFromExtent(t.extent),e.modified())}},e.setDimensions=function(){var n=void 0,r=void 0,a=void 0;if(t.deleted)return void I("instance deleted - cannot call any method");if(1===arguments.length){var i=arguments.length<=0?void 0:arguments[0];n=i[0],r=i[1],a=i[2]}else{if(3!==arguments.length)return void I("Bad dimension specification");n=arguments.length<=0?void 0:arguments[0],r=arguments.length<=1?void 0:arguments[1],a=arguments.length<=2?void 0:arguments[2]}e.setExtent(0,n-1,0,r-1,0,a-1)},e.getDimensions=function(){return[t.extent[1]-t.extent[0]+1,t.extent[3]-t.extent[2]+1,t.extent[5]-t.extent[4]+1]},e.getNumberOfCells=function(){for(var t=e.getDimensions(),n=1,r=0;r<3;r++){if(0===t[r])return 0;t[r]>1&&(n*=t[r]-1)}return n},e.getNumberOfPoints=function(){var t=e.getDimensions();return t[0]*t[1]*t[2]},e.getPoint=function(n){var r=e.getDimensions(),a=D.vec3.fromValues(0,0,0),i=[0,0,0];if(0===r[0]||0===r[1]||0===r[2])return I("Requesting a point from an empty image."),null;switch(t.dataDescription){case b.StructuredType.EMPTY:return null;case b.StructuredType.SINGLE_POINT:break;case b.StructuredType.X_LINE:a[0]=n;break;case b.StructuredType.Y_LINE:a[1]=n;break;case b.StructuredType.Z_LINE:a[2]=n;break;case b.StructuredType.XY_PLANE:a[0]=n%r[0],a[1]=n/r[0];break;case b.StructuredType.YZ_PLANE:a[1]=n%r[1],a[2]=n/r[1];break;case b.StructuredType.XZ_PLANE:a[0]=n%r[0],a[2]=n/r[0];break;case b.StructuredType.XYZ_GRID:a[0]=n%r[0],a[1]=n/r[0]%r[1],a[2]=n/(r[0]*r[1]);break;default:I("Invalid dataDescription")}var o=D.vec3.create();return e.indexToWorldVec3(a,o),D.vec3.copy(i,o),i},e.getBounds=function(){return e.extentToBounds(t.extent)},e.extentToBounds=function(t){var n=[t[0],t[2],t[4],t[1],t[2],t[4],t[0],t[3],t[4],t[1],t[3],t[4],t[0],t[2],t[5],t[1],t[2],t[5],t[0],t[3],t[5],t[1],t[3],t[5]],r=D.vec3.fromValues(n[0],n[1],n[2]),a=D.vec3.create();e.indexToWorldVec3(r,a);for(var i=[a[0],a[0],a[1],a[1],a[2],a[2]],o=3;o<24;o+=3)D.vec3.set(r,n[o],n[o+1],n[o+2]),e.indexToWorldVec3(r,a),a[0]<i[0]&&(i[0]=a[0]),a[1]<i[2]&&(i[2]=a[1]),a[2]<i[4]&&(i[4]=a[2]),a[0]>i[1]&&(i[1]=a[0]),a[1]>i[3]&&(i[3]=a[1]),a[2]>i[5]&&(i[5]=a[2]);return i},e.computeTransforms=function(){var e=D.vec3.fromValues(t.origin[0],t.origin[1],t.origin[2]);D.mat4.fromTranslation(t.indexToWorld,e),t.indexToWorld[0]=t.direction[0],t.indexToWorld[1]=t.direction[1],t.indexToWorld[2]=t.direction[2],t.indexToWorld[4]=t.direction[3],t.indexToWorld[5]=t.direction[4],t.indexToWorld[6]=t.direction[5],t.indexToWorld[8]=t.direction[6],t.indexToWorld[9]=t.direction[7],t.indexToWorld[10]=t.direction[8];var n=D.vec3.fromValues(t.spacing[0],t.spacing[1],t.spacing[2]);D.mat4.scale(t.indexToWorld,t.indexToWorld,n),D.mat4.invert(t.worldToIndex,t.indexToWorld)},e.setDirection=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(t.deleted)return I("instance deleted - cannot call any method"),!1;var i=r;if(1===i.length&&Array.isArray(i[0])&&(i=i[0]),9!==i.length)throw new RangeError("Invalid number of values for array setter");var o=!1;if(t.direction.forEach(function(e,t){if(e!==i[t]){if(o)return;o=!0}}),o){for(var s=0;s<9;++s)t.direction[s]=i[s];e.modified()}return!0},e.indexToWorldVec3=function(e,n){D.vec3.transformMat4(n,e,t.indexToWorld)},e.indexToWorldBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[0,0,0],a=[0,0,0];v.default.computeCornerPoints(r,a,e);var i=[0,0,0],o=[0,0,0];return D.vec3.transformMat4(i,r,t.indexToWorld),D.vec3.transformMat4(o,a,t.indexToWorld),g.computeBoundsFromPoints(i,o,n),n},e.indexToWorld=function(e,n){var r=D.vec3.fromValues(e[0],e[1],e[2]),a=D.vec3.create();D.vec3.transformMat4(a,r,t.indexToWorld),D.vec3.copy(n,a)},e.worldToIndexVec3=function(e,n){D.vec3.transformMat4(n,e,t.worldToIndex)},e.worldToIndexBounds=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[0,0,0],a=[0,0,0];v.default.computeCornerPoints(r,a,e);var i=[0,0,0],o=[0,0,0];return D.vec3.transformMat4(i,r,t.worldToIndex),D.vec3.transformMat4(o,a,t.worldToIndex),g.computeBoundsFromPoints(i,o,n),n},e.worldToIndex=function(e,n){var r=D.vec3.fromValues(e[0],e[1],e[2]),a=D.vec3.create();D.vec3.transformMat4(a,r,t.worldToIndex),D.vec3.copy(n,a)},e.onModified(e.computeTransforms),e.computeTransforms(),e.getCenter=function(){for(var t=e.getBounds(),n=[],r=0;r<3;r++)n[r]=(t[2*r+1]+t[2*r])/2;return n},e.computeHistogram=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[0,0,0,0,0,0];e.worldToIndexBounds(t,r);var a=[0,0,0],i=[0,0,0];v.default.computeCornerPoints(a,i,r),g.roundVector(a,a),g.roundVector(i,i);var o=e.getDimensions();g.clampVector(a,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],a),g.clampVector(i,[0,0,0],[o[0]-1,o[1]-1,o[2]-1],i);for(var s=o[0],u=o[0]*o[1],l=e.getPointData().getScalars().getData(),c=-1/0,d=1/0,f=0,m=0,p=0,h=a[2];h<=i[2];h++)for(var y=a[1];y<=i[1];y++)for(var A=a[0]+y*s+h*u,S=a[0];S<=i[0];S++){if(!n||n([S,y,h],r)){var T=l[A];T>c&&(c=T),T<d&&(d=T),f+=T*T,m+=T,p+=1}++A}var M=p>0?m/p:0,b=f-M*M;return{minimum:d,maximum:c,average:M,variance:b,sigma:Math.sqrt(b)}},e.toJson=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a={};a.spacing=t.spacing.concat(),a.origin=t.origin.concat(),a.extent=t.extent.concat();var i=e?null:t.fieldData,o=n?null:t.cellData,s=r?null:t.pointData,u=[i,o,s].map(function(e){if(!e)return null;for(var t=[],n=e.getNumberOfArrays(),r=0;r<n;r++)!function(n){var r=e.getArray(n);if(r){var a="";C.forEach(function(t){e["getActive"+t]()===n&&(a=t)});var i=r.getData();if(i&&i.length>0){var o=w.deflate(i),s={numberOfComponents:r.getNumberOfComponents(),dataType:r.getDataType(),name:r.getName(),values:Array.from(o),attrType:a,dataLength:i.byteLength};t.push(s)}}}(r);return 0===t.length?null:t}),l=c(u,3),d=l[0],f=l[1],m=l[2];return d&&(a.fieldData={arrays:d}),f&&(a.cellData={arrays:f}),m&&(a.pointData={arrays:m}),a},e.fromJson=function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if([t.fieldData,t.cellData,t.pointData].forEach(function(e){e&&e.removeAllArrays()}),e.modified(),n){t.spacing=n.spacing.concat(),t.origin=n.origin.concat(),t.extent=n.extent.concat();var o=[r,a,i];["fieldData","cellData","pointData"].forEach(function(t,r){if(!o[r]){var a=n[t].arrays;if(a)for(var i=0;i<a.length;i++){var s=a[i];if(s.values){var u=S.default.newInstance({numberOfComponents:s.numberOfComponents,dataType:s.dataType,values:new window[s.dataType](s.values),name:s.name}),l=e["get"+f.default.capitalize(t)]();s.attrType?l["set"+f.default.capitalize(s.attrType)](u):l.addArray(u)}}}})}}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,N,n),y.default.extend(e,t,n),t.direction){if(Array.isArray(t.direction)){var r=t.direction.slice(0);t.direction=D.mat3.create();for(var a=0;a<9;++a)t.direction[a]=r[a]}}else t.direction=D.mat3.create();t.indexToWorld=new Float64Array(16),t.worldToIndex=new Float64Array(16),f.default.get(e,t,["direction","indexToWorld","worldToIndex"]),f.default.setGetArray(e,t,["origin","spacing"],3),f.default.getArray(e,t,["extent"],6),u(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0;var c=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.extend=l;var d=n(0),f=r(d),m=n(1),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),p=n(35),v=r(p),h=n(98),y=r(h),A=n(2),S=r(A),T=n(296),M=r(T),b=n(159),D=n(3),I=f.default.vtkErrorMacro,w=n(26),C=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"],N=(t.STATIC={dumpDataArray:a,dumpDataArrayData:i,dumpDataSetAttributes:o,dumpImageData:s},{direction:null,indexToWorld:null,worldToIndex:null,spacing:[1,1,1],origin:[0,0,0],extent:[0,-1,0,-1,0,-1],dataDescription:b.StructuredType.EMPTY}),P=t.newInstance=f.default.newInstance(l,"vtkImageData");t.default={newInstance:P,extend:l}},function(e,t,n){"use strict";function r(e){t.ARRAY_TYPE=s=e}function a(e){return e*u}function i(e,t){return Math.abs(e-t)<=o*Math.max(1,Math.abs(e),Math.abs(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.setMatrixArrayType=r,t.toRadian=a,t.equals=i;var o=t.EPSILON=1e-6,s=t.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,u=(t.RANDOM=Math.random,Math.PI/180)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkActor");var n=Object.assign({},e);e.getActors=function(){return e},e.getIsOpaque=function(){if(t.forceOpaque)return!0;if(t.forceTranslucent)return!1;t.property||e.getProperty();var n=t.property.getOpacity()>=1;return n=n&&(!t.texture||!t.texture.isTranslucent()),n=n&&(!t.mapper||t.mapper.getIsOpaque())},e.hasTranslucentPolygonalGeometry=function(){return null!==t.mapper&&(null===t.property&&e.setProperty(e.makeProperty()),!e.getIsOpaque())},e.makeProperty=f.default.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n=t.mapper.getBounds();if(!n||6!==n.length)return n;if(n[0]>n[1])return t.mapperBounds=n.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),n;if(!t.mapperBounds||n[0]!==t.mapperBounds[0]||n[1]!==t.mapperBounds[1]||n[2]!==t.mapperBounds[2]||n[3]!==t.mapperBounds[3]||n[4]!==t.mapperBounds[4]||n[5]!==t.mapperBounds[5]||e.getMTime()>t.boundsMTime.getMTime()){m("Recomputing bounds..."),t.mapperBounds=n.concat();var r=[o.vec3.fromValues(n[1],n[3],n[5]),o.vec3.fromValues(n[1],n[2],n[5]),o.vec3.fromValues(n[0],n[2],n[5]),o.vec3.fromValues(n[0],n[3],n[5]),o.vec3.fromValues(n[1],n[3],n[4]),o.vec3.fromValues(n[1],n[2],n[4]),o.vec3.fromValues(n[0],n[2],n[4]),o.vec3.fromValues(n[0],n[3],n[4])];e.computeMatrix();var a=o.mat4.create();o.mat4.transpose(a,t.matrix),r.forEach(function(e){return o.vec3.transformMat4(e,e,a)}),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map(function(e,t){return t%2==0?r.reduce(function(e,n){return e>n[t/2]?n[t/2]:e},e):r.reduce(function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e},e)}),t.boundsMTime.modified()}return t.bounds},e.getMTime=function(){var e=n.getMTime();if(null!==t.property){var r=t.property.getMTime();e=r>e?r:e}if(null!==t.backfaceProperty){var a=t.backfaceProperty.getMTime();e=a>e?a:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),n=t.mapper.getInput().getMTime(),e=n>e?n:e)}return e},e.getSupportsSelection=function(){return!!t.mapper&&t.mapper.getSupportsSelection()}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),c.default.extend(e,t,n),t.boundsMTime={},u.default.obj(t.boundsMTime),u.default.set(e,t,["property"]),u.default.setGet(e,t,["backfaceProperty","forceOpaque","forceTranslucent","mapper","sourceObject"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(126),c=r(l),d=n(30),f=r(d),m=u.default.vtkDebugMacro,g={mapper:null,property:null,backfaceProperty:null,forceOpaque:!1,forceTranslucent:!1,bounds:[1,-1,1,-1,1,-1],sourceObject:null},p=t.newInstance=u.default.newInstance(i,"vtkActor");t.default={newInstance:p,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(e,n){var r=[];if(e!==C.FLOAT&&t.openGLDataType===t.context.FLOAT)for(var a=t.width*t.height*t.components,i=0;i<n.length;i++){for(var o=new Float32Array(a),s=0;s<a;s++)o[s]=n[i][s];r.push(o)}if(e!==C.UNSIGNED_CHAR&&t.openGLDataType===t.context.UNSIGNED_BYTE)for(var u=t.width*t.height*t.components,l=0;l<n.length;l++){for(var c=new Uint8Array(u),d=0;d<u;d++)c[d]=n[l][d];r.push(c)}if(0===r.length)for(var f=0;f<n.length;f++)r.push(n[f]);return r}function r(e){if(t.openGLRenderWindow.getWebgl2())return e;var n=[],r=t.width,a=t.height,i=t.components;if(e&&(!m.isPowerOfTwo(r)||!m.isPowerOfTwo(a)))for(var o=m.nearestPowerOfTwo(r),s=m.nearestPowerOfTwo(a),u=o*s*t.components,l=0;l<e.length;l++)if(null!==e[l]){var c=null;switch(t.openGLDataType){case t.context.FLOAT:c=new Float32Array(u);break;default:case t.context.UNSIGNED_BYTE:c=new Uint8Array(u)}for(var d=a/s,f=r/o,g=0;g<s;g++){var p=g*o*i,v=g*d,h=Math.floor(v),y=Math.ceil(v);y>=a&&(y=a-1);var A=v-h,S=1-A;h=h*r*i,y=y*r*i;for(var T=0;T<o;T++){var M=T*i,b=T*f,D=Math.floor(b),I=Math.ceil(b);I>=r&&(I=r-1);var w=b-D;D*=i,I*=i;for(var C=0;C<i;C++)c[p+M+C]=e[l][h+D+C]*S*(1-w)+e[l][h+I+C]*S*w+e[l][y+D+C]*A*(1-w)+e[l][y+I+C]*A*w}}n.push(c),t.width=o,t.height=s}else n.push(null);if(0===n.length)for(var N=0;N<e.length;N++)n.push(e[N]);return n}function a(e,t,n){for(var r=[],a=[],i=0;i<e;++i)r[i]=n[i],a[i]=n[i];for(var o=0,s=0;s<t;++s)for(var u=0;u<e;++u)n[o]<r[u]&&(r[u]=n[o]),n[o]>a[u]&&(a[u]=n[o]),o++;for(var l=[],c=[],d=0;d<e;++d)r[d]===a[d]&&(a[d]=r[d]+1),l[d]=r[d],c[d]=a[d]-r[d];return{scale:c,offset:l}}var i=this;t.classHierarchy.push("vtkOpenGLTexture"),e.render=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(n?t.openGLRenderWindow=n:(t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent()),t.context=t.openGLRenderWindow.getContext(),t.renderable.getInterpolate()?(t.generateMipmap?e.setMinificationFilter(w.LINEAR_MIPMAP_LINEAR):e.setMinificationFilter(w.LINEAR),e.setMagnificationFilter(w.LINEAR)):(e.setMinificationFilter(w.NEAREST),e.setMagnificationFilter(w.NEAREST)),t.renderable.getRepeat()&&(e.setWrapR(I.REPEAT),e.setWrapS(I.REPEAT),e.setWrapT(I.REPEAT)),t.renderable.getInputData()&&t.renderable.setImage(null),!t.handle||t.renderable.getMTime()>t.textureBuildTime.getMTime()){null!==t.renderable.getImage()&&(t.renderable.getInterpolate()&&(t.generateMipmap=!0,e.setMinificationFilter(w.LINEAR_MIPMAP_LINEAR)),t.renderable.getImage()&&t.renderable.getImageLoaded()&&(e.create2DFromImage(t.renderable.getImage()),e.activate(),e.sendParameters(),t.textureBuildTime.modified()));var r=t.renderable.getInputData(0);if(r&&r.getPointData().getScalars()){for(var a=r.getExtent(),i=r.getPointData().getScalars(),o=[],s=0;s<t.renderable.getNumberOfInputPorts();++s){var u=t.renderable.getInputData(s),l=u?u.getPointData().getScalars().getData():null;l&&o.push(l)}t.renderable.getInterpolate()&&4===i.getNumberOfComponents()&&(t.generateMipmap=!0,e.setMinificationFilter(w.LINEAR_MIPMAP_LINEAR)),o.length%6==0?e.createCubeFromRaw(a[1]-a[0]+1,a[3]-a[2]+1,i.getNumberOfComponents(),i.getDataType(),o):e.create2DFromRaw(a[1]-a[0]+1,a[3]-a[2]+1,i.getNumberOfComponents(),i.getDataType(),i.getData()),e.activate(),e.sendParameters(),t.textureBuildTime.modified()}}t.handle&&e.activate()},e.destroyTexture=function(){e.deactivate(),t.context&&t.handle&&t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.components=0,t.width=0,t.height=0,t.depth=0,e.resetFormatAndType()},e.createTexture=function(){t.handle||(t.handle=t.context.createTexture(),t.target&&(t.context.bindTexture(t.target,t.handle),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t.openGLRenderWindow.getWebgl2()&&t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_R,e.getOpenGLWrapMode(t.wrapR)),t.context.bindTexture(t.target,null)))},e.getTextureUnit=function(){return t.openGLRenderWindow?t.openGLRenderWindow.getTextureUnitForTexture(e):-1},e.activate=function(){t.openGLRenderWindow.activateTexture(e),e.bind()},e.deactivate=function(){t.openGLRenderWindow&&t.openGLRenderWindow.deactivateTexture(e)},e.releaseGraphicsResources=function(n){n&&t.handle&&(n.activateTexture(e),n.deactivateTexture(e),t.context.deleteTexture(t.handle),t.handle=0,t.numberOfDimensions=0,t.target=0,t.internalFormat=0,t.format=0,t.openGLDataType=0,t.components=0,t.width=0,t.height=0,t.depth=0),t.shaderProgram&&(t.shaderProgram.releaseGraphicsResources(n),t.shaderProgram=null)},e.bind=function(){t.context.bindTexture(t.target,t.handle),t.autoParameters&&e.getMTime()>t.sendParametersTime.getMTime()&&e.sendParameters()},e.isBound=function(){var e=!1;if(t.context&&t.handle){var n=0;switch(t.target){case t.context.TEXTURE_2D:n=t.context.TEXTURE_BINDING_2D;break;default:x("impossible case")}e=t.context.getIntegerv(n)===t.handle}return e},e.sendParameters=function(){t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_S,e.getOpenGLWrapMode(t.wrapS)),t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_T,e.getOpenGLWrapMode(t.wrapT)),t.openGLRenderWindow.getWebgl2()&&t.context.texParameteri(t.target,t.context.TEXTURE_WRAP_R,e.getOpenGLWrapMode(t.wrapR)),t.context.texParameteri(t.target,t.context.TEXTURE_MIN_FILTER,e.getOpenGLFilterMode(t.minificationFilter)),t.context.texParameteri(t.target,t.context.TEXTURE_MAG_FILTER,e.getOpenGLFilterMode(t.magnificationFilter)),t.openGLRenderWindow.getWebgl2()&&(t.context.texParameteri(t.target,t.context.TEXTURE_BASE_LEVEL,t.baseLevel),t.context.texParameteri(t.target,t.context.TEXTURE_MAX_LEVEL,t.maxLevel)),t.sendParametersTime.modified()},e.getInternalFormat=function(n,r){return t.internalFormat?t.internalFormat:(t.internalFormat=e.getDefaultInternalFormat(n,r),t.internalFormat||N("Unable to find suitable internal format for T="+n+" NC= "+r),t.internalFormat)},e.getDefaultInternalFormat=function(e,n){var r=0;return(r=t.openGLRenderWindow.getDefaultTextureInternalFormat(e,n,!1))?r:(r=i.openGLRenderWindow.getDefaultTextureInternalFormat(e,n,!0),r||(N("Unsupported internal texture type!"),N("Unable to find suitable internal format for T="+e+" NC= "+n)),r)},e.setInternalFormat=function(n){n!==t.context.InternalFormat&&(t.internalFormat=n,e.modified())},e.getFormat=function(n,r){return t.format||(t.format=e.getDefaultFormat(n,r)),t.format},e.getDefaultFormat=function(e,n){if(t.openGLRenderWindow.getWebgl2())switch(n){case 1:return t.context.RED;case 2:return t.context.RG;case 3:return t.context.RGB;case 4:return t.context.RGBA;default:return t.context.RGB}else switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:return t.context.RGBA;default:return t.context.RGB}},e.resetFormatAndType=function(){t.format=0,t.internalFormat=0,t.openGLDataType=0},e.getDefaultDataType=function(e){if(t.openGLRenderWindow.getWebgl2())switch(e){case C.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case C.UNSIGNED_SHORT:return t.context.UNSIGNED_SHORT;case C.UNSIGNED_INT:return t.context.UNSIGNED_INT;case C.FLOAT:case C.VOID:default:return t.context.FLOAT}switch(e){case C.UNSIGNED_CHAR:return t.context.UNSIGNED_BYTE;case C.UNSIGNED_SHORT:return t.context.UNSIGNED_SHORT;case C.UNSIGNED_INT:return t.context.UNSIGNED_INT;case C.FLOAT:case C.VOID:default:return t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear")?t.context.FLOAT:t.context.UNSIGNED_BYTE}},e.getOpenGLDataType=function(n){return t.openGLDataType||(t.openGLDataType=e.getDefaultDataType(n)),t.openGLDataType},e.getShiftAndScale=function(){var e=0,n=1;switch(t.openGLDataType){case t.context.BYTE:n=127.5,e=n-128;break;case t.context.UNSIGNED_BYTE:n=255,e=0;break;case t.context.SHORT:n=32767.5,e=n-32768;break;case t.context.UNSIGNED_SHORT:n=65536,e=0;break;case t.context.INT:n=2147483647.5,e=n-2147483648;break;case t.context.UNSIGNED_INT:n=4294967295,e=0;break;case t.context.FLOAT:}return{shift:e,scale:n}},e.getOpenGLFilterMode=function(e){switch(e){case w.NEAREST:return t.context.NEAREST;case w.LINEAR:return t.context.LINEAR;case w.NEAREST_MIPMAP_NEAREST:return t.context.NEAREST_MIPMAP_NEAREST;case w.NEAREST_MIPMAP_LINEAR:return t.context.NEAREST_MIPMAP_LINEAR;case w.LINEAR_MIPMAP_NEAREST:return t.context.LINEAR_MIPMAP_NEAREST;case w.LINEAR_MIPMAP_LINEAR:return t.context.LINEAR_MIPMAP_LINEAR;default:return t.context.NEAREST}},e.getOpenGLWrapMode=function(e){switch(e){case I.CLAMP_TO_EDGE:return t.context.CLAMP_TO_EDGE;case I.REPEAT:return t.context.REPEAT;case I.MIRRORED_REPEAT:return t.context.MIRRORED_REPEAT;default:return t.context.CLAMP_TO_EDGE}},e.create2DFromRaw=function(a,i,o,s,u){if(e.getOpenGLDataType(s),e.getInternalFormat(s,o),e.getFormat(s,o),!t.internalFormat||!t.format||!t.openGLDataType)return P("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=o,t.width=a,t.height=i,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind();var l=[u],c=n(s,l),d=r(c);return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,d[0]),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0},e.create2DFromCanvas=function(n,r,a,i,o){return e.getOpenGLDataType(i),e.getInternalFormat(i,a),e.getFormat(i,a),t.internalFormat&&t.format&&t.openGLDataType?(t.target=t.context.TEXTURE_2D,t.components=a,t.width=n,t.height=r,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.format,t.openGLDataType,o),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0):(P("Failed to determine texture parameters."),!1)},e.createCubeFromRaw=function(a,i,o,s,u){if(e.getOpenGLDataType(s),e.getInternalFormat(s,o),e.getFormat(s,o),!t.internalFormat||!t.format||!t.openGLDataType)return P("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_CUBE_MAP,t.components=o,t.width=a,t.height=i,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),t.maxLevel=u.length/6-1,e.createTexture(),e.bind();for(var l=n(s,u),c=r(l),d=[],f=t.width,m=t.height,g=0;g<c.length;g++){g%6==0&&0!==g&&(f/=2,m/=2),d[g]=new window[s](m*f*t.components);for(var p=0;p<m;++p){var v=p*f*t.components,h=(m-p-1)*f*t.components;d[g].set(c[g].slice(h,h+f*t.components),v)}}t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1);for(var y=0;y<6;y++)for(var A=0,S=t.width,T=t.height;S>=1&&T>=1;){var M=null;A<=t.maxLevel&&(M=d[6*A+y]),t.context.texImage2D(t.context.TEXTURE_CUBE_MAP_POSITIVE_X+y,A,t.internalFormat,S,T,0,t.format,t.openGLDataType,M),A++,S/=2,T/=2}return e.deactivate(),!0},e.createDepthFromRaw=function(n,r,a,i){return e.getOpenGLDataType(a),t.format=t.context.DEPTH_COMPONENT,t.internalFormat=t.context.DEPTH_COMPONENT,t.internalFormat&&t.format&&t.openGLDataType?(t.target=t.context.TEXTURE_2D,t.components=1,t.width=n,t.height=r,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,i),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0):(P("Failed to determine texture parameters."),!1)},e.create2DFromImage=function(n){if(e.getOpenGLDataType(C.UNSIGNED_CHAR),e.getInternalFormat(C.UNSIGNED_CHAR,4),e.getFormat(C.UNSIGNED_CHAR,4),!t.internalFormat||!t.format||!t.openGLDataType)return P("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=4,t.width=n.width,t.height=n.height,t.depth=1,t.numberOfDimensions=2,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1);var r=!m.isPowerOfTwo(n.width)||!m.isPowerOfTwo(n.height),a=document.createElement("canvas");a.width=r?m.nearestPowerOfTwo(n.width):n.width,a.height=r?m.nearestPowerOfTwo(n.height):n.height;var i=a.getContext("2d");i.translate(0,a.height),i.scale(1,-1),i.drawImage(n,0,0,n.width,n.height,0,0,a.width,a.height),navigator.userAgent.indexOf("Chrome/69")>=0&&i.getImageData(0,0,1,1);var o=a;return t.context.texImage2D(t.target,0,t.internalFormat,t.format,t.openGLDataType,o),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0},e.create3DFromRaw=function(n,r,a,i,o,s){return e.getOpenGLDataType(o),e.getInternalFormat(o,i),e.getFormat(o,i),t.internalFormat&&t.format&&t.openGLDataType?(t.target=t.context.TEXTURE_3D,t.components=i,t.width=n,t.height=r,t.depth=a,t.numberOfDimensions=3,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.context.texImage3D(t.target,0,t.internalFormat,t.width,t.height,t.depth,0,t.format,t.openGLDataType,s),t.generateMipmap&&t.context.generateMipmap(t.target),e.deactivate(),!0):(P("Failed to determine texture parameters."),!1)},e.create3DFilterableFromRaw=function(n,r,i,o,s,u){for(var l=n*r*i,c=[],d=[],f=0;f<o;++f)c[f]=0,d[f]=1;if(t.volumeInfo={scale:d,offset:c,width:n,height:r,depth:i},t.openGLRenderWindow.getWebgl2()){if(s===C.FLOAT)return e.create3DFromRaw(n,r,i,o,s,u);if(s===C.UNSIGNED_CHAR){for(var g=0;g<o;++g)t.volumeInfo.scale[g]=255;return e.create3DFromRaw(n,r,i,o,s,u)}var p=new Float32Array(l*o),v=a(o,l,u);t.volumeInfo.offset=v.offset,t.volumeInfo.scale=v.scale;for(var h=0,y=0;y<l;++y)for(var A=0;A<o;++A)p[h]=(u[h]-t.volumeInfo.offset[A])/t.volumeInfo.scale[A],h++;return e.create3DFromRaw(n,r,i,o,C.FLOAT,p)}var S=a(o,l,u),T=function(e,t,n,r,a){e[t]=n},M=C.UNSIGNED_CHAR;if(s===C.UNSIGNED_CHAR)for(var b=0;b<o;++b)S.offset[b]=0,S.scale[b]=255;else t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear")?(M=C.FLOAT,T=function(e,t,n,r,a){e[t]=(n-r)/a}):(M=C.UNSIGNED_CHAR,T=function(e,t,n,r,a){e[t]=255*(n-r)/a});if(e.getOpenGLDataType(M),e.getInternalFormat(M,o),e.getFormat(M,o),!t.internalFormat||!t.format||!t.openGLDataType)return P("Failed to determine texture parameters."),!1;t.target=t.context.TEXTURE_2D,t.components=o,t.depth=1,t.numberOfDimensions=2;var D=t.context.getParameter(t.context.MAX_TEXTURE_SIZE);D>4096&&(M===C.FLOAT||o>=3)&&(D=4096);var I=1,w=1;l>D*D&&(I=Math.ceil(Math.sqrt(l/(D*D))),w=I);var N=Math.sqrt(l)/I;N=m.nearestPowerOfTwo(N);var x=Math.floor(N*I/n),E=Math.ceil(i/x),O=m.nearestPowerOfTwo(r*E/w);t.width=N,t.height=O,t.openGLRenderWindow.activateTexture(e),e.createTexture(),e.bind(),t.volumeInfo.xreps=x,t.volumeInfo.yreps=E,t.volumeInfo.xstride=I,t.volumeInfo.ystride=w,t.volumeInfo.offset=S.offset,t.volumeInfo.scale=S.scale;var L=void 0,_=N*O*o;L=M===C.FLOAT?new Float32Array(_):new Uint8Array(_);for(var R=0,k=0;k<E;k++)for(var B=Math.min(x,i-k*x),V=t.width-B*Math.floor(n/I),F=0;F<r;F+=w){for(var j=0;j<B;j++)for(var U=o*((k*x+j)*n*r+F*n),z=0;z<n;z+=I)for(var G=0;G<o;G++)T(L,R,u[U+z*o+G],S.offset[G],S.scale[G]),R++;R+=V*o}return t.context.pixelStorei(t.context.UNPACK_ALIGNMENT,1),t.context.texImage2D(t.target,0,t.internalFormat,t.width,t.height,0,t.format,t.openGLDataType,L),e.deactivate(),!0},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))},e.getMaximumTextureSize=function(e){return e&&e.isCurrent()?e.getIntegerv(e.MAX_TEXTURE_SIZE):-1},e.copyFromFrameBuffer=function(n,r,a,i){e.activate(),t.context.copyTexImage2D(t.context.TEXTURE_2D,0,t.format,n,r,a,i,0)},e.renderTriangles=function(e,n,r,a){if(!r||!a||!n)return void x("Error must have verts, program and vao");r.isBound()||x("attempt to render to unbound program");var i=A.default.newInstance();i.setOpenGLRenderWindow(t.openGLRenderWindow),i.upload(n,D.ObjectType.ARRAY_BUFFER),a.bind(),a.addAttributeArray(r,i,"vertexMC",0,3*e.BYTES_PER_ELEMENT,t.context.FLOAT,3,!1)||x("Error setting 'vertexMC' in shader VAO.");var o=A.default.newInstance();o.setOpenGLRenderWindow(t.openGLRenderWindow),e&&(o.upload(e,D.ObjectType.ARRAY_BUFFER),a.bind(),a.addAttributeArray(r,o,"tcoordMC",0,2*n.BYTES_PER_ELEMENT,t.context.FLOAT,2,!1)||x("Error setting 'tcoordMC' in shader VAO.")),t.context.drawArrays(t.context.TRIANGLES,0,e.length/2),a.removeAttributeArray("vertexMC"),a.removeAttributeArray("tcoordMC"),a.release(),i.release(),i.releaseGraphicsResources(),e&&(o.release(),o.releaseGraphicsResources())},e.copyToFrameBuffer0=function(n,r,a,i){if(a&&i)e.renderTriangles(n,r,a,i);else{if(t.shaderProgram)t.openGLRenderWindow.getShaderCache().readyShaderProgram(t.shaderProgram.getProgram());else{t.shaderProgram=h.default.newInstance(),t.shaderProgram.setOpenGLRenderWindow(t.openGLRenderWindow);var o=T.default,s=b.default,u=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(o,s,"");u!==t.shaderProgram.getProgram()&&(t.shaderProgram.setProgram(u),t.shaderProgram.getVAO().shaderProgramChanged()),t.shaderProgram.getShaderSourceTime().modified()}var l=t.shaderProgram.getProgram();l&&(e.activate(),l.setUniformi("source",e.getTextureUnit()),e.renderTriangles(n,r,l,t.shaderProgram.getVAO()),e.deactivate())}},e.copyToFrameBuffer1=function(n,r,a,i,o,s,u,l,c,d,f){var m=(n+.5)/t.width,g=(r+.5)/t.height,p=(a+.5)/t.width,v=(i+.5)/t.height,h=t.context.getParameter(t.context.VIEWPORT);t.context.viewport(o,s,u-o+1,l-s+1);var y=null;y=f?new Float32Array([m,v,p,v,p,g,m,v,p,g,m,g]):new Float32Array([m,g,p,g,p,v,m,g,p,v,m,v]);var A=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,-1,0,1,1,0,-1,1,0]);e.copyToFrameBuffer0(y,A,c,d),t.context.viewport(h[0],h[1],h[2],h[3])},e.copyToFrameBuffer2=function(t,n,r,a,i,o,s,u,l){var c=i+r-t,d=o+a-n;e.copyToFrameBuffer1(t,n,r,a,i,o,c,d,s,u,l)},e.copyToFrameBuffer3=function(n,r,a){var i=.5/t.width,o=.5/t.height,s=(t.width-.5)/t.width,u=(t.height-.5)/t.height,l=null;l=a?new Float32Array([i,u,s,u,s,o,i,u,s,o,i,o]):new Float32Array([i,o,s,o,s,u,i,o,s,u,i,u]);var c=new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,-1,0,1,1,0,-1,1,0]);e.copyToFrameBuffer0(l,c,n,r)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,E,n),p.default.extend(e,t,n),t.sendParametersTime={},l.default.obj(t.sendParametersTime,{mtime:0}),t.textureBuildTime={},l.default.obj(t.textureBuildTime,{mtime:0}),l.default.set(e,t,["format","openGLDataType"]),l.default.setGet(e,t,["keyMatrixTime","minificationFilter","magnificationFilter","wrapS","wrapT","wrapR","generateMipmap"]),l.default.get(e,t,["width","height","volumeInfo","components","handle","target"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(31),s=r(o),u=n(0),l=r(u),c=n(2),d=r(c),f=n(1),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),g=n(9),p=r(g),v=n(32),h=r(v),y=n(54),A=r(y),S=n(135),T=r(S),M=n(220),b=r(M),D=n(43),I=s.default.Wrap,w=s.default.Filter,C=d.default.VtkDataTypes,N=l.default.vtkDebugMacro,P=l.default.vtkErrorMacro,x=l.default.vtkWarningMacro,E={openGLRenderWindow:null,context:null,handle:0,sendParametersTime:null,textureBuildTime:null,numberOfDimensions:0,target:0,format:0,openGLDataType:0,components:0,width:0,height:0,depth:0,autoParameters:!0,wrapS:I.CLAMP_TO_EDGE,wrapT:I.CLAMP_TO_EDGE,wrapR:I.CLAMP_TO_EDGE,minificationFilter:w.NEAREST,magnificationFilter:w.NEAREST,minLOD:-1e3,maxLOD:1e3,baseLevel:0,maxLevel:1e3,generateMipmap:!1},O=t.newInstance=l.default.newInstance(i,"vtkOpenGLTexture");t.default=Object.assign({newInstance:O,extend:i},s.default)},function(e,t,n){"use strict";var r=n(28).assign,a=n(301),i=n(303),o=n(102),s={};r(s,a,i,o),e.exports=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("vtkDataManagement"),e.releaseAllData=function(){t.ycmParser=v.default.newInstance(),t.maskImageMap=new Map},e.getMaskImage=function(n,r){var a={imageData:null,maskbit:0},i=!1;if(t.maskImageMap.forEach(function(e,t){if(!i&&e[8]===n)for(var o=0;o<8;o++)if(e[o]<0)return a.imageData=t,a.maskbit=o,e[o]=r,void(i=!0)}),i)return a;var o=e.getData(n);if(!o)return a;var s=o.getDimensions(),u=o.getOrigin(),l=o.getSpacing(),c=f.default.newInstance();c.setOrigin(u),c.setDimensions(s),c.setSpacing(l);var d=g.default.newInstance({name:"MetaImage",numberOfComponents:1,values:new Uint8Array(s[0]*s[1]*s[2])});return c.getPointData().setScalars(d),t.maskImageMap.set(c,[r,-1,-1,-1,-1,-1,-1,-1,n]),a.imageData=c,a.maskbit=0,a},e.copyMaskDataToBit=function(e,t,n,r){if(e){var a=128,i=128;a>>=8-t-1,i>>=8-r-1;for(var o=e.getPointData().getScalars().getData(),s=n.getPointData().getScalars().getData(),u=e.getDimensions(),l=n.getDimensions(),c=u[0]*u[1]*u[2],d=l[0]*l[1]*l[2],f=c<=d?c:d,m=0;m<f;m++)o[m]&a?s[m]|=i:s[m]&=~i;n.modified()}},e.findMaskImage=function(e){var n={imageData:null,maskbit:0,rootIndex:0},r=!1;return t.maskImageMap.forEach(function(t,a){if(!r)for(var i=0;i<8;i++)if(t[i]===e)return n.imageData=a,n.maskbit=i,n.rootIndex=t[8],void(r=!0)}),n},e.deleteMaskImage=function(e,n){var r=!1;if(t.maskImageMap.forEach(function(t,n){if(!r)for(var a=0;a<8;a++)if(t[a]===e)return t[a]=-1,void(r=!0)}),n){var a=[];t.maskImageMap.forEach(function(e,t){for(var n=0;n<8;n++)if(e[n]>=0)return;a.push(t)}),a.forEach(function(e){t.maskImageMap.delete(e)})}},e.initMaskImage=function(n){if(e.getDataNodeType(n)===M.IMAGE_DATA){var r=e.getData(n);if(r){var a=r.getDimensions();(e.getChildIndexes(n)||[]).forEach(function(i){if(e.getDataNodeType(i)===M.MASKV_DATA&&!e.findMaskImage(i).imageData){var o=e.getData(i);if(o){var s=o.getDimensions(),u=e.getNodeProperty(i,"mask_bit");if(a[0]===s[0]&&a[1]===s[1]&&a[2]===s[2]){if(!t.maskImageMap.has(o)){var l=r.getOrigin(),c=r.getSpacing();o.setOrigin(l),o.setSpacing(c),t.maskImageMap.set(o,[-1,-1,-1,-1,-1,-1,-1,-1,n])}return void(t.maskImageMap.get(o)[u]=i)}var d=e.getMaskImage(n,i),f=d.imageData,m=d.maskbit,g=o,p=u;e.copyMaskDataToBit(g,p,f,m),e.setNodeProperty(i,"mask_bit",m),e.setData(i,f)}}})}}},e.initMaskImages=function(){(e.getRootIndexes()||[]).forEach(function(t){e.initMaskImage(t)})},e.updateMaskNodeParent=function(n,r,a){if(e.getDataNodeType(r)===M.IMAGE_DATA){var i=t.ycmParser.getNodeByIndex(n);if(i&&i.properties.node_type===M.MASKV_DATA){var o=e.getData(n);if(o){var s=e.getData(r),u=s.getDimensions(),l=o.getDimensions();if(u[0]!==l[0]||u[1]!==l[1]||u[2]!==l[2]){e.deleteMaskImage(n),i.properties.parent_index=r;var c=e.getMaskImage(r,n);i.properties.mask_bit=c.maskbit,e.setData(n,c.imageData),o=c.imageData}}else{i.properties.parent_index=r;var d=e.getMaskImage(r,n);i.properties.mask_bit=d.maskbit,e.setData(n,d.imageData),o=d.imageData}if(a){var f=o.getPointData().getScalars().getData(),m=i.properties.mask_bit;if("all"===a)f.fill(0);else if("this"===a){var g=128;g>>=8-m-1;for(var p=255&g,v=f.length,h=0;h<v;h++)f[h]&=~p}}}}},e.updateTempMaskNodeParent=function(n,r,a){if(e.getDataNodeType(r)===M.IMAGE_DATA){var i=e.getData(r);if(i){var o=i.getDimensions(),s=t.ycmParser.getNodeByIndex(n);if(s&&s.properties.node_type===M.MASKV_DATA){var u=e.getData(n),l=u?u.getDimensions():[];if(u&&o[0]===l[0]&&o[1]===l[1]&&o[2]===l[2])s.properties.parent_index=r,s.properties.mask_bit=0;else{var c=i.getOrigin(),d=i.getSpacing();u=f.default.newInstance(),u.setOrigin(c),u.setDimensions(o),u.setSpacing(d);var m=g.default.newInstance({name:"MetaImage",numberOfComponents:1,values:new Uint8Array(o[0]*o[1]*o[2])});u.getPointData().setScalars(m),s.properties.parent_index=r,s.properties.mask_bit=0,e.setData(n,u)}a&&u.getPointData().getScalars().getData().fill(0)}}}},e.removeMaskNode=function(n){var r=t.ycmParser.getNodeByIndex(n);if(!r)return T("removeMaskNode(): invalid node index "+n),!1;if(r.properties.node_type!==M.MASKV_DATA)return!1;for(var a=t.ycmParser.getNodes(),i=0;i<a.length;i++)if(a[i].properties.index===n){a.splice(i,1);break}return e.deleteMaskImage(n),!0},e.removeNode=function(n){function r(e){var n=t.ycmParser.getNodeByIndex(e);if(n){var r=n.properties.parent_index;a.properties.node_type===M.MASKV_DATA||(a.properties.node_type,M.IMAGE_DATA);for(var i=0;i<s.length;i++){var o=s[i].properties;o.parent_index===e&&(o.parent_index=r),o.index!==e||(s.splice(i,1),i--)}}}var a=t.ycmParser.getNodeByIndex(n);if(!a)return T("removeNode(): invalid node index "+n),[];var i=[n];if(e.getAllChildIndexes(n).forEach(function(t){var r=!0;if(n!==t){var a=e.getDataNodeType(t);a!==M.SURFACE_DATA&&a!==M.COLOR_SURFACE_DATA||(r=!1)}r&&i.push(t)}),i.length<=0)return i;var o=i.concat(),s=t.ycmParser.getNodes();return i.forEach(function(e){r(e)}),o},e.duplicateDataNode=function(n,r){var a=t.ycmParser.getNodeByIndex(n);if(!a)return T("duplicateDataNode(): invalid node index "+n),-1;var i=a.properties.node_type;if(i===M.SURFACE_DATA){var o=e.getData(n),s=c.default.newInstance();o&&s.deepCopy(o);var u=t.ycmParser.newNode(i);u.data.textData=e.getTextData(n),u.data.vtkData=s,Object.keys(a.properties).forEach(function(e){var t=a.properties[e];t&&Array.isArray(t)?u.properties[e]=t.concat():u.properties[e]=t}),u.properties.name=r||a.properties.name+"";var l=a.properties.parent_index;return t.ycmParser.addNode(u,l)}return M.MASKV_DATA,-1},e.createMaskNode=function(e,n,r){var a=t.ycmParser.newNode(M.MASKV_DATA);return a.properties.name=e,a.data.fileName=n,t.ycmParser.addNode(a,r)},e.createSurfaceNode=function(e,n){var r=t.ycmParser.newNode(M.SURFACE_DATA);return r.properties.name=e,r.data.fileName=e,t.ycmParser.addNode(r,n)},e.createImageNode=function(e,n){var r=t.ycmParser.newNode(M.IMAGE_DATA);return r.properties.name=e,r.data.fileName=e,r.data.dataPath=n,t.ycmParser.addNode(r,-1)},e.getData=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.data.vtkData:(T("getData(): invalid node index "+e),null)},e.setData=function(e,n){var r=t.ycmParser.getNodeByIndex(e);return r?(r.data.vtkData=n,!0):(T("setData(): invalid node index "+e),!1)},e.getTextData=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.data.textData:(T("getData(): invalid node index "+e),null)},e.setTextData=function(e,n){var r=t.ycmParser.getNodeByIndex(e);return r?(r.data.textData=n,!0):(T("setData(): invalid node index "+e),!1)},e.setDataPath=function(e,n){var r=t.ycmParser.getNodeByIndex(e);return r?(r.data.dataPath=n,!0):(T("setDataPath(): invalid node index "+e),!1)},e.getDataPath=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.data.dataPath:(T("getDataPath(): invalid node index "+e),"")},e.setFileName=function(e,n){var r=t.ycmParser.getNodeByIndex(e);return r?(r.properties.name=n,r.data.fileName=n,!0):(T("setFileName(): invalid node index "+e),!1)},e.getFileName=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.data.fileName:(T("getFileName(): invalid node index "+e),"")},e.getAllNodeIndex=function(){return t.ycmParser.getNodes().map(function(e){return e.properties.index})},e.getRootIndexes=function(){var e=[];return t.ycmParser.getNodes().forEach(function(t){-1===t.properties.parent_index&&e.push(t.properties.index)}),e},e.getVisibleRootIndex=function(){for(var n=e.getRootIndexes(),r=0;r<n.length;r++){var a=t.ycmParser.getNodeByIndex(n[r]);if("ImageData"===a.data.readMethod&&a.properties.visible)return n[r]}return-1},e.getChildIndexes=function(e){if(!t.ycmParser.getNodeByIndex(e))return T("getChildIndexes(): invalid node index "+e),null;var n=t.ycmParser.getNodes(),r=[];return(n||[]).forEach(function(t){t.properties.parent_index===e&&r.push(t.properties.index)}),r},e.getAllChildIndexes=function(t){var n=e.getChildIndexes(t)||[],r=n.concat();return n.forEach(function(t){var n=e.getAllChildIndexes(t);r.push.apply(r,a(n))}),r},e.isNodeExist=function(e){return!!t.ycmParser.getNodeByIndex(e)},e.isPropertyExist=function(e,n){var r=t.ycmParser.getNodeByIndex(e);return!!r&&void 0!==r.properties[n]},e.getNodeProperty=function(e,n){var r=t.ycmParser.getNodeByIndex(e);if(r&&void 0!==r.properties[n])return r.properties[n]},e.setNodeProperty=function(e,n,r){var a=t.ycmParser.getNodeByIndex(e);return a?a.properties[n]!==r&&(a.properties[n]=r,!0):(T("setNodeProperty(): invalid node index "+e),!1)},e.getDataNodeType=function(t){return e.getNodeProperty(t,"node_type")},e.getNodeColor=function(e){var n=t.ycmParser.getNodeByIndex(e);if(!n)return T("getNodeColor(): invalid node index "+e),[];var r=n.properties,a=[];return a[0]=r.color[0],a[1]=r.color[1],a[2]=r.color[2],a},e.setNodeColor=function(e,n){var r=Array.isArray(n[0])?n[0]:n,a=t.ycmParser.getNodeByIndex(e);if(!a)return T("setNodeColor(): invalid node index "+e),!1;var i=a.properties;return(i.color[0]!==r[0]||i.color[1]!==r[1]||i.color[2]!==r[2])&&(i.color[0]=r[0],i.color[1]=r[1],i.color[2]=r[2],!0)},e.getNodeOpacity=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.properties.opacity:(T("getNodeOpacity(): invalid node index "+e),1)},e.setNodeOpacity=function(e,n){var r=t.ycmParser.getNodeByIndex(e);if(!r)return T("setNodeOpacity(): invalid node index "+e),!1;var a=n;return a>=1?a=1:a<=0&&(a=0),r.properties.opacity!==a&&(r.properties.opacity=a,!0)},e.getNodeVisible=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.properties.visible:(T("getNodeVisible(): invalid node index "+e),1)},e.setNodeVisible=function(n,r){var a=t.ycmParser.getNodeByIndex(n);if(!a)return T("setNodeVisible(): invalid node index "+n),[];var i=[];if(r?1:0){var o=e.getRootIndexes();if(o.length<=1){if(a.properties.visible=1,i.push(n),1===o.length){var s=a.properties.parent_index,u=t.ycmParser.getNodeByIndex(s);if(u&&(u.properties.node_type===M.MEASURE_DATA||a.properties.node_type===M.MEASURE_DATA||a.properties.node_type===M.MASKV_DATA)){var l=t.ycmParser.getNodeByIndex(o[0]);l.properties.visible=1,i.push(o[0])}}}else o.forEach(function(r){var o=e.getAllChildIndexes(r);if(o.unshift(r),o.indexOf(n)>=0){a.properties.visible=1,i.push(n);var s=a.properties.node_type;s!==M.SURFACE_DATA&&s!==M.COLOR_SURFACE_DATA&&s!==M.SEED3D_2_DATA&&s!==M.SEED3D_DATA&&s!==M.CURVE_DATA&&s!==M.DISTANCE3D_DATA&&(t.ycmParser.getNodeByIndex(r).properties.visible=1,i.push(r))}else{var u=a.properties.node_type;u!==M.SURFACE_DATA&&u!==M.COLOR_SURFACE_DATA&&u!==M.SEED3D_2_DATA&&u!==M.SEED3D_DATA&&u!==M.CURVE_DATA&&u!==M.DISTANCE3D_DATA&&o.forEach(function(e){var n=t.ycmParser.getNodeByIndex(e),r=n.properties.node_type;r!==M.SURFACE_DATA&&r!==M.COLOR_SURFACE_DATA&&r!==M.SEED3D_2_DATA&&r!==M.SEED3D_DATA&&r!==M.CURVE_DATA&&r!==M.DISTANCE3D_DATA&&(n.properties.visible=0,i.push(e))})}})}else if(a.properties.visible=0,i.push(n),a.properties.node_type===M.IMAGE_DATA){var c=e.getAllChildIndexes(n);c.unshift(n),c.forEach(function(e){var n=t.ycmParser.getNodeByIndex(e);if(n){var r=n.properties.parent_index,a=t.ycmParser.getNodeByIndex(r);a&&(a.properties.node_type!==M.MEASURE_DATA&&n.properties.node_type!==M.MEASURE_DATA&&n.properties.node_type!==M.MASKV_DATA||(n.properties.visible=0,i.push(e)))}})}return i},e.getNodeParentIndex=function(e){var n=t.ycmParser.getNodeByIndex(e);if(!n)return T("getNodeParentIndex(): invalid node index "+e),-1;if("number"!=typeof n.properties.parent_index)return-1;var r=n.properties.parent_index;return t.ycmParser.getNodeByIndex(r)||(r=-1),r},e.getNodeLogicParent=function(e){var n=t.ycmParser.getNodeByIndex(e);if(!n)return T("getNodeLogicParent(): invalid node index "+e),-1;if("number"!=typeof n.properties.logic_parent)return-1;var r=n.properties.logic_parent;return t.ycmParser.getNodeByIndex(r)||(r=-1),r},e.getResetWindowLevel=function(e){var n=t.ycmParser.getNodeByIndex(e);if(!n)return T("getResetWindowLevel(): invalid node index "+e),[];var r=[0,0];if(void 0!==n.properties["Window Center"]){var a=n.properties["Window Center"];r[1]=Number(a.split("\\")[0])}if(void 0!==n.properties["Window Width"]){var i=n.properties["Window Width"];r[0]=Number(i.split("\\")[0])}return r},e.getNodeTypeSelected=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.properties.type_selected?1:0:(T("getNodeTypeSelected(): invalid node index "+e),0)},e.setNodeTypeSelected=function(e,n){var r=t.ycmParser.getNodeByIndex(e);if(!r)return T("setNodeTypeSelected(): invalid node index "+e),!1;var a=n?1:0;return r.properties.type_selected!==a&&(r.properties.type_selected=a,!0)},e.getNodeSelected=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.properties.selected?1:0:(T("getNodeSelected(): invalid node index "+e),0)},e.setNodeSelected=function(e,n){var r=t.ycmParser.getNodeByIndex(e);if(!r)return T("setNodeSelected(): invalid node index "+e),!1;var a=n?1:0;return r.properties.selected!==a&&(r.properties.selected=a,!0)},e.getSelectedNode=function(){for(var e=t.ycmParser.getNodes()||[],n=0;n<e.length;n++)if(e[n].properties.selected)return e[n].properties.index;return-1},e.setSelectedNode=function(e){for(var n=t.ycmParser.getNodes()||[],r=0;r<n.length;r++)n[r].properties.selected=0;var a=t.ycmParser.getNodeByIndex(e);a&&(a.properties.selected=1)},e.getNodeVolume=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.properties.volume:(T("getNodeVolume(): invalid node index "+e),"")},e.setNodeVolume=function(e,n){var r=t.ycmParser.getNodeByIndex(e);return r?r.properties.volume!==n&&(r.properties.volume=n,!0):(T("setNodeVolume(): invalid node index "+e),!1)},e.calcNodeVolume=function(e,n){var r=t.ycmParser.getNodeByIndex(e);if(!r)return void T("calcNodeVolume(): invalid node index "+e);if(void 0!==r.properties.volume&&!n)return r.properties.volume;var a=r.data.vtkData;if(!a)return void(r.properties.volume=void 0);var i=r.properties.node_type,o=y.default.newInstance();if(i===M.SURFACE_DATA){o.setPolyData(a);var s=o.getPolyDataVolume();r.properties.volume=s}else if(i===M.MASKV_DATA){var u=r.properties.mask_bit;o.setMaskData(a);var l=o.getMaskDataVolume(u);r.properties.volume=l}return r.properties.volume},e.isNodeNameExist=function(e,n){for(var r=t.ycmParser.getNodes()||[],a=0;a<r.length;a++)if(r[a].properties.index!==n&&r[a].properties.name===e)return!0;return!1},e.getValidNodeName=function(e){for(var n=t.ycmParser.getNodes(),r=e,a=1;;a++){for(var i=!1,o=0;o<n.length;o++)if(n[o].properties.name===r){i=!0,r=e+"_"+a;break}if(!i)break}return r},e.getNodeName=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.properties.name:(T("getNodeName(): invalid node index "+e),"")},e.setNodeName=function(e,n){var r=t.ycmParser.getNodeByIndex(e);return r?r.properties.name!==n&&(r.properties.name=n,!0):(T("setNodeName(): invalid node index "+e),!1)},e.getNodeOrganName=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.properties.organ_name:(T("getNodeOrganName(): invalid node index "+e),"")},e.setNodeOrganName=function(e,n){var r=t.ycmParser.getNodeByIndex(e);return r?r.properties.organ_name!==n&&(r.properties.organ_name=n,!0):(T("setNodeOrganName(): invalid node index "+e),!1)},e.updateNodeProperties=function(e){var t=A.RemoteData.onNodeChanged;t&&t(e)},e.getSurfaceNodeList=function(){var n=t.ycmParser.getSurfaceNodeList();return n.forEach(function(t){void 0===t.volume&&(t.volume=e.calcNodeVolume(t.index))}),n},e.getImageNodeList=function(){var e;return(e=t.ycmParser).getImageNodeList.apply(e,arguments)},e.getMaskNodeList=function(){var n=t.ycmParser.getMaskNodeList();return n.forEach(function(t){void 0===t.volume&&(t.volume=e.calcNodeVolume(t.index))}),n},e.getNodeList=function(){var n=t.ycmParser.getNodeList();return n.forEach(function(t){"SurfaceData"!==t.type&&"MaskData"!==t.type||void 0===t.volume&&(t.volume=e.calcNodeVolume(t.index))}),n},e.getImageNodeIndexes=function(){var e=[];return t.ycmParser.getNodes().forEach(function(t){var n=t.properties.index;t.properties.node_type===M.IMAGE_DATA&&e.push(n)}),e},e.getMaskNodeIndexes=function(){var e=[];return t.ycmParser.getNodes().forEach(function(t){var n=t.properties.index;t.properties.node_type===M.MASKV_DATA&&e.push(n)}),e},e.getSurfaceNodeIndexes=function(){var e=[];return t.ycmParser.getNodes().forEach(function(t){var n=t.properties.index;t.properties.node_type===M.SURFACE_DATA&&e.push(n)}),e},e.getNodeAllDataInfo=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.data:(T("getNodeAllDataInfo(): invalid node index "+e),null)},e.getNodeAllProperties=function(e){var n=t.ycmParser.getNodeByIndex(e);return n?n.properties:(T("getNodeAllProperties(): invalid node index "+e),null)},e.getNodeProperties=function(n){if(!t.ycmParser.getNodeByIndex(n))return T("getNodeProperties(): invalid node index "+n),null;var r={};return r.name=e.getNodeProperty(n,"name"),r.organ_name=e.getNodeProperty(n,"organ_name"),e.getDataNodeType(n)===M.COLOR_SURFACE_DATA?r.color=[.5,.5,.5]:r.color=e.getNodeColor(n),r.opacity=e.getNodeOpacity(n),r.visible=e.getNodeVisible(n),r.volume=e.calcNodeVolume(n),r.hide_in_data_storage=e.getNodeProperty(n,"hide_in_data_storage"),r.expand=e.getNodeProperty(n,"expand"),r.selected=e.getNodeProperty(n,"selected"),r.type_selected=e.getNodeProperty(n,"type_selected"),r.select_lock=e.getNodeProperty(n,"select_lock"),r.visible_lock=e.getNodeProperty(n,"visible_lock"),r},e.getNodesToDisplay=function(n){var r=t.ycmParser.getNodes(),a=e.getVisibleRootIndex(),i=[];return(r||[]).forEach(function(e){if(1!==e.properties.hide_in_data_storage){var r=e.properties.index;n<3?e.properties.node_type===M.MASKV_DATA&&t.ycmParser.getNodeByIndex(e.properties.parent_index)&&e.properties.parent_index===a&&i.push(r):3===n&&(e.properties.node_type!==M.SURFACE_DATA&&e.properties.node_type!==M.COLOR_SURFACE_DATA||i.push(r))}}),i},e.getViewNodeList=function(n){var r=t.ycmParser.getNodes(),a=e.getVisibleRootIndex(),i=[];(r||[]).forEach(function(e){if(1!==e.properties.hide_in_data_storage){var r=e.properties.index;n<3?e.properties.node_type===M.MASKV_DATA&&t.ycmParser.getNodeByIndex(e.properties.parent_index)&&e.properties.parent_index===a&&i.push(r):3===n&&(e.properties.node_type!==M.SURFACE_DATA&&e.properties.node_type!==M.COLOR_SURFACE_DATA||i.push(r))}});var o=[],s=[],u=[];i.forEach(function(t){var n=e.getNodeLogicParent(t);if(n>=0){var r=void 0!==o.find(function(e){return e===n});r||o.push(n),e.getNodeLogicParent(n)<0&&((r=void 0!==s.find(function(e){return e===n}))||s.push(n))}else u.push(t)});var l=[],c=[];s.forEach(function(e){if(void 0!==i.find(function(t){return t===e})){var t={index:e,children:[]};l.push(t),c.push(t)}});for(var d=0;d<c.length;d++)!function(t){var n=c[t];i.forEach(function(t){if(e.getNodeLogicParent(t)===n.index){var r={index:t,children:[]};c.push(r),n.children.push(r)}})}(d);return u.forEach(function(e){if(void 0===s.find(function(t){return t===e})){var t={index:e,children:[]};l.push(t),c.push(t)}}),c.forEach(function(t){var n=t.index;t.name=e.getNodeProperty(n,"name"),t.organ_name=e.getNodeProperty(n,"organ_name"),e.getDataNodeType(n)===M.COLOR_SURFACE_DATA?t.color=[.5,.5,.5]:t.color=e.getNodeColor(n),t.opacity=e.getNodeOpacity(n),t.visible=e.getNodeVisible(n),t.volume=e.calcNodeVolume(n),t.hide_in_data_storage=e.getNodeProperty(n,"hide_in_data_storage"),t.expand=e.getNodeProperty(n,"expand"),t.selected=e.getNodeProperty(n,"selected"),t.type_selected=e.getNodeProperty(n,"type_selected"),t.select_lock=e.getNodeProperty(n,"select_lock"),t.visible_lock=e.getNodeProperty(n,"visible_lock")}),l},e.parseYcmData=function(e){t.ycmParser.setYcmPath(S.YCM_PATH),t.ycmParser.setYcmData(e),A.RemoteData.onBeforeNodeData(),t.ycmParser.parse(),A.RemoteData.onAfterNodeData()},e.updateCallbacks=function(){t.ycmParser.setOnSurfaceData(A.RemoteData.downloadSurfaceData),t.ycmParser.setOnImageData(A.RemoteData.downloadImageData),t.ycmParser.setOnMaskData(A.RemoteData.downloadMaskData)},e.writeXml=function(){return t.ycmParser.writeXml()}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,b,n),u.default.obj(e,t),t.ycmParser=v.default.newInstance(),t.maskImageMap=new Map,i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.DataNodeTypes=void 0,t.extend=o;var s=n(0),u=r(s),l=n(4),c=r(l),d=n(22),f=r(d),m=n(2),g=r(m),p=n(202),v=r(p),h=n(72),y=r(h),A=u.default.GlobalObjects,S=u.default.GlobalOptions,T=u.default.vtkErrorMacro,M=t.DataNodeTypes={IMAGE_DATA:0,MASKV_DATA:1,SURFACE_DATA:2,DISTANCE_DATA:3,ANGLE_DATA:4,CONTOUR_DATA:5,BIDIMENSIONAL_DATA:6,SEED_DATA:7,CAPTION_DATA:8,MEASURE_DATA:9,WITHOUT_DATA:10,SEED3D_DATA:11,DISTANCE3D_DATA:12,COLOR_SURFACE_DATA:13,SEED3D_2_DATA:14,CURVE_DATA:15},b={ycmParser:null,maskImageMap:null},D=t.newInstance=u.default.newInstance(o,"vtkDataManagement");t.default={newInstance:D,extend:o,DataNodeTypes:M}},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==(void 0===n?"undefined":a(n)))throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,a){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+r),a);for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){var t,n,r,a,i,o;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),a=0,t=0,n=e.length;t<n;t++)i=e[t],o.set(i,a),a+=i.length;return o}},s={arraySet:function(e,t,n,r,a){for(var i=0;i<r;i++)e[a+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(i)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var t,n,a,i,o,s,u=[].slice,l={}.hasOwnProperty;t=function(){var e,t,n,r,a,o;if(o=arguments[0],a=2<=arguments.length?u.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(e=0,n=a.length;e<n;e++)if(null!=(r=a[e]))for(t in r)l.call(r,t)&&(o[t]=r[t]);return o},i=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},o=function(e){var t;return!!e&&("function"===(t=void 0===e?"undefined":r(e))||"object"===t)},n=function(e){return i(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},a=function(e){var t;if(n(e))return!e.length;for(t in e)if(l.call(e,t))return!1;return!0},s=function(e){var t,n;return o(e)&&(n=Object.getPrototypeOf(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},e.exports.assign=t,e.exports.isFunction=i,e.exports.isObject=o,e.exports.isArray=n,e.exports.isEmpty=a,e.exports.isPlainObject=s}).call(void 0)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){return u.default.vtkErrorMacro("vtkProperty::"+e+" - NOT IMPLEMENTED")}}function i(e,t){t.classHierarchy.push("vtkProperty"),e.setColor=function(n,r,a){t.color[0]===n&&t.color[1]===r&&t.color[2]===a||(t.color[0]=n,t.color[1]=r,t.color[2]=a,e.modified()),e.setDiffuseColor(t.color),e.setAmbientColor(t.color),e.setSpecularColor(t.color)},e.computeCompositeColor=a("ComputeCompositeColor"),e.getColor=function(){var e=0;t.ambient+t.diffuse+t.specular>0&&(e=1/(t.ambient+t.diffuse+t.specular));for(var n=0;n<3;n++)t.color[n]=e*(t.ambient*t.ambientColor[n]+t.diffuse*t.diffuseColor[n]+t.specular*t.specularColor[n]);return[].concat(t.color)},e.addShaderVariable=a("AddShaderVariable"),e.setInterpolationToFlat=function(){return e.setInterpolation(f.FLAT)},e.setInterpolationToGouraud=function(){return e.setInterpolation(f.GOURAUD)},e.setInterpolationToPhong=function(){return e.setInterpolation(f.PHONG)},e.getInterpolationAsString=function(){return u.default.enumToString(f,t.interpolation)},e.setRepresentationToWireframe=function(){return e.setRepresentation(d.WIREFRAME)},e.setRepresentationToSurface=function(){return e.setRepresentation(d.SURFACE)},e.setRepresentationToPoints=function(){return e.setRepresentation(d.POINTS)},e.getRepresentationAsString=function(){return u.default.enumToString(d,t.representation)}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),u.default.obj(e,t),u.default.setGet(e,t,["lighting","interpolation","ambient","diffuse","specular","specularPower","opacity","edgeVisibility","lineWidth","pointSize","backfaceCulling","frontfaceCulling","representation"]),u.default.setGetArray(e,t,["ambientColor","specularColor","diffuseColor","edgeColor"],3),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(52),c=r(l),d=c.default.Representation,f=c.default.Interpolation,m={color:[1,1,1],ambientColor:[1,1,1],diffuseColor:[1,1,1],specularColor:[1,1,1],edgeColor:[0,0,0],ambient:0,diffuse:1,specular:0,specularPower:1,opacity:1,interpolation:f.GOURAUD,representation:d.SURFACE,edgeVisibility:!1,backfaceCulling:!1,frontfaceCulling:!1,pointSize:1,lineWidth:1,lighting:!0,shading:!1,materialName:null},g=t.newInstance=u.default.newInstance(o,"vtkProperty");t.default=Object.assign({newInstance:g,extend:o},c.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Wrap={CLAMP_TO_EDGE:0,REPEAT:1,MIRRORED_REPEAT:2},a=t.Filter={NEAREST:0,LINEAR:1,NEAREST_MIPMAP_NEAREST:2,NEAREST_MIPMAP_LINEAR:3,LINEAR_MIPMAP_NEAREST:4,LINEAR_MIPMAP_LINEAR:5};t.default={Wrap:r,Filter:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLHelper"),e.setOpenGLRenderWindow=function(e){t.program.setContext(e.getContext()),t.VAO.setOpenGLRenderWindow(e),t.CABO.setOpenGLRenderWindow(e)},e.releaseGraphicsResources=function(e){t.VAO.releaseGraphicsResources(),t.CABO.releaseGraphicsResources(),t.CABO.setElementCount(0)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),s.default.obj(e,t),t.shaderSourceTime={},s.default.obj(t.shaderSourceTime),t.attributeUpdateTime={},s.default.obj(t.attributeUpdateTime),s.default.setGet(e,t,["program","shaderSourceTime","VAO","attributeUpdateTime","CABO","primitiveType"]),t.program=d.default.newInstance(),t.VAO=m.default.newInstance(),t.CABO=l.default.newInstance(),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(375),l=r(u),c=n(13),d=r(c),f=n(219),m=r(f),g={program:null,shaderSourceTime:null,VAO:null,attributeUpdateTime:null,CABO:null,primitiveType:0},p=t.newInstance=s.default.newInstance(i);t.default={newInstance:p,extend:i}},function(e,t,n){"use strict";(function(e){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer=void 0!==e,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new a;i.append(r),t.blob=0===i.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!n(235).Readable}catch(e){t.nodestream=!1}}).call(t,n(8).Buffer)},function(e,t,n){"use strict";(function(e){function n(t){if(null===t||void 0===t)return t;if(t.isA)return t;if(!t.vtkClass)return e.console&&e.console.error&&e.console.error("Invalid VTK object"),null;var r=i[t.vtkClass];if(!r)return e.console&&e.console.error&&e.console.error("No vtk class found for Object of type "+t.vtkClass),null;var o=Object.assign({},t);Object.keys(o).forEach(function(e){o[e]&&"object"===a(o[e])&&o[e].vtkClass&&(o[e]=n(o[e]))});var s=r(o);return s&&s.modified&&s.modified(),s}function r(e,t){i[e]=t}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=n;var i={vtkObject:function(){return null}};n.register=r}).call(t,n(14))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return e[0]<=e[1]&&e[2]<=e[3]&&e[4]<=e[5]}function o(e){return[.5*(e[0]+e[1]),.5*(e[2]+e[3]),.5*(e[4]+e[5])]}function s(e,t){return e[2*t+1]-e[2*t]}function u(e){return[s(e,0),s(e,1),s(e,2)]}function l(e){return e.slice(0,2)}function c(e){return e.slice(2,4)}function d(e){return e.slice(4,6)}function f(e){var t=u(e);return t[0]>t[1]?t[0]>t[2]?t[0]:t[2]:t[1]>t[2]?t[1]:t[2]}function m(e){if(i(e)){var t=u(e);return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}return null}function g(e,t){return e<=0&&t>=0||e>=0&&t<=0}function p(e,t){for(var n=0,r=0;r<2;r++)for(var a=2;a<4;a++)for(var i=4;i<6;i++)t[n]=[e[r],e[a],e[i]],n++}function v(e,t,n){e[0]=n[0],e[1]=n[2],e[2]=n[4],t[0]=n[1],t[1]=n[3],t[2]=n[5]}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=o(e);return t[0]=e[1]-n[0],t[1]=e[3]-n[1],t[2]=e[5]-n[2],t}function y(e,t){t.classHierarchy.push("vtkBoundingBox"),e.clone=function(){var e=[].concat(t.bounds);return N({bounds:e})},e.equals=function(e){var n=t.bounds,r=e.getBounds();return n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]&&n[3]===r[3]&&n[4]===r[4]&&n[5]===r[5]},e.setMinPoint=function(e,n,r){var a=S(t.bounds,6),i=a[0],o=a[1],s=a[2],u=a[3],l=a[4],c=a[5];return t.bounds=[e,e>o?e:o,n,n>u?n:u,r,r>c?r:c],i!==e||s!==n||l!==r},e.setMaxPoint=function(e,n,r){var a=S(t.bounds,6),i=a[0],o=a[1],s=a[2],u=a[3],l=a[4],c=a[5];return t.bounds=[e<i?e:i,e,n<s?n:s,n,r<l?r:l,r],o!==e||u!==n||c!==r},e.addPoint=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.bounds=t.bounds.map(function(e,t){if(t%2==0){var r=t/2;return e<n[r]?e:n[r]}var a=(t-1)/2;return e>n[a]?e:n[a]})},e.addBounds=function(e,n,r,a,i,o){var s=S(t.bounds,6),u=s[0],l=s[1],c=s[2],d=s[3],f=s[4],m=s[5];t.bounds=void 0===o?[Math.min(e[0],u),Math.max(e[1],l),Math.min(e[2],c),Math.max(e[3],d),Math.min(e[4],f),Math.max(e[5],m)]:[Math.min(e,u),Math.max(n,l),Math.min(r,c),Math.max(a,d),Math.min(i,f),Math.max(o,m)]},e.addBox=function(t){e.addBounds(t.getBounds())},e.isValid=function(){return i(t.bounds)},e.intersect=function(n){if(!e.isValid()||!n.isValid())return!1;for(var r=[0,0,0,0,0,0],a=n.getBounds(),i=void 0,o=0;o<3;o++)if(i=!1,a[2*o]>=t.bounds[2*o]&&a[2*o]<=t.bounds[2*o+1]?(i=!0,r[2*o]=a[2*o]):t.bounds[2*o]>=a[2*o]&&t.bounds[2*o]<=a[2*o+1]&&(i=!0,r[2*o]=t.bounds[2*o]),a[2*o+1]>=t.bounds[2*o]&&a[2*o+1]<=t.bounds[2*o+1]?(i=!0,r[2*o+1]=n.MaxPnt[o]):t.bounds[2*o+1]>=n.MinPnt[2*o]&&t.bounds[2*o+1]<=n.MaxPnt[2*o+1]&&(i=!0,r[2*o+1]=t.bounds[2*o+1]),!i)return!1;return t.bounds=r,!0},e.intersects=function(n){if(!e.isValid()||!n.isValid())return!1;for(var r=n.getBounds(),a=0;a<3;a++)if(!(r[2*a]>=t.bounds[2*a]&&r[2*a]<=t.bounds[2*a+1]||t.bounds[2*a]>=r[2*a]&&t.bounds[2*a]<=r[2*a+1]||r[2*a+1]>=t.bounds[2*a]&&r[2*a+1]<=t.bounds[2*a+1]||t.bounds[2*a+1]>=n.MinPnt[2*a]&&t.bounds[2*a+1]<=n.MaxPnt[2*a+1]))return!1;return!0},e.intersectPlane=function(e,n){for(var r=[[0,1,2,3,4,5,6,7],[0,1,4,5,2,3,6,7],[0,2,4,6,1,3,5,7]],a=[0,0,0,0,0,0,0,0],i=0,o=0;o<2;o++)for(var s=2;s<4;s++)for(var u=4;u<6;u++){var l=[t.bounds[o],t.bounds[s],t.bounds[u]];a[i++]=D.default.evaluate(n,e,l)}for(var c=2;c--&&!(g(a[r[c][0]],a[r[c][4]])&&g(a[r[c][1]],a[r[c][5]])&&g(a[r[c][2]],a[r[c][6]])&&g(a[r[c][3]],a[r[c][7]])););if(c<0)return!1;for(var d=Math.sign(n[c]),f=Math.abs((t.bounds[2*c+1]-t.bounds[2*c])*n[c]),m=d>0?1:0,p=0;p<4;p++)if(0!==f){var v=Math.abs(a[r[c][p]])/f;d>0&&v<m&&(m=v),d<0&&v>m&&(m=v)}var h=(1-m)*t.bounds[2*c]+m*t.bounds[2*c+1];return d>0?t.bounds[2*c]=h:t.bounds[2*c+1]=h,!0},e.containsPoint=function(e,n,r){return!(e<t.bounds[0]||e>t.bounds[1]||n<t.bounds[2]||n>t.bounds[3]||r<t.bounds[4]||r>t.bounds[5])},e.getMinPoint=function(){return[t.bounds[0],t.bounds[2],t.bounds[4]]},e.getMaxPoint=function(){return[t.bounds[1],t.bounds[3],t.bounds[5]]},e.getBound=function(e){return t.bound[e]},e.contains=function(t){return!!e.intersects(t)&&!!e.containsPoint.apply(e,a(t.getMinPoint()))&&(!!e.containsPoint.apply(e,a(t.getMaxPoint()))||0)},e.getCenter=function(){return o(t.bounds)},e.getLength=function(e){return s(t.bounds,e)},e.getLengths=function(){return u(t.bounds)},e.getMaxLength=function(){return f(t.bounds)},e.getDiagonalLength=function(){return m(t.bounds)},e.reset=function(){return e.setBounds([].concat(I))},e.inflate=function(e){t.bounds=t.bounds.map(function(t,n){return n%2==0?t-e:t+e})},e.getCorners=function(){return p(t.bounds,t.corners),t.corners},e.scale=function(n,r,a){if(e.isValid()){var i=[].concat(t.bounds);return n>=0?(i[0]*=n,i[1]*=n):(i[0]=n*t.bounds[1],i[1]=n*t.bounds[0]),r>=0?(i[2]*=r,i[3]*=r):(i[2]=r*t.bounds[3],i[3]=r*t.bounds[2]),a>=0?(i[4]*=a,i[5]*=a):(i[4]=a*t.bounds[5],i[5]=a*t.bounds[4]),t.bounds=i,!0}return!1}}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,C,n),M.default.obj(e,t),M.default.setGet(e,t,["bounds"]),y(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0;var S=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.extend=A;var T=n(0),M=r(T),b=n(60),D=r(b),I=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],w=t.STATIC={isValid:i,getCenter:o,getLength:s,getLengths:u,getMaxLength:f,getDiagonalLength:m,getXRange:l,getYRange:c,getZRange:d,getCorners:p,computeCornerPoints:v,computeScale3:h,INIT_BOUNDS:I},C={type:"vtkBoundingBox",bounds:[].concat(I),corners:[]},N=t.newInstance=M.default.newInstance(A,"vtkBoundingBox");t.default=Object.assign({newInstance:N,extend:A},w)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw"dicomParser.readTag: missing required parameter 'byteStream'";return"x"+("00000000"+(256*e.readUint16()*256+e.readUint16()).toString(16)).substr(-8)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);l.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||s(i,this)}function i(e){e.end()}var o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=r;var s=n(109),u=n(50);u.inherits=n(37);var l=n(180),c=n(110);u.inherits(r,l);for(var d=o(c.prototype),f=0;f<d.length;f++){var m=d[f];r.prototype[m]||(r.prototype[m]=c.prototype[m])}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.AttributeTypes={SCALARS:0,VECTORS:1,NORMALS:2,TCOORDS:3,TENSORS:4,GLOBALIDS:5,PEDIGREEIDS:6,EDGEFLAG:7,NUM_ATTRIBUTES:8},a=t.AttributeLimitTypes={MAX:0,EXACT:1,NOLIMIT:2},i=t.CellGhostTypes={DUPLICATECELL:1,HIGHCONNECTIVITYCELL:2,LOWCONNECTIVITYCELL:4,REFINEDCELL:8,EXTERIORCELL:16,HIDDENCELL:32},o=t.PointGhostTypes={DUPLICATEPOINT:1,HIDDENPOINT:2},s=t.AttributeCopyOperations={COPYTUPLE:0,INTERPOLATE:1,PASSDATA:2,ALLCOPY:3},u=t.ghostArrayName="vtkGhostType",l=t.DesiredOutputPrecision={DEFAULT:0,SINGLE:1,DOUBLE:2};t.default={AttributeCopyOperations:s,AttributeLimitTypes:a,AttributeTypes:r,CellGhostTypes:i,DesiredOutputPrecision:l,PointGhostTypes:o,ghostArrayName:u}},function(e,t,n){"use strict";function r(){a.call(this)}e.exports=r;var a=n(49).EventEmitter;n(37)(r,a),r.Readable=n(315),r.Writable=n(320),r.Duplex=n(321),r.Transform=n(322),r.PassThrough=n(323),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&l.pause&&l.pause()}function r(){l.readable&&l.resume&&l.resume()}function i(){c||(c=!0,e.end())}function o(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===a.listenerCount(this,"error"))throw e}function u(){l.removeListener("data",n),e.removeListener("drain",r),l.removeListener("end",i),l.removeListener("close",o),l.removeListener("error",s),e.removeListener("error",s),l.removeListener("end",u),l.removeListener("close",u),e.removeListener("close",u)}var l=this;l.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(l.on("end",i),l.on("close",o));var c=!1;return l.on("error",s),e.on("error",s),l.on("end",u),l.on("close",u),e.on("close",u),e.emit("pipe",l),e}},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=n||{};n.lossless=n.lossless||{},n.lossless.DataStream=n.lossless.DataStream||function(e,t,n){this.buffer=void 0===t&&void 0===n?new Uint8Array(e):new Uint8Array(e,t,n),this.index=0},n.lossless.DataStream.prototype.get16=function(){var e=(this.buffer[this.index]<<8)+this.buffer[this.index+1];return this.index+=2,e},n.lossless.DataStream.prototype.get8=function(){var e=this.buffer[this.index];return this.index+=1,e},"undefined"!==t(e)&&e.exports&&(e.exports=n.lossless.DataStream)}).call(t,n(10)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ObjectType={ARRAY_BUFFER:0,ELEMENT_ARRAY_BUFFER:1,TEXTURE_BUFFER:2};t.default={ObjectType:r}},function(e,t,n){"use strict";function r(){u.call(this,"utf-8 decode"),this.leftOver=null}function a(){u.call(this,"utf-8 encode")}for(var i=n(7),o=n(33),s=n(93),u=n(19),l=new Array(256),c=0;c<256;c++)l[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;l[254]=l[254]=1;var d=function(e){var t,n,r,a,i,s=e.length,u=0;for(a=0;a<s;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=o.uint8array?new Uint8Array(u):new Array(u),i=0,a=0;i<u;a++)n=e.charCodeAt(a),55296==(64512&n)&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},f=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+l[e[n]]>t?n:t},m=function(e){var t,n,r,a,o=e.length,s=new Array(2*o);for(n=0,t=0;t<o;)if((r=e[t++])<128)s[n++]=r;else if((a=l[r])>4)s[n++]=65533,t+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&t<o;)r=r<<6|63&e[t++],a--;a>1?s[n++]=65533:r<65536?s[n++]=r:(r-=65536,s[n++]=55296|r>>10&1023,s[n++]=56320|1023&r)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),i.applyFromCharCode(s)};t.utf8encode=function(e){return o.nodebuffer?s.newBuffer(e,"utf-8"):d(e)},t.utf8decode=function(e){return o.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):(e=i.transformTo(o.uint8array?"uint8array":"array",e),m(e))},i.inherits(r,u),r.prototype.processChunk=function(e){var n=i.transformTo(o.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var r=n;n=new Uint8Array(r.length+this.leftOver.length),n.set(this.leftOver,0),n.set(r,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var a=f(n),s=n;a!==n.length&&(o.uint8array?(s=n.subarray(0,a),this.leftOver=n.subarray(a,n.length)):(s=n.slice(0,a),this.leftOver=n.slice(a,n.length))),this.push({data:t.utf8decode(s),meta:e.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=r,i.inherits(a,u),a.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=a},function(e,t,n){"use strict";(function(t){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(8),o=i.Buffer,s={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(s[r]=i[r]);var u=s.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(u[r]=o[r]);if(s.Buffer.prototype=o.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+(void 0===e?"undefined":a(e)));if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+(void 0===e?"undefined":a(e)));return o(e,t,n)}),u.alloc||(u.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+(void 0===e?"undefined":a(e)));if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!s.kStringMaxLength)try{s.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(e){}s.constants||(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s}).call(t,n(16))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){S.set(e,t)}function i(e){S.delete(e)}function o(){return Array.from(S.keys())}function s(e){return S.get(e)}function u(e){return S.has(e)}function l(e,t){t.classHierarchy.push("yToolManager"),e.releaseAllData=function(){t.toolInstance=new Map,t.activeTool=null},e.getAllToolIds=function(){return o()},e.getAllToolInfos=function(){var t={};return o().forEach(function(n){var r=e.getToolInfo();t[n]=r}),t},e.getToolInfo=function(e){var t=s(e);return{toolName:t.toolName,toolId:t.toolId,toolType:t.toolType,toolUpdate:t.toolUpdate}},e.activeTool=function(n){if(t.activeTool){if(t.activeTool.getToolId()===n)return!0;t.activeTool.transitionState(!1),t.activeTool=null,h("ToolManger.inactiveTool: id="+n)}var r=e.createToolInstance(n);if(!r)return v("ToolManager.createTool: id="+n),!1;r.getActive()&&(t.activeTool.transitionState(!1),h("ToolManger.inactiveTool: id="+n));var a=r.getToolType();return 0!==a&&1!==a||r.setNodeIndex(0),r.transitionState(!0),t.activeTool=r,h("ToolManager.activeTool: id="+n),!0},e.inactiveTool=function(n){if(!n)return t.activeTool&&(t.activeTool.transitionState(!1),t.activeTool=null,h("ToolManger.inactiveTool: id="+n)),!0;if(t.activeTool&&t.activeTool.getToolId()===n)return t.activeTool.transitionState(!1),t.activeTool=null,h("ToolManger.inactiveTool: id="+n),!0;var r=e.getToolInstance(n);return r?(r.getActive()&&(r.transitionState(!1),h("ToolManger.inactiveTool: id="+n)),!0):(v("ToolManager.inactiveTool: no tool instance found, id="+n),!1)},e.getToolParams=function(t){var n=e.getToolInstance(t);return n?n.getActive()?n.getToolParams():(v("ToolManger.getToolParams: tool not active, id="+t),null):(v("ToolManger.getToolParams: no tool instance found, id="+t),null)},e.updateTool=function(t,n){var r=e.getToolInstance(t);if(!r)return v("ToolManger.updateTool: no tool instance found, id="+t+", params="+JSON.stringify(n)),-100;if(!r.getActive())return v("ToolManger.updateTool: tool not active, id="+t+", params="+JSON.stringify(n)),-100;var a=r.updateTool(n);return h("ToolManger.updateTool: id="+t+", params="+JSON.stringify(n)+", result="+a),a},e.isToolExists=function(e){return!!t.toolInstance.has(e)||!!u(e)},e.getToolInstance=function(e){return t.toolInstance.get(e)},e.createToolInstance=function(e){var n=t.toolInstance.get(e);if(n)return n;var r=s(e);if(!r)return null;var a=r.newInstance();return a&&t.toolInstance.set(e,a),a},e.saveSurfaceData=function(e){y.MultiView.onCallback("WaitingLock",!0);var t=y.DataManagement,n=A.YCM_PATH,r=t.getNodeName(e),a=r+"_new.stl",i=t.getData(e),o=i.toJson(),s={ycmPath:n,fileName:a,fileType:"PolyData",fileData:o};y.AlgoServer.runAPI("SaveFile",s,function(e,t){y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveSurfaceData",result:"Success"})},function(e){y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveSurfaceData",result:"Error",reason:e})})},e.saveYcmProject=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=y.DataManagement,a=e||A.YCM_PATH;y.MultiView.onCallback("WaitingLock",!0);var i=0,o=0,s=a.replace(/[\\\/]/g,"/"),u=s.split("/"),l=r.writeXml(),c={ycmPath:a,fileName:u[u.length-1],fileType:"TextData",fileData:l,encoding:"gb2312"};y.AlgoServer.runAPI("SaveFile",c,function(e,t){++i===o&&(y.MultiView.onCallback("WaitingLock",!1),n?n(!0):y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveYcmProject",result:"Success"}))},function(e){y.MultiView.onCallback("WaitingLock",!1),n?n(!1,e):y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveYcmProject",result:"Error",reason:e})}),o++;var d=[];(r.getAllNodeIndex()||[]).forEach(function(e){var s=r.getNodeProperty(e,"modify");if(t||1===s||"1"===s){var u=r.getDataNodeType(e);if(u===p.DataNodeTypes.SURFACE_DATA||u===p.DataNodeTypes.MASKV_DATA){var l=r.getFileName(e),c=u===p.DataNodeTypes.SURFACE_DATA?l+".stl":l+".mha",f=r.getData(e);if(!f)return;if(d.indexOf(c)>=0)return;d.push(c);var m=f.toJson(),g={ycmPath:a,fileName:c,fileType:u===p.DataNodeTypes.SURFACE_DATA?"PolyData":"MaskData",fileData:m};y.AlgoServer.runAPI("SaveFile",g,function(t,a){r.setNodeProperty(e,"modify","0"),++i===o&&(y.MultiView.onCallback("WaitingLock",!1),n?n(!0):y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveYcmProject",result:"Success"}))},function(e){y.MultiView.onCallback("WaitingLock",!1),n?n(!1,e):y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveYcmProject",result:"Error",reason:e})}),o++}}})},e.openYcmProject=function(e){A.YCM_PATH=e,y.MultiView.releaseAllData(),y.RemoteData.downloadYcmData()},e.closeYcmProject=function(){y.MultiView.releaseAllData(),t.dicomSeriesInfos&&t.dicomSeriesInfos.forEach(function(e){delete e.NodeIndex})},e.importDicomSeriesYcm=function(e,n){if(!e)return void v("importDicomSeriesYcm: empty ycm path");y.MultiView.onCallback("WaitingLock",!0);var r={seriesPath:e};y.AlgoServer.runAPI("ReadDicomSeries",r,function(e,r){var a=(e.imageInfos||[]).filter(function(e){return e&&e.PatId&&e.StudyId});n&&t.dicomSeriesInfos?t.dicomSeriesInfos=t.dicomSeriesInfos.concat(a):t.dicomSeriesInfos=a,y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"ImportDicomSeriesYcm",result:"Success"})},function(e){y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"ImportDicomSeriesYcm",result:"Error",reason:e})})},e.openYcmDicomSeries=function(n,r){if(!n)return void v("importYcmDicomSeries: empty ycm path");y.MultiView.onCallback("WaitingLock",!0);var a={seriesPath:n};y.AlgoServer.runAPI("ReadDicomSeries",a,function(a,i){var o=(a.imageInfos||[]).filter(function(e){return e&&e.PatId&&e.StudyId});r&&t.dicomSeriesInfos?t.dicomSeriesInfos=t.dicomSeriesInfos.concat(o):t.dicomSeriesInfos=o,y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"OpenYcmDicomSeries",result:"Success"}),e.openYcmProject(n)},function(e){y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"OpenYcmDicomSeries",result:"Error",reason:e})})},e.openDicomDirectory=function(t,n){if(!t)return void v("openDicomDirectory: empty dicom path");e.closeYcmProject();var r=y.DataManagement,a=r.createImageNode("TEMP_IMAGE_NODE",t);if(!(a<0)){var i=function(e){e.length>0&&(y.MultiView.updateNodesAndRender(e,!1),y.MultiView.updateView(),y.MultiView.resetCamera())};y.RemoteData.imageDataDownloader(a,null,function(){var e=r.setNodeVisible(a,1);y.RemoteData.rootImageDataChanged(),i(e),n&&n()})()}},e.importDicomSeriesDirectory=function(e,n){if(!e)return void v("openDicomSeriesDirectory: empty series path");y.MultiView.onCallback("WaitingLock",!0);var r={seriesPath:e};y.AlgoServer.runAPI("ReadDicomSeries",r,function(e,r){var a=(e.imageInfos||[]).filter(function(e){return e&&e.PatId&&e.StudyId});n&&t.dicomSeriesInfos?t.dicomSeriesInfos=t.dicomSeriesInfos.concat(a):t.dicomSeriesInfos=a,y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"ImportDicomSeriesDirectory",result:"Success"})},function(e){y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"ImportDicomSeriesDirectory",result:"Error",reason:e})})},e.getDicomPatientInfos=function(){if(!t.dicomSeriesInfos)return[];var e=[];return t.dicomSeriesInfos.forEach(function(t,n,r){if(!e.find(function(e){return e.PatId===t.PatId})){var a=[];r.forEach(function(e){e.PatId===t.PatId&&a.indexOf(e.StudyId)<0&&a.push(e.StudyId)});var i={PatId:t.PatId,PatName:t.PatName,PatSex:t.PatSex,PatAge:t.PatAge,PinYin:t.PinYin,StudyCount:a.length,UpdateTime:t.UpdateTime,PatIdentity:t.PatIdentity};e.push(i)}}),e},e.getDicomStudyInfos=function(e){if(!t.dicomSeriesInfos)return[];var n=[];return t.dicomSeriesInfos.forEach(function(t,r,a){if((""===e||t.PatId===e)&&!n.find(function(e){return e.StudyId===t.StudyId})){var i=[];a.forEach(function(e){e.PatId===t.PatId&&e.StudyId===t.StudyId&&i.indexOf(e.Modality)<0&&i.push(e.Modality)});var o={PatId:t.PatId,StudyId:t.StudyId,StudyDate:t.StudyDate,Modalities:i.join(),Description:t.Description,StudyUID:t.StudyUID,StudyIdentity:t.StudyIdentity};n.push(o)}}),n},e.getDicomSeriesInfos=function(n,r){if(!t.dicomSeriesInfos)return[];e.updateSeriesNodeIndex();var a=[];return t.dicomSeriesInfos.forEach(function(e,t){if(!(""!==n&&e.PatId!==n||""!==r&&e.StudyId!==r)){var i={PatId:e.PatId,StudyId:e.StudyId,SeriesNumber:e.SeriesNumber,SeriesDate:e.SeriesDate,SeriesDescription:e.SeriesDescription,SeriesTitle:e.SeriesTitle||e.Phase,Modality:e.Modality,ImageCount:e.ImageCount,SeriesIdentity:e.SeriesIdentity,SeriesUID:e.SeriesUID,Phase:e.Phase,Manufacturer:e.Manufacturer,InstitutionName:e.InstitutionName,PreviewImage:e.PreviewImage,SeriesIndex:t,NodeIndex:e.NodeIndex};a.push(i)}}),a},e.setDicomSeriesTitle=function(e,n){if(!t.dicomSeriesInfos)return v("openDicomSeries(): please call openDicomSeriesDirectory() first!"),!1;var r=t.dicomSeriesInfos[e];return r?(n&&(r.SeriesTitle=n),!0):(v("openDicomSeries(): dicom series "+e+" not found"),!1)},e.getDicomSeriesTags=function(e){if(!t.dicomSeriesInfos)return v("openDicomSeries(): please call openDicomSeriesDirectory() first!"),[];var n=t.dicomSeriesInfos[e];return n?n.FileTags:(v("openDicomSeries(): dicom series "+e+" not found"),[])},e.prepareDicomSeries=function(n){if(!t.dicomSeriesInfos)return v("prepareDicomSeries(): please call openDicomSeriesDirectory() first!"),-1;e.updateSeriesNodeIndex();var r=t.dicomSeriesInfos[n];if(!r)return v("prepareDicomSeries(): dicom series "+n+" not found"),-1;if("number"==typeof r.NodeIndex&&r.NodeIndex>=0)return r.NodeIndex;var a=r.FileNames,i=r.FileName,o=i.split("\\");(!o||o.length<2)&&(o=i.split("/"));var s="TEMP_IMAGE_NODE";o&&o.length>=2&&(s=o[o.length-2]+"\\"+o[o.length-1]);var u=y.DataManagement,l=u.createImageNode(s,i);return l<0?(v("prepareDicomSeries(): create image node fail"),-1):(r.NodeIndex=l,u.setNodeProperty(l,"dataPaths",a),l)},e.openDicomSeries=function(n,r){if(!t.dicomSeriesInfos)return v("openDicomSeries(): please call openDicomSeriesDirectory() first!"),!1;e.closeYcmProject();var a=t.dicomSeriesInfos[n];if(!a)return v("openDicomSeries(): dicom series "+n+" not found"),!1;var i=function(e){e.length>0&&(y.MultiView.updateNodesAndRender(e,!1),y.MultiView.updateView(),y.MultiView.resetCamera())};if("number"==typeof a.NodeIndex&&a.NodeIndex>=0){var o=a.NodeIndex,s=y.DataManagement;if(!s.isNodeExist(o))return v("openDicomSeries(): node "+o+" not exist"),!1;var u=s.getDataNodeType(o);if(u!==p.DataNodeTypes.IMAGE_DATA)return v("openDicomSeries(): invalid node type "+u),!1;if(s.getData(o)){var l=s.setNodeVisible(o,1);return y.RemoteData.rootImageDataChanged(),i(l),r&&r(!1),!0}var c=s.getNodeProperty(o,"dataPaths");return y.RemoteData.imageDataDownloader(o,{dataPaths:c},function(){var e=s.setNodeVisible(o,1);y.RemoteData.rootImageDataChanged(),i(e),r&&r(!0)})(),!0}var d=a.FileNames,f=a.FileName,m=f.split("\\");(!m||m.length<2)&&(m=f.split("/"));var g="TEMP_IMAGE_NODE";m&&m.length>=2&&(g=m[m.length-2]+"\\"+m[m.length-1]);var h=y.DataManagement,A=h.createImageNode(g,f);return A<0?(v("openDicomSeries(): create image node fail"),!1):(a.NodeIndex=A,h.setNodeProperty(A,"dataPaths",d),y.RemoteData.imageDataDownloader(A,{dataPaths:d},function(){var e=h.setNodeVisible(A,1);y.RemoteData.rootImageDataChanged(),i(e),r&&r(!0)})(),!0)},e.openDicomSeriesList=function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.dicomSeriesInfos)return v("openDicomSeriesList(): please call openDicomSeriesDirectory() first!"),!1;var a=function(e){e.length>0&&(y.MultiView.updateNodesAndRender(e,!1),y.MultiView.updateView(),y.MultiView.resetCamera())},i=y.DataManagement,o=[];if(e.closeYcmProject(),(n||[]).forEach(function(e){var n=t.dicomSeriesInfos[e];if(!n)return void v("openDicomSeriesList(): dicom series "+e+" not found");if("number"==typeof n.NodeIndex&&n.NodeIndex>=0){var r=n.NodeIndex;if(!i.isNodeExist(r))return void v("openDicomSeriesList(): node "+r+" not exist");var s=i.getDataNodeType(r);if(s!==p.DataNodeTypes.IMAGE_DATA)return void v("openDicomSeriesList(): invalid node type "+s);if(i.getData(r)){var u=i.setNodeVisible(r,1);return y.RemoteData.rootImageDataChanged(),void a(u)}return void o.push(r)}var l=n.FileNames,c=n.FileName,d=c.split("\\");(!d||d.length<2)&&(d=c.split("/"));var f="TEMP_IMAGE_NODE";d&&d.length>=2&&(f=d[d.length-2]+"\\"+d[d.length-1]);var m=i.createImageNode(f,c);if(m<0)return void v("openDicomSeriesList(): create image node fail");n.NodeIndex=m,i.setNodeProperty(m,"dataPaths",l),o.push(m)}),0===o.length)return!0;var s=function(e,t,n,r,o){var s=i.getNodeProperty(e,"dataPaths");y.RemoteData.imageDataDownloader(e,{dataPaths:s,progressMin:Math.floor(100*t/n),progressMax:Math.floor(100*(t+1)/n)},function(){var n=i.setNodeVisible(e,1);y.RemoteData.rootImageDataChanged(),a(n),r&&r([e,t])},function(){o&&o([e,t])})()};if(r){var u=null;o.forEach(function(e,t,n){u=u?u.then(function(r){return h("openDicomSeriesList(): download ["+r[1]+"/"+n.length+"]"+r[0]+" OK"),new Promise(function(r,a){s(e,t,n.length,r,a)})},function(r){return v("openDicomSeriesList(): download ["+r[1]+"/"+n.length+"]"+r[0]+" ERROR"),Promise.reject([e,t])}):new Promise(function(r,a){s(e,t,n.length,r,a)})}),u.then(function(e){h("openDicomSeriesList(LAST): download ["+e[1]+"/"+o.length+"]"+e[0]+" OK")},function(e){v("openDicomSeriesList(LAST): download ["+e[1]+"/"+o.length+"]"+e[0]+" ERROR")})}else o.forEach(function(e,t,n){s(e,t,n.length)});return!0},e.saveDicomSeriesDirectory=function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n)return v("saveDicomSeriesDirectory(): empty write path"),!1;if(!t.dicomSeriesInfos)return v("saveDicomSeriesDirectory(): please call openDicomSeriesDirectory() first!"),!1;e.updateSeriesNodeIndex();var i=[];if(t.dicomSeriesInfos.forEach(function(e){e.NodeIndex>=0&&i.push({seriesName:e.SeriesTitle||e.Phase,fileNames:e.FileNames})}),0===i.length)return a?a(!0):y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveDicomSeriesDirectory",result:"Success"}),!0;y.MultiView.onCallback("WaitingLock",!0);var o={writePath:n,seriesList:i,overwrite:!!r};return y.AlgoServer.runAPI("WriteDicomSeries",o,function(e,t){y.MultiView.onCallback("WaitingLock",!1),a?a(!0):y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveDicomSeriesDirectory",result:"Success"})},function(e){y.MultiView.onCallback("WaitingLock",!1),a?a(!1,e):y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveDicomSeriesDirectory",result:"Error",reason:e})}),!0},e.saveDicomSeriesDirectoryWithYcmProject=function(n,r){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n||!r)return v("saveDicomSeriesDirectoryWithYcmProject(): empty write path or ycm name"),!1;if(!t.dicomSeriesInfos)return v("saveDicomSeriesDirectoryWithYcmProject(): please call openDicomSeriesDirectory() first!"),!1;var i=r;return i.toLocaleLowerCase().endsWith(".ycm")||(i+=".ycm"),e.saveDicomSeriesDirectory(n,a,function(t,r){if(t){var a=n+"/"+i;e.saveYcmProject(a,!0,function(e,t){e?y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveDicomSeriesDirectoryWithYcmProject",result:"Success"}):y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveDicomSeriesDirectoryWithYcmProject",result:"Error",reason2:t})})}else y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"SaveDicomSeriesDirectoryWithYcmProject",result:"Error",reason:r})}),!0},e.updateSeriesNodeIndex=function(){t.dicomSeriesInfos&&(y.DataManagement.getImageNodeList(!0)||[]).forEach(function(e){var n=e.seriesUID;if(n)for(var r=0;r<t.dicomSeriesInfos.length;r++){var a=t.dicomSeriesInfos[r],i=a.SeriesUID,o=i.indexOf("_");o>=0&&(i=i.substring(0,o)),i===n&&a.Phase===e.name&&(a.NodeIndex=e.index)}})},e.reconstruction3D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=y.DataManagement;if(!r.isNodeExist(e))return v("node "+e+" not exists"),!1;if(r.getDataNodeType(e)!==p.DataNodeTypes.MASKV_DATA)return v("node "+e+" is not MASK node"),!1;var a=r.getData(e),i=r.getNodeProperty(e,"mask_bit");if(!a||"number"!=typeof i)return v("node "+e+" empty data"),!1;y.MultiView.onCallback("WaitingLock",!0);var o={maskData:a.toJson(),maskbit:i,reduction:t,thickness:n,optimize:!1};return y.AlgoServer.runAPI("Reconstruction3D",o,function(t,n){var a=g.default.newInstance();a.fromJson(t.polyData);var i=r.getValidNodeName(r.getNodeName(e)),o=r.createSurfaceNode(i,e),s=r.getNodeColor(e);r.setNodeColor(o,s);var u=r.getNodeOpacity(e);r.setNodeOpacity(o,u);var l=r.getNodeProperty(e,"organ_name");r.setNodeProperty(o,"organ_name",l),r.setData(o,a),y.MultiView.getRenderWindow3D().createSurfaceMapper(o),y.MultiView.getRenderWindow3D().render(),y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"Reconstruction3D",result:"Success"})},function(e){y.MultiView.onCallback("WaitingLock",!1),y.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"Reconstruction3D",result:"Error",reason:e})}),!0}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,M,n),f.default.obj(e,t),t.toolInstance=new Map,l(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=c;var d=n(0),f=r(d),m=n(4),g=r(m),p=n(27),v=f.default.vtkErrorMacro,h=f.default.vtkLogMacro,y=f.default.GlobalObjects,A=f.default.GlobalOptions,S=new Map,T=t.STATIC={registerTool:a,unregisterTool:i,getToolIds:o,getTool:s,hasTool:u},M={toolInstance:null,activeTool:null,dicomSeriesInfos:null},b=t.newInstance=f.default.newInstance(c,"yToolManager");t.default=Object.assign({newInstance:b,extend:c},T)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return void 0!==e.parser?e.parser:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(63),s=function(){function e(t,n,a){r(this,e),this.byteArrayParser=t,this.byteArray=n,this.elements=a}return i(e,[{key:"uint16",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return a(n,this.byteArrayParser).readUint16(this.byteArray,n.dataOffset+2*t)}},{key:"int16",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return a(n,this.byteArrayParser).readInt16(this.byteArray,n.dataOffset+2*t)}},{key:"uint32",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return a(n,this.byteArrayParser).readUint32(this.byteArray,n.dataOffset+4*t)}},{key:"int32",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return a(n,this.byteArrayParser).readInt32(this.byteArray,n.dataOffset+4*t)}},{key:"float",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return a(n,this.byteArrayParser).readFloat(this.byteArray,n.dataOffset+4*t)}},{key:"double",value:function(e,t){var n=this.elements[e];if(t=void 0!==t?t:0,n&&0!==n.length)return a(n,this.byteArrayParser).readDouble(this.byteArray,n.dataOffset+8*t)}},{key:"numStringValues",value:function(e){var t=this.elements[e];if(t&&t.length>0){var n=(0,o.readFixedString)(this.byteArray,t.dataOffset,t.length),r=n.match(/\\/g);return null===r?1:r.length+1}}},{key:"string",value:function(e,t){var n=this.elements[e];if(n&&n.length>0){var r=(0,o.readFixedString)(this.byteArray,n.dataOffset,n.length);return t>=0?r.split("\\")[t].trim():r.trim()}}},{key:"text",value:function(e,t){var n=this.elements[e];if(n&&n.length>0){var r=(0,o.readFixedString)(this.byteArray,n.dataOffset,n.length);return t>=0?r.split("\\")[t].replace(/ +$/,""):r.replace(/ +$/,"")}}},{key:"floatString",value:function(e,t){var n=this.elements[e];if(n&&n.length>0){t=void 0!==t?t:0;var r=this.string(e,t);if(void 0!==r)return parseFloat(r)}}},{key:"intString",value:function(e,t){var n=this.elements[e];if(n&&n.length>0){t=void 0!==t?t:0;var r=this.string(e,t);if(void 0!==r)return parseInt(r)}}},{key:"attributeTag",value:function(e){var t=this.elements[e];if(t&&4===t.length){var n=a(t,this.byteArrayParser).readUint16,r=this.byteArray,i=t.dataOffset;return"x"+("00000000"+(256*n(r,i)*256+n(r,i+2)).toString(16)).substr(-8)}}}]),e}();t.default=s},function(e,t,n){"use strict";var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,n){"use strict";function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"===(void 0===e?"undefined":u(e))&&null!==e}function s(e){return void 0===e}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],s(n))return!1;if(a(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(o(n))for(i=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,u=0;u<r;u++)l[u].apply(this,i);return!0},r.prototype.addListener=function(e,t){var n;if(!a(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.trace),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!a(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,i,s;if(!a(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||a(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=i;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],a(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(a(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";(function(e){function n(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function r(e){return"boolean"==typeof e}function a(e){return null===e}function i(e){return null==e}function o(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"===(void 0===e?"undefined":h(e))}function l(e){return void 0===e}function c(e){return"[object RegExp]"===v(e)}function d(e){return"object"===(void 0===e?"undefined":h(e))&&null!==e}function f(e){return"[object Date]"===v(e)}function m(e){return"[object Error]"===v(e)||e instanceof Error}function g(e){return"function"==typeof e}function p(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":h(e))||void 0===e}function v(e){return Object.prototype.toString.call(e)}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.isArray=n,t.isBoolean=r,t.isNull=a,t.isNullOrUndefined=i,t.isNumber=o,t.isString=s,t.isSymbol=u,t.isUndefined=l,t.isRegExp=c,t.isObject=d,t.isDate=f,t.isError=m,t.isFunction=g,t.isPrimitive=p,t.isBuffer=e.isBuffer}).call(t,n(8).Buffer)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkCell"),e.initialize=function(e,n,r){t.pointsIds=n.concat(),t.points.setNumberOfPoints(e),t.points.setData(r.getData().slice(0),3)},e.initializeNoCopy=function(e,n,r){t.pointsIds=n,t.points.setNumberOfPoints(e),t.points.setData(r.getData(),3)},e.getBounds=function(){var e=t.points.getNumberOfPoints(),n=[];if(e){t.points.getPoint(0,n),t.bounds[0]=n[0],t.bounds[1]=n[0],t.bounds[2]=n[1],t.bounds[3]=n[1],t.bounds[4]=n[2],t.bounds[5]=n[2];for(var r=1;r<e;r++)t.points.getPoint(r,n),t.bounds[0]=n[0]<t.bounds[0]?n[0]:t.bounds[0],t.bounds[1]=n[0]>t.bounds[1]?n[0]:t.bounds[1],t.bounds[2]=n[1]<t.bounds[2]?n[1]:t.bounds[2],t.bounds[3]=n[1]>t.bounds[3]?n[1]:t.bounds[3],t.bounds[4]=n[2]<t.bounds[4]?n[2]:t.bounds[4],t.bounds[5]=n[2]>t.bounds[5]?n[2]:t.bounds[5]}else l.default.uninitializeBounds(t.bounds);return t.bounds},e.getLength2=function(){e.getBounds();for(var n=0,r=0,a=0;a<3;a++)r=t.bounds[2*a+1]-t.bounds[2*a],n+=r*r;return n},e.getParametricDistance=function(e){for(var t=void 0,n=0,r=0;r<3;r++)(t=e[r]<0?-e[r]:e[r]>1?e[r]-1:0)>n&&(n=t);return n},e.getNumberOfPoints=function(){return t.points.getNumberOfPoints()},e.getPointId=function(e){return t.pointsIds[e]},e.deepCopy=function(e){e.initialize(t.points.getNumberOfPoints(),t.pointsIds,t.points)},e.getCellDimension=function(){},e.intersectWithLine=function(e,t,n,r,a,i,o){},e.evaluatePosition=function(e,t,n,r,a,i){}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),s.default.obj(e,t),t.points=d.default.newInstance(),t.points.setNumberOfComponents(3),s.default.get(e,t,["points","pointsIds"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=r(u),c=n(6),d=r(c),f={bounds:[-1,-1,-1,-1,-1,-1],pointsIds:[]},m=t.newInstance=s.default.newInstance(i,"vtkCell");t.default=Object.assign({newInstance:m,extend:i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Shading={FLAT:0,GOURAUD:1,PHONG:2},a=t.Representation={POINTS:0,WIREFRAME:1,SURFACE:2},i=t.Interpolation=r;t.default={Shading:r,Representation:a,Interpolation:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkCoordinate"),e.setValue=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];if(t.deleted)return m("instance deleted - cannot call any method"),!1;var i=r;if(1===i.length&&Array.isArray(i[0])&&(i=i[0]),2===i.length)return e.setValue(i[0],i[1],0),!0;if(3!==i.length)throw new RangeError("Invalid number of values for array setter");var o=!1;return t.value.forEach(function(e,t){if(e!==i[t]){if(o)return;o=!0}}),o&&(t.value=[].concat(i),e.modified()),!0},e.setCoordinateSystemToDisplay=function(){e.setCoordinateSystem(f.DISPLAY)},e.setCoordinateSystemToNormalizedDisplay=function(){e.setCoordinateSystem(f.NORMALIZED_DISPLAY)},e.setCoordinateSystemToViewport=function(){e.setCoordinateSystem(f.VIEWPORT)},e.setCoordinateSystemToNormalizedViewport=function(){e.setCoordinateSystem(f.NORMALIZED_VIEWPORT)},e.setCoordinateSystemToView=function(){e.setCoordinateSystem(f.VIEW)},e.setCoordinateSystemToWorld=function(){e.setCoordinateSystem(f.WORLD)},e.getCoordinateSystemAsString=function(){return s.default.enumToString(f,t.coordinateSystem)},e.getComputedWorldValue=function(n){var r=t.computedWorldValue;if(t.computing)return r;t.computing=1,r[0]=t.value[0],r[1]=t.value[1],r[2]=t.value[2];var a=n;if(t.renderer&&(a=t.renderer),!a){if(t.coordinateSystem===f.WORLD){if(t.referenceCoordinate){var i=t.referenceCoordinate.getComputedWorldValue(a);r[0]+=i[0],r[1]+=i[1],r[2]+=i[2]}t.computing=0}else m("Attempt to compute world coordinates from another coordinate system without a renderer");return r}var o=null;if(!a||!a.getRenderWindow().getViews())return t.computedWorldValue;if(o=a.getRenderWindow().getViews()[0],t.referenceCoordinate&&t.coordinateSystem!==f.WORLD){var s=t.referenceCoordinate.getComputedDoubleDisplayValue(a),u=[s[0],s[1],0];switch(t.coordinateSystem){case f.NORMALIZED_DISPLAY:u=o.displayToNormalizedDisplay(u[0],u[1],u[2]);break;case f.VIEWPORT:u=o.displayToNormalizedDisplay(u[0],u[1],u[2]),u=o.normalizedDisplayToViewport(u[0],u[1],u[2],a);break;case f.NORMALIZED_VIEWPORT:u=o.displayToNormalizedDisplay(u[0],u[1],u[2]),u=o.normalizedDisplayToViewport(u[0],u[1],u[2],a),u=o.viewportToNormalizedViewport(u[0],u[1],u[2],a);break;case f.VIEW:u=o.displayToNormalizedDisplay(u[0],u[1],u[2]),u=o.normalizedDisplayToViewport(u[0],u[1],u[2],a),u=o.viewportToNormalizedViewport(u[0],u[1],u[2],a),u=a.normalizedViewportToView(u[0],u[1],u[2])}r[0]+=u[0],r[1]+=u[1],r[2]+=u[2]}var l=o.getViewportSize(a),c=l[0]/l[1];switch(t.coordinateSystem){case f.DISPLAY:r=o.displayToNormalizedDisplay(r[0],r[1],r[2]),r=o.normalizedDisplayToViewport(r[0],r[1],r[2],a),r=o.viewportToNormalizedViewport(r[0],r[1],r[2],a),r=a.normalizedViewportToView(r[0],r[1],r[2]),r=a.viewToWorld(r[0],r[1],r[2],c);break;case f.NORMALIZED_DISPLAY:r=o.normalizedDisplayToViewport(r[0],r[1],r[2],a),r=o.viewportToNormalizedViewport(r[0],r[1],r[2],a),r=a.normalizedViewportToView(r[0],r[1],r[2]),r=a.viewToWorld(r[0],r[1],r[2],c);break;case f.VIEWPORT:r=o.viewportToNormalizedViewport(r[0],r[1],r[2],a),r=a.normalizedViewportToView(r[0],r[1],r[2]),r=a.viewToWorld(r[0],r[1],r[2],c);break;case f.NORMALIZED_VIEWPORT:r=a.normalizedViewportToView(r[0],r[1],r[2]),r=a.viewToWorld(r[0],r[1],r[2],c);break;case f.VIEW:r=a.viewToWorld(r[0],r[1],r[2],c)}if(t.referenceCoordinate&&t.coordinateSystem===f.WORLD){var d=e.getComputedWorldValue(a);r[0]+=d[0],r[1]+=d[1],r[2]+=d[2]}return t.computing=0,t.computedWorldValue=r.slice(0),r},e.getComputedViewportValue=function(t){var n=e.getComputedDoubleViewportValue(t);return[d.default.round(n[0]),d.default.round(n[1])]},e.getComputedDisplayValue=function(t){var n=e.getComputedDoubleDisplayValue(t);return[d.default.floor(n[0]),d.default.floor(n[1])]},e.getComputedLocalDisplayValue=function(n){var r=n;t.renderer&&(r=t.renderer);var a=e.getComputedDisplayValue(r);if(!r)return m("Attempt to convert to local display coordinates without a renderer"),a;var i=null;return r&&r.getRenderWindow().getViews()?(i=r.getRenderWindow().getViews()[0],a=i.displayToLocalDisplay(a[0],a[1],a[2]),[d.default.round(a[0]),d.default.round(a[1])]):a},e.getComputedDoubleViewportValue=function(n){var r=n;t.renderer&&(r=t.renderer);var a=e.getComputedDoubleDisplayValue(r);if(!r)return a;var i=null;return r&&r.getRenderWindow().getViews()?(i=r.getRenderWindow().getViews()[0],a=i.displayToNormalizedDisplay(a[0],a[1],a[2]),a=i.normalizedDisplayToViewport(a[0],a[1],a[2],r),[a[0],a[1]]):a},e.getComputedDoubleDisplayValue=function(e){if(t.computing)return t.computedDoubleDisplayValue;t.computing=1;var n=t.value.slice(0),r=e;if(t.renderer&&(r=t.renderer),!r){if(t.coordinateSystem===f.DISPLAY){if(t.computedDoubleDisplayValue[0]=n[0],t.computedDoubleDisplayValue[1]=n[1],t.referenceCoordinate){var a=t.referenceCoordinate.getComputedDoubleDisplayValue();t.computedDoubleDisplayValue[0]+=a[0],t.computedDoubleDisplayValue[1]+=a[1]}}else t.computedDoubleDisplayValue[0]=Number.MAX_VALUE,t.computedDoubleDisplayValue[1]=Number.MAX_VALUE,m("Request for coordinate transformation without required viewport");return t.computedDoubleDisplayValue}var i=null;if(!r||!r.getRenderWindow().getViews())return n;i=r.getRenderWindow().getViews()[0];var o=i.getViewportSize(r),s=o[0]/o[1];switch(t.coordinateSystem){case f.WORLD:if(t.referenceCoordinate){var u=t.referenceCoordinate.getComputedWorldValue(r);n[0]+=u[0],n[1]+=u[1],n[2]+=u[2]}n=r.worldToView(n[0],n[1],n[2],s),n=r.viewToNormalizedViewport(n[0],n[1],n[2]),n=i.normalizedViewportToViewport(n[0],n[1],n[2]),n=i.viewportToNormalizedDisplay(n[0],n[1],n[2],r),n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case f.VIEW:n=r.viewToNormalizedViewport(n[0],n[1],n[2]),n=i.normalizedViewportToViewport(n[0],n[1],n[2]),n=i.viewportToNormalizedDisplay(n[0],n[1],n[2],r),n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case f.NORMALIZED_VIEWPORT:if(n=i.normalizedViewportToViewport(n[0],n[1],n[2]),t.referenceCoordinate){var l=t.referenceCoordinate.getComputedDoubleViewportValue(r);n[0]+=l[0],n[1]+=l[1]}n=i.viewportToNormalizedDisplay(n[0],n[1],n[2],r),n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case f.VIEWPORT:if(t.referenceCoordinate){var c=t.referenceCoordinate.getComputedDoubleViewportValue(r);n[0]+=c[0],n[1]+=c[1]}n=i.viewportToNormalizedDisplay(n[0],n[1],n[2],r),n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case f.NORMALIZED_DISPLAY:n=i.normalizedDisplayToDisplay(n[0],n[1],n[2]);break;case f.USERDEFINED:n=t.value.slice(0)}if(t.referenceCoordinate&&(t.coordinateSystem===f.DISPLAY||t.coordinateSystem===f.NORMALIZED_DISPLAY)){var d=t.referenceCoordinate.getComputedDoubleDisplayValue(r);n[0]+=d[0],n[1]+=d[1]}return t.computedDoubleDisplayValue[0]=n[0],t.computedDoubleDisplayValue[1]=n[1],t.computing=0,t.computedDoubleDisplayValue},e.getComputedValue=function(n){var r=n;switch(t.renderer&&(r=t.renderer),t.coordinateSystem){case f.WORLD:return e.getComputedWorldValue(r);case f.VIEW:case f.NORMALIZED_VIEWPORT:case f.VIEWPORT:var a=e.getComputedViewportValue(r);t.computedWorldValue[0]=a[0],t.computedWorldValue[1]=a[1];break;case f.NORMALIZED_DISPLAY:case f.DISPLAY:var i=t.getComputedDisplayValue(r);t.computedWorldValue[0]=i[0],t.computedWorldValue[1]=i[1]}return t.computedWorldValue}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),s.default.obj(e,t),s.default.set(e,t,["property"]),s.default.get(e,t,["value"]),s.default.setGet(e,t,["coordinateSystem","referenceCoordinate","renderer"]),s.default.getArray(e,t,["value"],3),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(211),l=r(u),c=n(1),d=r(c),f=l.default.Coordinate,m=s.default.vtkErrorMacro,g={coordinateSystem:f.WORLD,value:[0,0,0],renderer:null,referenceCoordinate:null,computing:0,computedWorldValue:[0,0,0],computedDoubleDisplayValue:[0,0]},p=t.newInstance=s.default.newInstance(i,"vtkCoordinate");t.default=Object.assign({newInstance:p,extend:i},l.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(e){switch(e){case c.ELEMENT_ARRAY_BUFFER:return t.context.ELEMENT_ARRAY_BUFFER;case c.TEXTURE_BUFFER:if("TEXTURE_BUFFER"in t.context)return t.context.TEXTURE_BUFFER;default:case c.ARRAY_BUFFER:return t.context.ARRAY_BUFFER}}t.classHierarchy.push("vtkOpenGLBufferObject");var r=null,a=null,i=!0,o="";e.getType=function(){return r},e.setType=function(e){r=e},e.getHandle=function(){return a},e.isReady=function(){return!1===i},e.generateBuffer=function(e){var i=n(e);return null===a&&(a=t.context.createBuffer(),r=e),n(r)===i},e.upload=function(s,u){return e.generateBuffer(u)?(t.context.bindBuffer(n(r),a),t.context.bufferData(n(r),s,t.context.STATIC_DRAW),i=!1,!0):(o="Trying to upload array buffer to incompatible buffer.",!1)},e.bind=function(){return!!a&&(t.context.bindBuffer(n(r),a),!0)},e.release=function(){return!!a&&(t.context.bindBuffer(n(r),null),!0)},e.releaseGraphicsResources=function(){null!==a&&(t.context.bindBuffer(n(r),null),t.context.deleteBuffer(a),a=null)},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))},e.getError=function(){return o}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),s.default.obj(e,t),s.default.get(e,t,["openGLRenderWindow"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=i;var o=n(0),s=r(o),u=n(43),l=r(u),c=l.default.ObjectType,d=t.STATIC={},f={objectType:c.ARRAY_BUFFER,openGLRenderWindow:null,context:null},m=t.newInstance=s.default.newInstance(i);t.default=Object.assign({newInstance:m,extend:i},d,l.default)},function(e,t){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataFS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// Template for the polydata mappers fragment shader\n\nuniform int PrimitiveIDOffset;\n\n// VC position of this fragment\n//VTK::PositionVC::Dec\n\n// optional color passed in from the vertex shader, vertexColor\n//VTK::Color::Dec\n\n// optional surface normal declaration\n//VTK::Normal::Dec\n\n// extra lighting parameters\n//VTK::Light::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// picking support\n//VTK::Picking::Dec\n\n// Depth Peeling Support\n//VTK::DepthPeeling::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// the output of this shader\n//VTK::Output::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\n// handle coincident offsets\n//VTK::Coincident::Dec\n\n//VTK::ZBuffer::Dec\n\nvoid main()\n{\n  // VC position of this fragment. This should not branch/return/discard.\n  //VTK::PositionVC::Impl\n\n  // Place any calls that require uniform flow (e.g. dFdx) here.\n  //VTK::UniformFlow::Impl\n\n  // Set gl_FragDepth here (gl_FragCoord.z by default)\n  //VTK::Depth::Impl\n\n  // Early depth peeling abort:\n  //VTK::DepthPeeling::PreColor\n\n  // Apple Bug\n  //VTK::PrimID::Impl\n\n  //VTK::Clip::Impl\n\n  //VTK::Color::Impl\n\n  // Generate the normal if we are not passed in one\n  //VTK::Normal::Impl\n\n  //VTK::Light::Impl\n\n  //VTK::TCoord::Impl\n\n  if (gl_FragData[0].a <= 0.0)\n    {\n    discard;\n    }\n\n  //VTK::DepthPeeling::Impl\n\n  //VTK::Picking::Impl\n\n  // handle coincident offsets\n  //VTK::Coincident::Impl\n\n  //VTK::ZBuffer::Impl\n}\n"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPolyDataNormals"),e.setFeatureAngle=function(n){return t.featureAngle!==n&&(t.featureAngle=l.default.clampValue(n,0,180),e.modified(),!0)},e.setOutputPointsPrecision=function(n){return t.outputPointsPrecision!==n&&(t.outputPointsPrecision=l.default.clampValue(n,0,2),e.modified(),!0)},e.traverseAndOrder=function(){for(var e=t.wave.getNumberOfIds();e>0;){for(var n=0;n<e;n++){var r=t.wave.getId(n),a=[];t.newMesh.getCellPoints(r,a);for(var i=a.length,o=0,s=1;o<i;++o,s=++s<i?s:0)if(t.oldMesh.getCellEdgeNeighbors(r,a[o],a[s],t.cellIds),1===t.cellIds.getNumberOfIds()||t.nonManifoldTraversal)for(var u=0;u<t.cellIds.getNumberOfIds();u++)if(t.visited[t.cellIds.getId(u)]===C){var l=t.cellIds.getId(u),c=[];t.newMesh.getCellPoints(l,c);for(var d=c.length,f=0;f<d&&c[f]!==a[s];f++);c[(f+1)%d]!==a[o]&&(t.numFlips++,t.newMesh.reverseCell(l)),t.visited[l]=N,t.wave2.insertNextId(l)}}var m=t.wave;t.wave=t.wave2,t.wave2=m,t.wave2.reset(),e=t.wave.getNumberOfIds()}},e.markAndSplit=function(e){var n=[];t.oldMesh.getPointCells(e,n);var r=n.length;if(!(r<=1)){for(var a=0;a<r;a++)t.visited[n[a]]=-1;for(var i=0,o=[0,0],s=[],u=[],c=0;c<r;c++)if(t.visited[n[c]]<0){t.visited[n[c]]=i;var d=[];t.oldMesh.getCellPoints(n[c],d);for(var f=d.length,m=0;m<f&&d[m]!==e;m++);0===m?(o[0]=d[m+1],o[1]=d[f-1]):m===f-1?(o[0]=d[m-1],o[1]=d[0]):(o[0]=d[m+1],o[1]=d[m-1]);for(var g=0;g<2;g++)for(var p=n[c],v=o[g];p>=0;){t.oldMesh.getCellEdgeNeighbors(p,e,v,t.cellIds);var h=1===t.cellIds.getNumberOfIds()?t.cellIds.getId(0):-1;if(1===t.cellIds.getNumberOfIds()&&t.visited[h]<0)if(t.polyNormals.getTuple(p,s),t.polyNormals.getTuple(h,u),l.default.dot(s,u)>t.cosAngle){for(t.visited[h]=i,p=h,t.oldMesh.getCellPoints(p,d),f=d.length,m=0;m<f&&d[m]!==e;m++);v=0===m?d[m+1]!==v?d[m+1]:d[f-1]:m===f-1?d[m-1]!==v?d[m-1]:d[0]:d[m+1]!==v?d[m+1]:d[m-1]}else p=-1;else p=-1}i++}if(!(i<=1))for(var y=t.map.getNumberOfIds(),A=0;A<r;A++)if(t.visited[n[A]]>0){var S=y+t.visited[n[A]]-1;t.map.insertId(S,e);var T=[];t.newMesh.getCellPoints(n[A],T);for(var M=T.length,b=0;b<M;b++)if(T[b]===e){T[b]=S,t.newMesh.setCellPoints(n[A],T);break}}}},e.requestData=function(n,r){var a=n[0],i=d.default.newInstance(),o=i.getCellData();w("Generating surface normals");var s=a.getNumberOfPolys(),u=a.getNumberOfStrips(),c=a.getNumberOfPoints();if(c<1)return w("No data to generate normals for!"),1;if(0===t.computePointNormals&&0===t.computeCellNormals||s<1&&u<1)return i.copyStructure(a),i.getPointData().passData(a.getPointData()),i.getCellData().passData(a.getCellData()),1;u<1&&i.getCellData().passData(a.getCellData());var f=a.getPoints(),g=a.getPolys(),v=a.getStrips(),y=null;if(t.oldMesh=d.default.newInstance(),t.oldMesh.setPoints(f),u>0){var S=a.getCellData();if(o.copyAllocate(S),s>0){y=m.default.newInstance(),y.deepCopy(g);var M=p.default.newInstance();M.setNumberOfIds(s);for(var D=0;D<s;D++)M.setId(D,D);o.copyData(S,M,M)}else y=m.default.newInstance();for(var P=s,x=s,E=[],O=0;O<v.getData().length;P++){var L=v.getCell(O),_=L.length;I.default.decomposeStrip(_,L,E);for(var R=0;R<_-2;R++)o.copyData(S,P,x++);O+=_+1}y.setData(E),t.oldMesh.setPolys(y),s=y.getNumberOfCells()}else t.oldMesh.setPolys(g),y=g;t.oldMesh.buildLinks();var k=a.getPointData(),B=i.getPointData();t.newMesh=d.default.newInstance(),t.newMesh.setPoints(f);var V=m.default.newInstance();V.deepCopy(y),t.newMesh.setPolys(V),t.newMesh.buildCells(),t.consistency||t.splitting||t.autoOrientNormals?(t.visited=Array(s),t.visited.fill(C),t.cellIds=p.default.newInstance(),t.cellIds.allocate(512)):t.visited=null;var F=[];if(t.numFlips=0,t.autoOrientNormals){var j=h.default.newInstance();t.wave=p.default.newInstance(),t.wave.allocate(Math.floor(s/4+1),s),t.wave2=p.default.newInstance(),t.wave2.allocate(Math.floor(s/4+1),s),j.allocate(c);for(var U=0;U<c;U++)j.insert(f.getPoint(U)[0],U);for(;j.getNumberOfItems();){var z=0,G=0,W=-1;do{var Q=j.pop(),Y=[];t.oldMesh.getPointCells(Q,Y);var q=Y.length,H=0;G=0;for(var Z=0;Z<q;Z++){var K=Y[Z];if(t.visited[K]!==N){var X=[];t.oldMesh.getCellPoints(K,X);var J=X.length;b.default.computeNormal(f,J,X,F),Math.abs(F[0])>H&&(H=Math.abs(F[0]),W=K,G=F[0]>0,z=1)}}}while(j.getNumberOfItems()&&!z);z&&(G!==t.flipNormals&&(t.newMesh.reverseCell(W),t.numFlips++),t.wave.insertNextId(W),t.visited[W]=N,e.traverseAndOrder(),t.wave.reset(),t.wave2.reset())}w("Reversed ordering of "+t.numFlips+" polygons")}else if(t.consistency){t.wave=p.default.newInstance(),t.wave.allocate(Math.floor(s/4+1),s),t.wave2=p.default.newInstance(),t.wave2.allocate(Math.floor(s/4+1),s);for(var $=0;$<s;$++)t.visited[$]===C&&(t.flipNormals&&(t.numFlips++,t.newMesh.reverseCell($)),t.wave.insertNextId($),t.visited[$]=N,e.traverseAndOrder()),t.wave.reset(),t.wave2.reset();w("Reversed ordering of "+t.numFlips+" polygons")}t.polyNormals=A.default.newInstance({numberOfComponents:3,size:3*s,values:new Float32Array(3*s),name:"Normals"});for(var ee=0,te=0;te<V.getSize();ee++){var ne=V.getCell(te),re=ne.length;b.default.computeNormal(f,re,ne,F),t.polyNormals.setTuple(ee,F),te+=re+1}var ae=0,ie=null;if(t.splitting){t.cosAngle=Math.cos(l.default.radiansFromDegrees(t.featureAngle)),t.map=p.default.newInstance(),t.map.setNumberOfIds(c);for(var oe=0;oe<c;oe++)t.map.setId(oe,oe);for(var se=0;se<c;se++)e.markAndSplit(se);ae=t.map.getNumberOfIds(),w("Created "+(ae-c)+" new points"),B.copyNormalsOff(),B.copyAllocate(k,ae),ie=T.default.newInstance(),ie.setNumberOfPoints(ae);for(var ue=0;ue<ae;ue++){var le=t.map.getId(ue),ce=f.getPoint(le);ie.setPoint(ue,ce[0],ce[1],ce[2]),B.copyData(k,le,ue)}}else ae=c,B.copyNormalsOff(),B.passData(k);t.consistency||t.splitting;var de=1;t.flipNormals&&!t.consistency&&(de=-1);var fe=A.default.newInstance({numberOfComponents:3,size:3*ae,values:new Float32Array(3*ae),name:"Normals"}),me=fe.getData();me.fill(0);var ge=t.polyNormals.getData();if(t.computePointNormals){ee=0;for(var pe=0;pe<V.getSize();ee++){for(var ve=V.getCell(pe),he=ve.length,ye=0;ye<he;++ye)me[3*ve[ye]]+=ge[3*ee],me[3*ve[ye]+1]+=ge[3*ee+1],me[3*ve[ye]+2]+=ge[3*ee+2];pe+=he+1}for(var Ae=0;Ae<ae;++Ae){var Se=Math.sqrt(me[3*Ae]*me[3*Ae]+me[3*Ae+1]*me[3*Ae+1]+me[3*Ae+2]*me[3*Ae+2])*de;0!==Se&&(me[3*Ae]/=Se,me[3*Ae+1]/=Se,me[3*Ae+2]/=Se)}}return t.splitting?i.setPoints(ie):i.setPoints(f),t.computeCellNormals&&o.setNormals(t.polyNormals),t.computePointNormals&&B.setNormals(fe),i.setPolys(V),i.setVerts(a.getVerts()),i.setLines(a.getLines()),r[0]=i,1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,P,n),s.default.obj(e,t),s.default.algo(e,t,1,1),s.default.setGet(e,t,["featureAngle","splitting","consistency","autoOrientNormals","computePointNormals","computeCellNormals","flipNormals","nonManifoldTraversal","outputPointsPrecision"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=r(u),c=n(4),d=r(c),f=n(11),m=r(f),g=n(18),p=r(g),v=n(427),h=r(v),y=n(2),A=r(y),S=n(6),T=r(S),M=n(139),b=r(M),D=n(225),I=r(D),w=s.default.vtkDebugMacro,C=0,N=1,P={featureAngle:30,splitting:1,consistency:1,flipNormals:0,autoOrientNormals:0,nonManifoldTraversal:1,computePointNormals:1,computeCellNormals:0,numFlips:0,outputPointsPrecision:2,wave:null,wave2:null,cellIds:null,map:null,oldMesh:null,newMesh:null,visited:null,polyNormals:null,cosAngle:0},x=t.newInstance=s.default.newInstance(i,"vtkPolyDataNormals");t.default={newInstance:x,extend:i}},function(e,t,n){"use strict";function r(e){return function(){return u("yDataNodeMapperBase::"+e+" - NOT IMPLEMENTED")}}function a(e,t){t.classHierarchy.push("yDataNodeMapperBase"),e.getNodeType=function(){return l.DataManagement.getDataNodeType(t.nodeIndex)},e.clearUpdateFlags=function(){t.updateFlags={}},e.updateUpdateFlags=function(){var e=t.orientation,n=t.updateFlags;0===e?n.ViewYZ=!0:1===e?n.ViewXZ=!0:2===e?n.ViewXY=!0:3===e&&(n.View3D=!0)},e.mergeUpdateFlags=function(e){var n=t.updateFlags;n.ViewXY&&(e.ViewXY=!0),n.ViewYZ&&(e.ViewYZ=!0),n.ViewXZ&&(e.ViewXZ=!0),n.View3D&&(e.View3D=!0),n.ViewVR&&(e.ViewVR=!0)},e.getUpdateFlags=function(){return t.updateFlags},e.installPipeline=r("installPipeline"),e.uninstallPipeline=r("uninstallPipeline"),e.updatePipeline=r("updatePipeline")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),s.default.obj(e,t),s.default.setGet(e,t,["orientation","nodeIndex"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=s.default.vtkErrorMacro,l=s.default.GlobalObjects,c={updateFlags:{},orientation:-1,nodeIndex:-1},d=t.newInstance=s.default.newInstance(i,"yDataNodeMapperBase");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:n(473),e.exports={Promise:r}},function(e,t,n){"use strict";function r(e){v.mat4.identity(e)}function a(e,t){v.mat4.copy(e,t)}function i(e,t){v.mat4.copy(e,t.getElement())}function o(e,t){v.mat4.invert(t,e)}function s(e,t){v.mat4.invert(t.getElement(),e.getElement()),t.modified()}function u(e,t){v.mat4.transpose(t,e)}function l(e,t){v.mat4.transpose(t.getElement(),e.getElement()),t.modified()}function c(e,t,n){v.mat4.multiply(n,t,e)}function d(e,t,n){v.mat4.multiply(n.getElement(),t.getElement(),e.getElement())}function f(e,t){t.classHierarchy.push("vtkMatrix4x4"),e.deepCopy=function(n){a(t.element,n),e.modified()},e.deepCopy2=function(n){i(t.element,n),e.modified()},e.identity=function(){r(t.element),e.modified()},e.invert=function(){s(e,e)},e.transpose=function(){l(e,e)},e.setElementIJ=function(n,r,a){t.element[4*n+r]!==a&&(t.element[4*n+r]=a,e.modified())},e.getElementIJ=function(e,n){return t.element[4*e+n]}}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),p.default.obj(e,t),p.default.setGet(e,t,["element"]),t.element=v.mat4.create(),r(t.element),f(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=m;var g=n(0),p=function(e){return e&&e.__esModule?e:{default:e}}(g),v=n(3),h=t.STATIC={identity:r,deepCopy:a,deepCopy2:i,invert:o,invert2:s,transpose:u,transpose2:l,multiply4x4:c,multiply4x42:d},y={element:null,point:[0,0,0,0]},A=t.newInstance=p.default.newInstance(m,"vtkMatrix4x4");t.default=Object.assign({newInstance:A,extend:m},h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return e[0]*(n[0]-t[0])+e[1]*(n[1]-t[1])+e[2]*(n[2]-t[2])}function i(e,t,n){var r=n[0]*(e[0]-t[0])+n[1]*(e[1]-t[1])+n[2]*(e[2]-t[2]);return Math.abs(r)}function o(e,t,n,r){var a=[];m.default.subtract(e,t,a);var i=m.default.dot(n,a);r[0]=e[0]-i*n[0],r[1]=e[1]-i*n[1],r[2]=e[2]-i*n[2]}function s(e,t,n){var r=m.default.dot(e,t),a=m.default.dot(t,t);0===a&&(a=1),n[0]=e[0]-r*t[0]/a,n[1]=e[1]-r*t[1]/a,n[2]=e[2]-r*t[2]/a}function u(e,t,n,r){var a=[];m.default.subtract(e,t,a);var i=m.default.dot(n,a),o=m.default.dot(n,n);0!==o?(r[0]=e[0]-i*n[0]/o,r[1]=e[1]-i*n[1]/o,r[2]=e[2]-i*n[2]/o):(r[0]=e[0],r[1]=e[1],r[2]=e[2])}function l(e,t,n,r){var a={intersection:!1,t:Number.MAX_VALUE,x:[]},i=[];m.default.subtract(t,e,i);var o=m.default.dot(r,n)-m.default.dot(r,e),s=m.default.dot(r,i),u=void 0,l=void 0;return u=s<0?-s:s,l=o<0?-o*v:o*v,u<=l?a:(a.t=o/s,a.x[0]=e[0]+a.t*i[0],a.x[1]=e[1]+a.t*i[1],a.x[2]=e[2]+a.t*i[2],a.intersection=a.t>=0&&a.t<=1,a)}function c(e,t){t.classHierarchy.push("vtkPlane"),e.distanceToPlane=function(e){return i(e,t.origin,t.normal)},e.projectPoint=function(e,n){o(e,t.origin,t.normal,n)},e.projectVector=function(e,n){s(e,t.normal,n)},e.push=function(e){if(0!==e)for(var n=0;n<3;n++)t.origin[n]+=e*t.normal[n]},e.generalizedProjectPoint=function(e,n){u(e,t.origin,t.normal,n)},e.evaluateFunction=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=[].concat(n);return Array.isArray(n[0])&&(a=n[0]),3!==a.length?Number.MAX_VALUE:t.normal[0]*(a[0]-t.origin[0])+t.normal[1]*(a[1]-t.origin[1])+t.normal[2]*(a[2]-t.origin[2])},e.evaluateGradient=function(e){return[t.normal[0],t.normal[1],t.normal[2]]},e.intersectWithLine=function(e,n){return l(e,n,t.origin,t.normal)}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),p.default.obj(e,t),p.default.setGetArray(e,t,["normal","origin"],3),c(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.vtkPlane=c,t.extend=d;var f=n(1),m=r(f),g=n(0),p=r(g),v=1e-6,h=t.STATIC={evaluate:a,distanceToPlane:i,projectPoint:o,projectVector:s,generalizedProjectPoint:u,intersectWithLine:l},y={normal:[0,0,1],origin:[0,0,0]},A=t.newInstance=p.default.newInstance(d,"vtkPlane");t.default=Object.assign({newInstance:A,extend:d},h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n=void 0===n?t.byteArray.length:n,void 0===t)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(n<t.position||n>t.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var a=e.elements;t.position<n;){var i=(0,s.default)(t,e.warnings,r.untilTag);if(a[i.tag]=i,i.tag===r.untilTag)return}if(t.position>n)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"}function i(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n=void 0===n?e.byteArray.length:n,void 0===t)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(n<t.position||n>t.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var a=e.elements;t.position<n;){var i=(0,l.default)(t,r.untilTag,r.vrCallback);if(a[i.tag]=i,i.tag===r.untilTag)return}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseDicomDataSetExplicit=a,t.parseDicomDataSetImplicit=i;var o=n(62),s=r(o),u=n(105),l=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(void 0===e)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var r={tag:(0,f.default)(e),vr:e.readFixedString(2)};return 2===p(r.vr)?(r.length=e.readUint16(),r.dataOffset=e.position):(e.seek(2),r.length=e.readUint32(),r.dataOffset=e.position),4294967295===r.length&&(r.hadUndefinedLength=!0),r.tag===n?r:"SQ"===r.vr?((0,g.default)(e,r,t),r):4294967295===r.length?"x7fe00010"===r.tag?((0,o.default)(e,r,t),r):"UN"===r.vr?((0,u.default)(e,r),r):((0,c.default)(e,r),r):(e.seek(r.length),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(173),o=r(i),s=n(174),u=r(s),l=n(104),c=r(l),d=n(36),f=r(d),m=n(175),g=r(m),p=function(e){return"OB"===e||"OW"===e||"SQ"===e||"OF"===e||"UT"===e||"UN"===e?4:2}},function(e,t,n){"use strict";function r(e,t,n){if(n<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(t+n>e.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var r,a="",i=0;i<n;i++){if(0===(r=e[t+i]))return t+=n,a;a+=String.fromCharCode(r)}return a}Object.defineProperty(t,"__esModule",{value:!0}),t.readFixedString=r},function(e,t,n){"use strict";function r(e){if(void 0===e)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var t={tag:(0,i.default)(e),length:e.readUint32(),dataOffset:e.position};if("xfffee000"!==t.tag)throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset "+e.position;return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(36),i=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){"use strict";(function(e){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(66),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(63),u=function(){function t(n,a,i){if(r(this,t),void 0===n)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(void 0===a)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(a instanceof Uint8Array==0&&a instanceof e==0)throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(i<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(i>=a.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=n,this.byteArray=a,this.position=i||0,this.warnings=[]}return a(t,[{key:"seek",value:function(e){if(this.position+e<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=e}},{key:"readByteStream",value:function(e){if(this.position+e>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var n=(0,o.default)(this.byteArray,this.position,e);return this.position+=e,new t(this.byteArrayParser,n)}},{key:"readUint16",value:function(){var e=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,e}},{key:"readUint32",value:function(){var e=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,e}},{key:"readFixedString",value:function(e){var t=(0,s.readFixedString)(this.byteArray,this.position,e);return this.position+=e,t}}]),t}();t.default=u}).call(t,n(8).Buffer)},function(e,t,n){"use strict";(function(e){function n(t,n,r){if(void 0!==e&&t instanceof e)return t.slice(n,n+r);if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset+n,r);throw"dicomParser.from: unknown type for byteArray"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}).call(t,n(8).Buffer)},function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=r(e);if("string"!=typeof t&&(y.isEncoding===A||!A(e)))throw new Error("Unknown encoding: "+e);return t||e}function i(e){this.encoding=a(e);var t;switch(this.encoding){case"utf16le":this.text=f,this.end=m,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=g,this.end=p,t=3;break;default:return this.write=v,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e,t,n){var r=t.length-1;if(r<n)return 0;var a=o(t[r]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--r<n||-2===a?0:(a=o(t[r]))>=0?(a>0&&(e.lastNeed=a-2),a):--r<n||-2===a?0:(a=o(t[r]),a>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0)}function u(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}function l(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){var n=s(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function f(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function g(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function p(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}var y=n(319).Buffer,A=y.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=n||{};n.lossless=n.lossless||{},n.lossless.Utils=n.lossless.Utils||{},n.lossless.Utils.createArray=function(e){var t=new Array(e||0),r=e;if(arguments.length>1)for(var a=Array.prototype.slice.call(arguments,1);r--;)t[e-1-r]=n.lossless.Utils.createArray.apply(this,a);return t},n.lossless.Utils.makeCRCTable=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t},n.lossless.Utils.crc32=function(e){for(var t=new Uint8Array(e.buffer),r=n.lossless.Utils.crcTable||(n.lossless.Utils.crcTable=n.lossless.Utils.makeCRCTable()),a=-1,i=0;i<t.length;i++)a=a>>>8^r[255&(a^t[i])];return(-1^a)>>>0},"undefined"!==t(e)&&e.exports&&(e.exports=n.lossless.Utils)}).call(t,n(10)(e))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=e,this.init()}function a(e){for(var t in e)r.prototype[t]=i(r.prototype[t],e[t])}function i(e,t){function n(){return e.apply(this,arguments),t.apply(this,arguments)}return e&&t?n:e||t}function o(e){function t(e,t){return t(e)}return e=e.slice(),function(n){return e.reduce(t,n)}}function s(e){return l(e)?o(e):e}function u(e){return new r(e)}var l=n(48);t.createCodec=u,t.install=a,t.filter=s;var c=n(17);r.prototype.init=function(){var e=this.options;return e&&e.uint8array&&(this.bufferish=c.Uint8Array),this},t.preset=u({preset:!0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkFileDownloaderWSAjax"),e.initParamsWS=function(n){t.downloaderWS.setServerUrl(t.serverUrl),t.downloaderWS.setFileUrl(t.fileUrl),t.downloaderWS.setIsBinary(t.isBinary),t.downloaderWS.setDataCallback(t.dataCallback),t.downloaderWS.setErrorCallback(n?e.errorCallbackInternalWS:t.errorCallback),t.downloaderWS.setProgressCallback(t.progressCallback),t.downloaderWS.setProgressMin(t.progressMin),t.downloaderWS.setProgressMax(t.progressMax)},e.initParamsAjax=function(n){t.downloaderAjax.setFileUrl(t.fileUrl),t.downloaderAjax.setIsBinary(t.isBinary),t.downloaderAjax.setDataCallback(t.dataCallback),t.downloaderAjax.setErrorCallback(n?e.errorCallbackInternalAjax:t.errorCallback),t.downloaderAjax.setProgressCallback(t.progressCallback),t.downloaderAjax.setProgressMin(t.progressMin),t.downloaderAjax.setProgressMax(t.progressMax)},e.errorCallbackInternalWS=function(n){e.initParamsAjax(),t.mode="WSAjax.Ajax",t.downloaderAjax.download()},e.errorCallbackInternalAjax=function(n){e.initParamsWS(),t.mode="WSAjax.WebSocket",t.downloaderWS.download()},e.downloadWSFirst=function(){return t.serverUrl?(e.initParamsWS(!0),t.mode="WSAjax.WebSocket",!!t.downloaderWS.download()||(e.initParamsAjax(),t.mode="WSAjax.Ajax",t.downloaderAjax.download())):(e.initParamsAjax(),t.mode="WSAjax.Ajax",t.downloaderAjax.download())},e.downloadAjaxFirst=function(){return e.initParamsAjax(!0),t.mode="WSAjax.Ajax",!!t.downloaderAjax.download()||(e.initParamsWS(),t.mode="WSAjax.WebSocket",t.downloaderWS.download())},e.download=f.USE_WS_FIRST?e.downloadWSFirst:e.downloadAjaxFirst}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),s.default.obj(e,t),t.downloaderWS=l.default.newInstance(),t.downloaderAjax=d.default.newInstance(),s.default.setGet(e,t,["serverUrl","fileUrl","isBinary","dataCallback","errorCallback","progressCallback","progressMin","progressMax"]),s.default.get(e,t,["mode"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(201),l=r(u),c=n(120),d=r(c),f=s.default.GlobalOptions,m={serverUrl:null,fileUrl:null,isBinary:!0,dataCallback:null,errorCallback:null,progressCallback:null,progressMin:0,progressMax:100,mode:"WSAjax.WebSocket",downloaderWS:null,downloaderAjax:null},g=t.newInstance=s.default.newInstance(i,"vtkFileDownloaderWSAjax");t.default={newInstance:g,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkFileDownloaderDSAjax"),e.initParamsAjax=function(n){t.downloaderAjax.setFileUrl(t.fileUrl),t.downloaderAjax.setIsBinary(t.isBinary),t.downloaderAjax.setDataCallback(t.dataCallback),t.downloaderAjax.setErrorCallback(n?e.errorCallbackInternalAjax:t.errorCallback),t.downloaderAjax.setProgressCallback(t.progressCallback),t.downloaderAjax.setProgressMin(t.progressMin),t.downloaderAjax.setProgressMax(t.progressMax)},e.errorCallbackInternalDS=function(n){e.initParamsAjax(),t.mode="DSAjax.Ajax",t.downloaderAjax.download()},e.errorCallbackInternalAjax=function(e){t.mode="DSAjax.WebSocket",t.dataServer.downloadFile(t.fileUrl,t.isBinary,t.dataCallback,t.errorCallback,t.progressCallback)},e.downloadDSFirst=function(){return t.dataServer&&t.dataServer.ready()?(t.mode="DSAjax.WebSocket",!!t.dataServer.downloadFile(t.fileUrl,t.isBinary,t.dataCallback,e.errorCallbackInternalDS,t.progressCallback)||(e.initParamsAjax(),t.mode="DSAjax.Ajax",t.downloaderAjax.download())):(e.initParamsAjax(),t.mode="DSAjax.Ajax",t.downloaderAjax.download())},e.downloadAjaxFirst=function(){return e.initParamsAjax(!0),t.mode="DSAjax.Ajax",!!t.downloaderAjax.download()||(t.mode="DSAjax.WebSocket",t.dataServer.downloadFile(t.fileUrl,t.isBinary,t.dataCallback,t.errorCallback,t.progressCallback))},e.download=c.USE_DS_FIRST?e.downloadDSFirst:e.downloadAjaxFirst}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),s.default.obj(e,t),t.downloaderAjax=l.default.newInstance(),s.default.setGet(e,t,["dataServer","fileUrl","isBinary","dataCallback","errorCallback","progressCallback","progressMin","progressMax"]),s.default.get(e,t,["mode"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(120),l=r(u),c=s.default.GlobalOptions,d={dataServer:null,fileUrl:null,isBinary:!0,dataCallback:null,errorCallback:null,progressCallback:null,progressMin:0,progressMax:100,mode:"DSAjax.WebSocket",downloaderAjax:null},f=t.newInstance=s.default.newInstance(i,"vtkFileDownloaderDSAjax");t.default={newInstance:f,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=[];return c.default.cross(t,n,r),c.default.dot(e,r)}function i(e,t){t.classHierarchy.push("vtkVolumeCalculator"),e.getPolyDataVolume=function(){if(!t.polyData)return 0;for(var e=t.polyData.getPolys(),n=t.polyData.getPoints(),r=e.getData().length,i=0,o=[],s=[],u=[],l=[],c=0;c<r;){e.getCell(c,l);var d=l.length;3===d&&(n.getPoint(l[0],o),n.getPoint(l[1],s),n.getPoint(l[2],u),i+=a(o,s,u)),c+=d+1}return i/=6,Math.floor(100*Math.abs(i/1e3))/100},e.getMaskDataVolume=function(e){if(!t.maskData)return 0;var n=t.maskData.getDimensions(),r=t.maskData.getSpacing(),a=t.maskData.getPointData().getScalars().getData(),i=128;i>>=8-e-1;for(var o=0,s=0,u=n[0]*n[1]*n[2],l=0;l<u;l++)(s=a[l])===(i|s)&&o++;var c=r[0]*r[1]*r[2]*o;return Math.floor(c/1e3*100)/100}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),u.default.obj(e,t),u.default.setGet(e,t,["polyData","maskData"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(1),c=r(l),d={polyData:null,maskData:null},f=t.newInstance=u.default.newInstance(o,"vtkVolumeCalculator");t.default={newInstance:f,extend:o}},function(e,t,n){"use strict";(function(){var t,r,a,i,o,s=function(e,t){function n(){this.constructor=e}for(var r in t)u.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},u={}.hasOwnProperty;o=n(29),i=o.isObject,a=o.isFunction,r=n(12),t=n(203),e.exports=function(e){function n(e,t,r){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing element name");this.name=this.stringify.eleName(t),this.attributes={},null!=r&&this.attribute(r),e.isDocument&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this)}return s(n,e),n.prototype.clone=function(){var e,t,n,r;n=Object.create(this),n.isRoot&&(n.documentObject=null),n.attributes={},r=this.attributes;for(t in r)u.call(r,t)&&(e=r[t],n.attributes[t]=e.clone());return n.children=[],this.children.forEach(function(e){var t;return t=e.clone(),t.parent=n,n.children.push(t)}),n},n.prototype.attribute=function(e,n){var r,o;if(null!=e&&(e=e.valueOf()),i(e))for(r in e)u.call(e,r)&&(o=e[r],this.attribute(r,o));else a(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.attributes[e]=new t(this,e,n));return this},n.prototype.removeAttribute=function(e){var t,n,r;if(null==e)throw new Error("Missing attribute name");if(e=e.valueOf(),Array.isArray(e))for(n=0,r=e.length;n<r;n++)t=e[n],delete this.attributes[t];else delete this.attributes[e];return this},n.prototype.toString=function(e){return this.options.writer.set(e).element(this)},n.prototype.att=function(e,t){return this.attribute(e,t)},n.prototype.a=function(e,t){return this.attribute(e,t)},n}(r)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t=n(12),e.exports=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(n)}return r(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).cdata(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t=n(12),e.exports=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing comment text");this.text=this.stringify.comment(n)}return r(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).comment(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r,a=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=n(29).isObject,t=n(12),e.exports=function(e){function t(e,n,a,i){var o;t.__super__.constructor.call(this,e),r(n)&&(o=n,n=o.version,a=o.encoding,i=o.standalone),n||(n="1.0"),this.version=this.stringify.xmlVersion(n),null!=a&&(this.encoding=this.stringify.xmlEncoding(a)),null!=i&&(this.standalone=this.stringify.xmlStandalone(i))}return a(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).declaration(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r,a,i,o,s,u=function(e,t){function n(){this.constructor=e}for(var r in t)l.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;s=n(29).isObject,o=n(12),t=n(78),a=n(79),r=n(80),i=n(81),e.exports=function(e){function n(e,t,r){var a,i;n.__super__.constructor.call(this,e),this.documentObject=e,s(t)&&(a=t,t=a.pubID,r=a.sysID),null==r&&(i=[t,r],r=i[0],t=i[1]),null!=t&&(this.pubID=this.stringify.dtdPubID(t)),null!=r&&(this.sysID=this.stringify.dtdSysID(r))}return u(n,e),n.prototype.element=function(e,t){var n;return n=new r(this,e,t),this.children.push(n),this},n.prototype.attList=function(e,n,r,a,i){var o;return o=new t(this,e,n,r,a,i),this.children.push(o),this},n.prototype.entity=function(e,t){var n;return n=new a(this,!1,e,t),this.children.push(n),this},n.prototype.pEntity=function(e,t){var n;return n=new a(this,!0,e,t),this.children.push(n),this},n.prototype.notation=function(e,t){var n;return n=new i(this,e,t),this.children.push(n),this},n.prototype.toString=function(e){return this.options.writer.set(e).docType(this)},n.prototype.ele=function(e,t){return this.element(e,t)},n.prototype.att=function(e,t,n,r,a){return this.attList(e,t,n,r,a)},n.prototype.ent=function(e,t){return this.entity(e,t)},n.prototype.pent=function(e,t){return this.pEntity(e,t)},n.prototype.not=function(e,t){return this.notation(e,t)},n.prototype.up=function(){return this.root()||this.documentObject},n}(o)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t=n(12),e.exports=function(e){function t(e,n,r,a,i,o){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name");if(null==r)throw new Error("Missing DTD attribute name");if(!a)throw new Error("Missing DTD attribute type");if(!i)throw new Error("Missing DTD attribute default");if(0!==i.indexOf("#")&&(i="#"+i),!i.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(o&&!i.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(n),this.attributeName=this.stringify.attName(r),this.attributeType=this.stringify.dtdAttType(a),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=i}return r(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdAttList(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r,a=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;r=n(29).isObject,t=n(12),e.exports=function(e){function t(e,n,a,i){if(t.__super__.constructor.call(this,e),null==a)throw new Error("Missing entity name");if(null==i)throw new Error("Missing entity value");if(this.pe=!!n,this.name=this.stringify.eleName(a),r(i)){if(!i.pubID&&!i.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(i.pubID&&!i.sysID)throw new Error("System identifier is required for a public external entity");if(null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID)),null!=i.nData&&(this.nData=this.stringify.dtdNData(i.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(i)}return a(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdEntity(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t=n(12),e.exports=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name");r||(r="(#PCDATA)"),Array.isArray(r)&&(r="("+r.join(",")+")"),this.name=this.stringify.eleName(n),this.value=this.stringify.dtdElementValue(r)}return r(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdElement(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t=n(12),e.exports=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing notation name");if(!r.pubID&&!r.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(n),null!=r.pubID&&(this.pubID=this.stringify.dtdPubID(r.pubID)),null!=r.sysID&&(this.sysID=this.stringify.dtdSysID(r.sysID))}return r(t,e),t.prototype.toString=function(e){return this.options.writer.set(e).dtdNotation(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t=n(12),e.exports=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing raw text");this.value=this.stringify.raw(n)}return r(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).raw(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t=n(12),e.exports=function(e){function t(e,n){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing element text");this.value=this.stringify.eleText(n)}return r(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).text(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;t=n(12),e.exports=function(e){function t(e,n,r){if(t.__super__.constructor.call(this,e),null==n)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(n),r&&(this.value=this.stringify.insValue(r))}return r(t,e),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).processingInstruction(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";function r(e){return function(){return s.default.vtkErrorMacro("vtkProp::"+e+" - NOT IMPLEMENTED")}}function a(e,t){t.classHierarchy.push("vtkProp"),e.getMTime=function(){for(var e=t.mtime,n=0;n<t.textures.length;++n){var r=t.textures[n].getMTime();r>e&&(e=r)}return e},e.getNestedProps=function(){return null},e.getActors=function(){return[]},e.getActors2D=function(){return[]},e.getVolumes=function(){return[]},e.pick=r("pick"),e.hasKey=r("hasKey"),e.getRedrawMTime=function(){return t.mtime},e.setEstimatedRenderTime=function(e){t.estimatedRenderTime=e,t.savedEstimatedRenderTime=e},e.restoreEstimatedRenderTime=function(){t.estimatedRenderTime=t.savedEstimatedRenderTime},e.addEstimatedRenderTime=function(e){t.estimatedRenderTime+=e},e.setAllocatedRenderTime=function(e){t.allocatedRenderTime=e,t.savedEstimatedRenderTime=t.estimatedRenderTime,t.estimatedRenderTime=0},e.getSupportsSelection=function(){return!1},e.getTextures=function(){return t.textures},e.hasTexture=function(e){return-1!==t.textures.indexOf(e)},e.addTexture=function(n){n&&!e.hasTexture(n)&&(t.textures=t.textures.concat(n),e.modified())},e.removeTexture=function(n){var r=t.textures.filter(function(e){return e!==n});t.textures.length!==r.length&&(t.textures=r,e.modified())},e.removeAllTextures=function(){t.textures=[],e.modified()}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,u,n),s.default.obj(e,t),s.default.get(e,t,["estimatedRenderTime","allocatedRenderTime"]),s.default.setGet(e,t,["visibility","pickable","dragable","useBounds","renderTimeMultiplier","renderOrder"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u={visibility:!0,pickable:!0,dragable:!0,useBounds:!0,allocatedRenderTime:10,estimatedRenderTime:0,savedEstimatedRenderTime:0,renderTimeMultiplier:1,renderOrder:0,paths:null,textures:[]},l=t.newInstance=s.default.newInstance(i,"vtkProp");t.default={newInstance:l,extend:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VectorMode={MAGNITUDE:0,COMPONENT:1,RGBCOLORS:2},a=t.ScalarMappingTarget={LUMINANCE:1,LUMINANCE_ALPHA:2,RGB:3,RGBA:4};t.default={VectorMode:r,ScalarMappingTarget:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ColorMode={DEFAULT:0,MAP_SCALARS:1,DIRECT_SCALARS:2},a=t.ScalarMode={DEFAULT:0,USE_POINT_DATA:1,USE_CELL_DATA:2,USE_POINT_FIELD_DATA:3,USE_CELL_FIELD_DATA:4,USE_FIELD_DATA:5},i=t.GetArray={BY_ID:0,BY_NAME:1};t.default={ColorMode:r,GetArray:i,ScalarMode:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkTextProperty"),e.setFontFamily=function(t){return e.setFontFamilyAsString(e.getFontFamilyAsString(t))},e.getFontFamily=function(){return e.getFontFamilyFromString(t.fontFamilyAsString)},e.getFontFamilyMinValue=function(){return c.ARIAL},e.setFontFamilyToArial=function(){return e.setFontFamily(c.ARIAL)},e.setFontFamilyToCourier=function(){return e.setFontFamily(c.COURIER)},e.setFontFamilyToTimes=function(){return e.setFontFamily(c.TIMES)},e.getFontFamilyFromString=function(t){return t===e.getFontFamilyAsString(c.ARIAL)?c.ARIAL:t===e.getFontFamilyAsString(c.COURIER)?c.COURIER:t===e.getFontFamilyAsString(c.TIMES)?c.TIMES:t===e.getFontFamilyAsString(c.FONT_FILE)?c.FONT_FILE:c.UNKNOWN_FONT},e.getFontFamilyAsString=function(e){return e===c.ARIAL?"Arial":e===c.COURIER?"Courier":e===c.TIMES?"Times":e===c.FONT_FILE?"File":"Unknown"},e.getFontFileWithoutPath=function(){if(null===t.fontFile)return"";var e=t.fontFile,n=e.lastIndexOf("/");return n<0&&(n=e.lastIndexOf("\\")),n>=0&&(e=e.substring(n+1)),n=e.indexOf("."),n>=0&&(e=e.substr(0,n)),e},e.setJustificationToLeft=function(){return e.setJustification(d.TEXT_LEFT)},e.setJustificationToCentered=function(){return e.setJustification(d.TEXT_CENTERED)},e.setJustificationToRight=function(){return e.setJustification(d.TEXT_RIGHT)},e.getJustificationAsString=function(){return t.justification===d.TEXT_LEFT?"Left":t.justification===d.TEXT_CENTERED?"Centered":t.justification===d.TEXT_RIGHT?"Right":"Unknown"},e.setVerticalJustificationToBottom=function(){return e.setVerticalJustification(f.TEXT_BOTTOM)},e.setVerticalJustificationToCentered=function(){return e.setVerticalJustification(f.TEXT_CENTERED)},e.setVerticalJustificationToTop=function(){return e.setVerticalJustification(f.TEXT_TOP)},e.getVerticalJustificationAsString=function(){return t.verticalJustification===f.TEXT_BOTTOM?"Bottom":t.verticalJustification===f.TEXT_CENTERED?"Centered":t.verticalJustification===f.TEXT_TOP?"Top":"Unknown"},e.getShadowColor=function(){var e=(t.color[0]+t.color[1]+t.color[2])/3,n=e>.5?0:1;return[n,n,n]}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),s.default.obj(e,t),s.default.setGet(e,t,["opacity","backgroundOpacity","frame","frameWidth","fontFamilyAsString","fontFile","fontSize","bold","italic","shadow","justification","verticalJustification","useTightBoundingBox","orientation","lineOffset","lineSpacing"]),s.default.setGetArray(e,t,["color","backgroundColor","frameColor"],3),s.default.setGetArray(e,t,["shadowOffset"],2),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(209),l=r(u),c=l.default.Font,d=l.default.Justification,f=l.default.VerticalJustification,m={color:[1,1,1],opacity:1,backgroundColor:[0,0,0],backgroundOpacity:0,frame:0,frameColor:[1,1,1],frameWidth:1,fontFamilyAsString:"Arial",fontFile:null,fontSize:12,bold:0,italic:0,shadow:0,shadowOffset:[1,-1],justification:d.TEXT_LEFT,verticalJustification:f.TEXT_BOTTOM,useTightBoundingBox:0,orientation:0,lineOffset:0,lineSpacing:1.1},g=t.newInstance=s.default.newInstance(i,"vtkTextProperty");t.default={newInstance:g,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkFramebuffer"),e.getBothMode=function(){return t.context.FRAMEBUFFER},e.saveCurrentBindingsAndBuffers=function(t){var n=void 0!==t?t:e.getBothMode();e.saveCurrentBindings(n),e.saveCurrentBuffers(n)},e.saveCurrentBindings=function(e){var n=t.context;t.previousDrawBinding=n.getParameter(t.context.FRAMEBUFFER_BINDING),t.previousActiveFramebuffer=t.openGLRenderWindow.getActiveFramebuffer()},e.saveCurrentBuffers=function(e){},e.restorePreviousBindingsAndBuffers=function(t){var n=void 0!==t?t:e.getBothMode();e.restorePreviousBindings(n),e.restorePreviousBuffers(n)},e.restorePreviousBindings=function(e){var n=t.context;n.bindFramebuffer(n.FRAMEBUFFER,t.previousDrawBinding),t.openGLRenderWindow.setActiveFramebuffer(t.previousActiveFramebuffer)},e.restorePreviousBuffers=function(e){},e.bind=function(){t.context.bindFramebuffer(t.context.FRAMEBUFFER,t.glFramebuffer),t.colorTexture&&t.colorTexture.bind(),t.depthTexture&&t.depthTexture.bind&&t.depthTexture.bind(),t.openGLRenderWindow.setActiveFramebuffer(e)},e.create=function(e,n){t.glFramebuffer=t.context.createFramebuffer(),t.glFramebuffer.width=e,t.glFramebuffer.height=n},e.setColorBuffer=function(e,n){var r=t.context;t.colorTexture=e,e?r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.getHandle(),0):r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,null,0)},e.setDepthBuffer=function(e,n){var r=t.context;t.depthTexture=e,e?r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,e.getHandle(),0):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,null,0)},e.getGLFramebuffer=function(){return t.glFramebuffer},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))},e.releaseGraphicsResources=function(){t.glFramebuffer&&t.context.deleteFramebuffer(t.glFramebuffer),t.depthTexture&&t.depthTexture.releaseGraphicsResources(),t.colorTexture&&t.colorTexture.releaseGraphicsResources()},e.getSize=function(){var e=[0,0];return null!==t.glFramebuffer&&(e[0]=t.glFramebuffer.width,e[1]=t.glFramebuffer.height),e},e.populateFramebuffer=function(){e.bind();var n=t.context,r=u.default.newInstance();r.setOpenGLRenderWindow(t.openGLRenderWindow),r.setMinificationFilter(c.Filter.LINEAR),r.setMagnificationFilter(c.Filter.LINEAR),r.create2DFromRaw(t.glFramebuffer.width,t.glFramebuffer.height,4,l.VtkDataTypes.UNSIGNED_CHAR,null),e.setColorBuffer(r),t.depthTexture=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,t.depthTexture),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,t.glFramebuffer.width,t.glFramebuffer.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,t.depthTexture)},e.populateFramebufferDepthPeel=function(){e.bind();var n=t.context,r=u.default.newInstance();r.setOpenGLRenderWindow(t.openGLRenderWindow),r.setMinificationFilter(c.Filter.LINEAR),r.setMagnificationFilter(c.Filter.LINEAR),r.create2DFromRaw(t.glFramebuffer.width,t.glFramebuffer.height,4,l.VtkDataTypes.UNSIGNED_CHAR,null),e.setColorBuffer(r),n.getExtension("WEBGL_depth_texture");var a=u.default.newInstance();a.setOpenGLRenderWindow(t.openGLRenderWindow),a.setMinificationFilter(c.Filter.LINEAR),a.setMagnificationFilter(c.Filter.LINEAR),a.createDepthFromRaw(t.glFramebuffer.width,t.glFramebuffer.height,l.VtkDataTypes.UNSIGNED_SHORT,null),e.setDepthBuffer(a)},e.populateFramebufferWithTexture=function(t,n){e.bind(),e.setColorBuffer(t),e.setDepthBuffer(n)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),o.obj(e,t),o.setGet(e,t,["colorTexture","depthTexture"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n(25),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(5),c=n(31),d={openGLRenderWindow:null,glFramebuffer:null,colorTexture:null,depthTexture:null,previousDrawBinding:0,previousReadBinding:0,previousDrawBuffer:0,previousReadBuffer:0,previousActiveFramebuffer:null},f=t.newInstance=o.newInstance(a,"vtkFramebuffer");t.default=Object.assign({newInstance:f,extend:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("vtkOpenGLPolyDataMapper"),e.buildPass=function(n){n&&(t.openGLActor=e.getFirstAncestorOfType("vtkOpenGLActor"),t.openGLRenderer=t.openGLActor.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.openGLCamera=t.openGLRenderer.getViewNodeFor(t.openGLRenderer.getRenderable().getActiveCamera()))},e.translucentPass=function(n){if(n){t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer");var r=t.openGLRenderer.getDepthPeelingPass();r&&r.getDepthPeelingOn()&&(t.renderDepthPeeling=!0),e.render(),t.renderDepthPeeling=!1}},e.opaqueZBufferPass=function(n){n&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)},e.opaquePass=function(t){t&&e.render()},e.translucentZBufferPass=function(n){if(n){t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer");var r=t.openGLRenderer.getDepthPeelingPass();r&&r.getDepthPeelingOn()&&(t.renderDepthPeeling=!0),t.renderDepth=!0,e.render(),t.renderDepth=!1,t.renderDepthPeeling=!1}},e.render=function(){var n=t.openGLRenderWindow.getContext();if(t.context!==n){t.context=n;for(var r=N.Start;r<N.End;r++)t.primitives[r].setOpenGLRenderWindow(t.openGLRenderWindow)}var a=t.openGLActor.getRenderable(),i=t.openGLRenderer.getRenderable();e.renderPiece(i,a)},e.buildShaders=function(n,r,a){e.getShaderTemplate(n,r,a);var i=t.renderable.getViewSpecificProperties().OpenGL,o=null;if(i&&(o=i.ShaderReplacements),o)for(var s=0;s<o.length;s++){var u=o[s];if(u.replaceFirst){var l=u.shaderType,c=n[l],d=T.default.substitute(c,u.originalValue,u.replacementValue,u.replaceAll);n[l]=d.result}}if(e.replaceShaderValues(n,r,a),o)for(var f=0;f<o.length;f++){var m=o[f];if(!m.replaceFirst){var g=m.shaderType,p=n[g],v=T.default.substitute(p,m.originalValue,m.replacementValue,m.replaceAll);n[g]=v.result}}},e.getShaderTemplate=function(e,n,r){var a=t.renderable.getViewSpecificProperties().OpenGL,i=I.default;if(a){var o=a.VertexShaderCode;void 0!==o&&""!==o&&(i=o)}e.Vertex=i;var s=C.default;if(a){var u=a.FragmentShaderCode;void 0!==u&&""!==u&&(s=u)}e.Fragment=s;var l="";if(a){var c=a.GeometryShaderCode;void 0!==c&&(l=c)}e.Geometry=l},e.replaceShaderColor=function(e,n,r){var a=e.Vertex,i=e.Geometry,o=e.Fragment,s=t.lastBoundBO.getReferenceByName("lastLightComplexity"),u=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity","uniform vec3 ambientColorUniform;","uniform vec3 diffuseColorUniform;"];s&&(u=u.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var l=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];s&&(l=l.concat(["  vec3 specularColor;","  float specularPower;"])),l=l.concat(["  ambientColor = ambientColorUniform;","  diffuseColor = diffuseColorUniform;","  opacity = opacityUniform;"]),s&&(l=l.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),0===t.lastBoundBO.getCABO().getColorComponents()||t.drawingEdges||(u=u.concat(["varying vec4 vertexColorVSOutput;"]),a=T.default.substitute(a,"//VTK::Color::Dec",["attribute vec4 scalarColor;","varying vec4 vertexColorVSOutput;"]).result,a=T.default.substitute(a,"//VTK::Color::Impl",["vertexColorVSOutput =  scalarColor;"]).result,i=T.default.substitute(i,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,i=T.default.substitute(i,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result),o=0===t.lastBoundBO.getCABO().getColorComponents()||t.drawingEdges?t.renderable.getInterpolateScalarsBeforeMapping()&&t.renderable.getColorCoordinates()&&!t.drawingEdges?T.default.substitute(o,"//VTK::Color::Impl",l.concat(["  vec4 texColor = texture2D(texture1, tcoordVCVSOutput.st);","  diffuseColor = texColor.rgb;","  ambientColor = texColor.rgb;","  opacity = opacity*texColor.a;"])).result:T.default.substitute(o,"//VTK::Color::Impl",l).result:T.default.substitute(o,"//VTK::Color::Impl",l.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])).result,o=T.default.substitute(o,"//VTK::Color::Dec",u).result,e.Vertex=a,e.Geometry=i,e.Fragment=o},e.replaceShaderLight=function(e,n,r){var a=e.Fragment,i=t.lastBoundBO.getReferenceByName("lastLightComplexity"),o=t.lastBoundBO.getReferenceByName("lastLightCount"),s=[];switch(i){case 0:a=T.default.substitute(a,"//VTK::Light::Impl",["  gl_FragData[0] = vec4(ambientColor * ambient + diffuseColor * diffuse, opacity);","  //VTK::Light::Impl"],!1).result;break;case 1:a=T.default.substitute(a,"//VTK::Light::Impl",["  float df = max(0.0, normalVCVSOutput.z);","  float sf = pow(df, specularPower);","  vec3 diffuseL = df * diffuseColor;","  vec3 specularL = sf * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"],!1).result;break;case 2:for(var u=0;u<o;++u)s=s.concat(["uniform vec3 lightColor"+u+";","uniform vec3 lightDirectionVC"+u+"; // normalized","uniform vec3 lightHalfAngleVC"+u+"; // normalized"]);a=T.default.substitute(a,"//VTK::Light::Dec",s).result,s=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  float df;"];for(var l=0;l<o;++l)s=s.concat(["  df = max(0.0, dot(normalVCVSOutput, -lightDirectionVC"+l+"));","  diffuseL += ((df) * lightColor"+l+");","  if (dot(normalVCVSOutput, lightDirectionVC"+l+") < 0.0)","    {","    float sf = pow( max(0.0, dot(lightHalfAngleVC"+l+",normalVCVSOutput)), specularPower);","    specularL += ((sf) * lightColor"+l+");","    }"]);s=s.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),a=T.default.substitute(a,"//VTK::Light::Impl",s,!1).result;break;case 3:for(var c=0;c<o;++c)s=s.concat(["uniform vec3 lightColor"+c+";","uniform vec3 lightDirectionVC"+c+"; // normalized","uniform vec3 lightHalfAngleVC"+c+"; // normalized","uniform vec3 lightPositionVC"+c+";","uniform vec3 lightAttenuation"+c+";","uniform float lightConeAngle"+c+";","uniform float lightExponent"+c+";","uniform int lightPositional"+c+";"]);a=T.default.substitute(a,"//VTK::Light::Dec",s).result,s=["vec3 diffuseL = vec3(0,0,0);","  vec3 specularL = vec3(0,0,0);","  vec3 vertLightDirectionVC;","  float attenuation;","  float df;"];for(var d=0;d<o;++d)s=s.concat(["  attenuation = 1.0;","  if (lightPositional"+d+" == 0)","    {","      vertLightDirectionVC = lightDirectionVC"+d+";","    }","  else","    {","    vertLightDirectionVC = vertexVC.xyz - lightPositionVC"+d+";","    float distanceVC = length(vertLightDirectionVC);","    vertLightDirectionVC = normalize(vertLightDirectionVC);","    attenuation = 1.0 /","      (lightAttenuation"+d+".x","       + lightAttenuation"+d+".y * distanceVC","       + lightAttenuation"+d+".z * distanceVC * distanceVC);","    // per OpenGL standard cone angle is 90 or less for a spot light","    if (lightConeAngle"+d+" <= 90.0)","      {","      float coneDot = dot(vertLightDirectionVC, lightDirectionVC"+d+");","      // if inside the cone","      if (coneDot >= cos(radians(lightConeAngle"+d+")))","        {","        attenuation = attenuation * pow(coneDot, lightExponent"+d+");","        }","      else","        {","        attenuation = 0.0;","        }","      }","    }","    df = max(0.0, attenuation*dot(normalVCVSOutput, -vertLightDirectionVC));","    diffuseL += ((df) * lightColor"+d+");","    if (dot(normalVCVSOutput, vertLightDirectionVC) < 0.0)","      {","      float sf = attenuation*pow( max(0.0, dot(lightHalfAngleVC"+d+",normalVCVSOutput)), specularPower);","    specularL += ((sf) * lightColor"+d+");","    }"]);s=s.concat(["  diffuseL = diffuseL * diffuseColor;","  specularL = specularL * specularColor;","  gl_FragData[0] = vec4(ambientColor * ambient + diffuseL * diffuse + specularL * specular, opacity);","  //VTK::Light::Impl"]),a=T.default.substitute(a,"//VTK::Light::Impl",s,!1).result;break;default:_("bad light complexity")}e.Fragment=a},e.replaceShaderNormal=function(n,r,a){if(t.lastBoundBO.getReferenceByName("lastLightComplexity")>0){var i=n.Vertex,o=n.Geometry,s=n.Fragment;t.lastBoundBO.getCABO().getNormalOffset()?(i=T.default.substitute(i,"//VTK::Normal::Dec",["attribute vec3 normalMC;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,i=T.default.substitute(i,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * normalMC;"]).result,o=T.default.substitute(o,"//VTK::Normal::Dec",["in vec3 normalVCVSOutput[];","out vec3 normalVCGSOutput;"]).result,o=T.default.substitute(o,"//VTK::Normal::Impl",["normalVCGSOutput = normalVCVSOutput[i];"]).result,s=T.default.substitute(s,"//VTK::Normal::Dec",["varying vec3 normalVCVSOutput;"]).result,s=T.default.substitute(s,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalVCVSOutput);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):t.haveCellNormals?(s=T.default.substitute(s,"//VTK::Normal::Dec",["uniform mat3 normalMatrix;","uniform samplerBuffer textureN;"]).result,s=T.default.substitute(s,"//VTK::Normal::Impl",["vec3 normalVCVSOutput = normalize(normalMatrix *","    texelFetchBuffer(textureN, gl_PrimitiveID + PrimitiveIDOffset).xyz);","  if (gl_FrontFacing == false) { normalVCVSOutput = -normalVCVSOutput; }"]).result):e.getOpenGLMode(a.getProperty().getRepresentation(),t.lastBoundBO.getPrimitiveType())===t.context.LINES?(s=T.default.substitute(s,"//VTK::UniformFlow::Impl",["  vec3 fdx = vec3(dFdx(vertexVC.x),dFdx(vertexVC.y),dFdx(vertexVC.z));","  vec3 fdy = vec3(dFdy(vertexVC.x),dFdy(vertexVC.y),dFdy(vertexVC.z));","  //VTK::UniformFlow::Impl"]).result,s=T.default.substitute(s,"//VTK::Normal::Impl",["vec3 normalVCVSOutput;","  fdx = normalize(fdx);","  fdy = normalize(fdy);","  if (abs(fdx.x) > 0.0)","    { normalVCVSOutput = normalize(cross(vec3(fdx.y, -fdx.x, 0.0), fdx)); }","  else { normalVCVSOutput = normalize(cross(vec3(fdy.y, -fdy.x, 0.0), fdy));}"]).result):(s=T.default.substitute(s,"//VTK::Normal::Dec",["uniform int cameraParallel;"]).result,s=T.default.substitute(s,"//VTK::UniformFlow::Impl",["  vec3 fdx = dFdx(vertexVC.xyz);","  vec3 fdy = dFdy(vertexVC.xyz);","  //VTK::UniformFlow::Impl"]).result,s=T.default.substitute(s,"//VTK::Normal::Impl",["  fdx = normalize(fdx);","  fdy = normalize(fdy);","  vec3 normalVCVSOutput = normalize(cross(fdx,fdy));","  if (cameraParallel == 1 && normalVCVSOutput.z < 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }","  if (cameraParallel == 0 && dot(normalVCVSOutput,vertexVC.xyz) > 0.0) { normalVCVSOutput = -1.0*normalVCVSOutput; }"]).result),n.Vertex=i,n.Geometry=o,n.Fragment=s}},e.replaceShaderPositionVC=function(e,n,r){var a=e.Vertex,i=e.Geometry,o=e.Fragment;r.getProperty().getRepresentation()!==P.POINTS&&t.lastBoundBO.getPrimitiveType()!==N.Points||(a=T.default.substitute(a,"//VTK::PositionVC::Impl",["//VTK::PositionVC::Impl","  gl_PointSize = "+r.getProperty().getPointSize()+".0;"],!1).result),t.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(a=T.default.substitute(a,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,a=T.default.substitute(a,"//VTK::PositionVC::Impl",["vertexVCVSOutput = MCVCMatrix * vertexMC;","  gl_Position = MCDCMatrix * vertexMC;"]).result,a=T.default.substitute(a,"//VTK::Camera::Dec",["uniform mat4 MCDCMatrix;","uniform mat4 MCVCMatrix;"]).result,i=T.default.substitute(i,"//VTK::PositionVC::Dec",["in vec4 vertexVCVSOutput[];","out vec4 vertexVCGSOutput;"]).result,i=T.default.substitute(i,"//VTK::PositionVC::Impl",["vertexVCGSOutput = vertexVCVSOutput[i];"]).result,o=T.default.substitute(o,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,o=T.default.substitute(o,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;"]).result):(a=T.default.substitute(a,"//VTK::Camera::Dec",["uniform mat4 MCDCMatrix;"]).result,a=T.default.substitute(a,"//VTK::PositionVC::Impl",["  gl_Position = MCDCMatrix * vertexMC;"]).result),e.Vertex=a,e.Geometry=i,e.Fragment=o},e.replaceShaderTCoord=function(e,n,r){if(t.lastBoundBO.getCABO().getTCoordOffset()){var a=e.Vertex,i=e.Geometry,o=e.Fragment;if(t.drawingEdges)return;a=T.default.substitute(a,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var s=t.openGLActor.getActiveTextures(),u=2,l=2;if(s&&s.length>0&&(u=s[0].getComponents(),s[0].getTarget()===t.context.TEXTURE_CUBE_MAP&&(l=3)),t.renderable.getColorTextureMap()&&(u=t.renderable.getColorTextureMap().getPointData().getScalars().getNumberOfComponents(),l=2),2===l){if(a=T.default.substitute(a,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,i=T.default.substitute(i,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[];","out vec2 tcoordVCGSOutput;"]).result,i=T.default.substitute(i,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,o=T.default.substitute(o,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform sampler2D texture1;"]).result,s&&s.length>=1)switch(u){case 1:o=T.default.substitute(o,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,1.0);"]).result;break;case 2:o=T.default.substitute(o,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,tcolor.g);"]).result;break;default:o=T.default.substitute(o,"//VTK::TCoord::Impl","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*texture2D(texture1, tcoordVCVSOutput.st);").result}}else switch(a=T.default.substitute(a,"//VTK::TCoord::Dec","attribute vec3 tcoordMC; varying vec3 tcoordVCVSOutput;").result,i=T.default.substitute(i,"//VTK::TCoord::Dec",["in vec3 tcoordVCVSOutput[];","out vec3 tcoordVCGSOutput;"]).result,i=T.default.substitute(i,"//VTK::TCoord::Impl","tcoordVCGSOutput = tcoordVCVSOutput[i];").result,o=T.default.substitute(o,"//VTK::TCoord::Dec",["varying vec3 tcoordVCVSOutput;","uniform samplerCube texture1;"]).result,u){case 1:o=T.default.substitute(o,"//VTK::TCoord::Impl",["vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,1.0);"]).result;break;case 2:o=T.default.substitute(o,"//VTK::TCoord::Impl",["vec4 tcolor = textureCube(texture1, tcoordVCVSOutput);","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*","  vec4(tcolor.r,tcolor.r,tcolor.r,tcolor.g);"]).result;break;default:o=T.default.substitute(o,"//VTK::TCoord::Impl","gl_FragData[0] = clamp(gl_FragData[0],0.0,1.0)*textureCube(texture1, tcoordVCVSOutput);").result}e.Vertex=a,e.Geometry=i,e.Fragment=o}},e.replaceShaderClip=function(e,n,r){var a=e.Vertex,i=e.Fragment;if(t.renderable.getNumberOfClippingPlanes()){var o=t.renderable.getNumberOfClippingPlanes();o>6&&(l.default.vtkErrorMacro("OpenGL has a limit of 6 clipping planes"),o=6),a=T.default.substitute(a,"//VTK::Clip::Dec",["uniform int numClipPlanes;","uniform vec4 clipPlanes[6];","varying float clipDistancesVSOutput[6];"]).result,a=T.default.substitute(a,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    clipDistancesVSOutput[planeNum] = dot(clipPlanes[planeNum], vertexMC);","    }"]).result,i=T.default.substitute(i,"//VTK::Clip::Dec",["uniform int numClipPlanes;","varying float clipDistancesVSOutput[6];"]).result,i=T.default.substitute(i,"//VTK::Clip::Impl",["for (int planeNum = 0; planeNum < 6; planeNum++)","    {","    if (planeNum >= numClipPlanes)","        {","        break;","        }","    if (clipDistancesVSOutput[planeNum] < 0.0) discard;","    }"]).result}e.Vertex=a,e.Fragment=i},e.getCoincidentParameters=function(e,n){var r=null,a=n.getProperty();if(t.renderable.getResolveCoincidentTopology()||a.getEdgeVisibility()&&a.getRepresentation()===P.SURFACE){var i=t.lastBoundBO.getPrimitiveType();i===N.Points||a.getRepresentation()===P.POINTS?r=t.renderable.getCoincidentTopologyPointOffsetParameter():i===N.Lines||a.getRepresentation()===P.WIREFRAME?r=t.renderable.getCoincidentTopologyLineOffsetParameters():i!==N.Tris&&i!==N.TriStrips||(r=t.renderable.getCoincidentTopologyPolygonOffsetParameters()),i!==N.TrisEdges&&i!==N.TriStripsEdges||(r=t.renderable.getCoincidentTopologyPolygonOffsetParameters(),r.factor/=2,r.offset/=2)}return r},e.replaceShaderCoincidentOffset=function(n,r,a){var i=e.getCoincidentParameters(r,a);if(i&&(0!==i.factor||0!==i.offset)){var o=n.Fragment;o=T.default.substitute(o,"//VTK::Coincident::Dec",["uniform float cfactor;","uniform float coffset;"]).result,t.context.getExtension("EXT_frag_depth")&&(0!==i.factor?(o=T.default.substitute(o,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,o=T.default.substitute(o,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):o=T.default.substitute(o,"//VTK::Depth::Impl","gl_FragDepthEXT = gl_FragCoord.z + 0.000016*coffset;").result),t.openGLRenderWindow.getWebgl2()&&(0!==i.factor?(o=T.default.substitute(o,"//VTK::UniformFlow::Impl",["float cscale = length(vec2(dFdx(gl_FragCoord.z),dFdy(gl_FragCoord.z)));","//VTK::UniformFlow::Impl"],!1).result,o=T.default.substitute(o,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + cfactor*cscale + 0.000016*coffset;").result):o=T.default.substitute(o,"//VTK::Depth::Impl","gl_FragDepth = gl_FragCoord.z + 0.000016*coffset;").result),n.Fragment=o}},e.replaceShaderPicking=function(e,t,n){var r=e.Fragment;r=T.default.substitute(r,"//VTK::Picking::Dec",["uniform vec3 mapperIndex;","uniform int picking;"]).result,r=T.default.substitute(r,"//VTK::Picking::Impl","  gl_FragData[0] = picking != 0 ? vec4(mapperIndex,1.0) : gl_FragData[0];").result,e.Fragment=r},e.replaceShaderRenderPass=function(n,r,a,i){var o=t.openGLRenderer.getDepthPeelingPass();o&&t.renderDepthPeeling&&(i||o.postReplaceShaderValues(n,e,a))},e.replaceShaderValues=function(n,r,a){if(e.replaceShaderRenderPass(n,r,a,!0),e.replaceShaderColor(n,r,a),e.replaceShaderNormal(n,r,a),e.replaceShaderLight(n,r,a),e.replaceShaderTCoord(n,r,a),e.replaceShaderPicking(n,r,a),e.replaceShaderClip(n,r,a),e.replaceShaderCoincidentOffset(n,r,a),e.replaceShaderPositionVC(n,r,a),e.replaceShaderRenderPass(n,r,a,!1),t.haveSeenDepthRequest){var i=n.Fragment;i=T.default.substitute(i,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,i=T.default.substitute(i,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result,n.Fragment=i}},e.getNeedToRebuildShaders=function(n,r,a){var i=0,o=0,s=n.getPrimitiveType(),u=t.currentInput,l=!1,c=u.getPointData().getNormals(),d=u.getCellData().getNormals(),f=a.getProperty().getInterpolation()===x.FLAT,m=a.getProperty().getRepresentation(),g=e.getOpenGLMode(m,s);if(g===t.context.TRIANGLES?l=!0:d&&!c?l=!0:!f&&c?l=!0:f||g!==t.context.LINES||(l=!0),a.getProperty().getLighting()&&l){i=0;for(var p=r.getLightsByReference(),v=0;v<p.length;++v){var h=p[v];if(h.getSwitch()>0&&(o++,0===i&&(i=1)),1===i&&(o>1||1!==h.getIntensity()||!h.lightTypeIsHeadLight())&&(i=2),i<3&&h.getPositional()){i=3;break}}}var y=!1,A=t.lastBoundBO.getReferenceByName("lastLightComplexity"),S=t.lastBoundBO.getReferenceByName("lastLightCount");return A===i&&S===o||(t.lastBoundBO.set({lastLightComplexity:i},!0),t.lastBoundBO.set({lastLightCount:o},!0),y=!0),t.renderDepthPeeling!==t.lastRenderDepthPeeling&&(t.lastRenderDepthPeeling=t.renderDepthPeeling,y=!0),!!(t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||0===n.getProgram()||n.getShaderSourceTime().getMTime()<e.getMTime()||n.getShaderSourceTime().getMTime()<a.getMTime()||n.getShaderSourceTime().getMTime()<t.renderable.getMTime()||n.getShaderSourceTime().getMTime()<t.currentInput.getMTime()||y)&&(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,!0)},e.updateShaders=function(n,r,a){if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,a);var o=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);o!==n.getProgram()&&(n.setProgram(o),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,a),e.setPropertyShaderParameters(n,r,a),e.setCameraShaderParameters(n,r,a),e.setLightingShaderParameters(n,r,a);var s=t.renderable.getViewSpecificProperties().ShadersCallbacks;s&&s.forEach(function(e){e.callback(e.userData,n,r,a)})},e.setMapperShaderParameters=function(n,r,a){if(n.getProgram().isUniformUsed("PrimitiveIDOffset")&&n.getProgram().setUniformi("PrimitiveIDOffset",t.primitiveIDOffset),n.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())){var i=t.lastBoundBO.getReferenceByName("lastLightComplexity");n.getProgram().isAttributeUsed("vertexMC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"vertexMC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,!1)||_("Error setting vertexMC in shader VAO.")),n.getProgram().isAttributeUsed("normalMC")&&n.getCABO().getNormalOffset()&&i>0?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"normalMC",n.getCABO().getNormalOffset(),n.getCABO().getStride(),t.context.FLOAT,3,!1)||_("Error setting normalMC in shader VAO."):n.getVAO().removeAttributeArray("normalMC"),t.renderable.getCustomShaderAttributes().forEach(function(e,r){n.getProgram().isAttributeUsed(e+"MC")&&(n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),e+"MC",n.getCABO().getCustomData()[r].offset,n.getCABO().getStride(),t.context.FLOAT,n.getCABO().getCustomData()[r].components,!1)||_("Error setting "+e+"MC in shader VAO."))}),n.getProgram().isAttributeUsed("tcoordMC")&&n.getCABO().getTCoordOffset()?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO(),"tcoordMC",n.getCABO().getTCoordOffset(),n.getCABO().getStride(),t.context.FLOAT,n.getCABO().getTCoordComponents(),!1)||_("Error setting tcoordMC in shader VAO."):n.getVAO().removeAttributeArray("tcoordMC"),n.getProgram().isAttributeUsed("scalarColor")&&n.getCABO().getColorComponents()?n.getVAO().addAttributeArray(n.getProgram(),n.getCABO().getColorBO(),"scalarColor",n.getCABO().getColorOffset(),n.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,4,!0)||_("Error setting scalarColor in shader VAO."):n.getVAO().removeAttributeArray("scalarColor"),n.getAttributeUpdateTime().modified()}var o=t.openGLRenderer.getDepthPeelingPass();if(o&&t.renderDepthPeeling&&o.setShaderParameters(n.getProgram(),e,a,n.getVAO()),t.renderable.getNumberOfClippingPlanes()){var s=t.renderable.getNumberOfClippingPlanes();s>6&&(l.default.vtkErrorMacro("OpenGL has a limit of 6 clipping planes"),s=6);for(var u=[],c=0;c<s;c++){var d=[];t.renderable.getClippingPlaneInDataCoords(a.getMatrix(),c,d);for(var f=0;f<4;f++)u.push(d[f])}n.getProgram().setUniformi("numClipPlanes",s),n.getProgram().setUniform4fv("clipPlanes",6,u)}t.internalColorTexture&&n.getProgram().isUniformUsed("texture1")&&n.getProgram().setUniformi("texture1",t.internalColorTexture.getTextureUnit());var m=t.openGLActor.getActiveTextures();if(m)for(var g=0;g<m.length;++g){var p=m[g],v=p.getTextureUnit(),h="texture"+(v+1);n.getProgram().isUniformUsed(h)&&n.getProgram().setUniformi(h,v)}if(t.haveSeenDepthRequest&&n.getProgram().setUniformi("depthRequest",t.renderDepth?1:0),n.getProgram().isUniformUsed("coffset")){var y=e.getCoincidentParameters(r,a);n.getProgram().setUniformf("coffset",y.offset),n.getProgram().isUniformUsed("cfactor")&&n.getProgram().setUniformf("cfactor",y.factor)}var A=t.openGLRenderer.getSelector();n.getProgram().setUniform3fArray("mapperIndex",A?A.getPropColorValue():[0,0,0]),n.getProgram().setUniformi("picking",A?A.getCurrentPass()+1:0)},e.setLightingShaderParameters=function(e,n,r){var i=t.lastBoundBO.getReferenceByName("lastLightComplexity");if(!(i<2)){for(var o=e.getProgram(),u=0,l=n.getLightsByReference(),c=0;c<l.length;++c){var d=l[c];if(d.getSwitch()>0){var f=d.getColorByReference(),m=d.getIntensity();t.lightColor[0]=f[0]*m,t.lightColor[1]=f[1]*m,t.lightColor[2]=f[2]*m;var g=d.getDirection(),v=n.getActiveCamera().getViewMatrix(),h=[].concat(a(g));d.lightTypeIsSceneLight()&&(h[0]=v[0]*g[0]+v[1]*g[1]+v[2]*g[2],h[1]=v[4]*g[0]+v[5]*g[1]+v[6]*g[2],h[2]=v[8]*g[0]+v[9]*g[1]+v[10]*g[2],p.normalize(h)),t.lightDirection[0]=h[0],t.lightDirection[1]=h[1],t.lightDirection[2]=h[2],t.lightHalfAngle[0]=-t.lightDirection[0],t.lightHalfAngle[1]=-t.lightDirection[1],t.lightHalfAngle[2]=1-t.lightDirection[2],p.normalize(t.lightDirection),o.setUniform3fArray("lightColor"+u,t.lightColor),o.setUniform3fArray("lightDirectionVC"+u,t.lightDirection),o.setUniform3fArray("lightHalfAngleVC"+u,t.lightHalfAngle),u++}}if(!(i<3)){var y=n.getActiveCamera(),A=y.getViewMatrix();s.mat4.transpose(A,A),u=0;for(var S=0;S<l.length;++S){var T=l[S];if(T.getSwitch()>0){var M=T.getTransformedPosition(),b=s.vec3.fromValues(M[0],M[1],M[2]);s.vec3.transformMat4(b,b,A),o.setUniform3fArray("lightAttenuation"+u,T.getAttenuationValuesByReference()),o.setUniformi("lightPositional"+u,T.getPositional()),o.setUniformf("lightExponent"+u,T.getExponent()),o.setUniformf("lightConeAngle"+u,T.getConeAngle()),o.setUniform3fArray("lightPositionVC"+u,[b[0],b[1],b[2]]),u++}}}}},e.setCameraShaderParameters=function(e,n,r){var a=e.getProgram(),i=t.openGLCamera.getKeyMatrices(n),o=n.getActiveCamera(),u=t.openGLCamera.getKeyMatrixTime().getMTime();if(a.getLastCameraMTime()!==u&&(r.getIsIdentity()&&(a.setUniformMatrix("MCDCMatrix",i.wcdc),a.isUniformUsed("MCVCMatrix")&&a.setUniformMatrix("MCVCMatrix",i.wcvc),a.isUniformUsed("normalMatrix")&&a.setUniformMatrix3x3("normalMatrix",i.normalMatrix)),a.isUniformUsed("cameraParallel")&&a.setUniformi("cameraParallel",o.getParallelProjection()),a.setLastCameraMTime(u)),!r.getIsIdentity()){var l=t.openGLActor.getKeyMatrices();if(a.isUniformUsed("normalMatrix")){var c=s.mat3.create();s.mat3.multiply(c,i.normalMatrix,l.normalMatrix),a.setUniformMatrix3x3("normalMatrix",c)}s.mat4.identity(t.tmpMat4),s.mat4.multiply(t.tmpMat4,i.wcdc,l.mcwc),a.setUniformMatrix("MCDCMatrix",t.tmpMat4),a.isUniformUsed("MCVCMatrix")&&(s.mat4.multiply(t.tmpMat4,i.wcvc,l.mcwc),a.setUniformMatrix("MCVCMatrix",t.tmpMat4)),a.setLastCameraMTime(0)}},e.setPropertyShaderParameters=function(e,n,r){var a=e.getProgram(),i=r.getProperty(),o=i.getOpacity();a.setUniformf("opacityUniform",o);var s=t.drawingEdges?i.getEdgeColorByReference():i.getAmbientColorByReference();a.setUniform3fArray("ambientColorUniform",s),a.setUniformf("ambient",i.getAmbient());var u=t.drawingEdges?i.getEdgeColorByReference():i.getDiffuseColorByReference();if(a.setUniform3fArray("diffuseColorUniform",u),a.setUniformf("diffuse",i.getDiffuse()),!(t.lastBoundBO.getReferenceByName("lastLightComplexity")<1)){var l=i.getSpecularColorByReference();a.setUniform3fArray("specularColorUniform",l),a.setUniformf("specular",i.getSpecular()),a.setUniformf("specularPowerUniform",i.getSpecularPower())}},e.renderPieceStart=function(n,r){t.primitiveIDOffset=0,t.openGLRenderer.getSelector()&&(t.openGLRenderer.getSelector().getCurrentPass(),t.openGLRenderer.getSelector().renderProp(r)),e.updateBufferObjects(n,r),t.renderable.getColorTextureMap()&&t.internalColorTexture.activate(),t.lastBoundBO=null},e.renderPieceDraw=function(n,r){for(var a=r.getProperty().getRepresentation(),i=t.context,o=r.getProperty().getEdgeVisibility()&&a===P.SURFACE,s=N.Start;s<N.End;s++){var u=t.primitives[s].getCABO();if(u.getElementCount()){t.drawingEdges=o&&(s===N.TrisEdges||s===N.TriStripsEdges),e.updateShaders(t.primitives[s],n,r);var l=e.getOpenGLMode(a,s);i.drawArrays(l,0,u.getElementCount());var c=(l===i.POINTS?1:0)||(l===i.LINES?2:3);t.primitiveIDOffset+=u.getElementCount()/c}}},e.getOpenGLMode=function(e,n){return e===P.POINTS||n===N.Points?t.context.POINTS:e===P.WIREFRAME||n===N.Lines||n===N.TrisEdges||n===N.TriStripsEdges?t.context.LINES:t.context.TRIANGLES},e.renderPieceFinish=function(e,n){t.lastBoundBO&&t.lastBoundBO.getVAO().release(),t.renderable.getColorTextureMap()&&t.internalColorTexture.deactivate()},e.renderPiece=function(n,r){if(e.invokeEvent(R),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent(k),!t.currentInput)return void _("No input!");if(t.currentInput.getPoints&&t.currentInput.getPoints().getNumberOfValues()){var a=t.context,i=r.getProperty().getBackfaceCulling(),o=r.getProperty().getFrontfaceCulling();i||o?o?(t.openGLRenderWindow.enableCullFace(),a.cullFace(a.FRONT)):(t.openGLRenderWindow.enableCullFace(),a.cullFace(a.BACK)):t.openGLRenderWindow.disableCullFace(),e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)}},e.computeBounds=function(n,r){if(!e.getInput())return void p.uninitializeBounds(t.bounds);t.bounds=e.getInput().getBounds()},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){var a=t.VBOBuildTime.getMTime();return a<e.getMTime()||a<t.renderable.getMTime()||a<r.getMTime()||a<t.currentInput.getMTime()},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){t.renderable.mapScalars(r,1);var a=t.renderable.getColorMapColors();t.haveCellScalars=!1;var i=t.renderable.getScalarMode();t.renderable.getScalarVisibility()&&(i!==E.USE_CELL_DATA&&i!==E.USE_CELL_FIELD_DATA&&i!==E.USE_FIELD_DATA&&r.getPointData().getScalars()||i===E.USE_POINT_FIELD_DATA||!a||(t.haveCellScalars=!0));var o=n.getProperty().getInterpolation()!==x.FLAT?r.getPointData().getNormals():null;null===o&&r.getCellData().getNormals()&&(t.haveCellNormals=!0,o=r.getCellData().getNormals());var s=n.getProperty().getRepresentation(),u=r.getPointData().getTCoords();if(t.openGLActor.getActiveTextures()||(u=null),t.renderable.getColorCoordinates()){u=t.renderable.getColorCoordinates(),t.internalColorTexture||(t.internalColorTexture=h.default.newInstance());var l=t.internalColorTexture;l.setMinificationFilter(O.NEAREST),l.setMagnificationFilter(O.NEAREST),l.setWrapS(L.CLAMP_TO_EDGE),l.setWrapT(L.CLAMP_TO_EDGE),l.setOpenGLRenderWindow(t.openGLRenderWindow);var c=t.renderable.getColorTextureMap(),d=c.getExtent(),f=c.getPointData().getScalars();l.create2DFromRaw(d[1]-d[0]+1,d[3]-d[2]+1,f.getNumberOfComponents(),f.getDataType(),f.getData()),l.activate(),l.sendParameters(),l.deactivate()}var m=r.getMTime()+"A"+s+"B"+r.getMTime()+"C"+(o?o.getMTime():1)+"D"+(a?a.getMTime():1)+"E"+n.getProperty().getEdgeVisibility()+"F"+(u?u.getMTime():1);if(t.VBOBuildString!==m){var g=r.getPoints(),p={points:g,normals:o,tcoords:u,colors:a,cellOffset:0,haveCellScalars:t.haveCellScalars,haveCellNormals:t.haveCellNormals,customAttributes:t.renderable.getCustomShaderAttributes().map(function(e){return r.getPointData().getArrayByName(e)})};p.cellOffset+=t.primitives[N.Points].getCABO().createVBO(r.getVerts(),"verts",s,p),p.cellOffset+=t.primitives[N.Lines].getCABO().createVBO(r.getLines(),"lines",s,p),p.cellOffset+=t.primitives[N.Tris].getCABO().createVBO(r.getPolys(),"polys",s,p),p.cellOffset+=t.primitives[N.TriStrips].getCABO().createVBO(r.getStrips(),"strips",s,p),n.getProperty().getEdgeVisibility()&&s===P.SURFACE?(t.primitives[N.TrisEdges].getCABO().createVBO(r.getPolys(),"polys",P.WIREFRAME,{points:g,normals:null,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1}),t.primitives[N.TriStripsEdges].getCABO().createVBO(r.getStrips(),"strips",P.WIREFRAME,{points:g,normals:null,tcoords:null,colors:null,cellOffset:0,haveCellScalars:!1,haveCellNormals:!1})):(t.primitives[N.TrisEdges].releaseGraphicsResources(t.openGLRenderWindow),t.primitives[N.TriStripsEdges].releaseGraphicsResources(t.openGLRenderWindow)),t.VBOBuildTime.modified(),t.VBOBuildString=m}}}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,B,n),b.default.extend(e,t,n),t.primitives=[],t.primTypes=N,t.tmpMat4=s.mat4.create();for(var r=N.Start;r<N.End;r++)t.primitives[r]=d.default.newInstance(),t.primitives[r].setPrimitiveType(r),t.primitives[r].set({lastLightComplexity:0,lastLightCount:0,lastSelectionPass:!1},!0);l.default.setGet(e,t,["context"]),t.VBOBuildTime={},l.default.obj(t.VBOBuildTime,{mtime:0}),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(3),u=n(0),l=r(u),c=n(32),d=r(c),f=n(20),m=r(f),g=n(1),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(g),v=n(25),h=r(v),y=n(30),A=r(y),S=n(13),T=r(S),M=n(9),b=r(M),D=n(137),I=r(D),w=n(55),C=r(w),N={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,TrisEdges:4,TriStripsEdges:5,End:6},P=A.default.Representation,x=A.default.Shading,E=m.default.ScalarMode,O=h.default.Filter,L=h.default.Wrap,_=l.default.vtkErrorMacro,R={type:"StartEvent"},k={type:"EndEvent"},B={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,tmpMat4:null,ambientColor:[],diffuseColor:[],specularColor:[],lightColor:[],lightHalfAngle:[],lightDirection:[],lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,renderDepthPeeling:!1,lastRenderDepthPeeling:void 0},V=t.newInstance=l.default.newInstance(o,"vtkOpenGLPolyDataMapper");t.default={newInstance:V,extend:o}},function(e,t,n){"use strict";function r(e){return u[e]}function a(e){e.RGBPoints&&"CIELAB"!==e.ColorSpace&&(u[e.Name]||(l.push(e.Name),l.sort()),u[e.Name]=e)}function i(e){var t=l.indexOf(e);t>-1&&l.splice(t,1),delete u[e]}Object.defineProperty(t,"__esModule",{value:!0});var o=n(432),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=Object.create(null);s.default.filter(function(e){return e.RGBPoints}).filter(function(e){return"CIELAB"!==e.ColorSpace}).forEach(function(e){u[e.Name]=e});var l=Object.keys(u);l.sort(),t.default={addPreset:a,removePresetByName:i,getPresetByName:r,rgbPresetNames:l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("ySurfaceNodeMapToModel"),e.updateUpdateFlags=function(){t.updateFlags.View3D=!0},e.installPipeline=function(){var n=g.DataManagement.getData(t.nodeIndex),r=g.MultiView.getRenderWindow3D(),a=l.default.newInstance({scalarVisibility:!1});a.setInputData(n);var i=d.default.newInstance();t.actor=i,i.setMapper(a),r.addActor(i),r.updateLights();var o=i.getProperty(),s=g.DataManagement.getNodeProperty(t.nodeIndex,"color");o.setDiffuseColor(s[0],s[1],s[2]);var u=g.DataManagement.getNodeProperty(t.nodeIndex,"opacity");o.setOpacity(u);var c=g.DataManagement.getNodeProperty(t.nodeIndex,"visible");i.setVisibility(c),e.updateUpdateFlags()},e.updatePipeline=function(){var n=!1,r=g.DataManagement.getData(t.nodeIndex);r!==t.actor.getMapper().getInputData()&&(t.actor.getMapper().setInputData(r),n=!0);var a=t.actor.getProperty(),i=a.getMTime(),o=g.DataManagement.getNodeProperty(t.nodeIndex,"color");a.setDiffuseColor(o[0],o[1],o[2]);var s=g.DataManagement.getNodeProperty(t.nodeIndex,"opacity");a.setOpacity(s),i!==a.getMTime()&&(n=!0),i=t.actor.getMTime();var u=g.DataManagement.getNodeProperty(t.nodeIndex,"visible");t.actor.setVisibility(u),i!==t.actor.getMTime()&&(n=!0),n&&e.updateUpdateFlags()},e.uninstallPipeline=function(){if(t.actor){var n=g.MultiView.getRenderWindow3D();n.getRenderer().hasViewProp(t.actor)&&n.getRenderer().removeActor(t.actor),t.actor=null,e.updateUpdateFlags()}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),m.default.extend(e,t,n),s.default.get(e,t,["actor"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(20),l=r(u),c=n(24),d=r(c),f=n(57),m=r(f),g=s.default.GlobalObjects,p={actor:null},v=t.newInstance=s.default.newInstance(i,"ySurfaceNodeMapToModel");t.default={newInstance:v,extend:i}},function(e,t,n){"use strict";(function(t){e.exports={isNode:void 0!==t,newBuffer:function(e,n){return new t(e,n)},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}}).call(t,n(8).Buffer)},function(e,t,n){"use strict";var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ImageBorderMode={CLAMP:0,REPEAT:1,MIRROR:2},a=t.InterpolationMode={NEAREST:0,LINEAR:1,CUBIC:2};t.default={ImageBorderMode:r,InterpolationMode:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkTransform");var n=Object.assign({},e);e.identity=function(){t.concatenation.identity(),e.modified(),t.matrix.getMTime()>t.matrixUpdateMTime&&t.matrix.identity()},e.inverse=function(){t.concatenation.inverse(),e.modified(),t.matrix.getMTime()>t.matrixUpdateMTime&&t.matrix.inverse()},e.translate=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=Array.isArray(n[0])?n[0]:n;t.concatenation.translate(a[0],a[1],a[2])},e.rotateWXYZ=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=Array.isArray(r[0])?r[0]:r;t.concatenation.rotate(e,i[0],i[1],i[2])},e.rotateX=function(t){e.rotateWXYZ(t,[1,0,0])},e.rotateY=function(t){e.rotateWXYZ(t,[0,1,0])},e.rotateZ=function(t){e.rotateWXYZ(t,[0,0,1])},e.scale=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=Array.isArray(n[0])?n[0]:n;t.concatenation.scale(a)},e.setMatrix=function(n){t.concatenation.identity(),e.concatenateWithMatrix(n),e.modified()},e.concatenateWithMatrix=function(e){t.concatenation.concatenate2(e.getElement())},e.concatenate=function(n){if(n.circuitCheck(e))return void T("Concatenate: this would create a circular reference.");t.concatenation.concatenate(n),e.modified()},e.concatenate2=function(t){e.concatenate3(t.getElement())},e.concatenate3=function(e){t.concatenation.concatenate(e)},e.preMultiply=function(){t.concatenation.getPreMultiplyFlag()||(t.concatenation.setPreMultiplyFlag(1),e.modified())},e.postMultiply=function(){t.concatenation.getPreMultiplyFlag()&&(t.concatenation.setPreMultiplyFlag(0),e.modified())},e.getNumberOfConcatenatedTransforms=function(){return t.concatenation.getNumberOfTransforms()+(t.input?1:0)},e.getConcatenatedTransform=function(n){return t.input?n<t.concatenation.getNumberOfPreTransforms()?t.concatenation.getTransform(n):n>t.concatenation.getNumberOfPreTransforms()?t.concatenation.getTransform(n-1):e.getInverseFlag()?t.input.getInverse():t.input:t.concatenation.getTransform(n)},e.getOrientation=function(n){var r=n||t.returnValue;return e.update(),e.getOrientation(r,t.matrix),r},e.getOrientationWXYZ=function(n){var r=n||t.returnValue,a=void 0;e.update();var i=t.matrix.element,o=[];for(a=0;a<3;a++)o[0][a]=i[0][a],o[1][a]=i[1][a],o[2][a]=i[2][a];c.default.determinant3x3(o)<0&&(o[0][2]=-o[0][2],o[1][2]=-o[1][2],o[2][2]=-o[2][2]),c.default.matrix3x3ToQuaternion(o,r);var s=Math.sqrt(r[1]*r[1]+r[2]*r[2]+r[3]*r[3]);return 0!==s?(r[0]=2*c.default.degreesFromRadians(Math.atan2(s,r[0])),r[1]/=s,r[2]/=s,r[3]/=s):(r[0]=0,r[1]=0,r[2]=0,r[3]=1),r},e.getPosition=function(n){var r=n||t.retrunValue;return e.update(),r[0]=t.matrix.element[0][3],r[1]=t.matrix.element[1][3],r[2]=t.matrix.element[2][3],r},e.getScale=function(n){var r=n||t.retrunValue;e.update();for(var a=t.matrix,i=[],o=[],s=0;s<3;s++)i[0][s]=a[0][s],i[1][s]=a[1][s],i[2][s]=a[2][s];return c.default.singularValueDecomposition3x3(i,i,r,o),r},e.getInverseWithMatrix=function(t){o.mat4.invert(t.getElement(),e.getMatrix().getElement())},e.getTranspose=function(t){o.mat4.transpose(t.getElement(),e.getMatrix().getElement())},e.setInput=function(n){if(t.input!==n){if(n&&n.circuitCheck(e))return void T("SetInput: this would create a circular reference.");t.input=n,e.modified()}},e.getInput=function(){return t.input},e.getInverseFlag=function(){return t.concatenation.getInverseFlag()},e.push=function(){t.stack||(t.stack=g.default.vtkTransformConcatenationStack()),t.stack.push(t.concatenation),e.modified()},e.pop=function(){t.stack&&(t.stack.pop(t.concatenation),e.modified())},e.circuitCheck=function(e){if(n.circuitCheck(e)||t.input&&t.input.circuitCheck(e))return 1;for(var r=t.concatenation.getNumberOfTransforms(),a=0;a<r;a++)if(t.concatenation.getTransform(a).circuitCheck(e))return 1;return 0},e.getInverse=function(){return n.getInverse()},e.getMTime=function(){var e=n.getMTime(),r=t.matrix.getMTime();return r>t.matrixUpdateMTime&&r>e&&(e=r),t.input&&(r=t.input.getMTime())>e&&(e=r),r=t.concatenation.getMaxMTime(),r>e?r:e},e.multiplyPoint=function(t,n){e.getMatrix().multiplyPoint(t,n)},e.internalUpdate=function(){var e=t.concatenation.getNumberOfTransforms(),n=t.concatenation.getNumberOfPreTransforms(),r=0;if(t.matrix.getMTime()>t.matrixUpdateMTime){A("InternalUpdate: model.matrix was modified by something other than 'this'");for(var a=0!==t.input,i=0;i<e&&!a;i++)a=!t.concatenation.getTransform(i).isA("vtkSimpleTransform");r=!a}t.input?(t.matrix.deepCopy(t.input.getMatrix()),t.concatenation.getInverseFlag()&&t.matrix.invert()):r?(S("InternalUpdate: doing hack to support legacy code. This is deprecated in VTK 4.2.  May be removed in a future version."),t.matrix.getMTime()>t.concatenation.getMaxMTime()&&(n=0,e=0)):t.matrix.identity();for(var o=n-1;o>=0;o--){var s=t.concatenation.getTransform(o);v.default.multiply4x42(t.matrix,s.getMatrix(),t.matrix)}for(var u=n;u<e;u++){var l=t.concatenation.getTransform(u);v.default.multiply4x42(l.getMatrix(),t.matrix,t.matrix)}r?t.concatenation.identity():t.matrixUpdateMTime=t.matrix.getMTime()},e.internalDeepCopy=function(n){var r=n;e.setInput(r.input),t.concatenation.deepCopy(r.concatenation),r.stack?(t.stack||(t.stack=g.default.vtkTransformConcatenationStack()),t.stack.deepCopy(r.stack)):t.stack&&(t.stack=null);for(var a=0;a<3;a++)t.point[a]=r.point[a];t.matrix.deepCopy(r.matrix),t.matrixUpdateMTime=t.matrix.getMTime()},e.makeTransform=function(){return(0,y.default)({vtkClass:e.getClassName()})}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,M,n),u.default.obj(e,t),f.default.extend(e,t,n),t.matrixUpdateMTime=t.matrix.getMTime(),t.concatenation=g.default.vtkTransformConcatenation(),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(1),c=r(l),d=n(529),f=r(d),m=n(272),g=r(m),p=n(59),v=r(p),h=n(34),y=r(h),A=u.default.vtkDebugMacro,S=u.default.vtkWarningMacro,T=u.default.vtkErrorMacro,M={input:null,concatenation:null,stack:null,matrixUpdateMTime:0,point:[0,0,0,0],returnValue:[0,0,0,0]},b=t.newInstance=u.default.newInstance(i,"vtkTransform");t.default=Object.assign({newInstance:b,extend:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkSphereSource"),e.requestData=function(e,n){if(!t.deleted){var r=n[0],a=r?r.getPoints().getDataType():"Float32Array";r=l.default.newInstance();var i=0,o=t.thetaResolution,s=t.startTheta<t.endTheta?t.startTheta:t.endTheta;s*=Math.PI/180;var u=t.endTheta>t.startTheta?t.endTheta:t.startTheta;u*=Math.PI/180;var c=t.startPhi<t.endPhi?t.startPhi:t.endPhi;c*=Math.PI/180;var f=t.endPhi>t.startPhi?t.endPhi:t.startPhi;f*=Math.PI/180,Math.abs(s-u)<2*Math.PI&&++o;var m=(u-s)/t.thetaResolution,g=t.startPhi<=0?1:0,p=t.phiResolution+(t.endPhi>=180?-1:0),v=t.phiResolution*o+2,h=2*t.phiResolution*t.thetaResolution,y=0,A=new window[a](3*v),S=new Float32Array(3*v),T=0,M=new Uint32Array(5*h);t.startPhi<=0&&(A[3*y+0]=t.center[0],A[3*y+1]=t.center[1],A[3*y+2]=t.center[2]+t.radius,S[3*y+0]=0,S[3*y+1]=0,S[3*y+2]=1,y++,i++),t.endPhi>=180&&(A[3*y+0]=t.center[0],A[3*y+1]=t.center[1],A[3*y+2]=t.center[2]-t.radius,S[3*y+0]=0,S[3*y+1]=0,S[3*y+2]=-1,y++,i++);for(var b=t.phiResolution-i,D=(f-c)/(t.phiResolution-1),I=0;I<o;I++)for(var w=s+I*m,C=g;C<p;C++){var N=c+C*D,P=t.radius*Math.sin(N);S[3*y+0]=P*Math.cos(w),S[3*y+1]=P*Math.sin(w),S[3*y+2]=t.radius*Math.cos(N),A[3*y+0]=S[3*y+0]+t.center[0],A[3*y+1]=S[3*y+1]+t.center[1],A[3*y+2]=S[3*y+2]+t.center[2];var x=Math.sqrt(S[3*y+0]*S[3*y+0]+S[3*y+1]*S[3*y+1]+S[3*y+2]*S[3*y+2]);x=0===x?1:x,S[3*y+0]/=x,S[3*y+1]/=x,S[3*y+2]/=x,y++}var E=b*o;if(Math.abs(s-u)<2*Math.PI&&--o,t.startPhi<=0)for(var O=0;O<o;O++)M[T++]=3,M[T++]=b*O+i,M[T++]=b*(O+1)%E+i,M[T++]=0;if(t.endPhi>=180)for(var L=b-1+i,_=0;_<o;_++)M[T++]=3,M[T++]=b*_+L,M[T++]=i-1,M[T++]=b*(_+1)%E+L;for(var R=0;R<o;R++)for(var k=0;k<b-1;k++){var B=b*R+k+i,V=B+1,F=(b*(R+1)+k)%E+i+1;t.latLongTessellation?(M[T++]=4,M[T++]=B,M[T++]=V,M[T++]=F,M[T++]=F-1):(M[T++]=3,M[T++]=B,M[T++]=V,M[T++]=F,M[T++]=3,M[T++]=B,M[T++]=F,M[T++]=F-1)}A=A.subarray(0,3*y),r.getPoints().setData(A,3),S=S.subarray(0,3*y);var j=d.default.newInstance({name:"Normals",values:S,numberOfComponents:3});r.getPointData().setNormals(j),M=M.subarray(0,T),r.getPolys().setData(M,1),n[0]=r}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),s.default.obj(e,t),s.default.setGet(e,t,["radius","latLongTessellation","thetaResolution","startTheta","endTheta","phiResolution","startPhi","endPhi"]),s.default.setGetArray(e,t,["center"],3),s.default.algo(e,t,0,1),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(4),l=r(u),c=n(2),d=r(c),f={radius:.5,latLongTessellation:!1,thetaResolution:8,startTheta:0,endTheta:360,phiResolution:8,startPhi:0,endPhi:180,center:[0,0,0],pointType:"Float32Array"},m=t.newInstance=s.default.newInstance(i,"vtkSphereSource");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkDataSet"),y.forEach(function(e){t[e]?t[e]=(0,l.default)(t[e]):t[e]=d.default.newInstance()}),e.deepCopy=function(n){if(e!==n){var r=n.get();y.forEach(function(e){r[e]?(t[e]||(t[e]=d.default.newInstance()),t[e].deepCopy(r[e])):t[e]=null})}},e.getLength=function(){if(0===e.getNumberOfPoints())return 0;e.computeBounds();for(var t=e.getBounds(),n=0,r=0,a=0;a<3;a++)n=t[2*a+1]-t[2*a],r+=n*n;return n=Math.sqrt(r)},e.getCellBounds2=function(n,r){e.getCellPoints2(n,t.cachePoints),t.cachePoints.getBounds2(r)},e.getCellBounds=function(n,r){var a=[];if(e.getCellPoints(n,a),!a.length)return void h.default.uninitializeBounds(r);var i=[0,0,0];t.points.getPoint(a[0],i),r[0]=i[0],r[1]=i[0],r[2]=i[1],r[3]=i[1],r[4]=i[2],r[5]=i[2];for(var o=1;o<a.length;o++)t.points.getPoint(a[o],i),i[0]<r[0]?r[0]=i[0]:i[0]>r[1]&&(r[1]=i[0]),i[1]<r[2]?r[2]=i[1]:i[1]>r[3]&&(r[3]=i[1]),i[2]<r[4]?r[4]=i[2]:i[2]>r[5]&&(r[5]=i[2])}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),s.default.obj(e,t),s.default.setGet(e,t,y),t.cachePoints=p.default.newInstance(),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(34),l=r(u),c=n(99),d=r(c),f=n(295),m=r(f),g=n(6),p=r(g),v=n(1),h=r(v),y=["pointData","cellData","fieldData"],A={cachePoints:null},S=t.newInstance=s.default.newInstance(i,"vtkDataSet");t.default=Object.assign({newInstance:S,extend:i},m.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(e){var t=r.find(function(t){return g[t.toUpperCase()]===e||"number"!=typeof e&&t.toLowerCase()===e.toLowerCase()});return void 0===t&&(t=null),t}var r=["Scalars","Vectors","Normals","TCoords","Tensors","GlobalIds","PedigreeIds"];t.classHierarchy.push("vtkDataSetAttributes");var a=Object.assign({},e);e.checkNumberOfComponents=function(e){return!0},e.setAttribute=function(r,a){var i=n(a);if(r&&"PEDIGREEIDS"===i.toUpperCase()&&!r.isA("vtkDataArray"))return h("Cannot set attribute "+i+". The attribute must be a vtkDataArray."),-1;if(r&&!e.checkNumberOfComponents(r,i))return h("Cannot set attribute "+i+". Incorrect number of components."),-1;var o=t["active"+i];if(o>=0&&o<t.arrays.length){if(t.arrays[o]===r)return o;e.removeArrayByIndex(o)}return r?(o=e.addArray(r),t["active"+i]=o):t["active"+i]=-1,e.modified(),t["active"+i]},e.setActiveAttributeByName=function(t,n){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)},e.setActiveAttributeByIndex=function(r,a){var i=n(a);if(r>=0&&r<t.arrays.length){if("PEDIGREEIDS"!==i.toUpperCase()){var o=e.getArrayByIndex(r);if(!o.isA("vtkDataArray"))return h("Cannot set attribute "+i+". Only vtkDataArray subclasses can be set as active attributes."),-1;if(!e.checkNumberOfComponents(o,i))return h("Cannot set attribute "+i+". Incorrect number of components."),-1}return t["active"+i]=r,e.modified(),r}return-1===r&&(t["active"+i]=r,e.modified()),-1},e.getActiveAttribute=function(t){var r=n(t);return e["get"+r]()},e.removeAllArrays=function(){t.arrays=[],r.forEach(function(e){t["active"+e]=-1})},e.removeArray=function(e){t.arrays=t.arrays.filter(function(n,a){return e!==n.data.getName()||(r.forEach(function(e){a===t["active"+e]&&(t["active"+e]=-1)}),!1)})},e.removeArrayByIndex=function(e){t.arrays=t.arrays.filter(function(t,n){return n!==e}),r.forEach(function(n){e===t["active"+n]&&(t["active"+n]=-1)})},r.forEach(function(n){var r="active"+n;e["get"+n]=function(){return e.getArrayByIndex(t[r])},e["set"+n]=function(t){return e.setAttribute(t,n)},e["setActive"+n]=function(t){return e.setActiveAttributeByIndex(e.getArrayWithIndex(t).index,n)},e["copy"+n+"Off"]=function(){e.initialize();var r=n.toUpperCase();t.copyAttributeFlags[p.PASSDATA][g[r]]=!1}}),e.initialize=s.default.chain(e.initialize,function(){t.copyAttributeFlags=[],Object.keys(p).filter(function(e){return"ALLCOPY"!==e}).forEach(function(e){t.copyAttributeFlags[p[e]]=Object.keys(g).filter(function(e){return"NUM_ATTRIBUTES"!==e}).reduce(function(e,t){return e[g[t]]=!0,e},[])}),t.copyAttributeFlags[p.COPYTUPLE][g.GLOBALIDS]=!1,t.copyAttributeFlags[p.INTERPOLATE][g.GLOBALIDS]=!1,t.copyAttributeFlags[p.COPYTUPLE][g.PEDIGREEIDS]=!1}),t.dataArrays&&Object.keys(t.dataArrays).length&&Object.keys(t.dataArrays).forEach(function(n){t.dataArrays[n].ref||"vtkDataArray"!==t.dataArrays[n].type||e.addArray(m.default.newInstance(t.dataArrays[n]))}),e.isArrayAnAttribute=function(t){var n=0;return r.forEach(function(r,a){e["getActive"+r]()===t&&(n=a)}),n},e.computeRequiredArrays=function(n,a){var i=a;(i<p.COPYTUPLE||i>p.PASSDATA)&&(v("Must call compute required with COPYTUPLE, INTERPOLATE or PASSDATA"),i=p.COPYTUPLE);for(var o=Array(n.getNumberOfArrays()),s=0,u=0;u<n.getNumberOfArrays();u++){var l=n.getArrayName(u),c=e.getFlag(l);!1===c||t.doCopyAllOff&&!0!==c||!n.getArray(u)||i===p.INTERPOLATE&&"Int32Array"===n.getArray(u).getDataType()||(o[s]=u,s++)}for(var d=void 0,f=0;f<g.NUM_ATTRIBUTES;f++){var m=n.getArrayWithIndex(r[f]).index;if(!(m<0)){var h=e.getFlag(n.getArrayName(m));if(t.copyAttributeFlags[i][f]&&h){if(n.getArray(m)){for(var y=0,A=0;A<s;A++)m===o[A]&&(y=1);y||i===p.INTERPOLATE&&"Int32Array"===n.getArray(m).getDataType()||(o[s]=m,s++)}}else for(var S=0;S<s;S++)if(m===o[S]){for(d=S;d<s-1;d++)o[d]=o[d+1];s--,S--}}}return o.length=s,o},e.interpolateAllocate=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.internalCopyAllocate(t,p.INTERPOLATE,n,r)},e.interpolatePoint=function(n,r,a,i){t.requiredArrays.forEach(function(o){var s=n.getArray(o),u=t.arrays[t.targetIndices[o]],l=e.isArrayAnAttribute(t.targetIndices[o]);if(-1!==l&&2===t.copyAttributeFlags[p.INTERPOLATE][l]){for(var c=a.getNumberOfIds(),d=a.getId(0),f=0,m=0;m<c;m++)i[m]>f&&(f=i[m],d=a.getId(m));u.setTuple(r,d,s)}else u.interpolateTuple(r,a,s,i)})},e.copyAllocate=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.internalCopyAllocate(t,p.COPYTUPLE,n,r)},e.internalCopyAllocate=function(n,a,i,o){n&&(a<p.COPYTUPLE||a>p.PASSDATA||(t.requiredArrays=e.computeRequiredArrays(n,a),0!==t.requiredArrays.length&&(t.targetIndices=Array(n.getNumberOfArrays()),t.targetIndices.fill(-1),n!==e?t.requiredArrays.forEach(function(s){var u=n.getArray(s),l=null;o?l=u:(l=i>0?m.default.newInstance({numberOfComponents:u.getNumberOfComponents(),size:i*u.getNumberOfComponents()}):m.default.newInstance({numberOfComponents:u.getNumberOfComponents(),size:u.getNumberOfTuples()}),l.setName(u.getName())),t.targetIndices[s]=e.addArray(l);var c=n.isArrayAnAttribute(s);-1!==c&&t.copyAttributeFlags[a][c]&&(t.copyAttributeFlags[a][c]=n.getCopyAttributeFlags()[a][c],e.setActiveAttributeByIndex(t.targetIndices[s],r[c]))}):t.requiredArrays.forEach(function(e){n.getArray(e).setNumberOfTuples(i),t.targetIndices[e]=e}))))},e.copyData=function(e,n,r){t.requiredArrays.forEach(function(a){var i=e.getArray(a).getTuple(n);t.arrays[t.targetIndices[a]].data.setTuple(r,i)})},e.copyDataWithIds=function(e,n,r){n.getNumberOfIds()!==r.getNumberOfIds()&&v("vtkDataSetAttributes.copyDataWithIds: "+n.getNumberOfIds()+", "+r.getNumberOfIds()),t.requiredArrays.forEach(function(a){for(var i=e.getArray(a),o=t.arrays[t.targetIndices[a]],s=0;s<n.getNumberOfIds();s++){var u=i.getTuple(n.getId(s));o.setTuple(r.getId(s),u)}})},e.copyDataWithArray=function(e,n,r){n.length!==r.length&&v("vtkDataSetAttributes.copyDataWithIds: "+n.length+", "+r.length),t.requiredArrays.forEach(function(a){for(var i=e.getArray(a),o=t.arrays[t.targetIndices[a]],s=0;s<n.length;s++){var u=i.getTuple(n[s]);o.setTuple(r[s],u)}})},e.deepCopy=function(e){a.deepCopy(e);var n=e.get();t.activeScalars=n.activeScalars,t.activeVectors=n.activeVectors,t.activeTensors=n.activeTensors,t.activeNormals=n.activeNormals,t.activeTCoords=n.activeTCoords,t.activeGlobalIds=n.activeGlobalIds,t.activePedigreeIds=n.activePedigreeIds,t.requiredArrays=null,t.targetIndices=null,n.copyAttributeFlags?(t.copyAttributeFlags=[],n.copyAttributeFlags.forEach(function(e){var n=e.concat();t.copyAttributeFlags.push(n)})):t.copyAttributeFlags=null},e.getCopyAttributeFlags=function(){return t.copyAttributeFlags}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),l.default.extend(e,t,n),s.default.setGet(e,t,["activeScalars","activeNormals","activeTCoords","activeVectors","activeTensors","activeGlobalIds","activePedigreeIds"]),t.arrays||(t.arrays={}),a(e,t),e.initialize()}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(294),l=r(u),c=n(40),d=r(c),f=n(2),m=r(f),g=d.default.AttributeTypes,p=d.default.AttributeCopyOperations,v=s.default.vtkErrorMacro,h=s.default.vtkWarningMacro,y={activeScalars:-1,activeVectors:-1,activeTensors:-1,activeNormals:-1,activeTCoords:-1,activeGlobalIds:-1,activePedigreeIds:-1,requiredArrays:null,targetIndices:null},A=t.newInstance=s.default.newInstance(i,"vtkDataSetAttributes");t.default=Object.assign({newInstance:A,extend:i},d.default)},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0},a=function(e){return r[e]},i=function(e){return parseInt(e[4],10)%2==1},o=function(e){if(void 0!==e){var t=e.split("^");return{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}}};t.isStringVr=a,t.isPrivateTag=i,t.parsePN=o},function(e,t,n){"use strict";function r(e,t){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var n=e.byteArray.length-8;e.position<=n;)if(65534===e.readUint16()&&57357===e.readUint16())return 0!==e.readUint32()&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset);t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var r={tag:(0,c.default)(e),length:e.readUint32(),dataOffset:e.position};return 4294967295===r.length&&(r.hadUndefinedLength=!0),r.tag===t?r:d(r,e,n)?((0,u.default)(e,r),r):r.hadUndefinedLength?((0,o.default)(e,r),r):(e.seek(r.length),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(104),o=r(i),s=n(176),u=r(s),l=n(36),c=r(l),d=function(e,t,n){if(void 0!==n)return"SQ"===n(e.tag);if(t.position+4<=t.byteArray.length){var r=(0,c.default)(t);return t.seek(-4),"xfffee000"===r||"xfffee0dd"===r}return t.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1}},function(e,t,n){"use strict";(function(e){function n(t,n){if(void 0!==e&&t instanceof e)return e.alloc(n);if(t instanceof Uint8Array)return new Uint8Array(n);throw"dicomParser.alloc: unknown type for byteArray"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}).call(t,n(8).Buffer)},function(e,t,n){"use strict";t.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?a-1:0,f=n?-1:1,m=e[t+d];for(d+=f,i=m&(1<<-c)-1,m>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=f,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=r;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return o?NaN:1/0*(m?-1:1);o+=Math.pow(2,r),i-=l}return(m?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,s,u,l=8*i-a-1,c=(1<<l)-1,d=c>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,g=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),t+=o+d>=1?f/u:f*Math.pow(2,1-d),t*u>=2&&(o++,u/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*u-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+m]=255&s,m+=g,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[n+m]=255&o,m+=g,o/=256,l-=8);e[n+m-g]|=128*p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return e[t]+256*e[t+1]},readInt16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";var n=e[t]+(e[t+1]<<8);return 32768&n&&(n=n-65535-1),n},readUint32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return e[t]+256*e[t+1]+256*e[t+2]*256+256*e[t+3]*256*256},readInt32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)},readFloat:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var n=new Uint8Array(4);return n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],new Float32Array(n.buffer)[0]},readDouble:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var n=new Uint8Array(8);return n[0]=e[t],n[1]=e[t+1],n[2]=e[t+2],n[3]=e[t+3],n[4]=e[t+4],n[5]=e[t+5],n[6]=e[t+6],n[7]=e[t+7],new Float64Array(n.buffer)[0]}}},function(e,t,n){"use strict";(function(t){function n(e,n,r,a){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick(function(){e.call(null,n)});case 3:return t.nextTick(function(){e.call(null,n,r)});case 4:return t.nextTick(function(){e.call(null,n,r,a)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return t.nextTick(function(){e.apply(null,i)})}}!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports=n:e.exports=t.nextTick}).call(t,n(16))},function(e,t,n){"use strict";(function(t,r){function a(){}function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function o(e,t){x=x||n(38),e=e||{},this.objectMode=!!e.objectMode,t instanceof x&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:a,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=!1===e.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new b(this),this.corkedRequestsFree.next=new b(this)}function s(e){if(x=x||n(38),!(this instanceof s||this instanceof x))return new s(e);this._writableState=new o(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),N.call(this)}function u(e,t){var n=new Error("write after end");e.emit("error",n),D(t,n)}function l(e,t,n,r){var a=!0;if(!w.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!t.objectMode){var i=new TypeError("Invalid non-string/buffer chunk");e.emit("error",i),D(r,i),a=!1}return a}function c(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new w(t,n)),t}function d(e,t,n,r,a){n=c(t,n,r),w.isBuffer(n)&&(r="buffer");var o=t.objectMode?1:n.length;t.length+=o;var s=t.length<t.highWaterMark;if(s||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest=new i(n,r,a),u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else f(e,t,!1,o,n,r,a);return s}function f(e,t,n,r,a,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function m(e,t,n,r,a){--t.pendingcb,n?D(a,r):a(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function g(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,t){var n=e._writableState,r=n.sync,a=n.writecb;if(g(n),t)m(e,n,r,t,a);else{var i=A(n);i||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?I(v,e,n,i,a):v(e,n,i,a)}}function v(e,t,n,r){n||h(e,t),t.pendingcb--,r(),T(e,t)}function h(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var o=0;n;)a[o]=n,n=n.next,o+=1;f(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,t.corkedRequestsFree=i.next,i.next=null}else{for(;n;){var s=n.chunk,u=n.encoding,l=n.callback;if(f(e,t,!1,t.objectMode?1:s.length,s,u,l),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function T(e,t){var n=A(t);return n&&(0===t.pendingcb?(S(e,t),t.finished=!0,e.emit("finish")):S(e,t)),n}function M(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?D(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function b(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var a=r.callback;e.pendingcb--,a(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}e.exports=s;var D=n(109),I=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:D,w=n(8).Buffer;s.WritableState=o;var C=n(50);C.inherits=n(37);var N,P={deprecate:n(318)};!function(){try{N=n(41)}catch(e){}finally{N||(N=n(49).EventEmitter)}}();var w=n(8).Buffer;C.inherits(s,N);var x;o.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(o.prototype,"buffer",{get:P.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var x;s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),w.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=a),r.ended?u(this,n):l(this,r,e,n)&&(r.pendingcb++,i=d(this,r,e,t,n)),i},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},s.prototype._write=function(e,t,n){n(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||M(this,r,n)}}).call(t,n(16),n(111).setImmediate)},function(e,t,n){"use strict";(function(e){function r(e,t){this._id=e,this._clearFn=t}var a=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,a,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,a,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(a,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(317),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||void 0,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||void 0}).call(t,n(14))},function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return a(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function a(e,t,n){var r=e._transformState;r.transforming=!1;var a=r.writecb;if(!a)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),a(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);s.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=i;var s=n(38),u=n(50);u.inherits=n(37),u.inherits(i,s),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var a=this._readableState;(r.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){if(r=r||1,a=a||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(void 0===n)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if(void 0===r)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(n<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(n>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(r<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(n+r>t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var i=new u.default(e.byteArrayParser,e.byteArray,t.dataOffset),s=(0,c.default)(i);if("xfffee000"!==s.tag)throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";i.seek(s.length);var l=i.position;if(1===r)return(0,f.default)(i.byteArray,l+a[n].offset+8,a[n].length);for(var d=m(a,n,r),g=(0,o.default)(i.byteArray,d),p=0,v=n;v<n+r;v++)for(var h=l+a[v].offset+8,y=0;y<a[v].length;y++)g[p++]=i.byteArray[h++];return g}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(106),o=r(i),s=n(65),u=r(s),l=n(64),c=r(l),d=n(66),f=r(d),m=function(e,t,n){for(var r=0,a=t;a<t+n;a++)r+=e[a].length;return r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.substring(1,5),n=e.substring(5,9),r=("("+t+","+n+")").toUpperCase();return{key:t+"|"+n,attr:h.default.TAG_DICT[r]}}function i(e,t){var n=e.elements[t],r="";return n&&(r=e.string(t)),r}function o(e,t){var n=e.elements[t],r=0;return n&&(2===n.length?r=e.uint16(t):4===n.length&&(r=e.uint32(t))),r}function s(e){var t={metaDatas:null,dimensions:[0,0],origin:[0,0,0],spacing:[0,0,0],direction:[1,0,0,0,1,0],rescaleSlope:1,rescaleIntercept:0,imageData:null};if(!e)return t;var n=e.elements.x7fe00010;if(n)if(n.encapsulatedPixelData){var r=0!==n.basicOffsetTable.length?p.default.readEncapsulatedImageFrame(e,n,0):p.default.readEncapsulatedPixelDataFromFragments(e,n,0,n.fragments.length),s=T.decompress(r);t.imageData=new Int16Array(s)}else{var u=e.byteArray.byteOffset+n.dataOffset,l=e.byteArray.buffer.slice(u,u+n.length),c=new Uint8Array(l),d=e.byteArrayParser,f=c.length/2,m=new Int16Array(f);t.imageData=m;for(var g=0;g<f;g++)m[g]=d.readInt16(c,2*g)}var v=o(e,"x00280010"),h=o(e,"x00280011");t.dimensions=[h,v];var y=i(e,"x00280030");if(y){var A=y.split("\\"),S=Number(i(e,"x00180050"));A[0]=Number(A[0]),A[1]=Number(A[1]),A[2]=S,t.spacing=A}else t.spacing=[1,1,1];var b=i(e,"x00200037");if(b){var D=b.split("\\");D[0]=Number(D[0]),D[1]=Number(D[1]),D[2]=Number(D[2]),D[3]=Number(D[3]),D[4]=Number(D[4]),D[5]=Number(D[5]),t.direction=D}var I=i(e,"x00200032");if(I){var w=I.split("\\");w[0]=Number(w[0]),w[1]=Number(w[1]),w[2]=Number(w[2]),t.origin=w}else t.origin=[0,0,0];var C=i(e,"x00281053"),N=i(e,"x00281052");C&&N?(t.rescaleSlope=Number(C),t.rescaleIntercept=Number(N)):(t.rescaleSlope=1,t.rescaleIntercept=0);var P=[];t.metaDatas=P;try{var x=Object.keys(e.elements);x.sort();for(var E=0;E<x.length;E++){var O=x[E],L=e.elements[O];if(!(L.tag<="x0002ffff"||L.length<=0)){var _=a(L.tag),R=e.string(O),k={TagKey:_.key,LabelId:_.attr?_.attr.name:"",TagValue:R};P.push(k)}}}catch(e){var B=e;e.exception&&(B=e.exception),M("parse dicom metadata & imagedata error: "+B)}return t}function u(e){var t=[1,0,0,0,1,0],n=e.metaData.find(function(e){return"0020|0037"===e.TagKey});if(n){var r=n.TagValue.split("\\");r&&6===r.length&&(t[0]=Number(r[0]),t[1]=Number(r[1]),t[2]=Number(r[2]),t[3]=Number(r[3]),t[4]=Number(r[4]),t[5]=Number(r[5]))}return t}function l(e){for(var t=[[0,0,0],[0,0,0],[0,0,0]],n=0;n<2;++n)Math.abs(e[n][0])>Math.abs(e[n][1])&&Math.abs(e[n][0])>Math.abs(e[n][2])?t[n][0]=1:Math.abs(e[n][1])>Math.abs(e[n][0])&&Math.abs(e[n][1])>Math.abs(e[n][2])?t[n][1]=1:Math.abs(e[n][2])>Math.abs(e[n][1])&&Math.abs(e[n][2])>Math.abs(e[n][0])&&(t[n][2]=1);t[2][0]=Math.abs(t[0][1]*t[1][2]-t[0][2]*t[1][1]),t[2][1]=Math.abs(t[0][2]*t[1][0]-t[0][0]*t[1][2]),t[2][2]=Math.abs(t[0][0]*t[1][1]-t[0][1]*t[1][0]);var r=t[2][0]*e[2][0]+t[2][1]*e[2][1]+t[2][2]*e[2][2],a=!0;return Math.abs(r)<.997&&(a=!1),{isXYZSystem:a,direction:t}}function c(e,t){t.classHierarchy.push("vtkDicomSorter"),e.getAllMetaDatas=function(){return t.outputDatas&&t.outputDatas.length?t.outputDatas.map(function(e){return e.metaData}):(M("null or zero outputDatas"),null)},e.getOrigin=function(){return t.outputDatas&&t.outputDatas.length?t.outputDatas[0].structInfo.origin.concat():(M("null or zero outputDatas"),null)},e.getSpacing=function(){if(!t.outputDatas||!t.outputDatas.length)return M("null or zero outputDatas"),null;var e=t.outputDatas[0].structInfo,n=e.spacing.concat();if(t.outputDatas.length>1){var r=t.outputDatas[1].structInfo,a=Math.pow(r.origin[0]-e.origin[0],2)+Math.pow(r.origin[1]-e.origin[1],2)+Math.pow(r.origin[2]-e.origin[2],2);a=Math.sqrt(a),0===a&&(a=1),n[2]=a}return n},e.getDimensions=function(){if(!t.outputDatas||!t.outputDatas.length)return M("null or zero outputDatas"),null;var e=t.outputDatas[0].structInfo,n=e.dimensions;return[n[0],n[1],t.outputDatas.length]},e.getDirection=function(){if(!t.outputDatas||!t.outputDatas.length)return M("null or zero outputDatas"),null;var e=t.outputDatas[0].structInfo,n=e.direction.concat(),r=[n[0],n[1],n[2]],a=[n[3],n[4],n[5]],i=[];A.default.cross(r,a,i),A.default.normalize(i),A.default.cross(a,i,r),A.default.normalize(r),A.default.cross(i,r,a);var o=[r[0],a[0],i[0]],s=[r[1],a[1],i[1]],u=[r[2],a[2],i[2]],l=[o,s,u];return{needTransform:1!==n[0]||0!==n[1]||0!==n[2]||0!==n[3]||1!==n[4]||0!==n[5],direction:l}},e.getSerieUIDFileSetHT=function(){t.inputDatas.forEach(function(e){var n=e.metaData.find(function(e){return"0020|000e"===e.TagKey});if(!n)return void M("UID tag not found");var r=n.TagValue.replace(/[^a-zA-Z0-9.]/g,"");t.singleSerieUIDFileSetHT[r]||(t.singleSerieUIDFileSetHT[r]=[]),t.singleSerieUIDFileSetHT[r].push(e)})},e.getSerieUIDFileSet=function(e){var n=null;if(e)n=t.singleSerieUIDFileSetHT[e];else{var r=null;Object.keys(t.singleSerieUIDFileSetHT).forEach(function(e){if(!r)return void(r=e);t.singleSerieUIDFileSetHT[e].length>t.singleSerieUIDFileSetHT[r].length&&(r=e)}),n=r?t.singleSerieUIDFileSetHT[r]:null}return n},e.sortByFileName=function(){if(!t.inputDatas||!t.inputDatas.length)return M("null or zero inputDatas"),!1;t.outputDatas?t.outputDatas.length=0:t.outputDatas=[],e.getSerieUIDFileSetHT();var n=e.getSerieUIDFileSet();if(n&&n.length)for(var r=0;r<n.length;r++)t.outputDatas.push(n[r]);return t.outputDatas.sort(function(e,t){return e.fileName<t.fileName?-1:e.fileName>t.fileName?1:0}),!0},e.sortSingleSerieUIDFileSet=function(e){var n=[0,0,0],r=[],a=0,i=0;if(e.forEach(function(e,t){if(0===t){var o=u(e);n[0]=o[1]*o[5]-o[2]*o[4],n[1]=o[2]*o[3]-o[0]*o[5],n[2]=o[0]*o[4]-o[1]*o[3];var s=e.structInfo.origin,l=n[0]*s[0]+n[1]*s[1]+n[2]*s[2];r.push([l,e]),a=l,i=l}else{var c=e.structInfo.origin,d=n[0]*c[0]+n[1]*c[1]+n[2]*c[2];r.push([d,e]),i=i<d?i:d,a=a>d?a:d}}),i===a)return t.outputDatas=e,!1;for(var o=!0,s=0;s<r.length;s++){for(var l=r[s][0],c=s+1;c<r.length;c++)if(l===r[c][0]){o=!1;break}if(!o)break}return o?(e.length=0,t.directOrder?r.sort(function(e,t){return e[0]-t[0]}):r.sort(function(e,t){return t[0]-e[0]}),t.outputDatas=r.map(function(e){return e[1]}),!0):(t.outputDatas=e,!1)},e.sortByImagePositionPatient=function(){if(!t.inputDatas||!t.inputDatas.length)return void M("null or zero inputDatas");t.outputDatas?t.outputDatas.length=0:t.outputDatas=[],t.singleSerieUIDFileSetHT={},e.getSerieUIDFileSetHT();var n=e.getSerieUIDFileSet();n&&n.length&&e.sortSingleSerieUIDFileSet(n)}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,D,n),m.default.obj(e,t),m.default.set(e,t,["inputDatas"]),m.default.get(e,t,["outputDatas"]),m.default.setGet(e,t,["directOrder"]),c(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=d;var f=n(0),m=r(f),g=n(171),p=r(g),v=n(328),h=r(v),y=n(1),A=r(y),S=n(329),T=new S.lossless.Decoder,M=m.default.vtkErrorMacro,b=t.STATIC={parseDicomMetaDataAndImageData:s,checkImageDirection:l},D={inputDatas:null,singleSerieUIDFileSetHT:{},outputDatas:null,directOrder:!0},I=t.newInstance=m.default.newInstance(d,"vtkDicomSorter");t.default=Object.assign({newInstance:I,extend:d},b)},function(e,t,n){"use strict";function r(e){function t(e,t){var r=n[void 0===t?"undefined":s(t)];if(!r)throw new Error('Unsupported type "'+(void 0===t?"undefined":s(t))+'": '+t);r(e,t)}var n=c.getWriteType(e);return t}function a(){var e=this.options;return this.encode=r(e),e&&e.preset&&l.setExtPackers(this),this}function i(e,t,n){function r(t){return n&&(t=n(t)),new u(t,e)}n=d.filter(n);var a=t.name;a&&"Object"!==a?(this.extPackers||(this.extPackers={}))[a]=r:(this.extEncoderList||(this.extEncoderList=[])).unshift([t,r])}function o(e){var t=this.extPackers||(this.extPackers={}),n=e.constructor,r=n&&n.name&&t[n.name];if(r)return r;for(var a=this.extEncoderList||(this.extEncoderList=[]),i=a.length,o=0;o<i;o++){var s=a[o];if(n===s[0])return s[1]}}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(116).ExtBuffer,l=n(337),c=n(338),d=n(69);d.install({addExtPacker:i,getExtPacker:o,init:a}),t.preset=a.call(d.preset)},function(e,t,n){"use strict";function r(e,t){if(!(this instanceof r))return new r(e,t);this.buffer=a.from(e),this.type=t}t.ExtBuffer=r;var a=n(17)},function(e,t,n){"use strict";function r(e,t,n,r){var i=s.isBuffer(this),u=s.isBuffer(e);if(i&&u)return this.copy(e,t,n,r);if(c||i||u||!s.isView(this)||!s.isView(e))return o.copy.call(this,e,t,n,r);var l=n||null!=r?a.call(this,n,r):this;return e.set(l,t),l.length}function a(e,t){var n=this.slice||!c&&this.subarray;if(n)return n.call(this,e,t);var a=s.alloc.call(this,t-e);return r.call(this,a,0,e,t),a}function i(e,t,n){return(!l&&s.isBuffer(this)?this.toString:o.toString).apply(this,arguments)}var o=n(336);t.copy=r,t.slice=a,t.toString=i,t.write=function(e){function t(){return(this[e]||o[e]).apply(this,arguments)}return t}("write");var s=n(17),u=s.global,l=s.hasBuffer&&"TYPED_ARRAY_SUPPORT"in u,c=l&&!u.TYPED_ARRAY_SUPPORT},function(e,t,n){"use strict";(function(e){var n,r,a,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){function s(e,n,r){function a(e,t,n,r){return this instanceof a?s(this,e,t,n,r):new a(e,t,n,r)}function i(e){return!(!e||!e[U])}function s(e,t,n,r,a){if(M&&b&&(t instanceof b&&(t=new M(t)),r instanceof b&&(r=new M(r))),!(t||n||r||A))return void(e.buffer=m(D,0));if(!d(t,n)){var i=A||Array;a=n,r=t,n=0,t=new i(8)}e.buffer=t,e.offset=n|=0,S!==(void 0===r?"undefined":o(r))&&("string"==typeof r?y(t,n,r,a||10):d(r,a)?f(t,n,r,a):"number"==typeof a?(P(t,n+E,r),P(t,n+O,a)):r>0?B(t,n,r):r<0?V(t,n,r):f(t,n,D,0))}function y(e,t,n,r){var a=0,i=n.length,o=0,s=0;"-"===n[0]&&a++;for(var u=a;a<i;){var l=parseInt(n[a++],r);if(!(l>=0))break;s=s*r+l,o=o*r+Math.floor(s/w),s%=w}u&&(o=~o,s?s=w-s:o++),P(e,t+E,o),P(e,t+O,s)}function I(){var e=this.buffer,t=this.offset,n=x(e,t+E),a=x(e,t+O);return r||(n|=0),n?n*w+a:a}function N(e){var t=this.buffer,n=this.offset,a=x(t,n+E),i=x(t,n+O),o="",s=!r&&2147483648&a;for(s&&(a=~a,i=w-i),e=e||10;;){var u=a%e*w+i;if(a=Math.floor(a/e),i=Math.floor(u/e),o=(u%e).toString(e)+o,!a&&!i)break}return s&&(o="-"+o),o}function P(e,t,n){e[t+k]=255&n,n>>=8,e[t+R]=255&n,n>>=8,e[t+_]=255&n,n>>=8,e[t+L]=255&n}function x(e,t){return e[t+L]*C+(e[t+_]<<16)+(e[t+R]<<8)+e[t+k]}var E=n?0:4,O=n?4:0,L=n?0:3,_=n?1:2,R=n?2:1,k=n?3:0,B=n?g:v,V=n?p:h,F=a.prototype,j="is"+e,U="_"+j;return F.buffer=void 0,F.offset=0,F[U]=!0,F.toNumber=I,F.toString=N,F.toJSON=I,F.toArray=u,T&&(F.toBuffer=l),M&&(F.toArrayBuffer=c),a[j]=i,t[e]=a,a}function u(e){var t=this.buffer,n=this.offset;return A=null,!1!==e&&0===n&&8===t.length&&I(t)?t:m(t,n)}function l(t){var n=this.buffer,r=this.offset;if(A=T,!1!==t&&0===r&&8===n.length&&e.isBuffer(n))return n;var a=new T(8);return f(a,0,n,r),a}function c(e){var t=this.buffer,n=this.offset,r=t.buffer;if(A=M,!1!==e&&0===n&&r instanceof b&&8===r.byteLength)return r;var a=new M(8);return f(a,0,t,n),a.buffer}function d(e,t){var n=e&&e.length;return t|=0,n&&t+8<=n&&"string"!=typeof e[t]}function f(e,t,n,r){t|=0,r|=0;for(var a=0;a<8;a++)e[t++]=255&n[r++]}function m(e,t){return Array.prototype.slice.call(e,t,t+8)}function g(e,t,n){for(var r=t+8;r>t;)e[--r]=255&n,n/=256}function p(e,t,n){var r=t+8;for(n++;r>t;)e[--r]=255&-n^255,n/=256}function v(e,t,n){for(var r=t+8;t<r;)e[t++]=255&n,n/=256}function h(e,t,n){var r=t+8;for(n++;t<r;)e[t++]=255&-n^255,n/=256}function y(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)}var A,S="undefined",T=S!==(void 0===e?"undefined":o(e))&&e,M=S!==("undefined"==typeof Uint8Array?"undefined":o(Uint8Array))&&Uint8Array,b=S!==("undefined"==typeof ArrayBuffer?"undefined":o(ArrayBuffer))&&ArrayBuffer,D=[0,0,0,0,0,0,0,0],I=Array.isArray||y,w=4294967296,C=16777216;n=s("Uint64BE",!0,!0),r=s("Int64BE",!0,!1),a=s("Uint64LE",!1,!0),i=s("Int64LE",!1,!1)}("object"===o(t)&&"string"!=typeof t.nodeName?t:{})}).call(t,n(8).Buffer)},function(e,t,n){"use strict";function r(e){function t(e){var t=l(e),r=n[t];if(!r)throw new Error("Invalid type: "+(t?"0x"+t.toString(16):t));return r(e)}var n=c.getReadToken(e);return t}function a(){var e=this.options;return this.decode=r(e),e&&e.preset&&u.setExtUnpackers(this),this}function i(e,t){(this.extUnpackers||(this.extUnpackers=[]))[e]=d.filter(t)}function o(e){function t(t){return new s(t,e)}return(this.extUnpackers||(this.extUnpackers=[]))[e]||t}var s=n(116).ExtBuffer,u=n(340),l=n(198).readUint8,c=n(341),d=n(69);d.install({addExtUnpacker:i,getExtUnpacker:o,init:a}),t.preset=a.call(d.preset)},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkFileDownloaderAjax"),e.getMode=function(){return"Ajax"},e.download=function(){return t.fileUrl?"function"!=typeof t.dataCallback?(s("null dataCallback"),!1):(window.XMLHttpRequest?t.httpReq=new XMLHttpRequest:t.httpReq=new ActiveXObject("Microsoft.XMLHTTP"),t.httpReq.onabort=function(){"function"==typeof t.errorCallback&&t.errorCallback("Abort")},t.httpReq.onerror=function(){"function"==typeof t.errorCallback&&t.errorCallback("Error")},t.httpReq.ontimeout=function(){"function"==typeof t.errorCallback&&t.errorCallback("Timeout")},t.httpReq.onreadystatechange=function(){4===t.httpReq.readyState&&200===t.httpReq.status?("arraybuffer"===t.httpReq.responseType?t.dataCallback(t.httpReq.response):t.dataCallback(t.httpReq.responseText),e.disconnect()):4===t.httpReq.readyState&&404===t.httpReq.status&&"function"==typeof t.errorCallback&&t.errorCallback(t.httpReq.statusText)},t.httpReq.onprogress=function(e){var n=e||event,r=t.progressCallback;if(n.lengthComputable&&"function"==typeof r)if(t.progressMin<t.progressMax){var a=100*n.loaded/n.total,i=0;i=a<=0?t.progressMin:a>=100?t.progressMax:(t.progressMax-t.progressMin)*a/100+t.progressMin,i=Math.floor(100*i)/100;var o={progress:i,loaded:n.loaded,total:n.total,totalZip:n.total};r(o)}else{var s=Math.floor(100*t.progressMin)/100,u={progress:s,loaded:n.loaded,total:n.total,totalZip:n.total};r(u)}},t.httpReq.open("GET",t.fileUrl,!0),t.httpReq.responseType=t.isBinary?"arraybuffer":"text",t.httpReq.send(),!0):(s("vtkFileDownloaderAjax: null fileUrl"),!1)},e.disconnect=function(){t.httpReq&&(t.httpReq.abort(),t.httpReq=null)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,u,n),o.default.obj(e,t),o.default.setGet(e,t,["fileUrl","isBinary","dataCallback","errorCallback","progressCallback","progressMin","progressMax"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o.default.vtkErrorMacro,u={fileUrl:null,isBinary:!0,dataCallback:null,errorCallback:null,progressCallback:null,progressMin:0,progressMax:100,httpReq:null},l=t.newInstance=o.default.newInstance(a,"vtkFileDownloaderAjax");t.default={newInstance:l,extend:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VTKCellTypes={VTK_EMPTY_CELL:0,VTK_VERTEX:1,VTK_POLY_VERTEX:2,VTK_LINE:3,VTK_POLY_LINE:4,VTK_TRIANGLE:5,VTK_TRIANGLE_STRIP:6,VTK_POLYGON:7,VTK_PIXEL:8,VTK_QUAD:9,VTK_TETRA:10,VTK_VOXEL:11,VTK_HEXAHEDRON:12,VTK_WEDGE:13,VTK_PYRAMID:14,VTK_PENTAGONAL_PRISM:15,VTK_HEXAGONAL_PRISM:16,VTK_QUADRATIC_EDGE:21,VTK_QUADRATIC_TRIANGLE:22,VTK_QUADRATIC_QUAD:23,VTK_QUADRATIC_POLYGON:36,VTK_QUADRATIC_TETRA:24,VTK_QUADRATIC_HEXAHEDRON:25,VTK_QUADRATIC_WEDGE:26,VTK_QUADRATIC_PYRAMID:27,VTK_BIQUADRATIC_QUAD:28,VTK_TRIQUADRATIC_HEXAHEDRON:29,VTK_QUADRATIC_LINEAR_QUAD:30,VTK_QUADRATIC_LINEAR_WEDGE:31,VTK_BIQUADRATIC_QUADRATIC_WEDGE:32,VTK_BIQUADRATIC_QUADRATIC_HEXAHEDRON:33,VTK_BIQUADRATIC_TRIANGLE:34,VTK_CUBIC_LINE:35,VTK_CONVEX_POINT_SET:41,VTK_POLYHEDRON:42,VTK_PARAMETRIC_CURVE:51,VTK_PARAMETRIC_SURFACE:52,VTK_PARAMETRIC_TRI_SURFACE:53,VTK_PARAMETRIC_QUAD_SURFACE:54,VTK_PARAMETRIC_TETRA_REGION:55,VTK_PARAMETRIC_HEX_REGION:56,VTK_HIGHER_ORDER_EDGE:60,VTK_HIGHER_ORDER_TRIANGLE:61,VTK_HIGHER_ORDER_QUAD:62,VTK_HIGHER_ORDER_POLYGON:63,VTK_HIGHER_ORDER_TETRAHEDRON:64,VTK_HIGHER_ORDER_WEDGE:65,VTK_HIGHER_ORDER_PYRAMID:66,VTK_HIGHER_ORDER_HEXAHEDRON:67,VTK_NUMBER_OF_CELL_TYPES:68};t.default={VTKCellTypes:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){var a=n[0]-t[0],i=n[1]-t[1],o=n[2]-t[2],s=e[0]-t[0],u=e[1]-t[1],l=e[2]-t[2];r[0]=i*l-o*u,r[1]=o*s-a*l,r[2]=a*u-i*s}function i(e,t,n,r){a(e,t,n,r);var i=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);0!==i&&(r[0]/=i,r[1]/=i,r[2]/=i)}function o(e,t){t.classHierarchy.push("vtkTriangle"),e.getCellDimension=function(){},e.intersectWithLine=function(n,r,a,o,s){var u={subId:0,t:0,intersect:-1};s[2]=0;var l=[],c=a*a,d=[],f=[],g=[];t.points.getPoint(1,d),t.points.getPoint(2,f),t.points.getPoint(0,g);var p=[],v=[];if(i(d,f,g,p),0!==p[0]||0!==p[1]||0!==p[2]){var y=h.default.intersectWithLine(n,r,d,p);if(u.t=y.t,o[0]=y.x[0],o[1]=y.x[1],o[2]=y.x[2],!y.intersection)return s[0]=0,s[1]=0,u.intersect=0,u;var A=e.evaluatePosition(o,l,s,v);if(A.evaluation>=0)return A.dist2<=c?(u.intersect=1,u):(u.intersect=A.evaluation,u)}var S=m.default.distance2BetweenPoints(d,f),T=m.default.distance2BetweenPoints(f,g),M=m.default.distance2BetweenPoints(g,d);if(S>T&&S>M?(t.line.getPoints().setPoint(0,d[0],d[1],d[2]),t.line.getPoints().setPoint(1,f[0],f[1],f[2])):T>M&&T>S?(t.line.getPoints().setPoint(0,f[0],f[1],f[2]),t.line.getPoints().setPoint(1,g[0],g[1],g[2])):(t.line.getPoints().setPoint(0,g[0],g[1],g[2]),t.line.getPoints().setPoint(1,d[0],d[1],d[2])),t.line.intersectWithLine(n,r,a,o,s).intersect){for(var b=[],D=[],I=[],w=0;w<3;w++)b[w]=d[w]-g[w],D[w]=f[w]-g[w],I[w]=o[w]-g[w];return s[0]=m.default.dot(I,b)/M,s[1]=m.default.dot(I,D)/T,u.intersect=1,u}return s[0]=0,s[1]=0,u.intersect=0,u},e.evaluatePosition=function(e,n,r,i){var o={subId:0,dist2:0,evaluation:-1},s=void 0,u=void 0,l=[],c=[],d=[],f=[],g=void 0,v=[],y=[],A=[],S=0,T=0,M=[],b=void 0,D=void 0,I=void 0,w=[],C=[],N=[],P=[];o.subId=0,r[2]=0,t.points.getPoint(1,l),t.points.getPoint(2,c),t.points.getPoint(0,d),a(l,c,d,f),h.default.generalizedProjectPoint(e,l,f,P);var x=0;for(s=0;s<3;s++)(g=f[s]<0?-f[s]:f[s])>x&&(x=g,T=s);for(u=0,s=0;s<3;s++)s!==T&&(M[u++]=s);for(s=0;s<2;s++)v[s]=P[M[s]]-d[M[s]],y[s]=l[M[s]]-d[M[s]],A[s]=c[M[s]]-d[M[s]];if(0===(S=m.default.determinant2x2(y,A)))return r[0]=0,r[1]=0,o.evaluation=-1,o;if(r[0]=m.default.determinant2x2(v,A)/S,r[1]=m.default.determinant2x2(y,v)/S,i[0]=1-(r[0]+r[1]),i[1]=r[0],i[2]=r[1],i[0]>=0&&i[0]<=1&&i[1]>=0&&i[1]<=1&&i[2]>=0&&i[2]<=1)n&&(o.dist2=m.default.distance2BetweenPoints(P,e),n[0]=P[0],n[1]=P[1],n[2]=P[2]),o.evaluation=1;else{var E=void 0;if(n)if(i[1]<0&&i[2]<0)for(b=m.default.distance2BetweenPoints(e,d),D=p.default.distanceToLine(e,l,d,E,C),I=p.default.distanceToLine(e,d,c,E,N),b<D?(o.dist2=b,w=d):(o.dist2=D,w=C),I<o.dist2&&(o.dist2=I,w=N),s=0;s<3;s++)n[s]=w[s];else if(i[2]<0&&i[0]<0)for(b=m.default.distance2BetweenPoints(e,l),D=p.default.distanceToLine(e,l,d,E,C),I=p.default.distanceToLine(e,l,c,E,N),b<D?(o.dist2=b,w=l):(o.dist2=D,w=C),I<o.dist2&&(o.dist2=I,w=N),s=0;s<3;s++)n[s]=w[s];else if(i[1]<0&&i[0]<0)for(b=m.default.distance2BetweenPoints(e,c),D=p.default.distanceToLine(e,c,d,E,C),I=p.default.distanceToLine(e,l,c,E,N),b<D?(o.dist2=b,w=c):(o.dist2=D,w=C),I<o.dist2&&(o.dist2=I,w=N),s=0;s<3;s++)n[s]=w[s];else if(i[0]<0){var O=p.default.distanceToLine(e,l,c,n);o.dist2=O.distance}else if(i[1]<0){var L=p.default.distanceToLine(e,c,d,n);o.dist2=L.distance}else if(i[2]<0){var _=p.default.distanceToLine(e,l,d,n);o.dist2=_.distance}o.evaluation=0}return o},e.evaluateLocation=function(e,n,r){var a=[],i=[],o=[];t.points.getPoint(0,a),t.points.getPoint(1,i),t.points.getPoint(2,o);for(var s=1-e[0]-e[1],u=0;u<3;u++)n[u]=a[u]*s+i[u]*e[0]+o[u]*e[1];r[0]=s,r[1]=e[0],r[2]=e[1]},e.getParametricDistance=function(e){var t=void 0,n=0,r=[];r[0]=e[0],r[1]=e[1],r[2]=1-e[0]-e[1];for(var a=0;a<3;a++)(t=r[a]<0?-r[a]:r[a]>1?r[a]-1:0)>n&&(n=t);return n}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),d.default.extend(e,t,n),t.points.setNumberOfPoints(3),t.line=p.default.newInstance(),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=s;var u=n(0),l=r(u),c=n(51),d=r(c),f=n(1),m=r(f),g=n(123),p=r(g),v=n(60),h=r(v),y=t.STATIC={computeNormalDirection:a,computeNormal:i},A={},S=t.newInstance=l.default.newInstance(s,"vtkTriangle");t.default=Object.assign({newInstance:S,extend:s},y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a={t:Number.MIN_VALUE,distance:0},i=[],o=void 0;i[0]=n[0]-t[0],i[1]=n[1]-t[1],i[2]=n[2]-t[2];var s=i[0]*(e[0]-t[0])+i[1]*(e[1]-t[1])+i[2]*(e[2]-t[2]),u=p.default.dot(i,i),l=1e-5*s;return 0!==u&&(a.t=s/u),l<0&&(l=-l),-l<u&&u<l?o=t:u<=0||a.t<0?o=t:a.t>1?o=n:(o=i,i[0]=t[0]+a.t*i[0],i[1]=t[1]+a.t*i[1],i[2]=t[2]+a.t*i[2]),r&&(r[0]=o[0],r[1]=o[1],r[2]=o[2]),a.distance=p.default.distance2BetweenPoints(o,e),a}function i(e,t,n,r,i,o){var s=[],u=[],l=[];i[0]=0,o[0]=0,s[0]=t[0]-e[0],s[1]=t[1]-e[1],s[2]=t[2]-e[2],u[0]=r[0]-n[0],u[1]=r[1]-n[1],u[2]=r[2]-n[2],l[0]=n[0]-e[0],l[1]=n[1]-e[1],l[2]=n[2]-e[2];var c=[];c[0]=[p.default.dot(s,s),-p.default.dot(s,u)],c[1]=[c[0][1],p.default.dot(u,u)];var d=[];if(d[0]=p.default.dot(s,l),d[1]=-p.default.dot(u,l),0===p.default.solveLinearSystem(c,d,2)){for(var f=Number.MAX_VALUE,m=[e,t,n,r],g=[n,n,e,e],h=[r,r,t,t],y=[o[0],o[0],i[0],i[0]],A=[i[0],i[0],o[0],o[0]],S=void 0,T=0;T<4;T++)S=a(m[T],g[T],h[T]),S.distance<f&&(f=S.distance,y[T]=S.t,A[T]=T%2);return v.ON_LINE}return i[0]=d[0],o[0]=d[1],i[0]>=0&&i[0]<=1&&o[0]>=0&&o[0]<=1?v.YES_INTERSECTION:v.NO_INTERSECTION}function o(e,t){t.classHierarchy.push("vtkLine"),e.getCellDimension=function(){},e.intersectWithLine=function(e,n,r,o,s){var u={intersect:0,t:Number.MIN_VALUE,subId:0};s[1]=0,s[2]=0;var l=[],c=[],d=[];t.points.getPoint(0,c),t.points.getPoint(1,d);var f=[],m=[],g=i(e,n,c,d,f,m);if(u.t=f[0],s[0]=m[0],g===v.YES_INTERSECTION){for(var h=0;h<3;h++)o[h]=c[h]+s[0]*(d[h]-c[h]),l[h]=e[h]+u.t*(n[h]-e[h]);if(p.default.distance2BetweenPoints(o,l)<=r*r)return u.intersect=1,u}else{var y=void 0;if(u.t<0)return u.t=0,y=a(e,c,d,o),s[0]=y.t,y.distance<=r*r?(u.intersect=1,u):u;if(u.t>1)return u.t=1,y=a(n,c,d,o),s[0]=y.t,y.distance<=r*r?(u.intersect=1,u):u;if(s[0]<0)return s[0]=0,y=a(c,e,n,o),u.t=y.t,y.distance<=r*r?(u.intersect=1,u):u;if(s[1]>1)return s[1]=1,y=a(d,e,n,o),u.t=y.t,y.distance<=r*r?(u.intersect=1,u):u}return u},e.evaluatePosition=function(e,t,n,r,a,i){}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),m.default.extend(e,t,n),t.points.setNumberOfPoints(2),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=s;var u=n(0),l=r(u),c=n(350),d=r(c),f=n(51),m=r(f),g=n(1),p=r(g),v=d.default.IntersectionState,h=t.STATIC={distanceToLine:a,intersection:i},y={},A=t.newInstance=l.default.newInstance(s,"vtkLine");t.default=Object.assign({newInstance:A,extend:s},h,d.default)},function(e,t,n){"use strict";(function(){t.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r,a,i,o,s,u,l,c,d,f,m,g,p=function(e,t){function n(){this.constructor=e}for(var r in t)v.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},v={}.hasOwnProperty;u=n(76),l=n(77),t=n(74),r=n(75),c=n(73),f=n(82),m=n(83),d=n(84),a=n(78),i=n(80),o=n(79),s=n(81),g=n(205),e.exports=function(e){function n(e){n.__super__.constructor.call(this,e)}return p(n,e),n.prototype.document=function(e){var t,n,a,i,o;for(this.textispresent=!1,i="",o=e.children,n=0,a=o.length;n<a;n++)t=o[n],i+=function(){switch(!1){case!(t instanceof u):return this.declaration(t);case!(t instanceof l):return this.docType(t);case!(t instanceof r):return this.comment(t);case!(t instanceof d):return this.processingInstruction(t);default:return this.element(t,0)}}.call(this);return this.pretty&&i.slice(-this.newline.length)===this.newline&&(i=i.slice(0,-this.newline.length)),i},n.prototype.attribute=function(e){return" "+e.name+'="'+e.value+'"'},n.prototype.cdata=function(e,t){return this.space(t)+"<![CDATA["+e.text+"]]>"+this.newline},n.prototype.comment=function(e,t){return this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.newline},n.prototype.declaration=function(e,t){var n;return n=this.space(t),n+='<?xml version="'+e.version+'"',null!=e.encoding&&(n+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(n+=' standalone="'+e.standalone+'"'),n+=this.spacebeforeslash+"?>",n+=this.newline},n.prototype.docType=function(e,n){var u,l,c,f,m;if(n||(n=0),f=this.space(n),f+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?f+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(f+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(f+=" [",f+=this.newline,m=e.children,l=0,c=m.length;l<c;l++)u=m[l],f+=function(){switch(!1){case!(u instanceof a):return this.dtdAttList(u,n+1);case!(u instanceof i):return this.dtdElement(u,n+1);case!(u instanceof o):return this.dtdEntity(u,n+1);case!(u instanceof s):return this.dtdNotation(u,n+1);case!(u instanceof t):return this.cdata(u,n+1);case!(u instanceof r):return this.comment(u,n+1);case!(u instanceof d):return this.processingInstruction(u,n+1);default:throw new Error("Unknown DTD node type: "+u.constructor.name)}}.call(this);f+="]"}return f+=this.spacebeforeslash+">",f+=this.newline},n.prototype.element=function(e,n){var a,i,o,s,u,l,g,p,h,y,A,S,T;n||(n=0),T=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),S=this.space(n),p="",p+=S+"<"+e.name,h=e.attributes;for(g in h)v.call(h,g)&&(a=h[g],p+=this.attribute(a));if(0===e.children.length||e.children.every(function(e){return""===e.value}))this.allowEmpty?p+="></"+e.name+">"+this.newline:p+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===e.children.length&&null!=e.children[0].value)p+=">",p+=e.children[0].value,p+="</"+e.name+">"+this.newline;else{if(this.dontprettytextnodes)for(y=e.children,o=0,u=y.length;o<u;o++)if(i=y[o],null!=i.value){this.textispresent++,T=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,S=this.space(n)),p+=">"+this.newline,A=e.children,s=0,l=A.length;s<l;s++)i=A[s],p+=function(){switch(!1){case!(i instanceof t):return this.cdata(i,n+1);case!(i instanceof r):return this.comment(i,n+1);case!(i instanceof c):return this.element(i,n+1);case!(i instanceof f):return this.raw(i,n+1);case!(i instanceof m):return this.text(i,n+1);case!(i instanceof d):return this.processingInstruction(i,n+1);default:throw new Error("Unknown XML node type: "+i.constructor.name)}}.call(this);T&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),p+=S+"</"+e.name+">"+this.newline}return p},n.prototype.processingInstruction=function(e,t){var n;return n=this.space(t)+"<?"+e.target,e.value&&(n+=" "+e.value),n+=this.spacebeforeslash+"?>"+this.newline},n.prototype.raw=function(e,t){return this.space(t)+e.value+this.newline},n.prototype.text=function(e,t){return this.space(t)+e.value+this.newline},n.prototype.dtdAttList=function(e,t){var n;return n=this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(n+=" "+e.defaultValueType),e.defaultValue&&(n+=' "'+e.defaultValue+'"'),n+=this.spacebeforeslash+">"+this.newline},n.prototype.dtdElement=function(e,t){return this.space(t)+"<!ELEMENT "+e.name+" "+e.value+this.spacebeforeslash+">"+this.newline},n.prototype.dtdEntity=function(e,t){var n;return n=this.space(t)+"<!ENTITY",e.pe&&(n+=" %"),n+=" "+e.name,e.value?n+=' "'+e.value+'"':(e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),e.nData&&(n+=" NDATA "+e.nData)),n+=this.spacebeforeslash+">"+this.newline},n.prototype.dtdNotation=function(e,t){var n;return n=this.space(t)+"<!NOTATION "+e.name,e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?n+=' PUBLIC "'+e.pubID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),n+=this.spacebeforeslash+">"+this.newline},n.prototype.openNode=function(e,t){var n,r,a,i;if(t||(t=0),e instanceof c){a=this.space(t)+"<"+e.name,i=e.attributes;for(r in i)v.call(i,r)&&(n=i[r],a+=this.attribute(n));return a+=(e.children?">":"/>")+this.newline}return a=this.space(t)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),a+=(e.children?" [":">")+this.newline},n.prototype.closeNode=function(e,t){switch(t||(t=0),!1){case!(e instanceof c):return this.space(t)+"</"+e.name+">"+this.newline;case!(e instanceof l):return this.space(t)+"]>"+this.newline}},n}(g)}).call(void 0)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(){e.computeMatrix()}t.classHierarchy.push("vtkProp3D"),e.addPosition=function(n){t.position=t.position.map(function(e,t){return e+n[t]}),e.modified()},e.getOrientationWXYZ=function(){var e=o.quat.create();o.mat4.getRotation(e,t.rotation);var n=o.vec3.create(),r=o.quat.getAxisAngle(n,e);return[f.degreesFromRadians(r),n[0],n[1],n[2]]},e.rotateX=function(n){0!==n&&(o.mat4.rotateX(t.rotation,t.rotation,f.radiansFromDegrees(n)),e.modified())},e.rotateY=function(n){0!==n&&(o.mat4.rotateY(t.rotation,t.rotation,f.radiansFromDegrees(n)),e.modified())},e.rotateZ=function(n){0!==n&&(o.mat4.rotateZ(t.rotation,t.rotation,f.radiansFromDegrees(n)),e.modified())},e.rotateWXYZ=function(n,r,a,i){if(0!==n&&(0!==r||0!==a||0!==i)){var s=f.radiansFromDegrees(n),u=o.quat.create();o.quat.setAxisAngle(u,[r,a,i],s);var l=o.mat4.create();o.mat4.fromQuat(l,u),o.mat4.multiply(t.rotation,t.rotation,l),e.modified()}},e.setUserMatrix=function(n){o.mat4.copy(t.userMatrix,n),e.modified()},e.getMatrix=function(){return e.computeMatrix(),t.matrix},e.computeMatrix=function(){if(e.getMTime()>t.matrixMTime.getMTime()){o.mat4.identity(t.matrix),t.userMatrix&&o.mat4.multiply(t.matrix,t.matrix,t.userMatrix),o.mat4.translate(t.matrix,t.matrix,t.origin),o.mat4.translate(t.matrix,t.matrix,t.position),o.mat4.multiply(t.matrix,t.matrix,t.rotation),o.mat4.scale(t.matrix,t.matrix,t.scale),o.mat4.translate(t.matrix,t.matrix,[-t.origin[0],-t.origin[1],-t.origin[2]]),o.mat4.transpose(t.matrix,t.matrix),t.isIdentity=!0;for(var n=0;n<4;++n)for(var r=0;r<4;++r)(n===r?1:0)!==t.matrix[n+4*r]&&(t.isIdentity=!1);t.matrixMTime.modified()}},e.getCenter=function(){return c.default.getCenter(t.bounds)},e.getLength=function(){return c.default.getLength(t.bounds)},e.getXRange=function(){return c.default.getXRange(t.bounds)},e.getYRange=function(){return c.default.getYRange(t.bounds)},e.getZRange=function(){return c.default.getZRange(t.bounds)},e.getUserMatrix=function(){return t.userMatrix},e.onModified(n)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),g.default.extend(e,t,n),t.matrixMTime={},u.default.obj(t.matrixMTime),u.default.get(e,t,["bounds","isIdentity"]),u.default.setGetArray(e,t,["origin","position","orientation","scale"],3),t.matrix=o.mat4.create(),t.rotation=o.mat4.create(),t.userMatrix=o.mat4.create(),t.transform=null,a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(35),c=r(l),d=n(1),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),m=n(85),g=r(m),p={origin:[0,0,0],position:[0,0,0],rotation:null,scale:[1,1,1],bounds:[1,-1,1,-1,1,-1],userMatrix:null,userMatrixMTime:null,cachedProp3D:null,isIdentity:!0,matrixMTime:null},v=t.newInstance=u.default.newInstance(i,"vtkProp3D");t.default={newInstance:v,extend:i}},function(e,t,n){"use strict";function r(e,t){e.update=function(){e.getInputData()},e.addClippingPlane=function(e){"vtkPlane"===e.getClassName()&&t.clippingPlanes.push(e)},e.getNumberOfClippingPlanes=function(){return t.clippingPlanes.length},e.removeAllClippingPlanes=function(){t.clippingPlanes.length=0},e.removeClippingPlane=function(e){e<0||e>=6||t.clippingPlanes.splice(e,1)},e.getClippingPlanes=function(){return t.clippingPlanes},e.setClippingPlanes=function(t){if(t)if(Array.isArray(t))for(var n=t.length,r=0;r<n&&r<6;r++)e.addClippingPlane(t[r]);else e.addClippingPlane(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.algo(e,t,1,0),t.clippingPlanes||(t.clippingPlanes=[]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={clippingPlanes:[]};t.default={extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkLookupTable"),e.isOpaque=function(){if(t.opaqueFlagBuildTime.getMTime()<e.getMTime()){var n=!0;t.nanColor[3]<1&&(n=0),t.useBelowRangeColor&&t.belowRangeColor[3]<1&&(n=0),t.useAboveRangeColor&&t.aboveRangeColor[3]<1&&(n=0);for(var r=3;r<t.table.length&&n;r+=4)t.table[r]<255&&(n=!1);t.opaqueFlag=n,t.opaqueFlagBuildTime.modified()}return t.opaqueFlag},e.usingLogScale=function(){return!1},e.getNumberOfAvailableColors=function(){return t.table.length},e.linearIndexLookup=function(e,t){var n=0;return e<t.range[0]?n=t.maxIndex+g+1.5:e>t.range[1]?n=t.maxIndex+p+1.5:(n=(e+t.shift)*t.scale,n=n<t.maxIndex?n:t.maxIndex),Math.floor(n)},e.linearLookup=function(t,n,r){var a=0;return a=l.isNan(t)?Math.floor(r.maxIndex+1.5+v):e.linearIndexLookup(t,r),[n[4*a],n[4*a+1],n[4*a+2],n[4*a+3]]},e.indexedLookupFunction=function(t,n,r){var a=e.getAnnotatedValueIndexInternal(t);return[n[4*a],n[4*a+1],n[4*a+2],n[4*a+3]]},e.lookupShiftAndScale=function(e,t){t.shift=-e[0],t.scale=Number.MAX_VALUE,e[1]>e[0]&&(t.scale=(t.maxIndex+1)/(e[1]-e[0]))},e.mapScalarsThroughTable=function(n,r,a,i){var o=e.linearLookup;t.indexedLookup&&(o=e.indexedLookupFunction);var s=e.getTableRange(),u={maxIndex:e.getNumberOfColors()-1,range:s,shift:0,scale:0};e.lookupShiftAndScale(s,u);var l=e.getAlpha(),c=n.getNumberOfTuples(),d=n.getNumberOfComponents(),m=r.getData(),g=n.getData();if(l>=1){if(a===f.ScalarMappingTarget.RGBA)for(var p=0;p<c;p++){var v=o(g[p*d+i],t.table,u);m[4*p]=v[0],m[4*p+1]=v[1],m[4*p+2]=v[2],m[4*p+3]=v[3]}}else if(a===f.ScalarMappingTarget.RGBA)for(var h=0;h<c;h++){var y=o(g[h*d+i],t.table,u);m[4*h]=y[0],m[4*h+1]=y[1],m[4*h+2]=y[2],m[4*h+3]=Math.floor(y[3]*l+.5)}},e.forceBuild=function(){var n=0,r=0,a=0,i=0,o=t.numberOfColors-1;o&&(n=(t.hueRange[1]-t.hueRange[0])/o,r=(t.saturationRange[1]-t.saturationRange[0])/o,a=(t.valueRange[1]-t.valueRange[0])/o,i=(t.alphaRange[1]-t.alphaRange[0])/o);for(var s=[],u=[],c=0;c<=o;c++)s[0]=t.hueRange[0]+c*n,s[1]=t.saturationRange[0]+c*r,s[2]=t.valueRange[0]+c*a,l.hsv2rgb(s,u),u[3]=t.alphaRange[0]+c*i,t.table[4*c]=Math.floor(255*u[0]+.5),t.table[4*c+1]=Math.floor(255*u[1]+.5),t.table[4*c+2]=Math.floor(255*u[2]+.5),t.table[4*c+3]=Math.floor(255*u[3]+.5);e.buildSpecialColors(),t.buildTime.modified()},e.buildSpecialColors=function(){var e=t.numberOfColors,n=t.table,r=4*(t.numberOfColors+g);t.useBelowRangeColor||0===e?(n[r]=Math.floor(255*t.belowRangeColor[0]+.5),n[r+1]=Math.floor(255*t.belowRangeColor[1]+.5),n[r+2]=Math.floor(255*t.belowRangeColor[2]+.5),n[r+3]=Math.floor(255*t.belowRangeColor[3]+.5)):(n[r]=n[0],n[r+1]=n[1],n[r+2]=n[2],n[r+3]=n[3]),r=4*(t.numberOfColors+p),t.useAboveRangeColor||0===e?(n[r]=Math.floor(255*t.aboveRangeColor[0]+.5),n[r+1]=Math.floor(255*t.aboveRangeColor[1]+.5),n[r+2]=Math.floor(255*t.aboveRangeColor[2]+.5),n[r+3]=Math.floor(255*t.aboveRangeColor[3]+.5)):(n[r]=n[4*(e-1)+0],n[r+1]=n[4*(e-1)+1],n[r+2]=n[4*(e-1)+2],n[r+3]=n[4*(e-1)+3]),r=4*(t.numberOfColors+v),n[r]=Math.floor(255*t.nanColor[0]+.5),n[r+1]=Math.floor(255*t.nanColor[1]+.5),n[r+2]=Math.floor(255*t.nanColor[2]+.5),n[r+3]=Math.floor(255*t.nanColor[3]+.5)},e.build=function(){(t.table.length<1||e.getMTime()>t.buildTime.getMTime()&&t.insertTime.getMTime()<=t.buildTime.getMTime())&&e.forceBuild()},e.setRamp=function(n){t.ramp!==n&&(t.ramp=n,e.modified())},e.setRampToLinear=function(){e.setRamp(h)},e.setWindow=function(n){var r=n;r=n<1e-5?1e-5:n,t.window=r,e.setTableRange(t.level-t.window/2,t.level+t.window/2)},e.setLevel=function(n){t.level=n,e.setTableRange(t.level-t.window/2,t.level+t.window/2)},e.setTableRange=function(n,r){return 1===t.scale&&(n>0&&r<0||n<0&&r>0)?void s.default.vtkErrorMacro("Bad table range for log scale: [",n,",",r,"]"):r<n?void s.default.vtkErrorMacro("Bad table range: [",n,", ",r,"]"):void(t.tableRange[0]===n&&t.tableRange[1]===r||(t.tableRange[0]=n,t.tableRange[1]=r,e.modified()))},e.getTableRange=function(){return[t.tableRange[0],t.tableRange[1]]},e.setTableValue=function(n,r,a,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return n<0?void m("Can't set the table value for negative index "+n):n>=t.numberOfColors?void m("Index "+n+" is greater than the number of colors "+t.numberOfColors):(t.table[4*n]=Math.floor(255*r+.5),t.table[4*n+1]=Math.floor(255*a+.5),t.table[4*n+2]=Math.floor(255*i+.5),t.table[4*n+3]=Math.floor(255*o+.5),0!==n&&n!==t.numberOfColors-1||e.buildSpecialColors(),t.insertTime.modified(),void e.modified())}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),d.default.extend(e,t,n),t.table||(t.table=[]),t.insertTime={},s.default.obj(t.insertTime),t.buildTime={},s.default.obj(t.buildTime),t.opaqueFlagBuildTime={},s.default.obj(t.opaqueFlagBuildTime,{mtime:0}),s.default.get(e,t,["buildTime"]),s.default.setGet(e,t,["numberOfColors","useAboveRangeColor","useBelowRangeColor"]),s.default.setArray(e,t,["alphaRange","hueRange","saturationRange","valueRange"],2),s.default.setArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"],4),s.default.getArray(e,t,["hueRange","saturationRange","valueRange","alphaRange","nanColor","belowRangeColor","aboveRangeColor"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(208),d=r(c),f=n(86),m=s.default.vtkErrorMacro,g=0,p=1,v=2,h=0,y={numberOfColors:256,hueRange:[0,.66667],saturationRange:[1,1],valueRange:[1,1],alphaRange:[1,1],nanColor:[.5,0,0,1],belowRangeColor:[0,0,0,1],aboveRangeColor:[1,1,1,1],useAboveRangeColor:!1,useBelowRangeColor:!1,alpha:1,insertTime:null,buildTime:null,opaqueFlagBuildTime:null,ramp:0,window:1,level:.5,scale:0,tableRange:[0,1]},A=t.newInstance=s.default.newInstance(i,"vtkLookupTable");t.default=Object.assign({newInstance:A,extend:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkInteractorStyleTrackballCamera"),e.handleMouseMove=function(n){var r=n.position,a=n.pokedRenderer;switch(t.state){case p.IS_ROTATE:e.handleMouseRotate(a,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case p.IS_PAN:e.handleMousePan(a,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case p.IS_DOLLY:e.handleMouseDolly(a,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case p.IS_SPIN:e.handleMouseSpin(a,r),e.invokeInteractionEvent({type:"InteractionEvent"})}t.previousPosition=r},e.handleButton3D=function(n){if(n&&n.pressed&&n.device===g.Device.RightController&&n.input===g.Input.TrackPad)return void e.startCameraPose();n&&!n.pressed&&n.device===g.Device.RightController&&n.input===g.Input.TrackPad&&t.state===p.IS_CAMERA_POSE&&e.endCameraPose()},e.handleMove3D=function(n){switch(t.state){case p.IS_CAMERA_POSE:e.updateCameraPose(n)}},e.updateCameraPose=function(e){var t=e.pokedRenderer.getActiveCamera(),n=t.getPhysicalTranslation(),r=e.gamepad.axes[1],a=.05*r/t.getPhysicalScale(),i=t.physicalOrientationToWorldDirection(e.orientation);t.setPhysicalTranslation(n[0]+i[0]*a,n[1]+i[1]*a,n[2]+i[2]*a)},e.handleLeftButtonPress=function(n){var r=n.position;t.previousPosition=r,n.shiftKey?n.controlKey||n.altKey?e.startDolly():e.startPan():n.controlKey||n.altKey?e.startSpin():e.startRotate()},e.handleLeftButtonRelease=function(){switch(t.state){case p.IS_DOLLY:e.endDolly();break;case p.IS_PAN:e.endPan();break;case p.IS_SPIN:e.endSpin();break;case p.IS_ROTATE:e.endRotate()}},e.handleStartMouseWheel=function(t){e.startDolly(),e.handleMouseWheel(t)},e.handleEndMouseWheel=function(){e.endDolly()},e.handleStartPinch=function(n){t.previousScale=n.scale,e.startDolly()},e.handleEndPinch=function(){e.endDolly()},e.handleStartRotate=function(n){t.previousRotation=n.rotation,e.startRotate()},e.handleEndRotate=function(){e.endRotate()},e.handleStartPan=function(n){t.previousTranslation=n.translation,e.startPan()},e.handleEndPan=function(){e.endPan()},e.handlePinch=function(n){e.dollyByFactor(n.pokedRenderer,n.scale/t.previousScale),t.previousScale=n.scale,t.enableAnimate||t.renderCount%2||t.interactor.render(),t.renderCount++},e.handlePan=function(n){var r=n.pokedRenderer.getActiveCamera(),a=r.getFocalPoint();a=e.computeWorldToDisplay(n.pokedRenderer,a[0],a[1],a[2]);var i=a[2],o=n.translation,s=t.previousTranslation,u=e.computeDisplayToWorld(n.pokedRenderer,a[0]+o[0]-s[0],a[1]+o[1]-s[1],i),l=e.computeDisplayToWorld(n.pokedRenderer,a[0],a[1],i),c=[];c[0]=l[0]-u[0],c[1]=l[1]-u[1],c[2]=l[2]-u[2],a=r.getFocalPoint();var d=r.getPosition();r.setFocalPoint(c[0]+a[0],c[1]+a[1],c[2]+a[2]),r.setPosition(c[0]+d[0],c[1]+d[1],c[2]+d[2]),t.interactor.getLightFollowCamera()&&n.pokedRenderer.updateLightsGeometryToFollowCamera(),r.orthogonalizeViewUp(),t.previousTranslation=n.translation,t.enableAnimate||t.renderCount%2||t.interactor.render(),t.renderCount++},e.handleRotate=function(e){var n=e.pokedRenderer.getActiveCamera();n.roll(e.rotation-t.previousRotation),n.orthogonalizeViewUp(),t.previousRotation=e.rotation,t.enableAnimate||t.renderCount%2||t.interactor.render(),t.renderCount++},e.handleMouseRotate=function(e,n){var r=t.interactor,a=n.x-t.previousPosition.x,i=n.y-t.previousPosition.y,o=r.getView().getViewportSize(e),s=-.1,u=-.1;o[0]&&o[1]&&(s=-20/o[1],u=-20/o[0]);var l=a*u*t.motionFactor,c=i*s*t.motionFactor,d=e.getActiveCamera();Number.isNaN(l)||Number.isNaN(c)||(d.azimuth(l),d.elevation(c),d.orthogonalizeViewUp()),t.autoAdjustCameraClippingRange&&e.resetCameraClippingRange(),r.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera(),t.enableAnimate||t.renderCount%2||t.interactor.render(),t.renderCount++},e.handleMouseSpin=function(e,n){var r=t.interactor,a=e.getActiveCamera(),i=r.getView().getViewportCenter(e),o=m.degreesFromRadians(Math.atan2(t.previousPosition.y-i[1],t.previousPosition.x-i[0])),s=m.degreesFromRadians(Math.atan2(n.y-i[1],n.x-i[0]))-o;Number.isNaN(s)||(a.roll(s),a.orthogonalizeViewUp()),t.enableAnimate||t.renderCount%2||t.interactor.render(),t.renderCount++},e.handleMousePan=function(n,r){var a=n.getActiveCamera(),i=a.getFocalPoint();i=e.computeWorldToDisplay(n,i[0],i[1],i[2]);var o=i[2],s=e.computeDisplayToWorld(n,r.x,r.y,o),u=e.computeDisplayToWorld(n,t.previousPosition.x,t.previousPosition.y,o),l=[];l[0]=u[0]-s[0],l[1]=u[1]-s[1],l[2]=u[2]-s[2],i=a.getFocalPoint();var c=a.getPosition();a.setFocalPoint(l[0]+i[0],l[1]+i[1],l[2]+i[2]),a.setPosition(l[0]+c[0],l[1]+c[1],l[2]+c[2]),t.interactor.getLightFollowCamera()&&n.updateLightsGeometryToFollowCamera(),t.enableAnimate||t.renderCount%2||t.interactor.render(),t.renderCount++},e.handleMouseDolly=function(n,r){var a=r.y-t.previousPosition.y,i=t.interactor,o=i.getView().getViewportCenter(n),s=t.motionFactor*a/o[1];e.dollyByFactor(n,Math.pow(1.1,s)),t.enableAnimate||t.renderCount%2||t.interactor.render(),t.renderCount++},e.handleMouseWheel=function(n){var r=1-n.spinY/10;e.dollyByFactor(n.pokedRenderer,r),t.enableAnimate||t.renderCount%2||t.interactor.render(),t.renderCount++},e.dollyByFactor=function(e,n){if(!Number.isNaN(n)){var r=e.getActiveCamera();r.getParallelProjection()?r.setParallelScale(r.getParallelScale()/n):(r.dolly(n),t.autoAdjustCameraClippingRange&&e.resetCameraClippingRange()),t.interactor.getLightFollowCamera()&&e.updateLightsGeometryToFollowCamera()}},e.hasObserver=function(e){return!!t.observers[e]},e.addObserver=function(n,r){e.hasObserver(n)||(t.observers[n]=r)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,v,n),l.default.extend(e,t,n),s.default.setGet(e,t,["motionFactor"]),s.default.setGetArray(e,t,["centerOfRotation"],3),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(369),l=r(u),c=n(130),d=r(c),f=n(1),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),g=n(215),p=d.default.States,v={motionFactor:10,observers:[],centerOfRotation:[0,0,0]},h=t.newInstance=s.default.newInstance(i,"vtkInteractorStyleTrackballCamera");t.default=Object.assign({newInstance:h,extend:i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.States={IS_START:0,IS_NONE:0,IS_ROTATE:1,IS_PAN:2,IS_SPIN:3,IS_DOLLY:4,IS_CAMERA_POSE:11,IS_WINDOW_LEVEL:1024,IS_SLICE:1025,IS_RESLICE_ALL:1026,IS_RESLICE_SINGLE:1027};t.default={States:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n,r,a){for(var i=!0,o=[],s=0,u=[],l=[0,0,0],c=0;c<3;c++)t[c]<e[2*c]?(o[c]=1,l[c]=e[2*c],i=!1):t[c]>e[2*c+1]?(o[c]=0,l[c]=e[2*c+1],i=!1):o[c]=2;if(i)return r[0]=t[0],r[1]=t[1],r[2]=t[2],a[0]=0,1;for(var d=0;d<3;d++)2!==o[d]&&0!==n[d]?u[d]=(l[d]-t[d])/n[d]:u[d]=-1;for(var f=0;f<3;f++)u[s]<u[f]&&(s=f);if(u[s]>1||u[s]<0)return 0;a[0]=u[s];for(var m=0;m<3;m++)if(s!==m){if(r[m]=t[m]+u[s]*n[m],r[m]<e[2*m]||r[m]>e[2*m+1])return 0}else r[m]=l[m];return 1}function o(e,t){t.classHierarchy.push("vtkBox"),e.setBounds=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=[];if(Array.isArray(n[0]))a=n[0];else for(var i=0;i<n.length;i++)a.push(n[i]);6===a.length&&t.bbox.setBounds(a)},e.getBounds=function(){return t.bbox.getBounds()},e.evaluateFunction=function(e,n,r){for(var a=Array.isArray(e)?e:[e,n,r],i=void 0,o=void 0,s=void 0,u=-Number.MAX_VALUE,l=0,c=t.bbox.getMinPoint(),d=t.bbox.getMaxPoint(),f=1,m=0;m<3;m++)i=t.bbox.getLength(m),0!==i?(s=(a[m]-c[m])/i,s<0?(f=0,o=c[m]-a[m]):s>1?(f=0,o=a[m]-d[m]):(o=s<=.5?c[m]-a[m]:a[m]-d[m])>u&&(u=o)):(o=Math.abs(a[m]-c[m]))>0&&(f=0),o>0&&(l+=o*o);return l=Math.sqrt(l),f?u:l},e.addBounds=function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=[];if(Array.isArray(r[0]))o=r[0];else for(var s=0;s<r.length;s++)o.push(r[s]);6===o.length&&((e=t.bbox).addBounds.apply(e,a(o)),t.bbox.modified())}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),l.default.obj(e,t),t.bbox||(t.bbox=d.default.newInstance()),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=s;var u=n(0),l=r(u),c=n(35),d=r(c),f=t.STATIC={intersectBox:i},m={},g=t.newInstance=l.default.newInstance(s,"vtkBox");t.default=Object.assign({newInstance:g,extend:s},f)},function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(r):void 0},f=n(372),m=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._messageId=1,n._messages=new Map,n._worker=e,n._worker.onmessage=n._onMessage.bind(n),n._id=Math.ceil(1e7*Math.random()),n}return s(t,e),c(t,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return 0===this._messages.size}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments[3];return new Promise(function(i,o){var s=n._messageId++;n._messages.set(s,[i,o,a]),n._worker.postMessage([s,t,e],r||[])})}},{key:"postMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments[2];return new Promise(function(a,i){var o=t._messageId++;t._messages.set(o,[a,i,r]),t._worker.postMessage([o,e],n||[])})}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._worker.postMessage({eventName:e,args:n})}},{key:"_onMessage",value:function(e){if(!Array.isArray(e.data)&&e.data.eventName){var n;return(n=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(n,[this,e.data.eventName].concat(a(e.data.args)))}var i=r(e.data),o=i[0],s=i.slice(1);if(1===o)this._onEvent.apply(this,a(s));else{if(0!==o)throw new Error("Wrong message type '"+o+"'");this._onResult.apply(this,a(s))}}},{key:"_onResult",value:function(e,t,n){var r=this._messages.get(e),a=l(r,2),i=a[0],o=a[1];return this._messages.delete(e),1===t?i(n):o(n)}},{key:"_onEvent",value:function(e,t,n){var r=this._messages.get(e),a=l(r,3),i=a[2];i&&i(t,n)}}]),t}(f);e.exports=m},function(e,t,n){"use strict";var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;n=new a,n.append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkRenderWindowBase"),e.releaseAllData=function(){t.mapperContainer.forEach(function(e){e.uninstallPipeline()}),t.mapperContainer=[],t.renderer.getActors(),t.renderer.removeAllActors(),3!==e.getOrientation()&&e.updateCornerTextByMousemove()},e.setBackgroundColor=function(n){var r=Array.isArray(n[0])?n[0]:n;t.background[0]=r[0],t.background[1]=r[1],t.background[2]=r[2],t.background2[0]=r[0],t.background2[1]=r[1],t.background2[2]=r[2],t.gradientBackground=!1,e.updateBackgrondColor()},e.setGradientBackgroundColor=function(n,r){var a=Array.isArray(n[0])?n[0]:n,i=Array.isArray(r[0])?r[0]:r;t.background[0]=a[0],t.background[1]=a[1],t.background[2]=a[2],t.background2[0]=i[0],t.background2[1]=i[1],t.background2[2]=i[2],t.gradientBackground=!0,e.updateBackgrondColor()},e.updateBackgrondColor=function(){t.renderer&&(t.renderer.setBackground(t.background),t.renderer.setBackground2(t.background2),t.renderer.setGradientBackground(t.gradientBackground),t.renderer.setTexturedBackground(t.texturedBackground))},e.initScene=function(n){t.container||(n?t.container=n:(t.container=document.createElement("div"),t.container.style.overflow="hidden")),t.renderWindow=m.default.newInstance(),t.renderer=d.default.newInstance(),t.renderWindow.addRenderer(t.renderer),t.openGLRenderWindow=l.default.newInstance(),"vtkRenderWindowVR"===e.getClassName()?t.openGLRenderWindow.setDefaultToWebgl2(!0):t.openGLRenderWindow.setDefaultToWebgl2(!O.USE_DEPTHPEEL),t.openGLRenderWindow.setContainer(t.container),t.renderWindow.addView(t.openGLRenderWindow),t.interactor=p.default.newInstance(),t.interactor.getInteractorStyle().setMotionFactor(25),t.interactor.getInteractorStyle().setEnableAnimate(!1),t.interactor.setView(t.openGLRenderWindow),t.interactor.initialize(),t.interactor.bindEvents(t.container)},e.getDomElement=function(){return t.container},e.render=function(){if("none"!==t.openGLRenderWindow.getCanvas().style.display){if(t.interactor&&t.interactor.getView()){var e=t.interactor.getView().getSize();if(e[0]<5||e[1]<5)return}t.renderWindow.render()}},e.resetCamera=function(){t.renderer.resetCamera(),e.render()},e.getUseDepthPeel=function(){var e=t.renderer.getUseDepthPeeling();return e&&(e=!!t.openGLRenderWindow.getContext().getExtension("EXT_frag_depth")),e},e.setUseDepthPeel=function(n){t.renderer.setUseDepthPeeling(n),e.render()},e.updateWindowSize=function(){if("none"!==t.openGLRenderWindow.getCanvas().style.display){var n=window.devicePixelRatio||1,r=t.container.getBoundingClientRect();t.openGLRenderWindow.setSize(Math.floor(r.width*n),Math.floor(r.height*n)),e.render()}},e.addTestActors=function(){if(t.renderer){var e=T.default.newInstance();e.setCenter(1,0,0),e.setRadius(100),e.setHeight(100);var n=h.default.newInstance();n.setInputConnection(e.getOutputPort());var r=A.default.newInstance();r.getProperty().setOpacity(.4),r.getProperty().setDiffuseColor(1,0,0),r.setMapper(n),t.renderer.addActor(r)}},e.addActor=function(e,n){t.renderer.hasViewProp(e)||(t.renderer.hasViewProp(t.loadingActor)&&t.renderer.removeActor(t.loadingActor),t.renderer.addActor(e))},e.removeActor=function(e){t.renderer.hasViewProp(e)&&t.renderer.removeActor(e)},e.hasViewProp=function(e){return t.renderer.hasViewProp(e)},e.setStandardView=function(n){t.renderer.showStandardView(n),t.renderer.updateLightsGeometryToFollowCamera(),e.render()},e.updateOrientation=function(){var e=t.renderer.getActiveCamera();if(!e)return void x("updateOrientation: non-existant camera");"ViewXY"===t.viewName||t.orientation===P.default.OrientationXY?(e.setPosition(0,0,0),e.setFocalPoint(0,0,1),e.setViewUp(0,-1,0)):"ViewYZ"===t.viewName||t.orientation===P.default.OrientationYZ?(e.setPosition(0,0,0),e.setFocalPoint(0,0,-1),e.setViewUp(0,1,0)):"ViewXZ"!==t.viewName&&t.orientation!==P.default.OrientationXZ||(e.setPosition(0,0,0),e.setFocalPoint(0,0,-1),e.setViewUp(0,1,0)),t.renderer.resetCamera()},e.updateView=function(){},e.updateViewByNode=function(e){for(var n={},r=t.mapperContainer.length-1;r>=0;r--){var a=t.mapperContainer[r];a&&a.getNodeIndex()===e&&(a.clearUpdateFlags(),E.DataManagement.isNodeExist(e)?a.updatePipeline():(a.uninstallPipeline(),t.mapperContainer.splice(r,1)),a.mergeUpdateFlags(n))}return n},e.updateViewByNodes=function(){for(var e={},n=t.mapperContainer.length-1;n>=0;n--){var r=t.mapperContainer[n];r&&(r.clearUpdateFlags(),E.DataManagement.isNodeExist(r.getNodeIndex())?r.updatePipeline():(r.uninstallPipeline(),t.mapperContainer.splice(n,1)),r.mergeUpdateFlags(e))}return e},e.checkMapper=function(e){return!!t.mapperContainer.find(function(t){return t&&t.getNodeIndex()===e})},e.addMapper=function(e){e&&t.mapperContainer.push(e)},e.getMapper=function(e){return t.mapperContainer.find(function(t){return t&&t.getNodeIndex()===e})},e.getMapperByType=function(e){return t.mapperContainer.find(function(t){return t&&t.getNodeType()===e})},e.getMapperByClassName=function(e){return t.mapperContainer.find(function(t){return t&&t.getClassName()===e})},e.getMapperByClassNameAndNodeIndex=function(e,n){return t.mapperContainer.find(function(t){return t&&t.getClassName()===e&&t.getNodeIndex()===n})},e.removeMapper=function(e){for(var n=t.mapperContainer.length-1;n>=0;n--){var r=t.mapperContainer[n];r&&e===r.getNodeIndex()&&t.mapperContainer.splice(n,1)}},e.removeMapperDirect=function(e){for(var n=t.mapperContainer.length-1;n>=0;n--)t.mapperContainer[n]===e&&t.mapperContainer.splice(n,1)},e.deleteMapper=function(e){for(var n=t.mapperContainer.length-1;n>=0;n--){var r=t.mapperContainer[n];r&&e===r.getNodeIndex()&&(r.uninstallPipeline(),t.mapperContainer.splice(n,1))}},e.deleteMapperDirect=function(e){for(var n=t.mapperContainer.length-1;n>=0;n--)t.mapperContainer[n]===e&&(e.uninstallPipeline(),t.mapperContainer.splice(n,1))},e.updateNodeProperties=function(e){var n={};return t.mapperContainer.forEach(function(t){t&&t.getNodeIndex()===e&&(t.clearUpdateFlags(),t.updatePipeline(),t.mergeUpdateFlags(n))}),n},e.captureImage=function(e){return t.renderWindow.captureImages(e)[0]}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,L,n),s.default.obj(e,t),s.default.setGet(e,t,["gradientBackground","texturedBackground","container","renderWindow","renderer","interactor","openGLRenderWindow","orientation","viewName"]),s.default.setGetArray(e,t,["background","background2","textColor"],3);var r=b.default.newInstance();r.setBold(1),r.setItalic(1),r.setShadow(1),r.setFontSize(24),r.setFontFamilyToArial(),r.setColor(1,0,0);var i=I.default.newInstance();i.setInput("Loading ..."),i.setTextProperty(r),t.loadingActor=C.default.newInstance(),t.loadingActor.setMapper(i),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(218),l=r(u),c=n(415),d=r(c),f=n(419),m=r(f),g=n(214),p=r(g),v=n(20),h=r(v),y=n(24),A=r(y),S=n(431),T=r(S),M=n(88),b=r(M),D=n(210),I=r(D),w=n(212),C=r(w),N=n(140),P=r(N),x=s.default.vtkErrorMacro,E=s.default.GlobalObjects,O=s.default.GlobalOptions,L={background:[0,0,0],background2:[0,0,0],textColor:[0,0,0],gradientBackground:!1,texturedBackground:!1,container:null,renderWindow:null,renderer:null,openGLRenderWindow:null,interactor:null,orientation:-1,viewName:"",loadingActor:null,mapperContainer:[]},_=t.newInstance=s.default.newInstance(i,"vtkRenderWindowBase");t.default={newInstance:_,extend:i}},function(e,t){e.exports="//VTK::System::Dec\r\n\r\n/*=========================================================================\r\n\r\n  Program:   Visualization Toolkit\r\n  Module:    vtktextureObjectVS.glsl\r\n\r\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\r\n  All rights reserved.\r\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\r\n\r\n     This software is distributed WITHOUT ANY WARRANTY; without even\r\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\r\n     PURPOSE.  See the above copyright notice for more information.\r\n\r\n=========================================================================*/\r\n\r\nattribute vec4 vertexMC;\r\n\r\nattribute vec2 tcoordMC;\r\nvarying vec2 tcoordVC;\r\n\r\nvoid main()\r\n{\r\n  tcoordVC = tcoordMC;\r\n  gl_Position = vertexMC;\r\n}\r\n"},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkRenderPass"),e.getOperation=function(){return t.currentOperation},e.setCurrentOperation=function(e){t.currentOperation=e,t.currentTraverseOperation="traverse"+o.default.capitalize(t.currentOperation)},e.getTraverseOperation=function(){return t.currentTraverseOperation},e.traverse=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.deleted||(t.currentParent=r,t.preDelegateOperations.forEach(function(t){e.setCurrentOperation(t),n.traverse(e)}),t.delegates.forEach(function(t){t.traverse(n,e)}),t.postDelegateOperations.forEach(function(t){e.setCurrentOperation(t),n.traverse(e)}))}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.get(e,t,["currentOperation"]),o.default.setGet(e,t,["delegates","currentParent","preDelegateOperations","postDelegateOperations","depthPeelingOn"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={delegates:[],currentOperation:null,preDelegateOperations:[],postDelegateOperations:[],currentParent:null,depthPeelingOn:!1},u=t.newInstance=o.default.newInstance(a,"vtkRenderPass");t.default={newInstance:u,extend:a}},function(e,t){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\nattribute vec4 vertexMC;\n\n// frag position in VC\n//VTK::PositionVC::Dec\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n// extra lighting parameters\n//VTK::Light::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\n// picking support\n//VTK::Picking::Dec\n\nvoid main()\n{\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  //VTK::PrimID::Impl\n\n  //VTK::PositionVC::Impl\n\n  //VTK::Light::Impl\n\n  //VTK::Picking::Impl\n}\n"},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkPiecewiseFunction"),e.getSize=function(){return t.nodes.length},e.getType=function(){var e=void 0,n=0,r=0;t.nodes.length>0&&(n=t.nodes[0].y);for(var a=1;a<t.nodes.length;a++){if((e=t.nodes[a].y)!==n)if(e>n)switch(r){case 0:case 1:r=1;break;default:case 2:r=3}else switch(r){case 0:case 2:r=2;break;default:case 1:r=3}if(n=e,3===r)break}switch(r){case 0:return"Constant";case 1:return"NonDecreasing";case 2:return"NonIncreasing";default:case 3:return"Varied"}},e.getDataPointer=function(){var e=t.nodes.length;if(t.function=null,e>0){t.function=[];for(var n=0;n<e;n++)t.function[2*n]=t.nodes[n].x,t.function[2*n+1]=t.nodes[n].y}return t.function},e.getFirstNonZeroValue=function(){if(0===t.nodes.length)return 0;for(var e=1,n=0;n<t.nodes.length;n++)if(0!==t.nodes[n].y){e=0;break}return e?Number.MAX_VALUE:n>0?t.nodes[n-1].x:t.clamping?-Number.MAX_VALUE:t.nodes[0].x},e.getNodeValue=function(e,n){var r=t.nodes.length;return e<0||e>=r?(s("Index out of range!"),-1):(n[0]=t.nodes[e].x,n[1]=t.nodes[e].y,n[2]=t.nodes[e].midpoint,n[3]=t.nodes[e].sharpness,1)},e.setNodeValue=function(n,r){var a=t.nodes.length;if(n<0||n>=a)return s("Index out of range!"),-1;var i=t.nodes[n].x;return t.nodes[n].x=r[0],t.nodes[n].y=r[1],t.nodes[n].midpoint=r[2],t.nodes[n].sharpness=r[3],i!==r[0]?e.sortAndUpdateRange():e.modified(),1},e.addPoint=function(t,n){return e.addPointLong(t,n,.5,0)},e.addPointLong=function(n,r,a,i){if(a<0||a>1)return s("Midpoint outside range [0.0, 1.0]"),-1;if(i<0||i>1)return s("Sharpness outside range [0.0, 1.0]"),-1;t.allowDuplicateScalars||e.removePoint(n);var o={x:n,y:r,midpoint:a,sharpness:i};t.nodes.push(o),e.sortAndUpdateRange();var u=void 0;for(u=0;u<t.nodes.length&&t.nodes[u].x!==n;u++);return u<t.nodes.length?u:-1},e.setNodes=function(n){t.nodes!==n&&(t.nodes=n,e.sortAndUpdateRange())},e.sortAndUpdateRange=function(){t.nodes.sort(function(e,t){return e.x-t.x}),e.updateRange()||e.modified()},e.updateRange=function(){var n=t.range.slice(),r=t.nodes.length;return r?(t.range[0]=t.nodes[0].x,t.range[1]=t.nodes[r-1].x):(t.range[0]=0,t.range[1]=0),(n[0]!==t.range[0]||n[1]!==t.range[1])&&(e.modified(),!0)},e.removePoint=function(n){var r=void 0;for(r=0;r<t.nodes.length&&t.nodes[r].x!==n;r++);if(r>=t.nodes.length)return-1;var a=r,i=!1;return t.nodes.splice(r,1),0!==r&&r!==t.nodes.length||(i=e.updateRange()),i||e.modified(),a},e.removeAllPoints=function(){t.nodes=[],e.sortAndUpdateRange()},e.addSegment=function(n,r,a,i){e.sortAndUpdateRange();for(var o=0;o<t.nodes.length;)t.nodes[o].x>=n&&t.nodes[o].x<=a?t.nodes.splice(o,1):o++;e.addPoint(n,r,.5,0),e.addPoint(a,i,.5,0)},e.getValue=function(t){var n=[];return e.getTable(t,t,1,n),n[0]},e.adjustRange=function(n){if(n.length<2)return 0;var r=e.getRange();r[0]<n[0]?e.addPoint(n[0],e.getValue(n[0])):e.addPoint(n[0],e.getValue(r[0])),r[1]>n[1]?e.addPoint(n[1],e.getValue(n[1])):e.addPoint(n[1],e.getValue(r[1])),e.sortAndUpdateRange();for(var a=0;a<t.nodes.length;)t.nodes[a].x>=n[0]&&t.nodes[a].x<=n[1]?t.nodes.splice(a,1):++a;return e.sortAndUpdateRange(),1},e.estimateMinNumberOfSamples=function(t,n){var r=e.findMinimumXDistance();return Math.ceil((n-t)/r)},e.findMinimumXDistance=function(){var e=t.nodes.length;if(e<2)return-1;for(var n=t.nodes[1].x-t.nodes[0].x,r=0;r<e-1;r++){var a=t.nodes[r+1].x-t.nodes[r].x;a<n&&(n=a)}return n},e.getTable=function(e,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=void 0,s=0,u=t.nodes.length,l=0;0!==u&&(l=t.nodes[u-1].y);var c=0,d=0,f=0,m=0,g=0,p=0,v=0;for(o=0;o<r;o++){var h=i*o;for(c=r>1?e+o/(r-1)*(n-e):.5*(e+n);s<u&&c>t.nodes[s].x;)++s<u&&(d=t.nodes[s-1].x,f=t.nodes[s].x,m=t.nodes[s-1].y,g=t.nodes[s].y,p=t.nodes[s-1].midpoint,v=t.nodes[s-1].sharpness,p<1e-5&&(p=1e-5),p>.99999&&(p=.99999));if(s>=u)a[h]=t.clamping?l:0;else if(0===s)a[h]=t.clamping?t.nodes[0].y:0;else{var y=(c-d)/(f-d);if(y=y<p?.5*y/p:.5+.5*(y-p)/(1-p),v>.99){if(y<.5){a[h]=m;continue}a[h]=g;continue}if(v<.01){a[h]=(1-y)*m+y*g;continue}y<.5?y=.5*Math.pow(2*y,1+10*v):y>.5&&(y=1-.5*Math.pow(2*(1-y),1+10*v));var A=y*y,S=A*y,T=2*S-3*A+1,M=-2*S+3*A,b=S-2*A+y,D=S-A,I=g-m,w=(1-v)*I;a[h]=T*m+M*g+b*w+D*w;var C=m<g?m:g,N=m>g?m:g;a[h]=a[h]<C?C:a[h],a[h]=a[h]>N?N:a[h]}}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,u,n),o.default.obj(e,t),t.nodes=[],o.default.setGet(e,t,["allowDuplicateScalars","clamping"]),o.default.setArray(e,t,["range"],2),o.default.getArray(e,t,["range"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o.default.vtkErrorMacro,u={range:[0,0],clamping:!0,allowDuplicateScalars:!1},l=t.newInstance=o.default.newInstance(a,"vtkPiecewiseFunction");t.default=Object.assign({newInstance:l,extend:a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){if(r[0]=0,r[1]=0,r[2]=0,!(t<3)){var a=[],i=[],o=[];if(3===t)return n?(e.getPoint(n[0],a),e.getPoint(n[1],i),e.getPoint(n[2],o)):(e.getPoint(0,a),e.getPoint(1,i),e.getPoint(2,o)),void g.default.computeNormal(a,i,o,r);n?(e.getPoint(n[0],i),e.getPoint(n[1],o)):(e.getPoint(0,i),e.getPoint(1,o));for(var s=0;s<t;s++){var u=a;a=i,i=o,o=u,n?e.getPoint(n[(s+2)%t],o):e.getPoint((s+2)%t,o);var l=o[0]-i[0],c=o[1]-i[1],d=o[2]-i[2],m=a[0]-i[0],p=a[1]-i[1],v=a[2]-i[2];r[0]+=c*v-d*p,r[1]+=d*m-l*v,r[2]+=l*p-c*m}f.default.normalize(r)}}function i(e,t){t.classHierarchy.push("vtkPolygon")}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,v,n),c.default.extend(e,t,n),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=o;var s=n(0),u=r(s),l=n(51),c=r(l),d=n(1),f=r(d),m=n(122),g=r(m),p=t.STATIC={computeNormal:a},v={},h=t.newInstance=u.default.newInstance(o,"vtkPolygon");t.default=Object.assign({newInstance:h,extend:o},p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(n){e[""+n]=function(){var e,r,a,i,o=[];return o[2]=(e=t.renderWindowXY)[n].apply(e,arguments),o[0]=(r=t.renderWindowYZ)[n].apply(r,arguments),o[1]=(a=t.renderWindowXZ)[n].apply(a,arguments),o[3]=(i=t.renderWindow3D)[n].apply(i,arguments),o}}function r(n){e[""+n]=function(){var r,a,i,o=[];return o[2]=(r=t.renderWindowXY)[n].apply(r,arguments),o[0]=(a=t.renderWindowYZ)[n].apply(a,arguments),o[1]=(i=t.renderWindowXZ)[n].apply(i,arguments),e.render(),o}}t.classHierarchy.push("vtkMultiView");var a=[t.renderWindowYZ,t.renderWindowXZ,t.renderWindowXY,t.renderWindow3D];a.XY=t.renderWindowXY,a.YZ=t.renderWindowYZ,a.XZ=t.renderWindowXZ,a["3D"]=t.renderWindow3D,a.VR=t.renderWindowVR,a.ViewXY=t.renderWindowXY,a.ViewYZ=t.renderWindowYZ,a.ViewXZ=t.renderWindowXZ,a.View3D=t.renderWindow3D,a.ViewVR=t.renderWindowVR,function(n,r,i){e[n+"XY"]=t.renderWindowXY[n],e[n+"YZ"]=t.renderWindowYZ[n],e[n+"XZ"]=t.renderWindowXZ[n],e[n+"3D"]=t.renderWindow3D[n],e[n+"VR"]=t.renderWindow3D[n],e[n]=function(e){for(var t,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return a[e]?(t=a[e])[n].apply(t,i):null},e[n+"All"]=function(){var e,r,a,i,o=[];return o[2]=(e=t.renderWindowXY)[n].apply(e,arguments),o[0]=(r=t.renderWindowYZ)[n].apply(r,arguments),o[1]=(a=t.renderWindowXZ)[n].apply(a,arguments),o[3]=(i=t.renderWindow3D)[n].apply(i,arguments),o}}("getDomElement"),n("render"),n("updateView"),function(n){e[""+n]=function(){var e,r,a,i=[];return i[2]=(e=t.renderWindowXY)[n].apply(e,arguments),i[0]=(r=t.renderWindowYZ)[n].apply(r,arguments),i[1]=(a=t.renderWindowXZ)[n].apply(a,arguments),i}}("updateCornerTextByMousemove"),r("updateWindowLevel"),r("updateReslicePosition");var i=e.getDomElement;e.getDomElement=function(t){return"VR"===t||"ViewVR"===t?e.getDomElementVR():i(t)},e.getDomElementVR=function(){return t.renderWindowVR?t.renderWindowVR.getInView3D()?null:t.renderWindowVR.getDomElement():null},e.renderIf=function(n){if(!n)return void e.render();n.ViewYZ&&t.renderWindowYZ.render(),n.ViewXZ&&t.renderWindowXZ.render(),n.ViewXY&&t.renderWindowXY.render(),n.View3D&&t.renderWindow3D.render(),n.ViewVR&&t.renderWindowVR&&t.renderWindowVR.render()},e.initSceneAll=function(){if(t.renderWindowXY.initScene(),t.renderWindowYZ.initScene(),t.renderWindowXZ.initScene(),t.renderWindow3D.initScene(),t.renderWindowVR)if(t.renderWindowVR.getInView3D()){var e=t.renderWindow3D.getContainer();t.renderWindowVR.initScene(e)}else t.renderWindowVR.initScene()},e.updateWindowSize=function(){t.renderWindowXY.updateWindowSize(),t.renderWindowYZ.updateWindowSize(),t.renderWindowXZ.updateWindowSize(),t.renderWindow3D.updateWindowSize(),t.renderWindowVR&&t.renderWindowVR.updateWindowSize()},e.resetCamera=function(){t.renderWindowXY.resetCamera(),t.renderWindowYZ.resetCamera(),t.renderWindowXZ.resetCamera(),t.renderWindow3D.resetCamera(),t.renderWindowVR&&t.renderWindowVR.resetCamera()},e.getAllViews=function(){return[t.renderWindowYZ,t.renderWindowXZ,t.renderWindowXY,t.renderWindow3D]},e.get2DViews=function(){return[t.renderWindowYZ,t.renderWindowXZ,t.renderWindowXY]},e.get3DView=function(){return t.renderWindow3D},e.getVRView=function(){return t.renderWindowVR},e.getRenderWindow=function(e){return a[e]},e.getActiveView=function(){return a.find(function(e){return e.getOrientation()===t.activeWindow})},e.setActiveView=function(e){t.activeWindow=e.getOrientation()},e.getStyleMode2D=function(){var e=t.renderWindowXY.getInteractor();return e?e.getInteractorStyle().getStyleMode():0},e.setStyleMode2D=function(t){t<0||t>2||e.get2DViews().forEach(function(e){e.getInteractor().getInteractorStyle().setStyleMode(t)})},e.getStyleMode3D=function(){var e=(t.renderWindowVR||t.renderWindow3D).getInteractor();return e?e.getInteractorStyle().getStyleMode():3},e.setStyleMode3D=function(e){if(!(e<2||e>3)){var n=(t.renderWindowVR||t.renderWindow3D).getInteractor();n&&n.getInteractorStyle().setStyleMode(e)}},e.getCurrentSlices=function(){var e=D.DataManagement.getVisibleRootIndex();if(e<0)return[0,0,0];var n=D.DataManagement.getData(e);if(!n)return[0,0,0];var r=t.reslicePosition,a=n.getOrigin(),i=n.getSpacing(),o=Math.floor((r[2]-a[2])/i[2]+.5),s=Math.floor((r[1]-a[1])/i[1]+.5);return[Math.floor((r[0]-a[0])/i[0]+.5),s,o]},e.position2Slices=function(e,t){var n=t||[];n&&(n[0]=0,n[1]=0,n[2]=0);var r=D.DataManagement.getVisibleRootIndex();if(r<0)return!1;var a=D.DataManagement.getData(r);if(!a)return!1;var i=a.getOrigin(),o=a.getSpacing(),s=a.getDimensions();return n[0]=Math.floor((e[0]-i[0])/o[0]+.5),n[1]=Math.floor((e[1]-i[1])/o[1]+.5),n[2]=Math.floor((e[2]-i[2])/o[2]+.5),n[0]>=0&&n[0]<s[0]&&n[1]>=0&&n[1]<s[1]&&n[2]>=0&&n[2]<s[2]},e.volumeRender=function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!!n!=!!e.isVolumeRender()){var a=t.renderWindowVR||t.renderWindow3D,i=D.DataManagement.getVisibleRootIndex();if(!n){var o=a.getMapperByClassNameAndNodeIndex("yVolumeRenderingMapper",i);return o.isVolumeControllerVisible()&&o.setVolumeControllerVisible(!1),o.uninstallPipeline(),a.removeMapperDirect(o),void a.render()}var s=T.default.newInstance();s.setNodeIndex(i),s.setOrientation(a.getOrientation()),s.installPipeline(),a.addMapper(s),a.resetCamera(),r&&a.render()}},e.isVolumeRender=function(){var e=t.renderWindowVR||t.renderWindow3D,n=D.DataManagement.getVisibleRootIndex();return!!e.getMapperByClassNameAndNodeIndex("yVolumeRenderingMapper",n)},e.toggleVolumeControllerVisible=function(){var e=t.renderWindowVR||t.renderWindow3D,n=D.DataManagement.getVisibleRootIndex(),r=e.getMapperByClassNameAndNodeIndex("yVolumeRenderingMapper",n);if(r){var a=r.isVolumeControllerVisible();r.setVolumeControllerVisible(!a)}},e.isVolumeControllerVisible=function(){var e=t.renderWindowVR||t.renderWindow3D,n=D.DataManagement.getVisibleRootIndex(),r=e.getMapperByClassNameAndNodeIndex("yVolumeRenderingMapper",n);return!!r&&r.isVolumeControllerVisible()},e.isCornerTextVisible=function(){return t.renderWindowXY.getCornerTextVisible()},e.setCornerTextVisible=function(e){t.renderWindowXY.setCornerTextVisible(e),t.renderWindowYZ.setCornerTextVisible(e),t.renderWindowXZ.setCornerTextVisible(e)},e.toggleCornerTextVisible=function(){var e=t.renderWindowXY.getCornerTextVisible();t.renderWindowXY.setCornerTextVisible(!e),t.renderWindowYZ.setCornerTextVisible(!e),t.renderWindowXZ.setCornerTextVisible(!e)},e.isCrossLineVisible=function(){return t.renderWindowXY.getCrossLineVisible()},e.setCrossLineVisible=function(e){t.renderWindowXY.setCrossLineVisible(e),t.renderWindowYZ.setCrossLineVisible(e),t.renderWindowXZ.setCrossLineVisible(e)},e.toggleCrossLineVisible=function(){var e=t.renderWindowXY.getCrossLineVisible();t.renderWindowXY.setCrossLineVisible(!e),t.renderWindowYZ.setCrossLineVisible(!e),t.renderWindowXZ.setCrossLineVisible(!e)},e.getWindowLevelInfo=function(){var e={max:3e3,min:-3e3,window:t.windowLevel[0],level:t.windowLevel[1]},n=D.DataManagement.getVisibleRootIndex();if(n<0)return e;var r=D.DataManagement.getData(n);if(!r)return e;var a=r.getPointData().getScalars()||r.getPointData().getArrays()[0],i=a.getRange();return e.max=i[1],e.min=i[0],e.level<e.min&&(e.level=e.min),e.level>e.max&&(e.level=e.max),e.window<0&&(e.window=0),e},e.setWindowLevel=function(n,r){var a=n,i=r,o=e.getWindowLevelInfo();i<o.min&&(i=o.min),i>o.max&&(i=o.max),a<0&&(a=0),t.windowLevel[0]=a,t.windowLevel[1]=i,e.updateWindowLevel()},e.resetWindowLevel=function(){var n=D.DataManagement.getVisibleRootIndex(),r=D.DataManagement.getResetWindowLevel(n);r&&2===r.length&&(t.windowLevel[0]=r[0],t.windowLevel[1]=r[1],e.updateWindowLevel())},e.getWindowLevelPresets=function(){return M.WindowLevelPresets},e.applyWindowLevelPreset=function(n){if(!M.WindowLevelPresets[n])return!1;var r=M.WindowLevelPresets[n];return t.windowLevel[0]=r.windowLevel[0],t.windowLevel[1]=r.windowLevel[1],e.updateWindowLevel(),!0},e.getVolumeRenderPresets=function(e){if(!e)return M.VolumeRenderPresets;var t={},n=e.toUpperCase();return Object.keys(M.VolumeRenderPresets).forEach(function(e){var r=M.VolumeRenderPresets[e];n.indexOf(r.class)>=0&&(t[e]=r)}),t},e.getVolumeRenderPresets2=function(){return l.default.rgbPresetNames},e.applyVolumeRenderPreset=function(e){if(!M.VolumeRenderPresets[e]&&!l.default.getPresetByName(e))return!1;var n=t.renderWindowVR||t.renderWindow3D,r=D.DataManagement.getVisibleRootIndex(),a=n.getMapperByClassNameAndNodeIndex("yVolumeRenderingMapper",r);return!!a&&(l.default.getPresetByName(e)?(a.updateTransferFunction2(e),n.render(),!0):(a.updateTransferFunction(e),n.render(),!0))},e.applyVolumeRenderPresetByMapper=function(e,t){if((M.VolumeRenderPresets[e]||l.default.getPresetByName(e))&&t)return l.default.getPresetByName(e)?void t.updateTransferFunction2(e):void t.updateTransferFunction(e)},e.resetCamera2D=function(){t.renderWindowXY.resetCamera(),t.renderWindowYZ.resetCamera(),t.renderWindowXZ.resetCamera()},e.resetCamera3D=function(){t.renderWindow3D.resetCamera(),t.renderWindowVR&&t.renderWindowVR.resetCamera()},e.saveScreenshot=function(e,t){var n=a[e];if(!n)return!1;var r=window.document.createElement("a");r.download=-1!==t.indexOf(".")?t:t+".jpg";var i=r.download.indexOf("."),o=i<0?"jpg":r.download.substr(i+1);o=o.toLowerCase();var s={jpg:"image/jpg",jpeg:"image/jpg",png:"image/png",gif:"image/gif",bmp:"image/bmp"},u=s[o]||"image/jpg";return n.captureImage(u).then(function(e){r.href=e,r.target="_blank",r.click()},function(e){}),!0},e.isSlice3DVisible=function(e){var t=a[e];if(!t)return!1;var n=D.DataManagement.getVisibleRootIndex();if("vtkRenderWindow3D"!==t.getClassName()){var r=t.getMapperByClassNameAndNodeIndex("yImageNodeMapToPlane",n);return!!r&&r.isImageActor3DVisible()}var i=a[0].getMapperByClassNameAndNodeIndex("yImageNodeMapToPlane",n);if(i&&i.isImageActor3DVisible())return!0;var o=a[1].getMapperByClassNameAndNodeIndex("yImageNodeMapToPlane",n);if(o&&o.isImageActor3DVisible())return!0;var s=a[2].getMapperByClassNameAndNodeIndex("yImageNodeMapToPlane",n);return s&&s.isImageActor3DVisible()},e.setSlice3DVisible=function(t,n){var r=a[t];if(r){var i=D.DataManagement.getVisibleRootIndex();if("vtkRenderWindow3D"!==r.getClassName()){var o=r.getMapperByClassNameAndNodeIndex("yImageNodeMapToPlane",i);if(!o)return;return o.setImageActor3DVisible(n),a[3].render(),void(a.VR&&a.VR.render())}e.get2DViews().forEach(function(e){var t=e.getMapperByClassNameAndNodeIndex("yImageNodeMapToPlane",i);t&&t.setImageActor3DVisible(n)}),a[3].render(),a.VR&&a.VR.render()}},e.toggleSlice3DVisible=function(t){var n=e.isSlice3DVisible(t);e.setSlice3DVisible(t,!n)},e.getSliceInfo=function(e){var n={min:0,max:0,slice:0};if(!a[e])return n;var r=a[e].getOrientation();if(r>=3)return n;var i=D.DataManagement.getVisibleRootIndex();if(i<0)return n;var o=D.DataManagement.getData(i);if(!o)return n;var s=t.reslicePosition,u=o.getOrigin(),l=o.getSpacing(),c=o.getDimensions(),d=Math.floor((s[2]-u[2])/l[2]+.5),f=Math.floor((s[1]-u[1])/l[1]+.5),m=Math.floor((s[0]-u[0])/l[0]+.5),g=[m,f,d];return n.min=0,n.max=c[r]-1,n.slice=g[r],n},e.setSlice=function(n,r){if(a[n]){var i=a[n].getOrientation();if(!(i>=3)){var o=D.DataManagement.getVisibleRootIndex();if(!(o<0)){var s=D.DataManagement.getData(o);if(s){var u=s.getOrigin(),l=s.getSpacing(),c=s.getDimensions(),d=Math.floor(r+.5);d<0&&(d=0),d>=c[i]&&(d=c[i]-1),t.reslicePosition[i]=u[i]+d*l[i],e.updateReslicePosition(),D.MultiView.onCallback("SliceChanged2",[n])}}}}},e.getBackgroundColors=function(){var e=t.renderWindow3D;return e?{bgColor1:e.getBackground(),bgColor2:e.getBackground2(),textColor:e.getTextColor()}:null},e.setBackgroundColors=function(e,n,r){var a=t.renderWindow3D;a&&(e&&a.setBackground(e),n&&a.setBackground2(n),r&&a.setTextColor(r),a.updateBackgrondColor(),a.render())},e.getTexturedBackground3D=function(){var e=t.renderWindow3D;return!!e&&e.getTexturedBackground()},e.setTexturedBackground3D=function(e){var n=t.renderWindow3D;if(n){n.setTexturedBackground(!!e),n.updateBackgrondColor(),n.render();var r=t.renderWindowVR;r&&(r.setTexturedBackground(!!e),r.updateBackgrondColor(),r.render())}},e.setActiveWindow=function(e,n){if(a[e]){var r=a[e].getOrientation(),i=t.activeWindow;t.activeWindow=r,n||i===r||D.MultiView.updateCornerTextByMousemove()}},e.getDicomInfoVisible=function(){return t.renderWindowXY.getDicomInfoVisible()},e.setDicomInfoVisible=function(e){t.renderWindowXY.setDicomInfoVisible(e),t.renderWindowYZ.setDicomInfoVisible(e),t.renderWindowXZ.setDicomInfoVisible(e)},e.isVRWindowVisible=function(){return!!t.renderWindowVR&&"block"===t.renderWindowVR.getOpenGLRenderWindow().getCanvas().style.display},e.is3DWindowVisible=function(){return!!t.renderWindow3D&&"block"===t.renderWindow3D.getOpenGLRenderWindow().getCanvas().style.display},e.setVRWindowVisible=function(e){if(t.renderWindowVR){var n=t.renderWindowVR.getOpenGLRenderWindow(),r=n.getCanvas();e?(D.MultiView.onCallback("WaitingLock",!0),r.style.display="block",n.setUseOffScreen(!1),t.renderWindowVR.getInteractor().getCanvas()!==t.renderWindowVR.getContainer()&&t.renderWindowVR.getInteractor().bindEvents(t.renderWindowVR.getContainer()),t.renderWindowVR.updateWindowSize(),D.MultiView.onCallback("WaitingLock",!1)):(r.style.display="none",n.setUseOffScreen(!0),t.renderWindowVR.getInteractor().getCanvas()&&t.renderWindowVR.getInteractor().unbindEvents())}},e.set3DWindowVisible=function(e){if(t.renderWindow3D){var n=t.renderWindow3D.getOpenGLRenderWindow(),r=n.getCanvas();e?(t.renderWindowVR||D.MultiView.onCallback("WaitingLock",!0),r.style.display="block",n.setUseOffScreen(!1),t.renderWindow3D.getInteractor().getCanvas()!==t.renderWindow3D.getContainer()&&t.renderWindow3D.getInteractor().bindEvents(t.renderWindow3D.getContainer()),t.renderWindow3D.updateWindowSize(),t.renderWindowVR||D.MultiView.onCallback("WaitingLock",!1)):(r.style.display="none",n.setUseOffScreen(!0),t.renderWindow3D.getInteractor().getCanvas()&&t.renderWindow3D.getInteractor().unbindEvents())}},e.switchToVRWindow=function(e){if(t.renderWindowVR){var n=t.renderWindow3D.getOpenGLRenderWindow(),r=n.getCanvas(),a=t.renderWindowVR.getOpenGLRenderWindow(),i=a.getCanvas();e?(r.style.display="none",n.setUseOffScreen(!0),t.renderWindow3D.getInteractor().getCanvas()&&t.renderWindow3D.getInteractor().unbindEvents(),i.style.display="block",a.setUseOffScreen(!1),t.renderWindowVR.getInteractor().getCanvas()!==t.renderWindowVR.getContainer()&&t.renderWindowVR.getInteractor().bindEvents(t.renderWindowVR.getContainer()),t.renderWindowVR.updateWindowSize()):(i.style.display="none",a.setUseOffScreen(!0),t.renderWindowVR.getInteractor().getCanvas()&&t.renderWindowVR.getInteractor().unbindEvents(),r.style.display="block",n.setUseOffScreen(!1),t.renderWindow3D.getInteractor().getCanvas()!==t.renderWindow3D.getContainer()&&t.renderWindow3D.getInteractor().bindEvents(t.renderWindow3D.getContainer()),t.renderWindow3D.updateWindowSize())}},e.registerCallback=t.callbacks.registerCallback,e.unregisterCallback=t.callbacks.unregisterCallback,e.getCallback=t.callbacks.getCallback,e.onCallback=t.callbacks.onCallback,e.configLights=function(e){t.renderWindow3D&&t.renderWindow3D.configLights(e),t.renderWindowVR!==t.renderWindow3D&&t.renderWindowVR&&t.renderWindowVR.configLights(e)},e.getLightsOptions=function(){return t.renderWindow3D.getLightsOptions()},e.applyLightPreset=function(e){t.renderWindow3D&&t.renderWindow3D.applyLightPreset(e),t.renderWindowVR!==t.renderWindow3D&&t.renderWindowVR&&t.renderWindowVR.applyLightPreset(e)},e.getLightPreset=function(){return t.renderWindow3D.getLightPreset()},e.mergeUpdateFlags=function(e,t){e.ViewXY&&(t.ViewXY=!0),e.ViewYZ&&(t.ViewYZ=!0),e.ViewXZ&&(t.ViewXZ=!0),e.View3D&&(t.View3D=!0),e.ViewVR&&(t.ViewVR=!0)},e.updateViewByNode=function(n){var r={};if(a.forEach(function(t){var a=t.updateViewByNode(n);e.mergeUpdateFlags(a,r)}),t.renderWindowVR){var i=t.renderWindowVR.updateViewByNode(n);e.mergeUpdateFlags(i,r)}return r},e.updateViewByNodes=function(){var n={};if(a.forEach(function(t){var r=t.updateViewByNodes();e.mergeUpdateFlags(r,n)}),t.renderWindowVR){var r=t.renderWindowVR.updateViewByNodes();e.mergeUpdateFlags(r,n)}return n},e.updateNodeProperties=function(n){var r={};if(a.forEach(function(t){var a=t.updateNodeProperties(n);e.mergeUpdateFlags(a,r)}),t.renderWindowVR){var i=t.renderWindowVR.updateNodeProperties(n);e.mergeUpdateFlags(i,r)}return r},e.updateNodesAndRender=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t&&t.length>0){var r={},a=null;t.forEach(function(t){a=e.updateViewByNode(t),e.mergeUpdateFlags(a,r)}),n&&e.renderIf(r)}else if(!t){var i=e.updateViewByNodes();n&&e.renderIf(i)}},e.releaseAllData=function(){D.DataManagement.releaseAllData(),D.ToolManager.releaseAllData(),D.RemoteData.releaseAllData(),D.DataManagement.updateCallbacks(),a.forEach(function(e){e.releaseAllData()}),e.render(),t.renderWindowVR&&(t.renderWindowVR.releaseAllData(),t.renderWindowVR.render())}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,w,n),s.default.obj(e,t),t.renderWindowXY=d.default.newInstance(),t.renderWindowXY.setOrientation(b.OrientationXY),t.renderWindowXY.setViewName("ViewXY"),t.renderWindowYZ=d.default.newInstance(),t.renderWindowYZ.setOrientation(b.OrientationYZ),t.renderWindowYZ.setViewName("ViewYZ"),t.renderWindowXZ=d.default.newInstance(),t.renderWindowXZ.setOrientation(b.OrientationXZ),t.renderWindowXZ.setViewName("ViewXZ"),t.renderWindow3D=m.default.newInstance(),t.renderWindow3D.setOrientation(b.Orientation3D),t.renderWindow3D.setViewName("View3D"),I.USE_VR_WINDOW&&(t.renderWindowVR=p.default.newInstance(),t.renderWindowVR.setInView3D(I.USE_VR_INVIEW3D),t.renderWindowVR.setOrientation(b.Orientation3D),t.renderWindowVR.setViewName("ViewVR")),t.nodeOps=h.default.newInstance(),t.callbacks=A.default.newInstance(),s.default.get(e,t,["renderWindowXY","renderWindowYZ","renderWindowXZ","renderWindow3D","renderWindowVR","nodeOps","callbacks"]),s.default.setGetArray(e,t,["windowLevel"],2),s.default.setGetArray(e,t,["reslicePosition","displayPosition"],3),s.default.setGetArray(e,t,["resliceBound"],6),s.default.setGet(e,t,["activeWindow","mousemoveWindow"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(91),l=r(u),c=n(207),d=r(c),f=n(227),m=r(f),g=n(229),p=r(g),v=n(230),h=r(v),y=n(434),A=r(y),S=n(231),T=r(S),M=n(142),b={OrientationYZ:0,OrientationXZ:1,OrientationXY:2,Orientation3D:3},D=s.default.GlobalObjects,I=s.default.GlobalOptions,w={renderWindowXY:null,renderWindowYZ:null,renderWindowXZ:null,renderWindow3D:null,renderWindowVR:null,nodeOps:null,callbacks:null,activeWindow:-1,mousemoveWindow:-1,windowLevel:[255,177],reslicePosition:[0,0,0],resliceBound:[0,0,0,0,0,0],displayPosition:[0,0,0]},C=t.newInstance=s.default.newInstance(i,"vtkMultiView");t.default={newInstance:C,extend:i,Orientation:b}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yInteractorStyleRubberBandPick"),e.getValidStyleMode=function(){var e=c.DataManagement.getVisibleRootIndex();return t.ycmRenderWindow.getMapperByClassNameAndNodeIndex("yVolumeRenderingMapper",e)?t.styleMode:d.VTKISRBP_PICK},e.setStyleMode=function(e){var n=c.DataManagement.getVisibleRootIndex(),r=t.ycmRenderWindow.getMapperByClassNameAndNodeIndex("yVolumeRenderingMapper",n);t.styleMode=r?e:d.VTKISRBP_PICK},e.superHandleMouseMove=e.handleMouseMove,e.handleMouseMove=function(n){c.MultiView.setMousemoveWindow(t.ycmRenderWindow.getOrientation());var r=n.position,a=n.pokedRenderer;e.getValidStyleMode()===d.VTKISRBP_WINDOWLEVEL?e.windowLevel(a,r):e.superHandleMouseMove(n)},e.superHandleLeftButtonPress=e.handleLeftButtonPress,e.handleLeftButtonPress=function(n){var r=c.MultiView.getActiveWindow();c.MultiView.setActiveWindow(t.ycmRenderWindow.getOrientation(),!0),r!==t.ycmRenderWindow.getOrientation()&&c.MultiView.updateCornerTextByMousemove();var a=n.position;if(t.moving=!1,e.getValidStyleMode()===d.VTKISRBP_WINDOWLEVEL){t.windowLevelStartPosition[0]=a.x,t.windowLevelStartPosition[1]=a.y;var i=c.DataManagement.getVisibleRootIndex();if(i<0)return;var o=c.DataManagement.getNodeProperty(i,"volume_window"),s=c.DataManagement.getNodeProperty(i,"volume_level");t.windowLevelStart[0]=o,t.windowLevelStart[1]=s,t.moving=!0}else e.superHandleLeftButtonPress(n);c.MultiView.onCallback("LeftButtonPress",{orientation:t.ycmRenderWindow.getOrientation(),position:a})},e.superHandleLeftButtonRelease=e.handleLeftButtonRelease,e.handleLeftButtonRelease=function(n){t.moving=!1,e.getValidStyleMode()===d.VTKISRBP_WINDOWLEVEL||e.superHandleLeftButtonRelease(n)},e.handleMiddleButtonPress=function(n){var r=c.MultiView.getActiveWindow();c.MultiView.setActiveWindow(t.ycmRenderWindow.getOrientation(),!0),r!==t.ycmRenderWindow.getOrientation()&&c.MultiView.updateCornerTextByMousemove(),e.startPan()},e.handleMiddleButtonRelease=function(t){e.endPan()},e.handleRightButtonPress=function(e){var n=c.MultiView.getActiveWindow();c.MultiView.setActiveWindow(t.ycmRenderWindow.getOrientation(),!0),n!==t.ycmRenderWindow.getOrientation()&&c.MultiView.updateCornerTextByMousemove()},e.windowLevel=function(e,n){if(t.moving){var r=c.DataManagement.getVisibleRootIndex(),a=t.ycmRenderWindow.getMapperByClassNameAndNodeIndex("yVolumeRenderingMapper",r);if(a){var i=a.getWindowLevelRange(),o=i[1]-i[0],s=t.windowLevelStart[0],u=t.windowLevelStart[1],l=.5*(n.x-t.windowLevelStartPosition[0]),d=.5*(t.windowLevelStartPosition[1]-n.y);d*=.01*s,Math.abs(d)>25&&(d=25*(d<0?-1:1));var f=-d+s,m=u+l;Math.abs(f)<.01&&(f=.01*(f<0?-1:1)),Math.abs(m)<.01&&(m=.01*(m<0?-1:1)),f<1&&(f=1),f>o&&(f=o),m<i[0]&&(m=i[0]),m>i[1]&&(m=i[1]),t.windowLevelStartPosition[0]=n.x,t.windowLevelStartPosition[1]=n.y,t.windowLevelStart[0]=f,t.windowLevelStart[1]=m,a.updateWindowLevel([f,m]),t.ycmRenderWindow.render()}}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),l.default.extend(e,t,n),s.default.setGet(e,t,["styleMode","ycmRenderWindow"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(129),l=r(u),c=s.default.GlobalObjects,d={VTKISRBP_WINDOWLEVEL:2,VTKISRBP_PICK:3},f={styleMode:d.VTKISRBP_PICK,ycmRenderWindow:null,windowLevelStartPosition:[0,0],windowLevelStart:[0,0],moving:!1},m=t.newInstance=s.default.newInstance(i,"yInteractorStyleRubberBandPick");t.default=Object.assign({newInstance:m,extend:i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.WindowLevelPresets={ABDOMEN_SOFT_TISSUE:{nameEn:"Abdomen Soft Tissue",nameZh:"",windowLevel:[400,0]},BONE_1:{nameEn:"Bone 1",nameZh:"1",windowLevel:[2e3,0]},PLEURA:{nameEn:"Pleura",nameZh:"",windowLevel:[350,60]},ISCHEMIA_HARD_NON_CONTRAST:{nameEn:"Ischemia-Hard Non-Contrast",nameZh:"-",windowLevel:[15,32]},LIVER:{nameEn:"Liver",nameZh:"",windowLevel:[2e3,-500]},EMPHYSEMA:{nameEn:"Emphysema",nameZh:"",windowLevel:[500,-850]},LUNG:{nameEn:"Lung",nameZh:"",windowLevel:[1500,-650]},MEDIASTINUM:{nameEn:"Mediastinum",nameZh:"",windowLevel:[350,25]},SOFT_TISSUE_1:{nameEn:"Soft Tissue 1",nameZh:"1",windowLevel:[300,30]},SOFT_TISSUE_2:{nameEn:"Soft Tissue 2",nameZh:"2",windowLevel:[400,40]},VASCULATURE_HARD:{nameEn:"Vasculature-Hard",nameZh:"- ",windowLevel:[240,80]},BONE_2:{nameEn:"Bone 2",nameZh:"2",windowLevel:[1111,300]},BONE_3:{nameEn:"Bone 3",nameZh:"3",windowLevel:[2e3,300]},ISCHEMIA_SOFT_NON_CONTRAST:{nameEn:"Ischemia-Soft Non-Contrast",nameZh:"-",windowLevel:[80,20]}},a=t.VolumeRenderPresets={31606:{nameEn:"MR-Generic",nameZh:"",class:"MR",data:"0,0,0,0;20,0.168627,0,0;40,0.403922,0.145098,0.0784314;120,0.780392,0.607843,0.380392;220,0.847059,0.835294,0.788235;1024,1.000000,1.000000,1.000000/0,0;20,0;40,0.15;120,0.3;220,0.375;1024,0.5/0,1;255,1"},31626:{nameEn:"MR-Angio",nameZh:"",class:"MR",data:"-2048, 0, 0, 0; 151.354, 0, 0, 0; 158.279, 0.74902, 0.376471, 0; 190.112, 1, 0.866667, 0.733333; 200.873, 0.937255, 0.937255, 0.937255; 3661, 1, 1, 1/-2048, 0; 151.354, 0; 158.279, 0.4375; 190.112, 0.580357; 200.873, 0.732143; 3661, 0.741071/0,1;255,1"},31627:{nameEn:"MR-MIP",nameZh:"",class:"MR",data:"0, 1, 1, 1; 98.3725, 1, 1, 1; 416.637, 1, 1, 1; 2800, 1, 1, 1/0, 0; 98.3725, 0; 416.637, 1; 2800, 1/0,1;255,1"},31628:{nameEn:"MR-T2-Brain",nameZh:"T2",class:"MR",data:"0, 0, 0, 0; 98.7223, 0.956863, 0.839216, 0.192157; 412.406, 0, 0.592157, 0.807843; 641, 1, 1, 1/0, 0; 36.05, 0; 218.302, 0.171429; 412.406, 1; 641, 1/0,1;255,1"},31603:{nameEn:"CT-Generic",nameZh:"",class:"CT",data:"176.881890,0.650980,0.000000,0.000000;239.427822,0.933333,0.000000,0.000000;301.973753,1.000000,0.800000,0.062745;495.866142,1.000000,0.905882,0.666667;677.249344,1.000000,0.800000,0.215686;808.595801,1.000000,1.000000,1.000000/132.108911,0.000000;197.063492,0.041333;1087.917989,0.700000/560.695000,1.000000"},31601:{nameEn:"CT Black & White",nameZh:"",class:"CT",data:"122.088929,0.352941,0.352941,0.352941;372.931034,1.000000,1.000000,1.000000/135.063521,0.0;948.137931,1.0/560.695000,1"},31619:{nameEn:"CT-Fat",nameZh:"",class:"CT",data:"-1000, 0.3, 0.3, 1; -497.5, 0.3, 1, 0.3; -99, 0, 0, 1; -76.946, 0, 1, 0; -65.481, 0.835431, 0.888889, 0.0165387; 83.89, 1, 0, 0; 463.28, 1, 0, 0; 659.15, 1, 0.912535, 0.0374849; 2952, 1, 0.300267, 0.299886/-1000, 0; -100, 0; -99, 0.15; -60, 0.15; -59, 0; 101.2, 0; 952, 0/0,1;255,1"},31620:{nameEn:"CT-Liver-Vasculature",nameZh:"",class:"CT",data:"-2048, 0, 0, 0; 149.113, 0, 0, 0; 157.884, 0.501961, 0.25098, 0; 339.96, 0.695386, 0.59603, 0.36886; 388.526, 0.854902, 0.85098, 0.827451; 1197.95, 1, 1, 1; 3661, 1, 1, 1/-2048, 0; 149.113, 0; 157.884, 0.482143; 339.96, 0.660714; 388.526, 0.830357; 1197.95, 0.839286; 3661, 0.848214/0,1;255,1"},31621:{nameEn:"CT-Lung",nameZh:"",class:"CT",data:"-1000, 0.3, 0.3, 1; -600, 0, 0, 1; -530, 0.134704, 0.781726, 0.0724558; -460, 0.929244, 1, 0.109473; -400, 0.888889, 0.254949, 0.0240258; 2952, 1, 0.3, 0.3/-1000, 0; -600, 0; -599, 0.15; -400, 0.15; -399, 0; 2952, 0/0,1;255,1"},31622:{nameEn:"CT-MIP",nameZh:"",class:"CT",data:"-3024, 0, 0, 0; -637.62, 1, 1, 1; 700, 1, 1, 1; 3071, 1, 1, 1/-3024, 0; -637.62, 0; 700, 1; 3071, 1/0,1;255,1"},31623:{nameEn:"CT-Muscle",nameZh:"",class:"CT",data:"-3024, 0, 0, 0; -155.407, 0.54902, 0.25098, 0.14902; 217.641, 0.882353, 0.603922, 0.290196; 419.736, 1, 0.937033, 0.954531; 3071, 0.827451, 0.658824, 1/-3024, 0; -155.407, 0; 217.641, 0.676471; 419.736, 0.833333; 3071, 0.803922/0,1;255,1"},31624:{nameEn:"CT-Pulmonary-Arteries",nameZh:"",class:"CT",data:"-2048, 0, 0, 0; -568.625, 0, 0, 0; -364.081, 0.396078, 0.301961, 0.180392; -244.813, 0.611765, 0.352941, 0.0705882; 18.2775, 0.843137, 0.0156863, 0.156863; 447.798, 0.752941, 0.752941, 0.752941; 3592.73, 1, 1, 1/-2048, 0; -568.625, 0; -364.081, 0.0714286; -244.813, 0.401786; 18.2775, 0.607143; 447.798, 0.830357; 3592.73, 0.839286/0,1;255,1"},31625:{nameEn:"CT-Soft-Tissue",nameZh:"",class:"CT",data:"-2048, 0, 0, 0; -167.01, 0, 0, 0; -160, 0.0556356, 0.0556356, 0.0556356; 240, 1, 1, 1; 3661, 1, 1, 1/-2048, 0; -167.01, 0; -160, 1; 240, 1; 3661, 1/0,1;255,1"},31602:{nameEn:"CT-Bone1",nameZh:"1",class:"CT",data:"312.382940,1.000000,0.564706,0.274510;455.103448,1.000000,0.945098,0.768627;623.773140,1.000000,0.800000,0.333333;796.767695,1.0,0.901961,0.815686;930.838475,1.000000,1.000000,1.000000;1073.558984,1.000000,0.772549,0.423529;1220.604356,1.000000,0.772549,0.490196/126.413793,0.000000;178.312160,0.014663;247.509982,0.000000;1013.010889,1.000000/485.377495,1.000000"},31609:{nameEn:"CT-Bone2",nameZh:"2",class:"CT",data:"-1000, 0.3, 0.3, 1; -488, 0.3, 1, 0.3; 463.28, 1, 0, 0; 659.15, 1, 0.912535, 0.0374849; 953, 1, 0.3, 0.3/-1000, 0; 152.19, 0; 278.93, 0.190476; 952, 0.2/0,1;255,1"},31618:{nameEn:"CT-Cropped-Volume-Bone",nameZh:"",class:"CT",data:"-2048, 0, 0, 0; -451, 0, 0, 0; -450, 0.0556356, 0.0556356, 0.0556356; 1050, 1, 1, 1; 3661, 1, 1, 1/-2048, 0; -451, 0; -450, 1; 1050, 1; 3661, 1/0,1;255,1"},31604:{nameEn:"CT Thorax Large",nameZh:"",class:"CT",data:"85.382743,0.478431,0.000000,0.000000;198.201327,0.933333,0.000000,0.000000;254.610619,1.000000,0.800000,0.062745;336.0907085,1.000000,0.905882,0.666667;630.672566,1.000000,1.000000,1.000000/76.721239,0.000000;139.524336,0.000000;274.458333,0.228650;638.420139,0.721763/560.695000,1.000000"},31605:{nameEn:"CT Thorax Small",nameZh:"",class:"CT",data:"129.607774,0.478431,0.000000,0.000000;213.812721,0.933333,0.000000,0.000000;348.540636,1.000000,0.800000,0.062745;500.419118,1.000000,0.898039,0.776471;579.268382,1.000000,1.000000,1.000000/147.216912,0.000000;274.458333,0.228650;430.330882,0.675532/560.695000,1.000000"},31613:{nameEn:"CT-Chest-Contrast-Enhanced",nameZh:"",class:"CT",data:"-3024, 0, 0, 0; 67.0106, 0.54902, 0.25098, 0.14902; 251.105, 0.882353, 0.603922, 0.290196; 439.291, 1, 0.937033, 0.954531; 3071, 0.827451, 0.658824, 1/-3024, 0; 67.0106, 0; 251.105, 0.446429; 439.291, 0.625; 3071, 0.616071/0,1;255,1"},31614:{nameEn:"CT-Chest-Vessels",nameZh:"",class:"CT",data:"-3024, 0, 0, 0; -1278.35, 0.54902, 0.25098, 0.14902; 22.8277, 0.882353, 0.603922, 0.290196; 439.291, 1, 0.937033, 0.954531; 3071, 0.827451, 0.658824, 1/-3024, 0; -1278.35, 0; 22.8277, 0.428571; 439.291, 0.625; 3071, 0.616071/0,1;255,1"},31607:{nameEn:"CT-AAA1",nameZh:"1",class:"CT",data:"-3024, 0, 0, 0; 143.556, 0.615686, 0.356863, 0.184314; 166.222, 0.882353, 0.603922, 0.290196; 214.389, 1, 1, 1; 419.736, 1, 0.937033, 0.954531; 3071, 0.827451, 0.658824, 1/-3024, 0; 143.556, 0; 166.222, 0.686275; 214.389, 0.696078; 419.736, 0.833333; 3071, 0.803922/0,1;255,1"},31608:{nameEn:"CT-AAA2",nameZh:"2",class:"CT",data:"-3024, 0, 0, 0; 129.542, 0.54902, 0.25098, 0.14902; 145.244, 0.6, 0.627451, 0.843137; 157.02, 0.890196, 0.47451, 0.6; 169.918, 0.992157, 0.870588, 0.392157; 395.575, 1, 0.886275, 0.658824; 1578.73, 1, 0.829256, 0.957922; 3071, 0.827451, 0.658824, 1/-3024, 0; 129.542, 0; 145.244, 0.166667; 157.02, 0.5; 169.918, 0.627451; 395.575, 0.8125; 1578.73, 0.8125; 3071, 0.8125/0,1;255,1"},31610:{nameEn:"CT-Cardiac1",nameZh:"1",class:"CT",data:"-3024, 0, 0, 0; -77.6875, 0.54902, 0.25098, 0.14902; 94.9518, 0.882353, 0.603922, 0.290196; 179.052, 1, 0.937033, 0.954531; 260.439, 0.615686, 0, 0; 3071, 0.827451, 0.658824, 13/-3024, 0; -77.6875, 0; 94.9518, 0.285714; 179.052, 0.553571; 260.439, 0.848214; 3071, 0.875/0,1;255,1"},31611:{nameEn:"CT-Cardiac2",nameZh:"2",class:"CT",data:"-3024, 0, 0, 0; 42.8964, 0.54902, 0.25098, 0.14902; 163.488, 0.917647, 0.639216, 0.0588235; 277.642, 1, 0.878431, 0.623529; 1587, 1, 1, 1; 3071, 0.827451, 0.658824, 1/-3024, 0; 42.8964, 0; 163.488, 0.428571; 277.642, 0.776786; 1587, 0.754902; 3071, 0.754902/0,1;255,1"},31612:{nameEn:"CT-Cardiac3",nameZh:"3",class:"CT",data:"-3024, 0, 0, 0; -86.9767, 0, 0.25098, 1; 45.3791, 1, 0, 0; 139.919, 1, 0.894893, 0.894893; 347.907, 1, 1, 0.25098; 1224.16, 1, 1, 1; 3071, 0.827451, 0.658824, 1/-3024, 0; -86.9767, 0; 45.3791, 0.169643; 139.919, 0.589286; 347.907, 0.607143; 1224.16, 0.607143; 3071, 0.616071/0,1;255,1"},31615:{nameEn:"CT-Coronary-Arteries1",nameZh:"1",class:"CT",data:"-2048, 0, 0, 0; 136.47, 0, 0, 0; 159.215, 0.159804, 0.159804, 0.159804; 318.43, 0.764706, 0.764706, 0.764706; 478.693, 1, 1, 1; 3661, 1, 1, 1/-2048, 0; 136.47, 0; 159.215, 0.258929; 318.43, 0.571429; 478.693, 0.776786; 3661, 1/0,1;255,1"},31616:{nameEn:"CT-Coronary-Arteries2",nameZh:"2",class:"CT",data:"-2048, 0, 0, 0; 142.677, 0, 0, 0; 145.016, 0.615686, 0, 0.0156863; 192.174, 0.909804, 0.454902, 0; 217.24, 0.972549, 0.807843, 0.611765; 384.347, 0.909804, 0.909804, 1; 3661, 1, 1, 1/-2048, 0; 142.677, 0; 145.016, 0.116071; 192.174, 0.5625; 217.24, 0.776786; 384.347, 0.830357; 3661, 0.830357/0,1;255,1"},31617:{nameEn:"CT-Coronary-Arteries3",nameZh:"3",class:"CT",data:"-2048, 0, 0, 0; 128.643, 0, 0, 0; 129.982, 0.615686, 0, 0.0156863; 173.636, 0.909804, 0.454902, 0; 255.884, 0.886275, 0.886275, 0.886275; 584.878, 0.968627, 0.968627, 0.968627; 3661, 1, 1, 1/-2048, 0; 128.643, 0; 129.982, 0.0982143; 173.636, 0.669643; 255.884, 0.857143; 584.878, 0.866071; 3661, 1/0,1;255,1"}},i=t.OrganMarkNames={F_ORGANNAME_001:{color:[255,0,0],mark:"artery",nameEn:"Arterial",nameZh:""},F_ORGANNAME_002:{color:[0,0,255],mark:"Hepatic Vein",nameEn:"Vein",nameZh:""},F_ORGANNAME_003:{color:[128,128,255],mark:"portal_vein",nameEn:"Portal vein",nameZh:""},F_ORGANNAME_004:{color:[255,0,0],mark:"small_vessel",nameEn:"Small Vessels",nameZh:""},F_ORGANNAME_005:{color:[64,0,64],mark:"stomach",nameEn:"Stomach",nameZh:""},F_ORGANNAME_006:{color:[0,128,0],mark:"gallbladder",nameEn:"Gallbladder",nameZh:""},F_ORGANNAME_007:{color:[255,192,128],mark:"pancreas",nameEn:"Pancreas",nameZh:""},F_ORGANNAME_008:{color:[128,0,0],mark:"liver",nameEn:"Liver",nameZh:""},F_ORGANNAME_009:{color:[128,128,192],mark:"spleen",nameEn:"Spleen",nameZh:""},F_ORGANNAME_010:{color:[128,0,64],mark:"kidney",nameEn:"Kidney",nameZh:""},F_ORGANNAME_011:{color:[255,224,192],mark:"lung",nameEn:"Lung",nameZh:""},F_ORGANNAME_012:{color:[255,224,224],mark:"skin",nameEn:"Skin",nameZh:""},F_ORGANNAME_013:{color:[0,128,0],mark:"bile_duct",nameEn:"Bile Duct",nameZh:""},F_ORGANNAME_014:{color:[0,255,0],mark:"bronchial",nameEn:"Bronchial",nameZh:""},F_ORGANNAME_015:{color:[255,128,0],mark:"tumor",nameEn:"Occupied",nameZh:""},F_ORGANNAME_016:{color:[255,255,20],mark:"other",nameEn:"Other",nameZh:""},F_ORGANNAME_017:{color:[255,255,255],mark:"bone",nameEn:"Bone",nameZh:""},F_ORGANNAME_018:{color:[192,192,255],mark:"cartilage",nameEn:"Cartilage",nameZh:""},F_ORGANNAME_019:{color:[128,128,192],mark:"meniscus",nameEn:"Meniscus",nameZh:""},F_ORGANNAME_020:{color:[0,255,255],mark:"unknown",nameEn:"NO",nameZh:""},F_ORGANNAME_021:{color:[0,0,0],mark:"necrosis_tumor",nameEn:"Necrosis tumor",nameZh:""},F_ORGANNAME_022:{color:[0,0,0],mark:"active_tumor",nameEn:"Active Tumor",nameZh:""},F_ORGANNAME_023:{color:[0,0,255],mark:"Inferior vena cava",nameEn:"Inferior Vena Cava",nameZh:""},F_ORGANNAME_024:{color:[100,200,200],mark:"ligament",nameEn:"Ligament",nameZh:""},F_ORGANNAME_025:{color:[0,128,0],mark:"Bile Duct",nameEn:"Bile Duct",nameZh:""},F_ORGANNAME_026:{color:[0,128,0],mark:"Common Hepatic Duct",nameEn:"Common Hepatic Duct",nameZh:""},F_ORGANNAME_027:{color:[0,128,0],mark:"Common Bile Duct",nameEn:"Common Bile Duct",nameZh:""},F_ORGANNAME_028:{color:[0,255,0],mark:"Pancreatic Duct",nameEn:"Pancreatic Duct",nameZh:""},F_ORGANNAME_029:{color:[255,192,128],mark:"Head of Pancreas",nameEn:"Head of Pancreas",nameZh:""},F_ORGANNAME_030:{color:[255,192,128],mark:"Tail of Pancreas",nameEn:"Tail of Pancreas",nameZh:""},F_ORGANNAME_031:{color:[255,255,128],mark:"Stone(s)",nameEn:"Stone(s)",nameZh:""},F_ORGANNAME_032:{color:[255,255,0],mark:"Iodinate Oil",nameEn:"Iodinate Oil",nameZh:""},F_ORGANNAME_033:{color:[255,0,0],mark:"Aortic Arch",nameEn:"Aortic Arch",nameZh:""},F_ORGANNAME_034:{color:[0,0,255],mark:"Pulmonary Artery",nameEn:"Pulmonary Artery",nameZh:""},F_ORGANNAME_035:{color:[255,0,0],mark:"Pulmonary Vein",nameEn:"Pulmonary Vein",nameZh:""},F_ORGANNAME_036:{color:[255,255,255],mark:"Tube",nameEn:"Tube",nameZh:""},F_ORGANNAME_037:{color:[128,64,0],mark:"Intestine",nameEn:"Intestine",nameZh:""},F_ORGANNAME_038:{color:[255,255,255],mark:"Pelvis",nameEn:"Pelvis",nameZh:""},F_ORGANNAME_039:{color:[255,224,192],mark:"Bladder",nameEn:"Bladder",nameZh:""},F_ORGANNAME_040:{color:[255,192,192],mark:"Uterus",nameEn:"Uterus",nameZh:""},F_ORGANNAME_041:{color:[128,128,0],mark:"Uterine Cavity",nameEn:"Uterine Cavity",nameZh:""},F_ORGANNAME_042:{color:[255,128,192],mark:"Cyst",nameEn:"Cyst",nameZh:""},F_ORGANNAME_043:{color:[255,255,0],mark:"Lymph node",nameEn:"Lymph Node",nameZh:""},F_ORGANNAME_044:{color:[128,100,64],mark:"Tumor thrombus",nameEn:"Tumor Thrombus",nameZh:""},F_ORGANNAME_045:{color:[255,128,128],mark:"Thrombus",nameEn:"Thrombus",nameZh:""},F_ORGANNAME_046:{color:[128,64,0],mark:"Duodenum",nameEn:"Duodenum",nameZh:""},F_ORGANNAME_047:{color:[128,64,0],mark:"ureter",nameEn:"Ureter",nameZh:""},F_ORGANNAME_048:{color:[128,64,0],mark:"Kidney pelvis",nameEn:"Kidney Pelvis",nameZh:""},F_ORGANNAME_049:{color:[128,64,0],mark:"renal calyx",nameEn:"Renal Calyx",nameZh:""},F_ORGANNAME_050:{color:[128,64,0],mark:"hemangiomas",nameEn:"Hemangiomas",nameZh:""},F_ORGANNAME_051:{color:[128,64,0],mark:"breast",nameEn:"Breast",nameZh:""},F_ORGANNAME_052:{color:[128,64,0],mark:"Blood Vessel",nameEn:"Blood Vessel",nameZh:""}};t.default={WindowLevelPresets:r,VolumeRenderPresets:a,OrganMarkNames:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e[0],r=e[1],a=e[2],i=Math.sqrt(n*n+r*r+a*a),o=i>.001?Math.acos(n/i):0,s=o>.001?Math.atan2(a,r):0;t[0]=i,t[1]=o,t[2]=s}function i(e,t){var n=e[0],r=e[1],a=e[2];t[0]=n*Math.cos(r),t[1]=n*Math.sin(r)*Math.cos(a),t[2]=n*Math.sin(r)*Math.sin(a)}function o(e,t){if(e[0]>=t-.1)return e[2];var n=e[1]*Math.sqrt(t*t-e[0]*e[0])/(e[0]*Math.sin(e[1]));return e[2]>-.3*Math.PI?e[2]+n:e[2]-n}function s(e,t){var n=e-t;for(n<0&&(n=-n);n>=2*Math.PI;)n-=2*Math.PI;return n>Math.PI&&(n=2*Math.PI-n),n}function u(e,t,n,r){var u=[],l=[];g.rgb2lab(t,u),g.rgb2lab(n,l);var c=[],d=[];a(u,c),a(l,d);var f=e;if(c[1]>.05&&d[1]>.05&&s(c[2],d[2])>.33*Math.PI){var m=Math.max(c[0],d[0]);m=Math.max(88,m),e<.5?(d[0]=m,d[1]=0,d[2]=0,f*=2):(c[0]=m,c[1]=0,c[2]=0,f=2*f-1)}c[1]<.05&&d[1]>.05?c[2]=o(d,c[0]):d[1]<.05&&c[1]>.05&&(d[2]=o(c,d[0]));var p=[];p[0]=(1-f)*c[0]+f*d[0],p[1]=(1-f)*c[1]+f*d[1],p[2]=(1-f)*c[2]+f*d[2];var v=[];i(p,v),g.lab2rgb(v,r)}function l(e,t){t.classHierarchy.push("vtkColorTransferFunction"),e.getSize=function(){return t.nodes.length},e.addRGBPoint=function(t,n,r,a){return e.addRGBPointLong(t,n,r,a,.5,0)},e.addRGBPointLong=function(n,r,a,i,o,s){if(o<0||o>1)return I("Midpoint outside range [0.0, 1.0]"),-1;if(s<0||s>1)return I("Sharpness outside range [0.0, 1.0]"),-1;t.allowDuplicateScalars||e.removePoint(n);var u={x:n,r:r,g:a,b:i,midpoint:o,sharpness:s};t.nodes.push(u),e.sortAndUpdateRange();for(var l=0;l<t.nodes.length&&t.nodes[l].x!==n;l++);return l<t.nodes.length?l:-1},e.addHSVPoint=function(t,n,r,a){return e.addHSVPointLong(t,n,r,a,.5,0)},e.addHSVPointLong=function(t,n,r,a,i,o){var s=[],u=[n,r,a];return g.hsv2rgb(u,s),e.addRGBPoint(t,s[0],s[1],s[2],i,o)},e.setNodes=function(n){t.nodes!==n&&(t.nodes=n,e.sortAndUpdateRange())},e.sortAndUpdateRange=function(){t.nodes.sort(function(e,t){return e.x-t.x}),e.updateRange()||e.modified()},e.updateRange=function(){var n=[2];n[0]=t.mappingRange[0],n[1]=t.mappingRange[1];var r=t.nodes.length;return r?(t.mappingRange[0]=t.nodes[0].x,t.mappingRange[1]=t.nodes[r-1].x):(t.mappingRange[0]=0,t.mappingRange[1]=0),(n[0]!==t.mappingRange[0]||n[1]!==t.mappingRange[1])&&(e.modified(),!0)},e.removePoint=function(n){for(var r=0;r<t.nodes.length&&t.nodes[r].x!==n;r++);var a=r;if(r>=t.nodes.length)return-1;var i=!1;return t.nodes.splice(r,1),0!==r&&r!==t.nodes.length||(i=e.updateRange()),i||e.modified(),a},e.movePoint=function(n,r){if(n!==r){e.removePoint(r);for(var a=0;a<t.nodes.length;a++)if(t.nodes[a].x===n){t.nodes[a].x=r,e.sortAndUpdateRange();break}}},e.removeAllPoints=function(){t.nodes=[],e.sortAndUpdateRange()},e.addRGBSegment=function(n,r,a,i,o,s,u,l){e.sortAndUpdateRange();for(var c=0;c<t.nodes.length;)t.nodes[c].x>=n&&t.nodes[c].x<=o?t.nodes.splice(c,1):c++;e.addRGBPointLong(n,r,a,i,.5,0),e.addRGBPointLong(o,s,u,l,.5,0),e.modified()},e.addHSVSegment=function(t,n,r,a,i,o,s,u){var l=[n,r,a],c=[o,s,u],d=[],f=[];g.hsv2rgb(l,d),g.hsv2rgb(c,f),e.addRGBSegment(t,d[0],d[1],d[2],i,f[0],f[1],f[2])},e.mapValue=function(t){var n=[];return e.getColor(t,n),[Math.floor(255*n[0]+.5),Math.floor(255*n[1]+.5),Math.floor(255*n[2]+.5),255]},e.getColor=function(n,r){if(t.indexedLookup){var a=e.getSize(),i=e.getAnnotatedValueIndexInternal(n);if(i<0||0===a)e.getNanColor(r);else{var o=[];e.getNodeValue(i%a,o),r[0]=o.r,r[1]=o.g,r[2]=o.b}}else e.getTable(n,n,1,r)},e.getRedValue=function(t){var n=[];return e.getColor(t,n),n[0]},e.getGreenValue=function(t){var n=[];return e.getColor(t,n),n[1]},e.getBlueValue=function(t){var n=[];return e.getColor(t,n),n[2]},e.getTable=function(n,r,a,i){if(g.isNan(n)||g.isNan(r))for(var o=0;o<a;o++)i[3*o+0]=t.nanColor[0],i[3*o+1]=t.nanColor[1],i[3*o+2]=t.nanColor[2];else{var s=0,l=t.nodes.length,c=0,d=0,f=0;0!==l&&(c=t.nodes[l-1].r,d=t.nodes[l-1].g,f=t.nodes[l-1].b);var m=0,p=0,v=0,h=[0,0,0],y=[0,0,0],A=0,S=0,b=[],D=t.scale===M.LOG10;D&&(D=t.mappingRange[0]>0);var w=0,C=0,N=0;D&&(w=Math.log10(n),C=Math.log10(r));for(var P=0;P<a;P++){var x=3*P;for(a>1?D?(N=w+P/(a-1)*(C-w),m=Math.pow(10,N)):m=n+P/(a-1)*(r-n):D?(N=.5*(w+C),m=Math.pow(10,N)):m=.5*(n+r);s<l&&m>t.nodes[s].x;)++s<l&&(p=t.nodes[s-1].x,v=t.nodes[s].x,D&&(p=Math.log10(p),v=Math.log10(v)),h[0]=t.nodes[s-1].r,y[0]=t.nodes[s].r,h[1]=t.nodes[s-1].g,y[1]=t.nodes[s].g,h[2]=t.nodes[s-1].b,y[2]=t.nodes[s].b,A=t.nodes[s-1].midpoint,S=t.nodes[s-1].sharpness,A<1e-5&&(A=1e-5),A>.99999&&(A=.99999));if(m>t.mappingRange[1])i[x]=0,i[x+1]=0,i[x+2]=0,t.clamping&&(e.getUseAboveRangeColor()?(i[x]=t.aboveRangeColor[0],i[x+1]=t.aboveRangeColor[1],i[x+2]=t.aboveRangeColor[2]):(i[x]=c,i[x+1]=d,i[x+2]=f));else if(m<t.mappingRange[0]||g.isInf(m)&&m<0)i[x]=0,i[x+1]=0,i[x+2]=0,t.clamping&&(e.getUseBelowRangeColor()?(i[x]=t.belowRangeColor[0],i[x+1]=t.belowRangeColor[1],i[x+2]=t.belowRangeColor[2]):l>0&&(i[x]=t.nodes[0].r,i[x+1]=t.nodes[0].g,i[x+2]=t.nodes[0].b));else if(0===s&&Math.abs(m-n)<1e-6)l>0?(i[x]=t.nodes[0].r,i[x+1]=t.nodes[0].g,i[x+2]=t.nodes[0].b):(i[x]=0,i[x+1]=0,i[x+2]=0);else{var E=0;if(E=D?(N-p)/(v-p):(m-p)/(v-p),E=E<A?.5*E/A:.5+.5*(E-A)/(1-A),S>.99){if(E<.5){i[x]=h[0],i[x+1]=h[1],i[x+2]=h[2];continue}i[x]=y[0],i[x+1]=y[1],i[x+2]=y[2];continue}if(S<.01){if(t.colorSpace===T.RGB)i[x]=(1-E)*h[0]+E*y[0],i[x+1]=(1-E)*h[1]+E*y[1],i[x+2]=(1-E)*h[2]+E*y[2];else if(t.colorSpace===T.HSV){var O=[],L=[];g.rgb2hsv(h,O),g.rgb2hsv(y,L),t.hSVWrap&&(O[0]-L[0]>.5||L[0]-O[0]>.5)&&(O[0]>L[0]?O[0]-=1:L[0]-=1);var _=[];_[0]=(1-E)*O[0]+E*L[0],_[0]<0&&(_[0]+=1),_[1]=(1-E)*O[1]+E*L[1],_[2]=(1-E)*O[2]+E*L[2],g.hsv2rgb(_,b),i[x]=b[0],i[x+1]=b[1],i[x+2]=b[2]}else if(t.colorSpace===T.LAB){var R=[],k=[];g.rgb2lab(h,R),g.rgb2lab(y,k);var B=[];B[0]=(1-E)*R[0]+E*k[0],B[1]=(1-E)*R[1]+E*k[1],B[2]=(1-E)*R[2]+E*k[2],g.lab2rgb(B,b),i[x]=b[0],i[x+1]=b[1],i[x+2]=b[2]}else t.colorSpace===T.DIVERGING?(u(E,h,y,b),i[x]=b[0],i[x+1]=b[1],i[x+2]=b[2]):I("ColorSpace set to invalid value.",t.colorSpace);continue}E<.5?E=.5*Math.pow(2*E,1+10*S):E>.5&&(E=1-.5*Math.pow(2*(1-E),1+10*S));var V=E*E,F=V*E,j=2*F-3*V+1,U=-2*F+3*V,z=F-2*V+E,G=F-V,W=void 0,Q=void 0;if(t.colorSpace===T.RGB)for(var Y=0;Y<3;Y++)W=y[Y]-h[Y],Q=(1-S)*W,i[x+Y]=j*h[Y]+U*y[Y]+z*Q+G*Q;else if(t.colorSpace===T.HSV){var q=[],H=[];g.rgb2hsv(h,q),g.rgb2hsv(y,H),t.hSVWrap&&(q[0]-H[0]>.5||H[0]-q[0]>.5)&&(q[0]>H[0]?q[0]-=1:H[0]-=1);for(var Z=[],K=0;K<3;K++)W=H[K]-q[K],Q=(1-S)*W,Z[K]=j*q[K]+U*H[K]+z*Q+G*Q,0===K&&Z[K]<0&&(Z[K]+=1);g.hsv2rgb=b,i[x]=b[0],i[x+1]=b[1],i[x+2]=b[2]}else if(t.colorSpace===T.LAB){var X=[],J=[];g.rgb2lab(h,X),g.rgb2lab(y,J);for(var $=[],ee=0;ee<3;ee++)W=J[ee]-X[ee],Q=(1-S)*W,$[ee]=j*X[ee]+U*J[ee]+z*Q+G*Q;g.lab2rgb($,b),i[x]=b[0],i[x+1]=b[1],i[x+2]=b[2]}else t.colorSpace===T.DIVERGING?(u(E,h,y,b),i[x]=b[0],i[x+1]=b[1],i[x+2]=b[2]):I("ColorSpace set to invalid value.");for(var te=0;te<3;te++)i[x+te]=i[x+te]<0?0:i[x+te],i[x+te]=i[x+te]>1?1:i[x+te]}}}},e.getUint8Table=function(n,r,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.getMTime()<=t.buildTime&&t.tableSize===a&&t.tableWithAlpha!==i)return t.table;if(0===t.nodes.length)return I("Attempting to lookup a value with no points in the function"),t.table;var o=i?4:3;t.tableSize===a&&t.tableWithAlpha===i||(t.table=new Uint8Array(a*o),t.tableSize=a,t.tableWithAlpha=i);var s=[];e.getTable(n,r,a,s);for(var u=0;u<a;u++)t.table[u*o+0]=Math.floor(255*s[3*u+0]+.5),t.table[u*o+1]=Math.floor(255*s[3*u+1]+.5),t.table[u*o+2]=Math.floor(255*s[3*u+2]+.5),i&&(t.table[u*o+3]=255);return t.buildTime.modified(),t.table},e.buildFunctionFromTable=function(n,r,a,i){var o=0;e.removeAllPoints(),a>1&&(o=(r-n)/(a-1));for(var s=0;s<a;s++){var u={x:n+o*s,r:i[3*s],g:i[3*s+1],b:i[3*s+2],sharpness:0,midpoint:.5};t.nodes.push(u)}e.sortAndUpdateRange()},e.getNodeValue=function(e,n){return e<0||e>=t.nodes.length?(I("Index out of range!"),-1):(n[0]=t.nodes[e].x,n[1]=t.nodes[e].r,n[2]=t.nodes[e].g,n[3]=t.nodes[e].b,n[4]=t.nodes[e].midpoint,n[5]=t.nodes[e].sharpness,1)},e.setNodeValue=function(n,r){if(n<0||n>=t.nodes.length)return I("Index out of range!"),-1;var a=t.nodes[n].x;return t.nodes[n].x=r[0],t.nodes[n].r=r[1],t.nodes[n].g=r[2],t.nodes[n].b=r[3],t.nodes[n].midpoint=r[4],t.nodes[n].sharpness=r[5],a!==r[0]?e.sortAndUpdateRange():e.modified(),1},e.getNumberOfAvailableColors=function(){return t.indexedLookup&&e.getSize()?e.getSize():t.tableSize?t.tableSize:16777216},e.getIndexedColor=function(t,n){var r=e.getSize();if(r>0&&t>=0){var a=[];e.getNodeValue(t%r,a);for(var i=0;i<3;++i)n[i]=a[i+1];return void(n[3]=1)}e.getNanColor(n),n[3]=1},e.fillFromDataPointer=function(t,n){if(!(t<=0)&&n){e.removeAllPoints();for(var r=0;r<t;r++)e.addRGBPoint(n[4*r],n[4*r+1],n[4*r+2],n[4*r+3])}},e.setMappingRange=function(n,r){var a=[n,r],i=e.getRange();if(i[1]!==a[1]||i[0]!==a[0]){if(a[1]===a[0])return void I("attempt to set zero width color range");for(var o=(a[1]-a[0])/(i[1]-i[0]),s=a[0]-i[0]*o,u=0;u<t.nodes.length;++u)t.nodes[u].x=t.nodes[u].x*o+s;t.mappingRange[0]=a[0],t.mappingRange[1]=a[1],e.modified()}},e.adjustRange=function(n){var r=e.getRange(),a=[];r[0]<n[0]?(e.getColor(n[0],a),e.addRGBPoint(n[0],a[0],a[1],a[2])):(e.getColor(r[0],a),e.addRGBPoint(n[0],a[0],a[1],a[2])),r[1]>n[1]?(e.getColor(n[1],a),e.addRGBPoint(n[1],a[0],a[1],a[2])):(e.getColor(r[1],a),e.addRGBPoint(n[1],a[0],a[1],a[2])),e.sortAndUpdateRange();for(var i=0;i<t.nodes.length;)t.nodes[i].x>=n[0]&&t.nodes[i].x<=n[1]?t.nodes.splice(i,1):++i;return 1},e.estimateMinNumberOfSamples=function(t,n){var r=e.findMinimumXDistance();return Math.ceil((n-t)/r)},e.findMinimumXDistance=function(){if(t.nodes.length<2)return-1;for(var e=Number.MAX_VALUE,n=0;n<t.nodes.length-1;n++){var r=t.nodes[n+1].x-t.nodes[n].x;r<e&&(e=r)}return e},e.mapScalarsThroughTable=function(n,r,a,i){if(0===e.getSize())return void D("Transfer Function Has No Points!");t.indexedLookup?e.mapDataIndexed(n,r,a,i):e.mapData(n,r,a,i)},e.mapData=function(t,n,r,a){if(0===e.getSize())return void w("Transfer Function Has No Points!");var i=Math.floor(255*e.getAlpha()+.5),o=t.getNumberOfTuples(),s=t.getNumberOfComponents(),u=n.getData(),l=t.getData(),c=[];if(r===b.RGBA)for(var d=0;d<o;d++){var f=l[d*s+a];e.getColor(f,c),u[4*d]=Math.floor(255*c[0]+.5),u[4*d+1]=Math.floor(255*c[1]+.5),u[4*d+2]=Math.floor(255*c[2]+.5),u[4*d+3]=i}if(r===b.RGB)for(var m=0;m<o;m++){var g=l[m*s+a];e.getColor(g,c),u[3*m]=Math.floor(255*c[0]+.5),u[3*m+1]=Math.floor(255*c[1]+.5),u[3*m+2]=Math.floor(255*c[2]+.5)}if(r===b.LUMINANCE)for(var p=0;p<o;p++){var v=l[p*s+a];e.getColor(v,c),u[p]=Math.floor(76.5*c[0]+150.45*c[1]+28.05*c[2]+.5)}if(r===b.LUMINANCE_ALPHA)for(var h=0;h<o;h++){var y=l[h*s+a];e.getColor(y,c),u[2*h]=Math.floor(76.5*c[0]+150.45*c[1]+28.05*c[2]+.5),u[2*h+1]=i}},e.applyColorMap=function(n){if(n.ColorSpace&&(t.colorSpace=T[n.ColorSpace.toUpperCase()],void 0===t.colorSpace&&(I("ColorSpace "+n.ColorSpace+" not supported, using RGB instead"),t.colorSpace=T.RGB)),n.NanColor)for(t.nanColor=[].concat(n.NanColor);t.nanColor.length<4;)t.nanColor.push(1);if(n.RGBPoints){var r=n.RGBPoints.length;t.nodes=[];for(var a=0;a<r;a+=4)t.nodes.push({x:n.RGBPoints[a],r:n.RGBPoints[a+1],g:n.RGBPoints[a+2],b:n.RGBPoints[a+3],midpoint:.5,sharpness:0})}e.sortAndUpdateRange()}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,C,n),v.default.extend(e,t,n),t.table=[],t.nodes=[],t.nanColor=[.5,0,0,1],t.belowRangeColor=[0,0,0,1],t.aboveRangeColor=[1,1,1,1],t.buildTime={},f.default.obj(t.buildTime),f.default.get(e,t,["buildTime","mappingRange"]),f.default.setGet(e,t,["useAboveRangeColor","useBelowRangeColor","colorSpace"]),f.default.setArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"],4),f.default.getArray(e,t,["nanColor","belowRangeColor","aboveRangeColor"]),l(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=c;var d=n(0),f=r(d),m=n(1),g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),p=n(208),v=r(p),h=n(437),y=r(h),A=n(91),S=r(A),T=y.default.ColorSpace,M=y.default.Scale,b=v.default.ScalarMappingTarget,D=f.default.vtkDebugMacro,I=f.default.vtkErrorMacro,w=f.default.vtkWarningMacro,C={clamping:!0,colorSpace:T.RGB,hSVWrap:!0,scale:M.LINEAR,nanColor:null,belowRangeColor:null,aboveRangeColor:null,useAboveRangeColor:!1,useBelowRangeColor:!1,allowDuplicateScalars:!1,table:null,tableSize:0,buildTime:null,nodes:null},N=t.newInstance=f.default.newInstance(c,"vtkColorTransferFunction");t.default=Object.assign({newInstance:N,extend:c,vtkColorMaps:S.default},y.default)},function(e,t,n){"use strict";function r(){var e=new ArrayBuffer(4),t=new Uint8Array(e),n=new Uint32Array(e);return t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===n[0]?"LittleEndian":2712847316===n[0]?"BigEndian":null}function a(e,t){if(!(t<2))for(var n=new Int8Array(e),r=n.length,a=[],i=0;i<r;i+=t){for(var o=0;o<t;o++)a.push(n[i+o]);for(var s=0;s<t;s++)n[i+s]=a.pop()}}Object.defineProperty(t,"__esModule",{value:!0}),t.getEndianness=r,t.swapBytes=a;var i=t.ENDIANNESS=r();t.default={ENDIANNESS:i,getEndianness:r,swapBytes:a}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))?null!==e:"function"==typeof e}},function(e,t,n){"use strict";e.exports=!n(239)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e,t,n,r,a){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=a}var a=n(58),i=n(243),o=n(244),s=n(245),o=n(244);r.prototype={getContentWorker:function(){var e=new i(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(e,t,n){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var a=o,i=r+n;e^=-1;for(var s=r;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}function a(e,t,n,r){var a=o,i=r+n;e^=-1;for(var s=r;s<i;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return-1^e}var i=n(7),o=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?r(0|t,e,e.length,0):a(0|t,e,e.length,0):0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkMergePoints"),e.isInsertedPoint=function(n){var r=e.getBucketIndex(n),a=t.hashTable[r];if(a)for(var i=a.getNumberOfIds(),o=0;o<i;o++){var s=a.getId(o),u=void 0;if(u=Array.isArray(t.points)?[t.points[3*s],t.points[3*s+1],t.points[3*s+2]]:t.points.getTuple(s),n[0]===u[0]&&n[1]===u[1]&&n[2]===u[2])return s}return-1},e.insertUniquePoint=function(n,r){var a=e.getBucketIndex(n),i=t.hashTable[a];if(i)for(var o=i.getNumberOfIds(),s=0;s<o;s++){var u=i.getId(s),l=void 0;if(l=Array.isArray(t.points)?[t.points[3*u],t.points[3*u+1],t.points[3*u+2]]:t.points.getTuple(u),n[0]===l[0]&&n[1]===l[1]&&n[2]===l[2])return r[0]=u,0}else i=d.default.newInstance(),i.allocate(Math.floor(t.numberOfPointsPerBucket/2),Math.floor(t.numberOfPointsPerBucket/3)),t.hashTable[a]=i;return i.insertNextId(t.insertionPointId),Array.isArray(t.points)?(t.points[3*t.insertionPointId+2]=n[2],t.points[3*t.insertionPointId+1]=n[1],t.points[3*t.insertionPointId]=n[0]):t.points.setPoint(t.insertionPointId,n[0],n[1],n[2]),r[0]=t.insertionPointId++,1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(150),l=r(u),c=n(18),d=r(c),f={},m=t.newInstance=s.default.newInstance(i,"vtkMergePoints");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e={};return e.points=[],e.getNumberOfNeighbors=function(){return e.points.length},e.reset=function(){e.points.length=0},e.getPoint=function(t){return e.points.length>t?e.points[t]:null},e.insertNextPoint=function(t){var n=e.points.length;return e.points[n]=[t[0],t[1],t[2]],n},e}function i(e,t){var n=[0,0,0],r=0;return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n[2]=t[2]-e[2],n[0]>0&&(r+=1),n[1]>0&&(r+=2),n[2]>0&&(r+=4),r}function o(e){for(var t=e[0],n=1;n<8;n++)e[n]<t&&(t=e[n]);return t}function s(e){for(var t=e[0],n=1;n<8;n++)e[n]>t&&(t=e[n]);return t}function u(e,t){var n=e.slice(0,t);n.sort(function(e,t){return e.dist2===t.dist2?0:e.dist2>t.dist2?1:-1});for(var r=0;r<t;r++)e[r]=n[r]}function l(e,t){t.classHierarchy.push("vtkPointLocator"),e.setNumberOfPointsPerBucket=function(n){return t.numberOfPointsPerBucket!==n&&(t.numberOfPointsPerBucket=v.default.clampValue(n,1,Number.MAX_SAFE_INTEGER),e.modified(),!0)},e.getBucketIndex=function(n){var r=[];return e.getBucketIndices(n,r),r[0]+r[1]*t.xD+r[2]*t.sliceSize},e.getBucketIndices=function(e,n){var r=Math.floor((e[0]-t.bX)*t.fX),a=Math.floor((e[1]-t.bY)*t.fY),i=Math.floor((e[2]-t.bZ)*t.fZ);n[0]=r<0?0:r>=t.xD?t.xD-1:r,n[1]=a<0?0:a>=t.yD?t.yD-1:a,n[2]=i<0?0:i>=t.zD?t.zD-1:i},e.initialize=function(){t.points&&(t.points=null),e.freeSearchStructure()},e.freeSearchStructure=function(){if(t.hashTable){for(var e=0;e<t.numberOfBuckets;e++)t.hashTable[e]&&(t.hashTable[e]=null);t.hashTable=null}},e.computePerformanceFactors=function(){t.hX=t.h[0],t.hY=t.h[1],t.hZ=t.h[2],t.fX=1/t.h[0],t.fY=1/t.h[1],t.fZ=1/t.h[2],t.bX=t.bounds[0],t.bY=t.bounds[2],t.bZ=t.bounds[4],t.xD=t.divisions[0],t.yD=t.divisions[1],t.zD=t.divisions[2],t.sliceSize=t.divisions[0]*t.divisions[1]},e.findClosestPoint=function(n){var r=0,i=0,o=0,s=Number.MAX_VALUE,u=[],l=0,c=0,d=0,f=0,m=0,g=[],p=[],h=a();if(!t.dataSet||t.dataSet.getPoints().getNumberOfPoints()<1)return-1;for(e.buildLocator(),e.getBucketIndices(n,g),l=-1,o=Number.MAX_VALUE,c=0;-1===l&&(c<t.divisions[0]||c<t.divisions[1]||c<t.divisions[2]);c++)for(e.getBucketNeighbors(h,g,t.divisions,c),r=0;r<h.getNumberOfNeighbors();r++){p=h.getPoint(r),f=p[0]+p[1]*t.xD+p[2]*t.sliceSize;var y=t.hashTable[f];if(y)for(m=y.getNumberOfIds(),i=0;i<m;i++)d=y.getId(i),u=t.dataSet.getPoint(d),(s=v.default.distance2BetweenPoints(n,u))<o&&(l=d,o=s)}if(o>0)for(e.getOverlappingBuckets(h,n,g,Math.sqrt(o),0),r=0;r<h.getNumberOfNeighbors();r++){p=h.getPoint(r),f=p[0]+p[1]*t.xD+p[2]*t.sliceSize;var A=t.hashTable[f];if(A)for(m=A.getNumberOfIds(),i=0;i<m;i++)d=A.getId(i),u=t.dataSet.getPoint(d),(s=v.default.distance2BetweenPoints(n,u))<o&&(l=d,o=s)}return l},e.findClosestPointWithinRadius=function(n,r,a){var i=t.dataSet.getLength();return e.findClosestPointWithinRadius2(n,r,i,a)},e.findClosestPointWithinRadius2=function(n,r,i,o){var s=0,u=0,l=[],c=0,d=0,f=-1,m=null,g=[],p=0,h=0,y=0,A=0,S=0,T=0,M=0,b=0,D=0,I=[0,0,0],w=0,C=[0,0,0],N=[0,0,0],P=a();e.buildLocator(),o[0]=-1,A=n*n,h=1.01*A;var x=t.dataSet.getPoints().getData();if(e.getBucketIndices(r,g),m=t.hashTable[g[0]+g[1]*t.xD+g[2]*t.sliceSize])for(d=m.getNumberOfIds(),u=0;u<d;u++)c=m.getId(u),l=x.getTuple(c),o[0]=v.default.distance2BetweenPoints(r,l),o[0]<h&&(f=c,h=o[0]);for(h<A?(y=Math.sqrt(o[0]),S=o[0]):(y=n,S=A),0!==i&&(M=e.distance2ToBounds(r,t.bounds),b=Math.sqrt(M)+i,y>b&&(y=b,S=b*b)),s=0;s<3;s++)I[s]=y/t.h[s],I[s]>t.divisions[s]/2&&(I[s]=t.divisions[s]/2);for(w=I[0],w=I[1]>w?I[1]:w,w=I[2]>w?I[2]:w,0===w&&(w=1),C[0]=g[0],N[0]=g[0],C[1]=g[1],N[1]=g[1],C[2]=g[2],N[2]=g[2],D=w;D>=1;D--){for(T=y,e.getOverlappingBuckets2(P,r,y/D,C,N),s=0;s<P.getNumberOfNeighbors();s++)if(p=P.getPoint(s),(p=e.distance2ToBucket(r))<S)for(m=t.hashTable[p[0]+p[1]*t.xD+p[2]*t.sliceSize],d=m.getNumberOfIds(),u=0;u<d;u++)c=m.getId(u),l=x.getTuple(c),o[0]=v.default.distance2BetweenPoints(r,l),o[0]<h&&(f=c,h=o[0],y=Math.sqrt(h),S=h);y<T&&D>2&&(D=D*(y/T)+1)<2&&(D=2)}return-1!==f&&h<=A?o[0]=h:f=-1,f},e.findClosestNPoints=function(n,r,i){var o=0,s=0,l=[0,0,0],c=0,d=a();i.reset(),e.buildLocator(),e.getBucketIndices(r,l),c=0;var f=0,m=0,g=Array(n);for(s=0;s<n;s++)g[s]={ptId:0,dist2:0};for(e.getBucketNeighbors(d,l,t.divisions,c);d.getNumberOfNeighbors()&&m<n;){for(o=0;o<d.getNumberOfNeighbors();o++){var p=d.getPoint(o),h=p[0]+p[1]*t.xD+p[2]*t.sliceSize,y=t.hashTable[h];if(y){var A=y.getNumberOfIds();for(s=0;s<A;s++){var S=y.getId(s),T=t.dataSet.getPoint(S),M=v.default.distance2BetweenPoints(r,T);m<n?(g[m].dist2=M,g[m].ptId=S,M>f&&(f=M),++m===n&&u(g,m)):M<f&&(g[n-1].dist2=M,g[n-1].ptId=S,u(g,n),f=g[n-1].dist2)}}}c++,e.getBucketNeighbors(d,l,t.divisions,c)}for(u(g,m),e.getOverlappingBuckets(d,r,l,Math.sqrt(f),c-1),o=0;o<d.getNumberOfNeighbors();o++){var b=d.getPoint(o),D=b[0]+b[1]*t.xD+b[2]*t.sliceSize,I=t.hashTable[D];if(I){var w=I.getNumberOfIds();for(s=0;s<w;s++){var C=I.getId(s),N=t.dataSet.getPoint(C),P=v.default.distance2BetweenPoints(r,N);P<f&&(g[n-1].dist2=P,g[n-1].ptId=C,u(g,n),f=g[n-1].dist2)}}}for(i.setNumberOfIds(m),o=0;o<m;o++)i.setId(o,g[o].ptId)},e.findDistributedPoints=function(n,r,l,c){var d=0,f=0,m=[0,0,0],g=0,p=0,h=a();for(l.reset(),e.buildLocator(),d=0;d<3;d++)if(r[d]<t.bounds[2*d]||r[d]>t.bounds[2*d+1])return;e.getBucketIndices(r,m),g=0;var y=[0,0,0,0,0,0,0,0],A=[0,0,0,0,0,0,0,0],S=0,T=[];for(d=0;d<8;d++){var M=Array(n);for(T[d]=M,f=0;f<n;f++)M[f]={ptId:0,dist2:0}}for(e.getBucketNeighbors(h,m,t.divisions,g);h.getNumberOfNeighbors()&&S<n&&p<c;){for(d=0;d<h.getNumberOfNeighbors();d++){var b=h.getPoint(d),D=b[0]+b[1]*t.xD+b[2]*t.sliceSize,I=t.hashTable[D];if(I){var w=I.getNumberOfIds();for(f=0;f<w;f++){p++;var C=I.getId(f),N=t.dataSet.getPoint(C),P=v.default.distance2BetweenPoints(r,N),x=i(r,N);A[x]<n?(T[x][A[x]].dist2=P,T[x][A[x]].ptId=C,P>y[x]&&(y[x]=P),A[x]+=1,S=o(A),A[x]===n&&u(T[x],A[x])):P<y[x]&&(T[x][n-1].dist2=P,T[x][n-1].ptId=C,u(T[x],n),y[x]=T[x][n-1].dist2)}}}g++,e.getBucketNeighbors(h,m,t.divisions,g)}for(d=0;d<8;d++)u(T[d],A[d]);for(e.getOverlappingBuckets(h,r,m,Math.sqrt(s(y)),g-1),d=0;p<c&&d<h.getNumberOfNeighbors();d++){var E=h.getPoint(d),O=E[0]+E[1]*t.xD+E[2]*t.sliceSize,L=t.hashTable[O];if(L){var _=L.getNumberOfIds();for(f=0;f<_;f++){p++;var R=L.getId(f),k=t.dataSet.getPoint(R),B=v.default.distance2BetweenPoints(r,k),V=i(r,k);B<y[V]&&(T[V][n-1].dist2=B,T[V][n-1].ptId=R,u(T[V],n),y[V]=T[V][n-1].dist2)}}}for(f=0;f<8;f++)for(d=0;d<A[f];d++)l.insertNextId(T[f][d].ptId)},e.findPointsWithinRadius=function(n,r,i){var o=[0,0,0],s=n*n,u=a();e.buildLocator(),e.getBucketIndices(r,o),e.getOverlappingBuckets(u,r,o,n,0),u.insertNextPoint(o),i.reset();for(var l=0;l<u.getNumberOfNeighbors();l++){var c=u.getPoint(l),d=c[0]+c[1]*t.xD+c[2]*t.sliceSize,f=t.hashTable[d];if(f)for(var m=f.getNumberOfIds(),g=0;g<m;g++){var p=f.getId(g),h=t.dataSet.getPoint(p),y=v.default.distance2BetweenPoints(r,h);y<=s&&i.insertNextId(p)}}},e.buildLocator=function(){var n=[0,0,0],r=0;if(!(t.hashTable&&t.buildTime.getMTime()>e.getMTime()&&t.buildTime.getMTime()>t.dataSet.getMTime())&&(b("Hashing points..."),t.level=1,t.dataSet)){var a=t.dataSet.getPoints().getNumberOfPoints();if(!(a<1)){t.hashTable&&e.freeSearchStructure();var i=t.dataSet.getBounds();for(r=0;r<3;r++)t.bounds[2*r]=i[2*r],t.bounds[2*r+1]=i[2*r+1],t.bounds[2*r+1]<=t.bounds[2*r]&&(t.bounds[2*r+1]=t.bounds[2*r]+1);if(t.automatic){var o=a/t.numberOfPointsPerBucket;for(o=Math.ceil(Math.pow(o,.33333333)),r=0;r<3;r++)n[r]=o}else for(r=0;r<3;r++)n[r]=t.divisions[r];for(r=0;r<3;r++)n[r]=n[r]>0?n[r]:1,t.divisions[r]=n[r];for(t.numberOfBuckets=n[0]*n[1]*n[2],t.hashTable=Array(t.numberOfBuckets),r=0;r<3;r++)t.h[r]=(t.bounds[2*r+1]-t.bounds[2*r])/n[r];for(e.computePerformanceFactors(),r=0;r<a;r++){var s=t.dataSet.getPoint(r),u=e.getBucketIndex(s),l=t.hashTable[u];l||(l=y.default.newInstance(),l.allocate(t.numberOfPointsPerBucket,Math.floor(t.numberOfPointsPerBucket/3)),t.hashTable[u]=l),l.insertNextId(r)}t.buildTime.modified()}}},e.getBucketNeighbors=function(e,t,n,r){var a=0,i=0,o=[0,0,0],s=[0,0,0],u=[0,0,0];if(e.reset(),0===r)return void e.insertNextPoint(t);for(var l=0;l<3;l++)a=t[l]-r,i=t[l]+r,o[l]=a>0?a:0,s[l]=i<n[l]-1?i:n[l]-1;for(var c=o[0];c<=s[0];c++)for(var d=o[1];d<=s[1];d++)for(var f=o[2];f<=s[2];f++)c!==t[0]+r&&c!==t[0]-r&&d!==t[1]+r&&d!==t[1]-r&&f!==t[2]+r&&f!==t[2]-r||(u[0]=c,u[1]=d,u[2]=f,e.insertNextPoint(u))},e.getOverlappingBuckets=function(t,n,r,a,i){var o=[0,0,0],s=[0,0,0],u=[0,0,0],l=[0,0,0],c=[0,0,0];t.reset(),l[0]=n[0]-a,l[1]=n[1]-a,l[2]=n[2]-a,c[0]=n[0]+a,c[1]=n[1]+a,c[2]=n[2]+a,e.getBucketIndices(l,s),e.getBucketIndices(c,u);for(var d=s[0];d<=u[0];d++)for(var f=s[1];f<=u[1];f++)for(var m=s[2];m<=u[2];m++)(d<r[0]-i||d>r[0]+i||f<r[1]-i||f>r[1]+i||m<r[2]-i||m>r[2]+i)&&(o[0]=d,o[1]=f,o[2]=m,t.insertNextPoint(o))},e.getOverlappingBuckets2=function(n,r,a,i,o){var s=[0,0,0],u=[0,0,0],l=[0,0,0],c=0,d=0,f=0,m=0,g=[0,0,0],p=[0,0,0];if(n.reset(),g[0]=r[0]-a,g[1]=r[1]-a,g[2]=r[2]-a,p[0]=r[0]+a,p[1]=r[1]+a,p[2]=r[2]+a,e.getBucketIndices(g,u),e.getBucketIndices(p,l),u[0]!==i[0]||l[0]!==o[0]||u[1]!==i[1]||l[1]!==o[1]||u[2]!==i[2]||l[2]!==o[2]){for(var v=u[2];v<=l[2];v++){c=v*t.sliceSize,m=v>=i[2]&&v<=o[2]?1:0;for(var h=u[1];h<=l[1];h++){f=m&&h>=i[1]&&h<=o[1]?1:0,d=h*t.xD;for(var y=u[0];y<=l[0];y++)f&&y===i[0]?y=o[0]:t.hashTable[y+d+c]&&(s[0]=y,s[1]=h,s[2]=v,n.insertNextPoint(s))}}i[0]=u[0],i[1]=u[1],i[2]=u[2],o[0]=l[0],o[1]=l[1],o[2]=l[2]}},e.initPointInsertion=function(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0,o=0,s=0,u=[0,0,0],l=0;if(t.insertionPointId=0,t.hashTable&&e.freeSearchStructure(),!n)return D("Must define points for point insertion"),0;for(t.points=n,i=0;i<3;i++)t.bounds[2*i]=r[2*i],t.bounds[2*i+1]=r[2*i+1],t.bounds[2*i+1]<=t.bounds[2*i]&&(t.bounds[2*i+1]=t.bounds[2*i]+1);if(t.automatic&&a>0)for(l=a/t.numberOfPointsPerBucket,l=Math.ceil(Math.pow(l,.33333333)),i=0;i<3;i++)u[i]=l;else for(i=0;i<3;i++)u[i]=t.divisions[i];for(i=0;i<3;i++)u[i]=u[i]>0?u[i]:1,t.divisions[i]=u[i];for(t.numberOfBuckets=u[0]*u[1]*u[2],t.hashTable=Array(t.numberOfBuckets),i=0;i<3;i++)t.h[i]=(t.bounds[2*i+1]-t.bounds[2*i])/u[i];for(t.insertionTol2=t.tolerance*t.tolerance,o=0,s=Number.MAX_VALUE,i=0;i<3;i++)s=t.h[i]<s?t.h[i]:s,o=o>t.divisions[i]?o:t.divisions[i];return t.insertionLevel=Math.ceil(t.tolerance/s),t.insertionLevel=t.insertionLevel>o?o:t.insertionLevel,e.computePerformanceFactors(),1},e.insertNextPoint=function(n){var r=0,a=null;return r=e.getBucketIndex(n),a=t.hashTable[r],a||(a=y.default.newInstance(),a.allocate(Math.floor(t.numberOfPointsPerBucket/2),Math.floor(t.numberOfPointsPerBucket/3)),t.hashTable[r]=a),a.insertNextId(t.insertionPointId),Array.isArray(t.points)?(t.points[3*t.insertionPointId+2]=n[2],t.points[3*t.insertionPointId+1]=n[1],t.points[3*t.insertionPointId]=n[0]):t.points.setPoint(t.insertionPointId,n[0],n[1],n[2]),t.insertionPointId++},e.insertPoint=function(n,r){var a=0,i=null;a=e.getBucketIndex(r),i=t.hashTable[a],i||(i=y.default.newInstance(),i.allocate(t.numberOfPointsPerBucket,Math.floor(t.numberOfPointsPerBucket/3)),t.hashTable[a]=i),i.insertNextId(n),Array.isArray(t.points)?(t.points[3*n+2]=r[2],t.points[3*n+1]=r[1],t.points[3*n]=r[0]):t.points.setPoint(n,r[0],r[1],r[2])},e.isInsertedPoint=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=Array.isArray(r[0])?r[0]:r,s=[0,0,0],u=a(),l=[],c=0,d=0,f=0,m=[0,0,0];for(e.getBucketIndices(o,s),c=0;c<=t.insertionLevel;c++){e.getBucketNeighbors(u,s,t.divisions,c);for(var g=0;g<u.getNumberOfNeighbors();g++){l=u.getPoint(g),f=l[0]+l[1]*t.xD+l[2]*t.sliceSize;var p=t.hashTable[f];if(p)for(var h=p.getNumberOfIds(),y=0;y<h;y++)if(d=p.getId(y),m=Array.isArray(t.points)?[t.points[3*d],t.points[3*d+1],t.points[3*d+2]]:t.points.getPoint(d),v.default.distance2BetweenPoints(o,m)<=t.insertionTol2)return d}}return-1},e.insertUniquePoint=function(t,n){var r=e.isInsertedPoint(t);return r>-1?(n[0]=r,0):(n[0]=e.insertNextPoint(t),1)},e.findClosestInsertedPoint=function(n){var r=0,i=0,o=0,s=[0,0,0],u=0,l=0,c=0,d=0,f=0,m=0,g=null,p=[0,0,0],h=[0,0,0],y=0,A=0,S=a();for(r=0;r<3;r++)if(n[r]<t.bounds[2*r]||n[r]>t.bounds[2*r+1])return-1;for(e.getBucketIndices(n,p),l=0,i=Number.MAX_VALUE,u=0;0===l&&(u<t.divisions[0]||u<t.divisions[1]||u<t.divisions[2]);u++)for(e.getBucketNeighbors(S,p,t.divisions,u),r=0;r<S.getNumberOfNeighbors();r++)if(h=S.getPoint(r),m=h[0]+h[1]*t.xD+h[2]*t.sliceSize,g=t.hashTable[m])for(f=g.getNumberOfIds(),c=0;c<f;c++)d=g.getId(c),s=Array.isArray(t.points)?[t.points[3*d],t.points[3*d+1],t.points[3*d+2]]:t.points.getPoint(d),(o=v.default.distance2BetweenPoints(n,s))<i&&(l=d,i=o);for(e.getBucketNeighbors(S,p,t.divisions,u),r=0;r<S.getNumberOfNeighbors();r++){for(h=S.getPoint(r),o=0,c=0;c<3;c++)p[c]!==h[c]&&(y=p[c]>h[c]?h[c]+1:h[c],A=t.bounds[2*c]+y*t.h[c]-n[c],o+=A*A);if(o<i&&(m=h[0]+h[1]*t.xD+h[2]*t.sliceSize,g=t.hashTable[m]))for(f=g.hetNumberOfIds(),c=0;c<f;c++)d=g.getId(c),s=Array.isArray(t.points)?[t.points[3*d],t.points[3*d+1],t.points[3*d+2]]:t.points.getPoint(d),(o=v.default.distance2BetweenPoints(n,s))<i&&(l=d,i=o)}return l},e.getPointsInBucket=function(n,r){for(var a=0;a<3;a++)if(n[a]<t.bounds[2*a]||n[a]>t.bounds[2*a+1])return null;if(e.getBucketIndices(n,r),t.hashTable){var i=e.getBucketIndex(n);return t.hashTable[i]}return null},e.generateRepresentation=function(n,r){var a=0,i=0,o=[0,0,0],s=[0,0,0],u=0,l=0;if(!t.hashTable)return void D("Can't build representation...no data!");var c=S.default.newInstance(),d=[],f=M.default.newInstance(),m=[];l=t.divisions[0]*t.divisions[1];for(var g=0;g<t.divisions[2];g++){o[2]=g*l,s[2]=(g-1)*l;for(var p=0;p<t.divisions[1];p++){o[1]=p*t.divisions[0],s[1]=(p-1)*t.divisions[0];for(var v=0;v<t.divisions[0];v++)for(o[0]=v,s[0]=v-1,i=o[0]+o[1]+o[2],u=t.hashTable[i]?1:0,a=0;a<3;a++)s[a]<0?u&&e.generateFace(a,v,p,g,d,m):(i=0===a?s[0]+o[1]+o[2]:1===a?o[0]+s[1]+o[2]:o[0]+o[1]+s[2],(!t.hashTable[i]&&u||t.hashTable[i]&&!u)&&e.generateFace(a,v,p,g,d,m)),v+1>=t.divisions[0]&&u&&e.generateFace(0,v+1,p,g,d,m),p+1>=t.divisions[1]&&u&&e.generateFace(1,v,p+1,g,d,m),g+1>=t.divisions[2]&&u&&e.generateFace(2,v,p,g+1,d,m)}}c.setData(new Int32Array(d),3),r.setPoints(c),f.setData(new Float32Array(m)),r.setPolys(f)},e.generateFace=function(e,n,r,a,i,o){var s=[0,0,0,0],u=[0,0,0],l=[0,0,0];u[0]=t.bounds[0]+n*t.hX,u[1]=t.bounds[2]+r*t.hY,u[2]=t.bounds[4]+a*t.hZ,s[0]=i.length/3,i.push(u[0],u[1],u[2]),0===e?(l[0]=u[0],l[1]=u[1]+t.hY,l[2]=u[2],s[1]=i.length/3,i.push(l[0],l[1],l[2]),l[0]=u[0],l[1]=u[1]+t.hY,l[2]=u[2]+t.hZ,s[2]=i.length/3,i.push(l[0],l[1],l[2]),l[0]=u[0],l[1]=u[1],l[2]=u[2]+t.hZ,s[3]=i.length/3,i.push(l[0],l[1],l[2])):1===e?(l[0]=u[0]+t.hX,l[1]=u[1],l[2]=u[2],s[1]=i.length/3,i.push(l[0],l[1],l[2]),l[0]=u[0]+t.hX,l[1]=u[1],l[2]=u[2]+t.hZ,s[2]=i.length/3,i.push(l[0],l[1],l[2]),l[0]=u[0],l[1]=u[1],l[2]=u[2]+t.hZ,s[3]=i.length/3,i.push(l[0],l[1],l[2])):(l[0]=u[0]+t.hX,l[1]=u[1],l[2]=u[2],s[1]=i.length/3,i.push(l[0],l[1],l[2]),l[0]=u[0]+t.hX,l[1]=u[1]+t.hY,l[2]=u[2],s[2]=i.length/3,i.push(l[0],l[1],l[2]),l[0]=u[0],l[1]=u[1]+t.hY,l[2]=u[2],s[3]=i.length/3,i.push(l[0],l[1],l[2])),o.push(4,s[0],s[1],s[2],s[3])},e.distance2ToBucket=function(n,r){var a=[];return 3===r.length&&(a[0]=r[0]*t.hX+t.bX,a[1]=(r[0]+1)*t.hX+t.bX,a[2]=r[1]*t.hY+t.bY,a[3]=(r[1]+1)*t.hY+t.bY,a[4]=r[2]*t.hZ+t.bZ,a[5]=(r[2]+1)*t.hZ+t.bZ),e.distance2ToBounds(n,a)},e.distance2ToBounds=function(e,t){var n=[];return e[0]>=t[0]&&e[0]<=t[1]&&e[1]>=t[2]&&e[1]<=t[3]&&e[2]>=t[4]&&e[2]<=t[5]?0:(n[0]=0,n[1]=0,n[2]=0,e[0]<t[0]?n[0]=t[0]-e[0]:e[0]>t[1]&&(n[0]=e[0]-t[1]),e[1]<t[2]?n[1]=t[2]-e[1]:e[1]>t[3]&&(n[1]=e[1]-t[3]),e[2]<t[4]?n[2]=t[4]-e[2]:e[2]>t[5]&&(n[2]=e[2]-t[5]),v.default.dot(n,n))}}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,w,n),g.default.extend(e,t,n),f.default.setGetArray(e,t,["divisions"],3),f.default.setGet(e,t,["numberOfPointsPerBucket"]),f.default.get(e,t,["points"]),l(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=c;var d=n(0),f=r(d),m=n(252),g=r(m),p=n(1),v=r(p),h=n(18),y=r(h),A=n(6),S=r(A),T=n(11),M=r(T),b=f.default.vtkDebugMacro,D=f.default.vtkErrorMacro,I=t.STATIC={getOctant:i,getMin:o,getMax:s},w={points:null,divisions:[50,50,50],numberOfPointsPerBucket:3,hashTable:null,h:[0,0,0],insertionTol2:1e-4,insertionPointId:0,insertionLevel:0,hX:0,hY:0,hZ:0,fX:0,fY:0,fZ:0,bX:0,bY:0,bZ:0,xD:0,yD:0,zD:0,sliceSize:0},C=t.newInstance=f.default.newInstance(c,"vtkPointLocator");t.default=Object.assign({newInstance:C,extend:c},I)},function(e,t){e.exports=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]},function(e,t,n){"use strict";function r(e){var t=Math.floor(e);return{floored:t,error:e-t}}function a(e){return Math.round(e)}function i(e,t,n){var r=e<=n?e:n;return r-=t,r=r>=0?r:0}function o(e,t,n){var r=n-t+1,a=e-t;return a%=r,a=a>=0?a:a+r}function s(e,t,n){var r=n-t,a=0===r?1:0,i=2*r+a,o=e-t;return o=o>=0?o:-o,o%=i,o=o<=r?o:i-o}Object.defineProperty(t,"__esModule",{value:!0}),t.vtkInterpolationWeights=t.vtkInterpolationInfo=void 0,t.vtkInterpolationMathFloor=r,t.vtkInterpolationMathRound=a,t.vtkInterpolationMathClamp=i,t.vtkInterpolationMathWrap=o,t.vtkInterpolationMathMirror=s;var u=n(95),l=t.vtkInterpolationInfo={pointer:null,extent:[0,-1,0,-1,0,-1],increments:[0,0,0],scalarType:null,dataTypeSize:1,numberOfComponents:1,borderMode:u.ImageBorderMode.CLAMP,interpolationMode:u.InterpolationMode.LINEAR,extraInfo:null},c=t.vtkInterpolationWeights=Object.assign({},l,{positions:[0,0,0],weights:null,weightExtent:[0,-1,0,-1,0,-1],kernelSize:[1,1,1],workspace:null,lastY:null,lastZ:null});t.default={vtkInterpolationInfo:l,vtkInterpolationWeights:c,vtkInterpolationMathFloor:r,vtkInterpolationMathRound:a,vtkInterpolationMathClamp:i,vtkInterpolationMathWrap:o,vtkInterpolationMathMirror:s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkAbstractWidget");var n=Object.assign({},e);e.createDefaultRepresentation=function(){},e.setEnabled=function(r){if(r!==t.enabled){if(t.interactor){var a=t.interactor.getCurrentRenderer();a&&t.widgetRep&&a.removeViewProp(t.widgetRep)}if(n.setEnabled(r),r){if(!t.interactor)return;var i=t.interactor.getCurrentRenderer();if(!i)return;e.createDefaultRepresentation(),t.widgetRep.setRenderer(i),t.widgetRep.buildRepresentation(),i.addViewProp(t.widgetRep)}}},e.render=function(){!t.parent&&t.interactor&&t.interactor.render()},e.get2DPointerPosition=function(e){return[e.position.x,e.position.y]},e.destroy=function(){t.widgetRep.setVisibility(0);var n=t.widgetRep.getRenderer();n&&n.removeViewProp(t.widgetRep),e.setEnabled(0),e.setInteractor(null)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),e.setEnabled(!1),e.setPriority(.5),s.default.setGet(e,t,["widgetRep","parent"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(21),l=r(u),c={widgetRep:null,parent:null},d=t.newInstance=s.default.newInstance(i,"vtkAbstractWidget");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.State={OUTSIDE:0,NEARBY:1},a=t.Operation={INACTIVE:0,TRANSLATE:1,SHIFT:2,SCALE:3};t.default={State:r,Operation:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkWidgetRepresentation"),e.getPickedActor=function(e,n,r,a){return a.pick([e,n,r],t.renderer),a.getActors[0]},e.adjustBounds=function(e,n,r){if(6!==e.length)return void f("vtkWidgetRepresentation::adjustBounds Can't process bounds, not enough values...");r[0]=(e[0]+e[1])/2,r[1]=(e[2]+e[3])/2,r[2]=(e[4]+e[5])/2,n[0]=r[0]+t.placeFactor*(e[0]-r[0]),n[1]=r[0]+t.placeFactor*(e[1]-r[0]),n[2]=r[1]+t.placeFactor*(e[2]-r[1]),n[3]=r[1]+t.placeFactor*(e[3]-r[1]),n[4]=r[2]+t.placeFactor*(e[4]-r[2]),n[5]=r[2]+t.placeFactor*(e[5]-r[2])},e.sizeHandlesInPixels=function(e,n){var r=t.renderer;if(!t.validPick||!r||!r.getActiveCamera())return t.handleSize*e*t.initialLength;var a=l.default.computeWorldToDisplay(r,n[0],n[1],n[2]),i=a[2],o=a[0]-t.handleSize/2,s=a[1]-t.handleSize/2,u=l.default.computeDisplayToWorld(r,o,s,i);o=a[0]+t.handleSize/2,s=a[1]+t.handleSize/2;for(var c=l.default.computeDisplayToWorld(r,o,s,i),d=0,f=0;f<3;f++)d+=(c[f]-u[f])*(c[f]-u[f]);return e*(Math.sqrt(d)/2)},e.sizeHandlesRelativeToViewport=function(e,n){var r=t.renderer;if(!t.validPick||!r||!r.getActiveCamera())return t.handleSize*e*t.initialLength;var a=r.getViewport(),i=r.getRenderWindow().getViews()[0],o=i.getViewportSize(r),s=l.default.computeWorldToDisplay(r,n[0],n[1],n[2]),u=s[2],c=o[0]*a[0],d=o[1]*a[1],f=l.default.computeDisplayToWorld(r,c,d,u);c=o[0]*a[2],d=o[1]*a[3];for(var m=l.default.computeDisplayToWorld(r,c,d,u),g=0,p=0;p<3;p++)g+=(m[p]-f[p])*(m[p]-f[p]);return e*(Math.sqrt(g)/2)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),d.default.extend(e,t,n),t.buildTime={},s.default.obj(t.buildTime,{mtime:0}),s.default.setGet(e,t,["renderer","handleSize","placeFactor","needToRender","interactionState"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(21),l=r(u),c=n(85),d=r(c),f=s.default.vtkErrorMacro,m={renderer:null,interactionState:0,startEventPosition:[0,0,0],lastEventPosition:[0,0,0],placeFactor:.5,placed:0,handleSize:.05,validPick:0,initialBounds:[0,1,0,1,0,1],initialLength:0,needToRender:0,buildTime:null},g=t.newInstance=s.default.newInstance(i,"vtkWidgetRepresentation");t.default={newInstance:g,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkTransformPolyDataFilter"),e.getMTime=function(){var e=t.mtime;if(t.transform){var n=t.transform.getMTime();e=n>e?n:e}return e},e.requestData=function(e,n){var r=e[0];if(!t.transform)return void p("No transform defined!");if(!r)return void p("Invalid or missing input");var a=l.default.newInstance(),i=r.getPointData(),o=r.getCellData(),s=a.getPointData(),u=a.getCellData(),c=r.getPoints();if(!c)return void p("Invalid or missing input");var f=i.getVectors(),v=o.getVectors(),h=null,y=null,A=i.getNormals(),S=o.getNormals(),T=null,M=null,b=c.getNumberOfPoints(),D=r.getNumberOfCells(),I=null;I=2===t.outputPointsPrecision?d.default.newInstance({dataType:g.VtkDataTypes.FLOAT}):0===t.outputPointsPrecision?d.default.newInstance({dataType:g.VtkDataTypes.FLOAT}):1===t.outputPointsPrecision?d.default.newInstance({dataType:g.VtkDataTypes.DOUBLE}):d.default.newInstance(),I.setNumberOfPoints(b),f&&(h=m.default.newInstance({numberOfComponents:3,size:3*b,dataType:g.VtkDataTypes.FLOAT}),h.setName(f.getName())),A&&(T=m.default.newInstance({numberOfComponents:3,size:3*b,dataType:g.VtkDataTypes.FLOAT}),T.setName(A.getName())),f||A?t.transform.transformPointsNormalsVectors(c,I,A,T,f,h):t.transform.transformPoints(c,I),t.transform.isA("vtkLinearTransform")&&(v&&(y=m.default.newInstance({numberOfComponents:3,size:3*D,dataType:g.VtkDataTypes.FLOAT}),y.setName(v.getName()),t.transform.transformVectors(v,y)),S&&(M=m.default.newInstance({numberOfComponents:3,size:3*D,dataType:g.VtkDataTypes.FLOAT}),M.setName(S.getName()),t.transform.transformNormals(S,M))),a.setPoints(I),a.setVerts(r.getVerts()),a.setLines(r.getLines()),a.setPolys(r.getPolys()),a.setStrips(r.getStrips()),T&&(s.setNormals(T),s.copyNormalsOff()),h&&(s.setVectors(h),s.copyVectorsOff()),M&&(u.setNormals(M),u.copyNormalsOff()),y&&(u.setVectors(y),u.copyVectorsOff()),s.passData(i),u.passData(o),n[0]=a}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,v,n),s.default.obj(e,t),s.default.algo(e,t,1,1),s.default.setGet(e,t,["outputPointsPrecision","transform"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(4),l=r(u),c=n(6),d=r(c),f=n(2),m=r(f),g=n(5),p=s.default.vtkErrorMacro,v={outputPointsPrecision:2,transform:null},h=t.newInstance=s.default.newInstance(i,"vtkTransformPolyDataFilter");t.default={newInstance:h,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){var i=[];return T.default.computeNormal(e,t,n,i),0===i[0]&&0===i[1]&&0===i[2]?0:b.default.intersectWithLine(r,a,e,i).t}function i(e,t,n,r,a,i,o){var s={dist2:0,evaluation:-1},u=void 0,l=void 0,c=void 0,d=[],f=[],m=[],g=0,v=0,h=[],y=void 0,A=void 0,S=void 0,T=[],M=[],D=[],w=[];o[2]=0,b.default.generalizedProjectPoint(a,e,r,w);var C=0;for(u=0;u<3;u++)(c=r[u]<0?-r[u]:r[u])>C&&(C=c,v=u);for(l=0,u=0;u<3;u++)u!==v&&(h[l++]=u);for(u=0;u<2;u++)d[u]=w[h[u]]-n[h[u]],f[u]=e[h[u]]-n[h[u]],m[u]=t[h[u]]-n[h[u]];if(0===(g=p.default.determinant2x2(f,m)))return o[0]=0,o[1]=0,s.evaluation=-1,s;o[0]=p.default.determinant2x2(d,m)/g,o[1]=p.default.determinant2x2(f,d)/g;var N=[];if(N[0]=1-(o[0]+o[1]),N[1]=o[0],N[2]=o[1],N[0]>=0&&N[0]<=1&&N[1]>=0&&N[1]<=1&&N[2]>=0&&N[2]<=1)i&&(s.dist2=p.default.distance2BetweenPoints(w,a),i[0]=w[0],i[1]=w[1],i[2]=w[2]),s.evaluation=1;else{var P=void 0;if(i)if(N[1]<0&&N[2]<0)for(y=p.default.distance2BetweenPoints(a,n),A=I.default.distanceToLine(a,e,n,P,M),S=I.default.distanceToLine(a,n,t,P,D),y<A?(s.dist2=y,T=n):(s.dist2=A,T=M),S<s.dist2&&(s.dist2=S,T=D),u=0;u<3;u++)i[u]=T[u];else if(N[2]<0&&N[0]<0)for(y=p.default.distance2BetweenPoints(a,e),A=I.default.distanceToLine(a,e,n,P,M),S=I.default.distanceToLine(a,e,t,P,D),y<A?(s.dist2=y,T=e):(s.dist2=A,T=M),S<s.dist2&&(s.dist2=S,T=D),u=0;u<3;u++)i[u]=T[u];else if(N[1]<0&&N[0]<0)for(y=p.default.distance2BetweenPoints(a,t),A=I.default.distanceToLine(a,t,n,P,M),S=I.default.distanceToLine(a,e,t,P,D),y<A?(s.dist2=y,T=t):(s.dist2=A,T=M),S<s.dist2&&(s.dist2=S,T=D),u=0;u<3;u++)i[u]=T[u];else if(N[0]<0){var x=I.default.distanceToLine(a,e,t,i);s.dist2=x.distance}else if(N[1]<0){var E=I.default.distanceToLine(a,t,n,i);s.dist2=E.distance}else if(N[2]<0){var O=I.default.distanceToLine(a,e,n,i);s.dist2=O.distance}s.evaluation=0}return s}function o(e,t,n,r,a,i){var o={dist2:0,evaluation:-1},s=[],u=[],l=[],c=[],d=[];i[2]=0,b.default.generalizedProjectPoint(a,e,r,d);for(var f=0,m=0,g=0;g<3;g++){var v=r[g]<0?-r[g]:r[g];v>f&&(f=v,m=g)}for(var h=0,y=0;y<3;y++)y!==m&&(c[h++]=y);for(var A=0;A<2;A++)s[A]=d[c[A]]-n[c[A]],u[A]=e[c[A]]-n[c[A]],l[A]=t[c[A]]-n[c[A]];var S=p.default.determinant2x2(u,l);if(0===S)return i[0]=0,i[1]=0,o.evaluation=-1,o;i[0]=p.default.determinant2x2(s,l)/S,i[1]=p.default.determinant2x2(u,s)/S;var T=[];return T[0]=1-(i[0]+i[1]),T[1]=i[0],T[2]=i[1],T[0]>=0&&T[0]<=1&&T[1]>=0&&T[1]<=1&&T[2]>=0&&T[2]<=1?o.evaluation=1:o.evaluation=0,o}function s(e,t,n,r,a,i,s,u){var l={t:0,intersect:-1};u[2]=0;var c=[];T.default.computeNormalDirection(e,t,n,c);var d=[c[0],c[1],c[2]],f=d[0]*d[0]+d[1]*d[1]+d[2]*d[2];if(0!==f){var m=Math.sqrt(f);d[0]/=m,d[1]/=m,d[2]/=m}if(0!==d[0]||0!==d[1]||0!==d[2]){var g=b.default.intersectWithLine(r,a,e,d);if(l.t=g.t,s[0]=g.x[0],s[1]=g.x[1],s[2]=g.x[2],!g.intersection)return u[0]=0,u[1]=0,l.intersect=0,l;var v=o(e,t,n,c,s,u);if(v.evaluation>=0)return l.intersect=v.evaluation,l}var h=I.default.newInstance(),y=p.default.distance2BetweenPoints(e,t),A=p.default.distance2BetweenPoints(t,n),S=p.default.distance2BetweenPoints(n,e);if(y>A&&y>S?(h.getPoints().setPoint(0,e[0],e[1],e[2]),h.getPoints().setPoint(1,t[0],t[1],t[2])):A>S&&A>y?(h.getPoints().setPoint(0,t[0],t[1],t[2]),h.getPoints().setPoint(1,n[0],n[1],n[2])):(h.getPoints().setPoint(0,n[0],n[1],n[2]),h.getPoints().setPoint(1,e[0],e[1],e[2])),h.intersectWithLine(r,a,i,s,u).intersect){for(var M=[],D=[],w=[],C=0;C<3;C++)M[C]=e[C]-n[C],D[C]=t[C]-n[C],w[C]=s[C]-n[C];return u[0]=p.default.dot(w,M)/S,u[1]=p.default.dot(w,D)/A,l.intersect=1,l}return u[0]=0,u[1]=0,l.intersect=0,l}function u(e){for(var t=[e[0],e[1],1-e[0]-e[1]],n=void 0,r=0,a=0;a<3;a++)(n=t[a]<0?-t[a]:t[a]>1?t[a]-1:0)>r&&(r=n);return r}function l(e,t,n,r){for(var a={planeId:-1,t1:0,t2:1,intersect:0},i=e.getNumberOfClippingPlanes(),o=[],s=0;s<i;s++){e.getClippingPlaneInDataCoords(t,s,o);var u=o[0]*n[0]+o[1]*n[1]+o[2]*n[2]+o[3],l=o[0]*r[0]+o[1]*r[1]+o[2]*r[2]+o[3];if(u<0&&l<0)return 0;if(u<0||l<0){var c=0;if(0!==u&&(c=u/(u-l)),u<0?c>=a.t1&&(a.t1=c,a.planeId=s):c<=a.t2&&(a.t2=c),a.t1>a.t2)return a.intersect=0,a}}return a.intersect=1,a}function c(e,t){function n(){t.pointId=-1,t.cellId=-1,t.pCoords[0]=0,t.pCoords[1]=0,t.pCoords[2]=0,t.cellIJK[0]=0,t.cellIJK[1]=0,t.cellIJK[2]=0,t.pointIJK[0]=0,t.pointIJK[1]=0,t.pointIJK[2]=0,t.mapperNormal[0]=0,t.mapperNormal[1]=0,t.mapperNormal[2]=1,t.pickNormal[0]=0,t.pickNormal[1]=0,t.pickNormal[2]=1}function r(){t.dataSet=null,t.mapper=null,n()}t.classHierarchy.push("vtkCellPicker");var a=Object.assign({},e);e.initialize=function(){r(),a.initialize()},e.computeSurfaceNormal=function(e,t,n,r){var a=e.getPointData().getNormals();if(!a)return 0;r[0]=0,r[1]=0,r[2]=0;for(var i=[],o=0;o<3;o++)a.getTuple(t.getPointsIds()[o],i),r[0]+=i[0]*n[o],r[1]+=i[1]*n[o],r[2]+=i[2]*n[o];return p.default.normalize(r),1},e.pick=function(e,n){var r=a.pick(e,n);if(!r){var i=n.getActiveCamera(),o=i.getPosition();if(i.getParallelProjection()){var s=i.getFocalPoint();t.pickNormal[0]=o[0]-s[0],t.pickNormal[1]=o[1]-s[1],t.pickNormal[2]=o[2]-s[2]}else t.pickNormal[0]=o[0]-t.pickPosition[0],t.pickNormal[1]=o[1]-t.pickPosition[1],t.pickNormal[2]=o[2]-t.pickPosition[2];p.default.normalize(t.pickNormal)}return r},e.intersectWithLine=function(n,r,a,i,o){var s=Number.MAX_VALUE,u=l(o,t.transformMatrix,n,r,0,1);if(o&&!u.intersect)return Number.MAX_VALUE;if(o.isA("vtkImageMapper")){var c=o.intersectWithLineForCellPicking(n,r);c&&(s=0,t.cellIJK=c.ijk,t.pCoords=c.point)}else o.isA("vtkMapper")&&(s="simple"===t.pickMethod?e.intersectActorWithLineSimple(n,r,0,1,a,o):"webworker"===t.pickMethod?e.intersectActorWithLineWebworker(n,r,0,1,a,o):e.intersectActorWithLine(n,r,0,1,a,o));if(s<t.globalTMin){if(t.globalTMin=s,e.setPath(i),Math.abs(s-0)<1e-14&&u.clippingPlaneId>=0){t.mapperPosition[0]=1*n[0]+0*r[0],t.mapperPosition[1]=1*n[1]+0*r[1],t.mapperPosition[2]=1*n[2]+0*r[2];var d=[];o.getClippingPlaneInDataCoords(t.transformMatrix,u.clippingPlaneId,d),p.default.normalize(d),t.mapperNormal[0]=-d[0],t.mapperNormal[1]=-d[1],t.mapperNormal[2]=-d[2]}N.vec3.transformMat4(t.pickPosition,t.mapperPosition,t.transformMatrix);var f=t.transformMatrix;t.mapperNormal[0]=f[0]*t.pickNormal[0]+f[4]*t.pickNormal[1]+f[8]*t.pickNormal[2],t.mapperNormal[1]=f[1]*t.pickNormal[0]+f[5]*t.pickNormal[1]+f[9]*t.pickNormal[2],t.mapperNormal[2]=f[2]*t.pickNormal[0]+f[6]*t.pickNormal[1]+f[10]*t.pickNormal[2]}return s},e.intersectActorWithLine=function(n,a,i,o,s,u){var l=Number.MAX_VALUE,c=[0,0,0],d=Number.MAX_VALUE,f=[0,0,0],m=-1,g=T.default.newInstance(),v=[],h=u.getInputData(),y=[n[0],n[1],n[2]],S=[a[0],a[1],a[2]];if(0!==i||1!==o)for(var M=0;M<3;M++)y[M]=n[M]*(1-i)+a[M]*i,S[M]=n[M]*(1-o)+a[M]*o;if(h.getPolys)for(var b=h.getPolys(),D=h.getPoints(),I=D.getData(),w=b.getData(),C=0,N=[-1,-1,-1],P=T.default.newInstance(),x=A.default.newInstance(),E=[],O=0;O<w.length;C++){var L=[0,0,0],_=w[O++];x.setNumberOfPoints(_),x.setNumberOfComponents(3),E.length=3*_;for(var R=0,k=0;k<_;k++)N[k]=w[O++],E[R++]=I[3*N[k]],E[R++]=I[3*N[k]+1],E[R++]=I[3*N[k]+2];x.setData(E),P.initializeNoCopy(x.getNumberOfPoints(),N,x);var B=void 0;if(B=P.intersectWithLine(n,a,s,v,L),1===B.intersect&&B.t<=l+t.tolerance&&B.t>=i&&B.t<=o){var V=P.getParametricDistance(L);if(V<d||V===d&&B.t<l){l=B.t,d=V,m=C,P.deepCopy(g);for(var F=0;F<3;F++)c[F]=v[F],f[F]=L[F]}}}if(m>=0&&l<t.globalTMin){r();for(var j=g.getNumberOfPoints(),U=new Array(j),z=0;z<j;z++)U[z]=0;var G=[];g.evaluateLocation(f,G,U),t.mapper=u,t.dataSet=h,t.cellId=m,t.pCoords[0]=f[0],t.pCoords[1]=f[1],t.pCoords[2]=f[2];for(var W=0,Q=-1,Y=0;Y<j;Y++)U[Y]>W&&(Q=Y,W=U[Y]);-1!==Q&&(t.pointId=g.getPointsIds()[Q]),t.mapperPosition[0]=c[0],t.mapperPosition[1]=c[1],t.mapperPosition[2]=c[2],e.computeSurfaceNormal(h,g,U,t.mapperNormal)||(t.mapperNormal[0]=n[0]-a[0],t.mapperNormal[1]=n[1]-a[1],t.mapperNormal[2]=n[2]-a[2],p.default.normalize(t.mapperNormal))}return l},e.intersectActorWithLineSimple=function(n,a,i,o,l,c){var d=Number.MAX_VALUE,f=Number.MAX_VALUE,m=[0,0,0],g=-1,p=[],v=c.getInputData(),h=[0,0,0],y=[0,0,0],A=[0,0,0],S=[0,0,0];if(v.getPolys)for(var T=v.getPoints().getData(),M=v.getPolys().getData(),b=[[],[],[]],D=[0,0,0],I=0,w=0;w<M.length;I++){var C=M[w++];if(C<3)w+=C;else{for(var N=3*M[w],P=0;P<3;P++)D[P]=M[w+P],N=3*D[P],b[P][0]=T[N],b[P][1]=T[N+1],b[P][2]=T[N+2];if(w+=C,S[0]=(b[0][0]+b[1][0]+b[2][0])/3,S[1]=(b[0][1]+b[1][1]+b[2][1])/3,S[2]=(b[0][2]+b[1][2]+b[2][2])/3,!e.testWorldPosition(S,200)){var x=s(b[1],b[2],b[0],n,a,l,h,A);if(1===x.intersect&&x.t<=d+t.tolerance&&x.t>=i&&x.t<=o){var E=u(A);if(E<f||E===f&&x.t<d){d=x.t,f=E,g=I;for(var O=0;O<3;O++)p[O]=D[O],y[O]=h[O],m[O]=A[O]}}}}}if(g>=0&&d<t.globalTMin){r(),t.mapper=c,t.dataSet=v,t.cellId=g,t.pCoords[0]=m[0],t.pCoords[1]=m[1],t.pCoords[2]=m[2];var L=new Array(p.length);L[0]=1-m[0]-m[1],L[1]=m[0],L[2]=m[1];for(var _=0,R=1;R<p.length;R++)L[R]>L[_]&&(_=R);t.pointId=p[_],t.mapperPosition[0]=y[0],t.mapperPosition[1]=y[1],t.mapperPosition[2]=y[2]}return d},e.intersectActorWithLineWebworker=function(e,n,a,i,o,u){var l=u.getInputData();if(!l.getPolys)return Number.MAX_VALUE;var c=l.getPoints().getData(),d=l.getPolys().getData(),f=l.getPolys().getNumberOfCells();if(f>=15e3){for(var m=[],g=[],p=[],v=Math.ceil(f/3),h=0,y=0;y<d.length;h++)h%v==0&&(g.push(y),p.push(h)),y+=d[y]+1;g.push(d.length),p.push(f);for(var A=0;A<3;A++){var S=d.slice(g[A],g[A+1]);m.push(S)}var M=[];m.forEach(function(r,s){var u=new x.default,l=new C.default(u);M.push(l.postMessage({inputData:r,pointsData:c,cellStart:p[s],p1:e,p2:n,t1:a,t2:i,tol:o,tolerance:t.tolerance},[r.buffer]))});var b=Number.MAX_VALUE,D=Number.MAX_VALUE,I=-1,w=[!1];return Promise.all(M).then(function(e){if(e.forEach(function(e,t){(e.pDistMin<D||e.pDistMin===D&&e.tMin<b)&&(b=e.tMin,D=e.pDistMin,I=t)}),I>=0&&b<t.globalTMin){r(),t.mapper=u,t.dataSet=l;var n=e[I];t.cellId=n.minCellId,t.pCoords[0]=n.minPCoords[0],t.pCoords[1]=n.minPCoords[1],t.pCoords[2]=n.minPCoords[2],t.mapperPosition[0]=n.minXYZ[0],t.mapperPosition[1]=n.minXYZ[1],t.mapperPosition[2]=n.minXYZ[2]}w[0]=!0}).catch(function(e){w[0]=!0}),b}for(var N=Number.MAX_VALUE,P=Number.MAX_VALUE,E=[0,0,0],O=-1,L=[0,0,0],_=T.default.newInstance(),R=[0,0,0],k=[0,0,0],B=[[],[],[]],V=0,F=0;F<d.length;V++)if(!(d[F++]<3)){for(var j=0;j<3;j++){var U=d[F++];B[j][0]=c[3*U],B[j][1]=c[3*U+1],B[j][2]=c[3*U+2]}var z=s(B[1],B[2],B[0],e,n,o,R,k);if(1===z.intersect&&z.t<=N+t.tolerance&&z.t>=a&&z.t<=i){var G=_.getParametricDistance(k);(G<P||G===P&&z.t<N)&&(N=z.t,P=G,O=V,L[0]=R[0],L[1]=R[1],L[2]=R[2],E[0]=k[0],E[1]=k[1],E[2]=k[2])}}return O>=0&&N<t.globalTMin&&(r(),t.mapper=u,t.dataSet=l,t.cellId=O,t.pCoords[0]=E[0],t.pCoords[1]=E[1],t.pCoords[2]=E[2],t.mapperPosition[0]=L[0],t.mapperPosition[1]=L[1],t.mapperPosition[2]=L[2]),N},e.pickSimple=function(n,r){var i=[];i=t.pickFromList?t.pickList:r.getViewProps();var o=0;i.forEach(function(e){var t=e.getPickable()&&e.getVisibility();t&&e.getProperty().getOpacity()<=0&&(t=!1),t&&!e.getMatrix()&&(t=!1);var n=e.getMapper();t&&n&&n.isA("vtkMapper")&&(o+=n.getInputData().getPolys().getData().length/3)});var s=!1;if(o>=1e4?(t.pickMethod="simple",t.renderer=r,e.prepareWorldToDisplayData(),s=a.pickSimple(n,r)):(t.pickMethod="",s=a.pick(n,r)),!s){var u=r.getActiveCamera(),l=u.getPosition();if(u.getParallelProjection()){var c=u.getFocalPoint();t.pickNormal[0]=l[0]-c[0],t.pickNormal[1]=l[1]-c[1],t.pickNormal[2]=l[2]-c[2]}else t.pickNormal[0]=l[0]-t.pickPosition[0],t.pickNormal[1]=l[1]-t.pickPosition[1],t.pickNormal[2]=l[2]-t.pickPosition[2];p.default.normalize(t.pickNormal)}return t.pickMethod="",s},e.pickWebworker=function(e,n){t.pickMethod="webworker";var r=a.pickSimple(e,n);if(!r){var i=n.getActiveCamera(),o=i.getPosition();if(i.getParallelProjection()){var s=i.getFocalPoint();t.pickNormal[0]=o[0]-s[0],t.pickNormal[1]=o[1]-s[1],t.pickNormal[2]=o[2]-s[2]}else t.pickNormal[0]=o[0]-t.pickPosition[0],t.pickNormal[1]=o[1]-t.pickPosition[1],t.pickNormal[2]=o[2]-t.pickPosition[2];p.default.normalize(t.pickNormal)}return t.pickMethod="",r},e.pickWebworker2=function(e,n){t.pickMethod="webworker2";var r=a.pickWebworker2(e,n);if(!r){var i=n.getActiveCamera(),o=i.getPosition();if(i.getParallelProjection()){var s=i.getFocalPoint();t.pickNormal[0]=o[0]-s[0],t.pickNormal[1]=o[1]-s[1],t.pickNormal[2]=o[2]-s[2]}else t.pickNormal[0]=o[0]-t.pickPosition[0],t.pickNormal[1]=o[1]-t.pickPosition[1],t.pickNormal[2]=o[2]-t.pickPosition[2];p.default.normalize(t.pickNormal)}return t.pickMethod="",r},e.prepareWorldToDisplayData=function(){if(t.worldToDisplayData=null,t.renderer&&t.renderer.getVTKWindow().getViews()){var e=t.renderer.getActiveCamera();if(e){var n=t.renderer.getVTKWindow().getViews()[0];if(n){t.worldToDisplayData={};var r=t.worldToDisplayData,a=n.getViewportSize(t.renderer),i=e.getCompositeProjectionMatrix(a[0]/a[1],-1,1);N.mat4.transpose(i,i),r.matrix=i;var o=t.renderer.getViewport();r.scale=[o[2]-o[0],o[3]-o[1]],r.viewport=o,r.size=n.getSize(),r.cacheKX=.5*r.scale[0]*r.size[0],r.cacheBX=(.5*r.scale[0]+r.viewport[0])*r.size[0],r.cacheKY=.5*r.scale[1]*r.size[1],r.cacheBY=(.5*r.scale[1]+r.viewport[1])*r.size[1]}}}},e.worldToDisplay2=function(e){var n=t.worldToDisplayData;if(!n)return null;var r=[0,0,0];N.vec3.transformMat4(r,e,n.matrix);var a=.5*(r[0]+1),i=.5*(r[1]+1),o=.5*(r[2]+1);return a=a*n.scale[0]+n.viewport[0],i=i*n.scale[1]+n.viewport[1],a*=n.size[0],i*=n.size[1],[a,i,o]},e.worldToDisplay3=function(e){var n=t.worldToDisplayData;if(!n)return null;var r=[0,0,0];return N.vec3.transformMat4(r,e,n.matrix),[r[0]*n.cacheKX+n.cacheBX,r[1]*n.cacheKY+n.cacheBY,.5*(r[2]+1)]},e.worldToDisplay4=function(e){var n=t.worldToDisplayData;if(!n)return null;var r=n.matrix,a=e[0],i=e[1],o=e[2],s=r[3]*a+r[7]*i+r[11]*o+r[15];s=s||1;var u=[(r[0]*a+r[4]*i+r[8]*o+r[12])/s,(r[1]*a+r[5]*i+r[9]*o+r[13])/s];return[u[0]*n.cacheKX+n.cacheBX,u[1]*n.cacheKY+n.cacheBY]},e.worldToDisplay=function(e){var n=t.worldToDisplayData;if(!n)return null;var r=n.matrix,a=e[0],i=e[1],o=e[2],s=r[3]*a+r[7]*i+r[11]*o+r[15];s=s||1;var u=(r[0]*a+r[4]*i+r[8]*o+r[12])/s,l=(r[1]*a+r[5]*i+r[9]*o+r[13])/s;return[u*n.cacheKX+n.cacheBX,l*n.cacheKY+n.cacheBY]},e.worldToDisplayXYZ=function(t,n,r){return e.worldToDisplay([t,n,r])},e.testWorldPosition=function(n,r){var a=e.worldToDisplay(n);if(!a)return!1;var i=t.selectionPoint;return(a[0]-i[0])*(a[0]-i[0])+(a[1]-i[1])*(a[1]-i[1])>=r},e.testWorldToDisplay=function(t){for(var n=(performance.now(),0);n<1e3;n++)e.worldToDisplay(t);for(var r=(performance.now(),performance.now(),0);r<1e3;r++)e.worldToDisplay2(t);for(var a=(performance.now(),performance.now(),0);a<1e3;a++)e.worldToDisplay3(t);for(var i=(performance.now(),performance.now(),0);i<1e3;i++)e.worldToDisplay4(t);performance.now()}}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,O,n),h.default.extend(e,t,n),m.default.getArray(e,t,["pickNormal","mapperNormal","pCoords"]),m.default.get(e,t,["pointId","cellId","subId","pointIJK","cellIJK"]),c(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=d;var f=n(0),m=r(f),g=n(1),p=r(g),v=n(216),h=r(v),y=n(6),A=r(y),S=n(122),T=r(S),M=n(60),b=r(M),D=n(123),I=r(D),w=n(132),C=r(w),N=n(3),P=n(534),x=r(P),E=t.STATIC={clipLineWithPlane:l,evaluateT:a,evaluatePosition:i,evaluatePositionFast:o},O={pointId:-1,cellId:-1,subId:-1,pCoords:[],pointIJK:[],cellIJK:[],pickNormal:[],mapperNormal:[],pointIds:[],pickMethod:"",worldToDisplayData:null},L=t.newInstance=m.default.newInstance(d,"vtkCellPicker");t.default=Object.assign({newInstance:L,extend:d},E)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkImageResliceSimple"),e.requestData=function(n,r){var a=n[0];if(!a)return void f("Invalid or missing input");if(t.orientation<0||t.orientation>2)return void f("Invalid orientation: "+t.orientation);var i=a.getPointData().getScalars();if(!i)return void f("No scalars from input");var o=a.getOrigin(),s=a.getExtent(),u=a.getSpacing(),c=a.getDimensions(),m=[0,0,t.originZ],g=[0,0,0,0,0,0],p=[1,1,1],v=0,h=1;0===t.orientation?(v=1,h=2):1===t.orientation&&(v=0,h=2);var y=[s[2*v+1]-s[2*v]+1,s[2*h+1]-s[2*h]+1];g[1]=y[0]-1,g[3]=y[1]-1,m[0]=o[v]+s[2*v]*u[v],m[1]=o[h]+s[2*h]*u[h],p[0]=u[v],p[1]=u[h];var A=i.getNumberOfComponents(),S=i.getData(),T=new S.constructor(y[0]*y[1]*A),M=t.sliceIndex;M<0&&(M=0),M>=c[t.orientation]&&(M=c[t.orientation]-1),t.flipX||t.flipY?e.extractDataWithFlip(T,S,y,c,A,M):e.extractDataNoFlip(T,S,y,c,A,M);var b=d.default.newInstance({name:i.getName(),numberOfComponents:A,values:T}),D=l.default.newInstance();D.setOrigin(m),D.setExtent.apply(D,g),D.setSpacing(p),D.getPointData().setScalars(b),r[0]=D},e.extractDataNoFlip=function(e,n,r,a,i,o){var s=t.orientation,u=0;if(1===i)for(var l=0;l<r[1];l++)for(var c=0;c<r[0];c++){var d=0;d=0===s?l*a[0]*a[1]+c*a[0]+o:1===s?l*a[0]*a[1]+o*a[0]+c:o*a[0]*a[1]+l*a[0]+c,e[u++]=n[d]}else if(2===i)for(var f=0;f<r[1];f++)for(var m=0;m<r[0];m++){var g=0;g=0===s?2*(f*a[0]*a[1]+m*a[0]+o):1===s?2*(f*a[0]*a[1]+o*a[0]+m):2*(o*a[0]*a[1]+f*a[0]+m),e[u++]=n[g++],e[u++]=n[g]}else if(3===i)for(var p=0;p<r[1];p++)for(var v=0;v<r[0];v++){var h=0;h=0===s?3*(p*a[0]*a[1]+v*a[0]+o):1===s?3*(p*a[0]*a[1]+o*a[0]+v):3*(o*a[0]*a[1]+p*a[0]+v),e[u++]=n[h++],e[u++]=n[h++],e[u++]=n[h]}else for(var y=0;y<r[1];y++)for(var A=0;A<r[0];A++){var S=0;S=0===s?(y*a[0]*a[1]+A*a[0]+o)*i:1===s?(y*a[0]*a[1]+o*a[0]+A)*i:(o*a[0]*a[1]+y*a[0]+A)*i;for(var T=0;T<i;T++)e[u++]=n[S++]}},e.extractDataWithFlip=function(e,n,r,a,i,o){var s=t.orientation,u=0;if(1===i)for(var l=0;l<r[1];l++)for(var c=0;c<r[0];c++){var d=0,f=t.flipX?r[0]-c-1:c,m=t.flipY?r[1]-l-1:l;d=0===s?m*a[0]*a[1]+f*a[0]+o:1===s?m*a[0]*a[1]+o*a[0]+f:o*a[0]*a[1]+m*a[0]+f,e[u++]=n[d]}else if(2===i)for(var g=0;g<r[1];g++)for(var p=0;p<r[0];p++){var v=0,h=t.flipX?r[0]-p-1:p,y=t.flipY?r[1]-g-1:g;v=0===s?2*(y*a[0]*a[1]+h*a[0]+o):1===s?2*(y*a[0]*a[1]+o*a[0]+h):2*(o*a[0]*a[1]+y*a[0]+h),e[u++]=n[v++],e[u++]=n[v]}else if(3===i)for(var A=0;A<r[1];A++)for(var S=0;S<r[0];S++){var T=0,M=t.flipX?r[0]-S-1:S,b=t.flipY?r[1]-A-1:A;T=0===s?3*(b*a[0]*a[1]+M*a[0]+o):1===s?3*(b*a[0]*a[1]+o*a[0]+M):3*(o*a[0]*a[1]+b*a[0]+M),e[u++]=n[T++],e[u++]=n[T++],e[u++]=n[T]}else for(var D=0;D<r[1];D++)for(var I=0;I<r[0];I++){var w=0,C=t.flipX?r[0]-I-1:I,N=t.flipY?r[1]-D-1:D;w=0===s?(N*a[0]*a[1]+C*a[0]+o)*i:1===s?(N*a[0]*a[1]+o*a[0]+C)*i:(o*a[0]*a[1]+N*a[0]+C)*i;for(var P=0;P<i;P++)e[u++]=n[w++]}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),s.default.obj(e,t),s.default.algo(e,t,1,1),s.default.setGet(e,t,["sliceIndex","orientation","originZ","flipX","flipY"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(22),l=r(u),c=n(2),d=r(c),f=s.default.vtkErrorMacro,m={orientation:2,sliceIndex:0,originZ:0,flipX:0,flipY:0},g=t.newInstance=s.default.newInstance(i,"vtkImageResliceSimple");t.default={newInstance:g,extend:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.StructuredType={UNCHANGED:0,SINGLE_POINT:1,X_LINE:2,Y_LINE:3,Z_LINE:4,XY_PLANE:5,YZ_PLANE:6,XZ_PLANE:7,XYZ_GRID:8,EMPTY:9};t.default={StructuredType:r}},function(e,t,n){"use strict";function r(){var e=new _.ARRAY_TYPE(9);return _.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function a(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function i(e){var t=new _.ARRAY_TYPE(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(e,t,n,r,a,i,o,s,u){var l=new _.ARRAY_TYPE(9);return l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=a,l[5]=i,l[6]=o,l[7]=s,l[8]=u,l}function u(e,t,n,r,a,i,o,s,u,l){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=l,e}function l(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function c(e,t){if(e===t){var n=t[1],r=t[2],a=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=r,e[7]=a}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function d(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=c*o-s*l,f=-c*i+s*u,m=l*i-o*u,g=n*d+r*f+a*m;return g?(g=1/g,e[0]=d*g,e[1]=(-c*r+a*l)*g,e[2]=(s*r-a*o)*g,e[3]=f*g,e[4]=(c*n-a*u)*g,e[5]=(-s*n+a*i)*g,e[6]=m*g,e[7]=(-l*n+r*u)*g,e[8]=(o*n-r*i)*g,e):null}function f(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8];return e[0]=o*c-s*l,e[1]=a*l-r*c,e[2]=r*s-a*o,e[3]=s*u-i*c,e[4]=n*c-a*u,e[5]=a*i-n*s,e[6]=i*l-o*u,e[7]=r*u-n*l,e[8]=n*o-r*i,e}function m(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],l=e[8];return t*(l*i-o*u)+n*(-l*a+o*s)+r*(u*a-i*s)}function g(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=n[0],m=n[1],g=n[2],p=n[3],v=n[4],h=n[5],y=n[6],A=n[7],S=n[8];return e[0]=f*r+m*o+g*l,e[1]=f*a+m*s+g*c,e[2]=f*i+m*u+g*d,e[3]=p*r+v*o+h*l,e[4]=p*a+v*s+h*c,e[5]=p*i+v*u+h*d,e[6]=y*r+A*o+S*l,e[7]=y*a+A*s+S*c,e[8]=y*i+A*u+S*d,e}function p(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=n[0],m=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=f*r+m*o+l,e[7]=f*a+m*s+c,e[8]=f*i+m*u+d,e}function v(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=Math.sin(n),m=Math.cos(n);return e[0]=m*r+f*o,e[1]=m*a+f*s,e[2]=m*i+f*u,e[3]=m*o-f*r,e[4]=m*s-f*a,e[5]=m*u-f*i,e[6]=l,e[7]=c,e[8]=d,e}function h(e,t,n){var r=n[0],a=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=a*t[3],e[4]=a*t[4],e[5]=a*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function y(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function A(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function S(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function T(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function M(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,u=a+a,l=n*o,c=r*o,d=r*s,f=a*o,m=a*s,g=a*u,p=i*o,v=i*s,h=i*u;return e[0]=1-d-g,e[3]=c-h,e[6]=f+v,e[1]=c+h,e[4]=1-l-g,e[7]=m-p,e[2]=f-v,e[5]=m+p,e[8]=1-l-d,e}function b(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],m=t[11],g=t[12],p=t[13],v=t[14],h=t[15],y=n*s-r*o,A=n*u-a*o,S=n*l-i*o,T=r*u-a*s,M=r*l-i*s,b=a*l-i*u,D=c*p-d*g,I=c*v-f*g,w=c*h-m*g,C=d*v-f*p,N=d*h-m*p,P=f*h-m*v,x=y*P-A*N+S*C+T*w-M*I+b*D;return x?(x=1/x,e[0]=(s*P-u*N+l*C)*x,e[1]=(u*w-o*P-l*I)*x,e[2]=(o*N-s*w+l*D)*x,e[3]=(a*N-r*P-i*C)*x,e[4]=(n*P-a*w+i*I)*x,e[5]=(r*w-n*N-i*D)*x,e[6]=(p*b-v*M+h*T)*x,e[7]=(v*S-g*b-h*A)*x,e[8]=(g*M-p*S+h*y)*x,e):null}function D(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function I(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function w(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2))}function C(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e}function N(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e}function P(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e}function x(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e}function E(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function O(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=t[0],f=t[1],m=t[2],g=t[3],p=t[4],v=t[5],h=t[6],y=t[7],A=t[8];return Math.abs(n-d)<=_.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(r-f)<=_.EPSILON*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(a-m)<=_.EPSILON*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(i-g)<=_.EPSILON*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(o-p)<=_.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-v)<=_.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-h)<=_.EPSILON*Math.max(1,Math.abs(u),Math.abs(h))&&Math.abs(l-y)<=_.EPSILON*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(c-A)<=_.EPSILON*Math.max(1,Math.abs(c),Math.abs(A))}Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=r,t.fromMat4=a,t.clone=i,t.copy=o,t.fromValues=s,t.set=u,t.identity=l,t.transpose=c,t.invert=d,t.adjoint=f,t.determinant=m,t.multiply=g,t.translate=p,t.rotate=v,t.scale=h,t.fromTranslation=y,t.fromRotation=A,t.fromScaling=S,t.fromMat2d=T,t.fromQuat=M,t.normalFromMat4=b,t.projection=D,t.str=I,t.frob=w,t.add=C,t.subtract=N,t.multiplyScalar=P,t.multiplyScalarAndAdd=x,t.exactEquals=E,t.equals=O;var L=n(23),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(L);t.mul=g,t.sub=N},function(e,t,n){"use strict";function r(){var e=new Z.ARRAY_TYPE(16);return Z.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function a(e){var t=new Z.ARRAY_TYPE(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o(e,t,n,r,a,i,o,s,u,l,c,d,f,m,g,p){var v=new Z.ARRAY_TYPE(16);return v[0]=e,v[1]=t,v[2]=n,v[3]=r,v[4]=a,v[5]=i,v[6]=o,v[7]=s,v[8]=u,v[9]=l,v[10]=c,v[11]=d,v[12]=f,v[13]=m,v[14]=g,v[15]=p,v}function s(e,t,n,r,a,i,o,s,u,l,c,d,f,m,g,p,v){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e[8]=l,e[9]=c,e[10]=d,e[11]=f,e[12]=m,e[13]=g,e[14]=p,e[15]=v,e}function u(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function l(e,t){if(e===t){var n=t[1],r=t[2],a=t[3],i=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=i,e[11]=t[14],e[12]=a,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function c(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],m=t[11],g=t[12],p=t[13],v=t[14],h=t[15],y=n*s-r*o,A=n*u-a*o,S=n*l-i*o,T=r*u-a*s,M=r*l-i*s,b=a*l-i*u,D=c*p-d*g,I=c*v-f*g,w=c*h-m*g,C=d*v-f*p,N=d*h-m*p,P=f*h-m*v,x=y*P-A*N+S*C+T*w-M*I+b*D;return x?(x=1/x,e[0]=(s*P-u*N+l*C)*x,e[1]=(a*N-r*P-i*C)*x,e[2]=(p*b-v*M+h*T)*x,e[3]=(f*M-d*b-m*T)*x,e[4]=(u*w-o*P-l*I)*x,e[5]=(n*P-a*w+i*I)*x,e[6]=(v*S-g*b-h*A)*x,e[7]=(c*b-f*S+m*A)*x,e[8]=(o*N-s*w+l*D)*x,e[9]=(r*w-n*N-i*D)*x,e[10]=(g*M-p*S+h*y)*x,e[11]=(d*S-c*M-m*y)*x,e[12]=(s*I-o*C-u*D)*x,e[13]=(n*C-r*I+a*D)*x,e[14]=(p*A-g*T-v*y)*x,e[15]=(c*T-d*A+f*y)*x,e):null}function d(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],m=t[11],g=t[12],p=t[13],v=t[14],h=t[15];return e[0]=s*(f*h-m*v)-d*(u*h-l*v)+p*(u*m-l*f),e[1]=-(r*(f*h-m*v)-d*(a*h-i*v)+p*(a*m-i*f)),e[2]=r*(u*h-l*v)-s*(a*h-i*v)+p*(a*l-i*u),e[3]=-(r*(u*m-l*f)-s*(a*m-i*f)+d*(a*l-i*u)),e[4]=-(o*(f*h-m*v)-c*(u*h-l*v)+g*(u*m-l*f)),e[5]=n*(f*h-m*v)-c*(a*h-i*v)+g*(a*m-i*f),e[6]=-(n*(u*h-l*v)-o*(a*h-i*v)+g*(a*l-i*u)),e[7]=n*(u*m-l*f)-o*(a*m-i*f)+c*(a*l-i*u),e[8]=o*(d*h-m*p)-c*(s*h-l*p)+g*(s*m-l*d),e[9]=-(n*(d*h-m*p)-c*(r*h-i*p)+g*(r*m-i*d)),e[10]=n*(s*h-l*p)-o*(r*h-i*p)+g*(r*l-i*s),e[11]=-(n*(s*m-l*d)-o*(r*m-i*d)+c*(r*l-i*s)),e[12]=-(o*(d*v-f*p)-c*(s*v-u*p)+g*(s*f-u*d)),e[13]=n*(d*v-f*p)-c*(r*v-a*p)+g*(r*f-a*d),e[14]=-(n*(s*v-u*p)-o*(r*v-a*p)+g*(r*u-a*s)),e[15]=n*(s*f-u*d)-o*(r*f-a*d)+c*(r*u-a*s),e}function f(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],d=e[10],f=e[11],m=e[12],g=e[13],p=e[14],v=e[15];return(t*o-n*i)*(d*v-f*p)-(t*s-r*i)*(c*v-f*g)+(t*u-a*i)*(c*p-d*g)+(n*s-r*o)*(l*v-f*m)-(n*u-a*o)*(l*p-d*m)+(r*u-a*s)*(l*g-c*m)}function m(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=t[9],m=t[10],g=t[11],p=t[12],v=t[13],h=t[14],y=t[15],A=n[0],S=n[1],T=n[2],M=n[3];return e[0]=A*r+S*s+T*d+M*p,e[1]=A*a+S*u+T*f+M*v,e[2]=A*i+S*l+T*m+M*h,e[3]=A*o+S*c+T*g+M*y,A=n[4],S=n[5],T=n[6],M=n[7],e[4]=A*r+S*s+T*d+M*p,e[5]=A*a+S*u+T*f+M*v,e[6]=A*i+S*l+T*m+M*h,e[7]=A*o+S*c+T*g+M*y,A=n[8],S=n[9],T=n[10],M=n[11],e[8]=A*r+S*s+T*d+M*p,e[9]=A*a+S*u+T*f+M*v,e[10]=A*i+S*l+T*m+M*h,e[11]=A*o+S*c+T*g+M*y,A=n[12],S=n[13],T=n[14],M=n[15],e[12]=A*r+S*s+T*d+M*p,e[13]=A*a+S*u+T*f+M*v,e[14]=A*i+S*l+T*m+M*h,e[15]=A*o+S*c+T*g+M*y,e}function g(e,t,n){var r,a,i,o,s,u,l,c,d,f,m,g,p=n[0],v=n[1],h=n[2];return t===e?(e[12]=t[0]*p+t[4]*v+t[8]*h+t[12],e[13]=t[1]*p+t[5]*v+t[9]*h+t[13],e[14]=t[2]*p+t[6]*v+t[10]*h+t[14],e[15]=t[3]*p+t[7]*v+t[11]*h+t[15]):(r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=t[9],m=t[10],g=t[11],e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=d,e[9]=f,e[10]=m,e[11]=g,e[12]=r*p+s*v+d*h+t[12],e[13]=a*p+u*v+f*h+t[13],e[14]=i*p+l*v+m*h+t[14],e[15]=o*p+c*v+g*h+t[15]),e}function p(e,t,n){var r=n[0],a=n[1],i=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*a,e[5]=t[5]*a,e[6]=t[6]*a,e[7]=t[7]*a,e[8]=t[8]*i,e[9]=t[9]*i,e[10]=t[10]*i,e[11]=t[11]*i,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function v(e,t,n,r){var a,i,o,s,u,l,c,d,f,m,g,p,v,h,y,A,S,T,M,b,D,I,w,C,N=r[0],P=r[1],x=r[2],E=Math.sqrt(N*N+P*P+x*x);return E<Z.EPSILON?null:(E=1/E,N*=E,P*=E,x*=E,a=Math.sin(n),i=Math.cos(n),o=1-i,s=t[0],u=t[1],l=t[2],c=t[3],d=t[4],f=t[5],m=t[6],g=t[7],p=t[8],v=t[9],h=t[10],y=t[11],A=N*N*o+i,S=P*N*o+x*a,T=x*N*o-P*a,M=N*P*o-x*a,b=P*P*o+i,D=x*P*o+N*a,I=N*x*o+P*a,w=P*x*o-N*a,C=x*x*o+i,e[0]=s*A+d*S+p*T,e[1]=u*A+f*S+v*T,e[2]=l*A+m*S+h*T,e[3]=c*A+g*S+y*T,e[4]=s*M+d*b+p*D,e[5]=u*M+f*b+v*D,e[6]=l*M+m*b+h*D,e[7]=c*M+g*b+y*D,e[8]=s*I+d*w+p*C,e[9]=u*I+f*w+v*C,e[10]=l*I+m*w+h*C,e[11]=c*I+g*w+y*C,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function h(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[4],o=t[5],s=t[6],u=t[7],l=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=i*a+l*r,e[5]=o*a+c*r,e[6]=s*a+d*r,e[7]=u*a+f*r,e[8]=l*a-i*r,e[9]=c*a-o*r,e[10]=d*a-s*r,e[11]=f*a-u*r,e}function y(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],u=t[3],l=t[8],c=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a-l*r,e[1]=o*a-c*r,e[2]=s*a-d*r,e[3]=u*a-f*r,e[8]=i*r+l*a,e[9]=o*r+c*a,e[10]=s*r+d*a,e[11]=u*r+f*a,e}function A(e,t,n){var r=Math.sin(n),a=Math.cos(n),i=t[0],o=t[1],s=t[2],u=t[3],l=t[4],c=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=i*a+l*r,e[1]=o*a+c*r,e[2]=s*a+d*r,e[3]=u*a+f*r,e[4]=l*a-i*r,e[5]=c*a-o*r,e[6]=d*a-s*r,e[7]=f*a-u*r,e}function S(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function T(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function M(e,t,n){var r,a,i,o=n[0],s=n[1],u=n[2],l=Math.sqrt(o*o+s*s+u*u);return l<Z.EPSILON?null:(l=1/l,o*=l,s*=l,u*=l,r=Math.sin(t),a=Math.cos(t),i=1-a,e[0]=o*o*i+a,e[1]=s*o*i+u*r,e[2]=u*o*i-s*r,e[3]=0,e[4]=o*s*i-u*r,e[5]=s*s*i+a,e[6]=u*s*i+o*r,e[7]=0,e[8]=o*u*i+s*r,e[9]=s*u*i-o*r,e[10]=u*u*i+a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function b(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function D(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function I(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function w(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=r+r,u=a+a,l=i+i,c=r*s,d=r*u,f=r*l,m=a*u,g=a*l,p=i*l,v=o*s,h=o*u,y=o*l;return e[0]=1-(m+p),e[1]=d+y,e[2]=f-h,e[3]=0,e[4]=d-y,e[5]=1-(c+p),e[6]=g+v,e[7]=0,e[8]=f+h,e[9]=g-v,e[10]=1-(c+m),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function C(e,t){var n=new Z.ARRAY_TYPE(3),r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=r*r+a*a+i*i+o*o;return d>0?(n[0]=2*(s*o+c*r+u*i-l*a)/d,n[1]=2*(u*o+c*a+l*r-s*i)/d,n[2]=2*(l*o+c*i+s*a-u*r)/d):(n[0]=2*(s*o+c*r+u*i-l*a),n[1]=2*(u*o+c*a+l*r-s*i),n[2]=2*(l*o+c*i+s*a-u*r)),w(e,t,n),e}function N(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function P(e,t){var n=t[0],r=t[1],a=t[2],i=t[4],o=t[5],s=t[6],u=t[8],l=t[9],c=t[10];return e[0]=Math.sqrt(n*n+r*r+a*a),e[1]=Math.sqrt(i*i+o*o+s*s),e[2]=Math.sqrt(u*u+l*l+c*c),e}function x(e,t){var n=t[0]+t[5]+t[10],r=0;return n>0?(r=2*Math.sqrt(n+1),e[3]=.25*r,e[0]=(t[6]-t[9])/r,e[1]=(t[8]-t[2])/r,e[2]=(t[1]-t[4])/r):t[0]>t[5]&&t[0]>t[10]?(r=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/r,e[0]=.25*r,e[1]=(t[1]+t[4])/r,e[2]=(t[8]+t[2])/r):t[5]>t[10]?(r=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/r,e[0]=(t[1]+t[4])/r,e[1]=.25*r,e[2]=(t[6]+t[9])/r):(r=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/r,e[0]=(t[8]+t[2])/r,e[1]=(t[6]+t[9])/r,e[2]=.25*r),e}function E(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3],u=a+a,l=i+i,c=o+o,d=a*u,f=a*l,m=a*c,g=i*l,p=i*c,v=o*c,h=s*u,y=s*l,A=s*c,S=r[0],T=r[1],M=r[2];return e[0]=(1-(g+v))*S,e[1]=(f+A)*S,e[2]=(m-y)*S,e[3]=0,e[4]=(f-A)*T,e[5]=(1-(d+v))*T,e[6]=(p+h)*T,e[7]=0,e[8]=(m+y)*M,e[9]=(p-h)*M,e[10]=(1-(d+g))*M,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function O(e,t,n,r,a){var i=t[0],o=t[1],s=t[2],u=t[3],l=i+i,c=o+o,d=s+s,f=i*l,m=i*c,g=i*d,p=o*c,v=o*d,h=s*d,y=u*l,A=u*c,S=u*d,T=r[0],M=r[1],b=r[2],D=a[0],I=a[1],w=a[2],C=(1-(p+h))*T,N=(m+S)*T,P=(g-A)*T,x=(m-S)*M,E=(1-(f+h))*M,O=(v+y)*M,L=(g+A)*b,_=(v-y)*b,R=(1-(f+p))*b;return e[0]=C,e[1]=N,e[2]=P,e[3]=0,e[4]=x,e[5]=E,e[6]=O,e[7]=0,e[8]=L,e[9]=_,e[10]=R,e[11]=0,e[12]=n[0]+D-(C*D+x*I+L*w),e[13]=n[1]+I-(N*D+E*I+_*w),e[14]=n[2]+w-(P*D+O*I+R*w),e[15]=1,e}function L(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n+n,s=r+r,u=a+a,l=n*o,c=r*o,d=r*s,f=a*o,m=a*s,g=a*u,p=i*o,v=i*s,h=i*u;return e[0]=1-d-g,e[1]=c+h,e[2]=f-v,e[3]=0,e[4]=c-h,e[5]=1-l-g,e[6]=m+p,e[7]=0,e[8]=f+v,e[9]=m-p,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function _(e,t,n,r,a,i,o){var s=1/(n-t),u=1/(a-r),l=1/(i-o);return e[0]=2*i*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*u,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(a+r)*u,e[10]=(o+i)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*i*2*l,e[15]=0,e}function R(e,t,n,r,a){var i,o=1/Math.tan(t/2);return e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=a&&a!==1/0?(i=1/(r-a),e[10]=(a+r)*i,e[14]=2*a*r*i):(e[10]=-1,e[14]=-2*r),e}function k(e,t,n,r){var a=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(a+i);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-(o-s)*u*.5,e[9]=(a-i)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function B(e,t,n,r,a,i,o){var s=1/(t-n),u=1/(r-a),l=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*u,e[14]=(o+i)*l,e[15]=1,e}function V(e,t,n,r){var a,i,o,s,l,c,d,f,m,g,p=t[0],v=t[1],h=t[2],y=r[0],A=r[1],S=r[2],T=n[0],M=n[1],b=n[2];return Math.abs(p-T)<Z.EPSILON&&Math.abs(v-M)<Z.EPSILON&&Math.abs(h-b)<Z.EPSILON?u(e):(d=p-T,f=v-M,m=h-b,g=1/Math.sqrt(d*d+f*f+m*m),d*=g,f*=g,m*=g,a=A*m-S*f,i=S*d-y*m,o=y*f-A*d,g=Math.sqrt(a*a+i*i+o*o),g?(g=1/g,a*=g,i*=g,o*=g):(a=0,i=0,o=0),s=f*o-m*i,l=m*a-d*o,c=d*i-f*a,g=Math.sqrt(s*s+l*l+c*c),g?(g=1/g,s*=g,l*=g,c*=g):(s=0,l=0,c=0),e[0]=a,e[1]=s,e[2]=d,e[3]=0,e[4]=i,e[5]=l,e[6]=f,e[7]=0,e[8]=o,e[9]=c,e[10]=m,e[11]=0,e[12]=-(a*p+i*v+o*h),e[13]=-(s*p+l*v+c*h),e[14]=-(d*p+f*v+m*h),e[15]=1,e)}function F(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=r[0],u=r[1],l=r[2],c=a-n[0],d=i-n[1],f=o-n[2],m=c*c+d*d+f*f;m>0&&(m=1/Math.sqrt(m),c*=m,d*=m,f*=m);var g=u*f-l*d,p=l*c-s*f,v=s*d-u*c;return m=g*g+p*p+v*v,m>0&&(m=1/Math.sqrt(m),g*=m,p*=m,v*=m),e[0]=g,e[1]=p,e[2]=v,e[3]=0,e[4]=d*v-f*p,e[5]=f*g-c*v,e[6]=c*p-d*g,e[7]=0,e[8]=c,e[9]=d,e[10]=f,e[11]=0,e[12]=a,e[13]=i,e[14]=o,e[15]=1,e}function j(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function U(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+Math.pow(e[6],2)+Math.pow(e[7],2)+Math.pow(e[8],2)+Math.pow(e[9],2)+Math.pow(e[10],2)+Math.pow(e[11],2)+Math.pow(e[12],2)+Math.pow(e[13],2)+Math.pow(e[14],2)+Math.pow(e[15],2))}function z(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function G(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function W(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}function Q(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e[6]=t[6]+n[6]*r,e[7]=t[7]+n[7]*r,e[8]=t[8]+n[8]*r,e[9]=t[9]+n[9]*r,e[10]=t[10]+n[10]*r,e[11]=t[11]+n[11]*r,e[12]=t[12]+n[12]*r,e[13]=t[13]+n[13]*r,e[14]=t[14]+n[14]*r,e[15]=t[15]+n[15]*r,e}function Y(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function q(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],d=e[9],f=e[10],m=e[11],g=e[12],p=e[13],v=e[14],h=e[15],y=t[0],A=t[1],S=t[2],T=t[3],M=t[4],b=t[5],D=t[6],I=t[7],w=t[8],C=t[9],N=t[10],P=t[11],x=t[12],E=t[13],O=t[14],L=t[15];return Math.abs(n-y)<=Z.EPSILON*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(r-A)<=Z.EPSILON*Math.max(1,Math.abs(r),Math.abs(A))&&Math.abs(a-S)<=Z.EPSILON*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(i-T)<=Z.EPSILON*Math.max(1,Math.abs(i),Math.abs(T))&&Math.abs(o-M)<=Z.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(s-b)<=Z.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(u-D)<=Z.EPSILON*Math.max(1,Math.abs(u),Math.abs(D))&&Math.abs(l-I)<=Z.EPSILON*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(c-w)<=Z.EPSILON*Math.max(1,Math.abs(c),Math.abs(w))&&Math.abs(d-C)<=Z.EPSILON*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(f-N)<=Z.EPSILON*Math.max(1,Math.abs(f),Math.abs(N))&&Math.abs(m-P)<=Z.EPSILON*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(g-x)<=Z.EPSILON*Math.max(1,Math.abs(g),Math.abs(x))&&Math.abs(p-E)<=Z.EPSILON*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(v-O)<=Z.EPSILON*Math.max(1,Math.abs(v),Math.abs(O))&&Math.abs(h-L)<=Z.EPSILON*Math.max(1,Math.abs(h),Math.abs(L))}Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=r,t.clone=a,t.copy=i,t.fromValues=o,t.set=s,t.identity=u,t.transpose=l,t.invert=c,t.adjoint=d,t.determinant=f,t.multiply=m,t.translate=g,t.scale=p,t.rotate=v,t.rotateX=h,t.rotateY=y,t.rotateZ=A,t.fromTranslation=S,t.fromScaling=T,t.fromRotation=M,t.fromXRotation=b,t.fromYRotation=D,t.fromZRotation=I,t.fromRotationTranslation=w,t.fromQuat2=C,t.getTranslation=N,t.getScaling=P,t.getRotation=x,t.fromRotationTranslationScale=E,t.fromRotationTranslationScaleOrigin=O,t.fromQuat=L,t.frustum=_,t.perspective=R,t.perspectiveFromFieldOfView=k,t.ortho=B,t.lookAt=V,t.targetTo=F,t.str=j,t.frob=U,t.add=z,t.subtract=G,t.multiplyScalar=W,t.multiplyScalarAndAdd=Q,t.exactEquals=Y,t.equals=q;var H=n(23),Z=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(H);t.mul=m,t.sub=G},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(){var e=new T.ARRAY_TYPE(4);return T.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function i(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function o(e,t,n){n*=.5;var r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function s(e,t){var n=2*Math.acos(t[3]),r=Math.sin(n/2);return r>T.EPSILON?(e[0]=t[0]/r,e[1]=t[1]/r,e[2]=t[2]/r):(e[0]=1,e[1]=0,e[2]=0),n}function u(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+o*s+a*l-i*u,e[1]=a*c+o*u+i*s-r*l,e[2]=i*c+o*l+r*u-a*s,e[3]=o*c-r*s-a*u-i*l,e}function l(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+o*s,e[1]=a*u+i*s,e[2]=i*u-a*s,e[3]=o*u-r*s,e}function c(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u-i*s,e[1]=a*u+o*s,e[2]=i*u+r*s,e[3]=o*u-a*s,e}function d(e,t,n){n*=.5;var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+a*s,e[1]=a*u-r*s,e[2]=i*u+o*s,e[3]=o*u-i*s,e}function f(e,t){var n=t[0],r=t[1],a=t[2];return e[0]=n,e[1]=r,e[2]=a,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),e}function m(e,t,n,r){var a,i,o,s,u,l=t[0],c=t[1],d=t[2],f=t[3],m=n[0],g=n[1],p=n[2],v=n[3];return i=l*m+c*g+d*p+f*v,i<0&&(i=-i,m=-m,g=-g,p=-p,v=-v),1-i>T.EPSILON?(a=Math.acos(i),o=Math.sin(a),s=Math.sin((1-r)*a)/o,u=Math.sin(r*a)/o):(s=1-r,u=r),e[0]=s*l+u*m,e[1]=s*c+u*g,e[2]=s*d+u*p,e[3]=s*f+u*v,e}function g(e){var t=T.RANDOM(),n=T.RANDOM(),r=T.RANDOM(),a=Math.sqrt(1-t),i=Math.sqrt(t);return e[0]=a*Math.sin(2*Math.PI*n),e[1]=a*Math.cos(2*Math.PI*n),e[2]=i*Math.sin(2*Math.PI*r),e[3]=i*Math.cos(2*Math.PI*r),e}function p(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-a*s,e[3]=i*s,e}function v(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function h(e,t){var n,r=t[0]+t[4]+t[8];if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{var a=0;t[4]>t[0]&&(a=1),t[8]>t[3*a+a]&&(a=2);var i=(a+1)%3,o=(a+2)%3;n=Math.sqrt(t[3*a+a]-t[3*i+i]-t[3*o+o]+1),e[a]=.5*n,n=.5/n,e[3]=(t[3*i+o]-t[3*o+i])*n,e[i]=(t[3*i+a]+t[3*a+i])*n,e[o]=(t[3*o+a]+t[3*a+o])*n}return e}function y(e,t,n,r){var a=.5*Math.PI/180;t*=a,n*=a,r*=a;var i=Math.sin(t),o=Math.cos(t),s=Math.sin(n),u=Math.cos(n),l=Math.sin(r),c=Math.cos(r);return e[0]=i*u*c-o*s*l,e[1]=o*s*c+i*u*l,e[2]=o*u*l-i*s*c,e[3]=o*u*c+i*s*l,e}function A(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}Object.defineProperty(t,"__esModule",{value:!0}),t.setAxes=t.sqlerp=t.rotationTo=t.equals=t.exactEquals=t.normalize=t.sqrLen=t.squaredLength=t.len=t.length=t.lerp=t.dot=t.scale=t.mul=t.add=t.set=t.copy=t.fromValues=t.clone=void 0,t.create=a,t.identity=i,t.setAxisAngle=o,t.getAxisAngle=s,t.multiply=u,t.rotateX=l,t.rotateY=c,t.rotateZ=d,t.calculateW=f,t.slerp=m,t.random=g,t.invert=p,t.conjugate=v,t.fromMat3=h,t.fromEuler=y,t.str=A;var S=n(23),T=r(S),M=n(160),b=r(M),D=n(163),I=r(D),w=n(164),C=r(w),N=(t.clone=C.clone,t.fromValues=C.fromValues,t.copy=C.copy,t.set=C.set,t.add=C.add,t.mul=u,t.scale=C.scale,t.dot=C.dot,t.lerp=C.lerp,t.length=C.length),P=(t.len=N,t.squaredLength=C.squaredLength),x=(t.sqrLen=P,t.normalize=C.normalize);t.exactEquals=C.exactEquals,t.equals=C.equals,t.rotationTo=function(){var e=I.create(),t=I.fromValues(1,0,0),n=I.fromValues(0,1,0);return function(r,a,i){var s=I.dot(a,i);return s<-.999999?(I.cross(e,t,a),I.len(e)<1e-6&&I.cross(e,n,a),I.normalize(e,e),o(r,e,Math.PI),r):s>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(I.cross(e,a,i),r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=1+s,x(r,r))}}(),t.sqlerp=function(){var e=a(),t=a();return function(n,r,a,i,o,s){return m(e,r,o,s),m(t,a,i,s),m(n,e,t,2*s*(1-s)),n}}(),t.setAxes=function(){var e=b.create();return function(t,n,r,a){return e[0]=r[0],e[3]=r[1],e[6]=r[2],e[1]=a[0],e[4]=a[1],e[7]=a[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],x(t,h(t,e))}}()},function(e,t,n){"use strict";function r(){var e=new W.ARRAY_TYPE(3);return W.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function a(e){var t=new W.ARRAY_TYPE(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function i(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function o(e,t,n){var r=new W.ARRAY_TYPE(3);return r[0]=e,r[1]=t,r[2]=n,r}function s(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function u(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}function l(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function c(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function d(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function f(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function m(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function g(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function p(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function v(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function h(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function y(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function A(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}function S(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return Math.sqrt(n*n+r*r+a*a)}function T(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2];return n*n+r*r+a*a}function M(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}function b(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function D(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function I(e,t){var n=t[0],r=t[1],a=t[2],i=n*n+r*r+a*a;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function w(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function C(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],u=n[2];return e[0]=a*u-i*s,e[1]=i*o-r*u,e[2]=r*s-a*o,e}function N(e,t,n,r){var a=t[0],i=t[1],o=t[2];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e}function P(e,t,n,r,a,i){var o=i*i,s=o*(2*i-3)+1,u=o*(i-2)+i,l=o*(i-1),c=o*(3-2*i);return e[0]=t[0]*s+n[0]*u+r[0]*l+a[0]*c,e[1]=t[1]*s+n[1]*u+r[1]*l+a[1]*c,e[2]=t[2]*s+n[2]*u+r[2]*l+a[2]*c,e}function x(e,t,n,r,a,i){var o=1-i,s=o*o,u=i*i,l=s*o,c=3*i*s,d=3*u*o,f=u*i;return e[0]=t[0]*l+n[0]*c+r[0]*d+a[0]*f,e[1]=t[1]*l+n[1]*c+r[1]*d+a[1]*f,e[2]=t[2]*l+n[2]*c+r[2]*d+a[2]*f,e}function E(e,t){t=t||1;var n=2*W.RANDOM()*Math.PI,r=2*W.RANDOM()-1,a=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*a,e[1]=Math.sin(n)*a,e[2]=r*t,e}function O(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[3]*r+n[7]*a+n[11]*i+n[15];return o=o||1,e[0]=(n[0]*r+n[4]*a+n[8]*i+n[12])/o,e[1]=(n[1]*r+n[5]*a+n[9]*i+n[13])/o,e[2]=(n[2]*r+n[6]*a+n[10]*i+n[14])/o,e}function L(e,t,n){var r=t[0],a=t[1],i=t[2];return e[0]=r*n[0]+a*n[3]+i*n[6],e[1]=r*n[1]+a*n[4]+i*n[7],e[2]=r*n[2]+a*n[5]+i*n[8],e}function _(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=t[0],u=t[1],l=t[2],c=a*l-i*u,d=i*s-r*l,f=r*u-a*s,m=a*f-i*d,g=i*c-r*f,p=r*d-a*c,v=2*o;return c*=v,d*=v,f*=v,m*=2,g*=2,p*=2,e[0]=s+c+m,e[1]=u+d+g,e[2]=l+f+p,e}function R(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0],i[1]=a[1]*Math.cos(r)-a[2]*Math.sin(r),i[2]=a[1]*Math.sin(r)+a[2]*Math.cos(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function k(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[2]*Math.sin(r)+a[0]*Math.cos(r),i[1]=a[1],i[2]=a[2]*Math.cos(r)-a[0]*Math.sin(r),e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function B(e,t,n,r){var a=[],i=[];return a[0]=t[0]-n[0],a[1]=t[1]-n[1],a[2]=t[2]-n[2],i[0]=a[0]*Math.cos(r)-a[1]*Math.sin(r),i[1]=a[0]*Math.sin(r)+a[1]*Math.cos(r),i[2]=a[2],e[0]=i[0]+n[0],e[1]=i[1]+n[1],e[2]=i[2]+n[2],e}function V(e,t){var n=o(e[0],e[1],e[2]),r=o(t[0],t[1],t[2]);I(n,n),I(r,r);var a=w(n,r);return a>1?0:a<-1?Math.PI:Math.acos(a)}function F(e){return e[0]=0,e[1]=0,e[2]=0,e}function j(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function U(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function z(e,t){var n=e[0],r=e[1],a=e[2],i=t[0],o=t[1],s=t[2];return Math.abs(n-i)<=W.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=W.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-s)<=W.EPSILON*Math.max(1,Math.abs(a),Math.abs(s))}Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0,t.create=r,t.clone=a,t.length=i,t.fromValues=o,t.copy=s,t.set=u,t.add=l,t.subtract=c,t.multiply=d,t.divide=f,t.ceil=m,t.floor=g,t.min=p,t.max=v,t.round=h,t.scale=y,t.scaleAndAdd=A,t.distance=S,t.squaredDistance=T,t.squaredLength=M,t.negate=b,t.inverse=D,t.normalize=I,t.dot=w,t.cross=C,t.lerp=N,t.hermite=P,t.bezier=x,t.random=E,t.transformMat4=O,t.transformMat3=L,t.transformQuat=_,t.rotateX=R,t.rotateY=k,t.rotateZ=B,t.angle=V,t.zero=F,t.str=j,t.exactEquals=U,t.equals=z;var G=n(23),W=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(G);t.sub=c,t.mul=d,t.div=f,t.dist=S,t.sqrDist=T,t.len=i,t.sqrLen=M,t.forEach=function(){var e=r();return function(t,n,r,a,i,o){var s,u;for(n||(n=3),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}}()},function(e,t,n){"use strict";function r(){var e=new B.ARRAY_TYPE(4);return B.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function a(e){var t=new B.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function i(e,t,n,r){var a=new B.ARRAY_TYPE(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function s(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function u(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function l(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function c(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}function d(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}function f(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function g(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}function p(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function y(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}function A(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return Math.sqrt(n*n+r*r+a*a+i*i)}function S(e,t){var n=t[0]-e[0],r=t[1]-e[1],a=t[2]-e[2],i=t[3]-e[3];return n*n+r*r+a*a+i*i}function T(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Math.sqrt(t*t+n*n+r*r+a*a)}function M(e){var t=e[0],n=e[1],r=e[2],a=e[3];return t*t+n*n+r*r+a*a}function b(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function D(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function I(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*n+r*r+a*a+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=r*o,e[2]=a*o,e[3]=i*o,e}function w(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function C(e,t,n,r){var a=n[0]*r[1]-n[1]*r[0],i=n[0]*r[2]-n[2]*r[0],o=n[0]*r[3]-n[3]*r[0],s=n[1]*r[2]-n[2]*r[1],u=n[1]*r[3]-n[3]*r[1],l=n[2]*r[3]-n[3]*r[2],c=t[0],d=t[1],f=t[2],m=t[3];return e[0]=d*l-f*u+m*s,e[1]=-c*l+f*o-m*i,e[2]=c*u-d*o+m*a,e[3]=-c*s+d*i-f*a,e}function N(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e}function P(e,t){t=t||1;var n,r,a,i,o,s;do{n=2*B.RANDOM()-1,r=2*B.RANDOM()-1,o=n*n+r*r}while(o>=1);do{a=2*B.RANDOM()-1,i=2*B.RANDOM()-1,s=a*a+i*i}while(s>=1);var u=Math.sqrt((1-o)/s);return e[0]=t*n,e[1]=t*r,e[2]=t*a*u,e[3]=t*i*u,e}function x(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3];return e[0]=n[0]*r+n[4]*a+n[8]*i+n[12]*o,e[1]=n[1]*r+n[5]*a+n[9]*i+n[13]*o,e[2]=n[2]*r+n[6]*a+n[10]*i+n[14]*o,e[3]=n[3]*r+n[7]*a+n[11]*i+n[15]*o,e}function E(e,t,n){var r=t[0],a=t[1],i=t[2],o=n[0],s=n[1],u=n[2],l=n[3],c=l*r+s*i-u*a,d=l*a+u*r-o*i,f=l*i+o*a-s*r,m=-o*r-s*a-u*i;return e[0]=c*l+m*-o+d*-u-f*-s,e[1]=d*l+m*-s+f*-o-c*-u,e[2]=f*l+m*-u+c*-s-d*-o,e[3]=t[3],e}function O(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function L(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function _(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function R(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],l=t[3];return Math.abs(n-o)<=B.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=B.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=B.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-l)<=B.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))}Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.len=t.sqrDist=t.dist=t.div=t.mul=t.sub=void 0,t.create=r,t.clone=a,t.fromValues=i,t.copy=o,t.set=s,t.add=u,t.subtract=l,t.multiply=c,t.divide=d,t.ceil=f,t.floor=m,t.min=g,t.max=p,t.round=v,t.scale=h,t.scaleAndAdd=y,t.distance=A,t.squaredDistance=S,t.length=T,t.squaredLength=M,t.negate=b,t.inverse=D,t.normalize=I,t.dot=w,t.cross=C,t.lerp=N,t.random=P,t.transformMat4=x,t.transformQuat=E,t.zero=O,t.str=L,t.exactEquals=_,t.equals=R;var k=n(23),B=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(k);t.sub=l,t.mul=c,t.div=d,t.dist=A,t.sqrDist=S,t.len=T,t.sqrLen=M,t.forEach=function(){var e=r();return function(t,n,r,a,i,o){var s,u;for(n||(n=4),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],i(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}}()},function(e,t,n){"use strict";function r(e,t){return e.msg=_[t],t}function a(e){return(e<<1)-(e>4?9:0)}function i(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(x.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){E._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,o(e.strm)}function u(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function c(e,t,n,r){var a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,x.arraySet(t,e.input,e.next_in,a,n),1===e.state.wrap?e.adler=O(e.adler,t,a,n):2===e.state.wrap&&(e.adler=L(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)}function d(e,t){var n,r,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-le?e.strstart-(e.w_size-le):0,l=e.window,c=e.w_mask,d=e.prev,f=e.strstart+ue,m=l[i+o-1],g=l[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,l[n+o]===g&&l[n+o-1]===m&&l[n]===l[i]&&l[++n]===l[i+1]){i+=2,n++;do{}while(l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&l[++i]===l[++n]&&i<f);if(r=ue-(f-i),i=f-ue,r>o){if(e.match_start=t,o=r,r>=s)break;m=l[i+o-1],g=l[i+o]}}}while((t=d[t&c])>u&&0!=--a);return o<=e.lookahead?o:e.lookahead}function f(e){var t,n,r,a,i,o=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-le)){x.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,n=e.hash_size,t=n;do{r=e.head[--t],e.head[t]=r>=o?r-o:0}while(--n);n=o,t=n;do{r=e.prev[--t],e.prev[t]=r>=o?r-o:0}while(--n);a+=o}if(0===e.strm.avail_in)break;if(n=c(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=se)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+se-1])&e.hash_mask,e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<se)););}while(e.lookahead<le&&0!==e.strm.avail_in)}function m(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===R)return ye;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,s(e,!1),0===e.strm.avail_out))return ye;if(e.strstart-e.block_start>=e.w_size-le&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===V?(s(e,!0),0===e.strm.avail_out?Se:Te):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),ye)}function g(e,t){for(var n,r;;){if(e.lookahead<le){if(f(e),e.lookahead<le&&t===R)return ye;if(0===e.lookahead)break}if(n=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-le&&(e.match_length=d(e,n)),e.match_length>=se)if(r=E._tr_tally(e,e.strstart-e.match_start,e.match_length-se),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=se){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=e.strstart<se-1?e.strstart:se-1,t===V?(s(e,!0),0===e.strm.avail_out?Se:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:Ae}function p(e,t){for(var n,r,a;;){if(e.lookahead<le){if(f(e),e.lookahead<le&&t===R)return ye;if(0===e.lookahead)break}if(n=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=se-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-le&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===Y||e.match_length===se&&e.strstart-e.match_start>4096)&&(e.match_length=se-1)),e.prev_length>=se&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-se,r=E._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-se),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=se-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return ye}else if(e.match_available){if(r=E._tr_tally(e,0,e.window[e.strstart-1]),r&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return ye}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=E._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<se-1?e.strstart:se-1,t===V?(s(e,!0),0===e.strm.avail_out?Se:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:Ae}function v(e,t){for(var n,r,a,i,o=e.window;;){if(e.lookahead<=ue){if(f(e),e.lookahead<=ue&&t===R)return ye;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=se&&e.strstart>0&&(a=e.strstart-1,(r=o[a])===o[++a]&&r===o[++a]&&r===o[++a])){i=e.strstart+ue;do{}while(r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&r===o[++a]&&a<i);e.match_length=ue-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=se?(n=E._tr_tally(e,1,e.match_length-se),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===V?(s(e,!0),0===e.strm.avail_out?Se:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:Ae}function h(e,t){for(var n;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===R)return ye;break}if(e.match_length=0,n=E._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return ye}return e.insert=0,t===V?(s(e,!0),0===e.strm.avail_out?Se:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?ye:Ae}function y(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}function A(e){e.window_size=2*e.w_size,i(e.head),e.max_lazy_match=P[e.level].max_lazy,e.good_match=P[e.level].good_length,e.nice_match=P[e.level].nice_length,e.max_chain_length=P[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=se-1,e.match_available=0,e.ins_h=0}function S(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=J,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16(2*ie),this.dyn_dtree=new x.Buf16(2*(2*re+1)),this.bl_tree=new x.Buf16(2*(2*ae+1)),i(this.dyn_ltree),i(this.dyn_dtree),i(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(oe+1),this.heap=new x.Buf16(2*ne+1),i(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(2*ne+1),i(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=X,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?de:ve,e.adler=2===t.wrap?0:1,t.last_flush=R,E._tr_init(t),j):r(e,z)}function M(e){var t=T(e);return t===j&&A(e.state),t}function b(e,t){return e&&e.state?2!==e.state.wrap?z:(e.state.gzhead=t,j):z}function D(e,t,n,a,i,o){if(!e)return z;var s=1;if(t===Q&&(t=6),a<0?(s=0,a=-a):a>15&&(s=2,a-=16),i<1||i>$||n!==J||a<8||a>15||t<0||t>9||o<0||o>Z)return r(e,z);8===a&&(a=9);var u=new S;return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=a,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+se-1)/se),u.window=new x.Buf8(2*u.w_size),u.head=new x.Buf16(u.hash_size),u.prev=new x.Buf16(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new x.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=o,u.method=n,M(e)}function I(e,t){return D(e,t,J,ee,te,K)}function w(e,t){var n,s,c,d;if(!e||!e.state||t>F||t<0)return e?r(e,z):z;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===he&&t!==V)return r(e,0===e.avail_out?W:z);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===de)if(2===s.wrap)e.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=L(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=fe):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=q||s.level<2?4:0),u(s,Me),s.status=ve);else{var f=J+(s.w_bits-8<<4)<<8,m=-1;m=s.strategy>=q||s.level<2?0:s.level<6?1:6===s.level?2:3,f|=m<<6,0!==s.strstart&&(f|=ce),f+=31-f%31,s.status=ve,l(s,f),0!==s.strstart&&(l(s,e.adler>>>16),l(s,65535&e.adler)),e.adler=1}if(s.status===fe)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(e.adler=L(e.adler,s.pending_buf,s.pending-c,c)),o(e),c=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(e.adler=L(e.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(e.adler=L(e.adler,s.pending_buf,s.pending-c,c)),o(e),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(e.adler=L(e.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.gzindex=0,s.status=ge)}else s.status=ge;if(s.status===ge)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(e.adler=L(e.adler,s.pending_buf,s.pending-c,c)),o(e),c=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>c&&(e.adler=L(e.adler,s.pending_buf,s.pending-c,c)),0===d&&(s.status=pe)}else s.status=pe;if(s.status===pe&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&o(e),s.pending+2<=s.pending_buf_size&&(u(s,255&e.adler),u(s,e.adler>>8&255),e.adler=0,s.status=ve)):s.status=ve),0!==s.pending){if(o(e),0===e.avail_out)return s.last_flush=-1,j}else if(0===e.avail_in&&a(t)<=a(n)&&t!==V)return r(e,W);if(s.status===he&&0!==e.avail_in)return r(e,W);if(0!==e.avail_in||0!==s.lookahead||t!==R&&s.status!==he){var g=s.strategy===q?h(s,t):s.strategy===H?v(s,t):P[s.level].func(s,t);if(g!==Se&&g!==Te||(s.status=he),g===ye||g===Se)return 0===e.avail_out&&(s.last_flush=-1),j;if(g===Ae&&(t===k?E._tr_align(s):t!==F&&(E._tr_stored_block(s,0,0,!1),t===B&&(i(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(e),0===e.avail_out))return s.last_flush=-1,j}return t!==V?j:s.wrap<=0?U:(2===s.wrap?(u(s,255&e.adler),u(s,e.adler>>8&255),u(s,e.adler>>16&255),u(s,e.adler>>24&255),u(s,255&e.total_in),u(s,e.total_in>>8&255),u(s,e.total_in>>16&255),u(s,e.total_in>>24&255)):(l(s,e.adler>>>16),l(s,65535&e.adler)),o(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?j:U)}function C(e){var t;return e&&e.state?(t=e.state.status)!==de&&t!==fe&&t!==me&&t!==ge&&t!==pe&&t!==ve&&t!==he?r(e,z):(e.state=null,t===ve?r(e,G):j):z}function N(e,t){var n,r,a,o,s,u,l,c,d=t.length;if(!e||!e.state)return z;if(n=e.state,2===(o=n.wrap)||1===o&&n.status!==de||n.lookahead)return z;for(1===o&&(e.adler=O(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===o&&(i(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new x.Buf8(n.w_size),x.arraySet(c,t,d-n.w_size,n.w_size,0),t=c,d=n.w_size),s=e.avail_in,u=e.next_in,l=e.input,e.avail_in=d,e.next_in=0,e.input=t,f(n);n.lookahead>=se;){r=n.strstart,a=n.lookahead-(se-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+se-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=se-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=se-1,n.match_available=0,e.next_in=u,e.input=l,e.avail_in=s,n.wrap=o,j}var P,x=n(28),E=n(302),O=n(166),L=n(167),_=n(100),R=0,k=1,B=3,V=4,F=5,j=0,U=1,z=-2,G=-3,W=-5,Q=-1,Y=1,q=2,H=3,Z=4,K=0,X=2,J=8,$=9,ee=15,te=8,ne=286,re=30,ae=19,ie=2*ne+1,oe=15,se=3,ue=258,le=ue+se+1,ce=32,de=42,fe=69,me=73,ge=91,pe=103,ve=113,he=666,ye=1,Ae=2,Se=3,Te=4,Me=3;P=[new y(0,0,0,0,m),new y(4,4,8,4,g),new y(4,5,16,8,g),new y(4,6,32,32,g),new y(4,4,16,16,p),new y(8,16,32,32,p),new y(8,16,128,128,p),new y(8,32,128,256,p),new y(32,128,258,1024,p),new y(32,258,258,4096,p)],t.deflateInit=I,t.deflateInit2=D,t.deflateReset=M,t.deflateResetKeep=T,t.deflateSetHeader=b,t.deflate=w,t.deflateEnd=C,t.deflateSetDictionary=N,t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";function r(e,t,n,r){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==n;){o=n>2e3?2e3:n,n-=o;do{a=a+t[r++]|0,i=i+a|0}while(--o);a%=65521,i%=65521}return a|i<<16|0}e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){var i=a,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}var a=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=r},function(e,t,n){"use strict";function r(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,a.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var a=n(28),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new a.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,t.string2buf=function(e){var t,n,r,i,o,s=e.length,u=0;for(i=0;i<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),u+=n<128?1:n<2048?2:n<65536?3:4;for(t=new a.Buf8(u),o=0,i=0;o<u;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},t.buf2binstring=function(e){return r(e,e.length)},t.binstring2buf=function(e){for(var t=new a.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,a,i,o,u=t||e.length,l=new Array(2*u);for(a=0,n=0;n<u;)if((i=e[n++])<128)l[a++]=i;else if((o=s[i])>4)l[a++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<u;)i=i<<6|63&e[n++],o--;o>1?l[a++]=65533:i<65536?l[a++]=i:(i-=65536,l[a++]=55296|i>>10&1023,l[a++]=56320|1023&i)}return r(l,a)},t.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function a(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new y.Buf16(320),this.work=new y.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function i(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=B,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new y.Buf32(pe),t.distcode=t.distdyn=new y.Buf32(ve),t.sane=1,t.back=-1,P):O}function o(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,i(e)):O}function s(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?O:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,o(e))):O}function u(e,t){var n,r;return e?(r=new a,e.state=r,r.window=null,n=s(e,t),n!==P&&(e.state=null),n):O}function l(e){return u(e,he)}function c(e){if(ye){var t;for(v=new y.Buf32(512),h=new y.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(M(D,e.lens,0,288,v,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;M(I,e.lens,0,32,h,0,e.work,{bits:5}),ye=!1}e.lencode=v,e.lenbits=9,e.distcode=h,e.distbits=5}function d(e,t,n,r){var a,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new y.Buf8(i.wsize)),r>=i.wsize?(y.arraySet(i.window,t,n-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),y.arraySet(i.window,t,n-r,a,i.wnext),r-=a,r?(y.arraySet(i.window,t,n-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0}function f(e,t){var n,a,i,o,s,u,l,f,m,g,p,v,h,pe,ve,he,ye,Ae,Se,Te,Me,be,De,Ie,we=0,Ce=new y.Buf8(4),Ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return O;n=e.state,n.mode===H&&(n.mode=Z),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,a=e.input,u=e.avail_in,f=n.hold,m=n.bits,g=u,p=l,be=P;e:for(;;)switch(n.mode){case B:if(0===n.wrap){n.mode=Z;break}for(;m<16;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if(2&n.wrap&&35615===f){n.check=0,Ce[0]=255&f,Ce[1]=f>>>8&255,n.check=S(n.check,Ce,2,0),f=0,m=0,n.mode=V;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){e.msg="incorrect header check",n.mode=fe;break}if((15&f)!==k){e.msg="unknown compression method",n.mode=fe;break}if(f>>>=4,m-=4,Me=8+(15&f),0===n.wbits)n.wbits=Me;else if(Me>n.wbits){e.msg="invalid window size",n.mode=fe;break}n.dmax=1<<Me,e.adler=n.check=1,n.mode=512&f?Y:H,f=0,m=0;break;case V:for(;m<16;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if(n.flags=f,(255&n.flags)!==k){e.msg="unknown compression method",n.mode=fe;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=fe;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Ce[0]=255&f,Ce[1]=f>>>8&255,n.check=S(n.check,Ce,2,0)),f=0,m=0,n.mode=F;case F:for(;m<32;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}n.head&&(n.head.time=f),512&n.flags&&(Ce[0]=255&f,Ce[1]=f>>>8&255,Ce[2]=f>>>16&255,Ce[3]=f>>>24&255,n.check=S(n.check,Ce,4,0)),f=0,m=0,n.mode=j;case j:for(;m<16;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Ce[0]=255&f,Ce[1]=f>>>8&255,n.check=S(n.check,Ce,2,0)),f=0,m=0,n.mode=U;case U:if(1024&n.flags){for(;m<16;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Ce[0]=255&f,Ce[1]=f>>>8&255,n.check=S(n.check,Ce,2,0)),f=0,m=0}else n.head&&(n.head.extra=null);n.mode=z;case z:if(1024&n.flags&&(v=n.length,v>u&&(v=u),v&&(n.head&&(Me=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),y.arraySet(n.head.extra,a,o,v,Me)),512&n.flags&&(n.check=S(n.check,a,v,o)),u-=v,o+=v,n.length-=v),n.length))break e;n.length=0,n.mode=G;case G:if(2048&n.flags){if(0===u)break e;v=0;do{Me=a[o+v++],n.head&&Me&&n.length<65536&&(n.head.name+=String.fromCharCode(Me))}while(Me&&v<u);if(512&n.flags&&(n.check=S(n.check,a,v,o)),u-=v,o+=v,Me)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=W;case W:if(4096&n.flags){if(0===u)break e;v=0;do{Me=a[o+v++],n.head&&Me&&n.length<65536&&(n.head.comment+=String.fromCharCode(Me))}while(Me&&v<u);if(512&n.flags&&(n.check=S(n.check,a,v,o)),u-=v,o+=v,Me)break e}else n.head&&(n.head.comment=null);n.mode=Q;case Q:if(512&n.flags){for(;m<16;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if(f!==(65535&n.check)){e.msg="header crc mismatch",n.mode=fe;break}f=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=H;break;case Y:for(;m<32;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}e.adler=n.check=r(f),f=0,m=0,n.mode=q;case q:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=u,n.hold=f,n.bits=m,E;e.adler=n.check=1,n.mode=H;case H:if(t===C||t===N)break e;case Z:if(n.last){f>>>=7&m,m-=7&m,n.mode=le;break}for(;m<3;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}switch(n.last=1&f,f>>>=1,m-=1,3&f){case 0:n.mode=K;break;case 1:if(c(n),n.mode=ne,t===N){f>>>=2,m-=2;break e}break;case 2:n.mode=$;break;case 3:e.msg="invalid block type",n.mode=fe}f>>>=2,m-=2;break;case K:for(f>>>=7&m,m-=7&m;m<32;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if((65535&f)!=(f>>>16^65535)){e.msg="invalid stored block lengths",n.mode=fe;break}if(n.length=65535&f,f=0,m=0,n.mode=X,t===N)break e;case X:n.mode=J;case J:if(v=n.length){if(v>u&&(v=u),v>l&&(v=l),0===v)break e;y.arraySet(i,a,o,v,s),u-=v,o+=v,l-=v,s+=v,n.length-=v;break}n.mode=H;break;case $:for(;m<14;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if(n.nlen=257+(31&f),f>>>=5,m-=5,n.ndist=1+(31&f),f>>>=5,m-=5,n.ncode=4+(15&f),f>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=fe;break}n.have=0,n.mode=ee;case ee:for(;n.have<n.ncode;){for(;m<3;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}n.lens[Ne[n.have++]]=7&f,f>>>=3,m-=3}for(;n.have<19;)n.lens[Ne[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,De={bits:n.lenbits},be=M(b,n.lens,0,19,n.lencode,0,n.work,De),n.lenbits=De.bits,be){e.msg="invalid code lengths set",n.mode=fe;break}n.have=0,n.mode=te;case te:for(;n.have<n.nlen+n.ndist;){for(;we=n.lencode[f&(1<<n.lenbits)-1],ve=we>>>24,he=we>>>16&255,ye=65535&we,!(ve<=m);){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if(ye<16)f>>>=ve,m-=ve,n.lens[n.have++]=ye;else{if(16===ye){for(Ie=ve+2;m<Ie;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if(f>>>=ve,m-=ve,0===n.have){e.msg="invalid bit length repeat",n.mode=fe;break}Me=n.lens[n.have-1],v=3+(3&f),f>>>=2,m-=2}else if(17===ye){for(Ie=ve+3;m<Ie;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}f>>>=ve,m-=ve,Me=0,v=3+(7&f),f>>>=3,m-=3}else{for(Ie=ve+7;m<Ie;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}f>>>=ve,m-=ve,Me=0,v=11+(127&f),f>>>=7,m-=7}if(n.have+v>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=fe;break}for(;v--;)n.lens[n.have++]=Me}}if(n.mode===fe)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=fe;break}if(n.lenbits=9,De={bits:n.lenbits},be=M(D,n.lens,0,n.nlen,n.lencode,0,n.work,De),n.lenbits=De.bits,be){e.msg="invalid literal/lengths set",n.mode=fe;break}if(n.distbits=6,n.distcode=n.distdyn,De={bits:n.distbits},be=M(I,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,De),n.distbits=De.bits,be){e.msg="invalid distances set",n.mode=fe;break}if(n.mode=ne,t===N)break e;case ne:n.mode=re;case re:if(u>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=u,n.hold=f,n.bits=m,T(e,p),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,a=e.input,u=e.avail_in,f=n.hold,m=n.bits,n.mode===H&&(n.back=-1);break}for(n.back=0;we=n.lencode[f&(1<<n.lenbits)-1],ve=we>>>24,he=we>>>16&255,ye=65535&we,!(ve<=m);){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if(he&&0==(240&he)){for(Ae=ve,Se=he,Te=ye;we=n.lencode[Te+((f&(1<<Ae+Se)-1)>>Ae)],ve=we>>>24,he=we>>>16&255,ye=65535&we,!(Ae+ve<=m);){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}f>>>=Ae,m-=Ae,n.back+=Ae}if(f>>>=ve,m-=ve,n.back+=ve,n.length=ye,0===he){n.mode=ue;break}if(32&he){n.back=-1,n.mode=H;break}if(64&he){e.msg="invalid literal/length code",n.mode=fe;break}n.extra=15&he,n.mode=ae;case ae:if(n.extra){for(Ie=n.extra;m<Ie;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ie;case ie:for(;we=n.distcode[f&(1<<n.distbits)-1],ve=we>>>24,he=we>>>16&255,ye=65535&we,!(ve<=m);){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if(0==(240&he)){for(Ae=ve,Se=he,Te=ye;we=n.distcode[Te+((f&(1<<Ae+Se)-1)>>Ae)],ve=we>>>24,he=we>>>16&255,ye=65535&we,!(Ae+ve<=m);){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}f>>>=Ae,m-=Ae,n.back+=Ae}if(f>>>=ve,m-=ve,n.back+=ve,64&he){e.msg="invalid distance code",n.mode=fe;break}n.offset=ye,n.extra=15&he,n.mode=oe;case oe:if(n.extra){for(Ie=n.extra;m<Ie;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=fe;break}n.mode=se;case se:if(0===l)break e;if(v=p-l,n.offset>v){if((v=n.offset-v)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=fe;break}v>n.wnext?(v-=n.wnext,h=n.wsize-v):h=n.wnext-v,v>n.length&&(v=n.length),pe=n.window}else pe=i,h=s-n.offset,v=n.length;v>l&&(v=l),l-=v,n.length-=v;do{i[s++]=pe[h++]}while(--v);0===n.length&&(n.mode=re);break;case ue:if(0===l)break e;i[s++]=n.length,l--,n.mode=re;break;case le:if(n.wrap){for(;m<32;){if(0===u)break e;u--,f|=a[o++]<<m,m+=8}if(p-=l,e.total_out+=p,n.total+=p,p&&(e.adler=n.check=n.flags?S(n.check,i,p,s-p):A(n.check,i,p,s-p)),p=l,(n.flags?f:r(f))!==n.check){e.msg="incorrect data check",n.mode=fe;break}f=0,m=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;m<32;){if(0===u)break e;u--,f+=a[o++]<<m,m+=8}if(f!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=fe;break}f=0,m=0}n.mode=de;case de:be=x;break e;case fe:be=L;break e;case me:return _;case ge:default:return O}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=u,n.hold=f,n.bits=m,(n.wsize||p!==e.avail_out&&n.mode<fe&&(n.mode<le||t!==w))&&d(e,e.output,e.next_out,p-e.avail_out)?(n.mode=me,_):(g-=e.avail_in,p-=e.avail_out,e.total_in+=g,e.total_out+=p,n.total+=p,n.wrap&&p&&(e.adler=n.check=n.flags?S(n.check,i,p,e.next_out-p):A(n.check,i,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===H?128:0)+(n.mode===ne||n.mode===X?256:0),(0===g&&0===p||t===w)&&be===P&&(be=R),be)}function m(e){if(!e||!e.state)return O;var t=e.state;return t.window&&(t.window=null),e.state=null,P}function g(e,t){var n;return e&&e.state?(n=e.state,0==(2&n.wrap)?O:(n.head=t,t.done=!1,P)):O}function p(e,t){var n,r,a=t.length;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==q?O:n.mode===q&&(r=1,(r=A(r,t,a,0))!==n.check)?L:d(e,t,a,a)?(n.mode=me,_):(n.havedict=1,P)):O}var v,h,y=n(28),A=n(166),S=n(167),T=n(304),M=n(305),b=0,D=1,I=2,w=4,C=5,N=6,P=0,x=1,E=2,O=-2,L=-3,_=-4,R=-5,k=8,B=1,V=2,F=3,j=4,U=5,z=6,G=7,W=8,Q=9,Y=10,q=11,H=12,Z=13,K=14,X=15,J=16,$=17,ee=18,te=19,ne=20,re=21,ae=22,ie=23,oe=24,se=25,ue=26,le=27,ce=28,de=29,fe=30,me=31,ge=32,pe=852,ve=592,he=15,ye=!0;t.inflateReset=o,t.inflateReset2=s,t.inflateResetKeep=i,t.inflateInit=l,t.inflateInit2=u,t.inflate=f,t.inflateEnd=m,t.inflateGetHeader=g,t.inflateSetDictionary=p,t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkDataServer"),e.getMode=function(){return"DS.WebSocket"},e.connect=function(){return t.serverUrl?(t.socket=new WebSocket(t.serverUrl),t.socket.binaryType="arraybuffer",t.socket.onopen=function(t){e.trySendMessages(),e.tryStartTimer()},t.socket.onclose=function(e){t.socket=null,t.pendingMessages.forEach(function(e,t,n){e.state=h.HANDLED_ERROR,"function"==typeof e.onError&&e.onError("Error")}),t.pendingMessages.clear()},t.socket.onerror=function(n){m("DataServer error, switch to ajax ..."),e.disconnect(),t.pendingMessages.forEach(function(e,t,n){e.state=h.HANDLED_ERROR,"function"==typeof e.onError&&e.onError("Error")}),t.pendingMessages.clear()},t.socket.onmessage=e.onmessage,!0):(f("null serverUrl"),!1)},e.getMessage=function(e){return t.pendingMessages.get(e)},e.removeMessge=function(e){t.pendingMessages.delete(e)},e.onmessage=function(n){var r=n.data;if("string"!=typeof r){if("arraybuffer"!==t.socket.binaryType)return void f("unsupported binaryType: "+t.socket.binaryType);var a=n.data,i=new DataView(a);if(a.byteLength<5)return void f("incomplete data 1");for(var o=0;o<5;o++)if(i.getInt8(o)!=="YORKT".charCodeAt(o))return void f("incomplete data 2");if(a.byteLength<9)return void f("incomplete data 3");var s=i.getInt32(5,!0);if(a.byteLength<9+s)return void f("incomplete data 4");var u=new Uint8Array(a,9,s),l=g(u),c=l?JSON.parse(l):null;if(c){var d=e.getMessage(c.msgId);if(d){var m=!0;if("function"==typeof d.handler)if(c.isZip)try{var p=new Uint8Array(a,9+s);c.dataLengthZip=p.length;var h=v.inflate(p),y=h.buffer;m=d.handler(d,c,y)}catch(e){f("uncompress error: "+e)}else{var A=new DataView(a,9+s);c.dataLengthZip=A.byteLength,m=d.handler(d,c,A)}m&&e.removeMessge(c.msgId)}else f("binary message record not found "+c.msgId)}else f("parse binary json data error")}else{var S=JSON.parse(r);if(S){var T=e.getMessage(S.msgId);if(T){var M=!0;"function"==typeof T.handler&&(M=T.handler(T,S)),M&&e.removeMessge(S.msgId)}else f("message record not found "+S.msgId)}else f("parse json data error")}},e.disconnect=function(){t.socket&&(t.socket.close(),t.socket=null)},e.ready=function(){return!!t.socket&&(t.socket.readyState===WebSocket.OPEN||t.socket.readyState===WebSocket.CONNECTING)},e.checkSocketOK=function(){return!!t.socket&&t.socket.readyState===WebSocket.OPEN},e.trySendMessages=function(){return!!e.checkSocketOK()&&(t.pendingMessages.forEach(function(e,n,r){if(e.state===h.START){e.state=h.SENDED;var a=JSON.stringify(e.msgJson);t.socket.send(a)}}),!0)},e.tryStartTimer=function(){if(!e.checkSocketOK())return!1;var n=!1;return t.pendingMessages.forEach(function(e,t,r){e.state===h.START&&(n=!0)}),t.timerId&&(clearInterval(t.timerId),t.timerId=0),n&&(t.timerId=setInterval(e.onTimer,100)),!0},e.onTimer=function(){e.trySendMessages()},e.fileDataHandler=function(e,t,n){if("ok"!==t.result)return e.state=h.HANDLED_ERROR,"function"==typeof e.onError&&e.onError("Error"),!0;if(e.state=h.HANDLED_OK,"function"==typeof e.onProgress){var r=0;r=t.isBinary?n?n.byteLength:0:t.data?t.data.length:0;var a={progress:100,loaded:r,total:r,totalZip:t.dataLengthZip};e.onProgress(a)}var i=t.isBinary?n:t.data;return"function"==typeof e.onData&&e.onData(i),!0},e.downloadFile=function(n,r,a,i,o){if(!n)return f("vtkDataServer: null fileUrl"),!1;var s={};s.type="fileData",s.msgId=++t.msgId,s.filePath=n,s.isBinary=!!r,s.isZip=p.USE_ZIP;var u={};return u.state=h.START,u.msgJson=s,u.handler=e.fileDataHandler,u.onData=a,u.onProgress=o,u.onError=i,t.pendingMessages.set(s.msgId,u),e.trySendMessages(),e.tryStartTimer(),!0},e.dicomDataHandler=function(e,t,n){if("ok"!==t.result)return e.state=h.HANDLED_ERROR,"function"==typeof e.onError&&e.onError("Error"),!0;var r=e.fileDataInfo;if(void 0===r){r={},e.fileDataInfo=r,r.mode=t.mode,r.fileName=t.fileName,r.fileNum=t.fileNum,r.totalSize=t.totalSize,r.loadedSize=0,r.totalSizeZip=0,r.detailInfos=Array(r.fileNum);for(var a=0;a<r.fileNum;a++)r.detailInfos[a]={metaData:null,fileData:null,dataPath:null,rescaleSlope:1,rescaleIntercept:0,structInfo:null,parseState:"imagedata"===t.mode}}if(r=e.fileDataInfo,r.fileName!==t.fileName&&m("inconsistent fileName: "+r.fileName+", "+t.fileName),r.fileNum!==t.fileNum&&m("inconsistent fileNum: "+r.fileNum+", "+t.fileNum),r.totalSize!==t.totalSize&&m("inconsistent totalSize: "+r.totalSize+", "+t.totalSize),!t.offsets){r.dimensions=t.dimensions,r.origin=t.origin,r.spacing=t.spacing,r.direction=t.direction;var i=new Uint8Array(n.buffer,n.byteOffset,n.byteLength),o=g(i);o=o?JSON.parse(o):null;for(var s=0;s<r.fileNum;s++)r.detailInfos[s].metaData=o[s]}var u=n?n.byteLength:0;if(r.loadedSize+=u,r.totalSizeZip+=t.dataLengthZip,(t.offsets||[]).forEach(function(e){var a=r.detailInfos[e[0]];if("imagedata"===t.mode){if((n.byteOffset+e[1])%2){var i=n.buffer.slice(n.byteOffset+e[1],n.byteOffset+e[1]+e[2]);a.fileData=new Int16Array(i)}else a.fileData=new Int16Array(n.buffer,n.byteOffset+e[1],e[2]/2);a.dataPath=e[3]}else a.fileData=new Uint8Array(n.buffer,n.byteOffset+e[1],e[2]),a.dataPath=e[3]}),r.detailInfos.forEach(function(t,n){if(t.fileData&&!t.parseState)try{var r=l.default.parseDicom(t.fileData);t.parseState=!0;var a=d.default.parseDicomMetaDataAndImageData(r);t.metaData=a.metaDatas,t.fileData=a.imageData,t.rescaleSlope=a.rescaleSlope,t.rescaleIntercept=a.rescaleIntercept;var i={};t.structInfo=i,i.dimensions=[a.dimensions[0],a.dimensions[1]],i.spacing=a.spacing,i.origin=a.origin,i.direction=a.direction}catch(t){var o=t;t.exception&&(o=t.exception),f("parse dicom file "+n+" error: "+o),"function"==typeof e.onError&&e.onError("Error")}}),"function"==typeof e.onProgress){var c=r.loadedSize/r.totalSize;c=Math.floor(1e4*c)/100;var p={progress:c,loaded:r.loadedSize,total:r.totalSize,totalZip:r.totalSizeZip};e.onProgress(p)}if(r.loadedSize===r.totalSize){if(e.state=h.HANDLED_OK,"imagedata"!==t.mode){var v=r.detailInfos[0].structInfo;r.dimensions=[v.dimensions[0],v.dimensions[1],r.fileNum],r.origin=v.origin,r.direction=v.direction;var y=v.spacing[2];if(r.fileNum>1){var A=r.detailInfos[1].structInfo;y=Math.pow(A.origin[0]-v.origin[0],2)+Math.pow(A.origin[1]-v.origin[1],2)+Math.pow(A.origin[2]-v.origin[2],2),y=Math.sqrt(y)}0===y&&(y=1),r.spacing=[v.spacing[0],v.spacing[1],y]}return"function"==typeof e.onData&&e.onData(r),!0}return!1},e.downloadImageData=function(n,r,a,i,o){if(!n)return f("null fileInfo"),!1;var s={};s.type="dicomData",s.msgId=++t.msgId,s.dataPath=n.dataPath,s.fileName=n.fileName,n.dataPaths&&n.dataPaths.length>0&&(s.dataPaths=n.dataPaths),s.ycmPath=r,"imagedata"===p.DICOM_MODE?s.mode="imagedata":"multiple"===p.DICOM_MODE?s.mode="multiple":s.mode="single";var u={};return u.state=h.START,u.msgJson=s,u.handler=e.dicomDataHandler,u.onData=a,u.onProgress=o,u.onError=i,t.pendingMessages.set(s.msgId,u),e.trySendMessages(),e.tryStartTimer(),!0}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),s.default.obj(e,t),s.default.setGet(e,t,["serverUrl"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(171),l=r(u),c=n(114),d=r(c),f=s.default.vtkErrorMacro,m=s.default.vtkWarningMacro,g=s.default.uint8ArrayToString,p=s.default.GlobalOptions,v=n(26),h={START:0,SENDED:1,HANDLED_OK:2,HANDLED_ERROR:3},y={serverUrl:null,socket:null,msgId:0,timerId:0,pendingMessages:new Map},A=t.newInstance=s.default.newInstance(i,"vtkDataServer");t.default={newInstance:A,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.readTag=t.readSequenceItem=t.readSequenceItemsImplicit=t.readSequenceItemsExplicit=t.readPart10Header=t.readEncapsulatedPixelDataFromFragments=t.readEncapsulatedPixelData=t.readEncapsulatedImageFrame=t.readDicomElementImplicit=t.readDicomElementExplicit=t.parseDicom=t.littleEndianByteArrayParser=t.findItemDelimitationItemAndSetElementLength=t.findEndOfEncapsulatedElement=t.findAndSetUNElementLength=t.DataSet=t.sharedCopy=t.ByteStream=t.bigEndianByteArrayParser=t.version=t.alloc=t.readFixedString=t.parseDicomDataSetImplicit=t.parseDicomDataSetExplicit=t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var a=n(307),i=n(61),o=n(63),s=n(106),u=r(s),l=n(312),c=r(l),d=n(178),f=r(d),m=n(65),g=r(m),p=n(66),v=r(p),h=n(47),y=r(h),A=n(174),S=r(A),T=n(173),M=r(T),b=n(104),D=r(b),I=n(108),w=r(I),C=n(313),N=r(C),P=n(62),x=r(P),E=n(105),O=r(E),L=n(184),_=r(L),R=n(327),k=r(R),B=n(113),V=r(B),F=n(179),j=r(F),U=n(175),z=r(U),G=n(176),W=r(G),Q=n(64),Y=r(Q),q=n(36),H=r(q),Z={isStringVr:a.isStringVr,isPrivateTag:a.isPrivateTag,parsePN:a.parsePN,parseTM:a.parseTM,parseDA:a.parseDA,explicitElementToString:a.explicitElementToString,explicitDataSetToJS:a.explicitDataSetToJS,createJPEGBasicOffsetTable:a.createJPEGBasicOffsetTable,parseDicomDataSetExplicit:i.parseDicomDataSetExplicit,parseDicomDataSetImplicit:i.parseDicomDataSetImplicit,readFixedString:o.readFixedString,alloc:u.default,version:c.default,bigEndianByteArrayParser:f.default,ByteStream:g.default,sharedCopy:v.default,DataSet:y.default,findAndSetUNElementLength:S.default,findEndOfEncapsulatedElement:M.default,findItemDelimitationItemAndSetElementLength:D.default,littleEndianByteArrayParser:w.default,parseDicom:N.default,readDicomElementExplicit:x.default,readDicomElementImplicit:O.default,readEncapsulatedImageFrame:_.default,readEncapsulatedPixelData:k.default,readEncapsulatedPixelDataFromFragments:V.default,readPart10Header:j.default,readSequenceItemsExplicit:z.default,readSequenceItemsImplicit:W.default,readSequenceItem:Y.default,readTag:H.default};t.isStringVr=a.isStringVr,t.isPrivateTag=a.isPrivateTag,t.parsePN=a.parsePN,t.parseTM=a.parseTM,t.parseDA=a.parseDA,t.explicitElementToString=a.explicitElementToString,t.explicitDataSetToJS=a.explicitDataSetToJS,t.createJPEGBasicOffsetTable=a.createJPEGBasicOffsetTable,t.parseDicomDataSetExplicit=i.parseDicomDataSetExplicit,t.parseDicomDataSetImplicit=i.parseDicomDataSetImplicit,t.readFixedString=o.readFixedString,t.alloc=u.default,t.version=c.default,t.bigEndianByteArrayParser=f.default,t.ByteStream=g.default,t.sharedCopy=v.default,t.DataSet=y.default,t.findAndSetUNElementLength=S.default,t.findEndOfEncapsulatedElement=M.default,t.findItemDelimitationItemAndSetElementLength=D.default,t.littleEndianByteArrayParser=w.default,t.parseDicom=N.default,t.readDicomElementExplicit=x.default,t.readDicomElementImplicit=O.default,t.readEncapsulatedImageFrame=_.default,t.readEncapsulatedPixelData=k.default,t.readEncapsulatedPixelDataFromFragments=V.default,t.readPart10Header=j.default,t.readSequenceItemsExplicit=z.default,t.readSequenceItemsImplicit=W.default,t.readSequenceItem=Y.default,t.readTag=H.default,t.default=Z},function(e,t,n){"use strict";function r(e,t){function n(t,n){for(var r="",a=0;a<t;a++)0!==a&&(r+="/"),r+=n.call(e,o,a).toString();return r}if(void 0===e||void 0===t)throw"dicomParser.explicitElementToString: missing required parameters";if(void 0===t.vr)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var r,a=t.vr,o=t.tag;if(!0===i.isStringVr(a))r=e.string(o);else{if("AT"===a){var s=e.uint32(o);if(void 0===s)return;return s<0&&(s=4294967295+s+1),"x"+s.toString(16).toUpperCase()}"US"===a?r=n(t.length/2,e.uint16):"SS"===a?r=n(t.length/2,e.int16):"UL"===a?r=n(t.length/4,e.uint32):"SL"===a?r=n(t.length/4,e.int32):"FD"===a?r=n(t.length/8,e.double):"FL"===a&&(r=n(t.length/4,e.float))}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(103),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a)},function(e,t,n){"use strict";function r(e,t,n){if(void 0===e)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],"xfffee000"!==(0,i.default)(e))throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var r=e.readUint32(),a=r/4,o=0;o<a;o++){var s=e.readUint32();t.basicOffsetTable.push(s)}for(var u=e.position;e.position<e.byteArray.length;){var l=(0,i.default)(e),c=e.readUint32();if("xfffee0dd"===l)return e.seek(c),void(t.length=e.position-t.dataOffset);if("xfffee000"!==l)return n&&n.push("unexpected tag "+l+" while searching for end of pixel data element with undefined length"),c>e.byteArray.length-e.position&&(c=e.byteArray.length-e.position),t.fragments.push({offset:e.position-u-8,position:e.position,length:c}),e.seek(c),void(t.length=e.position-t.dataOffset);t.fragments.push({offset:e.position-u-8,position:e.position,length:c}),e.seek(c)}n&&n.push("pixel data element "+t.tag+" missing sequence delimiter tag xfffee0dd")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(36),i=function(e){return e&&e.__esModule?e:{default:e}}(a)},function(e,t,n){"use strict";function r(e,t){if(void 0===e)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var n=e.byteArray.length-8;e.position<=n;)if(65534===e.readUint16()&&57565===e.readUint16())return 0!==e.readUint32()&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset);t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n={};e.position<e.byteArray.length;){var r=(0,f.default)(e,t);if(n[r.tag]=r,"xfffee00d"===r.tag)return new c.default(e.byteArrayParser,e.byteArray,n)}return t.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new c.default(e.byteArrayParser,e.byteArray,n)}function i(e,t){var n=(0,g.default)(e);return 4294967295===n.length?(n.hadUndefinedLength=!0,n.dataSet=a(e,t),n.length=e.position-n.dataOffset):(n.dataSet=new c.default(e.byteArrayParser,e.byteArray,{}),y.parseDicomDataSetExplicit(n.dataSet,e,e.position+n.length)),n}function o(e,t,n){for(;e.position+4<=e.byteArray.length;){var r=(0,v.default)(e);if(e.seek(-4),"xfffee0dd"===r)return t.length=e.position-t.dataOffset,e.seek(8),t;var a=i(e,n);t.items.push(a)}n.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),t.length=e.position-t.dataOffset}function s(e,t,n){for(var r=t.dataOffset+t.length;e.position<r;){var a=i(e,n);t.items.push(a)}}function u(e,t,n){if(void 0===e)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?o(e,t,n):s(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=n(47),c=r(l),d=n(62),f=r(d),m=n(64),g=r(m),p=n(36),v=r(p),h=n(61),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n={};e.position<e.byteArray.length;){var r=(0,f.default)(e,void 0,t);if(n[r.tag]=r,"xfffee00d"===r.tag)return new c.default(e.byteArrayParser,e.byteArray,n)}return e.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new c.default(e.byteArrayParser,e.byteArray,n)}function i(e,t){var n=(0,g.default)(e);return 4294967295===n.length?(n.hadUndefinedLength=!0,n.dataSet=a(e,t),n.length=e.position-n.dataOffset):(n.dataSet=new c.default(e.byteArrayParser,e.byteArray,{}),y.parseDicomDataSetImplicit(n.dataSet,e,e.position+n.length,{vrCallback:t})),n}function o(e,t,n){for(;e.position+4<=e.byteArray.length;){var r=(0,v.default)(e);if(e.seek(-4),"xfffee0dd"===r)return t.length=e.position-t.dataOffset,e.seek(8),t;var a=i(e,n);t.items.push(a)}e.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),t.length=e.byteArray.length-t.dataOffset}function s(e,t,n){for(var r=t.dataOffset+t.length;e.position<r;){var a=i(e,n);t.items.push(a)}}function u(e,t,n){if(void 0===e)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?o(e,t,n):s(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=n(47),c=r(l),d=n(105),f=r(d),m=n(64),g=r(m),p=n(36),v=r(p),h=n(61),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h)},function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function a(e){return 3*e.length/4-r(e)}function i(e){var t,n,a,i,o,s=e.length;i=r(e),o=new d(3*s/4-i),n=i>0?s-4:s;var u=0;for(t=0;t<n;t+=4)a=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],o[u++]=a>>16&255,o[u++]=a>>8&255,o[u++]=255&a;return 2===i?(a=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,o[u++]=255&a):1===i&&(a=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,o[u++]=a>>8&255,o[u++]=255&a),o}function o(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,n){for(var r,a=[],i=t;i<n;i+=3)r=(e[i]<<16)+(e[i+1]<<8)+e[i+2],a.push(o(r));return a.join("")}function u(e){for(var t,n=e.length,r=n%3,a="",i=[],o=0,u=n-r;o<u;o+=16383)i.push(s(e,o,o+16383>u?u:o+16383));return 1===r?(t=e[n-1],a+=l[t>>2],a+=l[t<<4&63],a+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],a+=l[t>>10],a+=l[t>>4&63],a+=l[t<<2&63],a+="="),i.push(a),i.join("")}t.byteLength=a,t.toByteArray=i,t.fromByteArray=u;for(var l=[],c=[],d="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,g=f.length;m<g;++m)l[m]=f[m],c[f.charCodeAt(m)]=m;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(e[t]<<8)+e[t+1]},readInt16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";var n=(e[t]<<8)+e[t+1];return 32768&n&&(n=n-65535-1),n},readUint32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*e[t]+e[t+1])+e[t+2])+e[t+3]},readInt32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]},readFloat:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var n=new Uint8Array(4);return n[3]=e[t],n[2]=e[t+1],n[1]=e[t+2],n[0]=e[t+3],new Float32Array(n.buffer)[0]},readDouble:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var n=new Uint8Array(8);return n[7]=e[t],n[6]=e[t+1],n[5]=e[t+2],n[4]=e[t+3],n[3]=e[t+4],n[2]=e[t+5],n[1]=e[t+6],n[0]=e[t+7],new Float64Array(n.buffer)[0]}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(){if(r.seek(128),"DICM"!==r.readFixedString(4))throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file."}if(void 0===e)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var r=new o.default(c.default,e);return function(){n();for(var e=[],t={};r.position<r.byteArray.length;){var a=r.position,i=(0,f.default)(r,e);if(i.tag>"x0002ffff"){r.position=a;break}i.parser=c.default,t[i.tag]=i}var o=new u.default(r.byteArrayParser,r.byteArray,t);return o.warnings=r.warnings,o.position=r.position,o}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(65),o=r(i),s=n(47),u=r(s),l=n(108),c=r(l),d=n(62),f=r(d)},function(e,t,n){"use strict";(function(t){function r(e,t){_=_||n(38),e=e||{},this.objectMode=!!e.objectMode,t instanceof _&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:a,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(L||(L=n(67).StringDecoder),this.decoder=new L(e.encoding),this.encoding=e.encoding)}function a(e){if(_=_||n(38),!(this instanceof a))return new a(e);this._readableState=new r(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),N.call(this)}function i(e,t,n,r,a){var i=l(t,n);if(i)e.emit("error",i);else if(null===n)t.reading=!1,c(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!a){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&a){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else{var u;!t.decoder||a||r||(n=t.decoder.write(n),u=!t.objectMode&&0===n.length),a||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,a?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&d(e))),m(e,t)}else a||(t.reading=!1);return o(t)}function o(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function l(e,t){var n=null;return C.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function c(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,d(e)}}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(O("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?I(f,e):f(e))}function f(e){O("emit readable"),e.emit("readable"),A(e)}function m(e,t){t.readingMore||(t.readingMore=!0,I(g,e,t))}function g(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(O("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function p(e){return function(){var t=e._readableState;O("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&P(e,"data")&&(t.flowing=!0,A(e))}}function v(e){O("readable nexttick read 0"),e.read(0)}function h(e,t){t.resumeScheduled||(t.resumeScheduled=!0,I(y,e,t))}function y(e,t){t.reading||(O("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;if(O("flow",t.flowing),t.flowing)do{var n=e.read()}while(null!==n&&t.flowing)}function S(e,t){var n,r=t.buffer,a=t.length,i=!!t.decoder,o=!!t.objectMode;if(0===r.length)return null;if(0===a)n=null;else if(o)n=r.shift();else if(!e||e>=a)n=i?r.join(""):1===r.length?r[0]:C.concat(r,a),r.length=0;else if(e<r[0].length){var s=r[0];n=s.slice(0,e),r[0]=s.slice(e)}else if(e===r[0].length)n=r.shift();else{n=i?"":new C(e);for(var u=0,l=0,c=r.length;l<c&&u<e;l++){var s=r[0],d=Math.min(e-u,s.length);i?n+=s.slice(0,d):s.copy(n,u,0,d),d<s.length?r[0]=s.slice(d):r.shift(),u+=d}}return n}function T(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,I(M,t,e))}function M(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function b(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function D(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}e.exports=a;var I=n(109),w=n(48),C=n(8).Buffer;a.ReadableState=r;var N,P=(n(49),function(e,t){return e.listeners(t).length});!function(){try{N=n(41)}catch(e){}finally{N||(N=n(49).EventEmitter)}}();var C=n(8).Buffer,x=n(50);x.inherits=n(37);var E=n(316),O=void 0;O=E&&E.debuglog?E.debuglog("stream"):function(){};var L;x.inherits(a,N);var _,_;a.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=new C(e,t),t=""),i(this,n,e,t,!1)},a.prototype.unshift=function(e){return i(this,this._readableState,e,"",!0)},a.prototype.isPaused=function(){return!1===this._readableState.flowing},a.prototype.setEncoding=function(e){return L||(L=n(67).StringDecoder),this._readableState.decoder=new L(e),this._readableState.encoding=e,this};var R=8388608;a.prototype.read=function(e){O("read",e);var t=this._readableState,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return O("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):d(this),null;if(0===(e=u(e,t))&&t.ended)return 0===t.length&&T(this),null;var r=t.needReadable;O("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,O("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,O("reading or ended",r)),r&&(O("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var a;return a=e>0?S(e,t):null,null===a&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&T(this),null!==a&&this.emit("data",a),a},a.prototype._read=function(e){this.emit("error",new Error("not implemented"))},a.prototype.pipe=function(e,n){function r(e){O("onunpipe"),e===d&&i()}function a(){O("onend"),e.end()}function i(){O("cleanup"),e.removeListener("close",u),e.removeListener("finish",l),e.removeListener("drain",v),e.removeListener("error",s),e.removeListener("unpipe",r),d.removeListener("end",a),d.removeListener("end",i),d.removeListener("data",o),h=!0,!f.awaitDrain||e._writableState&&!e._writableState.needDrain||v()}function o(t){O("ondata"),!1===e.write(t)&&(1!==f.pipesCount||f.pipes[0]!==e||1!==d.listenerCount("data")||h||(O("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++),d.pause())}function s(t){O("onerror",t),c(),e.removeListener("error",s),0===P(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",l),c()}function l(){O("onfinish"),e.removeListener("close",u),c()}function c(){O("unpipe"),d.unpipe(e)}var d=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,O("pipe count=%d opts=%j",f.pipesCount,n);var m=(!n||!1!==n.end)&&e!==t.stdout&&e!==t.stderr,g=m?a:i;f.endEmitted?I(g):d.once("end",g),e.on("unpipe",r);var v=p(d);e.on("drain",v);var h=!1;return d.on("data",o),e._events&&e._events.error?w(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",u),e.once("finish",l),e.emit("pipe",d),f.flowing||(O("pipe resume"),d.resume()),e},a.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<r;a++)n[a].emit("unpipe",this);return this}var i=D(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},a.prototype.on=function(e,t){var n=N.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&!this._readableState.endEmitted){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&d(this):I(v,this))}return n},a.prototype.addListener=a.prototype.on,a.prototype.resume=function(){var e=this._readableState;return e.flowing||(O("resume"),e.flowing=!0,h(this,e)),this},a.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this},a.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(O("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(a){O("wrapped data"),t.decoder&&(a=t.decoder.write(a)),(!t.objectMode||null!==a&&void 0!==a)&&(t.objectMode||a&&a.length)&&(r.push(a)||(n=!0,e.pause()))});for(var a in e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));return b(["error","close","destroy","pause","resume"],function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){O("wrapped _read",t),n&&(n=!1,e.resume())},r},a._fromList=S}).call(t,n(16))},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);a.call(this,e)}e.exports=r;var a=n(112),i=n(50);i.inherits=n(37),i.inherits(r,a),r.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";(function(t){function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function o(e){return!a(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}function s(e){if(b.isFunction(e)){if(w)return e.name;var t=e.toString(),n=t.match(N);return n&&n[1]}}function u(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function l(e){if(w||!b.isFunction(e))return b.inspect(e);var t=s(e);return"[Function"+(t?": "+t:"")+"]"}function c(e){return u(l(e.actual),128)+" "+e.operator+" "+u(l(e.expected),128)}function d(e,t,n,r,a){throw new C.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:a})}function f(e,t){e||d(e,!0,t,"==",C.ok)}function m(e,t,n,s){if(e===t)return!0;if(a(e)&&a(t))return 0===r(e,t);if(b.isDate(e)&&b.isDate(t))return e.getTime()===t.getTime();if(b.isRegExp(e)&&b.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===(void 0===e?"undefined":T(e))||null!==t&&"object"===(void 0===t?"undefined":T(t))){if(o(e)&&o(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;s=s||{actual:[],expected:[]};var u=s.actual.indexOf(e);return-1!==u&&u===s.expected.indexOf(t)||(s.actual.push(e),s.expected.push(t),p(e,t,n,s))}return n?e===t:e==t}function g(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function p(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(b.isPrimitive(e)||b.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=g(e),i=g(t);if(a&&!i||!a&&i)return!1;if(a)return e=I.call(e),t=I.call(t),m(e,t,n);var o,s,u=P(e),l=P(t);if(u.length!==l.length)return!1;for(u.sort(),l.sort(),s=u.length-1;s>=0;s--)if(u[s]!==l[s])return!1;for(s=u.length-1;s>=0;s--)if(o=u[s],!m(e[o],t[o],n,r))return!1;return!0}function v(e,t,n){m(e,t,!0)&&d(e,t,n,"notDeepStrictEqual",v)}function h(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function y(e){var t;try{e()}catch(e){t=e}return t}function A(e,t,n,r){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),a=y(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!a&&d(a,n,"Missing expected exception"+r);var i="string"==typeof r,o=!e&&b.isError(a),s=!e&&a&&!n;if((o&&i&&h(a,n)||s)&&d(a,n,"Got unwanted exception"+r),e&&a&&n&&!h(a,n)||!e&&a)throw a}function S(e,t){e||d(e,!0,t,"==",S)}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=n(325),b=n(183),D=Object.prototype.hasOwnProperty,I=Array.prototype.slice,w=function(){return"foo"===function(){}.name}(),C=e.exports=f,N=/\s*function\s+([^\(\s]*)\s*/;C.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=c(this),this.generatedMessage=!0);var t=e.stackStartFunction||d;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,a=s(t),i=r.indexOf("\n"+a);if(i>=0){var o=r.indexOf("\n",i+1);r=r.substring(o+1)}this.stack=r}}},b.inherits(C.AssertionError,Error),C.fail=d,C.ok=f,C.equal=function(e,t,n){e!=t&&d(e,t,n,"==",C.equal)},C.notEqual=function(e,t,n){e==t&&d(e,t,n,"!=",C.notEqual)},C.deepEqual=function(e,t,n){m(e,t,!1)||d(e,t,n,"deepEqual",C.deepEqual)},C.deepStrictEqual=function(e,t,n){m(e,t,!0)||d(e,t,n,"deepStrictEqual",C.deepStrictEqual)},C.notDeepEqual=function(e,t,n){m(e,t,!1)&&d(e,t,n,"notDeepEqual",C.notDeepEqual)},C.notDeepStrictEqual=v,C.strictEqual=function(e,t,n){e!==t&&d(e,t,n,"===",C.strictEqual)},C.notStrictEqual=function(e,t,n){e===t&&d(e,t,n,"!==",C.notStrictEqual)},C.throws=function(e,t,n){A(!0,e,t,n)},C.doesNotThrow=function(e,t,n){A(!1,e,t,n)},C.ifError=function(e){if(e)throw e},C.strict=M(S,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict;var P=Object.keys||function(e){var t=[];for(var n in e)D.call(e,n)&&t.push(n);return t}}).call(t,n(14))},function(e,t,n){"use strict";(function(e,r){function a(e,n){var r={seen:[],stylize:o};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),T(r.showHidden)&&(r.showHidden=!1),T(r.depth)&&(r.depth=2),T(r.colors)&&(r.colors=!1),T(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=i),u(r,e,r.depth)}function i(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function o(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,n,r){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var a=n.inspect(r,e);return A(a)||(a=u(e,a,r)),a}var i=l(e,n);if(i)return i;var o=Object.keys(n),p=s(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),I(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(n);if(0===o.length){if(w(n)){var v=n.name?": "+n.name:"";return e.stylize("[Function"+v+"]","special")}if(M(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(D(n))return e.stylize(Date.prototype.toString.call(n),"date");if(I(n))return c(n)}var h="",y=!1,S=["{","}"];if(g(n)&&(y=!0,S=["[","]"]),w(n)&&(h=" [Function"+(n.name?": "+n.name:"")+"]"),M(n)&&(h=" "+RegExp.prototype.toString.call(n)),D(n)&&(h=" "+Date.prototype.toUTCString.call(n)),I(n)&&(h=" "+c(n)),0===o.length&&(!y||0==n.length))return S[0]+h+S[1];if(r<0)return M(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var T;return T=y?d(e,n,r,p,o):o.map(function(t){return f(e,n,r,p,t,y)}),e.seen.pop(),m(T,h,S)}function l(e,t){if(T(t))return e.stylize("undefined","undefined");if(A(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,a){for(var i=[],o=0,s=t.length;o<s;++o)P(t,String(o))?i.push(f(e,t,n,r,String(o),!0)):i.push("");return a.forEach(function(a){a.match(/^\d+$/)||i.push(f(e,t,n,r,a,!0))}),i}function f(e,t,n,r,a,i){var o,s,l;if(l=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]},l.get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),P(r,a)||(o="["+a+"]"),s||(e.seen.indexOf(l.value)<0?(s=v(n)?u(e,l.value,null):u(e,l.value,n-1),s.indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),T(o)){if(i&&a.match(/^\d+$/))return s;o=JSON.stringify(""+a),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function m(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function g(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function v(e){return null===e}function h(e){return null==e}function y(e){return"number"==typeof e}function A(e){return"string"==typeof e}function S(e){return"symbol"===(void 0===e?"undefined":x(e))}function T(e){return void 0===e}function M(e){return b(e)&&"[object RegExp]"===N(e)}function b(e){return"object"===(void 0===e?"undefined":x(e))&&null!==e}function D(e){return b(e)&&"[object Date]"===N(e)}function I(e){return b(e)&&("[object Error]"===N(e)||e instanceof Error)}function w(e){return"function"==typeof e}function C(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":x(e))||void 0===e}function N(e){return Object.prototype.toString.call(e)}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E=/%[sdj%]/g;t.format=function(e){if(!A(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,i=r.length,o=String(e).replace(E,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<i;s=r[++n])v(s)||!b(s)?o+=" "+s:o+=" "+a(s);return o},t.deprecate=function(n,a){function i(){if(!o){if(r.throwDeprecation)throw new Error(a);r.traceDeprecation,o=!0}return n.apply(this,arguments)}if(T(e.process))return function(){return t.deprecate(n,a).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return i};var O,L={};t.debuglog=function(e){return T(O)&&(O=Object({NODE_ENV:"production"}).NODE_DEBUG||""),e=e.toUpperCase(),L[e]||(new RegExp("\\b"+e+"\\b","i").test(O)?(r.pid,L[e]=function(){t.format.apply(t,arguments)}):L[e]=function(){}),L[e]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=g,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=h,t.isNumber=y,t.isString=A,t.isSymbol=S,t.isUndefined=T,t.isRegExp=M,t.isObject=b,t.isDate=D,t.isError=I,t.isFunction=w,t.isPrimitive=C,t.isBuffer=n(326),t.log=function(){},t.inherits=n(37),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(14),n(16))},function(e,t,n){"use strict";function r(e,t,n,r,a){if(r=r||t.basicOffsetTable,a=a||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(void 0===n)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(void 0===r)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(0===r.length)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(n<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(n>=r.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var u=r[n],l=o(a,u);if(void 0===l)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";var c=s(n,r,a,l);return(0,i.default)(e,t,l,c,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(113),i=function(e){return e&&e.__esModule?e:{default:e}}(a),o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].offset===t)return n},s=function(e,t,n,r){if(e===t.length-1)return n.length-r;for(var a=t[e+1],i=r+1;i<n.length;i++)if(n[i].offset===a)return i-r;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"}},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=n||{};n.lossless=n.lossless||{},n.lossless.ComponentSpec=n.lossless.ComponentSpec||function(){this.hSamp=0,this.quantTableSel=0,this.vSamp=0},"undefined"!==t(e)&&e.exports&&(e.exports=n.lossless.ComponentSpec)}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||n(42),r.lossless.Utils=r.lossless.Utils||n(68),r.lossless.HuffmanTable=r.lossless.HuffmanTable||function(){this.l=r.lossless.Utils.createArray(4,2,16),this.th=[],this.v=r.lossless.Utils.createArray(4,2,16,200),this.tc=r.lossless.Utils.createArray(4,2),this.tc[0][0]=0,this.tc[1][0]=0,this.tc[2][0]=0,this.tc[3][0]=0,this.tc[0][1]=0,this.tc[1][1]=0,this.tc[2][1]=0,this.tc[3][1]=0,this.th[0]=0,this.th[1]=0,this.th[2]=0,this.th[3]=0},r.lossless.HuffmanTable.MSB=2147483648,r.lossless.HuffmanTable.prototype.read=function(e,t){var n,r,a,i,o,s,u=0;for(n=e.get16(),u+=2;u<n;){if(r=e.get8(),u+=1,(a=15&r)>3)throw new Error("ERROR: Huffman table ID > 3");if((i=r>>4)>2)throw new Error("ERROR: Huffman table [Table class > 2 ]");for(this.th[a]=1,this.tc[a][i]=1,o=0;o<16;o+=1)this.l[a][i][o]=e.get8(),u+=1;for(o=0;o<16;o+=1)for(s=0;s<this.l[a][i][o];s+=1){if(u>n)throw new Error("ERROR: Huffman table format error [count>Lh]");this.v[a][i][o][s]=e.get8(),u+=1}}if(u!==n)throw new Error("ERROR: Huffman table format error [count!=Lf]");for(o=0;o<4;o+=1)for(s=0;s<2;s+=1)0!==this.tc[o][s]&&this.buildHuffTable(t[o][s],this.l[o][s],this.v[o][s]);return 1},r.lossless.HuffmanTable.prototype.buildHuffTable=function(e,t,n){var a,i,o,s,u,l;for(i=256,o=0,s=0;s<8;s+=1)for(u=0;u<t[s];u+=1)for(l=0;l<i>>s+1;l+=1)e[o]=n[s][u]|s+1<<8,o+=1;for(s=1;o<256;s+=1,o+=1)e[o]=s|r.lossless.HuffmanTable.MSB;for(a=1,o=0,s=8;s<16;s+=1)for(u=0;u<t[s];u+=1){for(l=0;l<i>>s-7;l+=1)e[256*a+o]=n[s][u]|s+1<<8,o+=1;if(o>=256){if(o>256)throw new Error("ERROR: Huffman table error(1)!");o=0,a+=1}}},"undefined"!==t(e)&&e.exports&&(e.exports=r.lossless.HuffmanTable)}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||n(42),r.lossless.Utils=r.lossless.Utils||n(68),r.lossless.QuantizationTable=r.lossless.QuantizationTable||function(){this.precision=[],this.tq=[],this.quantTables=r.lossless.Utils.createArray(4,64),this.tq[0]=0,this.tq[1]=0,this.tq[2]=0,this.tq[3]=0},r.lossless.QuantizationTable.enhanceQuantizationTable=function(e,t){var n;for(n=0;n<8;n+=1)e[t[0+n]]*=90,e[t[32+n]]*=90,e[t[16+n]]*=118,e[t[48+n]]*=49,e[t[40+n]]*=71,e[t[8+n]]*=126,e[t[56+n]]*=25,e[t[24+n]]*=106;for(n=0;n<8;n+=1)e[t[0+8*n]]*=90,e[t[4+8*n]]*=90,e[t[2+8*n]]*=118,e[t[6+8*n]]*=49,e[t[5+8*n]]*=71,e[t[1+8*n]]*=126,e[t[7+8*n]]*=25,e[t[3+8*n]]*=106;for(n=0;n<64;n+=1)e[n]>>=6},r.lossless.QuantizationTable.prototype.read=function(e,t){var n,a,i,o,s=0;for(n=e.get16(),s+=2;s<n;){if(a=e.get8(),s+=1,(i=15&a)>3)throw new Error("ERROR: Quantization table ID > 3");if(this.precision[i]=a>>4,0===this.precision[i])this.precision[i]=8;else{if(1!==this.precision[i])throw new Error("ERROR: Quantization table precision error");this.precision[i]=16}if(this.tq[i]=1,8===this.precision[i]){for(o=0;o<64;o+=1){if(s>n)throw new Error("ERROR: Quantization table format error");this.quantTables[i][o]=e.get8(),s+=1}r.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[i],t)}else{for(o=0;o<64;o+=1){if(s>n)throw new Error("ERROR: Quantization table format error");this.quantTables[i][o]=e.get16(),s+=2}r.lossless.QuantizationTable.enhanceQuantizationTable(this.quantTables[i],t)}}if(s!==n)throw new Error("ERROR: Quantization table error [count!=Lq]");return 1},"undefined"!==t(e)&&e.exports&&(e.exports=r.lossless.QuantizationTable)}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||n(42),r.lossless.ScanComponent=r.lossless.ScanComponent||n(189),r.lossless.ScanHeader=r.lossless.ScanHeader||function(){this.ah=0,this.al=0,this.numComp=0,this.selection=0,this.spectralEnd=0,this.components=[]},r.lossless.ScanHeader.prototype.read=function(e){var t,n,a,i=0;for(t=e.get16(),i+=2,this.numComp=e.get8(),i+=1,n=0;n<this.numComp;n+=1){if(this.components[n]=new r.lossless.ScanComponent,i>t)throw new Error("ERROR: scan header format error");this.components[n].scanCompSel=e.get8(),i+=1,a=e.get8(),i+=1,this.components[n].dcTabSel=a>>4,this.components[n].acTabSel=15&a}if(this.selection=e.get8(),i+=1,this.spectralEnd=e.get8(),i+=1,a=e.get8(),this.ah=a>>4,this.al=15&a,(i+=1)!==t)throw new Error("ERROR: scan header format error [count!=Ns]");return 1},"undefined"!==t(e)&&e.exports&&(e.exports=r.lossless.ScanHeader)}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=n||{};n.lossless=n.lossless||{},n.lossless.ScanComponent=n.lossless.ScanComponent||function(){this.acTabSel=0,this.dcTabSel=0,this.scanCompSel=0},"undefined"!==t(e)&&e.exports&&(e.exports=n.lossless.ScanComponent)}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=r||{};r.lossless=r.lossless||{},r.lossless.ComponentSpec=r.lossless.ComponentSpec||n(185),r.lossless.DataStream=r.lossless.DataStream||n(42),r.lossless.FrameHeader=r.lossless.FrameHeader||function(){this.components=[],this.dimX=0,this.dimY=0,this.numComp=0,this.precision=0},r.lossless.FrameHeader.prototype.read=function(e){var t,n,a,i,o=0;for(t=e.get16(),o+=2,this.precision=e.get8(),o+=1,this.dimY=e.get16(),o+=2,this.dimX=e.get16(),o+=2,this.numComp=e.get8(),o+=1,n=1;n<=this.numComp;n+=1){if(o>t)throw new Error("ERROR: frame format error");if(a=e.get8(),(o+=1)>=t)throw new Error("ERROR: frame format error [c>=Lf]");i=e.get8(),o+=1,this.components[a]||(this.components[a]=new r.lossless.ComponentSpec),this.components[a].hSamp=i>>4,this.components[a].vSamp=15&i,this.components[a].quantTableSel=e.get8(),o+=1}if(o!==t)throw new Error("ERROR: frame format error [Lf!=count]");return 1},"undefined"!==t(e)&&e.exports&&(e.exports=r.lossless.FrameHeader)}).call(t,n(10)(e))},function(e,t,n){"use strict";function r(e){var t=JSON.stringify(e),n=v.deflate(t),r=new Uint8Array(n.length+7),a=t.length;return r[0]=89,r[1]=75,r[2]=76,r[3]=255&a,r[4]=(65280&a)>>8,r[5]=(16711680&a)>>16,r[6]=(4278190080&a)>>24,r.set(n,7),r}function a(e,t){var n=v.inflate(e),r=g(n);return r?JSON.parse(r):null}function i(e){var t=h.encode(e),n=v.deflate(t),r=new Uint8Array(n.length+7),a=t.length;return r[0]=89,r[1]=75,r[2]=76,r[3]=255&a,r[4]=(65280&a)>>8,r[5]=(16711680&a)>>16,r[6]=(4278190080&a)>>24,r.set(n,7),r}function o(e){var t=v.inflate(e);return t?h.decode(t):null}function s(e,t){t.classHierarchy.push("vtkAlgoServer"),e.connect=function(){return p.ALGO_SERVER_URL?(t.socket=new WebSocket(p.ALGO_SERVER_URL),t.socket.binaryType="arraybuffer",t.socket.onopen=function(t){e.trySendMessages(),e.tryStartTimer()},t.socket.onclose=function(e){m("AlgoServer socket close"),t.socket=null,t.pendingMessages.forEach(function(e,t,n){e.state=y.HANDLED_ERROR,"function"==typeof e.onError&&e.onError("Websocket Closed")}),t.pendingMessages.clear()},t.socket.onerror=function(n){m("AlgoServer socket error"),e.disconnect(),t.pendingMessages.forEach(function(e,t,n){e.state=y.HANDLED_ERROR,"function"==typeof e.onError&&e.onError("Unknown Error")}),t.pendingMessages.clear()},t.socket.onmessage=e.onmessage,!0):(f("null algo serverUrl"),!1)},e.getMessage=function(e){return t.pendingMessages.get(e)},e.removeMessge=function(e){t.pendingMessages.delete(e)},e.onmessage=function(n){var r=n.data;if("string"==typeof r)return void f("unsupported dataType: "+(void 0===r?"undefined":l(r)));if("arraybuffer"!==t.socket.binaryType)return void f("unsupported binaryType: "+t.socket.binaryType);var i=new DataView(r);if(r.byteLength<3)return void f("incomplete data 1");if(89!==i.getInt8(0)||75!==i.getInt8(1)||76!==i.getInt8(2))return void f("incomplete data 2");if(r.byteLength<7)return void f("incomplete data 3");var o=i.getInt32(3,!0),s=new Uint8Array(r,7),u=a(s,o);if(!u)return void f("parse binary json data error");var c=e.getMessage(u.msgId);c||f("binary message record not found "+u.msgId);var d=!0;"function"==typeof c.handler&&(d=c.handler(c,u)),d&&e.removeMessge(u.msgId)},e.disconnect=function(){t.socket&&(t.socket.close(),t.socket=null)},e.ready=function(){return!!t.socket&&(t.socket.readyState===WebSocket.OPEN||t.socket.readyState===WebSocket.CONNECTING)},e.checkSocketOK=function(){return!!t.socket&&t.socket.readyState===WebSocket.OPEN},e.trySendMessages=function(){return e.checkSocketOK()?(t.pendingMessages.forEach(function(e,n,a){if(e.state===y.START){e.state=y.SENDED;var i=r(e.msgJson);t.socket.send(i)}}),!0):(t.socket||e.connect(),!1)},e.tryStartTimer=function(){if(!e.checkSocketOK())return!1;var n=!1;return t.pendingMessages.forEach(function(e,t,r){e.state===y.START&&(n=!0)}),t.timerId&&(clearInterval(t.timerId),t.timerId=0),n&&(t.timerId=setInterval(e.onTimer,100)),!0},e.onTimer=function(){e.trySendMessages()},e.runAPIHandler=function(e,t){if("ok"!==t.result)return e.state=y.HANDLED_ERROR,"function"==typeof e.onError&&e.onError("Run Error",t.apiReturn),!0;if(e.state=y.HANDLED_OK,"function"==typeof e.onReturn)try{e.onReturn(t.apiReturns,t.apiReturn)}catch(e){f("runAPI error: "+e)}return!0},e.runAPI=function(n,r,a,i){if(!n)return!1;var o={};o.type="RunAPI",o.msgId="msg_"+ ++t.msgId,o.apiName=n,o.apiParams=r||null;var s={};return s.state=y.START,s.msgJson=o,s.handler=e.runAPIHandler,s.onReturn=a,s.onError=i,t.pendingMessages.set(o.msgId,s),e.trySendMessages(),e.tryStartTimer(),!0},e.algoTestHandler=function(e,t){return"ok"!==t.result?e.state=y.HANDLED_ERROR:e.state=y.HANDLED_OK,!0},e.sendTestMessage=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Hello World",a={};a.type="AlgoTest",a.msgId="msg_"+ ++t.msgId,a.msgInt=88888888,a.msgFloat=666666.666666,a.msgText=r;for(var i=[],o=0;o<n;o++)i[o]=666666+o;a.msgBin=i,a.msgArray=[111,222,333,444,555,666.777,"888"],a.msgDict={aaa:111,bbb:222,ccc:333,ddd:["aaa","bbb","ccc"],eee:["aaa","bbb","ccc"]};var s={};return s.state=y.START,s.msgJson=a,s.handler=e.algoTestHandler,t.pendingMessages.set(a.msgId,s),e.trySendMessages(),e.tryStartTimer(),!0}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,S,n),d.default.obj(e,t),s(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.extend=u;var c=n(0),d=function(e){return e&&e.__esModule?e:{default:e}}(c),f=d.default.vtkErrorMacro,m=d.default.vtkWarningMacro,g=d.default.uint8ArrayToString,p=d.default.GlobalOptions,v=n(26),h=n(331),y={START:0,SENDED:1,HANDLED_OK:2,HANDLED_ERROR:3},A={packMessageJson:r,unpackMessageJson:a,packMessageMsgpack:i,unpackMessageMsgpack:o},S={socket:null,msgId:0,timerId:0,pendingMessages:new Map},T=t.newInstance=d.default.newInstance(u,"vtkAlgoServer");t.default={newInstance:T,extend:u,STATIC:A}},function(e,t,n){"use strict";function r(e,t){var n=new a(t);return n.write(e),n.read()}t.encode=r;var a=n(193).EncodeBuffer},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}t.EncodeBuffer=r;var a=n(115).preset;n(195).FlexEncoder.mixin(r.prototype),r.prototype.codec=a,r.prototype.write=function(e){this.codec.encode(this,e)}},function(e,t,n){"use strict";for(var r=t.uint8=new Array(256),a=0;a<=255;a++)r[a]=function(e){return function(t){var n=t.reserve(1);t.buffer[n]=e}}(a)},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r}function a(){if(!(this instanceof a))return new a}function i(){throw new Error("method not implemented: write()")}function o(){throw new Error("method not implemented: fetch()")}function s(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function u(e){(this.buffers||(this.buffers=[])).push(e)}function l(){return(this.buffers||(this.buffers=[])).shift()}function c(e){function t(t){for(var n in e)t[n]=e[n];return t}return t}t.FlexDecoder=r,t.FlexEncoder=a;var d=n(17),f="BUFFER_SHORTAGE";r.mixin=c(function(){function e(e){var t=this.offset?d.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=t?e?this.bufferish.concat([t,e]):t:e,this.offset=0}function t(){for(;this.offset<this.buffer.length;){var e,t=this.offset;try{e=this.fetch()}catch(e){if(e&&e.message!=f)throw e;this.offset=t;break}this.push(e)}}function n(e){var t=this.offset,n=t+e;if(n>this.buffer.length)throw new Error(f);return this.offset=n,t}return{bufferish:d,write:e,fetch:o,flush:t,push:u,pull:l,read:s,reserve:n,offset:0}}()),r.mixin(r.prototype),a.mixin=c(function(){function e(){var e=this.start;if(e<this.offset){var t=this.start=this.offset;return d.prototype.slice.call(this.buffer,e,t)}}function t(){for(;this.start<this.offset;){var e=this.fetch();e&&this.push(e)}}function n(){var e=this.buffers||(this.buffers=[]),t=e.length>1?this.bufferish.concat(e):e[0];return e.length=0,t}function r(e){var t=0|e;if(this.buffer){var n=this.buffer.length,r=0|this.offset,a=r+t;if(a<n)return this.offset=a,r;this.flush(),e=Math.max(e,Math.min(2*n,this.maxBufferSize))}return e=Math.max(e,this.minBufferSize),this.buffer=this.bufferish.alloc(e),this.start=0,this.offset=t,0}function a(e){var t=e.length;if(t>this.minBufferSize)this.flush(),this.push(e);else{var n=this.reserve(t);d.prototype.copy.call(e,this.buffer,n)}}return{bufferish:d,write:i,fetch:e,flush:t,push:u,pull:n,read:s,reserve:r,send:a,maxBufferSize:65536,minBufferSize:2048,offset:0,start:0}}()),a.mixin(a.prototype)},function(e,t,n){"use strict";function r(e,t){var n=new a(t);return n.write(e),n.read()}t.decode=r;var a=n(197).DecodeBuffer},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}t.DecodeBuffer=r;var a=n(119).preset;n(195).FlexDecoder.mixin(r.prototype),r.prototype.codec=a,r.prototype.fetch=function(){return this.codec.decode(this)}},function(e,t,n){"use strict";function r(e){var t=N.hasArrayBuffer&&e&&e.binarraybuffer,n=e&&e.int64;return{map:x&&e&&e.usemap?i:a,array:o,str:s,bin:t?l:u,ext:c,uint8:d,uint16:m,uint32:p,uint64:h(8,n?S:y),int8:f,int16:g,int32:v,int64:h(8,n?T:A),float32:h(4,M),float64:h(8,b)}}function a(e,t){var n,r={},a=new Array(t),i=new Array(t),o=e.codec.decode;for(n=0;n<t;n++)a[n]=o(e),i[n]=o(e);for(n=0;n<t;n++)r[a[n]]=i[n];return r}function i(e,t){var n,r=new Map,a=new Array(t),i=new Array(t),o=e.codec.decode;for(n=0;n<t;n++)a[n]=o(e),i[n]=o(e);for(n=0;n<t;n++)r.set(a[n],i[n]);return r}function o(e,t){for(var n=new Array(t),r=e.codec.decode,a=0;a<t;a++)n[a]=r(e);return n}function s(e,t){var n=e.reserve(t),r=n+t;return P.toString.call(e.buffer,"utf-8",n,r)}function u(e,t){var n=e.reserve(t),r=n+t,a=P.slice.call(e.buffer,n,r);return N.from(a)}function l(e,t){var n=e.reserve(t),r=n+t,a=P.slice.call(e.buffer,n,r);return N.Uint8Array.from(a).buffer}function c(e,t){var n=e.reserve(t+1),r=e.buffer[n++],a=n+t,i=e.codec.getExtUnpacker(r);if(!i)throw new Error("Invalid ext type: "+(r?"0x"+r.toString(16):r));return i(P.slice.call(e.buffer,n,a))}function d(e){var t=e.reserve(1);return e.buffer[t]}function f(e){var t=e.reserve(1),n=e.buffer[t];return 128&n?n-256:n}function m(e){var t=e.reserve(2),n=e.buffer;return n[t++]<<8|n[t]}function g(e){var t=e.reserve(2),n=e.buffer,r=n[t++]<<8|n[t];return 32768&r?r-65536:r}function p(e){var t=e.reserve(4),n=e.buffer;return 16777216*n[t++]+(n[t++]<<16)+(n[t++]<<8)+n[t]}function v(e){var t=e.reserve(4),n=e.buffer;return n[t++]<<24|n[t++]<<16|n[t++]<<8|n[t]}function h(e,t){return function(n){var r=n.reserve(e);return t.call(n.buffer,r,E)}}function y(e){return new w(this,e).toNumber()}function A(e){return new C(this,e).toNumber()}function S(e){return new w(this,e)}function T(e){return new C(this,e)}function M(e){return D.read(this,e,!1,23,4)}function b(e){return D.read(this,e,!1,52,8)}var D=n(107),I=n(118),w=I.Uint64BE,C=I.Int64BE;t.getReadFormat=r,t.readUint8=d;var N=n(17),P=n(117),x="undefined"!=typeof Map,E=!0},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r}!function(t){function n(e){for(var t in l)e[t]=l[t];return e}function r(e,t){return s(this,e).push(t),this}function a(e,t){function n(){i.call(r,e,n),t.apply(this,arguments)}var r=this;return n.originalListener=t,s(r,e).push(n),r}function i(e,t){function n(e){return e!==t&&e.originalListener!==t}var r,a=this;if(arguments.length){if(t){if(r=s(a,e,!0)){if(r=r.filter(n),!r.length)return i.call(a,e);a[u][e]=r}}else if((r=a[u])&&(delete r[e],!Object.keys(r).length))return i.call(a)}else delete a[u];return a}function o(e,t){function n(e){e.call(i)}function r(e){e.call(i,t)}function a(e){e.apply(i,l)}var i=this,o=s(i,e,!0);if(!o)return!1;var u=arguments.length;if(1===u)o.forEach(n);else if(2===u)o.forEach(r);else{var l=Array.prototype.slice.call(arguments,1);o.forEach(a)}return!!o.length}function s(e,t,n){if(!n||e[u]){var r=e[u]||(e[u]={});return r[t]||(r[t]=[])}}e.exports=t;var u="listeners",l={on:r,once:a,off:i,emit:o};n(t.prototype),t.mixin=n}(r)},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkFileLoader"),e.download=function(){return t.fileUrl?"function"!=typeof t.dataCallback?(u("null dataCallback"),!1):(t.reader=new FileReader,t.reader.onabort=function(){"function"==typeof t.errorCallback&&t.errorCallback("abort")},t.reader.onerror=function(){"function"==typeof t.errorCallback&&t.errorCallback("error")},t.reader.onload=function(){i(t.reader.result),t.dataCallback(t.reader.result)},t.reader.onprogress=function(e){var n=e||event,r=t.progressCallback;if(n.lengthComputable&&"function"==typeof r)if(t.progressMin<t.progressMax){var a=100*n.loaded/n.total,i=0;i=a<=0?t.progressMin:a>=100?t.progressMax:(t.progressMax-t.progressMin)*a/100+t.progressMin,i=Math.floor(100*i)/100;var o={progress:i,loaded:n.loaded,total:n.total};r(o)}else{var s=Math.floor(100*t.progressMin)/100,u={progress:s,loaded:n.loaded,total:n.total};r(u)}},t.isBinary?t.reader.readAsArrayBuffer(t.fileUrl):t.reader.readAsText(t.fileUrl),!0):(u("vtkFileLoader: null fileUrl"),!1)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),s.default.obj(e,t),s.default.setGet(e,t,["fileUrl","isBinary","dataCallback","errorCallback","progressCallback","progressMin","progressMax"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.extend=a;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=s.default.vtkErrorMacro,l={fileUrl:null,isBinary:!0,dataCallback:null,errorCallback:null,progressCallback:null,progressMin:0,progressMax:100,reader:null},c=t.newInstance=s.default.newInstance(a,"vtkFileLoader");t.default={newInstance:c,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkFileDownloaderWS"),e.getMode=function(){return"WebSocket"},e.download=function(){return!(g.HAS_WS_ERROR||(t.serverUrl?t.fileUrl?"function"!=typeof t.dataCallback?(c("null dataCallback"),1):(t.socket=new WebSocket(t.serverUrl),t.socket.binaryType="arraybuffer",t.socket.onmessage=e.onmessage,t.socket.onerror=function(n){g.HAS_WS_ERROR=!0,d("WebSocket error, switch to ajax ..."),e.disconnect(),"function"==typeof t.errorCallback&&t.errorCallback("Error")},t.socket.onopen=function(t){e.sendMessage()},t.socket.onclose=function(e){t.socket=null,t.pending>0&&(g.HAS_WS_ERROR=!0,"function"==typeof t.errorCallback&&t.errorCallback("Error"))},0):(c("vtkFileDownloaderWS: null fileUrl"),1):(c("null serverUrl"),1)))},e.onmessage=function(n){var r=n.data;if(t.pending--,"string"==typeof r){var a=JSON.parse(r);if(a&&"ok"===a.result){if("function"==typeof t.progressCallback){var i={progress:100,loaded:a.data.length,total:a.data.length};t.progressCallback(i)}t.dataCallback(a.data)}else a||c("parse json data error"),"function"==typeof t.errorCallback&&t.errorCallback("Error");return void e.disconnect()}if("arraybuffer"!==t.socket.binaryType)return void c("unsupported binaryType: "+t.socket.binaryType);e.disconnect();var o=n.data,s=new DataView(o);if(o.byteLength<5)return void c("incomplete data 1");for(var u=0;u<5;u++)if(s.getInt8(u)!=="YORKT".charCodeAt(u))return void c("incomplete data 2");if(o.byteLength<9)return void c("incomplete data 3");var l=s.getInt32(5,!0);if(o.byteLength<9+l)return void c("incomplete data 4");var d=new Uint8Array(o,9,l),m=f(d),g=m?JSON.parse(m):null;if(g&&"ok"===g.result){var v=null;if(g.isZip)try{var h=new Uint8Array(o,9+l);g.dataLengthZip=h.length,v=p.inflate(h).buffer}catch(e){c("uncompress error: "+e)}else v=new DataView(o,9+l),g.dataLengthZip=v.byteLength;if(v){if("function"==typeof t.progressCallback){var y={progress:100,loaded:v.byteLength,total:v.byteLength,totalZip:g.dataLengthZip};t.progressCallback(y)}t.dataCallback(v)}}else c("parse binary json data error"),"function"==typeof t.errorCallback&&t.errorCallback("Error")},e.onmessageSimple=function(n){var r=n.data;if("string"==typeof r){if("function"==typeof t.progressCallback){var a={progress:100,loaded:r.length,total:r.length};t.progressCallback(a)}return t.dataCallback(r),void e.disconnect()}if("arraybuffer"===t.socket.binaryType){var i=n.data;if("function"==typeof t.progressCallback){var o={progress:100,loaded:i.byteLength,total:i.byteLength};t.progressCallback(o)}return t.dataCallback(i),void e.disconnect()}var s=l.default.newInstance({fileUrl:n.data,isBinary:!0});s.setProgressMin(t.progressMin),s.setProgressMax(t.progressMax),s.setDataCallback(t.dataCallback),s.setErrorCallback(t.errorCallback),s.setProgressCallback(t.progressCallback),s.download(),e.disconnect()},e.sendMessage=function(){var e={};e.type="fileData",e.msgId=++t.msgId,e.isBinary=t.isBinary,e.isZip=m.USE_ZIP,e.filePath=t.fileUrl,t.pending++;var n=JSON.stringify(e);t.socket.send(n)},e.disconnect=function(){t.socket&&(t.socket.close(),t.socket=null)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,v,n),s.default.obj(e,t),s.default.setGet(e,t,["serverUrl","fileUrl","isBinary","dataCallback","errorCallback","progressCallback","progressMin","progressMax"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(200),l=r(u),c=s.default.vtkErrorMacro,d=s.default.vtkWarningMacro,f=s.default.uint8ArrayToString,m=s.default.GlobalOptions,g=s.default.GlobalStates,p=n(26),v={serverUrl:null,fileUrl:null,isBinary:!0,dataCallback:null,errorCallback:null,progressCallback:null,progressMin:0,progressMax:100,socket:null,msgId:0,pending:0},h=t.newInstance=s.default.newInstance(i,"vtkFileDownloaderWS");t.default={newInstance:h,extend:i}},function(e,t,n){"use strict";function r(e,t){switch(e){case"index":return Number(t);case"parent_index":case"logic_parent":case"visible":return void 0===t?-1:Number(t);case"color":return c(t);case"opacity":return Number(t);case"Image Position":case"roi_bound":case"position":return c(t);case"window":case"level":case"mask_bit":case"node_type":case"is_volume_rendering":case"hide_in_data_storage":case"expand":case"selected":case"type_selected":case"select_lock":case"visible_lock":return Number(t)}return t}function a(e,t){t.classHierarchy.push("vtkYcmParser"),e.getViews=function(){return t.ycmObject.views},e.getViewByType=function(t){return(e.getViews()||[]).find(function(e){return e.viewType===t})||null},e.getViewType=function(e){return e.viewType},e.getCameraParameters=function(e){return e.camera},e.getCameraParametersByType=function(t){return e.getViewByType(t).camera},e.getLightsParameters=function(e){return e.lights},e.getLightsParametersByType=function(t){return e.getViewByType(t).lights},e.getNodes=function(){return t.ycmObject.nodes},e.getNodeIndex=function(e){return e.properties.index},e.getNodeByIndex=function(t){return(e.getNodes()||[]).find(function(e){return e.properties.index===t})||null},e.newNode=function(e){var t={};return t.data={},t.properties={},t.data.fileName="",t.properties.name="",t.properties.index=-1,t.properties.parent_index=-1,t.properties.visible=1,e===u.DataNodeTypes.IMAGE_DATA?(t.data.pathType="0",t.data.dataPath="",t.data.fileType="dicom",t.data.readMethod="ImageData",t.data.value="0M",t.properties.node_type=u.DataNodeTypes.IMAGE_DATA,t.properties.window=240,t.properties.level=80):e===u.DataNodeTypes.MASKV_DATA?(t.data.pathType="1",t.data.dataPath=void 0,t.data.fileType="mha",t.data.readMethod="MaskData",t.data.value="0M",t.properties.node_type=u.DataNodeTypes.MASKV_DATA,t.properties.color=[1,1,1],t.properties.opacity=1):e===u.DataNodeTypes.SURFACE_DATA&&(t.data.pathType="1",t.data.dataPath=void 0,t.data.fileType="stl",t.data.readMethod="SurfaceData",t.data.value="0M",t.properties.node_type=u.DataNodeTypes.SURFACE_DATA,t.properties.color=[1,1,1],t.properties.opacity=1),t},e.getAddNodeIndex=function(){var e=-1;return t.ycmObject.nodes.forEach(function(t){var n=t.properties.index;n>e&&(e=n)}),e},e.addNode=function(n,r){if(!n)return-1;if(t.ycmObject.nodes.indexOf(n)>=0)return-1;n.properties.node_type===u.DataNodeTypes.IMAGE_DATA&&t.ycmObject.nodes.forEach(function(e){e.properties.visible=0});var a=e.getAddNodeIndex()+1;if(n.properties.index=a,r<0)n.properties.parent_index=-1;else{if(!e.getNodeByIndex(r))return-1;n.properties.parent_index=r}return t.ycmObject.nodes.push(n),a},e.isNodeExist=function(t){return!!e.getNodeByIndex(t)},e.getNodeDataInfo=function(e){return e.data},e.getNodeDataInfoByIndex=function(t){return e.getNodeByIndex(t).data},e.getNodeDataReadMethod=function(e){return e.data.readMethod},e.getNodeDataPath=function(e){return t.baseDir+"/"+e.data.fileName+"."+e.data.fileType},e.getNodeProperties=function(e){return e.properties},e.getNodePropertiesByIndex=function(t){return e.getNodeByIndex(t).properties},e.getSurfaceNodeList=function(){var t=[];return(e.getNodes()||[]).forEach(function(e){if("SurfaceData"===e.data.readMethod){var n={};n.type=e.data.readMethod,n.index=e.properties.index,n.parentIndex=e.properties.parent_index,n.name=e.properties.name,n.color=e.properties.color.concat(),n.opacity=e.properties.opacity,n.visible=e.properties.visible,n.volume=e.properties.volume,t.push(n)}}),t},e.getImageNodeList=function(t){var n=[];return(e.getNodes()||[]).forEach(function(e){if("ImageData"===e.data.readMethod){var r={};r.type=e.data.readMethod,r.index=e.properties.index,r.parentIndex=e.properties.parent_index;var a=e.properties.name;if(t&&a){var i=a.split("\\");1===i.length&&(i=a.split("/")),r.name=i[0]}else r.name=a;r.visible=e.properties.visible,r.hasData=!!e.data.vtkData,r.seriesUID=e.properties["Series Instance UID"],n.push(r)}}),n},e.getMaskNodeList=function(){var t=[];return(e.getNodes()||[]).forEach(function(e){if("MaskData"===e.data.readMethod){var n={};n.type=e.data.readMethod,n.index=e.properties.index,n.parentIndex=e.properties.parent_index,n.name=e.properties.name,n.color=e.properties.color.concat(),n.opacity=e.properties.opacity,n.visible=e.properties.visible,n.volume=e.properties.volume,t.push(n)}}),t},e.getNodeList=function(){var t=[];return(e.getNodes()||[]).forEach(function(e){var n={};n.type=e.data.readMethod,"SurfaceData"===e.data.readMethod?(n.index=e.properties.index,n.name=e.properties.name,n.color=e.properties.color.concat(),n.opacity=e.properties.opacity,n.visible=e.properties.visible,n.volume=e.properties.volume):"ImageData"===e.data.readMethod?(n.index=e.properties.index,n.name=e.properties.name,n.visible=e.properties.visible):"MaskData"===e.data.readMethod&&(n.index=e.properties.index,n.name=e.properties.name,n.color=e.properties.color.concat(),n.opacity=e.properties.opacity,n.visible=e.properties.visible,n.volume=e.properties.volume),t.push(n)}),t},e.setYcmPath=function(e){t.ycmPath=e,t.baseDir=d(e)},e.parse=function(){return t.ycmData?((new g.Parser).parseString(t.ycmData,function(n,r){r?e.parseYcmObject(r):l("parse ycmData error: "+t.ycmPath+", err: "+n)}),!0):(l("null ycmData: "+t.ycmPath),!1)},e.parseYcmObject=function(n){if(t.ycmObjectXml=n||t.ycmObjectXml,!t.ycmObjectXml)return void l("null ycmObjectXml");t.ycmObject={},t.ycmObject.nodes=[],t.ycmObject.views=[],e._handleNodes(),e._handleViews(),e.traverseYcmObject()},e.traverseYcmObject=function(){return t.ycmObject?(e.handleNodes(),e.handleViews(),!0):(l("null ycmObject"),!1)},e.handleSurfaceData=function(n){if(t.onSurfaceData){var r=e.getNodeProperties(n),a=e.getNodeDataPath(n);t.onSurfaceData(r.index,a)}},e.handleImageData=function(n){if(t.onImageData&&m.USE_DICOM_DATA){var r=e.getNodeProperties(n);t.onImageData(r.index)}},e.handleMaskData=function(n){if(t.onMaskData){var r=e.getNodeProperties(n),a=e.getNodeDataPath(n);t.onMaskData(r.index,a)}},e.handleOtherData=function(t){l("unknown data type: "+e.getNodeDataReadMethod(t))},e.dataHandlers={ImageData:e.handleImageData,SurfaceData:e.handleSurfaceData,MaskData:e.handleMaskData},e.dataHandlers[""]=e.handleOtherData,e.handleNode=function(t){var n=e.dataHandlers[e.getNodeDataReadMethod(t)];n?n(t):e.handleOtherData(t)},e.handleNodes=function(){if(!t.ycmObject.nodes)return void l("null ycmObject nodes");(e.getNodes()||[]).forEach(function(t){e.handleNode(t)})},e.handleView=function(e){},e.handleViews=function(){if(!t.ycmObject.views)return void l("null ycmObject views");(e.getViews()||[]).forEach(function(t){e.handleView(t)})},e._getNodes=function(){return t.ycmObjectXml.Project.NodeList[0].Node},e._getNodeIndex=function(e){var t=e.PropertyList[0].Property,n=(t||[]).find(function(e){return"index"===e.$.Name});return n?Number(n._):-1},e._getNodeByIndex=function(t){var n=Number(t);return(e._getNodes()||[]).find(function(t){return e._getNodeIndex(t)===n})||null},e._getNodeDataInfo=function(e){if(!e)return null;var t=e.Data[0],n={};return n.fileName=t.FileName?t.FileName[0]:null,n.fileType=t.FileType?t.FileType[0]:null,n.readMethod=t.ReadMethod?t.ReadMethod[0]:null,n.dataPath=t.DataPath?t.DataPath[0]._:null,n.value=t.$.Value,n.pathType=t.DataPath?t.DataPath[0].$.PathType:null,n},e._getNodeProperties=function(e){if(!e)return null;var t=e.PropertyList[0].Property,n={};return(t||[]).forEach(function(e){var t=r(e.$.Name,e._);n[e.$.Name]=t}),void 0===n.index&&(n.index=-1),void 0===n.parent_index&&(n.parent_index=-1),void 0===n.visible&&(n.visible=1),n},e._handleNode=function(n){var r=e._getNodeDataInfo(n);if(r&&"vtk"!==r.fileType){var a=e._getNodeProperties(n);a&&(void 0!==a.modify&&(a.modify="0"),t.ycmObject.nodes.push({data:r,properties:a}))}},e._handleNodes=function(){return t.ycmObjectXml.Project&&t.ycmObjectXml.Project.NodeList?((e._getNodes()||[]).forEach(function(t){e._handleNode(t)}),!0):(l("null nodes"),!1)},e._getViews=function(){return t.ycmObjectXml.Project.Scene[0].View},e._getCameraParameters=function(e){if(!e)return null;var t={};return(e.Camera[0].Point||[]).forEach(function(e){t[f(e.$.Name)]=c(e._)}),t},e._getLightsParameters=function(e){if(!e)return null;var t=e.Lights[0],n={};return n.lightCount=Number(t.$.LightCount),n},e._handleView=function(n){var r=Number(n.$.ViewType),a=e._getCameraParameters(n),i=e._getLightsParameters(n);t.ycmObject.views.push({viewType:r,camera:a,lights:i})},e._handleViews=function(){return t.ycmObjectXml.Project&&t.ycmObjectXml.Project.Scene?((e._getViews()||[]).forEach(function(t){e._handleView(t)}),!0):(l("null views"),!1)},e.buildNodesObject=function(e){var n={};n.$={NodeCount:t.ycmObject.nodes.length},n.Node=[],t.ycmObject.nodes.forEach(function(e){var t={};t.$={Caption:"",ID:e.properties.index,FatherID:e.properties.parent_index,DataNodeType:e.properties.node_type};var r={};r.$={Value:e.data.value},void 0===e.data.dataPath||null===e.data.dataPath?r.DataPath=[{$:{PathType:e.data.pathType}}]:r.DataPath=[{_:e.data.dataPath,$:{PathType:e.data.pathType}}],"1"===String(e.properties.node_type)?r.FileName=[e.data.fileName]:r.FileName=[e.properties.name],r.FileType=[e.data.fileType],r.ReadMethod=[e.data.readMethod],t.Data=[r];var a=[];(Object.keys(e.properties)||[]).forEach(function(t){if("metaData"!==t&&"dataPaths"!==t){var n=e.properties[t],r={_:String(n)||"",$:{Name:t,PropertyType:"0",Modifiable:""}};a.push(r)}});var i={$:{PropertyCount:a.length},Property:a};t.PropertyList=[i],n.Node.push(t)}),e[0]=n},e.buildViewsObject=function(e){var n=t.ycmObjectXml,r=null;n&&n.Project&&n.Project.Scene&&(r=n.Project.Scene[0]),e[0]=r},e.buildXmlObject=function(){var n=null;t.ycmObject.nodes.forEach(function(e){"ImageData"===e.data.readMethod&&e.properties.visible&&(n=e)});var r=n?n.properties.name:"",a=[],i=[],o={Project:{$:{Name:r},NodeList:a,Scene:i}};return e.buildNodesObject(a),e.buildViewsObject(i),o},e.writeXml=function(){var t={xmldec:{version:"1.0",encoding:"gb2312"}},n=new g.Builder(t),r=e.buildXmlObject();return n.buildObject(r)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),s.default.obj(e,t),s.default.setGet(e,t,["ycmData","onSurfaceData","onImageData","onMaskData"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=n(27),l=s.default.vtkErrorMacro,c=s.default.parseNumberArray,d=s.default.parseFileParent,f=s.default.uncapitalize,m=s.default.GlobalOptions,g=n(351),p={ycmPath:null,baseDir:null,ycmData:null,ycmObjectXml:null,ycmObject:{nodes:[],views:[]},onSurfaceData:null,onImageData:null,onMaskData:null},v=t.newInstance=s.default.newInstance(i,"vtkYcmParser");t.default={newInstance:v,extend:i}},function(e,t,n){"use strict";(function(){e.exports=function(){function e(e,t,n){if(this.options=e.options,this.stringify=e.stringify,null==t)throw new Error("Missing attribute name of element "+e.name);if(null==n)throw new Error("Missing attribute value for attribute "+t+" of element "+e.name);this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},e}()}).call(void 0)},function(e,t,n){"use strict";(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;e.exports=function(){function e(e){this.assertLegalChar=t(this.assertLegalChar,this);var r,a,i;e||(e={}),this.noDoubleEncoding=e.noDoubleEncoding,a=e.stringify||{};for(r in a)n.call(a,r)&&(i=a[r],this[r]=i)}return e.prototype.eleName=function(e){return e=""+e||"",this.assertLegalChar(e)},e.prototype.eleText=function(e){return e=""+e||"",this.assertLegalChar(this.elEscape(e))},e.prototype.cdata=function(e){return e=""+e||"",e=e.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e)},e.prototype.comment=function(e){if(e=""+e||"",e.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},e.prototype.raw=function(e){return""+e||""},e.prototype.attName=function(e){return e=""+e||""},e.prototype.attValue=function(e){return e=""+e||"",this.attEscape(e)},e.prototype.insTarget=function(e){return""+e||""},e.prototype.insValue=function(e){if(e=""+e||"",e.match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return e},e.prototype.xmlVersion=function(e){if(e=""+e||"",!e.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},e.prototype.xmlEncoding=function(e){if(e=""+e||"",!e.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return e},e.prototype.xmlStandalone=function(e){return e?"yes":"no"},e.prototype.dtdPubID=function(e){return""+e||""},e.prototype.dtdSysID=function(e){return""+e||""},e.prototype.dtdElementValue=function(e){return""+e||""},e.prototype.dtdAttType=function(e){return""+e||""},e.prototype.dtdAttDefault=function(e){return null!=e?""+e||"":e},e.prototype.dtdEntityValue=function(e){return""+e||""},e.prototype.dtdNData=function(e){return""+e||""},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(e){var t;if(t=e.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+e+" at index "+t.index);return e},e.prototype.elEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},e.prototype.attEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},e}()}).call(void 0)},function(e,t,n){"use strict";(function(){var t={}.hasOwnProperty;e.exports=function(){function e(e){var n,r,a,i,o,s,u,l,c;e||(e={}),this.pretty=e.pretty||!1,this.allowEmpty=null!=(r=e.allowEmpty)&&r,this.pretty?(this.indent=null!=(a=e.indent)?a:"  ",this.newline=null!=(i=e.newline)?i:"\n",this.offset=null!=(o=e.offset)?o:0,this.dontprettytextnodes=null!=(s=e.dontprettytextnodes)?s:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(u=e.spacebeforeslash)?u:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,l=e.writer||{};for(n in l)t.call(l,n)&&(c=l[n],this[n]=c)}return e.prototype.set=function(e){var n,r,a;e||(e={}),"pretty"in e&&(this.pretty=e.pretty),"allowEmpty"in e&&(this.allowEmpty=e.allowEmpty),this.pretty?(this.indent="indent"in e?e.indent:"  ",this.newline="newline"in e?e.newline:"\n",this.offset="offset"in e?e.offset:0,this.dontprettytextnodes="dontprettytextnodes"in e?e.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in e?e.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=e.writer||{};for(n in r)t.call(r,n)&&(a=r[n],this[n]=a);return this},e.prototype.space=function(e){var t;return this.pretty?(t=(e||0)+this.offset+1,t>0?new Array(t).join(this.indent):""):""},e}()}).call(void 0)},function(e,t,n){"use strict";(function(){var e;e=new RegExp(/(?!xmlns)^.*:/),t.normalize=function(e){return e.toLowerCase()},t.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},t.stripPrefix=function(t){return t.replace(e,"")},t.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},t.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(void 0)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkRenderWindow2D"),e.initCrossLine=function(){t.crossLine=l.default.newInstance(),t.crossLine.initColors(t.orientation),t.crossLine.initActors(t.renderer),t.crossLine.setVisible(0)},e.initCornerText=function(){t.cornerText=m.default.newInstance(),t.cornerText.setVisibility(0),t.cornerText.setPickable(0),t.cornerText.setDragable(0),t.cornerText.setLinearFontScaleFactor(2),t.cornerText.setMaximumFontSize(15),t.cornerText.setMaximumLineHeight(1),t.cornerText.setMinimumFontSize(6),t.cornerText.setNonlinearFontScaleFactor(1),t.cornerText.setPosition(.2,.85),t.cornerText.setPosition2(.5,.5),t.cornerText.setShowSliceAndImage(1),t.cornerText.setUseBounds(1),t.cornerText.setText(0,null),t.cornerText.setText(1,null),0===t.orientation?(t.cornerText.setText(4,"\n "),t.cornerText.setText(5,"  "),t.cornerText.setText(6,"  "),t.cornerText.setText(7," \n")):1===t.orientation?(t.cornerText.setText(4,"\n "),t.cornerText.setText(5,"  "),t.cornerText.setText(6,"  "),t.cornerText.setText(7," \n")):(t.cornerText.setText(4,"\n "),t.cornerText.setText(5,"  "),t.cornerText.setText(6,"  "),t.cornerText.setText(7," \n")),t.textProperty=d.default.newInstance(),t.cornerText.setTextProperty(t.textProperty),t.textProperty.setBackgroundColor(0,0,0),t.textProperty.setBackgroundOpacity(0),t.textProperty.setColor(1,1,1),t.textProperty.setFontSize(13),t.textProperty.setBold(0),t.textProperty.setItalic(0),t.textProperty.setFrame(0),t.textProperty.setLineOffset(0),t.textProperty.setLineSpacing(1.1),t.textProperty.setOpacity(1),t.textProperty.setOrientation(0),t.textProperty.setShadow(0),t.textProperty.setUseTightBoundingBox(0),t.textProperty.setJustificationToLeft(),t.textProperty.setVerticalJustificationToCentered(),t.renderer.addActor(t.cornerText)};var n=e.initScene;e.initScene=function(r){n(r),e.setUseDepthPeel(!1),e.updateOrientation();var a=p.default.newInstance();t.interactor.setInteractorStyle(a),t.interactor.getInteractorStyle().setMotionFactor(20),t.interactor.getInteractorStyle().setEnableAnimate(!1),a.setYcmRenderWindow(e),t.renderer.getActiveCamera().setParallelProjection(!0),e.setBackgroundColor([0,0,0]),e.updateBackgrondColor(),e.updateWindowSize(),e.initCrossLine(),e.initCornerText(),e.resetCamera()},e.updateCrossLine=function(){var e=y.DataManagement.getVisibleRootIndex();if(e<0)return void t.crossLine.setVisible(0);var n=y.DataManagement.getData(e);if(!n)return void t.crossLine.setVisible(0);var r=y.MultiView.getReslicePosition(),a=n.getOrigin(),i=n.getDimensions(),o=n.getSpacing(),s=0,u=0,l=[0,0],c=[0,0];switch(t.orientation){case 0:s=r[1],u=r[2],l[0]=a[1],l[1]=a[1]+i[1]*o[1],c[0]=a[2],c[1]=a[2]+i[2]*o[2];break;case 1:s=r[0],u=r[2],l[0]=a[0],l[1]=a[0]+i[0]*o[0],c[0]=a[2],c[1]=a[2]+i[2]*o[2];break;case 2:s=r[0],u=r[1],l[0]=a[0],l[1]=a[0]+i[0]*o[0],c[0]=a[1],c[1]=a[1]+i[1]*o[1]}var d=[l[0],u,0],f=[l[1],u,0],m=[s,c[0],0],g=[s,c[1],0],p=[s,u,0];t.crossLine.initActors(t.renderer),t.crossLine.setCrossLinePosition(d,f,m,g,p),t.crossLine.setVisible(t.crossLineVisible)},e.getCrossLineVisible=function(){return t.crossLine&&t.crossLine.getVisible()},e.setCrossLineVisible=function(n){t.crossLineVisible=n,t.crossLine.setVisible(n),e.render()},e.updateCornerTextByMousemove=function(){var n=[];n=y.MultiView.getMousemoveWindow()===t.orientation?y.MultiView.getDisplayPosition():y.MultiView.getReslicePosition(),e.updateCornerText(n),e.render()},e.updateCornerText=function(e){var n=y.DataManagement.getVisibleRootIndex();if(n<0)return t.cornerText.setText(2,"\n\n"),t.cornerText.setText(3,""),void t.cornerText.setVisibility(0);var r=y.DataManagement.getData(n);if(!r)return t.cornerText.setText(2,"\n\n"),t.cornerText.setText(3,""),void t.cornerText.setVisibility(0);y.MultiView.getActiveWindow()===t.orientation?t.textProperty.setColor(1,1,1):t.textProperty.setColor(.8,.8,.8);var a=r.getOrigin(),i=r.getSpacing(),o=r.getDimensions(),s=[];s[0]=Math.floor((e[0]-a[0])/i[0]+.5),s[1]=Math.floor((e[1]-a[1])/i[1]+.5),s[2]=Math.floor((e[2]-a[2])/i[2]+.5);var u=s[2]*o[1]*o[0]+s[1]*o[0]+s[0],l=r.getPointData().getScalars().getTuple(u)[0],c=s[t.orientation],d=o[t.orientation]-1,f=y.MultiView.getWindowLevel(),m="\n\n"+s[0]+","+s[1]+","+s[2]+"\nCT"+l+"\n/"+c+"/"+d+"\n/"+Math.floor(f[0])+"/"+Math.floor(f[1])+"   ";t.cornerText.setText(2,m);var g="",p=y.DataManagement.getVisibleRootIndex();if(p>=0&&t.dicomInfoVisible){var v=y.DataManagement.getNodeProperty(p,"metaData");if(v&&v[0]){var h=v[0];Array.isArray(h)?h.forEach(function(e){"PatientName"===e.LabelId?g+=""+e.TagValue+"\n":"InstitutionName"===e.LabelId?g+=""+e.TagValue+"\n":"PatientAge"===e.LabelId?g+=""+e.TagValue+"\n":"PatientSex"===e.LabelId?g+=""+e.TagValue+"\n":"Manufacturer"===e.LabelId?g+=""+e.TagValue+"\n":"PatientID"===e.LabelId&&(g+="ID"+e.TagValue+"\n")}):(void 0!==h["0010|0010"]&&(g+=""+h["0010|0010"]+"\n"),void 0!==h["0008|0080"]&&(g+=""+h["0008|0080"]+"\n"),void 0!==h["0010|1010"]&&(g+=""+h["0010|1010"]+"\n"),void 0!==h["0010|0040"]&&(g+=""+h["0010|0040"]+"\n"),void 0!==h["0008|0070"]&&(g+=""+h["0008|0070"]+"\n"),void 0!==h["0010|0020"]&&(g+="ID"+h["0010|0020"]+"\n"))}}t.cornerText.setText(3,g),t.cornerText.setVisibility(t.cornerTextVisible)},e.getCornerTextVisible=function(){return t.cornerText&&t.cornerText.getVisibility()&&t.renderer.hasViewProp(t.cornerText)},e.setCornerTextVisible=function(n){t.cornerTextVisible=n,t.cornerText&&(n&&!t.renderer.hasViewProp(t.cornerText)&&t.renderer.addActor(t.cornerText),t.cornerText.setVisibility(n),e.render())},e.getDicomInfoVisible=function(){return t.dicomInfoVisible},e.setDicomInfoVisible=function(n){t.dicomInfoVisible=n,e.updateCornerTextByMousemove()},e.updateWindowLevel=function(n){t.mapperContainer.forEach(function(e){e&&"yImageNodeMapToPlane"===e.getClassName()&&e.updateWindowLevel()});var r=y.MultiView.getReslicePosition();e.updateCornerText(r),n||(e.render(),y.MultiView.getRenderWindow3D().render())},e.updateReslicePosition=function(n){t.mapperContainer.forEach(function(e){e&&("yImageNodeMapToPlane"===e.getClassName()?e.updateReslicePosition():"yMaskNodeMapToPlane"===e.getClassName()&&e.updateReslicePosition())}),e.updateCrossLine();var r=y.MultiView.getReslicePosition();e.updateCornerText(r),n||(e.render(),y.MultiView.getRenderWindow3D().render())},e.updateView=function(){e.updateWindowLevel(!0),e.updateReslicePosition(!0),e.render(),y.MultiView.getRenderWindow3D().render()}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,S,n),h.default.extend(e,t,n),t.dicomInfoVisible=A.SHOW_DICOM_INFO,a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(360),l=r(u),c=n(88),d=r(c),f=n(365),m=r(f),g=n(213),p=r(g),v=n(134),h=r(v),y=s.default.GlobalObjects,A=s.default.GlobalOptions,S={crossLine:null,textProperty:null,cornerText:null,crossLineVisible:1,cornerTextVisible:1,dicomInfoVisible:1},T=t.newInstance=s.default.newInstance(i,"vtkRenderWindow2D");t.default={newInstance:T,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e}function i(e){return Math.floor(255*e+.5)}function o(e,t){t.classHierarchy.push("vtkScalarsToColors"),e.setVectorModeToMagnitude=function(){return e.setVectorMode(h.MAGNITUDE)},e.setVectorModeToComponent=function(){return e.setVectorMode(h.COMPONENT)},e.setVectorModeToRGBColors=function(){return e.setVectorMode(h.RGBCOLORS)},e.build=function(){},e.isOpaque=function(){return!0},e.setAnnotations=function(n,r){if(!(n&&!r||!n&&r)){if(n&&r&&n.getNumberOfTuples()!==r.getNumberOfTuples())return void S("Values and annotations do not have the same number of tuples so ignoring");if(t.annotationArray=[],r&&n)for(var a=r.getNumberOfTuples(),i=0;i<a;i++)t.annotationArray.push({value:n[i],annotation:r[i]});e.updateAnnotatedValueMap(),e.modified()}},e.setAnnotation=function(n,r){var a=e.checkForAnnotatedValue(n),i=!1;return a>=0?t.annotationArray[a].annotation!==r&&(t.annotationArray[a].annotation=r,i=!0):(t.annotationArray.push({value:n,annotation:r}),a=t.annotationArray.length-1,i=!0),i&&(e.updateAnnotatedValueMap(),e.modified()),a},e.getNumberOfAnnotatedValues=function(){return t.annotationArray.length},e.getAnnotatedValue=function(e){return e<0||e>=t.annotationArray.length?null:t.annotationArray[e].value},e.getAnnotation=function(e){return void 0===t.annotationArray[e]?null:t.annotationArray[e].annotation},e.getAnnotatedValueIndex=function(n){return t.annotationArray.length?e.checkForAnnotatedValue(n):-1},e.removeAnnotation=function(n){var r=e.checkForAnnotatedValue(n),a=r>=0;return a&&(t.annotationArray.splice(r,1),e.updateAnnotatedValueMap(),e.modified()),a},e.resetAnnotations=function(){t.annotationArray=[],t.annotatedValueMap=[],e.modified()},e.getAnnotationColor=function(n,r){if(t.indexedLookup){var a=e.getAnnotatedValueIndex(n);e.getIndexedColor(a,r)}else e.getColor(parseFloat(n),r),r[3]=1},e.checkForAnnotatedValue=function(t){return e.getAnnotatedValueIndexInternal(t)},e.getAnnotatedValueIndexInternal=function(e){if(void 0!==t.annotatedValueMap[e]){var n=t.annotationArray.length;return t.annotatedValueMap[e]%n}return-1},e.getIndexedColor=function(e,t){t[0]=0,t[1]=0,t[2]=0,t[3]=0},e.updateAnnotatedValueMap=function(){t.annotatedValueMap=[];for(var e=t.annotationArray.length,n=0;n<e;++n)t.annotatedValueMap[t.annotationArray[n].value]=n},e.mapScalars=function(t,n,r){var a=t.getNumberOfComponents(),i=null;if(n===A.DEFAULT&&t.getDataType()===y.UNSIGNED_CHAR||n===A.DIRECT_SCALARS&&t)i=e.convertToRGBA(t,a,t.getNumberOfTuples());else{var o={type:"vtkDataArray",name:"temp",numberOfComponents:4,dataType:y.UNSIGNED_CHAR},s=new window[o.dataType](4*t.getNumberOfTuples());o.values=s,o.size=s.length,i=d.default.newInstance(o);var u=r;u<0&&a>1?e.mapVectorsThroughTable(t,i,v.RGBA,-1,-1):(u<0&&(u=0),u>=a&&(u=a-1),e.mapScalarsThroughTable(t,i,v.RGBA,u))}return i},e.mapVectorsToMagnitude=function(e,t,n){for(var r=e.getNumberOfTuples(),a=e.getNumberOfComponents(),i=t.getData(),o=e.getData(),s=0;s<r;s++){for(var u=0,l=0;l<n;l++)u+=o[s*a+l]*o[s*a+l];i[s]=Math.sqrt(u)}},e.mapVectorsThroughTable=function(t,n,r,a,i){var o=e.getVectorMode(),s=i,u=a,l=t.getNumberOfComponents();o===h.COMPONENT?(-1===u&&(u=e.getVectorComponent()),u<0&&(u=0),u>=l&&(u=l-1)):(-1===s&&(s=e.getVectorSize()),s<=0?(u=0,s=l):(u<0&&(u=0),u>=l&&(u=l-1),u+s>l&&(s=l-u)),o!==h.MAGNITUDE||1!==l&&1!==s||(o=h.COMPONENT));var c=0;switch(u>0&&(c=u),o){case h.COMPONENT:e.mapScalarsThroughTable(t,n,r,c);break;default:case h.MAGNITUDE:var f=d.default.newInstance({numberOfComponents:1,values:new Float32Array(t.getNumberOfTuples())});e.mapVectorsToMagnitude(t,f,s),e.mapScalarsThroughTable(f,n,r,0);break;case h.RGBCOLORS:}},e.luminanceToRGBA=function(e,t,n,r){for(var a=r(n),i=t.getData(),o=e.getData(),s=i.length,u=0,l=0;l<s;l+=1){var c=r(i[l]);o[4*u]=c,o[4*u+1]=c,o[4*u+2]=c,o[4*u+3]=a,u++}},e.luminanceAlphaToRGBA=function(e,t,n,r){for(var a=t.getData(),i=e.getData(),o=a.length,s=0,u=0;u<o;u+=2){var l=r(a[u]);i[s]=l,i[s+1]=l,i[s+2]=l,i[s+3]=r(a[u+1])*n,s+=4}},e.rGBToRGBA=function(e,t,n,r){for(var a=i(n),o=t.getData(),s=e.getData(),u=o.length,l=0,c=0;c<u;c+=3)s[4*l]=r(o[c]),s[4*l+1]=r(o[c+1]),s[4*l+2]=r(o[c+2]),s[4*l+3]=a,l++},e.rGBAToRGBA=function(e,t,n,r){for(var a=t.getData(),i=e.getData(),o=a.length,s=0,u=0;u<o;u+=4)i[4*s]=r(a[u]),i[4*s+1]=r(a[u+1]),i[4*s+2]=r(a[u+2]),i[4*s+3]=r(a[u+3])*n,s++},e.convertToRGBA=function(n,r,o){var s=t.alpha;if(4===r&&s>=1&&n.getDataType()===y.UNSIGNED_CHAR)return n;var u=d.default.newInstance({numberOfComponents:4,empty:!0,size:4*o,dataType:y.UNSIGNED_CHAR});if(o<=0)return u;s=s>0?s:0,s=s<1?s:1;var l=a;switch(n.getDataType()!==y.FLOAT&&n.getDataType()!==y.DOUBLE||(l=i),r){case 1:e.luminanceToRGBA(u,n,s,l);break;case 2:e.luminanceAlphaToRGBA(u,n,l);break;case 3:e.rGBToRGBA(u,n,s,l);break;case 4:e.rGBAToRGBA(u,n,s,l);break;default:return S("Cannot convert colors"),null}return u},e.usingLogScale=function(){return!1},e.getNumberOfAvailableColors=function(){return 16777216},e.setRange=function(t,n){return e.setMappingRange(t,n)},e.getRange=function(t,n){return e.getMappingRange()}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),l.default.obj(e,t),t.mappingRange=[0,255],t.annotationArray=[],t.annotatedValueMap=[],l.default.setGet(e,t,["vectorSize","vectorComponent","vectorMode","alpha","indexedLookup"]),l.default.setArray(e,t,["mappingRange"],2),l.default.getArray(e,t,["mappingRange"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=s;var u=n(0),l=r(u),c=n(2),d=r(c),f=n(86),m=r(f),g=n(87),p=r(g),v=m.default.ScalarMappingTarget,h=m.default.VectorMode,y=d.default.VtkDataTypes,A=p.default.ColorMode,S=l.default.vtkErrorMacro,T={alpha:1,vectorComponent:0,vectorSize:-1,vectorMode:h.COMPONENT,mappingRange:null,annotationArray:null,annotatedValueMap:null,indexedLookup:!1},M=t.newInstance=l.default.newInstance(s,"vtkScalarsToColors");t.default=Object.assign({newInstance:M,extend:s},m.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Font={ARIAL:0,COURIER:1,TIMES:2,UNKNOWN_FONT:3,FONT_FILE:4},a=t.Justification={TEXT_LEFT:0,TEXT_CENTERED:1,TEXT_RIGHT:2},i=t.VerticalJustification={TEXT_BOTTOM:0,TEXT_TOP:2};t.default={Font:r,Justification:a,VerticalJustification:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){if(0===n&&0===r)return 0;var a=e.getTextProperty();if(!a)return C("Need text property to apply constraint"),0;var i=a.getFontSize(),o=e.getSize(t);if(o[0]&&o[1]){var s=n/o[0],u=r/o[1];i=Math.ceil(i*Math.min(s,u)),a.setFontSize(i),o=e.getSize(t)}for(;o[1]<=r&&o[0]<=n&&i<100;)i++,a.setFontSize(i),o=e.getSize(t);for(;(o[1]>r||o[0]>n)&&i>1;)i--,a.setFontSize(i),o=e.getSize(t);return i}function i(e,t,n,r,i){var o=i<=0?.015:i,s=n[0]>n[1]?n[0]:n[1],u=o*n[0]+o*n[1],l=a(e,t,s,u);if(r){var c=e.getSize(t);r[0]=c[0],r[1]=c[1]}return l}function o(e,t){t.classHierarchy.push("vtkTextMapper"),e.getSize=function(n){return e.updateImage(0),[t.textDims[0]*t.textScale,t.textDims[1]*t.textScale]},e.getWidth=function(t){return e.getSize(t)[0]},e.getHeight=function(t){return e.getSize(t)[1]},e.shallowCopy=function(t){e.setInput(t.getInput()),e.setTextProperty(t.getTextProperty()),e.setClippingPlanes(t.getClippingPlanes())},e.setConstrainedFontSize=function(t,n,r){return a(e,t,n,r)},e.getMTime=function(){var e=t.mtime;return e=Math.max(e,t.coordsTime.getMTime()),e=Math.max(e,t.points.getMTime()),e=Math.max(e,t.polyData.getMTime()),e=Math.max(e,t.textContextTime.getMTime())},e.getFontString=function(){var e=t.textProperty.getFontSize(),n=t.textProperty.getBold(),r=t.textProperty.getItalic(),a=t.textProperty.getFontFamily(),i="Arial";return i=a===D.FONT_FILE?t.textProperty.getFontFileWithoutPath():t.textProperty.getFontFamilyAsString(a),(n?"bold":"")+" "+(r?"italic":"")+" "+e+"px "+i},e.getBoundingBox=function(){var n=t.textContext;n.font=e.getFontString();var r=t.textProperty.getFontSize(),a=n.font.match(/\d+/g);if(a&&a.length>0){var i=parseInt(a[a.length-1],10);t.textScale=i!==r?r/i:1,r=i}for(var o=t.textProperty.getFrame(),s=o?t.textProperty.getFrameWidth():0,u=t.textProperty.getLineOffset(),l=t.textProperty.getLineSpacing(),c=0,d=u,f=t.input.split("\n"),m=0;m<f.length;m++){var g=n.measureText(f[m]).width;g>c&&(c=g),m===f.length-1?d+=r:d+=r*l}var p=c+2*s+5,v=d+2*s+5,h=[s,s],y=[0,0],A=t.textProperty.getJustification();A===I.TEXT_LEFT?y[0]-=h[0]:A===I.TEXT_CENTERED?y[0]-=p/2:A===I.TEXT_RIGHT&&(y[0]-=p-h[0]-1);var S=t.textProperty.getVerticalJustification();S===w.TEXT_BOTTOM?y[1]-=h[1]:S===w.TEXT_CENTERED?y[1]-=v/2:S===w.TEXT_TOP&&(y[1]-=v-h[1]-1);var T=[];return T[0]=y[0],T[1]=y[0]+p,T[2]=y[1],T[3]=y[1]+v,T},e.updateQuad=function(n,r){if(t.textContextTime.getMTime()>t.tcoordsTime.getMTime()){var a=t.textContextTime.getDimensions(),i=t.textDims[0]/a[0],o=t.textDims[1]/a[1],s=t.polyData.getPointData().getTCoords();s&&(s.setTuple(0,0,0),s.setTuple(1,0,o),s.setTuple(2,i,o),s.setTuple(3,i,0),t.tcoordsTime.modified())}if(t.coordsTime.getMTime()<n.getMTime()||t.coordsTime.getMTime()<t.textProperty.getMTime()||t.coordsTime.getMTime()<t.tcoordsTime.getMTime()){var u=e.getBoundingBox(),l=u[0]-1,c=u[2]-1,d=t.textDims[0],f=t.textDims[1];t.bbox=[l,l+d,c,c+f],t.points.setPoint(0,l-1,c-1,0),t.points.setPoint(1,l-1,c+f-1,0),t.points.setPoint(2,l+d-1,c+f-1,0),t.points.setPoint(3,l+d-1,c-1,0),t.coordsTime.modified()}},e.updateImage=function(n){if(t.mtime>t.textContextTime.getMTime()||t.renderedDPI!==n||t.textProperty.getMTime()>t.textContextTime.getMTime()){var r=t.textContext,a=e.getBoundingBox(),i=a[1]-a[0],o=a[3]-a[2];if(t.textDims[0]=i,t.textDims[1]=o,i<=0||o<=0)return void(t.renderedDPI=n);r.canvas.width=i,r.canvas.height=o,r.clearRect(0,0,i,o);var s=t.textProperty.getBackgroundColor(),u=t.textProperty.getBackgroundOpacity();r.fillStyle="rgba("+255*s[0]+", "+255*s[1]+", "+255*s[2]+", "+u+")",r.fillRect(0,0,i,o);var l=t.textProperty.getFrame(),c=l?t.textProperty.getFrameWidth():0;if(l&&(s=t.textProperty.getFrameColor(),u=1,r.strokeStyle="rgba("+255*s[0]+", "+255*s[1]+", "+255*s[2]+", "+u+")",r.lineWidth=c,r.strokeRect(c/2,c/2,i-c,o-c)),t.textProperty.getShadow()){var d=t.textProperty.getShadowOffset();r.shadowColor="white",r.shadowOffsetX=d[0],r.shadowOffsetY=-d[1]}s=t.textProperty.getColor(),u=t.textProperty.getOpacity(),r.fillStyle="rgba("+255*s[0]+", "+255*s[1]+", "+255*s[2]+", "+u+")",r.textAlign="left",r.textBaseline="top",r.font=e.getFontString();var f=t.textProperty.getFontSize(),m=r.font.match(/\d+/g);if(m&&m.length>0){var g=parseInt(m[m.length-1],10);t.textScale=g!==f?f/g:1,f=g}var p=t.textProperty.getLineOffset(),v=t.textProperty.getLineSpacing(),h=0,y=0,A=t.textProperty.getJustification();A===I.TEXT_LEFT?(r.textAlign="left",h=c,y=c+p):A===I.TEXT_CENTERED?(r.textAlign="center",h=i/2,y=c+p):A===I.TEXT_RIGHT&&(r.textAlign="right",h=i-c,y=c+p);for(var S=t.input.split("\n"),T=0;T<S.length;T++)r.fillText(S[T],h,y),T===S.length-1?y+=f:y+=f*v;t.renderedDPI=n}},e.getIsOpaque=function(){return!0},e.getImage=function(){return t.textContext.canvas},e.getBBox=function(){return t.bbox},e.getScaledBBox=function(){return[t.bbox[0]*t.textScale,t.bbox[1]*t.textScale,t.bbox[2]*t.textScale,t.bbox[3]*t.textScale]}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,P,n),d.default.extend(e,t,n),t.textProperty=m.default.newInstance(),t.coordsTime={},l.default.obj(t.coordsTime,{mtime:0}),t.tcoordsTime={},l.default.obj(t.tcoordsTime,{mtime:0}),t.textContextTime={},l.default.obj(t.textContextTime,{mtime:0}),t.points=p.default.newInstance(),t.points.setNumberOfPoints(4,3),t.points.setPoint(0,0,0,0),t.points.setPoint(1,0,0,0),t.points.setPoint(2,0,0,0),t.points.setPoint(3,0,0,0),t.polyData=h.default.newInstance(),t.polyData.setPoints(t.points);var r=A.default.newInstance({size:4});r.setData([0,1,2,3]),t.polyData.setPolys(r);var a=new Float32Array(8),i=T.default.newInstance({numberOfComponents:2,values:a,name:"TextureCoordinates"});t.polyData.getPointData().setTCoords(i),t.textContext=document.createElement("canvas").getContext("2d"),l.default.setGet(e,t,["input","textProperty"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=s;var u=n(0),l=r(u),c=n(366),d=r(c),f=n(88),m=r(f),g=n(6),p=r(g),v=n(4),h=r(v),y=n(11),A=r(y),S=n(2),T=r(S),M=n(209),b=r(M),D=b.default.Font,I=b.default.Justification,w=b.default.VerticalJustification,C=l.default.vtkWarningMacro,N=t.STATIC={setConstrainedFontSize:a,setRelativeFontSize:i},P={input:null,textProperty:null,textDims:[0,0],renderedDPI:0,coordsTime:null,tcoordsTime:null,textContextTime:null,bbox:[0,0,0,0],points:null,polyData:null,textContext:null,textScale:1},x=t.newInstance=l.default.newInstance(s,"vtkTextMapper");t.default=Object.assign({newInstance:x,extend:s},N)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Coordinate={DISPLAY:0,NORMALIZED_DISPLAY:1,VIEWPORT:2,NORMALIZED_VIEWPORT:3,VIEW:4,WORLD:5,USERDEFINED:6};t.default={Coordinate:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkActor2D"),e.getActors2D=function(){return e},e.getIsOpaque=function(){t.property||e.getProperty();var n=t.property.getOpacity()>=1;return n=n&&(!t.texture||!t.texture.isTranslucent()),n=n&&(!t.mapper||t.mapper.getIsOpaque())},e.hasTranslucentPolygonalGeometry=function(){return null!==t.mapper&&(null===t.property&&e.setProperty(e.makeProperty()),!e.getIsOpaque())},e.makeProperty=m.default.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.setDisplayPosition=function(e,n){t.positionCoordinate.setCoordinateSystem(g.Coordinate.DISPLAY),t.positionCoordinate.setValue(e,n,0)},e.setWidth=function(e){var n=t.position2Coordinate.getValue();t.position2Coordinate.setCoordinateSystemToNormalizedViewport(),t.position2Coordinate.setValue(e,n[1])},e.setHeight=function(e){var n=t.position2Coordinate.getValue();t.position2Coordinate.setCoordinateSystemToNormalizedViewport(),t.position2Coordinate.setValue(n[0],e)},e.getWidth=function(){return t.position2Coordinate.getValue()[0]},e.getHeight=function(){return t.position2Coordinate.getValue()[1]},e.getMTime=function(){var e=t.mtime;if(null!==t.property){var n=t.property.getMTime();e=n>e?n:e}return e=t.positionCoordinate.getMTime()>e?t.positionCoordinate.getMTime():e,e=t.position2Coordinate.getMTime()>e?t.position2Coordinate.getMTime():e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),n=t.mapper.getInput().getMTime(),e=n>e?n:e)}return e},e.getBounds=function(){return e.getMapper()?"function"==typeof e.getMapper().getBounds?(t.useBounds=!0,e.getMapper().getBounds()):(t.useBounds=!1,[]):[]},e.getActualPositionCoordinate=function(){return t.positionCoordinate},e.getActualPosition2Coordinate=function(){return t.position2Coordinate},e.setPosition=function(e,n){return t.positionCoordinate.setValue(e,n)},e.getPosition=function(){return t.positionCoordinate.getValue()},e.setPosition2=function(e,n){return t.position2Coordinate.setValue(e,n)},e.getPosition2=function(){return t.position2Coordinate.getValue()}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),d.default.extend(e,t,n),t.positionCoordinate=l.default.newInstance(),t.positionCoordinate.setCoordinateSystemToViewport(),t.position2Coordinate=l.default.newInstance(),t.position2Coordinate.setCoordinateSystemToNormalizedViewport(),t.position2Coordinate.setValue(.5,.5),t.position2Coordinate.setReferenceCoordinate(t.positionCoordinate),s.default.set(e,t,["property"]),s.default.setGet(e,t,["mapper","layerNumber","property","positionCoordinate","position2Coordinate"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(53),l=r(u),c=n(85),d=r(c),f=n(367),m=r(f),g=n(211),p={mapper:null,property:null,layerNumber:0,positionCoordinate:null,position2Coordinate:null},v=t.newInstance=s.default.newInstance(i,"vtkActor2D");t.default={newInstance:v,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("yInteractorStyleImage"),e.restrictReslicePosition=function(e,t){for(var n=h.MultiView.getResliceBound(),r=0;r<3;r++)t?(e[r]=e[r]<n[2*r]?n[2*r+1]:e[r],e[r]=e[r]>n[2*r+1]?n[2*r]:e[r]):(e[r]=e[r]<n[2*r]?n[2*r]:e[r],e[r]=e[r]>n[2*r+1]?n[2*r+1]:e[r])},e.superHandleMouseMove=e.handleMouseMove,e.handleMouseMove=function(n){var r=n.position,a=n.pokedRenderer;switch(h.MultiView.setMousemoveWindow(t.ycmRenderWindow.getOrientation()),t.state){case f.States.IS_RESLICE_ALL:e.resliceAll(a,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case f.States.IS_RESLICE_SINGLE:e.resliceSingle(a,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case f.States.IS_WINDOW_LEVEL:e.windowLevel(a,r),e.invokeInteractionEvent({type:"InteractionEvent"});break;case f.States.IS_NONE:e.calculateMouseMove(a,r),h.MultiView.updateCornerTextByMousemove()}e.superHandleMouseMove(n)},e.superHandleLeftButtonPress=e.handleLeftButtonPress,e.handleLeftButtonPress=function(n){var r=n.position;if(h.MultiView.setActiveWindow(t.ycmRenderWindow.getOrientation()),t.styleMode===y.RESLICE_ALL){e.startResliceAll();var a=n.pokedRenderer;e.resliceAll(a,r)}else t.styleMode===y.RESLICE_SINGLE?(t.resliceStartPosition[0]=r.x,t.resliceStartPosition[1]=r.y,e.startResliceSingle()):t.styleMode===y.WINDOW_LEVEL?n.shiftKey||n.controlKey||(t.windowLevelStartPosition[0]=r.x,t.windowLevelStartPosition[1]=r.y,e.startWindowLevel()):t.styleMode===y.NONE_OPERATION||e.superHandleLeftButtonPress(n);h.MultiView.onCallback("LeftButtonPress",{orientation:t.ycmRenderWindow.getOrientation(),position:r})},e.superHandleLeftButtonRelease=e.handleLeftButtonRelease,e.handleLeftButtonRelease=function(){switch(t.state){case f.States.IS_RESLICE_ALL:e.endResliceAll();break;case f.States.IS_RESLICE_SINGLE:e.endResliceSingle();break;case f.States.IS_WINDOW_LEVEL:e.endWindowLevel();break;default:e.superHandleLeftButtonRelease()}},e.handleMiddleButtonPress=function(n){var r=h.MultiView.getActiveWindow();h.MultiView.setActiveWindow(t.ycmRenderWindow.getOrientation(),!0),r!==t.ycmRenderWindow.getOrientation()&&h.MultiView.updateCornerTextByMousemove(),e.startPan()},e.handleMiddleButtonRelease=function(t){e.endPan()},e.handleRightButtonPress=function(n){var r=h.MultiView.getActiveWindow();h.MultiView.setActiveWindow(t.ycmRenderWindow.getOrientation(),!0),r!==t.ycmRenderWindow.getOrientation()&&h.MultiView.updateCornerTextByMousemove(),e.startDolly()},e.handleRightButtonRelease=function(t){e.endDolly()},e.handleStartMouseWheel=function(t){e.handleMouseWheel(t)},e.handleEndMouseWheel=function(){},e.handleMouseWheel=function(n){var r,i=h.DataManagement.getVisibleRootIndex();if(!(i<0)){var o=h.DataManagement.getData(i);if(o){var s=t.ycmRenderWindow.getOrientation(),u=o.getSpacing(),l=0;l=n.spinY>0?-u[s]:u[s];var c=h.MultiView.getReslicePosition();c[s]+=l,e.restrictReslicePosition(c,!0),(r=h.MultiView).setReslicePosition.apply(r,a(c)),h.MultiView.updateReslicePosition(!0),h.MultiView.onCallback("SliceChanged",[s])}}},e.windowLevel=function(e,n){var r=t.interactor,a=r.getView().getViewportSize(e),i=h.MultiView.getWindowLevel(),o=i[0],u=i[1],l=1*(n.x-t.windowLevelStartPosition[0])/a[0],c=1*(t.windowLevelStartPosition[1]-n.y)/a[1];Math.abs(o)>10?l*=o:l*=o<0?-10:10,Math.abs(u)>10?c*=u:c*=u<0?-10:10,o<0&&(l*=-1),u<0&&(c*=-1);var d=l+o,f=u-c;Math.abs(d)<.01&&(d=.01*(d<0?-1:1)),Math.abs(f)<.01&&(f=.01*(f<0?-1:1)),d<0&&(d=0),d>3e3&&(d=3e3),f<-3e3&&(f=-3e3),f>3e3&&(f=3e3),h.MultiView.setWindowLevel(d,f),h.MultiView.updateWindowLevel(!0);var m=h.MultiView.getWindowLevel(),g=s(m,2),p=g[0],v=g[1];p===o&&v===u||h.MultiView.onCallback("WindowLevelChanged"),t.windowLevelStartPosition[0]=n.x,t.windowLevelStartPosition[1]=n.y},e.resliceSingle=function(n,r){var i,o=h.MultiView.getReslicePosition(),s=(r.y-t.resliceStartPosition[1])/10,u=t.ycmRenderWindow.getOrientation();o[u]+=s,e.restrictReslicePosition(o,!0),(i=h.MultiView).setReslicePosition.apply(i,a(o)),h.MultiView.updateReslicePosition(!0),h.MultiView.onCallback("SliceChanged",[u]),t.resliceStartPosition[0]=r.x,t.resliceStartPosition[1]=r.y},e.resliceAll=function(n,r){var i,o=v.default.computeDisplayToWorld(n,r.x,r.y,0),s=h.MultiView.getReslicePosition(),u=t.ycmRenderWindow.getOrientation();s=e.get2DPosition(o,s[u]),e.restrictReslicePosition(s,!1),(i=h.MultiView).setReslicePosition.apply(i,a(s)),h.MultiView.updateReslicePosition(!0);var l=[];0===u?l.push(1,2):1===u?l.push(0,2):2===u&&l.push(0,1),h.MultiView.onCallback("SliceChanged",l)},e.calculateMouseMove=function(n,r){var a=v.default.computeDisplayToWorld(n,r.x,r.y,0),i=h.MultiView.getReslicePosition();if(!n)return void h.MultiView.setDisplayPosition(i);var o=t.ycmRenderWindow.getOrientation();if(i=e.get2DPosition(a,i[o]),!h.MultiView.position2Slices(i))return void h.MultiView.setDisplayPosition(h.MultiView.getReslicePosition());h.MultiView.setDisplayPosition(i)},e.get2DPosition=function(e,n){var r=t.ycmRenderWindow.getOrientation(),a=[0,0,0];switch(a[r]=n,r){case 0:a[1]=e[0],a[2]=e[1];break;case 1:a[0]=e[0],a[2]=e[1];break;case 2:a[0]=e[0],a[1]=e[1]}return a}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),d.default.extend(e,t,n),l.default.setGet(e,t,["styleMode","ycmRenderWindow"]),t.pointPicker=g.default.newInstance(),t.pointPicker.setPickFromList(1),t.pointPicker.initializePickList(),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0;var s=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.extend=o;var u=n(0),l=r(u),c=n(129),d=r(c),f=n(130),m=n(370),g=r(m),p=n(21),v=r(p),h=l.default.GlobalObjects,y={RESLICE_ALL:0,RESLICE_SINGLE:1,WINDOW_LEVEL:2,NONE_OPERATION:7},A={styleMode:y.RESLICE_SINGLE,windowLevelStartPosition:[0,0],resliceStartPosition:[0,0],lastSlicePosition:0,ycmRenderWindow:null,pointPicker:null},S=t.newInstance=l.default.newInstance(o,"yInteractorStyleImage");t.default=Object.assign({newInstance:S,extend:o,StyleMode:y})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return e.stopPropagation(),e.preventDefault(),!1}function i(e,t){function n(n,r){t.currentRenderer=e.findPokedRenderer(n,r)}function r(e){var r=t.canvas,a=r.getBoundingClientRect(),i={x:Math.floor(e.clientX-a.left+.5),y:Math.floor(a.height-e.clientY+a.top+.5),z:0};return n(i.x,i.y),i}function i(e){for(var t={},n=0;n<e.length;n++){var a=e[n];t[a.identifier]=r(a)}return t}function o(e){return{controlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey}}function s(e){var t=o(e),n={key:e.key,keyCode:e.charCode};return Object.assign(n,t),n}function u(n){var r=document.querySelector("body"),a=n?"addEventListener":"removeEventListener",i=n?"removeEventListener":"addEventListener";t.canvas&&t.canvas[i]("mousemove",e.handleMouseMove),r[a]("mouseup",e.handleMouseUp),r[a]("mouseleave",e.handleMouseUp),r[a]("mousemove",e.handleMouseMove),r[a]("touchend",e.handleTouchEnd,!1),r[a]("touchcancel",e.handleTouchEnd,!1),r[a]("touchmove",e.handleTouchMove,!1)}function l(){t.view&&t.enabled&&t.enableRender&&(t.inRender=!0,t.view.traverseAllPasses(),t.inRender=!1),e.invokeRenderEvent()}t.classHierarchy.push("vtkRenderWindowInteractor");var d=new Set;e.start=function(){(t.initialized||(e.initialize(),t.initialized))&&e.startEventLoop()},e.setRenderWindow=function(e){y("you want to call setView(view) instead of setRenderWindow on a vtk.js interactor")},e.setInteractorStyle=function(n){t.interactorStyle!==n&&(null!=t.interactorStyle&&t.interactorStyle.setInteractor(null),t.interactorStyle=n,null!=t.interactorStyle&&t.interactorStyle.getInteractor()!==e&&t.interactorStyle.setInteractor(e))},e.initialize=function(){t.initialized=!0,e.enable(),e.render()},e.enable=function(){return e.setEnabled(!0)},e.disable=function(){return e.setEnabled(!1)},e.startEventLoop=function(){return h("empty event loop")},e.getCurrentRenderer=function(){return t.currentRenderer?t.currentRenderer:(n(0,0),t.currentRenderer)},e.bindEvents=function(n){t.canvas=n,n.addEventListener("contextmenu",a),n.addEventListener("wheel",e.handleWheel),n.addEventListener("DOMMouseScroll",e.handleWheel),n.addEventListener("mousemove",e.handleMouseMove),n.addEventListener("mousedown",e.handleMouseDown),document.querySelector("body").addEventListener("keypress",e.handleKeyPress),document.querySelector("body").addEventListener("keydown",e.handleKeyDown),document.querySelector("body").addEventListener("keyup",e.handleKeyUp),n.addEventListener("touchstart",e.handleTouchStart,!1)},e.unbindEvents=function(){u(!1),t.canvas.removeEventListener("contextmenu",a),t.canvas.removeEventListener("wheel",e.handleWheel),t.canvas.removeEventListener("DOMMouseScroll",e.handleWheel),t.canvas.removeEventListener("mousemove",e.handleMouseMove),t.canvas.removeEventListener("mousedown",e.handleMouseDown),document.querySelector("body").removeEventListener("keypress",e.handleKeyPress),document.querySelector("body").removeEventListener("keydown",e.handleKeyDown),document.querySelector("body").removeEventListener("keyup",e.handleKeyUp),t.canvas.removeEventListener("touchstart",e.handleTouchStart),t.canvas=null},e.handleKeyPress=function(t){var n=s(t);e.keyPressEvent(n)},e.handleKeyDown=function(t){var n=s(t);e.keyDownEvent(n)},e.handleKeyUp=function(t){var n=s(t);e.keyUpEvent(n)},e.handleMouseDown=function(t){u(!0),t.stopPropagation(),t.preventDefault();var n={position:r(t)},a=o(t);switch(Object.assign(n,a),t.which){case 1:e.leftButtonPressEvent(n);break;case 2:e.middleButtonPressEvent(n);break;case 3:e.rightButtonPressEvent(n);break;default:y("Unknown mouse button pressed: "+t.which)}},e.requestAnimation=function(n){return t.renderCount=0,void 0===n?void y("undefined requester, can not start animating"):d.has(n)?void h("requester is already registered for animating"):(d.add(n),void(1===d.size&&(t.lastFrameTime=.1,t.lastFrameStart=Date.now(),t.animationRequest=requestAnimationFrame(e.handleAnimation),e.startAnimationEvent())))},e.isAnimating=function(){return t.vrAnimation||null!==t.animationRequest},e.cancelAnimation=function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d.has(n))d.delete(n),t.animationRequest&&0===d.size&&(cancelAnimationFrame(t.animationRequest),t.animationRequest=null,e.endAnimationEvent(),e.render());else if(!r){var a=n&&n.getClassName?n.getClassName():n;h(a+" did not request an animation")}},e.switchToVRAnimation=function(){t.animationRequest&&(cancelAnimationFrame(t.animationRequest),t.animationRequest=null),t.vrAnimation=!0},e.returnFromVRAnimation=function(){t.vrAnimation=!1},e.updateGamepads=function(n){for(var r=navigator.getGamepads(),a=0;a<r.length;++a){var i=r[a];if(i&&i.displayId===n){i.index in t.lastGamepadValues||(t.lastGamepadValues[i.index]={buttons:{}});for(var o=0;o<i.buttons.length;++o)o in t.lastGamepadValues[i.index].buttons||(t.lastGamepadValues[i.index].buttons[o]=!1),t.lastGamepadValues[i.index].buttons[o]!==i.buttons[o].pressed&&(e.button3DEvent({gamepad:i,position:i.pose.position,orientation:i.pose.orientation,pressed:i.buttons[o].pressed,device:"left"===i.hand?p.LeftController:p.RightController,input:T[i.id]&&T[i.id][o]?T[i.id][o]:v.Trigger}),t.lastGamepadValues[i.index].buttons[o]=i.buttons[o].pressed),t.lastGamepadValues[i.index].buttons[o]&&e.move3DEvent({gamepad:i,position:i.pose.position,orientation:i.pose.orientation,device:"left"===i.hand?p.LeftController:p.RightController})}}},e.handleMouseMove=function(n){var a={position:r(n)},i=o(n);Object.assign(a,i),0===t.moveTimeoutID?e.startMouseMoveEvent(a):(e.mouseMoveEvent(a),clearTimeout(t.moveTimeoutID)),t.moveTimeoutID=setTimeout(function(){e.endMouseMoveEvent(),t.moveTimeoutID=0},200)},e.handleAnimation=function(){var n=Date.now();-1===t.frameTime?t.lastFrameTime=.1:t.lastFrameTime=(n-t.lastFrameStart)/1e3,t.lastFrameTime=Math.max(.01,t.lastFrameTime),t.lastFrameStart=n,t.renderCount%2||(e.animationEvent(),l()),t.renderCount++,t.animationRequest=requestAnimationFrame(e.handleAnimation)},e.handleWheel=function(n){n.stopPropagation(),n.preventDefault();var r=A(n),a=o(n);Object.assign(r,a),0===t.wheelTimeoutID?e.startMouseWheelEvent(r):(e.mouseWheelEvent(r),clearTimeout(t.wheelTimeoutID)),t.wheelTimeoutID=setTimeout(function(){e.endMouseWheelEvent(),t.wheelTimeoutID=0},200)},e.handleMouseUp=function(t){u(!1),t.stopPropagation(),t.preventDefault();var n={position:r(t)},a=o(t);switch(Object.assign(n,a),t.which){case 1:e.leftButtonReleaseEvent(n);break;case 2:e.middleButtonReleaseEvent(n);break;case 3:e.rightButtonReleaseEvent(n);break;default:y("Unknown mouse button released: "+t.which)}},e.handleTouchStart=function(n){if(u(!0),n.stopPropagation(),t.recognizeGestures&&n.touches.length>1){var a=i(n.touches);if(2===n.touches.length){var o=n.touches[0],s={position:r(o),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonReleaseEvent(s)}e.recognizeGesture("TouchStart",a)}else{var l=n.touches[0],c={position:r(l),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonPressEvent(c)}},e.handleTouchMove=function(n){if(n.stopPropagation(),t.recognizeGestures&&n.touches.length>1){var a=i(n.touches);e.recognizeGesture("TouchMove",a)}else{var o=n.touches[0],s={position:r(o),shiftKey:!1,altKey:!1,controlKey:!1};e.mouseMoveEvent(s)}},e.handleTouchEnd=function(n){if(n.stopPropagation(),t.recognizeGestures)if(0===n.touches.length)if(1===n.changedTouches.length){var a=n.changedTouches[0],o={position:r(a),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonReleaseEvent(o),u(!1)}else{var s=i(n.changedTouches);e.recognizeGesture("TouchEnd",s),u(!1)}else if(1===n.touches.length){var l=i(n.changedTouches);e.recognizeGesture("TouchEnd",l);var c=n.touches[0],d={position:r(c),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonPressEvent(d)}else{var f=i(n.touches);e.recognizeGesture("TouchMove",f)}else{var m=n.changedTouches[0],g={position:r(m),shiftKey:!1,altKey:!1,controlKey:!1};e.leftButtonReleaseEvent(g),u(!1)}},e.setView=function(n){t.view!==n&&(t.view=n,t.view.getRenderable().setInteractor(e),e.modified())},e.findPokedRenderer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t.view)return null;for(var r=t.view.getRenderable().getRenderersByReference(),a=null,i=null,o=null,s=r.length;s--;){var u=r[s];t.view.isInViewport(e,n,u)&&u.getInteractive()&&(o=u),null===a&&u.getInteractive()&&(a=u),null===i&&t.view.isInViewport(e,n,u)&&(i=u)}return null===o&&(o=a),null===o&&(o=i),null==o&&(o=r[0]),o},e.render=function(){null!==t.animationRequest||t.inRender||l()},M.forEach(function(n){var r=n.charAt(0).toLowerCase()+n.slice(1);e[r+"Event"]=function(r){if(t.enabled){if(!e.getCurrentRenderer())return void S("\n          Can not forward events without a current renderer on the interactor.\n        ");var a={type:n,pokedRenderer:t.currentRenderer};Object.assign(a,r),e["invoke"+n](a)}}}),e.recognizeGesture=function(n,r){if(!(Object.keys(r).length>2)){if(t.startingEventPositions||(t.startingEventPositions={}),"TouchStart"===n)return Object.keys(r).forEach(function(e){t.startingEventPositions[e]=r[e]}),void(t.currentGesture="Start");if("TouchEnd"===n)return"Pinch"===t.currentGesture&&(e.render(),e.endPinchEvent()),"Rotate"===t.currentGesture&&(e.render(),e.endRotateEvent()),"Pan"===t.currentGesture&&(e.render(),e.endPanEvent()),t.currentGesture="Start",void(t.startingEventPositions={});var a=0,i=[],o=[];Object.keys(r).forEach(function(e){i[a]=r[e],o[a]=t.startingEventPositions[e],a++});var s=Math.sqrt((o[0].x-o[1].x)*(o[0].x-o[1].x)+(o[0].y-o[1].y)*(o[0].y-o[1].y)),u=Math.sqrt((i[0].x-i[1].x)*(i[0].x-i[1].x)+(i[0].y-i[1].y)*(i[0].y-i[1].y)),l=c.degreesFromRadians(Math.atan2(o[1].y-o[0].y,o[1].x-o[0].x)),d=c.degreesFromRadians(Math.atan2(i[1].y-i[0].y,i[1].x-i[0].x)),f=d-l;d=d+180>=360?d-180:d+180,l=l+180>=360?l-180:l+180,Math.abs(d-l)<Math.abs(f)&&(f=d-l);var m=[];if(m[0]=(i[0].x-o[0].x+i[1].x-o[1].x)/2,m[1]=(i[0].y-o[0].y+i[1].y-o[1].y)/2,"TouchMove"===n)if("Start"===t.currentGesture){var g=.01*Math.sqrt(t.canvas.clientWidth*t.canvas.clientWidth+t.canvas.clientHeight*t.canvas.clientHeight);g<15&&(g=15);var p=Math.abs(u-s),v=3.1415926*u*Math.abs(f)/360,h=Math.sqrt(m[0]*m[0]+m[1]*m[1]);if(p>g&&p>v&&p>h){t.currentGesture="Pinch";var y={scale:1,touches:r};e.startPinchEvent(y)}else if(v>g&&v>h){t.currentGesture="Rotate";var A={rotation:0,touches:r};e.startRotateEvent(A)}else if(h>g){t.currentGesture="Pan";var S={translation:[0,0],touches:r};e.startPanEvent(S)}}else{if("Rotate"===t.currentGesture){var T={rotation:f,touches:r};e.rotateEvent(T)}if("Pinch"===t.currentGesture){var M={scale:u/s,touches:r};e.pinchEvent(M)}if("Pan"===t.currentGesture){var b={translation:m,touches:r};e.panEvent(b)}}}}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,b,n),u.default.obj(e,t),u.default.event(e,t,"RenderEvent"),M.forEach(function(n){return u.default.event(e,t,n)}),u.default.get(e,t,["initialized","canvas","enabled","enableRender","interactorStyle","lastFrameTime","view"]),u.default.setGet(e,t,["lightFollowCamera","enabled","recognizeGestures","desiredUpdateRate","stillUpdateRate","picker"]),i(e,t),e.setInteractorStyle(f.default.newInstance())}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),d=n(129),f=r(d),m=n(215),g=r(m),p=g.default.Device,v=g.default.Input,h=u.default.vtkWarningMacro,y=u.default.vtkErrorMacro,A=u.default.normalizeWheel,S=u.default.lxmOnceErrorMacro,T={"OpenVR Gamepad":[v.TrackPad,v.Trigger,v.Grip,v.ApplicationMenu]},M=["StartAnimation","Animation","EndAnimation","StartMouseMove","MouseMove","EndMouseMove","LeftButtonPress","LeftButtonRelease","MiddleButtonPress","MiddleButtonRelease","RightButtonPress","RightButtonRelease","KeyPress","KeyDown","KeyUp","StartMouseWheel","MouseWheel","EndMouseWheel","StartPinch","Pinch","EndPinch","StartPan","Pan","EndPan","StartRotate","Rotate","EndRotate","Button3D","Move3D","StartInteractionEvent","InteractionEvent","EndInteractionEvent"],b={renderWindow:null,interactorStyle:null,picker:null,pickingManager:null,initialized:!1,enabled:!1,enableRender:!0,currentRenderer:null,lightFollowCamera:!0,desiredUpdateRate:30,stillUpdateRate:2,canvas:null,view:null,recognizeGestures:!0,currentGesture:"Start",animationRequest:null,lastFrameTime:.1,wheelTimeoutID:0,moveTimeoutID:0,lastGamepadValues:{},renderCount:0},D=t.newInstance=u.default.newInstance(o,"vtkRenderWindowInteractor");t.default=Object.assign({newInstance:D,extend:o,handledEvents:M},g.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.Device={Unknown:0,LeftController:1,RightController:2},a=t.Input={Unknown:0,Trigger:1,TrackPad:2,Grip:3,ApplicationMenu:4};t.default={Device:r,Input:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPicker");var n=Object.assign({},e);e.initialize=function(){n.initialize(),t.actors=[],t.pickedPositions=[],t.mapperPosition[0]=0,t.mapperPosition[1]=0,t.mapperPosition[2]=0,t.mapper=null,t.dataSet=null,t.globalTMin=Number.MAX_VALUE},e.intersectWithLine=function(n,r,a,i,o){if(!o)return Number.MAX_VALUE;for(var s=o.getCenter(),u=[],l=0;l<3;l++)u[l]=r[l]-n[l];var c=m.default.dot(u,u);if(0===c)return 2;var d=(u[0]*(s[0]-n[0])+u[1]*(s[1]-n[1])+u[2]*(s[2]-n[2]))/c;return d>=0&&d<=1&&d<t.globalTMin&&(t.globalTMin=d,e.setPath(i)),d},e.pick=function(n,r){3!==n.length&&S("vtkPicker::pick: selectionPt needs three components");var a=n[0],i=n[1],o=n[2],s=[],u=[],l=[],c=[],f=[],g=[],p=[],h=void 0,y=void 0,T=[],M=[],b=[],D=[],I=void 0,w=void 0,C=[],N=[],P=0,x=[],E=!1,O=v.vec4.create(),L=v.vec4.create(),_=[0,0,0,0,0,0],R=[],k=[],B=r.getRenderWindow().getViews()[0];if(e.initialize(),t.renderer=r,t.selectionPoint[0]=a,t.selectionPoint[1]=i,t.selectionPoint[2]=o,!r)return A("Picker::Pick Must specify renderer"),0;var V=r.getActiveCamera();s=V.getPosition(),s[3]=1,u=V.getFocalPoint(),u[3]=1,l=r.worldToNormalizedDisplay(u[0],u[1],u[2]),l=B.normalizedDisplayToDisplay(l[0],l[1],l[2]),o=l[2];var F=B.displayToNormalizedDisplay(a,i,o),j=B.getViewportSize(r),U=j[0]/j[1];c=r.normalizedDisplayToWorld(F[0],F[1],F[2],U);for(var z=0;z<3;z++)t.pickPosition[z]=c[z];for(var G=0;G<3;G++)f[G]=t.pickPosition[G]-s[G];for(var W=0;W<3;W++)g[W]=u[W]-s[W];m.default.normalize(g);var Q=m.default.dot(g,f);if(0===Q)return S("Picker::Pick Cannot process points"),0;if(p=V.getClippingRange(),V.getParallelProjection()){h=p[0]-Q,y=p[1]-Q;for(var Y=0;Y<3;Y++)T[Y]=t.pickPosition[Y]+h*g[Y],M[Y]=t.pickPosition[Y]+y*g[Y]}else{h=p[0]/Q,y=p[1]/Q;for(var q=0;q<3;q++)T[q]=s[q]+h*f[q],M[q]=s[q]+y*f[q]}T[3]=1,M[3]=1,b=r.getViewport(),r.getRenderWindow()&&(D=r.getRenderWindow().getViews()[0].getSize()),I=D[0]*b[0],w=D[1]*b[1];var H=B.displayToNormalizedDisplay(I,w,o);C=r.normalizedDisplayToWorld(H[0],H[1],H[2],U),I=D[0]*b[2],w=D[1]*b[3];var Z=B.displayToNormalizedDisplay(I,w,o);N=r.normalizedDisplayToWorld(Z[0],Z[1],Z[2],U);for(var K=0;K<3;K++)P+=(N[K]-C[K])*(N[K]-C[K]);P=Math.sqrt(P)*t.tolerance,x=t.pickFromList?t.pickList:r.getViewProps();var X=[];return x.forEach(function(n){var r=n.getMapper();if(E=n.getPickable()&&n.getVisibility(),n.getProperty().getOpacity()<=0&&(E=!1),E){if(t.transformMatrix=n.getMatrix(),!t.transformMatrix)return;v.mat4.transpose(t.transformMatrix,t.transformMatrix),v.mat4.invert(t.transformMatrix,t.transformMatrix);var a=[t.transformMatrix[0],t.transformMatrix[1],t.transformMatrix[2]],i=[t.transformMatrix[4],t.transformMatrix[5],t.transformMatrix[6]],o=[t.transformMatrix[8],t.transformMatrix[9],t.transformMatrix[10]];X[0]=m.default.norm(a),X[1]=m.default.norm(i),X[2]=m.default.norm(o),v.vec4.transformMat4(O,T,t.transformMatrix),v.vec4.transformMat4(L,M,t.transformMatrix),O[0]/=O[3],O[1]/=O[3],O[2]/=O[3],L[0]/=L[3],L[1]/=L[3],L[2]/=L[3];for(var s=0;s<3;s++)f[s]=L[s]-O[s];if(r&&(_=r.getBounds()),_[0]-=P,_[1]+=P,_[2]-=P,_[3]+=P,_[4]-=P,_[5]+=P,d.default.intersectBox(_,O,f,k,R)&&(R[0]=e.intersectWithLine(O,L,.333*P*(X[0]+X[1]+X[2]),[n],r),R[0]<Number.MAX_VALUE)){var u=[];u[0]=(1-R[0])*T[0]+R[0]*M[0],u[1]=(1-R[0])*T[1]+R[0]*M[1],u[2]=(1-R[0])*T[2]+R[0]*M[2],t.mapperPosition=u,t.mapperPosition[2]=0;for(var l=-1,c=0;c<t.actors.length;c++)if(t.actors[c]===n){l=c;break}if(-1===l)t.actors.push(n),t.pickedPositions.push(u);else{var g=t.pickedPositions[l],p=m.default.distance2BetweenPoints(T,g);m.default.distance2BetweenPoints(T,u)<p&&(t.pickedPositions[l]=u)}}}e.invokePickChange(t.pickedPositions)}),1},e.pickSimple=function(n,r){3!==n.length&&S("vtkPicker::pick: selectionPt needs three components");var a=n[0],i=n[1],o=n[2];if(e.initialize(),t.renderer=r,t.selectionPoint[0]=a,t.selectionPoint[1]=i,t.selectionPoint[2]=o,!r)return A("vtkPicker::Pick Must specify renderer"),0;var s=r.getActiveCamera(),u=s.getPosition();u[3]=1;var l=s.getFocalPoint();l[3]=1;var c=s.getClippingRange(),f=0,g=r.getRenderWindow().getViews()[0];if(g){var p=r.worldToNormalizedDisplay(l[0],l[1],l[2]);p=g.normalizedDisplayToDisplay(p[0],p[1],p[2]);var h=p[2],y=g.displayToNormalizedDisplay(a,i,h),T=g.getViewportSize(r),M=T[0]/T[1],b=r.normalizedDisplayToWorld(y[0],y[1],y[2],M);t.pickPosition[0]=b[0],t.pickPosition[1]=b[1],t.pickPosition[2]=b[2];var D=r.getViewport(),I=g.getSize(),w=I[0]*D[0],C=I[1]*D[1],N=g.displayToNormalizedDisplay(w,C,h),P=r.normalizedDisplayToWorld(N[0],N[1],N[2],M);w=I[0]*D[2],C=I[1]*D[3];for(var x=g.displayToNormalizedDisplay(w,C,h),E=r.normalizedDisplayToWorld(x[0],x[1],x[2],M),O=0;O<3;O++)f+=(E[O]-P[O])*(E[O]-P[O]);f=Math.sqrt(f)*t.tolerance}for(var L=[],_=[],R=0;R<3;R++)L[R]=t.pickPosition[R]-u[R],_[R]=l[R]-u[R];m.default.normalize(_);var k=m.default.dot(_,L);if(0===k)return S("vtkPicker::Pick Cannot process points"),0;var B=[],V=[];if(s.getParallelProjection())for(var F=c[0]-k,j=c[1]-k,U=0;U<3;U++)B[U]=t.pickPosition[U]+F*_[U],V[U]=t.pickPosition[U]+j*_[U];else for(var z=c[0]/k,G=c[1]/k,W=0;W<3;W++)B[W]=u[W]+z*L[W],V[W]=u[W]+G*L[W];B[3]=1,V[3]=1;var Q=[];Q=t.pickFromList?t.pickList:r.getViewProps();var Y=[],q=[],H=v.vec4.create(),Z=v.vec4.create();return Q.forEach(function(n){var r=n.getMapper(),a=n.getPickable()&&n.getVisibility();if(n.getProperty().getOpacity()<=0&&(a=!1),a){if(t.transformMatrix=n.getMatrix(),!t.transformMatrix)return;v.mat4.transpose(t.transformMatrix,t.transformMatrix),v.mat4.invert(t.transformMatrix,t.transformMatrix);var i=[t.transformMatrix[0],t.transformMatrix[1],t.transformMatrix[2]],o=[t.transformMatrix[4],t.transformMatrix[5],t.transformMatrix[6]],s=[t.transformMatrix[8],t.transformMatrix[9],t.transformMatrix[10]],u=[m.default.norm(i),m.default.norm(o),m.default.norm(s)];v.vec4.transformMat4(H,B,t.transformMatrix),v.vec4.transformMat4(Z,V,t.transformMatrix),H[0]/=H[3],H[1]/=H[3],H[2]/=H[3],Z[0]/=Z[3],Z[1]/=Z[3],Z[2]/=Z[3],L[0]=Z[0]-H[0],L[1]=Z[1]-H[1],L[2]=Z[2]-H[2];var l=r?r.getBounds():[0,0,0,0,0,0];if(l[0]-=f,l[1]+=f,l[2]-=f,l[3]+=f,l[4]-=f,l[5]+=f,d.default.intersectBox(l,H,L,q,Y)&&(Y[0]=e.intersectWithLine(H,Z,.333*f*(u[0]+u[1]+u[2]),[n],r),Y[0]<Number.MAX_VALUE)){var c=[];c[0]=(1-Y[0])*B[0]+Y[0]*V[0],c[1]=(1-Y[0])*B[1]+Y[0]*V[1],c[2]=(1-Y[0])*B[2]+Y[0]*V[2],t.mapperPosition=c,t.mapperPosition[2]=0;for(var g=-1,p=0;p<t.actors.length;p++)if(t.actors[p]===n){g=p;break}if(-1===g)t.actors.push(n),t.pickedPositions.push(c);else{var h=t.pickedPositions[g],y=m.default.distance2BetweenPoints(B,h);m.default.distance2BetweenPoints(B,c)<y&&(t.pickedPositions[g]=c)}}}e.invokePickChange(t.pickedPositions)}),1},e.pickWebworker2=function(n,r){3!==n.length&&S("vtkPicker::pick: selectionPt needs three components");var a=n[0],i=n[1],o=n[2];if(e.initialize(),t.renderer=r,t.selectionPoint[0]=a,t.selectionPoint[1]=i,t.selectionPoint[2]=o,!r)return A("vtkPicker::Pick Must specify renderer"),0;var s=r.getActiveCamera(),u=s.getPosition();u[3]=1;var l=s.getFocalPoint();l[3]=1;var c=s.getClippingRange(),d=0,f=r.getRenderWindow().getViews()[0];if(f){var g=r.worldToNormalizedDisplay(l[0],l[1],l[2]);g=f.normalizedDisplayToDisplay(g[0],g[1],g[2]);var v=g[2],h=f.displayToNormalizedDisplay(a,i,v),T=f.getViewportSize(r),M=T[0]/T[1],b=r.normalizedDisplayToWorld(h[0],h[1],h[2],M);t.pickPosition[0]=b[0],t.pickPosition[1]=b[1],t.pickPosition[2]=b[2];var D=r.getViewport(),I=f.getSize(),w=I[0]*D[0],C=I[1]*D[1],N=f.displayToNormalizedDisplay(w,C,v),P=r.normalizedDisplayToWorld(N[0],N[1],N[2],M);w=I[0]*D[2],C=I[1]*D[3];for(var x=f.displayToNormalizedDisplay(w,C,v),E=r.normalizedDisplayToWorld(x[0],x[1],x[2],M),O=0;O<3;O++)d+=(E[O]-P[O])*(E[O]-P[O]);d=Math.sqrt(d)*t.tolerance}for(var L=[],_=[],R=0;R<3;R++)L[R]=t.pickPosition[R]-u[R],_[R]=l[R]-u[R];m.default.normalize(_);var k=m.default.dot(_,L);if(0===k)return S("vtkPicker::Pick Cannot process points"),0;var B=[],V=[];if(s.getParallelProjection())for(var F=c[0]-k,j=c[1]-k,U=0;U<3;U++)B[U]=t.pickPosition[U]+F*_[U],V[U]=t.pickPosition[U]+j*_[U];else for(var z=c[0]/k,G=c[1]/k,W=0;W<3;W++)B[W]=u[W]+z*L[W],V[W]=u[W]+G*L[W];B[3]=1,V[3]=1;var Q=[];Q=t.pickFromList?t.pickList:r.getViewProps();var Y=[];return Q.forEach(function(e){var n=e.getPickable()&&e.getVisibility();if(e.getProperty().getOpacity()<=0&&(n=!1),n&&(t.transformMatrix=e.getMatrix(),t.transformMatrix)){var r=new y.default,a=new p.default(r);Y.push(a.postMessage({tol:d},[]))}}),Promise.all(Y).then(function(t){t.forEach(function(e){}),e.modified()}),1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),l.default.extend(e,t,n),s.default.setGet(e,t,["tolerance"]),s.default.setGetArray(e,t,["mapperPosition"],3),s.default.get(e,t,["mapper","dataSet","actors","pickedPositions"]),s.default.event(e,t,"pickChange"),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(217),l=r(u),c=n(131),d=r(c),f=n(1),m=r(f),g=n(132),p=r(g),v=n(3),h=n(373),y=r(h),A=s.default.vtkErrorMacro,S=s.default.vtkWarningMacro,T={tolerance:.025,mapperPosition:[0,0,0],mapper:null,dataSet:null,actors:[],pickedPositions:[],transformMatrix:null,globalTMin:Number.MAX_VALUE},M=t.newInstance=s.default.newInstance(i,"vtkPicker");t.default={newInstance:M,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkAbstractPropPicker");var n=Object.assign({},e);e.initialize=function(){n.initialize(),t.path=null}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),s.default.setGet(e,t,["path"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(371),l=r(u),c={path:null},d=t.newInstance=s.default.newInstance(i,"vtkAbstractPropPicker");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){var r=e.createFramebuffer(),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,t,2,2,0,t,n,null),e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);var i=e.checkFramebufferStatus(e.FRAMEBUFFER);return e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),i===e.FRAMEBUFFER_COMPLETE}function o(){L++,_.forEach(function(e){return e(L)})}function s(){L--,_.forEach(function(e){return e(L)})}function u(e){_.push(e)}function l(e){return _.pop()}function c(e,t){function n(){t.renderable&&(t.canvas.setAttribute("width",t.size[0]),t.canvas.setAttribute("height",t.size[1]),t.canvas.style.width=t.size[0]/window.devicePixelRatio+"px",t.canvas.style.height=t.size[1]/window.devicePixelRatio+"px"),t.viewStream&&t.viewStream.setSize(t.size[0],t.size[1]),t.canvas.style.display=t.useOffScreen?"none":"block",t.el&&(t.el.style.cursor=t.cursorVisibility?t.cursor:"none")}function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.imageFormat,r=document.createElement("canvas"),a=r.getContext("2d");r.width=t.canvas.width,r.height=t.canvas.height,a.drawImage(t.canvas,0,0);var i=t.canvas.getBoundingClientRect();t.renderable.getRenderers().forEach(function(e){e.getViewProps().forEach(function(e){if(e.getContainer)for(var t=e.getContainer(),n=t.getElementsByTagName("canvas"),r=0;r<n.length;r++){var o=n[r],s=o.getBoundingClientRect(),u=s.x-i.x,l=s.y-i.y;a.drawImage(o,u,l)}})});var o=r.toDataURL(n);r.remove(),e.invokeImageReady(o)}t.classHierarchy.push("vtkOpenGLRenderWindow"),e.onModified(n),e.buildPass=function(n){if(n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getRenderersByReference()),e.removeUnusedNodes(),e.initialize(),t.children.forEach(function(t){t.setOpenGLRenderWindow(e)})}},e.initialize=function(){if(!t.initialized){t.context=e.get3DContext(),t.textureUnitManager=w.default.newInstance(),t.textureUnitManager.setContext(t.context),t.shaderCache.setContext(t.context);var n=t.context;n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.depthFunc(n.LEQUAL),n.enable(n.BLEND),t.initialized=!0}},e.makeCurrent=function(){t.context.makeCurrent()},e.setContainer=function(n){t.el&&t.el!==n&&(t.canvas.parentNode!==t.el&&E("Error: canvas parent node does not match container"),t.el.removeChild(t.canvas),t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)),t.el!==n&&(t.el=n,t.el&&t.el.appendChild(t.canvas),t.useBackgroundImage&&t.el.appendChild(t.bgImage),e.modified())},e.getFramebufferSize=function(){return t.activeFramebuffer?t.activeFramebuffer.getSize():t.size},e.isInViewport=function(t,n,r){var a=r.getViewportByReference(),i=e.getFramebufferSize();return a[0]*i[0]<=t&&a[2]*i[0]>=t&&a[1]*i[1]<=n&&a[3]*i[1]>=n},e.getViewportSize=function(t){var n=t.getViewportByReference(),r=e.getFramebufferSize();return[(n[2]-n[0])*r[0],(n[3]-n[1])*r[1]]},e.getViewportCenter=function(t){var n=e.getViewportSize(t);return[.5*n[0],.5*n[1]]},e.displayToNormalizedDisplay=function(t,n,r){var a=e.getFramebufferSize();return[t/a[0],n/a[1],r]},e.normalizedDisplayToDisplay=function(t,n,r){var a=e.getFramebufferSize();return[t*a[0],n*a[1],r]},e.worldToView=function(t,n,r,a){var i=e.getViewportSize(a);return a.worldToView(t,n,r,i[0]/i[1])},e.viewToWorld=function(t,n,r,a){var i=e.getViewportSize(a);return a.viewToWorld(t,n,r,i[0]/i[1])},e.worldToDisplay=function(t,n,r,a){var i=e.worldToView(t,n,r,a),o=a.viewToNormalizedDisplay(i[0],i[1],i[2]);return e.normalizedDisplayToDisplay(o[0],o[1],o[2])},e.displayToWorld=function(t,n,r,a){var i=e.displayToNormalizedDisplay(t,n,r),o=a.normalizedDisplayToView(i[0],i[1],i[2]);return e.viewToWorld(o[0],o[1],o[2],a)},e.normalizedDisplayToViewport=function(t,n,r,a){var i=a.getViewportByReference();i=e.normalizedDisplayToDisplay(i[0],i[1],0);var o=e.normalizedDisplayToDisplay(t,n,r);return[o[0]-i[0]-.5,o[1]-i[1]-.5,r]},e.viewportToNormalizedViewport=function(t,n,r,a){var i=e.getViewportSize(a);return i&&0!==i[0]&&0!==i[1]?[t/(i[0]-1),n/(i[1]-1),r]:[t,n,r]},e.normalizedViewportToViewport=function(t,n,r){var a=e.getFramebufferSize();return[t*(a[0]-1),n*(a[1]-1),r]},e.displayToLocalDisplay=function(t,n,r){return[t,e.getFramebufferSize()[1]-n-1,r]},e.viewportToNormalizedDisplay=function(t,n,r,a){var i=a.getViewportByReference();i=e.normalizedDisplayToDisplay(i[0],i[1],0);var o=t+i[0]+.5,s=n+i[1]+.5;return e.displayToNormalizedDisplay(o,s,r)},e.getPixelData=function(e,n,r,a){var i=new Uint8Array((r-e+1)*(a-n+1)*4);return t.context.readPixels(e,n,r-e+1,a-n+1,t.context.RGBA,t.context.UNSIGNED_BYTE,i),i},e.get3DContext=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{preserveDrawingBuffer:!1,depth:!0,alpha:!0,antialias:!0},r=null,a="undefined"!=typeof WebGL2RenderingContext;return t.webgl2=!1,t.defaultToWebgl2&&a&&(r=t.canvas.getContext("webgl2",n))&&(t.webgl2=!0,x("using webgl2")),r||(x("using webgl1"),r=t.canvas.getContext("webgl",n)||t.canvas.getContext("experimental-webgl",n)),new P.default({PROVIDE_MOBILE_VRDISPLAY:!0,DIRTY_SUBMIT_FRAME_BINDINGS:!1,BUFFER_SCALE:.75}),navigator.getVRDisplays&&navigator.getVRDisplays().then(function(n){n.length>0&&(t.vrDisplay=n[0],t.vrDisplay.depthNear=.01,t.vrDisplay.depthFar=100,e.invokeHaveVRDisplay())}),t.canvas.addEventListener("webglcontextlost",function(e){e.preventDefault()},!1),t.canvas.addEventListener("webglcontextrestored",e.restoreContext,!1),r},e.startVR=function(){t.oldCanvasSize=t.size.slice(),t.vrDisplay.capabilities.canPresent?t.vrDisplay.requestPresent([{source:t.canvas}]).then(function(){if(t.el&&t.vrDisplay.capabilities.hasExternalDisplay&&t.hideCanvasInVR&&(t.el.style.display="none"),t.queryVRSize){var n=t.vrDisplay.getEyeParameters("left"),r=t.vrDisplay.getEyeParameters("right"),a=Math.floor(n.renderWidth+r.renderWidth),i=Math.floor(Math.max(n.renderHeight,r.renderHeight));e.setSize(a,i)}else e.setSize(t.vrResolution);t.renderable.getRenderers()[0].resetCamera(),t.vrFrameData=new VRFrameData,t.renderable.getInteractor().switchToVRAnimation(),t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(e.vrRender),O&&(t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(e.vrRender))}).catch(function(){}):E("vrDisplay is not connected")},e.stopVR=function(){t.renderable.getInteractor().returnFromVRAnimation(),t.vrDisplay.exitPresent(),t.vrDisplay.cancelAnimationFrame(t.vrSceneFrame),e.setSize.apply(e,a(t.oldCanvasSize)),t.el&&t.vrDisplay.capabilities.hasExternalDisplay&&(t.el.style.display="block");var n=t.renderable.getRenderers()[0];n.getActiveCamera().setProjectionMatrix(null),n.setViewport(0,0,1,1),e.traverseAllPasses()},e.vrRender=function(){if(t.vrDisplay.isPresenting){t.renderable.getInteractor().updateGamepads(t.vrDisplay.displayId),t.vrSceneFrame=t.vrDisplay.requestAnimationFrame(e.vrRender),t.vrDisplay.getFrameData(t.vrFrameData);var n=t.renderable.getRenderers()[0];n.setViewport(0,0,.5,1),n.getActiveCamera().computeViewParametersFromPhysicalMatrix(t.vrFrameData.leftViewMatrix),n.getActiveCamera().setProjectionMatrix(t.vrFrameData.leftProjectionMatrix),e.traverseAllPasses(),n.setViewport(.5,0,1,1),n.getActiveCamera().computeViewParametersFromPhysicalMatrix(t.vrFrameData.rightViewMatrix),n.getActiveCamera().setProjectionMatrix(t.vrFrameData.rightProjectionMatrix),e.traverseAllPasses(),t.vrDisplay.submitFrame()}},e.restoreContext=function(){var t=S.default.newInstance();t.setCurrentOperation("Release"),t.traverse(e,null)},e.activateTexture=function(n){var r=t.textureResourceIds.get(n);if(void 0!==r)return void t.context.activeTexture(t.context.TEXTURE0+r);var a=e.getTextureUnitManager().allocate();if(a<0)return void E("Hardware does not support the number of textures defined.");t.textureResourceIds.set(n,a),t.context.activeTexture(t.context.TEXTURE0+a)},e.deactivateTexture=function(n){var r=t.textureResourceIds.get(n);void 0!==r&&(e.getTextureUnitManager().free(r),t.textureResourceIds.delete(n))},e.getTextureUnitForTexture=function(e){var n=t.textureResourceIds.get(e);return void 0!==n?n:-1},e.getDefaultTextureInternalFormat=function(e,n,r){if(t.webgl2)switch(e){case C.VtkDataTypes.UNSIGNED_CHAR:switch(n){case 1:return t.context.R8;case 2:return t.context.RG8;case 3:return t.context.RGB8;case 4:default:return t.context.RGBA8}default:case C.VtkDataTypes.FLOAT:switch(n){case 1:return t.context.R16F;case 2:return t.context.RG16F;case 3:return t.context.RGB16F;case 4:default:return t.context.RGBA16F}}switch(n){case 1:return t.context.LUMINANCE;case 2:return t.context.LUMINANCE_ALPHA;case 3:return t.context.RGB;case 4:default:return t.context.RGBA}},e.setBackgroundImage=function(e){t.bgImage.src=e.src},e.setUseBackgroundImage=function(e){t.useBackgroundImage=e,t.useBackgroundImage&&!t.el.contains(t.bgImage)?t.el.appendChild(t.bgImage):!t.useBackgroundImage&&t.el.contains(t.bgImage)&&t.el.removeChild(t.bgImage)},e.captureNextImage=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png";if(t.deleted)return null;t.imageFormat=n;var r=t.notifyStartCaptureImage;return t.notifyStartCaptureImage=!0,new Promise(function(n,a){var i=e.onImageReady(function(e){t.notifyStartCaptureImage=r,i.unsubscribe(),n(e)})})},e.getGLInformations=function(){for(var n=e.get3DContext(),r=n.getExtension("OES_texture_float"),a=n.getExtension("OES_texture_half_float"),o=n.getExtension("WEBGL_debug_renderer_info"),s=n.getExtension("WEBGL_draw_buffers"),u=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),l=[["Max Vertex Attributes","MAX_VERTEX_ATTRIBS",n.getParameter(n.MAX_VERTEX_ATTRIBS)],["Max Varying Vectors","MAX_VARYING_VECTORS",n.getParameter(n.MAX_VARYING_VECTORS)],["Max Vertex Uniform Vectors","MAX_VERTEX_UNIFORM_VECTORS",n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS)],["Max Fragment Uniform Vectors","MAX_FRAGMENT_UNIFORM_VECTORS",n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS)],["Max Fragment Texture Image Units","MAX_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)],["Max Vertex Texture Image Units","MAX_VERTEX_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS)],["Max Combined Texture Image Units","MAX_COMBINED_TEXTURE_IMAGE_UNITS",n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS)],["Max 2D Texture Size","MAX_TEXTURE_SIZE",n.getParameter(n.MAX_TEXTURE_SIZE)],["Max Cube Texture Size","MAX_CUBE_MAP_TEXTURE_SIZE",n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE)],["Max Texture Anisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT",u&&n.getParameter(u.MAX_TEXTURE_MAX_ANISOTROPY_EXT)],["Point Size Range","ALIASED_POINT_SIZE_RANGE",n.getParameter(n.ALIASED_POINT_SIZE_RANGE).join(" - ")],["Line Width Range","ALIASED_LINE_WIDTH_RANGE",n.getParameter(n.ALIASED_LINE_WIDTH_RANGE).join(" - ")],["Max Viewport Dimensions","MAX_VIEWPORT_DIMS",n.getParameter(n.MAX_VIEWPORT_DIMS).join(" - ")],["Max Renderbuffer Size","MAX_RENDERBUFFER_SIZE",n.getParameter(n.MAX_RENDERBUFFER_SIZE)],["Framebuffer Red Bits","RED_BITS",n.getParameter(n.RED_BITS)],["Framebuffer Green Bits","GREEN_BITS",n.getParameter(n.GREEN_BITS)],["Framebuffer Blue Bits","BLUE_BITS",n.getParameter(n.BLUE_BITS)],["Framebuffer Alpha Bits","ALPHA_BITS",n.getParameter(n.ALPHA_BITS)],["Framebuffer Depth Bits","DEPTH_BITS",n.getParameter(n.DEPTH_BITS)],["Framebuffer Stencil Bits","STENCIL_BITS",n.getParameter(n.STENCIL_BITS)],["Framebuffer Subpixel Bits","SUBPIXEL_BITS",n.getParameter(n.SUBPIXEL_BITS)],["MSAA Samples","SAMPLES",n.getParameter(n.SAMPLES)],["MSAA Sample Buffers","SAMPLE_BUFFERS",n.getParameter(n.SAMPLE_BUFFERS)],["Supported Formats for UByte Render Targets     ","UNSIGNED_BYTE RENDER TARGET FORMATS",[r&&i(n,n.RGBA,n.UNSIGNED_BYTE)?"RGBA":"",r&&i(n,n.RGB,n.UNSIGNED_BYTE)?"RGB":"",r&&i(n,n.LUMINANCE,n.UNSIGNED_BYTE)?"LUMINANCE":"",r&&i(n,n.ALPHA,n.UNSIGNED_BYTE)?"ALPHA":"",r&&i(n,n.LUMINANCE_ALPHA,n.UNSIGNED_BYTE)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Half Float Render Targets","HALF FLOAT RENDER TARGET FORMATS",[a&&i(n,n.RGBA,a.HALF_FLOAT_OES)?"RGBA":"",a&&i(n,n.RGB,a.HALF_FLOAT_OES)?"RGB":"",a&&i(n,n.LUMINANCE,a.HALF_FLOAT_OES)?"LUMINANCE":"",a&&i(n,n.ALPHA,a.HALF_FLOAT_OES)?"ALPHA":"",a&&i(n,n.LUMINANCE_ALPHA,a.HALF_FLOAT_OES)?"LUMINANCE_ALPHA":""].join(" ")],["Supported Formats for Full Float Render Targets","FLOAT RENDER TARGET FORMATS",[r&&i(n,n.RGBA,n.FLOAT)?"RGBA":"",r&&i(n,n.RGB,n.FLOAT)?"RGB":"",r&&i(n,n.LUMINANCE,n.FLOAT)?"LUMINANCE":"",r&&i(n,n.ALPHA,n.FLOAT)?"ALPHA":"",r&&i(n,n.LUMINANCE_ALPHA,n.FLOAT)?"LUMINANCE_ALPHA":""].join(" ")],["Max Multiple Render Targets Buffers","MAX_DRAW_BUFFERS_WEBGL",s?n.getParameter(s.MAX_DRAW_BUFFERS_WEBGL):0],["High Float Precision in Vertex Shader","HIGH_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Vertex Shader","MEDIUM_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Vertex Shader","LOW_FLOAT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Float Precision in Fragment Shader","HIGH_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).rangeMax,"</sup>)"].join("")],["Medium Float Precision in Fragment Shader","MEDIUM_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).rangeMax,"</sup>)"].join("")],["Low Float Precision in Fragment Shader","LOW_FLOAT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_FLOAT).rangeMax,"</sup>)"].join("")],["High Int Precision in Vertex Shader","HIGH_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Vertex Shader","MEDIUM_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Vertex Shader","LOW_INT VERTEX_SHADER",[n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.LOW_INT).rangeMax,"</sup>)"].join("")],["High Int Precision in Fragment Shader","HIGH_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_INT).rangeMax,"</sup>)"].join("")],["Medium Int Precision in Fragment Shader","MEDIUM_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_INT).rangeMax,"</sup>)"].join("")],["Low Int Precision in Fragment Shader","LOW_INT FRAGMENT_SHADER",[n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).precision," (-2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMin,"</sup> - 2<sup>",n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.LOW_INT).rangeMax,"</sup>)"].join("")],["Supported Extensions","EXTENSIONS",n.getSupportedExtensions().join("<br/>\t\t\t\t\t    ")],["WebGL Renderer","RENDERER",n.getParameter(n.RENDERER)],["WebGL Vendor","VENDOR",n.getParameter(n.VENDOR)],["WebGL Version","VERSION",n.getParameter(n.VERSION)],["Shading Language Version","SHADING_LANGUAGE_VERSION",n.getParameter(n.SHADING_LANGUAGE_VERSION)],["Unmasked Renderer","UNMASKED_RENDERER",o&&n.getParameter(o.UNMASKED_RENDERER_WEBGL)],["Unmasked Vendor","UNMASKED_VENDOR",o&&n.getParameter(o.UNMASKED_VENDOR_WEBGL)],["WebGL Version","WEBGL_VERSION",t.webgl2?2:1]],c={};l.length;){var d=l.pop(),m=f(d,3),g=m[0],p=m[1],v=m[2];p&&(c[p]={label:g,value:v})}return c},e.traverseAllPasses=function(){if(t.renderPasses)for(var n=0;n<t.renderPasses.length;++n)t.renderPasses[n].traverse(e,null);t.notifyStartCaptureImage&&r()},e.disableDepthMask=function(){t.depthMaskEnabled&&(t.context.depthMask(!1),t.depthMaskEnabled=!1)},e.enableDepthMask=function(){t.depthMaskEnabled||(t.context.depthMask(!0),t.depthMaskEnabled=!0)},e.disableBlend=function(){t.context.disable(t.context.BLEND)},e.enableBlend=function(){t.context.blendFuncSeparate(t.context.SRC_ALPHA,t.context.ONE_MINUS_SRC_ALPHA,t.context.ONE,t.context.ONE_MINUS_SRC_ALPHA),t.context.enable(t.context.BLEND)},e.disableCullFace=function(){t.cullFaceEnabled&&(t.context.disable(t.context.CULL_FACE),t.cullFaceEnabled=!1)},e.enableCullFace=function(){t.cullFaceEnabled||(t.context.enable(t.context.CULL_FACE),t.cullFaceEnabled=!0)},e.getColorBufferSizes=function(){var e=[0,0,0,0];return t.context?(e[0]=t.context.getParameter(t.context.RED_BITS),e[1]=t.context.getParameter(t.context.GREEN_BITS),e[2]=t.context.getParameter(t.context.BLUE_BITS),e[3]=t.context.getParameter(t.context.ALPHA_BITS),e):e},e.setViewStream=function(n){return t.viewStream!==n&&(t.subscription&&(t.subscription.unsubscribe(),t.subscription=null),t.viewStream=n,t.viewStream&&(t.renderable.getRenderers()[0].getBackgroundByReference()[3]=0,e.setUseBackgroundImage(!0),t.subscription=t.viewStream.onImageReady(function(t){return e.setBackgroundImage(t.image)}),t.viewStream.setSize(t.size[0],t.size[1]),t.viewStream.invalidateCache(),t.viewStream.render(),e.modified()),!0)},e.delete=g.default.chain(e.delete,e.setViewStream,s)}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,R,n),t.canvas=document.createElement("canvas"),t.canvas.style.width="100%",o(),t.bgImage=new Image,t.bgImage.style.position="absolute",t.bgImage.style.left="0",t.bgImage.style.top="0",t.bgImage.style.width="100%",t.bgImage.style.height="100%",t.bgImage.style.zIndex="-1",t.textureResourceIds=new Map,D.default.extend(e,t,n),t.myFactory=y.default.newInstance(),t.myFactory.registerOverride("vtkRenderWindow",k),t.shaderCache=M.default.newInstance(),t.shaderCache.setOpenGLRenderWindow(e),t.renderPasses[0]=v.default.newInstance(),g.default.event(e,t,"imageReady"),g.default.event(e,t,"haveVRDisplay"),g.default.get(e,t,["shaderCache","textureUnitManager","webgl2","vrDisplay","useBackgroundImage"]),g.default.setGet(e,t,["initialized","context","canvas","renderPasses","notifyStartCaptureImage","defaultToWebgl2","cursor","queryVRSize","hideCanvasInVR","useOffScreen","activeFramebuffer"]),g.default.setGetArray(e,t,["size","vrResolution"],2),c(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0;var f=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.pushMonitorGLContextCount=u,t.popMonitorGLContextCount=l,t.extend=d;var m=n(0),g=r(m),p=n(374),v=r(p),h=n(377),y=r(h),A=n(136),S=r(A),T=n(411),M=r(T),b=n(9),D=r(b),I=n(413),w=r(I),C=n(5),N=n(414),P=r(N),x=g.default.vtkDebugMacro,E=g.default.vtkErrorMacro,O=-1!==navigator.userAgent.indexOf("Chrome"),L=0,_=[],R={cullFaceEnabled:!1,depthMaskEnabled:!0,shaderCache:null,initialized:!1,context:null,canvas:null,size:[300,300],cursorVisibility:!0,cursor:"pointer",textureUnitManager:null,textureResourceIds:null,renderPasses:[],notifyStartCaptureImage:!1,webgl2:!1,defaultToWebgl2:!0,vrResolution:[2160,1200],queryVRSize:!1,hideCanvasInVR:!0,activeFramebuffer:null,vrDisplay:null,imageFormat:"image/png",useOffScreen:!1,useBackgroundImage:!1},k=t.newInstance=g.default.newInstance(d,"vtkOpenGLRenderWindow");t.default={newInstance:k,extend:d,pushMonitorGLContextCount:u,popMonitorGLContextCount:l}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkOpenGLVertexArrayObject"),e.exposedMethod=function(){},e.initialize=function(){t.instancingExtension=null,t.openGLRenderWindow.getWebgl2()||(t.instancingExtension=t.context.getExtension("ANGLE_instanced_arrays")),!t.forceEmulation&&t.openGLRenderWindow&&t.openGLRenderWindow.getWebgl2()?(t.extension=null,t.supported=!0,t.handleVAO=t.context.createVertexArray()):(t.extension=t.context.getExtension("OES_vertex_array_object"),!t.forceEmulation&&t.extension?(t.supported=!0,t.handleVAO=t.extension.createVertexArrayOES()):t.supported=!1)},e.isReady=function(){return 0!==t.handleVAO||!1===t.supported},e.bind=function(){if(e.isReady()||e.initialize(),e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(t.handleVAO):t.context.bindVertexArray(t.handleVAO);else if(e.isReady())for(var n=t.context,r=0;r<t.buffers.length;++r){var a=t.buffers[r];t.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(var i=0;i<a.attributes.length;++i)for(var o=a.attributes[i],s=o.isMatrix?o.size:1,u=0;u<s;++u)n.enableVertexAttribArray(o.index+u),n.vertexAttribPointer(o.index+u,o.size,o.type,o.normalize,o.stride,o.offset+o.stride*u/o.size),o.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(o.index+u,1):n.vertexAttribDivisor(o.index+u,1))}},e.release=function(){if(e.isReady()&&t.supported)t.extension?t.extension.bindVertexArrayOES(null):t.context.bindVertexArray(null);else if(e.isReady())for(var n=t.context,r=0;r<t.buffers.length;++r){var a=t.buffers[r];t.context.bindBuffer(n.ARRAY_BUFFER,a.buffer);for(var i=0;i<a.attributes.length;++i)for(var o=a.attributes[i],s=o.isMatrix?o.size:1,u=0;u<s;++u)n.enableVertexAttribArray(o.index+u),n.vertexAttribPointer(o.index+u,o.size,o.type,o.normalize,o.stride,o.offset+o.stride*u/o.size),o.divisor>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(o.index+u,0):n.vertexAttribDivisor(o.index+u,0)),n.disableVertexAttribArray(o.index+u)}},e.shaderProgramChanged=function(){e.release(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.handleProgram=0},e.releaseGraphicsResources=function(){e.shaderProgramChanged(),t.handleVAO&&(t.extension?t.extension.deleteVertexArrayOES(t.handleVAO):t.context.deleteVertexArray(t.handleVAO)),t.handleVAO=0,t.supported=!0,t.handleProgram=0},e.addAttributeArray=function(t,n,r,a,i,o,s,u){return e.addAttributeArrayWithDivisor(t,n,r,a,i,o,s,u,0,!1)},e.addAttributeArrayWithDivisor=function(n,r,a,i,o,u,l,c,d,f){if(!n)return!1;if(!n.isBound()||0===r.getHandle()||r.getType()!==s.ObjectType.ARRAY_BUFFER)return!1;if(0===t.handleProgram&&(t.handleProgram=n.getHandle()),e.isReady()||e.initialize(),!e.isReady()||t.handleProgram!==n.getHandle())return!1;var m=t.context,g={};if(g.name=a,g.index=m.getAttribLocation(t.handleProgram,a),g.offset=i,g.stride=o,g.type=u,g.size=l,g.normalize=c,g.isMatrix=f,g.divisor=d,-1===g.Index)return!1;if(r.bind(),m.enableVertexAttribArray(g.index),m.vertexAttribPointer(g.index,g.size,g.type,g.normalize,g.stride,g.offset),d>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(g.index,1):m.vertexAttribDivisor(g.index,1)),g.buffer=r.getHandle(),!t.supported){for(var p=!1,v=0;v<t.buffers.length;++v){var h=t.buffers[v];if(h.buffer===g.buffer){p=!0;for(var y=!1,A=0;A<h.attributes.length;++A)h.attributes[A].name===a&&(y=!0,h.attributes[A]=g);y||h.attributes.push(g)}}p||t.buffers.push({buffer:g.buffer,attributes:[g]})}return!0},e.addAttributeMatrixWithDivisor=function(n,r,a,i,o,s,u,l,c){var d=e.addAttributeArrayWithDivisor(n,r,a,i,o,s,u,l,c,!0);if(!d)return d;for(var f=t.context,m=f.getAttribLocation(t.handleProgram,a),g=1;g<u;g++)f.enableVertexAttribArray(m+g),f.vertexAttribPointer(m+g,u,s,l,o,i+o*g/u),c>0&&(t.instancingExtension?t.instancingExtension.vertexAttribDivisorANGLE(m+g,1):f.vertexAttribDivisor(m+g,1));return!0},e.removeAttributeArray=function(n){if(!e.isReady()||0===t.handleProgram)return!1;if(!t.supported)for(var r=0;r<t.buffers.length;++r)for(var a=t.buffers[r],i=0;i<a.attributes.length;++i){var o=a.attributes[i];if(o.name===n)return a.attributes.splice(i,1),a.attributes.length||t.buffers.splice(r,1),!0}return!0},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,u,n),t.buffers=[],o.default.obj(e,t),o.default.get(e,t,["supported"]),o.default.setGet(e,t,["forceEmulation"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(43),u={forceEmulation:!1,handleVAO:0,handleProgram:0,supported:!0,buffers:null,context:null,openGLRenderWindow:null},l=t.newInstance=o.default.newInstance(a,"vtkOpenGLVertexArrayObject");t.default={newInstance:l,extend:a}},function(e,t){e.exports="//VTK::System::Dec\r\n\r\n// ============================================================================\r\n//\r\n//  Program:   Visualization Toolkit\r\n//  Module:    vtkTextureObjectFS.glsl\r\n//\r\n//  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\r\n//  All rights reserved.\r\n//  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\r\n//\r\n//     This software is distributed WITHOUT ANY WARRANTY; without even\r\n//     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\r\n//     PURPOSE.  See the above copyright notice for more information.\r\n//\r\n// ============================================================================\r\n\r\n// Fragment shader used by the gaussian blur filter render pass.\r\n\r\nvarying vec2 tcoordVC;\r\nuniform sampler2D source;\r\n\r\n// the output of this shader\r\n//VTK::Output::Dec\r\n\r\nvoid main(void)\r\n{\r\n  gl_FragData[0] = texture2D(source,tcoordVC);\r\n}\r\n"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SlicingMode={NONE:-1,I:0,J:1,K:2,X:3,Y:4,Z:5};t.default={SlicingMode:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.InterpolationType={NEAREST:0,LINEAR:1};t.default={InterpolationType:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.InterpolationType={NEAREST:0,LINEAR:1,FAST_LINEAR:2};t.default={InterpolationType:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.BlendMode={COMPOSITE_BLEND:0,MAXIMUM_INTENSITY_BLEND:1,MINIMUM_INTENSITY_BLEND:2,AVERAGE_INTENSITY_BLEND:3};t.default={BlendMode:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){for(var r=t[0],a=t[1],i=0;i<e-2;i++){var o=t[i+2];n.push(3),i%2?(n.push(a),n.push(r),n.push(o)):(n.push(r),n.push(a),n.push(o)),r=a,a=o}}function i(e,t){t.classHierarchy.push("vtkTriangleStrip")}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),c.default.extend(e,t,n),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=o;var s=n(0),u=r(s),l=n(51),c=r(l),d=t.STATIC={decomposeStrip:a},f={},m=t.newInstance=u.default.newInstance(o,"vtkTriangleStrip");t.default=Object.assign({newInstance:m,extend:o},d)},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){return new f(!0)}function o(){return new f(!1)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),l=n(1),c=function(e){return e},d=new Float64Array(16);u.mat4.identity(d);var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a(this,e),this.matrix=new Float64Array(16),u.mat4.identity(this.matrix),this.tmp=new Float64Array(3),this.angleConv=t?u.glMatrix.toRadian:c}return s(e,[{key:"rotateFromDirections",value:function(e,t){var n=new Float64Array(3),r=new Float64Array(3),a=new Float64Array(16);u.vec3.set(n,e[0],e[1],e[2]),u.vec3.set(r,t[0],t[1],t[2]),u.vec3.normalize(n,n),u.vec3.normalize(r,r);var i=u.vec3.dot(n,r);return i>=1?this:(u.vec3.cross(this.tmp,n,r),u.vec3.length(this.tmp,this.tmp)<1e-6&&(0===e[0]&&0===e[1]?u.vec3.set(this.tmp,0,1,0):u.vec3.set(this.tmp,0,-e[2],-e[1])),u.mat4.fromRotation(a,Math.acos(i),this.tmp),u.mat4.multiply(this.matrix,this.matrix,a),this)}},{key:"rotate",value:function(e,t){return u.vec3.set.apply(u.vec3,[this.tmp].concat(r(t))),u.vec3.normalize(this.tmp,this.tmp),u.mat4.rotate(this.matrix,this.matrix,this.angleConv(e),this.tmp),this}},{key:"rotateX",value:function(e){return u.mat4.rotateX(this.matrix,this.matrix,this.angleConv(e)),this}},{key:"rotateY",value:function(e){return u.mat4.rotateY(this.matrix,this.matrix,this.angleConv(e)),this}},{key:"rotateZ",value:function(e){return u.mat4.rotateZ(this.matrix,this.matrix,this.angleConv(e)),this}},{key:"translate",value:function(e,t,n){return u.vec3.set(this.tmp,e,t,n),u.mat4.translate(this.matrix,this.matrix,this.tmp),this}},{key:"scale",value:function(e,t,n){return u.vec3.set(this.tmp,e,t,n),u.mat4.scale(this.matrix,this.matrix,this.tmp),this}},{key:"identity",value:function(){return u.mat4.identity(this.matrix),this}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if((0,l.areMatricesEqual)(d,this.matrix))return this;for(var r=-1===n?e.length:t+3*n,a=t;a<r;a+=3)u.vec3.set(this.tmp,e[a],e[a+1],e[a+2]),u.vec3.transformMat4(this.tmp,this.tmp,this.matrix),e[a]=this.tmp[0],e[a+1]=this.tmp[1],e[a+2]=this.tmp[2];return this}},{key:"getMatrix",value:function(){return this.matrix}},{key:"setMatrix",value:function(e){return e&&16===e.length&&u.mat4.copy(this.matrix,e),this}}]),e}();t.default={buildFromDegree:i,buildFromRadian:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("vtkRenderWindow3D"),e.initLogo=function(){var n=D.LOGO_URL;new Promise(function(e,t){n||t(new Error("Error: No uri"));var r=document.createElement("canvas"),a=r.getContext("2d"),i=new Image;i.src=n,i.onload=function(){r.width=i.width,r.height=i.height,a.drawImage(i,0,0,r.width,r.height),e(a.getImageData(0,0,r.width,r.height))},i.onerror=function(){t(new Error("Error when loading "+n))}}).then(function(n){var r=[n.width,n.height],a=f.default.newInstance();a.setSpacing(1,1,1),a.setExtent(0,r[0]-1,0,r[1]-1,0,0);for(var i=new Uint8Array(4*r[0]*r[1]),o=0;o<=r[1];o++)for(var s=0;s<=r[0];s++){var u=4*(r[0]*o+s),l=4*(r[0]*(r[1]-o)+s);i[u]=n.data[l],i[u+1]=n.data[l+1],i[u+2]=n.data[l+2],i[u+3]=n.data[l+3]}var c=g.default.newInstance({numberOfComponents:4,values:i});a.getPointData().setScalars(c);var d=v.default.newInstance();d.setImage(a),d.setDragable(1),d.setPickable(1),d.setProportionalResize(0),d.setShowBorder(0),d.setUseBounds(!0),d.setVisibility(1),d.setPosition(.36,.06),d.setPosition2(.3,.08),t.renderer.addActor(d),e.render()}).catch(function(e){b(e.message)})},e.initLights=function(){var e=t.renderer,n=e.getActiveCamera();e.setAutomaticLightCreation(!1);var r=["lightLeft","lightRight","lightPosterior","lightAnterior","lightSuperior","lightInferior"];[[2e3,0,0],[-2e3,0,0],[0,2e3,0],[0,-2e3,0],[0,0,2e3],[0,0,-2e3]].forEach(function(a,i){var o=e.makeLight();e.addLight(o),o.setPositional(0),o.setIntensity(.5),o.setColor(1,1,1),o.setPosition(a),o.setFocalPointFrom(n.getFocalPointByReference()),t[r[i]]=o})},e.updateLights=function(){var e=t.renderer,n=e.computeVisiblePropBounds();if(c.areBoundsInitialized(n)){var r=e.getActiveCamera(),i=[(n[0]+n[1])/2,(n[2]+n[3])/2,(n[4]+n[5])/2],o=e.get().createdLight;o&&(o.setPositionFrom(r.getPositionByReference()),o.setFocalPointFrom(r.getFocalPointByReference()),o.modified(r.getMTime()));var s=[n[1]-n[0],n[3]-n[2],n[5]-n[4]],u=Math.max(s[1],s[2])+s[0]/2,l=Math.max(s[0],s[2])+s[1]/2,d=Math.max(s[0],s[1])+s[2]/2,f=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]];[t.lightLeft,t.lightRight,t.lightPosterior,t.lightAnterior,t.lightSuperior,t.lightInferior].forEach(function(e,t){if(e){var n=f[t];e.getPositional()?(e.setPosition(i[0]+u*n[0],i[1]+l*n[1],i[2]+d*n[2]),e.setFocalPoint(i[0],i[1],i[2])):(e.setPosition.apply(e,a(n)),e.setFocalPoint(0,0,0))}})}},e.getLightsOptions=function(){var e=[["lightDefault",t.renderer.get().createdLight],["lightLeft",t.lightLeft],["lightRight",t.lightRight],["lightPosterior",t.lightPosterior],["lightAnterior",t.lightAnterior],["lightSuperior",t.lightSuperior],["lightInferior",t.lightInferior]],n={};return e.forEach(function(e){var t=e[1];if(t){var r={};r.switch=t.getSwitch(),r.positional=t.getPositional(),r.lightType=t.getLightType(),r.intensity=t.getIntensity(),r.exponent=t.getExponent(),r.coneAngle=t.getConeAngle(),n[e[0]]=r}}),n},e.configLights=function(n){var r=t.renderer;[["lightDefault",t.renderer.get().createdLight],["lightLeft",t.lightLeft],["lightRight",t.lightRight],["lightPosterior",t.lightPosterior],["lightAnterior",t.lightAnterior],["lightSuperior",t.lightSuperior],["lightInferior",t.lightInferior]].forEach(function(e){var t=e[1],a=n[e[0]];if(a&&t){if("switch"in a){t.setSwitch(a.switch);var i=r.getLights();i&&(a.switch&&i.indexOf(t)<0?r.addLight(t):!a.switch&&i.indexOf(t)>=0&&r.removeLight(t))}"positional"in a&&t.setPositional(a.positional),"lightType"in a&&("HeadLight"===a.lightType?t.setLightTypeToHeadLight():"SceneLight"===a.lightType?t.setLightTypeToSceneLight():"CameraLight"===a.lightType&&t.setLightTypeToCameraLight()),"intensity"in a&&t.setIntensity(a.intensity),"exponent"in a&&t.setExponent(a.exponent),"coneAngle"in a&&t.setConeAngle(a.coneAngle)}}),e.updateLights(),e.render()},e.setLightToBright=function(){var e=t.renderer,n=e.getLights();[t.lightLeft,t.lightRight,t.lightPosterior,t.lightAnterior,t.lightSuperior,t.lightInferior].forEach(function(t,r){t&&(t.setSwitch(!0),t.setIntensity(.5),n.indexOf(t)<0&&e.addLight(t))});var r=t.renderer.get().createdLight;r&&(r.setSwitch(!0),r.setIntensity(1),n.indexOf(r)<0&&e.addLight(r))},e.setLightToDefault=function(){var e=t.renderer,n=e.getLights();[t.lightLeft,t.lightRight,t.lightPosterior,t.lightAnterior,t.lightSuperior,t.lightInferior].forEach(function(t,r){t&&(t.setSwitch(!1),n.indexOf(t)>=0&&e.removeLight(t))});var r=t.renderer.get().createdLight;r&&(r.setSwitch(!0),r.setIntensity(1),n.indexOf(r)<0&&e.addLight(r))},e.getLightPreset=function(){return t.lightPreset},e.applyLightPreset=function(n){t.lightPreset=n,"bright"===n?e.setLightToBright():(t.lightPreset="default",e.setLightToDefault()),e.updateLights(),e.render()};var n=e.initScene;e.initScene=function(r){n(r),e.setUseDepthPeel(D.USE_DEPTHPEEL);var a=y.default.newInstance();t.interactor.setInteractorStyle(a),t.interactor.getInteractorStyle().setMotionFactor(20),t.interactor.getInteractorStyle().setEnableAnimate(!0),a.setYcmRenderWindow(e),e.initLights(),e.applyLightPreset(D.LIGHT_PRESET),t.renderer.getActiveCamera().setParallelProjection(!1),t.texturedBackground=D.TEXTURED_BACKGROUND_3D,e.setGradientBackgroundColor([.1,.1,.1],[.7,.7,.7]),e.updateBackgrondColor(),e.initLogo(),e.updateWindowSize(),e.resetCamera()},e.createSurfaceMapper=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=M.default.newInstance();return r.setNodeIndex(t),r.setOrientation(e.getOrientation()),r.installPipeline(),e.addMapper(r),n&&e.render(),r}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,I,n),S.default.extend(e,t,n),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),d=n(22),f=r(d),m=n(2),g=r(m),p=n(228),v=r(p),h=n(141),y=r(h),A=n(134),S=r(A),T=n(92),M=r(T),b=u.default.vtkErrorMacro,D=u.default.GlobalOptions,I={lightPreset:"default"},w=t.newInstance=u.default.newInstance(o,"vtkRenderWindow3D");t.default={newInstance:w,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o={};o.data=e,o.width=t,o.height=n,o.components=r,o.data=null;var s=[];if(!e||0===e.length)return o;if(!c.default.isPowerOfTwo(t)||!c.default.isPowerOfTwo(n)){var u=c.default.nearestPowerOfTwo(t),l=c.default.nearestPowerOfTwo(n),d=t/u,f=n/l,m=i&&d!==f,g=m&&d<f?Math.floor(t/f):u,p=m&&d>f?Math.floor(n/d):l,v=u*l*r,h=Math.floor((u-g)/2),y=u-g-h,A=Math.floor((l-p)/2),S=l-p-A;d=t/g,f=n/p;for(var T=0;T<e.length;T++)if(null!==e[T]){var M=null;M=a?new Float32Array(v):new Uint8Array(v);for(var b=A;b<l-S;b++){var D=b*u*r,I=(b-A)*f,w=Math.floor(I),C=Math.ceil(I);C>=n&&(C=n-1);var N=I-w,P=1-N;w=w*t*r,C=C*t*r;for(var x=h;x<u-y;x++){var E=x*r,O=(x-h)*d,L=Math.floor(O),_=Math.ceil(O);_>=t&&(_=t-1);var R=O-L;L*=r,_*=r;for(var k=0;k<r;k++)M[D+E+k]=e[T][w+L+k]*P*(1-R)+e[T][w+_+k]*P*R+e[T][C+L+k]*N*(1-R)+e[T][C+_+k]*N*R}}s.push(M),o.width=u,o.height=l}else s.push(null)}if(0===s.length)for(var B=0;B<e.length;B++)s.push(e[B]);return o.data=s,o}function i(e,t){t.classHierarchy.push("vtkLogoRepresentation"),e.getActors=function(){return[]},e.getActors2D=function(){return e},e.getVolumes=function(){return[]},e.hasTranslucentPolygonalGeometry=function(){return!1},e.getMTime=function(){var e=t.mtime;return e=t.positionCoordinate.getMTime()>e?t.positionCoordinate.getMTime():e,e=t.position2Coordinate.getMTime()>e?t.position2Coordinate.getMTime():e,t.image&&(e=t.image.getMTime()>e?t.image.getMTime():e),e},e.getBounds=function(){return[]},e.getActualPositionCoordinate=function(){return t.positionCoordinate},e.getActualPosition2Coordinate=function(){return t.position2Coordinate},e.setPosition=function(e,n){return t.positionCoordinate.setValue(e,n)},e.getPosition=function(){return t.positionCoordinate.getValue()},e.setPosition2=function(e,n){return t.position2Coordinate.setValue(e,n)},e.getPosition2=function(){return t.position2Coordinate.getValue()},e.getScaledData=function(){if(e.getMTime()>t.loadDataTime.getMTime()){var n=t.image.getDimensions(),r=t.image.getPointData().getScalars(),i=r?[r.getData()]:[];t.scaledData=a(i,n[0],n[1],4,!1,!1),t.loadDataTime.modified()}return t.scaledData},e.buildRepresentation=function(){t.texture||(t.texture=v.default.newInstance({interpolate:!0}),e.modified()),t.texture.setInputData(t.image),t.openglTexture||(t.openglTexture=y.default.newInstance(),t.openglTexture.setRenderable(t.texture),e.modified())},e.renderOverlay=function(n){e.getVisibility()&&(e.buildRepresentation(),t.openglTexture.setParent(n),t.openglTexture.render())}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),g.default.extend(e,t,n),u.default.setGet(e,t,["showBorder","proportionalResize","opacity","image","property"]),t.loadDataTime={},u.default.obj(t.loadDataTime,{mtime:0}),t.positionCoordinate=f.default.newInstance(),t.positionCoordinate.setCoordinateSystemToViewport(),t.position2Coordinate=f.default.newInstance(),t.position2Coordinate.setCoordinateSystemToNormalizedViewport(),t.position2Coordinate.setValue(.5,.5),t.position2Coordinate.setReferenceCoordinate(t.positionCoordinate),t.pickable=!1,t.property=S.default.newInstance(),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(1),c=r(l),d=n(53),f=r(d),m=n(85),g=r(m),p=n(433),v=r(p),h=n(25),y=r(h),A=n(30),S=r(A),T={loadDataTime:null,texture:null,openglTexture:null,showBorder:!1,proportionalResize:!1,opacity:.25,image:null,positionCoordinate:null,position2Coordinate:null,property:null},M=t.newInstance=u.default.newInstance(o,"vtkLogoRepresentation");t.default={newInstance:M,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("vtkRenderWindowVR"),e.initLogo=function(){var n=M.LOGO_URL;new Promise(function(e,t){n||t(new Error("Error: No uri"));var r=document.createElement("canvas"),a=r.getContext("2d"),i=new Image;i.src=n,i.onload=function(){r.width=i.width,r.height=i.height,a.drawImage(i,0,0,r.width,r.height),e(a.getImageData(0,0,r.width,r.height))},i.onerror=function(){t(new Error("Error when loading "+n))}}).then(function(n){var r=[n.width,n.height],a=f.default.newInstance();a.setSpacing(1,1,1),a.setExtent(0,r[0]-1,0,r[1]-1,0,0);for(var i=new Uint8Array(4*r[0]*r[1]),o=0;o<=r[1];o++)for(var s=0;s<=r[0];s++){var u=4*(r[0]*o+s),l=4*(r[0]*(r[1]-o)+s);i[u]=n.data[l],i[u+1]=n.data[l+1],i[u+2]=n.data[l+2],i[u+3]=n.data[l+3]}var c=g.default.newInstance({numberOfComponents:4,values:i});a.getPointData().setScalars(c);var d=v.default.newInstance();d.setImage(a),d.setDragable(1),d.setPickable(1),d.setProportionalResize(0),d.setShowBorder(0),d.setUseBounds(!0),d.setVisibility(1),d.setPosition(.36,.06),d.setPosition2(.3,.08),t.renderer.addActor(d),e.render()}).catch(function(e){T(e.message)})},e.initLights=function(){var e=t.renderer,n=e.getActiveCamera();e.setAutomaticLightCreation(!1);var r=["lightLeft","lightRight","lightPosterior","lightAnterior","lightSuperior","lightInferior"];[[2e3,0,0],[-2e3,0,0],[0,2e3,0],[0,-2e3,0],[0,0,2e3],[0,0,-2e3]].forEach(function(a,i){var o=e.makeLight();e.addLight(o),o.setPositional(0),o.setIntensity(.5),o.setColor(1,1,1),o.setPosition(a),o.setFocalPointFrom(n.getFocalPointByReference()),t[r[i]]=o})},e.updateLights=function(){var e=t.renderer,n=e.computeVisiblePropBounds();if(c.areBoundsInitialized(n)){var r=e.getActiveCamera(),i=[(n[0]+n[1])/2,(n[2]+n[3])/2,(n[4]+n[5])/2],o=e.get().createdLight;o&&(o.setPositionFrom(r.getPositionByReference()),o.setFocalPointFrom(r.getFocalPointByReference()),o.modified(r.getMTime()));var s=[n[1]-n[0],n[3]-n[2],n[5]-n[4]],u=Math.max(s[1],s[2])+s[0]/2,l=Math.max(s[0],s[2])+s[1]/2,d=Math.max(s[0],s[1])+s[2]/2,f=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]];[t.lightLeft,t.lightRight,t.lightPosterior,t.lightAnterior,t.lightSuperior,t.lightInferior].forEach(function(e,t){if(e){var n=f[t];e.getPositional()?(e.setPosition(i[0]+u*n[0],i[1]+l*n[1],i[2]+d*n[2]),e.setFocalPoint(i[0],i[1],i[2])):(e.setPosition.apply(e,a(n)),e.setFocalPoint(0,0,0))}})}},e.getLightsOptions=function(){var e=[["lightDefault",t.renderer.get().createdLight],["lightLeft",t.lightLeft],["lightRight",t.lightRight],["lightPosterior",t.lightPosterior],["lightAnterior",t.lightAnterior],["lightSuperior",t.lightSuperior],["lightInferior",t.lightInferior]],n={};return e.forEach(function(e){var t=e[1];if(t){var r={};r.switch=t.getSwitch(),r.positional=t.getPositional(),r.lightType=t.getLightType(),r.intensity=t.getIntensity(),r.exponent=t.getExponent(),r.coneAngle=t.getConeAngle(),n[e[0]]=r}}),n},e.configLights=function(n){var r=t.renderer;[["lightDefault",t.renderer.get().createdLight],["lightLeft",t.lightLeft],["lightRight",t.lightRight],["lightPosterior",t.lightPosterior],["lightAnterior",t.lightAnterior],["lightSuperior",t.lightSuperior],["lightInferior",t.lightInferior]].forEach(function(e){var t=e[1],a=n[e[0]];if(a&&t){if("switch"in a){t.setSwitch(a.switch);var i=r.getLights();i&&(a.switch&&i.indexOf(t)<0?r.addLight(t):!a.switch&&i.indexOf(t)>=0&&r.removeLight(t))}"positional"in a&&t.setPositional(a.positional),"lightType"in a&&("HeadLight"===a.lightType?t.setLightTypeToHeadLight():"SceneLight"===a.lightType?t.setLightTypeToSceneLight():"CameraLight"===a.lightType&&t.setLightTypeToCameraLight()),"intensity"in a&&t.setIntensity(a.intensity),"exponent"in a&&t.setExponent(a.exponent),"coneAngle"in a&&t.setConeAngle(a.coneAngle)}}),e.updateLights(),e.render()},e.setLightToBright=function(){var e=t.renderer,n=e.getLights();[t.lightLeft,t.lightRight,t.lightPosterior,t.lightAnterior,t.lightSuperior,t.lightInferior].forEach(function(t,r){t&&(t.setSwitch(!0),t.setIntensity(.5),n.indexOf(t)<0&&e.addLight(t))});var r=t.renderer.get().createdLight;r&&(r.setSwitch(!0),r.setIntensity(1),n.indexOf(r)<0&&e.addLight(r))},e.setLightToDefault=function(){var e=t.renderer,n=e.getLights();[t.lightLeft,t.lightRight,t.lightPosterior,t.lightAnterior,t.lightSuperior,t.lightInferior].forEach(function(t,r){t&&(t.setSwitch(!1),n.indexOf(t)>=0&&e.removeLight(t))});var r=t.renderer.get().createdLight;r&&(r.setSwitch(!0),r.setIntensity(1),n.indexOf(r)<0&&e.addLight(r))},e.getLightPreset=function(){return t.lightPreset},e.applyLightPreset=function(n){t.lightPreset=n,"bright"===n?e.setLightToBright():(t.lightPreset="default",e.setLightToDefault()),e.updateLights(),e.render()};var n=e.initScene;e.initScene=function(r){n(r),e.setUseDepthPeel(!1);var a=y.default.newInstance();t.interactor.setInteractorStyle(a),t.interactor.getInteractorStyle().setMotionFactor(20),t.interactor.getInteractorStyle().setEnableAnimate(!0),a.setYcmRenderWindow(e),e.initLights(),e.applyLightPreset(M.LIGHT_PRESET),t.renderer.getActiveCamera().setParallelProjection(!1),t.texturedBackground=M.TEXTURED_BACKGROUND_3D,e.setGradientBackgroundColor([.1,.1,.1],[.7,.7,.7]),e.updateBackgrondColor(),e.initLogo(),e.updateWindowSize(),e.resetCamera(),t.openGLRenderWindow.getCanvas().style.display="none",t.openGLRenderWindow.setUseOffScreen(!0),t.interactor.unbindEvents()}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,b,n),S.default.extend(e,t,n),u.default.setGet(e,t,["inView3D"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),d=n(22),f=r(d),m=n(2),g=r(m),p=n(228),v=r(p),h=n(141),y=r(h),A=n(134),S=r(A),T=u.default.vtkErrorMacro,M=u.default.GlobalOptions,b={lightPreset:"default",inView3D:!0},D=t.newInstance=u.default.newInstance(o,"vtkRenderWindowVR");t.default={newInstance:D,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("vtkNodeOps"),e.setNodeName=function(e,t){if(!t)return{result:!1,reason:"Empty Name"};var n=p.DataManagement;return n.isNodeExist(e)?t===n.getNodeName(e)?{result:!1,reason:"Name Exist"}:n.isNodeNameExist(t,e)?{result:!1,reason:"Name Exist"}:(n.setNodeName(e,t),{result:!0,reason:""}):{result:!1,reason:"Node Not Exist"}},e.removeNode=function(e){var t=p.DataManagement,n=t.removeNode(e);p.MultiView.updateNodesAndRender(n)},e.removeAllTypeSelectedNodes=function(t){var n=p.DataManagement,r=[];if(t>=0&&t<3){var i=n.getAllNodeIndex(),o=e.getVisibleRootIndex();i.forEach(function(e){if(!n.getNodeProperty(e,"hide_in_data_storage")){var t=n.getDataNodeType(e),i=n.getNodeProperty(e,"parent_index"),s=n.getNodeTypeSelected(e);if(t===f.DataNodeTypes.MASKV_DATA&&i===o&&s){var u=n.removeNode(e);r.push.apply(r,a(u))}}})}else if(3===t){var s=n.getAllNodeIndex();s.forEach(function(e){if(!n.getNodeProperty(e,"hide_in_data_storage")){var t=n.getDataNodeType(e),i=n.getNodeTypeSelected(e);if(t===f.DataNodeTypes.SURFACE_DATA&&i){var o=n.removeNode(e);r.push.apply(r,a(o))}}})}p.MultiView.updateNodesAndRender(r)},e.setNodeColor=function(e,t){if(p.DataManagement.setNodeColor(e,t)){var n=p.MultiView.updateNodeProperties(e);p.MultiView.renderIf(n)}},e.setNodeOpacity=function(e,t){var n=p.DataManagement;if(n.getDataNodeType(e)!==f.DataNodeTypes.IMAGE_DATA&&n.setNodeOpacity(e,t)){var r=p.MultiView.updateNodeProperties(e);p.MultiView.renderIf(r)}},e.setNodeVisible=function(e,t){var n=p.DataManagement;if(!n.getNodeProperty(e,"visible_lock")){var r=n.setNodeVisible(e,t);p.MultiView.updateNodesAndRender(r)}},e.showAllNodes=function(t){var n=p.DataManagement,r=[];if(t>=0&&t<3){var i=n.getAllNodeIndex(),o=e.getVisibleRootIndex();i.forEach(function(e){if(!n.getNodeProperty(e,"hide_in_data_storage")){var t=n.getDataNodeType(e),i=n.getNodeProperty(e,"parent_index");if(t===f.DataNodeTypes.MASKV_DATA&&i===o){var s=n.setNodeVisible(e,1);r.push.apply(r,a(s))}}})}else if(3===t){var s=n.getAllNodeIndex();s.forEach(function(e){if(!n.getNodeProperty(e,"hide_in_data_storage")&&n.getDataNodeType(e)===f.DataNodeTypes.SURFACE_DATA){var t=n.setNodeVisible(e,1);r.push.apply(r,a(t))}})}p.MultiView.updateNodesAndRender(r),p.MultiView.resetCamera3D()},e.hideAllNodes=function(t){var n=p.DataManagement,r=[];if(t>=0&&t<3){var i=n.getAllNodeIndex(),o=e.getVisibleRootIndex();i.forEach(function(e){if(!n.getNodeProperty(e,"hide_in_data_storage")){var t=n.getDataNodeType(e),i=n.getNodeProperty(e,"parent_index");if(t===f.DataNodeTypes.MASKV_DATA&&i===o){var s=n.setNodeVisible(e,0);r.push.apply(r,a(s))}}})}else if(3===t){var s=n.getAllNodeIndex();s.forEach(function(e){if(!n.getNodeProperty(e,"hide_in_data_storage")&&n.getDataNodeType(e)===f.DataNodeTypes.SURFACE_DATA){var t=n.setNodeVisible(e,0);r.push.apply(r,a(t))}})}p.MultiView.updateNodesAndRender(r),p.MultiView.resetCamera3D()},e.setNodeTypeSelected=function(e,t){var n=p.DataManagement;n.getNodeProperty(e,"select_lock")||n.setNodeTypeSelected(e,t)},e.selectAllNodes=function(e){var t=p.DataManagement;t.getNodesToDisplay(e).forEach(function(e){t.setNodeTypeSelected(e,1)})},e.deselectAllNodes=function(e){var t=p.DataManagement;t.getNodesToDisplay(e).forEach(function(e){t.setNodeTypeSelected(e,0)})},e.revertSelectNodes=function(e){var t=p.DataManagement;t.getNodesToDisplay(e).forEach(function(e){t.getNodeTypeSelected(e)?t.setNodeTypeSelected(e,0):t.setNodeTypeSelected(e,1)})},e.getOrganMarkNames=function(){return m.OrganMarkNames},e.setNodeOrganName=function(e,t,n){var r=p.DataManagement;if(t){if(n)return void r.setNodeOrganName(e,t);Object.keys(m.OrganMarkNames).find(function(e){return m.OrganMarkNames[e].mark===t})&&r.setNodeOrganName(e,t)}},e.getNodeDicomProperties=function(e){var t=p.DataManagement;if(!t.isNodeExist(e))return g("getNodeDicomProperties(): invalid node index "+e),{};var n={};if(t.getDataNodeType(e)===f.DataNodeTypes.IMAGE_DATA){var r=t.getNodeProperty(e,"metaData");((Array.isArray(r[0])?r[0]:r)||[]).forEach(function(e){var t=e.TagKey.split("|"),r=s(t,2),a=r[0],i=r[1];if(a&&i&&e.LabelId){n[a]||(n[a]={});var o=i+"("+e.LabelId+")";n[a][o]=e.TagValue}})}var a={},i=t.getNodeAllProperties(e)||{};return Object.keys(i).forEach(function(e){e&&"metaData"!==e&&"dataPaths"!==e&&(a[e]=String(i[e]))}),n.basicInfo=a,n},e.saveNode=function(e,t){var n=p.DataManagement,r=n.getDataNodeType(e);if(r!==f.DataNodeTypes.SURFACE_DATA)return g("saveNode("+e+"): unsupported node type "+r),!1;if(!t)return g("saveNode("+e+"): empty file name"),!1;var a=n.getTextData(e);if(!a)return g("saveNode("+e+"): fail"),!1;var i=window.document.createElement("a");i.download=t.endsWith(".stl")||t.endsWith(".STL")?t:t+".stl";var o=new Blob([a]);return i.href=window.URL.createObjectURL(o),i.target="_blank",i.click(),!0},e.copyNode=function(e){var t=p.DataManagement,n=t.getDataNodeType(e);if(n!==f.DataNodeTypes.SURFACE_DATA&&n!==f.DataNodeTypes.MASKV_DATA)return g("copyNode("+e+"): unsupported node type "+n),!1;for(var r=t.getNodeName(e),a="",i=1;i<1e5;i++){var o=r+"_"+i;if(!t.isNodeNameExist(o)){a=o;break}}var s=t.duplicateDataNode(e,a);if(s>=0){t.setSelectedNode(s);var u=p.MultiView.getRenderWindow3D(),l=d.default.newInstance();l.setNodeIndex(s),l.setOrientation(u.getOrientation()),l.installPipeline(),u.addMapper(l),u.render()}return s>=0},e.switchToImageNode=function(e,t){var n=p.DataManagement;if(!n.isNodeExist(e))return g("switchToImageNode: node "+e+" not exist"),!1;var r=n.getDataNodeType(e);if(r!==f.DataNodeTypes.IMAGE_DATA)return g("switchToImageNode: invalid node type "+r),!1;var a=function(e){e.length>0&&(p.MultiView.updateNodesAndRender(e,!1),p.MultiView.updateView(),p.MultiView.resetCamera())};if(n.getData(e)){var i=n.setNodeVisible(e,1);return p.RemoteData.rootImageDataChanged(),a(i),t&&t(!1),!0}var o=n.getNodeProperty(e,"dataPaths");return p.RemoteData.imageDataDownloader(e,{dataPaths:o},function(){var r=n.setNodeVisible(e,1);p.RemoteData.rootImageDataChanged(),a(r),t&&t(!0)})(),!0},e.getVolumeStr=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=p.DataManagement,n="";if((t.getAllNodeIndex()||[]).forEach(function(e){if(t.getDataNodeType(e)===f.DataNodeTypes.SURFACE_DATA){var r=t.getNodeProperty(e,"volume_display");if(1===(r=Number(r))){var a=t.getNodeProperty(e,"volume_str");n+=a}else if(2===r){var i=t.getNodeProperty(e,"volume_str");n+=i}}}),!e)return n;var r=[];return(n.split("\n")||[]).forEach(function(e){if(e){var t=[];r.push(t);for(var n=e.split("\t"),a=0;a<n.length;a++)(a<n.length-1||n[a])&&t.push(n[a])}}),r}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,v,n),l.default.obj(e,t),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0;var s=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.extend=o;var u=n(0),l=r(u),c=n(92),d=r(c),f=n(27),m=n(142),g=l.default.vtkErrorMacro,p=l.default.GlobalObjects,v={},h=t.newInstance=l.default.newInstance(o,"vtkNodeOps");t.default={newInstance:h,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=[];n.length<t;)n.push(0);for(var r=e.length;r--;)for(var a=e[r],i=a.position,o=a.height,s=a.width,u=a.xBias,l=a.yBias,c=0;c<t;c++){var d=c/(t-1);if(d>i+s||d<i-s)n[c]<0&&(n[c]=0);else{var f=s<P?P:s,m=0;m=0===u||d===i+u?d:d>i+u?f===u?i:i+f/(f-u)*(d-i-u):-f===u?i:i-f/(f+u)*(d-i-u);var g=(m-i)/f,p=Math.exp(-4*g*g),v=1-g*g,h=void 0;h=l<1?l*v+(1-l)*p:(2-l)*v+1*(l-1);var y=o*h;y>n[c]&&(n[c]=y)}}return n}function o(e,t){t.classHierarchy.push("yVolumeRenderingMapper"),e.updateUpdateFlags=function(){N.MultiView.getRenderWindowVR()?t.updateFlags.ViewVR=!0:t.updateFlags.View3D=!0},e.getRenderWindow3D=function(){return N.MultiView.getRenderWindowVR()||N.MultiView.getRenderWindow3D()},e.getDataRange=function(){var e=t.volumeActor.getMapper().getInputData();return(e.getPointData().getScalars()||e.getPointData().getArrays()[0]).getRange()},e.setUseShadow=function(e){t.volumeActor.getProperty().setShade(!!e)},e.getUseShadow=function(){return t.volumeActor.getProperty().getShade()},e.updateSpacing=function(e){var n=t.volumeActor.getMapper().getInputData(),r=.7*Math.sqrt(n.getSpacing().map(function(e){return e*e}).reduce(function(e,t){return e+t},0));t.volumeActor.getMapper().setSampleDistance(r*Math.pow(2,3*e-1.5))},e.getOpacityNodes=function(){for(var e=t.volumeActor.getProperty().getScalarOpacity(0),n=[],r=e.getSize(),a=0;a<r;a++){var i=[];e.getNodeValue(a,i),n.push(i)}return n},e.setOpacityNodes=function(e){t.volumeActor.getProperty().getScalarOpacity(0).setNodes(e)},e.applyCustomOpacity=function(n){var r=e.getDataRange(),a=[];if(n[0][0]>r[0]){var i=r[0];a.push({x:i,y:0,midpoint:.5,sharpness:0})}for(var o=0;o<n.length;o++){var s=n[o][0],u=n[o][1];a.push({x:s,y:u,midpoint:.5,sharpness:0})}if(n[n.length-1][0]<r[1]){var l=r[1];a.push({x:l,y:0,midpoint:.5,sharpness:0})}t.volumeActor.getProperty().getScalarOpacity(0).setNodes(a)},e.applyDefaultOpacity=function(){for(var n=e.getDataRange(),r=i([{height:1,position:.5,width:.5,xBias:.5,yBias:.4}],256),a=(n[1]-n[0])/(r.length-1),o=[],s=0;s<r.length;s++){var u=n[0]+a*s,l=r[s];o.push({x:u,y:l,midpoint:.5,sharpness:0})}t.volumeActor.getProperty().getScalarOpacity(0).setNodes(o)},e.applyColorMapByColors=function(n,r){var i=[];n.forEach(function(e){i.push.apply(i,a(e))});var o={ColorSpace:"RGB",Name:r||"custom",RGBPoints:i};T.default.getPresetByName(r)||T.default.addPreset(o);var s=e.getDataRange(),u=t.volumeActor.getProperty().getRGBTransferFunction(0);u.applyColorMap(o),u.setMappingRange.apply(u,a(s)),u.updateRange()},e.applyColorMapByName=function(n){var r=e.getDataRange(),i=T.default.getPresetByName(n),o=t.volumeActor.getProperty().getRGBTransferFunction(0);o.applyColorMap(i),o.setMappingRange.apply(o,a(r)),o.updateRange()},e.updateEdgeGradients=function(e){var n=e[0][1],r=e[e.length-1][1],a=e[0][0],i=e[e.length-1][0];0===n&&0===r?t.volumeActor.getProperty().setUseGradientOpacity(0,!1):(t.volumeActor.getProperty().setUseGradientOpacity(0,!0),t.volumeActor.getProperty().setGradientOpacityMinimumOpacity(0,n),t.volumeActor.getProperty().setGradientOpacityMaximumOpacity(0,r),t.volumeActor.getProperty().setGradientOpacityMinimumValue(0,a),t.volumeActor.getProperty().setGradientOpacityMaximumValue(0,i))},e.updateEdgeGradientByValue=function(n){if(0===n)t.volumeActor.getProperty().setUseGradientOpacity(0,!1);else{var r=e.getDataRange();t.volumeActor.getProperty().setUseGradientOpacity(0,!0);var a=Math.max(0,n-.3)/.7;t.volumeActor.getProperty().setGradientOpacityMinimumValue(0,.2*(r[1]-r[0])*a*a),t.volumeActor.getProperty().setGradientOpacityMaximumValue(0,1*(r[1]-r[0])*n*n),t.volumeActor.getProperty().setGradientOpacityMinimumOpacity(0,0),t.volumeActor.getProperty().setGradientOpacityMaximumOpacity(0,1)}},e.installPipeline=function(){var n=N.DataManagement.getVisibleRootIndex();if(!(n<0)){var r=N.DataManagement.getData(n);if(r){var i=e.getRenderWindow3D(),o=m.default.newInstance(),s=d.default.newInstance();t.volumeActor=s,s.setMapper(o),o.setInputData(r),o.setBlendModeToComposite(),i.addActor(s);var u=r.getPointData().getScalars()||r.getPointData().getArrays()[0],l=u.getRange(),c=p.default.newInstance(),f=h.default.newInstance();s.getProperty().setAmbient(.2),s.getProperty().setDiffuse(.7),s.getProperty().setSpecular(.3),s.getProperty().setSpecularPower(8),s.getProperty().setRGBTransferFunction(0,c),s.getProperty().setScalarOpacity(0,f),s.getProperty().setInterpolationTypeToLinear(),s.getProperty().setIndependentComponents(1),s.getProperty().setScalarOpacityUnitDistance(0,A.default.getDiagonalLength(r.getBounds())/Math.max.apply(Math,a(r.getDimensions()))),e.setUseShadow(!0),e.applyDefaultOpacity(),e.applyColorMapByName(t.defaultColorMap),e.updateSpacing(t.defaultSpacing),e.updateEdgeGradientByValue(t.defaultGradient),e.updateUpdateFlags(),N.MultiView.applyVolumeRenderPresetByMapper("31606",e),N.DataManagement.isPropertyExist(n,"is_transfer_function_open")||N.DataManagement.setNodeProperty(n,"is_transfer_function_open",1),N.DataManagement.isPropertyExist(n,"volume_rendering_type")||N.DataManagement.setNodeProperty(n,"volume_rendering_type",0),N.DataManagement.isPropertyExist(n,"volume_transfer_function")||N.DataManagement.setNodeProperty(n,"volume_transfer_function",w.VolumeRenderPresets[31606].data),N.DataManagement.setNodeProperty(n,"volume_window",l[1]-l[0]),N.DataManagement.setNodeProperty(n,"volume_level",(l[1]+l[0])/2),t.windowLevelRange[0]=l[0],t.windowLevelRange[1]=l[1]}}},e.uninstallPipeline=function(){if(t.volumeActor){var n=e.getRenderWindow3D();n.getRenderer().hasViewProp(t.volumeActor)&&n.getRenderer().removeActor(t.volumeActor),t.volumeActor=null,e.updateUpdateFlags()}},e.updatePipeline=function(){var e=N.DataManagement.getVisibleRootIndex();e<0||N.DataManagement.setNodeProperty(e,"volume_property",-1)},e.setVolumePresetData=function(t){var n=N.DataManagement.getVisibleRootIndex();n<0||(N.DataManagement.setNodeProperty(n,"volume_transfer_function",t),N.DataManagement.setNodeProperty(n,"is_transfer_function_open",1),e.updatePipeline())},e.parseVolumeRenderPreset=function(e,t){var n=t;if(!n)return null;var r=n.lastIndexOf("/"),a=[];if(r>=0){var i=n.substring(r+1).split(";");n=n.substring(0,r),(i||[]).forEach(function(t){var n=t.split(","),r=[Number(n[0]),Number(n[1])];a.push(r),(Number.isNaN(r[0])||Number.isNaN(r[1]))&&C("parse vr presest "+e+", invalid gradient data "+n)})}r=n.lastIndexOf("/");var o=[],s=[];if(r>=0){var u=n.substring(r+1).split(";");n=n.substring(0,r),(u||[]).forEach(function(t){var n=t.split(","),r=[Number(n[0]),Number(n[1])];o.push(r),(Number.isNaN(r[0])||Number.isNaN(r[1]))&&C("parse vr presest "+e+", invalid opacity data "+n)}),s[0]=o[o.length-1][0]-o[0][0],s[1]=(o[o.length-1][0]+o[0][0])/2}var l=n.split(";"),c=[];return(l||[]).forEach(function(t){var n=t.split(","),r=[Number(n[0]),Number(n[1]),Number(n[2]),Number(n[3])];c.push(r),(Number.isNaN(r[0])||Number.isNaN(r[1])||Number.isNaN(r[2])||Number.isNaN(r[3]))&&C("parse vr presest "+e+", invalid color data "+n)}),{colors:c,opacitys:o,gradients:a,windowLevel:s}},e.updateTransferFunction=function(n){var r=null;if(w.VolumeRenderPresets[n].parsed)r=w.VolumeRenderPresets[n].parsed;else{var a=w.VolumeRenderPresets[n].data;r=e.parseVolumeRenderPreset(n,a),w.VolumeRenderPresets[n].parsed=r}if(r){var i=r,o=i.colors,s=i.opacitys,u=i.windowLevel;s?e.applyCustomOpacity(s):e.applyDefaultOpacity();var l=w.VolumeRenderPresets[n].class+": "+w.VolumeRenderPresets[n].nameZh;t.currentPreset=l,o?e.applyColorMapByColors(o,l):e.applyColorMapByName(t.defaultColorMap),e.updateSpacing(t.defaultSpacing),e.updateEdgeGradientByValue(t.defaultGradient),e.updateVolumeController(l),e.updateUpdateFlags();var c=N.DataManagement.getVisibleRootIndex();c<0||(N.DataManagement.setNodeProperty(c,"volume_window",u[0]),N.DataManagement.setNodeProperty(c,"volume_level",u[1]),t.windowLevelRange[0]=-3e3,t.windowLevelRange[1]=3e3)}},e.updateTransferFunction2=function(n){if(T.default.getPresetByName(n)){t.currentPreset=n,e.applyDefaultOpacity(),e.applyColorMapByName(n),e.updateSpacing(t.defaultSpacing),e.updateEdgeGradientByValue(t.defaultGradient),e.updateVolumeController(n),e.updateUpdateFlags();var r=N.DataManagement.getVisibleRootIndex();if(!(r<0)){var a=e.getDataRange();N.DataManagement.setNodeProperty(r,"volume_window",a[1]-a[0]),N.DataManagement.setNodeProperty(r,"volume_level",(a[1]+a[0])/2),t.windowLevelRange[0]=a[0],t.windowLevelRange[1]=a[1]}}},e.updateWindowLevel=function(t){if(!(Number.isNaN(t[0])||Number.isNaN(t[1])||t[0]<.5)){for(var n=t[1]-t[0]/2,r=t[1]+t[0]/2,a=r-n,i=e.getOpacityNodes(),o=i.length,s=i[o-1][0]-i[0][0],u=[],l=0;l<o;l++){var c=(i[l][0]-i[0][0])/s;u.push(c)}for(var d=0;d<o;d++){var f=n+u[d]*a;i[d][0]=f}var m=i.map(function(e){return{x:e[0],y:e[1],midpoint:e[2],sharpness:e[3]}});e.setOpacityNodes(m),e.updateUpdateFlags();var g=N.DataManagement.getVisibleRootIndex();g<0||(N.DataManagement.setNodeProperty(g,"volume_window",t[0]),N.DataManagement.setNodeProperty(g,"volume_level",t[1]))}},e.setVolumeControllerVisible=function(n){var r=e.getRenderWindow3D();if(!!n!==e.isVolumeControllerVisible()){if(!n)return void(t.controllerWidget.get("el").el.style.display="none");var a=t.controllerWidget;if(!t.controllerWidget){a=b.default.newInstance({size:[400,150],rescaleColorMap:!0});var i=a.get("el").el;i.style.left="auto",i.style.top="auto",i.style.right="0px",i.style.bottom="0px",t.controllerWidget=a}a.get("el").el.style.display="flex";var o=e.getUseShadow();a.setContainer(document.body),a.setupContent(r,t.volumeActor,!0,o,t.currentPreset)}},e.isVolumeControllerVisible=function(){return!!t.controllerWidget&&"none"!==t.controllerWidget.get("el").el.style.display},e.updateVolumeController=function(e){t.controllerWidget&&t.controllerWidget.updateUI(e,t.defaultSpacing,t.defaultGradient)}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,x,n),I.default.extend(e,t,n),l.default.get(e,t,["volumeActor"]),l.default.setGet(e,t,["defaultColorMap","defaultSpacing","defaultGradient","windowLevelRange"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=s;var u=n(0),l=r(u),c=n(435),d=r(c),f=n(438),m=r(f),g=n(143),p=r(g),v=n(138),h=r(v),y=n(35),A=r(y),S=n(91),T=r(S),M=n(439),b=r(M),D=n(57),I=r(D),w=n(142),C=l.default.vtkErrorMacro,N=l.default.GlobalObjects,P=.001,x={volumeActor:null,defaultColorMap:"erdc_rainbow_bright",defaultSpacing:.4,defaultGradient:.35,windowLevelRange:[],controllerWidget:null,currentPreset:""},E=t.newInstance=l.default.newInstance(s,"yVolumeRenderingMapper");t.default={newInstance:E,extend:s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){for(var n=v.default.newInstance(),r=e.getOrigin(),i=e.getSpacing(),o=e.getDimensions(),s=e.getDirection(),u=0;u<3;u++)if(i[u]<0){i[u]=-i[u];for(var l=0;l<3;l++)s.direction[l][u]=-s.direction[l][u]}var c=!1,d=[[],[],[]];if(s.needTransform){var m=M.default.checkImageDirection(s.direction);if(m.isXYZSystem){D("Info: XYZ system");for(var p=[],h=[],y=[],A=0;A<3;++A)for(var S=0;S<3;++S)d[A][S]=0===m.direction[A][S]?0:s.direction[A][S]<0?-1:1;p[0]=i[0]*d[0][0]+i[1]*d[0][1]+i[2]*d[0][2],p[1]=i[0]*d[1][0]+i[1]*d[1][1]+i[2]*d[1][2],p[2]=i[0]*d[2][0]+i[1]*d[2][1]+i[2]*d[2][2],h[0]=Math.abs(o[0]*d[0][0]+o[1]*d[0][1]+o[2]*d[0][2]),h[1]=Math.abs(o[0]*d[1][0]+o[1]*d[1][1]+o[2]*d[1][2]),h[2]=Math.abs(o[0]*d[2][0]+o[1]*d[2][1]+o[2]*d[2][2]);for(var T=0;T<3;++T)p[T]<0?(p[T]=Math.abs(p[T]),y[T]=r[T]-h[T]*p[T]):y[T]=r[T];c=!0,n.setOrigin.apply(n,y),n.setSpacing.apply(n,p),n.setDimensions.apply(n,h)}else b("Error: not XYZ system"),n.setOrigin.apply(n,a(r)),n.setSpacing.apply(n,a(i)),n.setDimensions.apply(n,a(o))}else n.setOrigin.apply(n,a(r)),n.setSpacing.apply(n,a(i)),n.setDimensions.apply(n,a(o));var I=null;if(c){var w=n.getDimensions();I=new Int16Array(w[0]*w[1]*w[2]);for(var C=w[0]*w[1],N=[],P=0;P<o[2];P++){var x=t[P].fileData,E=t[P].rescaleSlope,O=t[P].rescaleIntercept;if(1===E&&0===O)for(var L=0;L<o[1];L++)for(var _=0;_<o[0];_++){g.default.multiply3x3_vect3(d,[_,L,P],N);for(var R=0;R<3;R++)N[R]<0&&(N[R]=w[R]+N[R]);var k=L*o[0]+_;I[N[2]*C+N[1]*w[0]+N[0]]=x[k]}else for(var B=0;B<o[1];B++)for(var V=0;V<o[0];V++){g.default.multiply3x3_vect3(d,[V,B,P],N);for(var F=0;F<3;F++)N[F]<0&&(N[F]=w[F]+N[F]);var j=B*o[0]+V;I[N[2]*C+N[1]*w[0]+N[0]]=x[j]*E+O}}}else{I=new Int16Array(o[0]*o[1]*o[2]);for(var U=o[0]*o[1],z=0;z<o[2];z++){var G=t[z].fileData,W=t[z].rescaleSlope,Q=t[z].rescaleIntercept;if(1===W&&0===Q)for(var Y=0;Y<o[1];Y++)for(var q=0;q<o[0];q++){var H=Y*o[0]+q;I[z*U+H]=G[H]}else for(var Z=0;Z<o[1];Z++)for(var K=0;K<o[0];K++){var X=Z*o[0]+K;I[z*U+X]=G[X]*W+Q}}}var J=f.default.newInstance({numberOfComponents:1,values:I});return J.setName("DICOMImage"),n.getPointData().setScalars(J),n}function o(e,t){var n=v.default.newInstance(),r=e.origin,i=e.spacing,o=e.dimensions,s=e.direction,u={};u.direction=[[s[0],s[1],s[2]],[s[3],s[4],s[5]],[s[6],s[7],s[8]]],u.needTransform=1!==s[0]||0!==s[3]||0!==s[6]||0!==s[1]||1!==s[4]||0!==s[7];for(var l=0;l<3;l++)if(i[l]<0){i[l]=-i[l];for(var c=0;c<3;c++)u.direction[c][l]=-u.direction[c][l]}var d=!1,m=[[],[],[]];if(u.needTransform){var p=M.default.checkImageDirection(u.direction);if(p.isXYZSystem){D("Info: XYZ system");for(var h=[],y=[],A=[],S=0;S<3;++S)for(var T=0;T<3;++T)m[S][T]=0===p.direction[S][T]?0:u.direction[S][T]<0?-1:1;h[0]=i[0]*m[0][0]+i[1]*m[0][1]+i[2]*m[0][2],h[1]=i[0]*m[1][0]+i[1]*m[1][1]+i[2]*m[1][2],h[2]=i[0]*m[2][0]+i[1]*m[2][1]+i[2]*m[2][2],y[0]=Math.abs(o[0]*m[0][0]+o[1]*m[0][1]+o[2]*m[0][2]),y[1]=Math.abs(o[0]*m[1][0]+o[1]*m[1][1]+o[2]*m[1][2]),y[2]=Math.abs(o[0]*m[2][0]+o[1]*m[2][1]+o[2]*m[2][2]);for(var I=0;I<3;++I)h[I]<0?(h[I]=Math.abs(h[I]),A[I]=r[I]-y[I]*h[I]):A[I]=r[I];d=!0,n.setOrigin.apply(n,A),n.setSpacing.apply(n,h),n.setDimensions.apply(n,y)}else b("Error: not XYZ system"),n.setOrigin.apply(n,a(r)),n.setSpacing.apply(n,a(i)),n.setDimensions.apply(n,a(o))}else n.setOrigin.apply(n,a(r)),n.setSpacing.apply(n,a(i)),n.setDimensions.apply(n,a(o));var w=null;if(d){var C=n.getDimensions();w=new Int16Array(C[0]*C[1]*C[2]);for(var N=C[0]*C[1],P=[],x=0;x<o[2];x++)for(var E=t[x].fileData,O=0;O<o[1];O++)for(var L=0;L<o[0];L++){g.default.multiply3x3_vect3(m,[L,O,x],P);for(var _=0;_<3;_++)P[_]<0&&(P[_]=C[_]+P[_]);var R=O*o[0]+L;w[P[2]*N+P[1]*C[0]+P[0]]=E[R]}}else{w=new Int16Array(o[0]*o[1]*o[2]);for(var k=o[0]*o[1],B=0;B<o[2];B++)for(var V=t[B].fileData,F=0;F<o[1];F++)for(var j=0;j<o[0];j++){var U=F*o[0]+j;w[B*k+U]=V[U]}}var z=f.default.newInstance({numberOfComponents:1,values:w});return z.setName("DICOMImage"),n.getPointData().setScalars(z),n}function s(e,t){t.classHierarchy.push("vtkRemoteData"),e.releaseAllData=function(){t.downloaderYcm=null,t.nodeDatas=[],t.maskDatas={},t.curProgress=0},e.downloadImageData=function(n){var r=w.DataManagement.getNodeAllDataInfo(n),a=0;if(r.value&&r.value.endsWith("M")&&(a=r.value.slice(0,-1),a=1024*Number(a)*1024),t.nodeDatas.push({index:n,url:r.fileName,total:a,loaded:0,totalZip:0,result:""}),!t.serverUrl)return void b("You must set data server url to downloading image data.");e.connectDataServer();var s=function(r){r.target?e.onErrorImageData(r.target.statusText,n,t.dataServer):e.onErrorImageData(r,n,t.dataServer)},u=function(r){var a={loaded:r.loaded,total:r.total,totalZip:r.totalZip};e.onProressImageData(a,n,t.dataServer)},l=function(r){try{for(var a=null,u=[],l=0;l<r.fileNum;l++){var c={};c.fileData=r.detailInfos[l].fileData,c.dataPath=r.detailInfos[l].dataPath,c.metaData=r.detailInfos[l].metaData,c.structInfo=r.detailInfos[l].structInfo,c.rescaleSlope=r.detailInfos[l].rescaleSlope,c.rescaleIntercept=r.detailInfos[l].rescaleIntercept,u.push(c)}if("imagedata"!==r.mode){var d=M.default.newInstance();d.setInputDatas(u),d.sortByImagePositionPatient();var f=d.getOutputDatas(),m=d.getAllMetaDatas();w.DataManagement.setNodeProperty(n,"metaData",m);var g=u.map(function(e){return e.dataPath});w.DataManagement.setNodeProperty(n,"dataPaths",g),a=i(d,f)}else{var p=u.map(function(e){return e.metaData});w.DataManagement.setNodeProperty(n,"metaData",p);var v=u.map(function(e){return e.dataPath});w.DataManagement.setNodeProperty(n,"dataPaths",v),a=o(r,u)}e.onDataImageData(a,n,t.dataServer);var h=e.getNode(n);h&&(h.result="ok")}catch(e){s&&s(e)}};t.dataServer.downloadImageData(r,I.YCM_PATH,l,s,u)},e.initImageData=function(e,t,n){var r=w.DataManagement.getNodeAllProperties(t);e.setOrigin(0,0,0);var a=e.getOrigin(),i=e.getSpacing(),o=e.getDimensions(),s=[0,0,0];r.position?s=r.position:(s[0]=a[0]+i[0]*(o[0]-1)*.5,s[1]=a[1]+i[1]*(o[1]-1)*.5,s[2]=a[2]+i[2]*(o[2]-1)*.5,r.position=s);var u=[];u[0]=0,u[1]=o[0]-1,u[2]=0,u[3]=o[1]-1,u[4]=0,u[5]=o[2]-1,r.roi_bound=u;var l=r.window,c=r.level;l||(b("zero window"),r.window=240,r.level=80);var d=[];d[0]=a[0]+u[0]*i[0],d[1]=a[0]+u[1]*i[0],d[2]=a[1]+u[2]*i[1],d[3]=a[1]+u[3]*i[1],d[4]=a[2]+u[4]*i[2],d[5]=a[2]+u[5]*i[2],n&&(w.MultiView.setWindowLevel(l,c),w.MultiView.setReslicePosition(s),w.MultiView.setResliceBound(d))},e.rootImageDataChanged=function(){var e=w.DataManagement.getVisibleRootIndex(),t=w.DataManagement.getData(e);if(t){var n=t.getOrigin(),r=t.getSpacing(),a=w.DataManagement.getNodeProperty(e,"position");a&&3===a.length&&w.MultiView.setReslicePosition(a);var i=w.DataManagement.getNodeProperty(e,"window"),o=w.DataManagement.getNodeProperty(e,"level");"number"==typeof i&&"number"==typeof o&&w.MultiView.setWindowLevel(i,o);var s=w.DataManagement.getNodeProperty(e,"roi_bound");if(s&&6===s.length){var u=[];u[0]=n[0]+s[0]*r[0],u[1]=n[0]+s[1]*r[0],u[2]=n[1]+s[2]*r[1],u[3]=n[1]+s[3]*r[1],u[4]=n[2]+s[4]*r[2],u[5]=n[2]+s[5]*r[2],w.MultiView.setResliceBound(u)}}},e.initRootImageData=function(e){if(!(e<0)&&w.DataManagement.getNodeVisible(e)){var t=w.DataManagement.getNodeProperty(e,"position");t&&3===t.length&&w.MultiView.setReslicePosition(t);var n=w.DataManagement.getNodeProperty(e,"window"),r=w.DataManagement.getNodeProperty(e,"level");"number"==typeof n&&"number"==typeof r&&w.MultiView.setWindowLevel(n,r)}},e.onDataImageData=function(n,r,a){e.initImageData(n,r,!0),w.DataManagement.setData(r,n);var i=w.MultiView.getRenderWindowXY(),o=w.MultiView.getRenderWindowYZ(),s=w.MultiView.getRenderWindowXZ(),u=w.MultiView.getRenderWindow3D();if([i,o,s].forEach(function(e){var t=S.default.newInstance();t.setNodeIndex(r),t.setOrientation(e.getOrientation()),t.installPipeline(),e.addMapper(t),u.addMapper(t)}),t.curProgress>=100){w.DataManagement.initMaskImages(),e.initMaskMapperNodes();var l=e.updateAndGetEndTime(),c=l.stlTime,d=l.totalTime,f=l.navigationTime;w.MultiView.updateView(),w.MultiView.resetCamera();var m={progress:t.curProgress,stlTime:c,totalTime:d,navigationTime:f,totalData:t.stlDataLength,totalDataZip:t.stlDataLengthZip,mode:a.getMode()};w.MultiView.onCallback("YcmLoadOnProgress",m)}else w.MultiView.updateView(),w.MultiView.resetCamera()},e.onProressImageData=function(t,n,r){e.onProressGeneral(t,n,r)},e.onErrorImageData=function(t,n,r){e.onErrorGeneral(t,n,r)},e.imageDataDownloader=function(n,r,a,s){var u=performance.now();return function(){var l=w.DataManagement.getNodeAllDataInfo(n);l=Object.assign({},l),l.dataPaths=r&&r.dataPaths,e.connectDataServer();var c=t.dataServer,d=function(e){var t=e.target?e.target.statusText:e,n={url:"stlUrl",reason:t};w.MultiView.onCallback("FileLoadOnError",n),s&&s()},f=function(e){var t=performance.now(),n=r&&r.progressMin;"number"!=typeof n&&(n=0);var a=r&&r.progressMax;"number"!=typeof a&&(a=100);var i=(e.progress-0)*(a-n)/100+n;i=Math.floor(100*i)/100;var o={progress:i,elapsedTime:Math.floor(t-u),totalData:e.total,totalDataZip:e.totalZip,mode:c.getMode()};w.MultiView.onCallback("FileLoadOnProgress",o)},m=function(t,r,a){e.initImageData(t,n,!1),w.DataManagement.setData(r,t);var i=w.MultiView.getRenderWindowXY(),o=w.MultiView.getRenderWindowYZ(),s=w.MultiView.getRenderWindowXZ(),u=w.MultiView.getRenderWindow3D();[i,o,s].forEach(function(e){var t=S.default.newInstance();t.setNodeIndex(r),t.setOrientation(e.getOrientation()),t.installPipeline(),e.addMapper(t),u.addMapper(t)}),w.DataManagement.initMaskImages(),e.initMaskMapperNodes(),w.MultiView.updateView(),w.MultiView.resetCamera()},g=function(e){try{for(var t=null,r=[],s=0;s<e.fileNum;s++){var u={};u.fileData=e.detailInfos[s].fileData,u.dataPath=e.detailInfos[s].dataPath,u.metaData=e.detailInfos[s].metaData,u.structInfo=e.detailInfos[s].structInfo,u.rescaleSlope=e.detailInfos[s].rescaleSlope,u.rescaleIntercept=e.detailInfos[s].rescaleIntercept,r.push(u)}if("imagedata"!==e.mode){var l=M.default.newInstance();l.setInputDatas(r),l.sortByImagePositionPatient();var c=l.getOutputDatas(),f=l.getAllMetaDatas();w.DataManagement.setNodeProperty(n,"metaData",f);var g=r.map(function(e){return e.dataPath});w.DataManagement.setNodeProperty(n,"dataPaths",g),t=i(l,c)}else{var p=r.map(function(e){return e.metaData});w.DataManagement.setNodeProperty(n,"metaData",p);var v=r.map(function(e){return e.dataPath});w.DataManagement.setNodeProperty(n,"dataPaths",v),t=o(e,r)}m(t,n),a&&a()}catch(e){d&&d(e)}};c.downloadImageData(l,I.YCM_PATH,g,d,f)}}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,C,n),y.default.extend(e,t,n),s(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=u;var l=n(0),c=r(l),d=n(2),f=r(d),m=n(1),g=r(m),p=n(22),v=r(p),h=n(233),y=r(h),A=n(264),S=r(A),T=n(114),M=r(T),b=c.default.vtkErrorMacro,D=c.default.vtkLogMacro,I=c.default.GlobalOptions,w=c.default.GlobalObjects,C={},N=t.newInstance=c.default.newInstance(u,"vtkRemoteData");t.default={newInstance:N,extend:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkRemoteMaskData"),e.downloadMaskData=function(n,r){var a=A.DataManagement.getNodeAllDataInfo(n);if(t.maskDatas[r])return void t.maskDatas[r].push(n);t.maskDatas[r]=[n];var i=0;a.value&&a.value.endsWith("M")&&(i=a.value.slice(0,-1),i=1024*Number(i)*1024),t.nodeDatas.push({index:n,url:r,total:i,loaded:0,totalZip:0,result:""});var o=null;y.USE_DATA_SERVER?(e.connectDataServer(),o=d.default.newInstance({isBinary:!0}),o.setDataServer(t.dataServer)):(o=m.default.newInstance({isBinary:!0}),o.setServerUrl(t.serverUrl)),o.setFileUrl(r),o.setProgressCallback(function(t){var r={loaded:t.loaded,total:t.total,totalZip:t.totalZip};e.onProressMaskData(r,n,o)}),o.setErrorCallback(function(t){t.target?e.onErrorMaskData(t.target.statusText,n,o):e.onErrorMaskData(t,n,o)}),o.setDataCallback(function(t){try{var a=h.default.newInstance();a.parseAsArrayBuffer(t);var i=a.getOutputData();e.onDataMaskData(i,n,o,r);var s=e.getNode(n);s&&(s.result="ok")}catch(e){o.getErrorCallback()&&o.getErrorCallback()(e)}}),o.download()},e.initMaskMapperNodes=function(){A.DataManagement.getMaskNodeIndexes().forEach(function(e){if(A.DataManagement.getData(e)){var t=A.MultiView.getRenderWindowXY();if(!t.getMapper(e)){var n=A.MultiView.getRenderWindowYZ(),r=A.MultiView.getRenderWindowXZ(),a=A.MultiView.getRenderWindow3D();[t,n,r].forEach(function(t){var n=p.default.newInstance();n.setNodeIndex(e),n.setOrientation(t.getOrientation()),n.installPipeline(),t.addMapper(n),a.addMapper(n)})}}})},e.onDataMaskData=function(n,r,a,i){var o=A.DataManagement.getNodeProperty(r,"parent_index");if(o>=0&&(A.DataManagement.getData(o)||e.initRootImageData(r)),t.maskDatas[i].forEach(function(e){A.DataManagement.setData(e,n)}),t.curProgress>=100){A.DataManagement.initMaskImages(),e.initMaskMapperNodes();var s=e.updateAndGetEndTime(),u=s.stlTime,l=s.totalTime,c=s.navigationTime;if(A.MultiView.updateView(),A.MultiView.resetCamera(),A.MultiView.getCallback("YcmLoadOnProgress")){var d={progress:t.curProgress,stlTime:u,totalTime:l,navigationTime:c,totalData:t.stlDataLength,totalDataZip:t.stlDataLengthZip,mode:a.getMode()};A.MultiView.onCallback("YcmLoadOnProgress",d)}}else A.MultiView.updateView(),A.MultiView.resetCamera()},e.onProressMaskData=function(t,n,r){e.onProressGeneral(t,n,r)},e.onErrorMaskData=function(t,n,r){e.onErrorGeneral(t,n,r)},e.addMaskMapperNode=function(e){if(A.DataManagement.getData(e)){var t=A.MultiView.getRenderWindowXY();if(!t.getMapper(e)){var n=A.MultiView.getRenderWindowYZ(),r=A.MultiView.getRenderWindowXZ(),a=A.MultiView.getRenderWindow3D();[t,n,r].forEach(function(t){var n=p.default.newInstance();n.setNodeIndex(e),n.setOrientation(t.getOrientation()),n.installPipeline(),t.addMapper(n),a.addMapper(n)})}}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,S,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(234),l=r(u),c=n(71),d=r(c),f=n(70),m=r(f),g=n(256),p=r(g),v=n(261),h=r(v),y=s.default.GlobalOptions,A=s.default.GlobalObjects,S={maskDatas:{}},T=t.newInstance=s.default.newInstance(i,"vtkRemoteMaskData");t.default={newInstance:T,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkRemoteSurfaceData"),e.downloadSurfaceData=function(n,r){var a=w.DataManagement.getNodeAllDataInfo(n),i=0;a.value&&a.value.endsWith("M")&&(i=a.value.slice(0,-1),i=1024*Number(i)*1024),t.nodeDatas.push({index:n,url:r,total:i,loaded:0,totalZip:0,result:""});var o=null;I.USE_DATA_SERVER?(e.connectDataServer(),o=y.default.newInstance({isBinary:!0}),o.setDataServer(t.dataServer)):(o=S.default.newInstance({isBinary:!0}),o.setServerUrl(t.serverUrl)),o.setFileUrl(r),o.setProgressCallback(function(t){var r={loaded:t.loaded,total:t.total,totalZip:t.totalZip};e.onProressSurfaceData(r,n,o)}),o.setErrorCallback(function(t){t.target?e.onErrorSurfaceData(t.target.statusText,n,o):e.onErrorSurfaceData(t,n,o)}),o.setDataCallback(function(t){try{var r=d.default.newInstance();r.setMerging(1),r.parseAsArrayBuffer(t),r.update();var a=t;ArrayBuffer.isView(t)&&(a=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)),e.onDataSurfaceData(r.getOutputData(),n,o,a);var i=e.getNode(n);i&&(i.result="ok")}catch(e){o.getErrorCallback()&&o.getErrorCallback()(e)}}),o.download()},e.computePointNormals=function(e){var t=e.getPolys(),n=e.getPoints(),r=t.getData().length,a=new Array(3*n.getNumberOfPoints());a.fill(0);for(var i=[],o=[],s=[],u=[],c=[],d=[],f=0,m=0;m<r;){t.getCell(m,u);var p=u.length;if(3===p){n.getPoint(u[0],i),n.getPoint(u[1],o),n.getPoint(u[2],s),c[0]=s[0]-o[0],c[1]=s[1]-o[1],c[2]=s[2]-o[2],d[0]=i[0]-o[0],d[1]=i[1]-o[1],d[2]=i[2]-o[2],g.default.cross(c,d,c);for(var v=0;v<3;v++)f=u[v],a[3*f]+=c[0],a[3*f+1]+=c[1],a[3*f+2]+=c[2]}m+=p+1}for(var h=0;h<a.length;h+=3)f=Math.sqrt(a[h]*a[h]+a[h+1]*a[h+1]+a[h+2]*a[h+2]),f=f||1,f=1/f,a[h]*=f,a[h+1]*=f,a[h+2]*=f;var y=l.default.newInstance({numberOfComponents:3,values:a});return y.setName("Normals"),e.getPointData().setNormals(y),e},e.onDataSurfaceData=function(n,r,a,i){n.getPointData()&&n.getPointData().removeAllArrays(),n.getCellData()&&n.getCellData().removeAllArrays();var o=e.computePointNormals(n);w.DataManagement.setData(r,o);var s=w.MultiView.getRenderWindow3D(),u=D.default.newInstance();u.setNodeIndex(r),u.setOrientation(s.getOrientation()),u.installPipeline(),s.addMapper(u);var l=M.default.newInstance();if(l.setPolyData(o),w.DataManagement.setNodeVolume(r,l.getPolyDataVolume()),t.curProgress>=100){w.DataManagement.initMaskImages(),e.initMaskMapperNodes();var c=e.updateAndGetEndTime(),d=c.stlTime,f=c.totalTime,m=c.navigationTime;s.resetCamera();var g={progress:t.curProgress,stlTime:d,totalTime:f,navigationTime:m,totalData:t.stlDataLength,totalDataZip:t.stlDataLengthZip,mode:a.getMode()};w.MultiView.onCallback("YcmLoadOnProgress",g)}else s.resetCamera()},e.onProressSurfaceData=function(t,n,r){e.onProressGeneral(t,n,r)},e.onErrorSurfaceData=function(t,n,r){w.DataManagement.setNodeVolume(n,0),e.onErrorGeneral(t,n,r)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,C,n),v.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(2),l=r(u),c=n(451),d=r(c),f=n(56),m=(r(f),n(1)),g=r(m),p=n(253),v=r(p),h=n(71),y=r(h),A=n(70),S=r(A),T=n(72),M=r(T),b=n(92),D=r(b),I=s.default.GlobalOptions,w=s.default.GlobalObjects,C={},N=t.newInstance=s.default.newInstance(i,"vtkRemoteSurfaceData");t.default={newInstance:N,extend:i}},function(e,t,n){"use strict";e.exports=n(41)},function(e,t,n){"use strict";var r=n(7),a=n(33),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,n,a,o,s,u,l,c=[],d=0,f=e.length,m=f,g="string"!==r.getTypeOf(e);d<e.length;)m=f-d,g?(t=e[d++],n=d<f?e[d++]:0,a=d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,a=d<f?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|n>>4,u=m>1?(15&n)<<2|a>>6:64,l=m>2?63&a:64,c.push(i.charAt(o)+i.charAt(s)+i.charAt(u)+i.charAt(l));return c.join("")},t.decode=function(e){var t,n,r,o,s,u,l,c=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");var f=3*e.length/4;if(e.charAt(e.length-1)===i.charAt(64)&&f--,e.charAt(e.length-2)===i.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");var m;for(m=a.uint8array?new Uint8Array(0|f):new Array(0|f);c<e.length;)o=i.indexOf(e.charAt(c++)),s=i.indexOf(e.charAt(c++)),u=i.indexOf(e.charAt(c++)),l=i.indexOf(e.charAt(c++)),t=o<<2|s>>4,n=(15&s)<<4|u>>2,r=(3&u)<<6|l,m[d++]=t,64!==u&&(m[d++]=n),64!==l&&(m[d++]=r);return m}},function(e,t,n){"use strict";var r=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=r)},function(e,t,n){"use strict";var r=n(462);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";var r=n(145),a=n(94).document,i=r(a)&&r(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,n){"use strict";(function(t){function r(e,t,n,r){var i=null;switch(e){case"blob":return s.newBlob(n,r);case"base64":return i=a(t,n),c.encode(i);default:return i=a(t,n),s.transformTo(e,i)}}function a(e,n){var r,a=0,i=null,o=0;for(r=0;r<n.length;r++)o+=n[r].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(i=new Uint8Array(o),r=0;r<n.length;r++)i.set(n[r],a),a+=n[r].length;return i;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}function i(e,t){return new f.Promise(function(n,a){var i=[],o=e._internalType,s=e._outputType,u=e._mimeType;e.on("data",function(e,n){i.push(e),t&&t(n)}).on("error",function(e){i=[],a(e)}).on("end",function(){try{var e=r(s,o,i,u);n(e)}catch(e){a(e)}i=[]}).resume()})}function o(e,t,n){var r=t;switch(t){case"blob":r="arraybuffer";break;case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,s.checkSupport(r),this._worker=e.pipe(new u(r)),e.lock()}catch(e){this._worker=new l("error"),this._worker.error(e)}}var s=n(7),u=n(475),l=n(19),c=n(236),d=n(33),f=n(58),m=null;if(d.nodestream)try{m=n(476)}catch(e){}o.prototype={accumulate:function(e){return i(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){s.delay(t,arguments,n)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=o}).call(t,n(8).Buffer)},function(e,t,n){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},function(e,t,n){"use strict";function r(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=a.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}var a=n(7),i=n(19);a.inherits(r,i),r.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=r},function(e,t,n){"use strict";function r(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}var a=n(7),i=n(19);a.inherits(r,i),r.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},e.exports=r},function(e,t,n){"use strict";function r(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var a=n(19),i=n(148);n(7).inherits(r,a),r.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=r},function(e,t,n){"use strict";var r=n(19);t.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=n(479)},function(e,t,n){"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},function(e,t,n){"use strict";var r=n(7),a=n(33),i=n(249),o=n(484),s=n(485),u=n(251);e.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||a.uint8array?"nodebuffer"===t?new s(e):a.uint8array?new u(r.transformTo("uint8array",e)):new i(r.transformTo("array",e)):new o(e)}},function(e,t,n){"use strict";function r(e){a.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}var a=n(250);n(7).inherits(r,a),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===t&&this.data[i+1]===n&&this.data[i+2]===r&&this.data[i+3]===a)return i-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),a=e.charCodeAt(3),i=this.readData(4);return t===i[0]&&n===i[1]&&r===i[2]&&a===i[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}var a=n(7);r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return a.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=r},function(e,t,n){"use strict";function r(e){a.call(this,e)}var a=n(249);n(7).inherits(r,a),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkIncrementalPointLocator")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(487),l=r(u),c={},d=t.newInstance=s.default.newInstance(i,"vtkIncrementalPointLocator");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkRemoteYcmData"),e.connectDataServer=function(){t.dataServer||(t.dataServer=d.default.newInstance(),t.dataServer.setServerUrl(t.serverUrl),t.dataServer.connect())},e.getDataServer=function(n){return n&&e.connectDataServer(),t.dataServer},e.prepareYcmData=function(){A.USE_DATA_SERVER?(e.connectDataServer(),t.downloaderYcm=p.default.newInstance({isBinary:!0}),t.downloaderYcm.setDataServer(t.dataServer)):(t.downloaderYcm=h.default.newInstance({isBinary:!0}),t.downloaderYcm.setServerUrl(t.serverUrl)),t.downloaderYcm.setFileUrl(A.YCM_PATH),t.downloaderYcm.setProgressMin(0),t.downloaderYcm.setProgressMax(100),t.downloaderYcm.setErrorCallback(e.onErrorYcmData),t.downloaderYcm.setProgressCallback(e.onProgressYcmData),t.downloaderYcm.setDataCallback(e.onDataYcmData),e.onDataYcmData(m.default)},e.downloadYcmData=function(){A.USE_DATA_SERVER?(e.connectDataServer(),t.downloaderYcm=p.default.newInstance({isBinary:!0}),t.downloaderYcm.setDataServer(t.dataServer)):(t.downloaderYcm=h.default.newInstance({isBinary:!0}),t.downloaderYcm.setServerUrl(t.serverUrl)),t.downloaderYcm.setFileUrl(A.YCM_PATH),t.downloaderYcm.setProgressMin(0),t.downloaderYcm.setProgressMax(100),t.downloaderYcm.setErrorCallback(e.onErrorYcmData),t.downloaderYcm.setProgressCallback(e.onProgressYcmData),t.downloaderYcm.setDataCallback(e.onDataYcmData),t.downloaderYcm.download()},e.onErrorYcmData=function(n){if(y("download ycm file error: "+A.YCM_PATH+", "+n),S.MultiView.getCallback("YcmLoadOnError")){var r={url:A.YCM_PATH,reason:n};S.MultiView.onCallback("YcmLoadOnError",r)}else{S.DataManagement.initMaskImages(),e.initMaskMapperNodes();var a=e.updateAndGetEndTime(),i={progress:100,stlTime:a.stlTime,totalTime:a.totalTime,navigationTime:a.navigationTime,totalData:0,result:"error",mode:t.downloaderYcm.getMode()};S.MultiView.onCallback("YcmLoadOnProgress",i)}},e.onProgressYcmData=function(e){},e.onDataYcmData=function(e){var t=null;if("string"==typeof e)t=e;else{var n=null;n=ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e),t=T.decode(n,"gb2312")}S.DataManagement.parseYcmData(t)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,M,n),l.default.extend(e,t,n),s.default.setGet(e,t,["serverUrl"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(489),l=r(u),c=n(170),d=r(c),f=n(490),m=r(f),g=n(71),p=r(g),v=n(70),h=r(v),y=s.default.vtkErrorMacro,A=s.default.GlobalOptions,S=s.default.GlobalObjects,T=n(491),M={serverUrl:null,dataServer:null,downloaderYcm:null},b=t.newInstance=s.default.newInstance(i,"vtkRemoteYcmData");t.default={newInstance:b,extend:i}},function(e,t){e.exports=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]},function(e,t){e.exports=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yMaskNodeMapToPlane"),e.getVisible=function(){var e=y.DataManagement.getNodeProperty(t.nodeIndex,"visible");if(e){var n=y.DataManagement.getVisibleRootIndex();n<0&&(e=0),e&&(e=n===y.DataManagement.getNodeProperty(t.nodeIndex,"parent_index")?1:0)}return e},e.setImageData2D=function(n){var r=m.default.newInstance();t.imageReslice=r,r.setInputData(n),0===t.orientation||1===t.orientation?r.setOriginZ(.25):r.setOriginZ(-.25);var a=y.DataManagement.getNodeProperty(t.nodeIndex,"mask_bit"),i=128;i>>=8-a-1;var o=255&i;r.setMasks([o]);var s=y.MultiView.getRenderWindow(t.orientation),u=y.MultiView.getCurrentSlices();r.setOrientation(t.orientation),r.setSliceIndex(u[t.orientation]);var c=y.DataManagement.getNodeProperty(t.nodeIndex,"color"),f=y.DataManagement.getNodeProperty(t.nodeIndex,"opacity"),g=[Math.floor(255*c[0]),Math.floor(255*c[1]),Math.floor(255*c[2]),255];t.lookupTable.setBackgroundColor(255,255,255,0),f>0?t.lookupTable.setForegroundColor(g[0],g[1],g[2],Math.floor(255*f)):t.lookupTable.setForegroundColor(g[0],g[1],g[2],Math.floor(51)),t.lookupTable.setInputConnection(r.getOutputPort());var p=l.default.newInstance();p.setInputConnection(t.lookupTable.getOutputPort()),p.setKSlice(0);var v=d.default.newInstance();v.setMapper(p);var h=e.getVisible();v.setVisibility(h),v.setRenderOrder(1),t.imageActor2D=v,h?s.addActor(v):s.removeActor(v)},e.updateWindowLevel=function(){if(t.imageActor2D){var n=y.DataManagement.getNodeProperty(t.nodeIndex,"color"),r=y.DataManagement.getNodeProperty(t.nodeIndex,"opacity"),a=[Math.floor(255*n[0]),Math.floor(255*n[1]),Math.floor(255*n[2]),255];a[3]=r>0?Math.floor(255*r):Math.floor(51);var i=t.lookupTable.getMTime();t.lookupTable.setBackgroundColor(255,255,255,0),t.lookupTable.setForegroundColor(a[0],a[1],a[2],a[3]),i!==t.lookupTable.getMTime()&&e.updateUpdateFlags()}},e.updateReslicePosition=function(){if(t.imageReslice){var n=y.DataManagement.getData(t.nodeIndex);if(n){var r=y.MultiView.getReslicePosition(),a=n.getOrigin(),i=n.getSpacing(),o=t.imageReslice.getMTime(),s=Math.floor((r[2]-a[2])/i[2]+.5),u=Math.floor((r[1]-a[1])/i[1]+.5),l=Math.floor((r[0]-a[0])/i[0]+.5);0===t.orientation?t.imageReslice.setSliceIndex(l):1===t.orientation?t.imageReslice.setSliceIndex(u):t.imageReslice.setSliceIndex(s),o!==t.imageReslice.getMTime()&&e.updateUpdateFlags()}}},e.installPipeline=function(){var n=y.DataManagement.getData(t.nodeIndex);e.setImageData2D(n),e.updateReslicePosition(),e.updateWindowLevel(),e.updateUpdateFlags()},e.updatePipeline=function(){var n=y.MultiView.getRenderWindow(t.orientation),r=t.imageActor2D.getVisibility(),a=e.getVisible();if(r!==a&&e.updateUpdateFlags(),!a)return t.imageActor2D.setVisibility(a),void n.removeActor(t.imageActor2D);e.updateReslicePosition(),e.updateWindowLevel(),t.imageActor2D.setVisibility(a),n.addActor(t.imageActor2D)},e.uninstallPipeline=function(){t.imageActor2D&&(y.MultiView.getRenderWindow(t.orientation).removeActor(t.imageActor2D),t.imageActor2D=null,e.updateUpdateFlags())}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),h.default.extend(e,t,n),s.default.get(e,t,["imageActor2D"]),t.lookupTable=p.default.newInstance(),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(257),l=r(u),c=n(258),d=r(c),f=n(259),m=r(f),g=n(260),p=r(g),v=n(57),h=r(v),y=s.default.GlobalObjects,A={imageReslice:null,lookupTable:null,imageActor2D:null},S=t.newInstance=s.default.newInstance(i,"yMaskNodeMapToPlane");t.default={newInstance:S,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(){var n=void 0;switch(t.slicingMode){case y.X:n=[1,0,0];break;case y.Y:n=[0,1,0];break;case y.Z:n=[0,0,1];break;default:return void(t.closestIJKAxis={ijkMode:t.slicingMode,flip:!1})}var r=[0,0,0],a=e.getInputData().getDirection(),i=[[a[0],a[1],a[2]],[a[3],a[4],a[5]],[a[6],a[7],a[8]]];m.multiply3x3_vect3(i,n,r);for(var o=0,s=-1,u=!1,l=0;l<r.length;++l){var c=Math.abs(r[l]);c>o&&(o=c,u=r[l]<0,s=l)}if(1!==o){var d="IJKXYZ"[t.slicingMode];h("Unaccurate slicing along "+d+" axis which is not aligned with any IJK axis of the image data. Using "+"IJKXYZ"[s]+" axis  as a fallback ("+o+"% aligned). Necessitates slice reformat that is not yet implemented.  You can switch the slicing mode on your mapper to do IJK slicing instead.")}t.closestIJKAxis={ijkMode:s,flip:u}}function r(n,r){var a=e.getInputData(),i=a.getExtent(),o=[i[0],i[2],i[4]],s=e.getClosestIJKAxis(),u=s.ijkMode,l=t.slice;u!==t.slicingMode&&(l=e.getSliceAtPosition(l)),o[u]+=l;var c=[0,0,0];a.indexToWorld(o,c),o[u]+=1;var d=[0,0,0];a.indexToWorld(o,d),d[0]-=c[0],d[1]-=c[1],d[2]-=c[2],v.vec3.normalize(d,d);var f=p.default.intersectWithLine(n,r,c,d);if(f.intersection){var m=f.x,g=[0,0,0];return a.worldToIndex(m,g),{t:f.t,absoluteIJK:g}}return null}t.classHierarchy.push("vtkImageMapper"),e.getSliceAtPosition=function(n){var r=e.getInputData(),a=void 0;if(3===n.length)a=n;else if(Number.isFinite(n)){var i=r.getBounds();switch(t.slicingMode){case y.X:a=[n,(i[3]+i[2])/2,(i[5]+i[4])/2];break;case y.Y:a=[(i[1]+i[0])/2,n,(i[5]+i[4])/2];break;case y.Z:a=[(i[1]+i[0])/2,(i[3]+i[2])/2,n]}}var o=[0,0,0];r.worldToIndex(a,o);var s=r.getExtent(),u=e.getClosestIJKAxis(),l=u.ijkMode,c=0;switch(l){case y.I:c=m.clampValue(o[0],s[0],s[1]),c=Math.round(c);break;case y.J:c=m.clampValue(o[1],s[2],s[3]),c=Math.round(c);break;case y.K:c=m.clampValue(o[2],s[4],s[5]),c=Math.round(c);break;default:return 0}return c},e.setSliceFromCamera=function(n){var r=n.getFocalPoint();switch(t.slicingMode){case y.I:case y.J:case y.K:var a=e.getSliceAtPosition(r);e.setSlice(a);break;case y.X:e.setSlice(r[0]);break;case y.Y:e.setSlice(r[1]);break;case y.Z:e.setSlice(r[2])}},e.setXSlice=function(t){e.setSlicingMode(y.X),e.setSlice(t)},e.setYSlice=function(t){e.setSlicingMode(y.Y),e.setSlice(t)},e.setZSlice=function(t){e.setSlicingMode(y.Z),e.setSlice(t)},e.setISlice=function(t){e.setSlicingMode(y.I),e.setSlice(t)},e.setJSlice=function(t){e.setSlicingMode(y.J),e.setSlice(t)},e.setKSlice=function(t){e.setSlicingMode(y.K),e.setSlice(t)},e.getSlicingModeNormal=function(){var n=[0,0,0],r=e.getInputData().getDirection(),a=[[r[0],r[1],r[2]],[r[3],r[4],r[5]],[r[6],r[7],r[8]]];switch(t.slicingMode){case y.X:n[0]=1;break;case y.Y:n[1]=1;break;case y.Z:n[2]=1;break;case y.I:m.multiply3x3_vect3(a,[1,0,0],n);break;case y.J:m.multiply3x3_vect3(a,[0,1,0],n);break;case y.K:m.multiply3x3_vect3(a,[0,0,1],n)}return n},e.setSlicingMode=function(r){t.slicingMode!==r&&(t.slicingMode=r,e.getInputData()&&n(),e.modified())},e.getClosestIJKAxis=function(){return void 0!==t.closestIJKAxis&&t.closestIJKAxis.ijkMode!==y.NONE||!e.getInputData()||n(),t.closestIJKAxis},e.getBounds=function(){var n=e.getInputData();if(!n)return m.createUninitializedBounds();if(!t.useCustomExtents)return n.getBounds();var r=t.customDisplayExtent.slice(),a=e.getClosestIJKAxis(),i=a.ijkMode,o=t.slice;switch(i!==t.slicingMode&&(o=e.getSliceAtPosition(t.slice)),i){case y.I:r[0]=o,r[1]=o;break;case y.J:r[2]=o,r[3]=o;break;case y.K:r[4]=o,r[5]=o}return n.extentToBounds(r)},e.getBoundsForSlice=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.slice,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=e.getInputData();if(!a)return m.createUninitializedBounds();var i=a.getExtent(),o=e.getClosestIJKAxis(),s=o.ijkMode,u=n;switch(s!==t.slicingMode&&(u=e.getSliceAtPosition(n)),s){case y.I:i[0]=u-r,i[1]=u+r;break;case y.J:i[2]=u-r,i[3]=u+r;break;case y.K:i[4]=u-r,i[5]=u+r}return a.extentToBounds(i)},e.getIsOpaque=function(){return!0},e.intersectWithLineForPointPicking=function(t,n){var a=r(t,n);if(a){var i=e.getInputData(),o=i.getExtent(),s=[Math.round(a.absoluteIJK[0]),Math.round(a.absoluteIJK[1]),Math.round(a.absoluteIJK[2])];return s[0]<o[0]||s[0]>o[1]||s[1]<o[2]||s[1]>o[3]||s[2]<o[4]||s[2]>o[5]?null:{t:a.t,ijk:s}}return null},e.intersectWithLineForCellPicking=function(t,n){var a=r(t,n);if(a){var i=e.getInputData(),o=i.getExtent(),s=a.absoluteIJK,u=[Math.floor(s[0]),Math.floor(s[1]),Math.floor(s[2])];if(u[0]<o[0]||u[0]>o[1]-1||u[1]<o[2]||u[1]>o[3]-1||u[2]<o[4]||u[2]>o[5]-1)return null;var l=[s[0]-u[0],s[1]-u[1],s[2]-u[2]];return{t:a.t,ijk:u,pCoords:l}}return null}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),d.default.extend(e,t,n),l.default.get(e,t,["slicingMode"]),l.default.setGet(e,t,["slice","closestIJKAxis","useCustomExtents","renderToRectangle","sliceAtFocalPoint"]),l.default.setGetArray(e,t,["customDisplayExtent"],4),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(221),s=r(o),u=n(0),l=r(u),c=n(127),d=r(c),f=n(1),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),g=n(60),p=r(g),v=n(3),h=l.default.vtkWarningMacro,y=s.default.SlicingMode,A={displayExtent:[0,0,0,0,0,0],customDisplayExtent:[0,0,0,0],useCustomExtents:!1,slice:0,slicingMode:y.NONE,closestIJKAxis:{ijkMode:y.NONE,flip:!1},renderToRectangle:!1,sliceAtFocalPoint:!1},S=t.newInstance=l.default.newInstance(i,"vtkImageMapper");t.default=Object.assign({newInstance:S,extend:i},s.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkImageSlice"),e.getActors=function(){return e},e.getImages=function(){return e},e.getIsOpaque=function(){if(t.forceOpaque)return!0;if(t.forceTranslucent)return!1;t.property||e.getProperty();var n=t.property.getOpacity()>=1;return n=n&&(!t.mapper||t.mapper.getIsOpaque())},e.hasTranslucentPolygonalGeometry=function(){return!1},e.makeProperty=f.default.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n=t.mapper.getBounds();if(!n||6!==n.length)return n;if(n[0]>n[1])return t.mapperBounds=n.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),n;if(!t.mapperBounds||!function(e){return e[0].map(function(t,n){return e.map(function(e){return e[n]})})}([n,t.mapperBounds]).reduce(function(e,t){return e&&t[0]===t[1]},!0)||e.getMTime()>t.boundsMTime.getMTime()){m("Recomputing bounds..."),t.mapperBounds=n.map(function(e){return e});var r=[o.vec3.fromValues(n[1],n[3],n[5]),o.vec3.fromValues(n[1],n[2],n[5]),o.vec3.fromValues(n[0],n[2],n[5]),o.vec3.fromValues(n[0],n[3],n[5]),o.vec3.fromValues(n[1],n[3],n[4]),o.vec3.fromValues(n[1],n[2],n[4]),o.vec3.fromValues(n[0],n[2],n[4]),o.vec3.fromValues(n[0],n[3],n[4])];e.computeMatrix();var a=o.mat4.create();o.mat4.transpose(a,t.matrix),r.forEach(function(e){return o.vec3.transformMat4(e,e,a)}),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map(function(e,t){return t%2==0?r.reduce(function(e,n){return e>n[t/2]?n[t/2]:e},e):r.reduce(function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e},e)}),t.boundsMTime.modified()}return t.bounds},e.getBoundsForSlice=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=t.mapper.getBoundsForSlice(n,r);if(!a||6!==a.length)return a;if(a[0]>a[1])return a;var i=[o.vec3.fromValues(a[1],a[3],a[5]),o.vec3.fromValues(a[1],a[2],a[5]),o.vec3.fromValues(a[0],a[2],a[5]),o.vec3.fromValues(a[0],a[3],a[5]),o.vec3.fromValues(a[1],a[3],a[4]),o.vec3.fromValues(a[1],a[2],a[4]),o.vec3.fromValues(a[0],a[2],a[4]),o.vec3.fromValues(a[0],a[3],a[4])];e.computeMatrix();var s=o.mat4.create();o.mat4.transpose(s,t.matrix),i.forEach(function(e){return o.vec3.transformMat4(e,e,s)});var u=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE];return u=u.map(function(e,t){return t%2==0?i.reduce(function(e,n){return e>n[t/2]?n[t/2]:e},e):i.reduce(function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e},e)})},e.getMinXBound=function(){return e.getBounds(),t.bounds[0]},e.getMaxXBound=function(){return e.getBounds(),t.bounds[1]},e.getMinYBound=function(){return e.getBounds(),t.bounds[2]},e.getMaxYBound=function(){return e.getBounds(),t.bounds[3]},e.getMinZBound=function(){return e.getBounds(),t.bounds[4]},e.getMaxZBound=function(){return e.getBounds(),t.bounds[5]},e.getMTime=function(){var e=t.mtime;if(null!==t.property){var n=t.property.getMTime();e=n>e?n:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),n=t.mapper.getInput().getMTime(),e=n>e?n:e)}if(null!==t.property){var r=t.property.getMTime();e=r>e?r:e,null!==t.property.getRGBTransferFunction()&&(r=t.property.getRGBTransferFunction().getMTime(),e=r>e?r:e)}return e},e.getSupportsSelection=function(){return!!t.mapper&&t.mapper.getSupportsSelection()}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),c.default.extend(e,t,n),t.boundsMTime={},u.default.obj(t.boundsMTime),u.default.set(e,t,["property"]),u.default.setGet(e,t,["mapper","shortDesc"]),u.default.getArray(e,t,["bounds"],6),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(126),c=r(l),d=n(509),f=r(d),m=u.default.vtkDebugMacro,g={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1],shortDesc:"NORMAL"},p=t.newInstance=u.default.newInstance(i,"vtkImageSlice");t.default={newInstance:p,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkImageResliceMaskBits"),e.requestData=function(n,r){var a=n[0];if(!a)return void f("Invalid or missing input");if(t.orientation<0||t.orientation>2)return void f("Invalid orientation: "+t.orientation);var i=a.getPointData().getScalars();if(!i)return void f("No scalars from input");var o=a.getOrigin(),s=a.getExtent(),u=a.getSpacing(),c=a.getDimensions(),m=[0,0,t.originZ],g=[0,0,0,0,0,0],p=[1,1,1],v=0,h=1;0===t.orientation?(v=1,h=2):1===t.orientation&&(v=0,h=2);var y=[s[2*v+1]-s[2*v]+1,s[2*h+1]-s[2*h]+1];g[1]=y[0]-1,g[3]=y[1]-1,m[0]=o[v]+s[2*v]*u[v],m[1]=o[h]+s[2*h]*u[h],p[0]=u[v],p[1]=u[h];var A=i.getNumberOfComponents(),S=i.getData(),T=new S.constructor(y[0]*y[1]*A),M=t.sliceIndex;M<0&&(M=0),M>=c[t.orientation]&&(M=c[t.orientation]-1),t.flipX||t.flipY?e.extractDataWithFlip(T,S,y,c,A,M):e.extractDataNoFlip(T,S,y,c,A,M);var b=d.default.newInstance({name:i.getName(),numberOfComponents:A,values:T}),D=l.default.newInstance();D.setOrigin(m),D.setExtent.apply(D,g),D.setSpacing(p),D.getPointData().setScalars(b),r[0]=D},e.extractDataNoFlip=function(e,n,r,a,i,o){var s=t.orientation,u=0;if(1===i)for(var l=0;l<r[1];l++)for(var c=0;c<r[0];c++){var d=0;d=0===s?l*a[0]*a[1]+c*a[0]+o:1===s?l*a[0]*a[1]+o*a[0]+c:o*a[0]*a[1]+l*a[0]+c,e[u++]=n[d]&t.masks[0]}else if(2===i)for(var f=0;f<r[1];f++)for(var m=0;m<r[0];m++){var g=0;g=0===s?2*(f*a[0]*a[1]+m*a[0]+o):1===s?2*(f*a[0]*a[1]+o*a[0]+m):2*(o*a[0]*a[1]+f*a[0]+m),e[u++]=n[g++]&t.masks[0],e[u++]=n[g]&t.masks[1]}else if(3===i)for(var p=0;p<r[1];p++)for(var v=0;v<r[0];v++){var h=0;h=0===s?3*(p*a[0]*a[1]+v*a[0]+o):1===s?3*(p*a[0]*a[1]+o*a[0]+v):3*(o*a[0]*a[1]+p*a[0]+v),e[u++]=n[h++]&t.masks[0],e[u++]=n[h++]&t.masks[1],e[u++]=n[h]&t.masks[2]}else for(var y=0;y<r[1];y++)for(var A=0;A<r[0];A++){var S=0;S=0===s?(y*a[0]*a[1]+A*a[0]+o)*i:1===s?(y*a[0]*a[1]+o*a[0]+A)*i:(o*a[0]*a[1]+y*a[0]+A)*i;for(var T=0;T<i;T++)e[u++]=n[S++]&t.masks[T]}},e.extractDataWithFlip=function(e,n,r,a,i,o){var s=t.orientation,u=0;if(1===i)for(var l=0;l<r[1];l++)for(var c=0;c<r[0];c++){var d=0,f=t.flipX?r[0]-c-1:c,m=t.flipY?r[1]-l-1:l;d=0===s?m*a[0]*a[1]+f*a[0]+o:1===s?m*a[0]*a[1]+o*a[0]+f:o*a[0]*a[1]+m*a[0]+f,e[u++]=n[d]&t.masks[0]}else if(2===i)for(var g=0;g<r[1];g++)for(var p=0;p<r[0];p++){var v=0,h=t.flipX?r[0]-p-1:p,y=t.flipY?r[1]-g-1:g;v=0===s?2*(y*a[0]*a[1]+h*a[0]+o):1===s?2*(y*a[0]*a[1]+o*a[0]+h):2*(o*a[0]*a[1]+y*a[0]+h),e[u++]=n[v++]&t.masks[0],e[u++]=n[v]&t.masks[1]}else if(3===i)for(var A=0;A<r[1];A++)for(var S=0;S<r[0];S++){var T=0,M=t.flipX?r[0]-S-1:S,b=t.flipY?r[1]-A-1:A;T=0===s?3*(b*a[0]*a[1]+M*a[0]+o):1===s?3*(b*a[0]*a[1]+o*a[0]+M):3*(o*a[0]*a[1]+b*a[0]+M),e[u++]=n[T++]&t.masks[0],e[u++]=n[T++]&t.masks[1],e[u++]=n[T]&t.masks[2]}else for(var D=0;D<r[1];D++)for(var I=0;I<r[0];I++){var w=0,C=t.flipX?r[0]-I-1:I,N=t.flipY?r[1]-D-1:D;w=0===s?(N*a[0]*a[1]+C*a[0]+o)*i:1===s?(N*a[0]*a[1]+o*a[0]+C)*i:(o*a[0]*a[1]+N*a[0]+C)*i;for(var P=0;P<i;P++)e[u++]=n[w++]&t.masks[P]}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),s.default.obj(e,t),s.default.algo(e,t,1,1),s.default.setGet(e,t,["sliceIndex","orientation","originZ","flipX","flipY","masks"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(22),l=r(u),c=n(2),d=r(c),f=s.default.vtkErrorMacro,m={orientation:2,sliceIndex:0,originZ:0,flipX:0,flipY:0,masks:[4294967295]},g=t.newInstance=s.default.newInstance(i,"vtkImageResliceMaskBits");t.default={newInstance:g,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("vtkImageDataLookup"),e.requestData=function(e,n){var r=e[0];if(!r)return void m("Invalid or missing input");var i=r.getPointData().getScalars();if(!i)return void m("No scalars from input");var o=i.getNumberOfComponents();if(1!==o)return void m("Unsupported numberOfComponents: "+o);for(var s=r.getOrigin(),u=r.getExtent(),l=r.getSpacing(),d=r.getDimensions(),g=d[0]*d[1]*d[2],p=i.getData(),v=new Uint8Array(4*g),h=t.backgroundColor,y=t.foregroundColor,A=0,S=0;S<g;S++)p[S]?(v[A]=y[0],v[A+1]=y[1],v[A+2]=y[2],v[A+3]=y[3]):(v[A]=h[0],v[A+1]=h[1],v[A+2]=h[2],v[A+3]=h[3]),A+=4;var T=f.default.newInstance({name:i.getName(),numberOfComponents:4,values:v}),M=c.default.newInstance();M.setOrigin(s),M.setExtent.apply(M,a(u)),M.setSpacing(l),M.getPointData().setScalars(T),n[0]=M}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),u.default.obj(e,t),u.default.algo(e,t,1,1),u.default.setGetArray(e,t,["foregroundColor","backgroundColor"],4),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(22),c=r(l),d=n(2),f=r(d),m=u.default.vtkErrorMacro,g={foregroundColor:[0,0,0,255],backgroundColor:[255,255,255,255]},p=t.newInstance=u.default.newInstance(o,"vtkImageDataLookup");t.default={newInstance:p,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkMetaImageReader"),e.parseAsArrayBuffer=function(n){if(n&&n!==t.parseData){e.modified(),t.parseData=n;var r=null;r=ArrayBuffer.isView(n)?n:new DataView(n);var a=l.default.newInstance();if(!t.metaImagePtr.Read(r,!0))return void M("MetaImage cannot parse file.");if(e.setFileDimensionality(t.metaImagePtr.getNDims()),t.fileDimensionality<=0||t.fileDimensionality>=4)return void M("Only understands image data of 1, 2, and 3 dimensions. This image has "+t.fileDimensionality+"  dimensions");var i=t.metaImagePtr.getElementType();switch(i){case A.MET_NONE:case A.MET_ASCII_CHAR:case A.MET_LONG_LONG:case A.MET_ULONG_LONG:case A.MET_STRING:case A.MET_LONG_LONG_ARRAY:case A.MET_ULONG_LONG_ARRAY:case A.MET_FLOAT_ARRAY:case A.MET_DOUBLE_ARRAY:case A.MET_FLOAT_MATRIX:case A.MET_OTHER:default:return void M("Unknown data type: "+i);case A.MET_CHAR:case A.MET_CHAR_ARRAY:t.dataScalarType=c.VtkDataTypes.CHAR;break;case A.MET_UCHAR:case A.MET_UCHAR_ARRAY:t.dataScalarType=c.VtkDataTypes.UNSIGNED_CHAR;break;case A.MET_SHORT:case A.MET_SHORT_ARRAY:t.dataScalarType=c.VtkDataTypes.SHORT;break;case A.MET_USHORT:case A.MET_USHORT_ARRAY:t.dataScalarType=c.VtkDataTypes.UNSIGNED_SHORT;break;case A.MET_INT:case A.MET_INT_ARRAY:t.dataScalarType=c.VtkDataTypes.INT;break;case A.MET_UINT:case A.MET_UINT_ARRAY:t.dataScalarType=c.VtkDataTypes.UNSIGNED_INT;break;case A.MET_LONG:case A.MET_LONG_ARRAY:t.dataScalarType=c.VtkDataTypes.INT;break;case A.MET_ULONG:case A.MET_ULONG_ARRAY:t.dataScalarType=c.VtkDataTypes.UNSIGNED_INT;break;case A.MET_FLOAT:t.dataScalarType=c.VtkDataTypes.FLOAT;break;case A.MET_DOUBLE:t.dataScalarType=c.VtkDataTypes.DOUBLE}var o=t.metaImagePtr.getDimSize(),s=[0,o[0]-1,0,o[1]-1,0,o[2]-1],u=t.metaImagePtr.getElementSpacing(),d=t.metaImagePtr.getOffset(),m=t.metaImagePtr.getElementNumberOfChannels();a.setExtent.apply(a,s),a.setSpacing(u),a.setOrigin(d);var g=f.default.newInstance({numberOfComponents:m,values:t.metaImagePtr.getElementData()});switch(a.getPointData().setScalars(g),g.setName("MetaImage"),e.setDataExtent(s),e.setDataSpacing(u),e.setDataOrigin(d),e.setHeaderSize(t.metaImagePtr.getHeaderSize()),e.setFileLowerLeft(1),t.metaImagePtr.getDistanceUnits()){default:case S.MET_DISTANCE_UNITS_UNKNOWN:case S.MET_DISTANCE_UNITS_UM:t.distanceUnits="um";break;case S.MET_DISTANCE_UNITS_MM:t.distanceUnits="mm";break;case S.MET_DISTANCE_UNITS_CM:t.distanceUnits="cm"}t.rescaleSlope=t.metaImagePtr.getElementToIntensityFunctionSlope(),t.rescaleOffset=t.metaImagePtr.getElementToIntensityFunctionOffset(),t.metaImagePtr.getModality()===T.MET_MOD_CT?t.modality="CT":t.metaImagePtr.getModality()===T.MET_MOD_MR?t.modality="MR":t.modality="?",t.output[0]=a}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,b,n),g.default.extend(e,t,n),t.metaImagePtr=v.default.newInstance(),s.default.setGet(e,t,["anatomicalOrientation","rescaleSlope","rescaleOffset","modality"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(22),l=r(u),c=n(5),d=n(2),f=r(d),m=n(262),g=r(m),p=n(510),v=r(p),h=n(263),y=r(h),A=y.default.METValueEnumType,S=y.default.METDistanceUnitsEnumType,T=y.default.METImageModalityEnumType,M=s.default.vtkErrorMacro,b={parseData:null,metaImagePtr:null,distanceUnits:"mm",anatomicalOrientation:"RAS",rescaleSlope:1,rescaleOffset:0,modality:"?"},D=t.newInstance=s.default.newInstance(i,"vtkMetaImageReader");t.default={newInstance:D,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkImageReader2")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,u,n),o.default.obj(e,t),o.default.algo(e,t,0,1),o.default.setGet(e,t,["fileDimensionality","dataScalarType","headerSize","fileLowerLeft"]),o.default.setGetArray(e,t,["dataExtent"],6),o.default.setGetArray(e,t,["dataSpacing","dataOrigin"],3),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(5),u={fileDimensionality:2,dataScalarType:s.VtkDataTypes.SHORT,dataExtent:[0,0,0,0,0,0],dataSpacing:[1,1,1],dataOrigin:[1,1,1],headerSize:0,fileLowerLeft:0},l=t.newInstance=o.default.newInstance(a,"vtkImageReader2");t.default={newInstance:l,extend:a}},function(e,t,n){"use strict";function r(e){return e===w||e===I||e===D}function a(e){return e===w||e===I}function i(e,t){for(var n=e.ci,r="",a=0,i=0;n<e.byteLength&&i<t;i++){if((a=e.getUint8(n++))===b||a===D){a===b&&n<e.byteLength&&e.getUint8(n)===D&&n++;break}r+=String.fromCharCode(a)}return e.ci=n,r}function o(e){for(var t=e.ci,n="",a=0;t<e.byteLength;)if(a=e.getUint8(t++),!r(a)){t--;break}for(;t<e.byteLength&&(!((a=e.getUint8(t++))<C||a>N)||a===P);)n+=String.fromCharCode(a);return t<e.byteLength&&--t,e.ci=t,Number(n)}function s(e){var t=e.ci;if(t>=e.byteLength)return!1;for(var n=e.getUint8(t++);t<e.byteLength&&n!==T&&n!==M;)n=e.getUint8(t++);for(;t<e.byteLength&&(n===T||n===M||a(n));)n=e.getUint8(t++);return t>=e.byteLength?(e.ci=t,A("Incomplete file record definition"),!1):(e.ci=--t,!0)}function u(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i={};return i.name=e,i.type=t,i.required=n,i.dependsOn=r,i.defined=!1,i.length=a,i.value=[0],i.terminateRead=!1,i}function l(e,t){for(var n=0;n<t.length;n++)if(t[n].name===e)return n;return-1}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e)return r}return null}function d(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.required&&!n.defined)return A(n.name+" required and not defined."),!1}return!0}function f(e){return e<0||e>=L.length?-1:L[e]}function m(){}function g(e,t,n,r){switch(t){case _.MET_ASCII_CHAR:case _.MET_CHAR:case _.MET_CHAR_ARRAY:return n[r]=e,!0;case _.MET_UCHAR:case _.MET_UCHAR_ARRAY:return n[r]=e,!0;case _.MET_SHORT:case _.MET_SHORT_ARRAY:return n[r]=e,!0;case _.MET_USHORT:case _.MET_USHORT_ARRAY:return n[r]=e,!0;case _.MET_INT:case _.MET_INT_ARRAY:return n[r]=e,!0;case _.MET_LONG:case _.MET_LONG_ARRAY:return n[r]=e,!0;case _.MET_UINT:case _.MET_UINT_ARRAY:return n[r]=e,!0;case _.MET_ULONG:case _.MET_ULONG_ARRAY:return n[r]=e,!0;case _.MET_LONG_LONG:case _.MET_LONG_LONG_ARRAY:return n[r]=e,!0;case _.MET_ULONG_LONG:case _.MET_ULONG_LONG_ARRAY:return n[r]=e,!0;case _.MET_FLOAT:case _.MET_FLOAT_ARRAY:case _.MET_FLOAT_MATRIX:return n[r]=e,!0;case _.MET_DOUBLE:case _.MET_DOUBLE_ARRAY:case _.MET_STRING:return n[r]=e,!0;case _.MET_NONE:case _.MET_OTHER:default:return!1}}function p(e,t){t.classHierarchy.push("MetaObject"),e.ClearFields=function(){t.fields.length=0},e.ClearUserFields=function(){t.userDefinedWriteFields.length=0,t.userDefinedReadFields.length=0},e.ClearAdditionalFields=function(){t.additionalReadFields.length=0},e.MDestroy=function(){},e.Clear=function(){e.ClearFields(),e.ClearAdditionalFields()},e.MSetupReadFields=function(){e.ClearFields();var n=u("Comment",_.MET_STRING,!1);t.fields.push(n),n=u("AcquisitionDate",_.MET_STRING,!1),t.fields.push(n),n=u("ObjectType",_.MET_STRING,!1),t.fields.push(n),n=u("ObjectSubType",_.MET_STRING,!1),t.fields.push(n),n=u("NDims",_.MET_INT,!0),n.required=!0,t.fields.push(n);var r=l("NDims",t.fields);n=u("Name",_.MET_STRING,!1),t.fields.push(n),n=u("ID",_.MET_INT,!1),t.fields.push(n),n=u("ParentID",_.MET_INT,!1),t.fields.push(n),n=u("AcquisitionDate",_.MET_STRING,!1),t.fields.push(n),n=u("CompressedData",_.MET_STRING,!1),t.fields.push(n),n=u("CompressedDataSize",_.MET_FLOAT,!1),t.fields.push(n),n=u("BinaryData",_.MET_STRING,!1),t.fields.push(n),n=u("ElementByteOrderMSB",_.MET_STRING,!1),t.fields.push(n),n=u("BinaryDataByteOrderMSB",_.MET_STRING,!1),t.fields.push(n),n=u("Color",_.MET_FLOAT_ARRAY,!1,-1,4),t.fields.push(n),n=u("Position",_.MET_FLOAT_ARRAY,!1,r),t.fields.push(n),n=u("Origin",_.MET_FLOAT_ARRAY,!1,r),t.fields.push(n),n=u("Offset",_.MET_FLOAT_ARRAY,!1,r),t.fields.push(n),n=u("TransformMatrix",_.MET_FLOAT_MATRIX,!1,r),t.fields.push(n),n=u("Rotation",_.MET_FLOAT_MATRIX,!1,r),t.fields.push(n),n=u("Orientation",_.MET_FLOAT_MATRIX,!1,r),t.fields.push(n),n=u("CenterOfRotation",_.MET_FLOAT_ARRAY,!1,r),t.fields.push(n),n=u("DistanceUnits",_.MET_STRING,!1),t.fields.push(n),n=u("AnatomicalOrientation",_.MET_STRING,!1),t.fields.push(n),n=u("ElementSpacing",_.MET_FLOAT_ARRAY,!1,r),n.required=!1,t.fields.push(n),t.userDefinedReadFields.forEach(function(e){t.fields.push(e)})},e.MSetupWriteFields=function(){e.ClearFields()},e.METRead=function(){var e=t.parseData,n=e.byteLength,a=0;for(e.ci=0;e.ci<n;){for(a=e.getUint8(e.ci++);e.ci<n&&a!==T&&a!==M&&r(a);)a=e.getUint8(e.ci++);for(var l="";e.ci<n&&a!==T&&a!==M&&a!==b&&a!==D&&l.length<500;)l+=String.fromCharCode(a),a=e.getUint8(e.ci++);if(e.ci>=n||l.length>=500)break;e.ci--,l=l.trim();for(var c=!1,f=0;f<t.fields.length;f++){var m=t.fields[f];if(m.name===l){if(m.dependsOn>=0&&!t.fields[m.dependsOn].defined)return A(m.name+" defined prior to defining "+t.fields[m.dependsOn].name),!1;switch(m.type){case _.MET_NONE:l=i(e,500);break;case _.MET_ASCII_CHAR:if(s(e),e.ci>=n)break;a=e.getUint8(e.ci++),m.value[0]=a,l=i(e,500);break;default:case _.MET_CHAR:case _.MET_UCHAR:case _.MET_SHORT:case _.MET_USHORT:case _.MET_INT:case _.MET_UINT:case _.MET_LONG:case _.MET_ULONG:case _.MET_LONG_LONG:case _.MET_ULONG_LONG:case _.MET_FLOAT:case _.MET_DOUBLE:if(s(e),e.ci>=n)break;m.value[0]=o(e),l=i(e,500);break;case _.MET_STRING:if(s(e),e.ci>=n)break;m.value=i(e,500),m.value=m.value.trimEnd(),m.length=m.value.length;break;case _.MET_CHAR_ARRAY:case _.MET_UCHAR_ARRAY:case _.MET_SHORT_ARRAY:case _.MET_USHORT_ARRAY:case _.MET_INT_ARRAY:case _.MET_UINT_ARRAY:case _.MET_LONG_ARRAY:case _.MET_ULONG_ARRAY:case _.MET_LONG_LONG_ARRAY:case _.MET_ULONG_LONG_ARRAY:case _.MET_FLOAT_ARRAY:case _.MET_DOUBLE_ARRAY:if(s(e),e.ci>=n)break;if(m.dependsOn>=0){m.length=t.fields[m.dependsOn].value[0];for(var g=0;g<m.length;g++)m.value[g]=o(e)}else{if(m.length<=0)return A("Arrays must have dependency or pre-specified lengths"),!1;for(var p=0;p<m.length;p++)m.value[p]=o(e)}l=i(e,500);break;case _.MET_FLOAT_MATRIX:if(s(e),e.ci>=n)break;if(m.dependsOn>=0){m.length=t.fields[m.dependsOn].value[0];for(var v=0;v<m.length*m.length;v++)m.value[v]=o(e)}else{if(m.length<=0)return A("Arrays must have dependency or pre-specified lengths"),!1;for(var h=0;h<m.length*m.length;h++)m.value[h]=o(e)}l=i(e,500);break;case _.MET_OTHER:l=i(e,500)}if(c=!0,m.defined=!0,m.terminateRead)return d(t.fields);break}}if(!c)if(t.additionalReadFields){if(s(e),e.ci>=n)break;var y=u(l,_.MET_STRING,!1);y.value=i(e,500),y.value=y.value.trimEnd(),y.length=y.value.length,t.additionalReadFields.push(y)}else S("Skipping unrecognized field "+l),l=i(e,500)}return d(t.fields)},e.MRead=function(){if(!e.METRead())return A("MetaObject: Read: MET_Read Failed"),!1;var n=c("Comment",t.fields);if(n&&n.defined&&(t.comment=n.value),n=c("ObjectType",t.fields),n&&n.defined&&(t.objectTypeName=n.value),n=c("ObjectSubType",t.fields),n&&n.defined&&(t.objectSubTypeName=n.value),n=c("NDims",t.fields),n&&n.defined&&(t.nDims=n.value[0]),t.nDims>0&&(t.nDims>10&&(t.nDims=10),t.nDims<0&&(t.nDims=0)),n=c("Name",t.fields),n&&n.defined&&(t.name=n.value),n=c("ID",t.fields),n&&n.defined&&(t.id=n.value[0]),n=c("ParentID",t.fields),n&&n.defined&&(t.parentId=n.value[0]),n=c("AcquisitionDate",t.fields),n&&n.defined&&(t.acquisitionDate=n.value),(n=c("CompressedData",t.fields))&&n.defined){var r=n.value.charAt(0);t.compressedData="T"===r||"t"===r||"1"===r}if(n=c("CompressedDataSize",t.fields),n&&n.defined&&(t.compressedDataSize=n.value[0]),(n=c("BinaryData",t.fields))&&n.defined){var a=n.value.charAt(0);t.binaryData="T"===a||"t"===a||"1"===a}if((n=c("ElementByteOrderMSB",t.fields))&&n.defined){var i=n.value.charAt(0);t.binaryDataByteOrderMSB="T"===i||"t"===i||"1"===i}if((n=c("BinaryDataByteOrderMSB",t.fields))&&n.defined){var o=n.value.charAt(0);t.binaryDataByteOrderMSB="T"===o||"t"===o||"1"===o}if(n=c("Color",t.fields))if(n.defined)for(var s=0;s<n.length&&s<4;s++)t.color[s]=n.value[s];else for(var u=0;u<n.length&&u<4;u++)t.color[u]=1;if((n=c("Position",t.fields))&&n.defined)for(var l=0;l<n.length;l++)t.offset[l]=n.value[l];if((n=c("Offset",t.fields))&&n.defined)for(var d=0;d<n.length;d++)t.offset[d]=n.value[d];if((n=c("Origin",t.fields))&&n.defined)for(var f=0;f<n.length;f++)t.offset[f]=n.value[f];var m=!1;if((n=c("Orientation",t.fields))&&n.defined){m=!0;for(var g=n.length,p=0;p<g*g;p++)t.transformMatrix[p]=n.value[p]}if((n=c("Rotation",t.fields))&&n.defined){m=!0;for(var v=n.length,h=0;h<v*v;h++)t.transformMatrix[h]=n.value[h]}if((n=c("TransformMatrix",t.fields))&&n.defined){m=!0;for(var y=n.length,S=0;S<y*y;S++)t.transformMatrix[S]=n.value[S]}if(!m)for(var T=0;T<t.nDims;T++)t.transformMatrix[T+T*t.nDims]=1;if((n=c("CenterOfRotation",t.fields))&&n.defined)for(var M=0;M<n.length;M++)t.centerOfRotation[M]=n.value[M];else for(var b=0;b<t.nDims;b++)t.centerOfRotation[b]=0;if(n=c("DistanceUnits",t.fields),n&&n.defined&&("?"===n.value?t.distanceUnits=x.MET_DISTANCE_UNITS_UNKNOWN:"um"===n.value?t.distanceUnits=x.MET_DISTANCE_UNITS_UM:"mm"===n.value?t.distanceUnits=x.MET_DISTANCE_UNITS_MM:"cm"===n.value?t.distanceUnits=x.MET_DISTANCE_UNITS_CM:t.distanceUnits=x.MET_DISTANCE_UNITS_UNKNOWN),(n=c("AnatomicalOrientation",t.fields))&&n.defined)for(var D=0;D<t.nDims;D++){var I=n.value.charAt(D);t.anatomicalOrientation[D]="R"===I?E.MET_ORIENTATION_RL:"L"===I?E.MET_ORIENTATION_LR:"A"===I?E.MET_ORIENTATION_AP:"P"===I?E.MET_ORIENTATION_PA:"S"===I?E.MET_ORIENTATION_SI:"I"===I?E.MET_ORIENTATION_IS:E.MET_ORIENTATION_UNKNOWN}if(n=c("ElementSpacing",t.fields))if(n.defined)for(var w=0;w<n.length&&w<10;w++)t.elementSpacing[w]=n.value[w];else for(var C=0;C<n.length&&C<10;C++)t.elementSpacing[C]=1;return t.userDefinedReadFields.forEach(function(e){n=c(e.name,t.fields),t.userDefinedWriteFields.indexOf(n)<0&&t.userDefinedWriteFields.push(n)}),!0},e.ReadStream=function(){return e.MRead()},e.InitializeEssential=function(){return!0}}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,k,n),y.default.obj(e,t),y.default.setGet(e,t,["nDims","distanceUnits"]),y.default.getArray(e,t,["elementSpacing","offset"]),p(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=v;var h=n(0),y=function(e){return e&&e.__esModule?e:{default:e}}(h),A=y.default.vtkErrorMacro,S=y.default.vtkWarningMacro,T="=".charCodeAt(0),M=":".charCodeAt(0),b="\r".charCodeAt(0),D="\n".charCodeAt(0),I="\t".charCodeAt(0),w=" ".charCodeAt(0),C="0".charCodeAt(0),N="9".charCodeAt(0),P=".".charCodeAt(0),x={MET_DISTANCE_UNITS_UNKNOWN:0,MET_DISTANCE_UNITS_UM:1,MET_DISTANCE_UNITS_MM:2,MET_DISTANCE_UNITS_CM:3},E={MET_ORIENTATION_RL:0,MET_ORIENTATION_LR:1,MET_ORIENTATION_AP:2,MET_ORIENTATION_PA:3,MET_ORIENTATION_SI:4,MET_ORIENTATION_IS:5,MET_ORIENTATION_UNKNOWN:6},O={MET_MOD_CT:0,MET_MOD_MR:1,MET_MOD_NM:2,MET_MOD_US:3,MET_MOD_OTHER:4,MET_MOD_UNKNOWN:5},L=[0,1,1,1,2,2,4,4,4,4,8,8,4,8,1,1,1,2,2,4,4,4,4,8,8,4,8,4,0],_={MET_NONE:0,MET_ASCII_CHAR:1,MET_CHAR:2,MET_UCHAR:3,MET_SHORT:4,MET_USHORT:5,MET_INT:6,MET_UINT:7,MET_LONG:8,MET_ULONG:9,MET_LONG_LONG:10,MET_ULONG_LONG:11,MET_FLOAT:12,MET_DOUBLE:13,MET_STRING:14,MET_CHAR_ARRAY:15,MET_UCHAR_ARRAY:16,MET_SHORT_ARRAY:17,MET_USHORT_ARRAY:18,MET_INT_ARRAY:19,MET_UINT_ARRAY:20,MET_LONG_ARRAY:21,MET_ULONG_ARRAY:22,MET_LONG_LONG_ARRAY:23,MET_ULONG_LONG_ARRAY:24,MET_FLOAT_ARRAY:25,MET_DOUBLE_ARRAY:26,MET_FLOAT_MATRIX:27,MET_OTHER:28},R=t.STATIC={METInitReadField:u,METGetFieldRecord:c,METGetFieldRecordNumber:l,METSizeOfType:f,METPerformUncompression:m,METDoubleToValue:g,getNumber:o,METValueEnumType:_,METImageModalityEnumType:O,METDistanceUnitsEnumType:x},k={fields:[],userDefinedWriteFields:[],userDefinedReadFields:[],additionalReadFields:[],comment:"",objectTypeName:"Object",objectSubTypeName:"",nDims:0,name:"",id:-1,parentId:-1,acquisitionDate:"",compressedData:!1,compressedDataSize:0,binaryData:!0,binaryDataByteOrderMSB:!1,color:[1,1,1,1],offset:[],transformMatrix:[],centerOfRotation:[],distanceUnits:x.MET_DISTANCE_UNITS_UNKNOWN,anatomicalOrientation:[],elementSpacing:[]},B=t.newInstance=y.default.newInstance(v,"MetaObject");t.default=Object.assign({newInstance:B,extend:v},R)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("yImageNodeMapToPlane"),e.updateUpdateFlags3D=function(){t.updateFlags.View3D=!0,x.MultiView.getRenderWindowVR()&&(t.updateFlags.ViewVR=!0)},e.setImageData2D=function(n){var r=x.MultiView.getRenderWindow(t.orientation),a=x.MultiView.getCurrentSlices(),i=s(a,3),o=i[0],u=i[1],l=i[2],c=d.default.newInstance();c.setInputData(n),"ViewXY"===e.getViewName()?(c.setSlicingMode(d.default.SlicingMode.K),c.setSlice(l)):"ViewXZ"===e.getViewName()?(c.setSlicingMode(d.default.SlicingMode.J),c.setSlice(u)):(c.setSlicingMode(d.default.SlicingMode.I),c.setSlice(o));var f=m.default.newInstance();f.getProperty().setColorWindow(255),f.getProperty().setColorLevel(127),f.setMapper(c),t.imageActor2D=f,r.addActor(f);var g=x.DataManagement.getNodeProperty(t.nodeIndex,"visible");f.setVisibility(g)},e.setImageData2D=function(e){var n=x.MultiView.getRenderWindow(t.orientation),r=p.default.newInstance();t.imageReslice=r,r.setInputData(e),r.setOutputDimensionality(2),r.setBorder(!1),r.setOutputScalarType("Int16Array"),r.setAutoCropOutput(!1),0===t.orientation?t.imageReslice.setResliceAxesDirectionCosines([0,1,0,0,0,1,1,0,0]):1===t.orientation?t.imageReslice.setResliceAxesDirectionCosines([1,0,0,0,0,1,0,1,0]):t.imageReslice.setResliceAxesDirectionCosines([1,0,0,0,1,0,0,0,1]);var a=d.default.newInstance();a.setInputConnection(r.getOutputPort()),a.setKSlice(0);var i=m.default.newInstance();i.getProperty().setColorWindow(255),i.getProperty().setColorLevel(127),i.setMapper(a),t.imageActor2D=i,n.addActor(i);var o=x.DataManagement.getNodeProperty(t.nodeIndex,"visible");i.setVisibility(o)},e.setImageData2D=function(e){var n=C.default.newInstance();t.imageReslice=n,n.setInputData(e);var r=x.MultiView.getRenderWindow(t.orientation),a=x.MultiView.getCurrentSlices();n.setOrientation(t.orientation),n.setSliceIndex(a[t.orientation]);var i=d.default.newInstance();i.setInputConnection(n.getOutputPort()),i.setKSlice(0);var o=m.default.newInstance();o.getProperty().setColorWindow(255),o.getProperty().setColorLevel(127),o.setMapper(i),t.imageActor2D=o,r.addActor(o);var s=x.DataManagement.getNodeProperty(t.nodeIndex,"visible");o.setVisibility(s)},e.setImageData3D=function(e){var n=x.MultiView.getRenderWindow3D(),r=x.MultiView.getRenderWindowVR(),a=x.MultiView.getCurrentSlices(),i=s(a,3),o=i[0],u=i[1],l=i[2],c=d.default.newInstance();c.setInputData(e);var f=m.default.newInstance();f.getProperty().setColorWindow(255),f.getProperty().setColorLevel(127),f.setMapper(c),0===t.orientation?(c.setSlicingMode(d.default.SlicingMode.I),c.setSlice(o)):1===t.orientation?(c.setSlicingMode(d.default.SlicingMode.J),c.setSlice(u)):(c.setSlicingMode(d.default.SlicingMode.K),c.setSlice(l)),t.imageActor3D=f,n.addActor(f),r?(t.imageActorVR=f,r.addActor(f)):t.imageActorVR=null;var g=x.DataManagement.getNodeProperty(t.nodeIndex,"visible");f.setVisibility(g)},e.updateWindowLevel=function(){var n=x.MultiView.getWindowLevel();if(t.imageActor2D){var r=t.imageActor2D.getProperty(),a=r.getMTime();r.setColorWindow(n[0]),r.setColorLevel(n[1]),a!==r.getMTime()&&e.updateUpdateFlags()}if(t.imageActor3D){var i=t.imageActor3D.getProperty(),o=i.getMTime();i.setColorWindow(n[0]),i.setColorLevel(n[1]),o!==i.getMTime()&&e.updateUpdateFlags3D()}if(t.imageActorVR){var s=t.imageActorVR.getProperty(),u=s.getMTime();s.setColorWindow(n[0]),s.setColorLevel(n[1]),u!==s.getMTime()&&e.updateUpdateFlags3D()}},e.updateReslicePosition=function(){if(t.imageActor2D){var n=t.imageData,r=x.MultiView.getReslicePosition(),a=n.getOrigin(),i=n.getSpacing(),o=Math.floor((r[2]-a[2])/i[2]+.5),s=Math.floor((r[1]-a[1])/i[1]+.5),u=Math.floor((r[0]-a[0])/i[0]+.5);0===t.orientation?t.imageActor.getMapper().setSlice(u):1===t.orientation?t.imageActor.getMapper().setSlice(s):t.imageActor.getMapper().setSlice(o),e.updateCrossLine(),e.updateCornerText(r)}},e.reviseIndex=function(e){var n=t.imageData.getSpacing(),r=t.imageData.getOrigin(),a=t.orientation,i=e,o=.3*n[a],s=Math.round((e-r[a])/n[a]),u=Math.round((e-r[a]-o)/n[a]),l=Math.round((e-r[a]+o)/n[a]);return u!==s?i=e+o:l!==s&&(i=e-o),i},e.updateReslicePosition=function(){if(t.imageActor2D){var n=x.MultiView.getReslicePosition(),r=[].concat(a(n)),i=[].concat(a(n));0===t.orientation?(r[0]=e.reviseIndex(n[0]),r[1]=0,r[2]=0,i[0]=r[0]):1===t.orientation?(r[0]=0,r[1]=e.reviseIndex(n[1]),r[2]=0,i[1]=r[1]):(r[0]=0,r[1]=0,r[2]=e.reviseIndex(n[2]),i[2]=r[2]),t.imageReslice.setResliceAxesOrigin(r),t.imageReslice.update(),x.MultiView.setReslicePosition(i),e.updateCrossLine(),e.updateCornerText(n)}},e.updateReslicePosition=function(){if(t.imageActor2D){var n=x.MultiView.getReslicePosition(),r=x.MultiView.getCurrentSlices();t.imageReslice.setSliceIndex(r[t.orientation]),t.imageReslice.update(),e.updateCrossLine(),e.updateCornerText(n)}},e.updateReslicePosition=function(){if(t.imageActor3D){var n=t.nodeIndex;if(!(n<0)){var r=x.DataManagement.getData(n);if(r){var a=x.MultiView.getReslicePosition(),i=r.getOrigin(),o=r.getSpacing(),s=Math.floor((a[2]-i[2])/o[2]+.5),u=Math.floor((a[1]-i[1])/o[1]+.5),l=Math.floor((a[0]-i[0])/o[0]+.5);0===t.orientation?(t.imageActor3D.getMapper().setSlice(l),t.imageActorVR&&t.imageActorVR.getMapper().setSlice(l),t.imageReslice.setSliceIndex(l),t.imageReslice.update()):1===t.orientation?(t.imageActor3D.getMapper().setSlice(u),t.imageActorVR&&t.imageActorVR.getMapper().setSlice(u),t.imageReslice.setSliceIndex(u),t.imageReslice.update()):(t.imageActor3D.getMapper().setSlice(s),t.imageActorVR&&t.imageActorVR.getMapper().setSlice(s),t.imageReslice.setSliceIndex(s),t.imageReslice.update()),e.updateOutline(r),e.updateUpdateFlags(),e.updateUpdateFlags3D()}}}},e.initOutline=function(e){var n=e.getDimensions();if(n[0]<2||n[1]<2||n[2]<2)return t.tubeFilter=null,t.borderActor=null,void(t.borderActorVR=null);var r=x.MultiView.getRenderWindow3D(),a=x.MultiView.getRenderWindowVR(),i=I.default.newInstance();t.tubeFilter=i,i.setCapping(!0),i.setNumberOfSides(12),i.setRadius(1.5);var o=T.default.newInstance({scalarVisibility:!1});o.setInputConnection(i.getOutputPort());var s=b.default.newInstance();t.borderActor=s,t.borderActorVR=a?s:null,s.setPickable(!1),s.setMapper(o),s.setVisibility(0),r.getRenderer().addActor(s),a&&a.getRenderer().addActor(s),0===t.orientation?s.getProperty().setColor(0,1,0):1===t.orientation?s.getProperty().setColor(0,0,1):s.getProperty().setColor(1,0,0)},e.updateOutline=function(e){if(t.imageActor3D&&t.borderActor&&t.tubeFilter){var n=x.MultiView.getReslicePosition(),r=e.getOrigin(),a=e.getSpacing(),i=e.getExtent(),o=[];o[0]=Math.floor((n[0]-r[0])/a[0]+.5),o[1]=Math.floor((n[1]-r[1])/a[1]+.5),o[2]=Math.floor((n[2]-r[2])/a[2]+.5),o[0]=r[0]+o[0]*a[0],o[1]=r[1]+o[1]*a[1],o[2]=r[2]+o[2]*a[2];var s=r[0]+i[0]*a[0],u=r[0]+i[1]*a[0],l=r[1]+i[2]*a[1],c=r[1]+i[3]*a[1],d=r[2]+i[4]*a[2],f=r[2]+i[5]*a[2],m=t.tubeFilter.getInputData();m||(m=h.default.newInstance(),t.tubeFilter.setInputData(m));var g=m.getPoints();g||(g=A.default.newInstance(),m.setPoints(g)),g.setNumberOfPoints(5);var p=new Float32Array(15),v=new Uint32Array([5,0,1,2,3,4]),y=t.orientation;2===y?(p[0]=s,p[1]=l,p[3]=s,p[4]=c,p[6]=u,p[7]=c,p[9]=u,p[10]=l):1===y?(p[0]=s,p[2]=d,p[3]=s,p[5]=f,p[6]=u,p[8]=f,p[9]=u,p[11]=d):(p[1]=l,p[2]=d,p[4]=l,p[5]=f,p[7]=c,p[8]=f,p[10]=c,p[11]=d),p[y]=o[y],p[y+3]=o[y],p[y+6]=o[y],p[y+9]=o[y],p[12]=p[0],p[13]=p[1],p[14]=p[2],g.setData(p),m.getLines().setData(v),m.modified(),t.borderActor.setVisibility(t.imageActor3D.getVisibility()),t.borderActorVR&&t.borderActorVR.setVisibility(t.imageActor3D.getVisibility())}},e.installPipeline=function(){var n=x.DataManagement.getData(t.nodeIndex);e.initOutline(n),e.setImageData2D(n),e.setImageData3D(n),e.updateUpdateFlags(),e.updateUpdateFlags3D()},e.isImageActor3DVisible=function(){var e=x.MultiView.getRenderWindow3D();return t.imageActor3D&&t.imageActor3D.getVisibility()&&e.getRenderer().hasViewProp(t.imageActor3D)},e.isImageActorVRVisible=function(){var e=x.MultiView.getRenderWindowVR();return!!e&&t.imageActorVR&&t.imageActorVR.getVisibility()&&e.getRenderer().hasViewProp(t.imageActorVR)},e.setImageActor3DVisible=function(n){t.imageActor3DVisible=n;var r=x.MultiView.getRenderWindow3D();t.borderActor&&(n&&!r.getRenderer().hasViewProp(t.borderActor)&&r.getRenderer().addActor(t.borderActor),t.borderActor.setVisibility(n)),t.imageActor3D&&(n&&!r.getRenderer().hasViewProp(t.imageActor3D)&&r.getRenderer().addActor(t.imageActor3D),t.imageActor3D.setVisibility(n)),e.setImageActorVRVisible(n)},e.setImageActorVRVisible=function(e){var n=x.MultiView.getRenderWindowVR();n&&(t.borderActorVR&&(e&&!n.getRenderer().hasViewProp(t.borderActorVR)&&n.getRenderer().addActor(t.borderActorVR),t.borderActorVR.setVisibility(e)),t.imageActorVR&&(e&&!n.getRenderer().hasViewProp(t.imageActorVR)&&n.getRenderer().addActor(t.imageActorVR),t.imageActorVR.setVisibility(e)))},e.updatePipeline=function(){var n=x.DataManagement.getNodeProperty(t.nodeIndex,"visible");t.imageActor2D&&t.imageActor2D.setVisibility(n);var r=t.imageActor3DVisible;t.borderActor&&t.borderActor.setVisibility(n&&r),t.borderActorVR&&t.borderActorVR.setVisibility(n&&r),t.imageActor3D&&t.imageActor3D.setVisibility(n&&r),t.imageActorVR&&t.imageActorVR.setVisibility(n&&r),n&&(e.updateWindowLevel(),e.updateReslicePosition()),e.updateUpdateFlags(),e.updateUpdateFlags3D()},e.uninstallPipeline=function(){var n=x.MultiView.getRenderWindow(t.orientation);n.hasViewProp(t.imageActor2D)&&n.removeActor(t.imageActor2D),t.imageActor2D=null;var r=x.MultiView.getRenderWindow3D();r.hasViewProp(t.borderActor)&&r.removeActor(t.borderActor),t.borderActor=null,r.hasViewProp(t.imageActor3D)&&r.removeActor(t.imageActor3D),t.imageActor3D=null;var a=x.MultiView.getRenderWindowVR();a&&a.hasViewProp(t.borderActorVR)&&a.removeActor(t.borderActorVR),t.borderActorVR=null,a&&a.hasViewProp(t.imageActorVR)&&a.removeActor(t.imageActorVR),t.imageActorVR=null,e.updateUpdateFlags(),e.updateUpdateFlags3D()}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,E,n),P.default.extend(e,t,n),l.default.get(e,t,["imageActor2D","imageActor3D","imageActorVR"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0;var s=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.extend=o;var u=n(0),l=r(u),c=n(257),d=r(c),f=n(258),m=r(f),g=n(511),p=r(g),v=n(4),h=r(v),y=n(6),A=r(y),S=n(20),T=r(S),M=n(24),b=r(M),D=n(516),I=r(D),w=n(158),C=r(w),N=n(57),P=r(N),x=l.default.GlobalObjects,E={imageReslice:null,imageActor2D:null,borderActor:null,borderActorVR:null,tubeFilter:null,imageActor3D:null,imageActorVR:null,imageActor3DVisible:!0},O=t.newInstance=l.default.newInstance(o,"yImageNodeMapToPlane");t.default={newInstance:O,extend:o}},function(e,t,n){"use strict";function r(e,t,n){e[n]=function(){var e;return(e=u[t])[n].apply(e,arguments)}}function a(e,t){function n(t){r(e,"MultiView",t)}function a(t){e[t]=function(){var e;return(e=u.MultiView.getRenderWindow3D())[t].apply(e,arguments)}}function i(t){e[t]=function(){var e;return(e=u.MultiView.getCallbacks())[t].apply(e,arguments)}}t.classHierarchy.push("vtkAPIs"),n("getActiveWindow"),n("setActiveWindow"),n("updateWindowSize"),n("getStyleMode2D"),n("setStyleMode2D"),n("getStyleMode3D"),n("setStyleMode3D"),n("getDomElement"),n("volumeRender"),n("isVolumeRender"),n("isCornerTextVisible"),n("setCornerTextVisible"),n("toggleCornerTextVisible"),n("isCrossLineVisible"),n("setCrossLineVisible"),n("toggleCrossLineVisible"),n("resetWindowLevel"),n("getWindowLevelInfo"),n("setWindowLevel"),n("resetCamera2D"),n("resetCamera3D"),n("saveScreenshot"),n("getWindowLevelPresets"),n("applyWindowLevelPreset"),n("getVolumeRenderPresets"),n("getVolumeRenderPresets2"),n("applyVolumeRenderPreset"),n("isSlice3DVisible"),n("setSlice3DVisible"),n("toggleSlice3DVisible"),n("getSliceInfo"),n("setSlice"),n("getBackgroundColors"),n("setBackgroundColors"),n("getTexturedBackground3D"),n("setTexturedBackground3D"),n("toggleVolumeControllerVisible"),n("isVolumeControllerVisible"),n("getDicomInfoVisible"),n("setDicomInfoVisible"),n("isVRWindowVisible"),n("is3DWindowVisible"),n("setVRWindowVisible"),n("set3DWindowVisible"),n("configLights"),n("getLightsOptions"),n("applyLightPreset"),n("getLightPreset"),a("setStandardView"),a("getUseDepthPeel"),a("setUseDepthPeel"),i("registerCallback"),i("unregisterCallback")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),s.default.obj(e,t),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=s.default.GlobalObjects,l={},c=t.newInstance=s.default.newInstance(i,"vtkAPIs");t.default={newInstance:c,extend:i}},function(e,t,n){"use strict";function r(e,t,n){e[n]=function(){var e;return(e=u[t])[n].apply(e,arguments)}}function a(e,t){function n(t){r(e,"DataManagement",t)}function a(t){e[t]=function(){var e;return(e=u.MultiView.getNodeOps())[t].apply(e,arguments)}}t.classHierarchy.push("vtkNodeAPIs"),n("getSurfaceNodeList"),n("getMaskNodeList"),n("getImageNodeList"),n("getViewNodeList"),a("removeNode"),a("removeAllTypeSelectedNodes"),n("getNodeProperties"),a("getNodeDicomProperties"),n("getNodeColor"),a("setNodeColor"),n("getNodeOpacity"),a("setNodeOpacity"),n("getNodeVisible"),a("setNodeVisible"),a("showAllNodes"),a("hideAllNodes"),n("getSelectedNode"),n("setSelectedNode"),n("getNodeTypeSelected"),a("setNodeTypeSelected"),a("selectAllNodes"),a("deselectAllNodes"),a("revertSelectNodes"),n("getNodeName"),a("setNodeName"),n("getNodeOrganName"),a("setNodeOrganName"),a("saveNode"),a("copyNode"),a("switchToImageNode"),a("getVolumeStr")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),s.default.obj(e,t),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=s.default.GlobalObjects,l={},c=t.newInstance=s.default.newInstance(i,"vtkNodeAPIs");t.default={newInstance:c,extend:i}},function(e,t,n){"use strict";function r(e,t,n){e[n]=function(){var e;return(e=u[t])[n].apply(e,arguments)}}function a(e,t){function n(t){r(e,"ToolManager",t)}t.classHierarchy.push("vtkToolAPIs"),n("activeTool"),n("getToolParams"),n("updateTool"),n("inactiveTool"),n("getAllToolIds"),n("getAllToolInfos"),n("getToolInfo"),n("saveSurfaceData"),n("saveYcmProject"),n("openYcmProject"),n("closeYcmProject"),n("openDicomDirectory"),n("importDicomSeriesDirectory"),n("importDicomSeriesYcm"),n("openYcmDicomSeries"),n("saveDicomSeriesDirectory"),n("saveDicomSeriesDirectoryWithYcmProject"),n("getDicomPatientInfos"),n("getDicomStudyInfos"),n("getDicomSeriesInfos"),n("setDicomSeriesTitle"),n("getDicomSeriesTags"),n("prepareDicomSeries"),n("openDicomSeries"),n("openDicomSeriesList"),n("reconstruction3D")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),s.default.obj(e,t),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=s.default.GlobalObjects,l={},c=t.newInstance=s.default.newInstance(i,"vtkToolAPIs");t.default={newInstance:c,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkFocalPlanePointPlacer"),e.computeWorldPosition=function(n,r,a,i){var o=n.getActiveCamera(),s=o.getFocalPoint();s[3]=1,s=d.default.computeWorldToDisplay(n,s[0],s[1],s[2]);var u=[r[0],r[1],s[2]];u=d.default.computeDisplayToWorld(n,u[0],u[1],u[2]);var l=o.getDirectionOfProjection();if(o.getParallelProjection())u[0]+=l[0]*t.offset,u[1]+=l[1]*t.offset,u[2]+=l[2]*t.offset;else{var c=o.getPosition(),f=[];f[0]=u[0]-c[0],f[1]=u[1]-c[1],f[2]=u[2]-c[2],m.default.normalize(f);var g=m.default.dot(f,l)/(m.default.norm(f)*m.default.norm(l));0!==g&&(u[0]+=f[0]*t.offset/g,u[1]+=f[1]*t.offset/g,u[2]+=f[2]*t.offset/g)}var p=[1e-12,1e-12,1e-12];return t.pointBounds[0]<t.pointBounds[1]&&!m.default.pointIsWithinBounds(u,t.pointBounds,p)?0:(a[0]=u[0],a[1]=u[1],a[2]=u[2],e.getCurrentOrientation(i),1)},e.computeWorldPositionWithRef=function(n,r,a,i,o){var s=[a[0],a[1],a[2],1];s=d.default.computeWorldToDisplay(n,s[0],s[1],s[2]),s[0]=r[0],s[1]=r[1],s[3]=1,s=d.default.computeDisplayToWorld(n,s[0],s[1],s[2]);var u=n.getActiveCamera(),l=u.getDirectionOfProjection();if(u.getParallelProjection())s[0]+=l[0]*t.offset,s[1]+=l[1]*t.offset,s[2]+=l[2]*t.offset;else{var c=u.getPosition(),f=[];f[0]=s[0]-c[0],f[1]=s[1]-c[1],f[2]=s[2]-c[2],m.default.normalize(f);var g=m.default.dot(f,l)/(m.default.norm(f)*m.default.norm(l));0!==g&&(s[0]+=f[0]*t.offset/g,s[1]+=f[1]*t.offset/g,s[2]+=f[2]*t.offset/g)}var p=[1e-12,1e-12,1e-12];return t.pointBounds[0]<t.pointBounds[1]&&!m.default.pointIsWithinBounds(s,t.pointBounds,p)?0:(i[0]=s[0],i[1]=s[1],i[2]=s[2],e.getCurrentOrientation(o),1)},e.getCurrentOrientation=function(e){var t=e||[];return t[0]=1,t[0]=0,t[0]=0,t[0]=0,t[0]=1,t[0]=0,t[0]=0,t[0]=0,t[0]=1,t},e.validateWorldPosition=function(e){var n=[1e-12,1e-12,1e-12];return t.pointBounds[0]<t.pointBounds[1]&&!m.default.pointIsWithinBounds(e,t.pointBounds,n)?0:1},e.validateWorldPositionWithOrient=function(t,n){return e.validateWorldPosition(t)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l.default.extend(e,t,n),s.default.setGet(e,t,["offset"]),s.default.setGetArray(e,t,["pointBounds"],6),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(269),l=r(u),c=n(21),d=r(c),f=n(1),m=r(f),g={pointBounds:[0,-1,0,-1,0,-1],offset:0},p=t.newInstance=s.default.newInstance(i,"vtkFocalPlanePointPlacer");t.default={newInstance:p,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPointPlacer"),e.computeWorldPosition=function(e,t,n){if(e){var r=l.default.newInstance();return r.setCoordinateSystemToDisplay(),r.setValue(t[0],t[1]),n[0]=r.getComputedWorldValue(e)[0],n[1]=r.getComputedWorldValue(e)[1],n[2]=r.getComputedWorldValue(e)[2],1}return 0},e.validateWorldPosition=function(e){return 1},e.validateDisplayPosition=function(e,t){return 1},e.updateWorldPosition=function(e,t){return 1},e.updateNodeWorldPosition=function(e,t){return 1},e.updateInternalState=function(){return 0},e.setPixelTolerance=function(n){return t.pixelTolerance!==n&&(t.pixelTolerance=d.default.clampValue(n,1,100),e.modified(),!0)},e.setWorldTolerance=function(n){return t.worldTolerance!==n&&(t.worldTolerance=d.default.clampValue(n,0,Number.MAX_VALUE),e.modified(),!0)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),s.default.obj(e,t),s.default.setGet(e,t,["pixelTolerance","worldTolerance"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(53),l=r(u),c=n(1),d=r(c),f={pixelTolerance:5,worldTolerance:.001},m=t.newInstance=s.default.newInstance(i,"vtkPointPlacer");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkContourLineInterpolator"),e.updateNode=function(e,t,n,r){return 0},e.getSpan=function(e,t,n){for(var r=e-1,a=e,i=0,o=0,s=n.getClosedLoop(),u=n.getNumberOfNodes(),l=[],c=0;c<3;c++)i=r++,o=a++,s&&(i<0&&(i+=u),o<0&&(o+=u),i>=u&&(i-=u),o>=u&&(o-=u)),i>=0&&i<u&&o>=0&&o<u&&l.push(i,o);t.setData(new Int32Array(l),2)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={},u=t.newInstance=o.default.newInstance(a,"vtkContourLineInterpolator");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=e[0][0]*t[0]+e[0][1]*t[1]+e[0][2]*t[2]+e[0][3],a=e[1][0]*t[0]+e[1][1]*t[1]+e[1][2]*t[2]+e[1][3],i=e[2][0]*t[0]+e[2][1]*t[1]+e[2][2]*t[2]+e[2][3],o=e[3][0]*t[0]+e[3][1]*t[1]+e[2][2]*t[2]+e[3][3];return n[0]=r/o,n[1]=a/o,n[2]=i/o,1/o}function i(e,t,n,r){for(var i=a(e,t,n),o=0;o<3;o++)r[0][o]=(e[0][o]-e[3][o]*n[0])*i,r[1][o]=(e[1][o]-e[3][o]*n[1])*i,r[2][o]=(e[2][o]-e[3][o]*n[2])*i}function o(e,t){t.classHierarchy.push("vtkHomogeneousTransform"),e.internalTransformPoint=function(e,n){a(t.matrix,e,n)},e.internalTransformDerivative=function(e,n,r){i(t.matrix,e,n,r)},e.transformPoints=function(n,r){var i=n.getNumberOfPoints(),o=t.matrix.getElement(),s=[0,0,0];e.update();for(var u=0;u<i;u++)s=n.getPoint(u),a(o,s,s),r.insertNextPoint(s)},e.transformPointsNormalsVectors=function(n,r,i,o,s,l){var c=n.getNumberOfPoints(),d=t.matrix.getElement(),m=u.mat4.create(),p=[0,0,0],v=[0,0,0],h=[0,0,0],y=[0,0,0],A=[0,0,0],S=[0,0,0],T=0;e.update(),i&&(g.default.deepCopy2(m,t.matrix),g.default.invert(m,m),g.default.transpose(m,m));for(var M=0;M<c;M++){p=n.getPoint(M);var b=a(d,p,v);r.insertNextPoint(v),s&&(A=s.getTuple(M),S[0]=d[0][0]*A[0]+d[0][1]*A[1]+d[0][2]*A[2],S[1]=d[1][0]*A[0]+d[1][1]*A[1]+d[1][2]*A[2],S[2]=d[2][0]*A[0]+d[2][1]*A[1]+d[2][2]*A[2],T=d[3][0]*A[0]+d[3][1]*A[1]+d[3][2]*A[2],S[0]=(S[0]-T*v[0])*b,S[1]=(S[1]-T*v[1])*b,S[2]=(S[2]-T*v[2])*b,l.insertNextTuple(S)),i&&(h=i.getTuple(M),T=-(h[0]*p[0]+h[1]*p[1]+h[2]*p[2]),y[0]=m[0][0]*h[0]+m[0][1]*h[1]+m[0][2]*h[2]+m[0][3]*T,y[1]=m[1][0]*h[0]+m[1][1]*h[1]+m[1][2]*h[2]+m[1][3]*T,y[2]=m[2][0]*h[0]+m[2][1]*h[1]+m[2][2]*h[2]+m[2][3]*T,f.default.normalize(y),o.insertNextTuple(y))}},e.getMatrix=function(n){return e.update(),n&&n.deepCopy2(t.matrix),n||t.matrix},e.getHomogeneousInverse=function(){return e.getInverse()},e.internalDeepCopy=function(e){t.matrix.deepCopy2(e.getMatrix())},e.inverse=function(){t.matrix.invert(),e.modified()}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),v.default.extend(e,t,n),t.matrix=g.default.newInstance(),c.default.get(e,t,["matrix"]),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=s;var u=n(3),l=n(0),c=r(l),d=n(1),f=r(d),m=n(59),g=r(m),p=n(272),v=r(p),h=t.STATIC={vtkHomogeneousTransformPoint:a,vtkHomogeneousTransformDerivative:i},y={matrix:null},A=t.newInstance=c.default.newInstance(s,"vtkHomogeneousTransform");t.default=Object.assign({newInstance:A,extend:s},h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e={};return e.forwardTransform=null,e.inverseTransform=null,e.swapForwardInverse=function(){var t=e.forwardTransform;e.forwardTransform=e.inverseTransform,e.inverseTransform=t},e}function i(){var e={inverseFlag:0,preMultiplyFlag:1,preMatrix:null,postMatrix:null,preMatrixTransform:null,postMatrixTransform:null,numberOfPreTransforms:0,transformList:[]};return e.concatenate=function(t){e.preMultiplyFlag&&e.preMatrix?(e.preMatrix=null,e.preMatrixTransform=null):!e.preMultiplyFlag&&e.postMatrix&&(e.postMatrix=null,e.postMatrixTransform=null);var n=e.transformList,r=n.length;if(n[r]=a(),e.preMultiplyFlag!==e.inverseFlag){for(var i=r;i>0;i--)n[i].forwardTransform=n[i-1].forwardTransform,n[i].inverseTransform=n[i-1].inverseTransform;r=0,e.numberOfPreTransforms++}e.inverseFlag?(n[r].forwardTransform=null,n[r].inverseTransform=t):(n[r].forwardTransform=t,n[r].inverseTransform=null)},e.concatenate2=function(t){if(e.preMultiplyFlag){if(!e.preMatrix){var n=h.default.newInstance();e.concatenate(n),e.preMatrixTransform=n,e.preMatrix=n.getMatrix()}p.default.multiply4x4(e.preMatrix.getElement(),t,e.preMatrix.getElement()),e.preMatrix.modified(),e.preMatrixTransform.modified()}else{if(!e.postMatrix){var r=h.default.newInstance();e.concatenate(r),e.postMatrixTransform=r,e.postMatrix=r.getMatrix()}p.default.multiply4x4(t,e.postMatrix.getElement(),e.postMatrix.getElement()),e.postMatrix.modified(),e.postMatrixTransform.modified()}},e.setPreMultiplyFlag=function(t){e.preMultiplyFlag=t},e.getPreMultiplyFlag=function(){return e.preMultiplyFlag},e.translate=function(t,n,r){if(0!==t||0!==n||0!==r){var a=l.mat4.create();p.default.identity(a),a[3]=t,a[7]=n,a[11]=r,e.concatenate2(a)}},e.rotate=function(t,n,r,a){if(0!==t&&(0!==n||0!==r||0!==a)){var i=m.default.radiansFromDegrees(t),o=Math.cos(.5*i),s=Math.sin(.5*i)/Math.sqrt(n*n+r*r+a*a),u=n*s,c=r*s,d=a*s,f=l.mat4.create();p.default.identity(f);var g=o*o,v=o*u,h=o*c,y=o*d,A=u*u,S=c*c,T=d*d,M=u*c,b=u*d,D=c*d,I=g-A-S-T;f[0]=2*A+I,f[4]=2*(M+y),f[8]=2*(b-h),f[1]=2*(M-y),f[5]=2*S+I,f[9]=2*(D+v),f[2]=2*(b+h),f[6]=2*(D-v),f[10]=2*T+I,e.concatenate2(f)}},e.scale=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=Array.isArray(n[0])?n[0]:n;if(1!==a[0]||1!==a[1]||1!==a[2]){var i=l.mat4.create();p.default.identity(i),i[0]=a[0],i[5]=a[1],i[10]=a[2],e.concatenate2(i)}},e.inverse=function(){if(e.preMatrix){e.preMatrix.invert(),e.preMatrixTransform.modified();var t=e.inverseFlag?e.transformList.length-1:0;e.transformList[t].swapForwardInverse()}if(e.postMatrix){e.postMatrix.invert(),e.postMatrixTransform.modified();var n=e.inverseFlag?0:e.transformList.length-1;e.transformList[n].swapForwardInverse()}var r=e.preMatrix,a=e.preMatrixTransform;e.preMatrix=e.postMatrix,e.preMatrixTransform=e.postMatrixTransform,e.postMatrix=r,e.postMatrixTransform=a,e.numberOfPreTransforms=e.transformList.length-e.numberOfPreTransforms,e.inverseFlag=!e.inverseFlag},e.identity=function(){if(e.preMatrix=null,e.postMatrix=null,e.preMatrixTransform=null,e.postMatrixTransform=null,e.transformList.length>0)for(var t=0;t<e.transformList.length;t++){var n=e.transformList[t];n.forwardTransform&&(n.forwardTransform=null),n.inverseTransform&&(n.inverseTransform=null)}e.transformList.length=0,e.numberOfPreTransforms=0},e.getTransform=function(t){if(e.inverseFlag){var n=e.transformList.length-t-1,r=e.transformList[n];return r.inverseTransform||(r.inverseTransform=r.forwardTransform.getInverse()),r.inverseTransform}var a=e.transformList[t];return a.forwardTransform||(a.forwardTransform=a.inverseTransform.getInverse()),a.forwardTransform},e.getMaxMTime=function(){for(var t=0,n=0;n<e.transformList.length;n++){var r=e.transformList[n],a=0;(a=r.forwardTransform?r.forwardTransform.getMTime():r.inverseTransform.getMTime())>t&&(t=a)}return t},e.getInverseFlag=function(){return e.inverseFlag},e.getNumberOfTransforms=function(){return e.transformList.length},e.getNumberOfPreTransforms=function(){return e.numberOfPreTransforms},e.getNumberOfPostTransforms=function(){return e.transformList.length-e.numberOfPreTransforms},e}function o(){var e={};return e.stack=[],e.push=function(t){e.stack.push(t)},e.pop=function(t){var n=e.stack.pop();if(!n)return null;var r=t.getPreMultiplyFlag();return n.setPreMultiplyFlag(r),n},e}function s(e,t){t.classHierarchy.push("vtkAbstractTransform"),e.transformPoint=function(n,r){var a=r||t.internalPoint;return e.update(),e.internalTransformPoint(n,a),a},e.transformPointXYZ=function(t,n,r){return e.transformPoint([t,n,r])},e.transformNormalAtPoint=function(n,r,a){var i=a||t.internalPoint;e.update();var o=l.mat3.create(),s=[0,0,0];return e.internalTransformDerivative(n,s,o),m.default.transpose3x3(o,o),m.default.linearSolve3x3(o,r,i),m.default.normalize(i),i},e.transformVectorAtPoint=function(n,r,a){var i=a||t.internalPoint;e.update();var o=l.mat3.create(),s=[0,0,0];return e.internalTransformDerivative(n,s,o),m.default.multiply3x3_vect3(o,r,i),i},e.transformPoints=function(t,n){e.update();for(var r=[0,0,0],a=t.getNumberOfPoints(),i=0;i<a;i++)r=t.getPoint(i),e.internalTransformPoint(r,r),n.insertNextPoint(r)},e.transformPointsNormalsVectors=function(t,n,r,a,i,o){e.update();for(var s=l.mat3.create(),u=[0,0,0],c=t.getNumberOfPoints(),d=0;d<c;d++)u=t.getPoint(d),e.internalTransformDerivative(u,u,s),n.insertNextPoint(u),i&&(u=i.getTuple(d),m.default.multiply3x3_vect3(s,u,u),o.insertNextTuple(u)),r&&(u=r.getTuple(d),m.default.transpose3x3(s,s),m.default.linearSolve3x3(s,u,u),m.default.normalize(u),a.insertNextTuple(u))},e.getInverse=function(){return t.myInverse||(t.myInverse=e.makeTransform(),t.myInverse.setInverse(e)),t.myInverse},e.setInverse=function(n){if(t.myInverse!==n){if(!n.isA(e.getClassName()))return void y("SetInverse: requires a "+e.getClassName()+", a "+n.getClassName()+" is not compatible.");if(n.circuitCheck(e))return void y("SetInverse: this would create a circular reference.");t.myInverse=n,t.dependsOnInverse=n?1:0,e.modified()}},e.deepCopy=function(t){if(t!==e){if(!t.isA(e.getClassName()))return void y("DeepCopy: can't copy a "+t.getClassName()+" into a "+e.getClassName()+".");if(t.circuitCheck(e))return void y("DeepCopy: this would create a circular reference.");e.internalDeepCopy(t),e.modified()}},e.update=function(){t.dependsOnInverse&&t.myInverse.getMTime()>=t.updateTime.getMTime()?(A("Updating transformation from its inverse"),e.internalDeepCopy(t.myInverse),e.inverse(),A("Calling InternalUpdate on the transformation"),e.internalUpdate()):e.getMTime()>=t.updateTime.getMTime()&&(A("Calling InternalUpdate on the transformation"),e.internalUpdate()),t.updateTime.modified()},e.circuitCheck=function(n){return n===e||t.dependsOnInverse&&t.myInverse.circuitCheck(n)},e.getMTime=function(){var e=t.mtime;if(t.dependsOnInverse){var n=t.myInverse.getMTime();if(n>e)return n}return e},e.internalUpdate=function(){},e.internalDeepCopy=function(){}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),d.default.obj(e,t),t.updateTime={},d.default.obj(t.updateTime,{mtime:0}),s(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=u;var l=n(3),c=n(0),d=r(c),f=n(1),m=r(f),g=n(59),p=r(g),v=n(271),h=r(v),y=d.default.vtkErrorMacro,A=d.default.vtkDebugMacro,S=t.STATIC={vtkTransformPair:a,vtkTransformConcatenation:i,vtkTransformConcatenationStack:o},T={internalPoint:[0,0,0],updateTime:null,dependsOnInverse:0,myInverse:null,inUnRegister:0},M=t.newInstance=d.default.newInstance(u,"vtkAbstractTransform");t.default=Object.assign({newInstance:M,extend:u},S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){return{worldPosition:[0,0,0],surfaceWorldPosition:[0,0,0],cellId:-1,pointId:-1,parametricCoords:[0,0,0],polyData:null}}function i(){var e={};return e.nodes=[],e.getNodeAtSurfaceWorldPosition=function(t){for(var n=0;n<e.nodes.length;n++)if(m.default.distance2BetweenPoints(e.nodes[n].surfaceWorldPosition,t)<5e-4)return e.nodes[n];return null},e.getNodeAtWorldPosition=function(t){for(var n=0;n<e.nodes.length;n++)if(m.default.distance2BetweenPoints(e.nodes[n].worldPosition,t)<5e-4)return e.nodes[n];return null},e.insertNodeAtCurrentPickPosition=function(t,n,r){var i=t.getPickPosition(),o=e.getNodeAtSurfaceWorldPosition(i);o||(o=a(),e.nodes.push(o));var s=t.getMapper();if(!s)return null;var u=s.getInputData();if(!u)return null;if(o.cellId=t.getCellId(),o.parametricCoords=t.getPCoords(),r){var l=h.default.newInstance();u.getCellPointsWithIds(t.getCellId(),l);for(var c=[],d=Number.MAX_VALUE,f=0;f<l.getNumberOfIds();f++){u.getPoints().getPoint(l.getId(f),c);var g=m.default.distance2BetweenPoints(i,c);g<d&&(d=g,i[0]=c[0],i[1]=c[1],i[2]=c[2])}}o.surfaceWorldPosition[0]=i[0],o.surfaceWorldPosition[1]=i[1],o.surfaceWorldPosition[2]=i[2],o.polyData=u;var p=[0,0,0];if(0!==n){u.getCellData().getNormals().getTuple(o.cellId,p);for(var v=0;v<3;v++)o.worldPosition[v]=o.surfaceWorldPosition[v]+p[v]*n}else for(var y=0;y<3;y++)o.worldPosition[y]=o.surfaceWorldPosition[y];return o},e.insertNodeAtCurrentPickPosition2=function(t,n,r,i,o,s){var u=e.getNodeAtSurfaceWorldPosition(n);u||(u=a(),e.nodes.push(u)),u.cellId=r,u.pointId=i,u.surfaceWorldPosition[0]=n[0],u.surfaceWorldPosition[1]=n[1],u.surfaceWorldPosition[2]=n[2],u.polyData=t;for(var l=0;l<3;l++)u.worldPosition[l]=u.surfaceWorldPosition[l];return u},e}function o(e,t){t.classHierarchy.push("vtkPolygonalSurfacePointPlacer");var n=Object.assign({},e);e.addProp=function(e){n.addProp(e),t.cellPicker.addPickList(e)},e.removeViewProp=function(e){n.removeViewProp(e),t.cellPicker.deletePickList(e)},e.removeAllProps=function(){n.removeAllProps(),t.cellPicker.initializePickList()},e.computeWorldPositionWithRef=function(t,n,r,a,i){return e.computeWorldPosition(t,n,a,i)},e.computeWorldPosition=function(e,n,r,a){if(t.cellPicker.pickSimple([n[0],n[1],0],e)){var i=t.cellPicker.getMapper();if(!i)return 0;if(!i.getInputData())return 0;var o=t.cellPicker.getActors();if(o.length>0)for(var s=!1,u=0;u<t.surfaceProps.length;u++){for(var l=t.surfaceProps[u],c=0;c<o.length&&!s;c++){var d=o[c];s=d===l}if(s){var f=t.internals.insertNodeAtCurrentPickPosition(t.cellPicker,t.distanceOffset,t.snapToClosestPoint);if(f)return r[0]=f.worldPosition[0],r[1]=f.worldPosition[1],r[2]=f.worldPosition[2],1}}else{var m=t.internals.insertNodeAtCurrentPickPosition(t.cellPicker,t.distanceOffset,t.snapToClosestPoint);if(m)return r[0]=m.worldPosition[0],r[1]=m.worldPosition[1],r[2]=m.worldPosition[2],1}}return 0},e.validateWorldPosition=function(e){return 1},e.validateWorldPositionWithOrient=function(t,n){return e.validateWorldPosition(t)},e.validateDisplayPosition=function(e,t){return 1},e.updateNodeWorldPosition=function(e,n){if(0!==t.polys.length){var r=t.polys[0];return t.internals.insertNodeAtCurrentPickPosition2(r,e,-1,n,t.distanceOffset,t.snapToClosestPoint),1}return y("PolyDataCollection has no items."),0},e.getNodeAtWorldPosition=function(e){return t.internals.getNodeAtWorldPosition(e)},e.initNodesData=function(n,r){n&&(t.internals.nodes.length=0,n.forEach(function(e){e.polyData=r,t.internals.nodes.push(e)}),e.modified())}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,S,n),d.default.extend(e,t,n),l.default.get(e,t,["cellPicker","polys"]),l.default.setGet(e,t,["distanceOffset","snapToClosestPoint"]),t.cellPicker=p.default.newInstance(),t.cellPicker.setPickFromList(1),t.cellPicker.setTolerance(.005),t.internals=i(),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=s;var u=n(0),l=r(u),c=n(532),d=r(c),f=n(1),m=r(f),g=n(157),p=r(g),v=n(18),h=r(v),y=l.default.vtkErrorMacro,A=t.STATIC={vtkPolygonalSurfacePointPlacerNode:a},S={cellPicker:null,polys:[],internals:null,distanceOffset:0,snapToClosestPoint:0},T=t.newInstance=l.default.newInstance(s,"vtkPolygonalSurfacePointPlacer");t.default=Object.assign({newInstance:T,extend:s},A)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPolygonalSurfaceContourLineInterpolator"),e.interpolateLine=function(e,n,r,a){var i=n.getPointPlacer();if(!i)return 1;var o=n.getNthNodeWorldPosition(r),s=n.getNthNodeWorldPosition(a),u=i.getNodeAtWorldPosition(o),l=i.getNodeAtWorldPosition(s);if(u.polyData!==l.polyData)return 1;var c=-1,f=-1;if(-1===u.cellId)c=u.pointId;else for(var m=u.polyData.getCell(u.cellId),g=m.getPoints(),p=Number.MAX_VALUE,v=[0,0,0],h=0;h<m.getNumberOfPoints();h++){g.getPoint(h,v);var y=d.default.distance2BetweenPoints(v,o);y<p&&(c=m.getPointId(h),p=y)}if(-1===l.cellId)f=l.pointId;else for(var A=l.polyData.getCell(l.cellId),S=A.getPoints(),T=Number.MAX_VALUE,M=[0,0,0],b=0;b<A.getNumberOfPoints();b++){S.getPoint(b,M);var D=d.default.distance2BetweenPoints(M,o);D<T&&(f=A.getPointId(b),T=D)}if(-1===c||-1===f)return 0;t.dijkstraGraphGeodesicPath.setInputData(u.polyData),t.dijkstraGraphGeodesicPath.setStartVertex(f),t.dijkstraGraphGeodesicPath.setEndVertex(c),t.dijkstraGraphGeodesicPath.update();var I=t.dijkstraGraphGeodesicPath.getOutputData(),w=[];I.getLines().getCell(0,w);var C=w.length,N=t.dijkstraGraphGeodesicPath.getIdList(),P=[0,0,0],x=[0,0,0],E=null;0!==t.distanceOffset&&(E=u.polyData.getPointData().getNormals());for(var O=0;O<C;O++){I.getPoints().getPoint(w[O],x);var L=N.getId(O);E&&(E.getTuple(L,P),x[0]+=P[0]*t.dstanceOffset,x[1]+=P[1]*t.distanceOffset,x[2]+=P[2]*t.distanceOffset),n.addIntermediatePointWorldPosition(r,x,L)}return t.lastInterpolatedVertexIds[0]=c,t.lastInterpolatedVertexIds[1]=f,n.getNthNode(r).pointId=c,n.getNthNode(a).pointId=f,1},e.updateNode=function(e,t,n,r){return 0},e.getContourPointIds=function(e,t){for(var n=e.getNumberOfNodes(),r=0,a=0;a<n;a++)r+=e.getNthNode(a).points.length+1;t.setNumberOfIds(r);for(var i=0,o=0;o<n;o++){var s=e.getNthNode(o);t.insertId(i++,s.pointId);for(var u=s.points.length,l=0;l<u;l++)t.insertId(i++,s.points[l].pointId)}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l.default.extend(e,t,n),s.default.setGet(e,t,["distanceOffset"]),t.dijkstraGraphGeodesicPath=m.default.newInstance(),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(535),l=r(u),c=n(1),d=r(c),f=n(536),m=r(f),g={distanceOffset:0,lastInterpolatedVertexIds:[-1,-1],dijkstraGraphGeodesicPath:null},p=t.newInstance=s.default.newInstance(i,"vtkPolygonalSurfaceContourLineInterpolator");t.default={newInstance:p,extend:i}},function(e,t,n){"use strict";(function(r,a){var i,o,s,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){"object"===u(t)&&void 0!==e?e.exports=n():(o=[],i=n,void 0!==(s="function"==typeof i?i.apply(t,o):i)&&(e.exports=s))}(function(){var e={},t=this,i=(new Function("try {return this===window;}catch(e){ return false;}"),new Function("try {return this===global;}catch(e){return false;}")),o=new Function("try {return typeof importScripts === 'function';}catch(e){return false;}");if(i()&&!o()&&(Worker=n(552).Worker),i()||o()){var s=t;if(o()){var l=function(e,n){var r=t;return e.split(".").forEach(function(e){r&&(r=r[e])}),r?r[n]:null};onmessage=function(e){if(e.data.className&&e.data.methodName){var t=l(e.data.className,e.data.methodName);t&&postMessage({result:t.apply(null,e.data.args),id:e.data.id})}}}}return function(e,t,n){function i(e,t){function n(){}n.prototype=e;var r=new n;for(var a in t)r[a]=t[a];return t.toString!==Object.prototype.toString&&(r.toString=t.toString),r}function o(e){return e instanceof Array?function(){return d.iter(e)}:"function"==typeof e.iterator?s(e,e.iterator):e.iterator}function s(e,t){if(null==t)return null;null==t.__id__&&(t.__id__=dt++);var n;return null==e.hx__closures__?e.hx__closures__={}:n=e.hx__closures__[t.__id__],null==n&&(n=function(){return n.method.apply(n.scope,arguments)},n.scope=e,n.method=t,e.hx__closures__[t.__id__]=n),n}t.geom=t.geom||{},t.exe=t.exe||{},t.eval=t.eval||{},t.core=t.core||{},t.promhx=t.promhx||{};var l={},c=function(){return O.__string_rec(this,"")},d=function(){};l.HxOverrides=d,d.__name__=["HxOverrides"],d.strDate=function(e){switch(e.length){case 8:var t=e.split(":"),n=new Date;return n.setTime(0),n.setUTCHours(t[0]),n.setUTCMinutes(t[1]),n.setUTCSeconds(t[2]),n;case 10:var r=e.split("-");return new Date(r[0],r[1]-1,r[2],0,0,0);case 19:var a=e.split(" "),i=a[0].split("-"),o=a[1].split(":");return new Date(i[0],i[1]-1,i[2],o[0],o[1],o[2]);default:throw new E("Invalid date format : "+e)}},d.cca=function(e,t){var n=e.charCodeAt(t);if(n==n)return n},d.substr=function(e,t,n){return null!=t&&0!=t&&null!=n&&n<0?"":(null==n&&(n=e.length),t<0?(t=e.length+t)<0&&(t=0):n<0&&(n=e.length+n-t),e.substr(t,n))},d.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var f=function(){};l.Lambda=f,f.__name__=["Lambda"],f.fold=function(e,t,n){for(var r=o(e)();r.hasNext();)n=t(r.next(),n);return n};var m=function(){this.length=0};l.List=m,m.__name__=["List"],m.prototype={add:function(e){var t=[e];null==this.h?this.h=t:this.q[1]=t,this.q=t,this.length++},pop:function(){if(null==this.h)return null;var e=this.h[0];return this.h=this.h[1],null==this.h&&(this.q=null),this.length--,e},isEmpty:function(){return null==this.h},__class__:m},Math.__name__=["Math"];var g=function(){};l.Reflect=g,g.__name__=["Reflect"],g.field=function(e,t){try{return e[t]}catch(e){return e instanceof E&&(e=e.val),null}},g.callMethod=function(e,t,n){return t.apply(e,n)},g.fields=function(e){var t=[];if(null!=e){var n=Object.prototype.hasOwnProperty;for(var r in e)"__id__"!=r&&"hx__closures__"!=r&&n.call(e,r)&&t.push(r)}return t},g.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},g.deleteField=function(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)&&(delete e[t],!0)};var p=function(){};l.Std=p,p.__name__=["Std"],p.string=function(e){return O.__string_rec(e,"")},p.parseFloat=function(e){return parseFloat(e)};var v=function(){this.b=""};l.StringBuf=v,v.__name__=["StringBuf"],v.prototype={add:function(e){this.b+=p.string(e)},__class__:v};var h=function(){};l.StringTools=h,h.__name__=["StringTools"],h.fastCodeAt=function(e,t){return e.charCodeAt(t)};var y=l.ValueType={__ename__:["ValueType"],__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};y.TNull=["TNull",0],y.TNull.toString=c,y.TNull.__enum__=y,y.TInt=["TInt",1],y.TInt.toString=c,y.TInt.__enum__=y,y.TFloat=["TFloat",2],y.TFloat.toString=c,y.TFloat.__enum__=y,y.TBool=["TBool",3],y.TBool.toString=c,y.TBool.__enum__=y,y.TObject=["TObject",4],y.TObject.toString=c,y.TObject.__enum__=y,y.TFunction=["TFunction",5],y.TFunction.toString=c,y.TFunction.__enum__=y,y.TClass=function(e){var t=["TClass",6,e];return t.__enum__=y,t.toString=c,t},y.TEnum=function(e){var t=["TEnum",7,e];return t.__enum__=y,t.toString=c,t},y.TUnknown=["TUnknown",8],y.TUnknown.toString=c,y.TUnknown.__enum__=y;var A=function(){};l.Type=A,A.__name__=["Type"],A.getClassName=function(e){var t=e.__name__;return null==t?null:t.join(".")},A.getEnumName=function(e){return e.__ename__.join(".")},A.resolveClass=function(e){var t=l[e];return null!=t&&t.__name__?t:null},A.resolveEnum=function(e){var t=l[e];return null!=t&&t.__ename__?t:null},A.createEmptyInstance=function(e){function t(){}return t.prototype=e.prototype,new t},A.createEnum=function(e,t,n){var r=g.field(e,t);if(null==r)throw new E("No such constructor "+t);if(g.isFunction(r)){if(null==n)throw new E("Constructor "+t+" need parameters");return g.callMethod(e,r,n)}if(null!=n&&0!=n.length)throw new E("Constructor "+t+" does not need parameters");return r},A.getEnumConstructs=function(e){return e.__constructs__.slice()},A.typeof=function(e){switch(void 0===e?"undefined":u(e)){case"boolean":return y.TBool;case"string":return y.TClass(String);case"number":return Math.ceil(e)==e%2147483648?y.TInt:y.TFloat;case"object":if(null==e)return y.TNull;var t=e.__enum__;if(null!=t)return y.TEnum(t);var n=O.getClass(e);return null!=n?y.TClass(n):y.TObject;case"function":return e.__name__||e.__ename__?y.TObject:y.TFunction;case"undefined":return y.TNull;default:return y.TUnknown}};var S=function(){};l["haxe.IMap"]=S,S.__name__=["haxe","IMap"];var T=function(e,t){this.high=e,this.low=t};l["haxe._Int64.___Int64"]=T,T.__name__=["haxe","_Int64","___Int64"],T.prototype={__class__:T};var M=function e(){this.buf=new v,this.cache=[],this.useCache=e.USE_CACHE,this.useEnumIndex=e.USE_ENUM_INDEX,this.shash=new C,this.scount=0};l["haxe.Serializer"]=M,M.__name__=["haxe","Serializer"],M.prototype={toString:function(){return this.buf.b},serializeString:function(e){var t=this.shash.get(e);if(null!=t)return this.buf.b+="R",void(this.buf.b+=null==t?"null":""+t);this.shash.set(e,this.scount++),this.buf.b+="y",e=encodeURIComponent(e),null==e.length?this.buf.b+="null":this.buf.b+=""+e.length,this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var t=void 0===e?"undefined":u(e),n=0,r=this.cache.length;n<r;){var a=n++,i=this.cache[a];if((void 0===i?"undefined":u(i))==t&&i==e)return this.buf.b+="r",this.buf.b+=null==a?"null":""+a,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var t=0,n=g.fields(e);t<n.length;){var r=n[t];++t,this.serializeString(r),this.serialize(g.field(e,r))}this.buf.b+="g"},serialize:function(e){var t=A.typeof(e);switch(t[1]){case 0:this.buf.b+="n";break;case 1:var n=e;if(0==n)return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==n?"null":""+n;break;case 2:var r=e;isNaN(r)?this.buf.b+="k":isFinite(r)?(this.buf.b+="d",this.buf.b+=null==r?"null":""+r):this.buf.b+=r<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 6:var a=t[2];if(a==String)return void this.serializeString(e);if(this.useCache&&this.serializeRef(e))return;switch(a){case Array:var i=0;this.buf.b+="a";for(var o=e.length,s=0;s<o;){var u=s++;null==e[u]?i++:(i>0&&(1==i?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==i?"null":""+i),i=0),this.serialize(e[u]))}i>0&&(1==i?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==i?"null":""+i)),this.buf.b+="h";break;case m:this.buf.b+="l";for(var l=e,c=l.h,d=null;null!=c;){var f;d=c[0],c=c[1],f=d,this.serialize(f)}this.buf.b+="h";break;case Date:var h=e;this.buf.b+="v",this.buf.add(h.getTime());break;case C:this.buf.b+="b";for(var y=e,S=y.keys();S.hasNext();){var T=S.next();this.serializeString(T),this.serialize(null!=yt[T]?y.getReserved(T):y.h[T])}this.buf.b+="h";break;case D:this.buf.b+="q";for(var b=e,w=b.keys();w.hasNext();){var P=w.next();this.buf.b+=":",this.buf.b+=null==P?"null":""+P,this.serialize(b.h[P])}this.buf.b+="h";break;case I:this.buf.b+="M";for(var x=e,L=x.keys();L.hasNext();){var _=L.next(),R=g.field(_,"__id__");g.deleteField(_,"__id__"),this.serialize(_),_.__id__=R,this.serialize(x.h[_.__id__])}this.buf.b+="h";break;case N:for(var k=e,B=0,V=k.length-2,F=new v,j=M.BASE64;B<V;){var U=k.get(B++),z=k.get(B++),G=k.get(B++);F.add(j.charAt(U>>2)),F.add(j.charAt(63&(U<<4|z>>4))),F.add(j.charAt(63&(z<<2|G>>6))),F.add(j.charAt(63&G))}if(B==V){var W=k.get(B++),Q=k.get(B++);F.add(j.charAt(W>>2)),F.add(j.charAt(63&(W<<4|Q>>4))),F.add(j.charAt(Q<<2&63))}else if(B==V+1){var Y=k.get(B++);F.add(j.charAt(Y>>2)),F.add(j.charAt(Y<<4&63))}var q=F.b;this.buf.b+="s",null==q.length?this.buf.b+="null":this.buf.b+=""+q.length,this.buf.b+=":",this.buf.b+=null==q?"null":""+q;break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(A.getClassName(a)),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(A.getClassName(a)),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 4:if(O.__instanceof(e,vt)){var H=A.getClassName(e);this.buf.b+="A",this.serializeString(H)}else if(O.__instanceof(e,ht))this.buf.b+="B",this.serializeString(A.getEnumName(e));else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 7:var Z=t[2];if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}this.useEnumIndex?this.buf.b+="j":this.buf.b+="w",this.serializeString(A.getEnumName(Z)),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=p.string(e[1])):this.serializeString(e[0]),this.buf.b+=":";var K=e.length;this.buf.b+=p.string(K-2);for(var X=2;X<K;){var J=X++;this.serialize(e[J])}this.useCache&&this.cache.push(e);break;case 5:throw new E("Cannot serialize function");default:throw new E("Cannot serialize "+p.string(e))}},__class__:M};var b=function e(t){this.buf=t,this.length=t.length,this.pos=0,this.scache=[],this.cache=[];var n=e.DEFAULT_RESOLVER;null==n&&(n=A,e.DEFAULT_RESOLVER=n),this.setResolver(n)};l["haxe.Unserializer"]=b,b.__name__=["haxe","Unserializer"],b.initCodes=function(){for(var e=[],t=0,n=b.BASE64.length;t<n;){var r=t++;e[b.BASE64.charCodeAt(r)]=r}return e},b.prototype={setResolver:function(e){this.resolver=null==e?{resolveClass:function(e){return null},resolveEnum:function(e){return null}}:e},get:function(e){return this.buf.charCodeAt(e)},readDigits:function(){for(var e=0,t=!1,n=this.pos;;){var r=this.buf.charCodeAt(this.pos);if(r!=r)break;if(45!=r){if(r<48||r>57)break;e=10*e+(r-48),this.pos++}else{if(this.pos!=n)break;t=!0,this.pos++}}return t&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var t=this.buf.charCodeAt(this.pos);if(!(t>=43&&t<58||101==t||69==t))break;this.pos++}return p.parseFloat(d.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw new E("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var t=this.unserialize();if("string"!=typeof t)throw new E("Invalid object key");var n=this.unserialize();e[t]=n}this.pos++},unserializeEnum:function(e,t){if(58!=this.get(this.pos++))throw new E("Invalid enum format");var n=this.readDigits();if(0==n)return A.createEnum(e,t);for(var r=[];n-- >0;)r.push(this.unserialize());return A.createEnum(e,t,r)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var e=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<e)throw new E("Invalid string length");var t=d.substr(this.buf,this.pos,e);return this.pos+=e,t=decodeURIComponent(t.split("+").join(" ")),this.scache.push(t),t;case 107:return NaN;case 109:return-1/0;case 112:return 1/0;case 97:var n=(this.buf,[]);for(this.cache.push(n);;){var r=this.buf.charCodeAt(this.pos);if(104==r){this.pos++;break}if(117==r){this.pos++;var a=this.readDigits();n[n.length+a-1]=null}else n.push(this.unserialize())}return n;case 111:var i={};return this.cache.push(i),this.unserializeObject(i),i;case 114:var o=this.readDigits();if(o<0||o>=this.cache.length)throw new E("Invalid reference");return this.cache[o];case 82:var s=this.readDigits();if(s<0||s>=this.scache.length)throw new E("Invalid string reference");return this.scache[s];case 120:throw new E(this.unserialize());case 99:var u=this.unserialize(),l=this.resolver.resolveClass(u);if(null==l)throw new E("Class not found "+u);var c=A.createEmptyInstance(l);return this.cache.push(c),this.unserializeObject(c),c;case 119:var f=this.unserialize(),g=this.resolver.resolveEnum(f);if(null==g)throw new E("Enum not found "+f);var p=this.unserializeEnum(g,this.unserialize());return this.cache.push(p),p;case 106:var v=this.unserialize(),y=this.resolver.resolveEnum(v);if(null==y)throw new E("Enum not found "+v);this.pos++;var S=this.readDigits(),T=A.getEnumConstructs(y)[S];if(null==T)throw new E("Unknown enum index "+v+"@"+S);var M=this.unserializeEnum(y,T);return this.cache.push(M),M;case 108:var w=new m;for(this.cache.push(w),this.buf;104!=this.buf.charCodeAt(this.pos);)w.add(this.unserialize());return this.pos++,w;case 98:var P=new C;for(this.cache.push(P),this.buf;104!=this.buf.charCodeAt(this.pos);){var x=this.unserialize();P.set(x,this.unserialize())}return this.pos++,P;case 113:var O=new D;this.cache.push(O);for(var L=(this.buf,this.get(this.pos++));58==L;){var _=this.readDigits();O.set(_,this.unserialize()),L=this.get(this.pos++)}if(104!=L)throw new E("Invalid IntMap format");return O;case 77:var R=new I;for(this.cache.push(R),this.buf;104!=this.buf.charCodeAt(this.pos);){var k=this.unserialize();R.set(k,this.unserialize())}return this.pos++,R;case 118:var B;if(this.buf.charCodeAt(this.pos)>=48&&this.buf.charCodeAt(this.pos)<=57&&this.buf.charCodeAt(this.pos+1)>=48&&this.buf.charCodeAt(this.pos+1)<=57&&this.buf.charCodeAt(this.pos+2)>=48&&this.buf.charCodeAt(this.pos+2)<=57&&this.buf.charCodeAt(this.pos+3)>=48&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)){var V=d.substr(this.buf,this.pos,19);B=d.strDate(V),this.pos+=19}else{var F=this.readFloat(),j=new Date;j.setTime(F),B=j}return this.cache.push(B),B;case 115:var U=this.readDigits(),z=this.buf;if(58!=this.get(this.pos++)||this.length-this.pos<U)throw new E("Invalid bytes length");var G=b.CODES;null==G&&(G=b.initCodes(),b.CODES=G);var W,Q=this.pos,Y=3&U;W=3*(U>>2)+(Y>=2?Y-1:0);for(var q=Q+(U-Y),H=N.alloc(W),Z=0;Q<q;){var K=G[h.fastCodeAt(z,Q++)],X=G[h.fastCodeAt(z,Q++)];H.set(Z++,K<<2|X>>4);var J=G[h.fastCodeAt(z,Q++)];H.set(Z++,X<<4|J>>2);var $=G[h.fastCodeAt(z,Q++)];H.set(Z++,J<<6|$)}if(Y>=2){var ee=G[h.fastCodeAt(z,Q++)],te=G[h.fastCodeAt(z,Q++)];if(H.set(Z++,ee<<2|te>>4),3==Y){var ne=G[h.fastCodeAt(z,Q++)];H.set(Z++,te<<4|ne>>2)}}return this.pos+=U,this.cache.push(H),H;case 67:var re=this.unserialize(),ae=this.resolver.resolveClass(re);if(null==ae)throw new E("Class not found "+re);var ie=A.createEmptyInstance(ae);if(this.cache.push(ie),ie.hxUnserialize(this),103!=this.get(this.pos++))throw new E("Invalid custom data");return ie;case 65:var oe=this.unserialize(),se=this.resolver.resolveClass(oe);if(null==se)throw new E("Class not found "+oe);return se;case 66:var ue=this.unserialize(),le=this.resolver.resolveEnum(ue);if(null==le)throw new E("Enum not found "+ue);return le}throw this.pos--,new E("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:b};var D=function(){this.h={}};l["haxe.ds.IntMap"]=D,D.__name__=["haxe","ds","IntMap"],D.__interfaces__=[S],D.prototype={set:function(e,t){this.h[e]=t},remove:function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},keys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(0|t);return d.iter(e)},__class__:D};var I=function(){this.h={},this.h.__keys__={}};l["haxe.ds.ObjectMap"]=I,I.__name__=["haxe","ds","ObjectMap"],I.__interfaces__=[S],I.prototype={set:function(e,t){var n=e.__id__||(e.__id__=++I.count);this.h[n]=t,this.h.__keys__[n]=e},keys:function(){var e=[];for(var t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return d.iter(e)},__class__:I};var w=l["haxe.ds.Option"]={__ename__:["haxe","ds","Option"],__constructs__:["Some","None"]};w.Some=function(e){var t=["Some",0,e];return t.__enum__=w,t.toString=c,t},w.None=["None",1],w.None.toString=c,w.None.__enum__=w;var C=function(){this.h={}};l["haxe.ds.StringMap"]=C,C.__name__=["haxe","ds","StringMap"],C.__interfaces__=[S],C.prototype={set:function(e,t){null!=yt[e]?this.setReserved(e,t):this.h[e]=t},get:function(e){return null!=yt[e]?this.getReserved(e):this.h[e]},setReserved:function(e,t){null==this.rh&&(this.rh={}),this.rh["$"+e]=t},getReserved:function(e){return null==this.rh?null:this.rh["$"+e]},keys:function(){var e=this.arrayKeys();return d.iter(e)},arrayKeys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(t);if(null!=this.rh)for(var t in this.rh)36==t.charCodeAt(0)&&e.push(t.substr(1));return e},__class__:C};var N=function(e){this.length=e.byteLength,this.b=new St(e),this.b.bufferValue=e,e.hxBytes=this,e.bytes=this.b};l["haxe.io.Bytes"]=N,N.__name__=["haxe","io","Bytes"],N.alloc=function(e){return new N(new At(e))},N.prototype={get:function(e){return this.b[e]},set:function(e,t){this.b[e]=255&t},__class__:N};var P=l["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};P.Blocked=["Blocked",0],P.Blocked.toString=c,P.Blocked.__enum__=P,P.Overflow=["Overflow",1],P.Overflow.toString=c,P.Overflow.__enum__=P,P.OutsideBounds=["OutsideBounds",2],P.OutsideBounds.toString=c,P.OutsideBounds.__enum__=P,P.Custom=function(e){var t=["Custom",3,e];return t.__enum__=P,t.toString=c,t};var x=function(){};l["haxe.io.FPHelper"]=x,x.__name__=["haxe","io","FPHelper"],x.i32ToFloat=function(e){var t=1-(e>>>31<<1),n=e>>>23&255,r=8388607&e;return 0==r&&0==n?0:t*(1+Math.pow(2,-23)*r)*Math.pow(2,n-127)},x.floatToI32=function(e){if(0==e)return 0;var t;t=e<0?-e:e;var n=Math.floor(Math.log(t)/.6931471805599453);n<-127?n=-127:n>128&&(n=128);var r=8388607&Math.round(8388608*(t/Math.pow(2,n)-1));return(e<0?-2147483648:0)|n+127<<23|r},x.i64ToDouble=function(e,t){var n=1-(t>>>31<<1),r=(t>>20&2047)-1023,a=4294967296*(1048575&t)+2147483648*(e>>>31)+(2147483647&e);return 0==a&&-1023==r?0:n*(1+Math.pow(2,-52)*a)*Math.pow(2,r)},x.doubleToI64=function(e){var t=x.i64tmp;if(0==e)t.low=0,t.high=0;else{var n;n=e<0?-e:e;var r,a=Math.floor(Math.log(n)/.6931471805599453),i=4503599627370496*(n/Math.pow(2,a)-1);r=Math.round(i);var o=0|r,s=r/4294967296|0;t.low=o,t.high=(e<0?-2147483648:0)|a+1023<<20|s}return t};var E=function e(t){Error.call(this),this.val=t,this.message=String(t),Error.captureStackTrace&&Error.captureStackTrace(this,e)};l["js._Boot.HaxeError"]=E,E.__name__=["js","_Boot","HaxeError"],E.__super__=Error,E.prototype=i(Error.prototype,{__class__:E});var O=function(){};l["js.Boot"]=O,O.__name__=["js","Boot"],O.getClass=function(e){if(e instanceof Array&&null==e.__enum__)return Array;var t=e.__class__;if(null!=t)return t;var n=O.__nativeClassName(e);return null!=n?O.__resolveNativeClass(n):null},O.__string_rec=function(e,t){if(null==e)return"null";if(t.length>=5)return"<...>";var n=void 0===e?"undefined":u(e);switch("function"==n&&(e.__name__||e.__ename__)&&(n="object"),n){case"object":if(e instanceof Array){if(e.__enum__){if(2==e.length)return e[0];var r=e[0]+"(";t+="\t";for(var a=2,i=e.length;a<i;){var o=a++;r+=2!=o?","+O.__string_rec(e[o],t):O.__string_rec(e[o],t)}return r+")"}var s=e.length,l="[";t+="\t";for(var c=0;c<s;){var d=c++;l+=(d>0?",":"")+O.__string_rec(e[d],t)}return l+="]"}var f;try{f=e.toString}catch(e){return e instanceof E&&(e=e.val),"???"}if(null!=f&&f!=Object.toString&&"function"==typeof f){var m=e.toString();if("[object Object]"!=m)return m}var g=null,p="{\n";t+="\t";var v=null!=e.hasOwnProperty;for(var g in e)v&&!e.hasOwnProperty(g)||"prototype"!=g&&"__class__"!=g&&"__super__"!=g&&"__interfaces__"!=g&&"__properties__"!=g&&(2!=p.length&&(p+=", \n"),p+=t+g+" : "+O.__string_rec(e[g],t));return t=t.substring(1),p+="\n"+t+"}";case"function":return"<function>";case"string":return e;default:return String(e)}},O.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var n=e.__interfaces__;if(null!=n)for(var r=0,a=n.length;r<a;){var i=r++,o=n[i];if(o==t||O.__interfLoop(o,t))return!0}return O.__interfLoop(e.__super__,t)},O.__instanceof=function(e,t){if(null==t)return!1;switch(t){case ft:return(0|e)===e;case gt:return"number"==typeof e;case pt:return"boolean"==typeof e;case String:return"string"==typeof e;case Array:return e instanceof Array&&null==e.__enum__;case mt:return!0;default:if(null==e)return!1;if("function"==typeof t){if(e instanceof t)return!0;if(O.__interfLoop(O.getClass(e),t))return!0}else if("object"==(void 0===t?"undefined":u(t))&&O.__isNativeObj(t)&&e instanceof t)return!0;return t==vt&&null!=e.__name__||t==ht&&null!=e.__ename__||e.__enum__==t}},O.__nativeClassName=function(e){var t=O.__toStr.call(e).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},O.__isNativeObj=function(e){return null!=O.__nativeClassName(e)},O.__resolveNativeClass=function(e){return n[e]};var L=function(e){if(e instanceof Array&&null==e.__enum__)this.a=e,this.byteLength=e.length;else{var t=e;this.a=[];for(var n=0;n<t;){var r=n++;this.a[r]=0}this.byteLength=t}};l["js.html.compat.ArrayBuffer"]=L,L.__name__=["js","html","compat","ArrayBuffer"],L.sliceImpl=function(e,t){var n=new St(this,e,null==t?null:t-e),r=new At(n.byteLength);return new St(r).set(n),r},L.prototype={slice:function(e,t){return new L(this.a.slice(e,t))},__class__:L};var _=function(e,t,n){if(this.buf=e,this.offset=null==t?0:t,this.length=null==n?e.byteLength-this.offset:n,this.offset<0||this.length<0||this.offset+this.length>e.byteLength)throw new E(P.OutsideBounds)};l["js.html.compat.DataView"]=_,_.__name__=["js","html","compat","DataView"],_.prototype={getInt8:function(e){var t=this.buf.a[this.offset+e];return t>=128?t-256:t},getUint8:function(e){return this.buf.a[this.offset+e]},getInt16:function(e,t){var n=this.getUint16(e,t);return n>=32768?n-65536:n},getUint16:function(e,t){return t?this.buf.a[this.offset+e]|this.buf.a[this.offset+e+1]<<8:this.buf.a[this.offset+e]<<8|this.buf.a[this.offset+e+1]},getInt32:function(e,t){var n=this.offset+e,r=this.buf.a[n++],a=this.buf.a[n++],i=this.buf.a[n++],o=this.buf.a[n++];return t?r|a<<8|i<<16|o<<24:o|i<<8|a<<16|r<<24},getUint32:function(e,t){var n=this.getInt32(e,t);return n<0?n+4294967296:n},getFloat32:function(e,t){return x.i32ToFloat(this.getInt32(e,t))},getFloat64:function(e,t){var n=this.getInt32(e,t),r=this.getInt32(e+4,t);return x.i64ToDouble(t?n:r,t?r:n)},setInt8:function(e,t){this.buf.a[e+this.offset]=t<0?t+128&255:255&t},setUint8:function(e,t){this.buf.a[e+this.offset]=255&t},setInt16:function(e,t,n){this.setUint16(e,t<0?t+65536:t,n)},setUint16:function(e,t,n){var r=e+this.offset;n?(this.buf.a[r]=255&t,this.buf.a[r++]=t>>8&255):(this.buf.a[r++]=t>>8&255,this.buf.a[r]=255&t)},setInt32:function(e,t,n){this.setUint32(e,t,n)},setUint32:function(e,t,n){var r=e+this.offset;n?(this.buf.a[r++]=255&t,this.buf.a[r++]=t>>8&255,this.buf.a[r++]=t>>16&255,this.buf.a[r++]=t>>>24):(this.buf.a[r++]=t>>>24,this.buf.a[r++]=t>>16&255,this.buf.a[r++]=t>>8&255,this.buf.a[r++]=255&t)},setFloat32:function(e,t,n){this.setUint32(e,x.floatToI32(t),n)},setFloat64:function(e,t,n){var r=x.doubleToI64(t);n?(this.setUint32(e,r.low),this.setUint32(e,r.high)):(this.setUint32(e,r.high),this.setUint32(e,r.low))},__class__:_};var R=function(){};l["js.html.compat.Uint8Array"]=R,R.__name__=["js","html","compat","Uint8Array"],R._new=function(e,t,n){var r;if("number"==typeof e){r=[];for(var a=0;a<e;)r[a++]=0;r.byteLength=r.length,r.byteOffset=0,r.buffer=new L(r)}else if(O.__instanceof(e,L)){var i=e;null==t&&(t=0),null==n&&(n=i.byteLength-t),r=0==t?i.a:i.a.slice(t,t+n),r.byteLength=r.length,r.byteOffset=t,r.buffer=i}else{if(!(e instanceof Array&&null==e.__enum__))throw new E("TODO "+p.string(e));r=e.slice(),r.byteLength=r.length,r.byteOffset=0,r.buffer=new L(r)}return r.subarray=R._subarray,r.set=R._set,r},R._set=function(e,t){var n=this;if(O.__instanceof(e.buffer,L)){var r=e;if(e.byteLength+t>n.byteLength)throw new E("set() outside of range");for(var a=0,i=e.byteLength;a<i;){var o=a++;n[o+t]=r[o]}}else{if(!(e instanceof Array&&null==e.__enum__))throw new E("TODO");var s=e;if(s.length+t>n.byteLength)throw new E("set() outside of range");for(var u=0,l=s.length;u<l;){var c=u++;n[c+t]=s[c]}}},R._subarray=function(e,t){var n=this,r=R._new(n.slice(e,t));return r.byteOffset=e,r};var k=function e(t){this._resolved=!1,this._pending=!1,this._errorPending=!1,this._fulfilled=!1,this._update=[],this._error=[],this._errored=!1,null!=t&&e.link(t,this,function(e){return e})};l["promhx.base.AsyncBase"]=k,k.__name__=["promhx","base","AsyncBase"],k.link=function(e,t,n){e._update.push({async:t,linkf:function(e){t.handleResolve(n(e))}}),k.immediateLinkUpdate(e,t,n)},k.immediateLinkUpdate=function(e,t,n){if(!e._errored||e._errorPending||e._error.length>0||t.handleError(e._errorVal),e._resolved&&!e._pending)try{t.handleResolve(n(e._val))}catch(e){e instanceof E&&(e=e.val),t.handleError(e)}},k.linkAll=function(e,t){for(var n=function(n,r,a){if(0==n.length||k.allFulfilled(n)){for(var i,s=[],u=o(e)();u.hasNext();){var l=u.next();s.push(l==r?a:l._val)}i=s,t.handleResolve(i)}},r=o(e)();r.hasNext();){var a=r.next();a._update.push({async:t,linkf:function(e,t,n){return function(r){e(t,n,r)}}(n,function(t){for(var n=[],r=o(e)();r.hasNext();){var i=r.next();i!=a&&n.push(i)}return n}(),a)})}k.allFulfilled(e)&&t.handleResolve(function(t){for(var n=[],r=o(e)();r.hasNext();){var a=r.next();n.push(a._val)}return n}())},k.pipeLink=function(e,t,n){var r=!1,a=function(e){if(!r){r=!0;var a=n(e);a._update.push({async:t,linkf:s(t,t.handleResolve)}),k.immediateLinkUpdate(a,t,function(e){return e})}};if(e._update.push({async:t,linkf:a}),e._resolved&&!e._pending)try{a(e._val)}catch(e){e instanceof E&&(e=e.val),t.handleError(e)}},k.allResolved=function(e){for(var t=o(e)();t.hasNext();)if(!t.next()._resolved)return!1;return!0},k.allFulfilled=function(e){for(var t=o(e)();t.hasNext();)if(!t.next()._fulfilled)return!1;return!0},k.prototype={catchError:function(e){return this._error.push(e),this},errorThen:function(e){return this._errorMap=e,this},isResolved:function(){return this._resolved},isErrored:function(){return this._errored},isErrorHandled:function(){return this._error.length>0},isErrorPending:function(){return this._errorPending},isFulfilled:function(){return this._fulfilled},isPending:function(){return this._pending},handleResolve:function(e){this._resolve(e)},_resolve:function(e){var t=this;this._pending?U.enqueue(function(e,t){return function(){e(t)}}(s(this,this._resolve),e)):(this._resolved=!0,this._pending=!0,U.queue.add(function(){t._val=e;for(var n=0,r=t._update;n<r.length;){var a=r[n];++n;try{a.linkf(e)}catch(e){e instanceof E&&(e=e.val),a.async.handleError(e)}}t._fulfilled=!0,t._pending=!1}),U.continueOnNextLoop())},handleError:function(e){this._handleError(e)},_handleError:function(e){var t=this,n=function(e){if(t._error.length>0)for(var n=0,r=t._error;n<r.length;){var a=r[n];++n,a(e)}else{if(!(t._update.length>0))throw new E(e);for(var i=0,o=t._update;i<o.length;){var s=o[i];++i,s.async.handleError(e)}}t._errorPending=!1};this._errorPending||(this._errorPending=!0,this._errored=!0,this._errorVal=e,U.queue.add(function(){if(null!=t._errorMap)try{t._resolve(t._errorMap(e))}catch(e){e instanceof E&&(e=e.val),n(e)}else n(e)}),U.continueOnNextLoop())},then:function(e){var t=new k(null);return k.link(this,t,e),t},unlink:function(e){var t=this;U.queue.add(function(){t._update=t._update.filter(function(t){return t.async!=e})}),U.continueOnNextLoop()},isLinked:function(e){for(var t=0,n=this._update;t<n.length;){var r=n[t];if(++t,r.async==e)return!0}return!1},__class__:k};var B=t.promhx.Deferred=function(){k.call(this)};l["promhx.Deferred"]=B,B.__name__=["promhx","Deferred"],B.__super__=k,B.prototype=i(k.prototype,{resolve:function(e){this.handleResolve(e)},throwError:function(e){this.handleError(e)},promise:function(){return new V(this)},stream:function(){return new F(this)},publicStream:function(){return new j(this)},__class__:B});var V=t.promhx.Promise=function(e){k.call(this,e),this._rejected=!1};l["promhx.Promise"]=V,V.__name__=["promhx","Promise"],V.whenAll=function(e){var t=new V(null);return k.linkAll(e,t),t},V.promise=function(e){var t=new V;return t.handleResolve(e),t},V.__super__=k,V.prototype=i(k.prototype,{isRejected:function(){return this._rejected},reject:function(e){this._rejected=!0,this.handleError(e)},handleResolve:function(e){if(this._resolved)throw new E(z.AlreadyResolved("Promise has already been resolved"));this._resolve(e)},then:function(e){var t=new V(null);return k.link(this,t,e),t},unlink:function(e){var t=this;U.queue.add(function(){t._fulfilled?t._update=t._update.filter(function(t){return t.async!=e}):t.handleError(z.DownstreamNotFullfilled("Downstream Promise is not fullfilled"))}),U.continueOnNextLoop()},handleError:function(e){this._rejected=!0,this._handleError(e)},pipe:function(e){var t=new V(null);return k.pipeLink(this,t,e),t},errorPipe:function(e){var t=new V;return this.catchError(function(n){e(n).then(s(t,t._resolve))}),this.then(s(t,t._resolve)),t},__class__:V});var F=t.promhx.Stream=function(e){k.call(this,e),this._end_promise=new V};l["promhx.Stream"]=F,F.__name__=["promhx","Stream"],F.foreach=function(e){for(var t=new F(null),n=o(e)();n.hasNext();){var r=n.next();t.handleResolve(r)}return t.end(),t},F.wheneverAll=function(e){var t=new F(null);return k.linkAll(e,t),t},F.concatAll=function(e){for(var t=new F(null),n=o(e)();n.hasNext();){var r=n.next();t.concat(r)}return t},F.mergeAll=function(e){for(var t=new F(null),n=o(e)();n.hasNext();){var r=n.next();t.merge(r)}return t},F.stream=function(e){var t=new F(null);return t.handleResolve(e),t},F.__super__=k,F.prototype=i(k.prototype,{then:function(e){var t=new F(null);return k.link(this,t,e),this._end_promise._update.push({async:t._end_promise,linkf:function(e){t.end()}}),t},detachStream:function(e){for(var t=[],n=!1,r=0,a=this._update;r<a.length;){var i=a[r];++r,i.async==e?(this._end_promise._update=this._end_promise._update.filter(function(t){return t.async!=e._end_promise}),n=!0):t.push(i)}return this._update=t,n},first:function(){var e=new V(null);return this.then(function(t){e._resolved||e.handleResolve(t)}),e},handleResolve:function(e){this._end||this._pause||this._resolve(e)},pause:function(e){null==e&&(e=!this._pause),this._pause=e},pipe:function(e){var t=new F(null);return k.pipeLink(this,t,e),this._end_promise.then(function(e){t.end()}),t},errorPipe:function(e){var t=new F(null);return this.catchError(function(n){var r=e(n);r.then(s(t,t._resolve)),r._end_promise.then((ct=t._end_promise,s(ct,ct._resolve)))}),this.then(s(t,t._resolve)),this._end_promise.then(function(e){t.end()}),t},handleEnd:function(){if(this._pending)U.queue.add(s(this,this.handleEnd)),U.continueOnNextLoop();else{if(this._end_promise._resolved)return;this._end=!0;var e;e=this._resolved?w.Some(this._val):w.None,this._end_promise.handleResolve(e),this._update=[],this._error=[]}},end:function(){return U.queue.add(s(this,this.handleEnd)),U.continueOnNextLoop(),this},endThen:function(e){return this._end_promise.then(e)},filter:function(e){var t=new F(null);return this._update.push({async:t,linkf:function(n){e(n)&&t.handleResolve(n)}}),k.immediateLinkUpdate(this,t,function(e){return e}),t},concat:function(e){var t=new F(null);return this._update.push({async:t,linkf:s(t,t.handleResolve)}),k.immediateLinkUpdate(this,t,function(e){return e}),this._end_promise.then(function(n){e.pipe(function(e){return t.handleResolve(e),t}),e._end_promise.then(function(e){t.end()})}),t},merge:function(e){var t=new F(null);return this._update.push({async:t,linkf:s(t,t.handleResolve)}),e._update.push({async:t,linkf:s(t,t.handleResolve)}),k.immediateLinkUpdate(this,t,function(e){return e}),k.immediateLinkUpdate(e,t,function(e){return e}),t},__class__:F});var j=t.promhx.PublicStream=function(e){F.call(this,e)};l["promhx.PublicStream"]=j,j.__name__=["promhx","PublicStream"],j.publicstream=function(e){var t=new j(null);return t.handleResolve(e),t},j.__super__=F,j.prototype=i(F.prototype,{resolve:function(e){this.handleResolve(e)},throwError:function(e){this.handleError(e)},update:function(e){this.handleResolve(e)},__class__:j});var U=function(){};l["promhx.base.EventLoop"]=U,U.__name__=["promhx","base","EventLoop"],U.enqueue=function(e){U.queue.add(e),U.continueOnNextLoop()},U.set_nextLoop=function(e){if(null!=U.nextLoop)throw new E("nextLoop has already been set");return U.nextLoop=e,U.nextLoop},U.queueEmpty=function(){return U.queue.isEmpty()},U.finish=function(e){null==e&&(e=1e3);for(var t=null;e-- >0&&null!=(t=U.queue.pop());)t();return U.queue.isEmpty()},U.clear=function(){U.queue=new m},U.f=function(){var e=U.queue.pop();null!=e&&e(),U.queue.isEmpty()||U.continueOnNextLoop()},U.continueOnNextLoop=function(){null!=U.nextLoop?U.nextLoop(U.f):r(U.f)};var z=l["promhx.error.PromiseError"]={__ename__:["promhx","error","PromiseError"],__constructs__:["AlreadyResolved","DownstreamNotFullfilled"]};z.AlreadyResolved=function(e){var t=["AlreadyResolved",0,e];return t.__enum__=z,t.toString=c,t},z.DownstreamNotFullfilled=function(e){var t=["DownstreamNotFullfilled",1,e];return t.__enum__=z,t.toString=c,t};var G=function(){};l["verb.Verb"]=G,G.__name__=["verb","Verb"],G.main=function(){e.log("verb 2.0.0")};var W=function(){};l["verb.core.ArrayExtensions"]=W,W.__name__=["verb","core","ArrayExtensions"],W.alloc=function(e,t){if(!(t<0))for(;e.length<t;)e.push(null)},W.reversed=function(e){var t=e.slice();return t.reverse(),t},W.last=function(e){return e[e.length-1]},W.first=function(e){return e[0]},W.spliceAndInsert=function(e,t,n,r){e.splice(t,n),e.splice(t,0,r)},W.left=function(e){if(0==e.length)return[];var t=Math.ceil(e.length/2);return e.slice(0,t)},W.right=function(e){if(0==e.length)return[];var t=Math.ceil(e.length/2);return e.slice(t)},W.rightWithPivot=function(e){if(0==e.length)return[];var t=Math.ceil(e.length/2);return e.slice(t-1)},W.unique=function(e,t){if(0==e.length)return[];for(var n=[e.pop()];e.length>0;){for(var r=e.pop(),a=!0,i=0;i<n.length;){var o=n[i];if(++i,t(r,o)){a=!1;break}}a&&n.push(r)}return n};var Q=function(){};l["verb.core.Binomial"]=Q,Q.__name__=["verb","core","Binomial"],Q.get=function(e,t){if(0==t)return 1;if(0==e||t>e)return 0;if(t>e-t&&(t=e-t),Q.memo_exists(e,t))return Q.get_memo(e,t);for(var n=1,r=e,a=1,i=t+1;a<i;){var o=a++;Q.memo_exists(r,o)?(e--,n=Q.get_memo(r,o)):(n*=e--,n/=o,Q.memoize(r,o,n))}return n},Q.get_no_memo=function(e,t){if(0==t)return 1;if(0==e||t>e)return 0;t>e-t&&(t=e-t);for(var n=1,r=1,a=t+1;r<a;){var i=r++;n*=e--,n/=i}return n},Q.memo_exists=function(e,t){return Q.memo.h.hasOwnProperty(e)&&Q.memo.h[e].h.hasOwnProperty(t)},Q.get_memo=function(e,t){return Q.memo.h[e].h[t]},Q.memoize=function(e,t,n){Q.memo.h.hasOwnProperty(e)||Q.memo.set(e,new D),Q.memo.h[e].h[t]=n};var Y=t.core.BoundingBox=function(e){this.max=null,this.min=null,this.dim=3,this.initialized=!1,null!=e&&this.addRange(e)};l["verb.core.BoundingBox"]=Y,Y.__name__=["verb","core","BoundingBox"],Y.intervalsOverlap=function(e,t,n,r,a){null==a&&(a=-1);var i;i=a<-.5?q.TOLERANCE:a;var o=Math.min(e,t)-i,s=Math.max(e,t)+i,u=Math.min(n,r)-i,l=Math.max(n,r)+i;return o>=u&&o<=l||s>=u&&s<=l||u>=o&&u<=s||l>=o&&l<=s},Y.prototype={fromPoint:function(e){return new Y([e])},add:function(e){if(!this.initialized)return this.dim=e.length,this.min=e.slice(0),this.max=e.slice(0),this.initialized=!0,this;for(var t=0,n=this.dim;t<n;){var r=t++;e[r]>this.max[r]&&(this.max[r]=e[r]),e[r]<this.min[r]&&(this.min[r]=e[r])}return this},addRange:function(e){for(var t=e.length,n=0;n<t;){var r=n++;this.add(e[r])}return this},contains:function(e,t){return null==t&&(t=-1),!!this.initialized&&this.intersects(new Y([e]),t)},intersects:function(e,t){if(null==t&&(t=-1),!this.initialized||!e.initialized)return!1;for(var n=this.min,r=this.max,a=e.min,i=e.max,o=0,s=this.dim;o<s;){var u=o++;if(!Y.intervalsOverlap(n[u],r[u],a[u],i[u],t))return!1}return!0},clear:function(){return this.initialized=!1,this},getLongestAxis:function(){for(var e=0,t=0,n=0,r=this.dim;n<r;){var a=n++,i=this.getAxisLength(a);i>e&&(e=i,t=a)}return t},getAxisLength:function(e){return e<0||e>this.dim-1?0:Math.abs(this.min[e]-this.max[e])},intersect:function(e,t){if(!this.initialized)return null;var n=this.min,r=this.max,a=e.min,i=e.max;if(!this.intersects(e,t))return null;for(var o=[],s=[],u=0,l=this.dim;u<l;){var c=u++;o.push(Math.min(r[c],i[c])),s.push(Math.max(n[c],a[c]))}return new Y([s,o])},__class__:Y};var q=t.core.Constants=function(){};l["verb.core.Constants"]=q,q.__name__=["verb","core","Constants"];var H=t.core.SerializableBase=function(){};l["verb.core.SerializableBase"]=H,H.__name__=["verb","core","SerializableBase"],H.prototype={serialize:function(){var e=new M;return e.serialize(this),e.toString()},__class__:H};var Z=t.core.Plane=function(e,t){this.origin=e,this.normal=t};l["verb.core.Plane"]=Z,Z.__name__=["verb","core","Plane"],Z.__super__=H,Z.prototype=i(H.prototype,{__class__:Z});var K=t.core.Ray=function(e,t){this.origin=e,this.dir=t};l["verb.core.Ray"]=K,K.__name__=["verb","core","Ray"],K.__super__=H,K.prototype=i(H.prototype,{__class__:K});var X=t.core.NurbsCurveData=function(e,t,n){this.degree=e,this.controlPoints=n,this.knots=t};l["verb.core.NurbsCurveData"]=X,X.__name__=["verb","core","NurbsCurveData"],X.__super__=H,X.prototype=i(H.prototype,{__class__:X});var J=t.core.NurbsSurfaceData=function(e,t,n,r,a){this.degreeU=e,this.degreeV=t,this.knotsU=n,this.knotsV=r,this.controlPoints=a};l["verb.core.NurbsSurfaceData"]=J,J.__name__=["verb","core","NurbsSurfaceData"],J.__super__=H,J.prototype=i(H.prototype,{__class__:J});var $=t.core.MeshData=function(e,t,n,r){this.faces=e,this.points=t,this.normals=n,this.uvs=r};l["verb.core.MeshData"]=$,$.__name__=["verb","core","MeshData"],$.empty=function(){return new $([],[],[],[])},$.__super__=H,$.prototype=i(H.prototype,{__class__:$});var ee=t.core.PolylineData=function(e,t){this.points=e,this.params=t};l["verb.core.PolylineData"]=ee,ee.__name__=["verb","core","PolylineData"],ee.__super__=H,ee.prototype=i(H.prototype,{__class__:ee});var te=t.core.VolumeData=function(e,t,n,r,a,i,o){this.degreeU=e,this.degreeV=t,this.degreeW=n,this.knotsU=r,this.knotsV=a,this.knotsW=i,this.controlPoints=o};l["verb.core.VolumeData"]=te,te.__name__=["verb","core","VolumeData"],te.__super__=H,te.prototype=i(H.prototype,{__class__:te});var ne=t.core.Pair=function(e,t){this.item0=e,this.item1=t};l["verb.core.Pair"]=ne,ne.__name__=["verb","core","Pair"],ne.prototype={__class__:ne};var re=t.core.Interval=function(e,t){this.min=e,this.max=t};l["verb.core.Interval"]=re,re.__name__=["verb","core","Interval"],re.prototype={__class__:re};var ae=t.core.CurveCurveIntersection=function(e,t,n,r){this.point0=e,this.point1=t,this.u0=n,this.u1=r};l["verb.core.CurveCurveIntersection"]=ae,ae.__name__=["verb","core","CurveCurveIntersection"],ae.prototype={__class__:ae};var ie=t.core.CurveSurfaceIntersection=function(e,t,n,r){this.u=e,this.uv=t,this.curvePoint=n,this.surfacePoint=r};l["verb.core.CurveSurfaceIntersection"]=ie,ie.__name__=["verb","core","CurveSurfaceIntersection"],ie.prototype={__class__:ie};var oe=t.core.MeshIntersectionPoint=function(e,t,n,r,a){this.visited=!1,this.adj=null,this.opp=null,this.uv0=e,this.uv1=t,this.point=n,this.faceIndex0,this.faceIndex1};l["verb.core.MeshIntersectionPoint"]=oe,oe.__name__=["verb","core","MeshIntersectionPoint"],oe.prototype={__class__:oe};var se=t.core.PolylineMeshIntersection=function(e,t,n,r,a){this.point=e,this.u=t,this.uv=n,this.polylineIndex=r,this.faceIndex=a};l["verb.core.PolylineMeshIntersection"]=se,se.__name__=["verb","core","PolylineMeshIntersection"],se.prototype={__class__:se};var ue=t.core.SurfaceSurfaceIntersectionPoint=function(e,t,n,r){this.uv0=e,this.uv1=t,this.point=n,this.dist=r};l["verb.core.SurfaceSurfaceIntersectionPoint"]=ue,ue.__name__=["verb","core","SurfaceSurfaceIntersectionPoint"],ue.prototype={__class__:ue};var le=t.core.TriSegmentIntersection=function(e,t,n,r){this.point=e,this.s=t,this.t=n,this.p=r};l["verb.core.TriSegmentIntersection"]=le,le.__name__=["verb","core","TriSegmentIntersection"],le.prototype={__class__:le};var ce=t.core.CurveTriPoint=function(e,t,n){this.u=e,this.point=t,this.uv=n};l["verb.core.CurveTriPoint"]=ce,ce.__name__=["verb","core","CurveTriPoint"],ce.prototype={__class__:ce};var de=function(e,t,n,r,a){null==a&&(a=!1),null==r&&(r=-1),this.uv=n,this.point=e,this.normal=t,this.id=r,this.degen=a};l["verb.core.SurfacePoint"]=de,de.__name__=["verb","core","SurfacePoint"],de.fromUv=function(e,t){return new de(null,null,[e,t])},de.prototype={__class__:de};var fe=t.core.CurvePoint=function(e,t){this.u=e,this.pt=t};l["verb.core.CurvePoint"]=fe,fe.__name__=["verb","core","CurvePoint"],fe.prototype={__class__:fe};var me=t.core.KdTree=function(e,t){this.dim=3,this.points=e,this.distanceFunction=t,this.dim=e[0].point.length,this.root=this.buildTree(e,0,null)};l["verb.core.KdTree"]=me,me.__name__=["verb","core","KdTree"],me.prototype={buildTree:function(e,t,n){var r,a,i=t%this.dim;return 0==e.length?null:1==e.length?new ve(e[0],i,n):(e.sort(function(e,t){var n=e.point[i]-t.point[i];return 0==n?0:n>0?1:-1}),r=Math.floor(e.length/2),a=new ve(e[r],i,n),a.left=this.buildTree(e.slice(0,r),t+1,a),a.right=this.buildTree(e.slice(r+1),t+1,a),a)},nearest:function(e,t,n){var r,a=this,i=new ge(function(e){return-e.item1}),o=null;o=function(n){for(var r,s,u=n.dimension,l=a.distanceFunction(e,n.kdPoint.point),c=[],d=0,f=a.dim;d<f;)d++,c.push(0);s=c;for(var m,g,p=function(e,n){i.push(new ne(e,n)),i.size()>t&&i.pop()},v=0,h=a.dim;v<h;){var y=v++;y==n.dimension?s[y]=e[y]:s[y]=n.kdPoint.point[y]}if(m=a.distanceFunction(s,n.kdPoint.point),null==n.right&&null==n.left)return void((i.size()<t||l<i.peek().item1)&&p(n,l));r=null==n.right?n.left:null==n.left?n.right:e[u]<n.kdPoint.point[u]?n.left:n.right,o(r),(i.size()<t||l<i.peek().item1)&&p(n,l),(i.size()<t||Math.abs(m)<i.peek().item1)&&null!=(g=r==n.left?n.right:n.left)&&o(g)},r=o;for(var s=0;s<t;)s++,i.push(new ne(null,n));r(this.root);for(var u=[],l=0;l<t;){var c=l++;null!=i.content[c].item0&&u.push(new ne(i.content[c].item0.kdPoint,i.content[c].item1))}return u},__class__:me};var ge=function(e){this.content=[],this.scoreFunction=e};l["verb.core.BinaryHeap"]=ge,ge.__name__=["verb","core","BinaryHeap"],ge.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},peek:function(){return this.content[0]},remove:function(e){for(var t=this.content.length,n=0;n<t;){var r=n++;if(this.content[r]==e){var a=this.content.pop();return void(r!=t-1&&(this.content[r]=a,this.scoreFunction(a)<this.scoreFunction(e)?this.bubbleUp(r):this.sinkDown(r)))}}throw new E("Node not found.")},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var a=2*(e+1),i=a-1,o=-1,s=0;if(i<t){var u=this.content[i];(s=this.scoreFunction(u))<r&&(o=i)}if(a<t){var l=this.content[a];this.scoreFunction(l)<(-1==o?r:s)&&(o=a)}if(-1==o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}},__class__:ge};var pe=t.core.KdPoint=function(e,t){this.point=e,this.obj=t};l["verb.core.KdPoint"]=pe,pe.__name__=["verb","core","KdPoint"],pe.prototype={__class__:pe};var ve=t.core.KdNode=function(e,t,n){this.kdPoint=e,this.left=null,this.right=null,this.parent=n,this.dimension=t};l["verb.core.KdNode"]=ve,ve.__name__=["verb","core","KdNode"],ve.prototype={__class__:ve};var he=function(){};l["verb.eval.IBoundingBoxTree"]=he,he.__name__=["verb","eval","IBoundingBoxTree"],he.prototype={__class__:he};var ye=function(e,t){this._boundingBox=null,this._curve=e,null==t&&(t=Ee.domain(this._curve.knots)/64),this._knotTol=t};l["verb.core.LazyCurveBoundingBoxTree"]=ye,ye.__name__=["verb","core","LazyCurveBoundingBoxTree"],ye.__interfaces__=[he],ye.prototype={split:function(){var e=W.first(this._curve.knots),t=W.last(this._curve.knots),n=t-e,r=Re.curveSplit(this._curve,(t+e)/2+.1*n*Math.random());return new ne(new ye(r[0],this._knotTol),new ye(r[1],this._knotTol))},boundingBox:function(){return null==this._boundingBox&&(this._boundingBox=new Y(Be.dehomogenize1d(this._curve.controlPoints))),this._boundingBox},yield:function(){return this._curve},indivisible:function(e){return Ee.domain(this._curve.knots)<this._knotTol},empty:function(){return!1},__class__:ye};var Ae=function(e,t){if(this._boundingBox=null,this._mesh=e,null==t){for(var n=[],r=0,a=e.faces.length;r<a;){var i=r++;n.push(i)}t=n}this._faceIndices=t};l["verb.core.LazyMeshBoundingBoxTree"]=Ae,Ae.__name__=["verb","core","LazyMeshBoundingBoxTree"],Ae.__interfaces__=[he],Ae.prototype={split:function(){var e=De.sortTrianglesOnLongestAxis(this.boundingBox(),this._mesh,this._faceIndices),t=W.left(e),n=W.right(e);return new ne(new Ae(this._mesh,t),new Ae(this._mesh,n))},boundingBox:function(){return null==this._boundingBox&&(this._boundingBox=De.makeMeshAabb(this._mesh,this._faceIndices)),this._boundingBox},yield:function(){return this._faceIndices[0]},indivisible:function(e){return 1==this._faceIndices.length},empty:function(){return 0==this._faceIndices.length},__class__:Ae};var Se=function(e,t){this._boundingBox=null,this._polyline=e,null==t&&(t=new re(0,0!=e.points.length?e.points.length-1:0)),this._interval=t};l["verb.core.LazyPolylineBoundingBoxTree"]=Se,Se.__name__=["verb","core","LazyPolylineBoundingBoxTree"],Se.__interfaces__=[he],Se.prototype={split:function(){var e=this._interval.min,t=this._interval.max,n=e+Math.ceil((t-e)/2),r=new re(e,n),a=new re(n,t);return new ne(new Se(this._polyline,r),new Se(this._polyline,a))},boundingBox:function(){return null==this._boundingBox&&(this._boundingBox=new Y(this._polyline.points)),this._boundingBox},yield:function(){return this._interval.min},indivisible:function(e){return this._interval.max-this._interval.min==1},empty:function(){return this._interval.max-this._interval.min==0},__class__:Se};var Te=function(e,t,n,r){null==t&&(t=!1),this._boundingBox=null,this._surface=e,this._splitV=t,null==n&&(n=Ee.domain(e.knotsU)/16),null==r&&(r=Ee.domain(e.knotsV)/16),this._knotTolU=n,this._knotTolV=r};l["verb.core.LazySurfaceBoundingBoxTree"]=Te,Te.__name__=["verb","core","LazySurfaceBoundingBoxTree"],Te.__interfaces__=[he],Te.prototype={split:function(){var e,t;this._splitV?(e=W.first(this._surface.knotsV),t=W.last(this._surface.knotsV)):(e=W.first(this._surface.knotsU),t=W.last(this._surface.knotsU));var n=(e+t)/2,r=Re.surfaceSplit(this._surface,n,this._splitV);return new ne(new Te(r[0],!this._splitV,this._knotTolU,this._knotTolV),new Te(r[1],!this._splitV,this._knotTolU,this._knotTolV))},boundingBox:function(){if(null==this._boundingBox){this._boundingBox=new Y;for(var e=0,t=this._surface.controlPoints;e<t.length;){var n=t[e];++e,this._boundingBox.addRange(Be.dehomogenize1d(n))}}return this._boundingBox},yield:function(){return this._surface},indivisible:function(e){return Ee.domain(this._surface.knotsV)<this._knotTolV&&Ee.domain(this._surface.knotsU)<this._knotTolU},empty:function(){return!1},__class__:Te};var Me=t.core.Mat=function(){};l["verb.core.Mat"]=Me,Me.__name__=["verb","core","Mat"],Me.mul=function(e,t){for(var n=[],r=0,a=t.length;r<a;){var i=r++;n.push(Ee.mul(e,t[i]))}return n},Me.mult=function(e,t){var n,r,a,i,o,s,u,l;n=e.length,r=t.length,a=t[0].length,i=[];for(var c=n-1,d=0,f=0;c>=0;){for(o=[],s=e[c],f=a-1;f>=0;){for(u=s[r-1]*t[r-1][f],d=r-2;d>=1;)l=d-1,u+=s[d]*t[d][f]+s[l]*t[l][f],d-=2;0==d&&(u+=s[0]*t[0][f]),o[f]=u,f--}i[c]=o,c--}return i},Me.add=function(e,t){for(var n=[],r=0,a=e.length;r<a;){var i=r++;n.push(Ee.add(e[i],t[i]))}return n},Me.div=function(e,t){for(var n=[],r=0,a=e.length;r<a;){var i=r++;n.push(Ee.div(e[i],t))}return n},Me.sub=function(e,t){for(var n=[],r=0,a=e.length;r<a;){var i=r++;n.push(Ee.sub(e[i],t[i]))}return n},Me.dot=function(e,t){for(var n=[],r=0,a=e.length;r<a;){var i=r++;n.push(Ee.dot(e[i],t))}return n},Me.identity=function(e){for(var t=Ee.zeros2d(e,e),n=0;n<e;){var r=n++;t[r][r]=1}return t},Me.transpose=function(e){if(0==e.length)return[];for(var t=[],n=0,r=e[0].length;n<r;){var a=n++;t.push(function(t){for(var n=[],r=0,i=e.length;r<i;){var o=r++;n.push(e[o][a])}return n}())}return t},Me.solve=function(e,t){return Me.LUsolve(Me.LU(e),t)},Me.LUsolve=function(e,t){var n,r,a,i,o,s=e.LU,u=s.length,l=t.slice(),c=e.P;for(n=u-1;-1!=n;)l[n]=t[n],--n;for(n=0;n<u;){for(a=c[n],c[n]!=n&&(o=l[n],l[n]=l[a],l[a]=o),i=s[n],r=0;r<n;)l[n]-=l[r]*i[r],++r;++n}for(n=u-1;n>=0;){for(i=s[n],r=n+1;r<u;)l[n]-=l[r]*i[r],++r;l[n]/=i[n],--n}return l},Me.LU=function(e){for(var t,n,r,a,i,o,s,u,l,c=(Math.abs,[]),d=0,f=e.length;d<f;){var m=d++;c.push(e[m].slice())}e=c;var g=e.length,p=g-1,v=[];for(r=0;r<g;){for(s=r,o=e[r],l=Math.abs(o[r]),n=r+1;n<g;)a=Math.abs(e[n][r]),l<a&&(l=a,s=n),++n;for(v[r]=s,s!=r&&(e[r]=e[s],e[s]=o,o=e[r]),i=o[r],t=r+1;t<g;)e[t][r]/=i,++t;for(t=r+1;t<g;){for(u=e[t],n=r+1;n<p;)u[n]-=u[r]*o[n],++n,u[n]-=u[r]*o[n],++n;n==p&&(u[n]-=u[r]*o[n]),++t}++r}return new be(e,v)};var be=function(e,t){this.LU=e,this.P=t};l["verb.core._Mat.LUDecomp"]=be,be.__name__=["verb","core","_Mat","LUDecomp"],be.prototype={__class__:be};var De=t.core.Mesh=function(){};l["verb.core.Mesh"]=De,De.__name__=["verb","core","Mesh"],De.getTriangleNorm=function(e,t){var n=e[t[0]],r=e[t[1]],a=e[t[2]],i=Ee.sub(r,n),o=Ee.sub(a,n),s=Ee.cross(i,o);return Ee.mul(1/Ee.norm(s),s)},De.makeMeshAabb=function(e,t){for(var n=new Y,r=0;r<t.length;){var a=t[r];++r,n.add(e.points[e.faces[a][0]]),n.add(e.points[e.faces[a][1]]),n.add(e.points[e.faces[a][2]])}return n},De.sortTrianglesOnLongestAxis=function(e,t,n){for(var r=e.getLongestAxis(),a=[],i=0;i<n.length;){var o=n[i];++i;var s=De.getMinCoordOnAxis(t.points,t.faces[o],r);a.push(new ne(s,o))}a.sort(function(e,t){var n=e.item0,r=t.item0;return n==r?0:n>r?1:-1});for(var u=[],l=0,c=a.length;l<c;){var d=l++;u.push(a[d].item1)}return u},De.getMinCoordOnAxis=function(e,t,n){for(var r=1/0,a=0;a<3;){var i=a++,o=e[t[i]][n];o<r&&(r=o)}return r},De.getTriangleCentroid=function(e,t){for(var n=[0,0,0],r=0;r<3;)for(var a=r++,i=0;i<3;){var o=i++;n[o]+=e[t[a]][o]}for(var s=0;s<3;)n[s++]/=3;return n},De.triangleUVFromPoint=function(e,t,n){var r=e.faces[t],a=e.points[r[0]],i=e.points[r[1]],o=e.points[r[2]],s=e.uvs[r[0]],u=e.uvs[r[1]],l=e.uvs[r[2]],c=Ee.sub(a,n),d=Ee.sub(i,n),f=Ee.sub(o,n),m=Ee.norm(Ee.cross(Ee.sub(a,i),Ee.sub(a,o))),g=Ee.norm(Ee.cross(d,f))/m,p=Ee.norm(Ee.cross(f,c))/m,v=Ee.norm(Ee.cross(c,d))/m;return Ee.add(Ee.mul(g,s),Ee.add(Ee.mul(p,u),Ee.mul(v,l)))};var Ie=function e(t,n){if(this._empty=!1,this._face=-1,null==n){for(var r=[],a=0,i=t.faces.length;a<i;){var o=a++;r.push(o)}n=r}if(this._boundingBox=De.makeMeshAabb(t,n),n.length<1)return void(this._empty=!0);if(n.length<2)return void(this._face=n[0]);var s=De.sortTrianglesOnLongestAxis(this._boundingBox,t,n),u=W.left(s),l=W.right(s);this._children=new ne(new e(t,u),new e(t,l))};l["verb.core.MeshBoundingBoxTree"]=Ie,Ie.__name__=["verb","core","MeshBoundingBoxTree"],Ie.__interfaces__=[he],Ie.prototype={split:function(){return this._children},boundingBox:function(){return this._boundingBox},yield:function(){return this._face},indivisible:function(e){return null==this._children},empty:function(){return this._empty},__class__:Ie};var we=t.core.Minimizer=function(){};l["verb.core.Minimizer"]=we,we.__name__=["verb","core","Minimizer"],we.uncmin=function(e,t,n,r,a){null==n&&(n=1e-8),null==r&&(r=function(t){return we.numericalGradient(e,t)}),null==a&&(a=1e3),t=t.slice(0);var i,o=t.length,s=e(t),u=s;if(isNaN(s))throw new E("uncmin: f(x0) is a NaN!");n=Math.max(n,q.EPSILON);var l,c,d,f,m,g,p,v,h,y=Me.identity(o),A=0,S=[],T="";for(c=r(t);A<a;){if(!Ee.all(Ee.finite(c))){T="Gradient has Infinity or NaN";break}if(l=Ee.neg(Me.dot(y,c)),!Ee.all(Ee.finite(l))){T="Search direction has Infinity or NaN";break}if((h=Ee.norm(l))<n){T="Newton step smaller than tol";break}for(v=1,i=Ee.dot(c,l),f=t;A<a&&!(v*h<n)&&(S=Ee.mul(v,l),f=Ee.add(t,S),(u=e(f))-s>=.1*v*i||isNaN(u));)v*=.5,++A;if(v*h<n){T="Line search step size smaller than tol";break}if(A==a){T="maxit reached during line search";break}d=r(f),m=Ee.sub(d,c),p=Ee.dot(m,S),g=Me.dot(y,m),y=Me.sub(Me.add(y,Me.mul((p+Ee.dot(m,g))/(p*p),we.tensor(S,S))),Me.div(Me.add(we.tensor(g,S),we.tensor(S,g)),p)),t=f,s=u,c=d,++A}return new Ce(t,s,c,y,A,T)},we.numericalGradient=function(e,t){var n=t.length,r=e(t);if(NaN==r)throw new E("gradient: f(x) is a NaN!");for(var a,i,o,s,u,l,c,d,f=t.slice(0),m=[],g=0,p=0;p<n;)for(var v=p++,h=Math.max(1e-6*r,1e-8);;){if(++g>20)throw new E("Numerical gradient fails");if(f[v]=t[v]+h,a=e(f),f[v]=t[v]-h,i=e(f),f[v]=t[v],isNaN(a)||isNaN(i))h/=16;else{if(m[v]=(a-i)/(2*h),o=t[v]-h,s=t[v],u=t[v]+h,l=(a-r)/h,c=(r-i)/h,d=Ee.max([Math.abs(m[v]),Math.abs(r),Math.abs(a),Math.abs(i),Math.abs(o),Math.abs(s),Math.abs(u),1e-8]),!(Math.min(Ee.max([Math.abs(l-m[v]),Math.abs(c-m[v]),Math.abs(l-c)])/d,h/d)>.001))break;h/=16}}return m},we.tensor=function(e,t){for(var n,r,a=e.length,i=t.length,o=[],s=a-1;s>=0;){n=[],r=e[s];for(var u=i-1;u>=3;)n[u]=r*t[u],--u,n[u]=r*t[u],--u,n[u]=r*t[u],--u,n[u]=r*t[u],--u;for(;u>=0;)n[u]=r*t[u],--u;o[s]=n,s--}return o};var Ce=function(e,t,n,r,a,i){this.solution=e,this.value=t,this.gradient=n,this.invHessian=r,this.iterations=a,this.message=i};l["verb.core.MinimizationResult"]=Ce,Ce.__name__=["verb","core","MinimizationResult"],Ce.prototype={__class__:Ce};var Ne=function(){};l["verb.core.ISerializable"]=Ne,Ne.__name__=["verb","core","ISerializable"],Ne.prototype={__class__:Ne};var Pe=t.core.Deserializer=function(){};l["verb.core.Deserializer"]=Pe,Pe.__name__=["verb","core","Deserializer"],Pe.deserialize=function(e){return new b(e).unserialize()};var xe=t.core.Trig=function(){};l["verb.core.Trig"]=xe,xe.__name__=["verb","core","Trig"],xe.isPointInPlane=function(e,t,n){return Math.abs(Ee.dot(Ee.sub(e,t.origin),t.normal))<n},xe.distToSegment=function(e,t,n){var r=xe.segmentClosestPoint(t,e,n,0,1);return Ee.dist(t,r.pt)},xe.rayClosestPoint=function(e,t,n){var r=Ee.sub(e,t),a=Ee.dot(r,n);return Ee.add(t,Ee.mul(a,n))},xe.distToRay=function(e,t,n){var r=xe.rayClosestPoint(e,t,n),a=Ee.sub(r,e);return Ee.norm(a)},xe.threePointsAreFlat=function(e,t,n,r){var a=Ee.sub(t,e),i=Ee.sub(n,e),o=Ee.cross(a,i);return Ee.dot(o,o)<r},xe.segmentClosestPoint=function(e,t,n,r,a){var i=Ee.sub(n,t),o=Ee.norm(i);if(o<q.EPSILON)return{u:r,pt:t};var s=t,u=Ee.mul(1/o,i),l=Ee.sub(e,s),c=Ee.dot(l,u);return c<0?{u:r,pt:t}:c>o?{u:a,pt:n}:{u:r+(a-r)*c/o,pt:Ee.add(s,Ee.mul(c,u))}};var Ee=t.core.Vec=function(){};l["verb.core.Vec"]=Ee,Ee.__name__=["verb","core","Vec"],Ee.angleBetween=function(e,t){return Math.acos(Ee.dot(e,t)/(Ee.norm(e)*Ee.norm(t)))},Ee.positiveAngleBetween=function(e,t,n){var r=Ee.cross(e,t),a=Ee.norm(e),i=Ee.norm(t),o=a*i,s=Ee.dot(e,t),u=Ee.norm(r)/o,l=s/o,c=Math.atan2(u,l),d=Ee.dot(n,r);return Math.abs(d)<q.EPSILON?c:d>0?c:-c},Ee.signedAngleBetween=function(e,t,n){var r=Ee.cross(e,t),a=Ee.norm(e),i=Ee.norm(t),o=a*i,s=Ee.dot(e,t),u=Ee.norm(r)/o,l=s/o,c=Math.atan2(u,l);return Ee.dot(n,r)>0?c:2*Math.PI-c},Ee.angleBetweenNormalized2d=function(e,t){var n=e[0]*t[1]-e[1]*t[0];return Math.atan2(n,Ee.dot(e,t))},Ee.domain=function(e){return W.last(e)-W.first(e)},Ee.range=function(e){for(var t=[],n=0,r=0;r<e;)r++,t.push(n),n+=1;return t},Ee.span=function(e,t,n){if(null==n)return[];if(n<q.EPSILON)return[];if(e>t&&n>0)return[];if(t>e&&n<0)return[];for(var r=[],a=e;a<=t;)r.push(a),a+=n;return r},Ee.neg=function(e){return e.map(function(e){return-e})},Ee.min=function(e){return f.fold(e,function(e,t){return Math.min(e,t)},1/0)},Ee.max=function(e){return f.fold(e,function(e,t){return Math.max(e,t)},-1/0)},Ee.all=function(e){return f.fold(e,function(e,t){return t&&e},!0)},Ee.finite=function(e){return e.map(function(e){return isFinite(e)})},Ee.onRay=function(e,t,n){return Ee.add(e,Ee.mul(n,t))},Ee.lerp=function(e,t,n){return Ee.add(Ee.mul(e,t),Ee.mul(1-e,n))},Ee.normalized=function(e){return Ee.div(e,Ee.norm(e))},Ee.cross=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},Ee.dist=function(e,t){return Ee.norm(Ee.sub(e,t))},Ee.distSquared=function(e,t){return Ee.normSquared(Ee.sub(e,t))},Ee.sum=function(e){return f.fold(e,function(e,t){return t+e},0)},Ee.addAll=function(e){var t=o(e)();if(!t.hasNext())return null;var n=t.next().length;return f.fold(e,function(e,t){return Ee.add(t,e)},Ee.rep(n,0))},Ee.norm=function(e){var t=Ee.normSquared(e);return 0!=t?Math.sqrt(t):t},Ee.normSquared=function(e){return f.fold(e,function(e,t){return t+e*e},0)},Ee.rep=function(e,t){for(var n=[],r=0;r<e;)r++,n.push(t);return n},Ee.zeros1d=function(e){for(var t=[],n=0;n<e;)n++,t.push(0);return t},Ee.zeros2d=function(e,t){for(var n=[],r=0;r<e;)r++,n.push(Ee.zeros1d(t));return n},Ee.zeros3d=function(e,t,n){for(var r=[],a=0;a<e;)a++,r.push(Ee.zeros2d(t,n));return r},Ee.dot=function(e,t){for(var n=0,r=0,a=e.length;r<a;){var i=r++;n+=e[i]*t[i]}return n},Ee.add=function(e,t){for(var n=[],r=0,a=e.length;r<a;){var i=r++;n.push(e[i]+t[i])}return n},Ee.mul=function(e,t){for(var n=[],r=0,a=t.length;r<a;){var i=r++;n.push(e*t[i])}return n},Ee.div=function(e,t){for(var n=[],r=0,a=e.length;r<a;){var i=r++;n.push(e[i]/t)}return n},Ee.sub=function(e,t){for(var n=[],r=0,a=e.length;r<a;){var i=r++;n.push(e[i]-t[i])}return n},Ee.isZero=function(e){for(var t=0,n=e.length;t<n;){var r=t++;if(Math.abs(e[r])>q.TOLERANCE)return!1}return!0},Ee.sortedSetUnion=function(e,t){for(var n=[],r=0,a=0;r<e.length||a<t.length;)if(r>=e.length)n.push(t[a]),a++;else if(a>=t.length)n.push(e[r]),r++;else{var i=e[r]-t[a];Math.abs(i)<q.EPSILON?(n.push(e[r]),r++,a++):i>0?(n.push(t[a]),a++):(n.push(e[r]),r++)}return n},Ee.sortedSetSub=function(e,t){for(var n=[],r=0,a=0;r<e.length;)a>=t.length?(n.push(e[r]),r++):Math.abs(e[r]-t[a])<q.EPSILON?(r++,a++):(n.push(e[r]),r++);return n};var Oe=t.eval.Analyze=function(){};l["verb.eval.Analyze"]=Oe,Oe.__name__=["verb","eval","Analyze"],Oe.knotMultiplicities=function(e){for(var t=[new Le(e[0],0)],n=t[0],r=0;r<e.length;){var a=e[r];++r,Math.abs(a-n.knot)>q.EPSILON&&(n=new Le(a,0),t.push(n)),n.inc()}return t},Oe.isRationalSurfaceClosed=function(e,t){null==t&&(t=!0);var n;n=t?e.controlPoints:Me.transpose(e.controlPoints);for(var r=0,a=n[0].length;r<a;){var i=r++;if(!(Ee.dist(W.first(n)[i],W.last(n)[i])<q.EPSILON))return!1}return!0},Oe.rationalSurfaceClosestPoint=function(e,t){var n=Oe.rationalSurfaceClosestParam(e,t);return Be.rationalSurfacePoint(e,n[0],n[1])},Oe.rationalSurfaceClosestParam=function(e,t){for(var n,r,a,i=0,o=e.knotsU[0],s=W.last(e.knotsU),u=e.knotsV[0],l=W.last(e.knotsV),c=Oe.isRationalSurfaceClosed(e),d=Oe.isRationalSurfaceClosed(e,!1),f=Ue.rationalSurfaceAdaptive(e,new ze),m=1/0,g=0,p=f.points.length;g<p;){var v=g++,h=f.points[v],y=Ee.normSquared(Ee.sub(t,h));y<m&&(m=y,a=f.uvs[v])}for(;i<5;){n=function(t){return Be.rationalSurfaceDerivatives(e,t[0],t[1],2)}(a),r=Ee.sub(n[0][0],t);var A=Ee.norm(r),S=Ee.dot(n[1][0],r),T=Ee.norm(n[1][0])*A,M=Ee.dot(n[0][1],r),b=Ee.norm(n[0][1])*A,D=S/T,I=M/b,w=A<1e-4,C=D<5e-4,N=I<5e-4;if(w&&C&&N)return a;var P=function(e,t,n){var r=t[1][0],a=t[0][1],i=t[2][0],o=t[0][2],s=t[1][1],u=t[1][1],l=Ee.dot(r,n),c=Ee.dot(a,n),d=[-l,-c],f=Ee.dot(r,r)+Ee.dot(i,n),m=Ee.dot(r,a)+Ee.dot(s,n),g=Ee.dot(r,a)+Ee.dot(u,n),p=Ee.dot(a,a)+Ee.dot(o,n),v=[[f,m],[g,p]],h=Me.solve(v,d);return Ee.add(h,e)}(a,n,r);if(P[0]<o?P=c?[s-(P[0]-o),P[1]]:[o+q.EPSILON,P[1]]:P[0]>s&&(P=c?[o+(P[0]-s),P[1]]:[s-q.EPSILON,P[1]]),P[1]<u?P=d?[P[0],l-(P[1]-u)]:[P[0],u+q.EPSILON]:P[1]>l&&(P=d?[P[0],u+(P[0]-l)]:[P[0],l-q.EPSILON]),Ee.norm(Ee.mul(P[0]-a[0],n[1][0]))+Ee.norm(Ee.mul(P[1]-a[1],n[0][1]))<1e-4)return a;a=P,i++}return a},Oe.rationalCurveClosestPoint=function(e,t){return Be.rationalCurvePoint(e,Oe.rationalCurveClosestParam(e,t))},Oe.rationalCurveClosestParam=function(e,t){for(var n=1/0,r=0,a=Ue.rationalCurveRegularSample(e,e.controlPoints.length*e.degree,!0),i=0,o=a.length-1;i<o;){var s=i++,u=a[s][0],l=a[s+1][0],c=a[s].slice(1),d=a[s+1].slice(1),f=xe.segmentClosestPoint(t,c,d,u,l),m=Ee.norm(Ee.sub(t,f.pt));m<n&&(n=m,r=f.u)}for(var g,p,v=0,h=e.knots[0],y=W.last(e.knots),A=Ee.normSquared(Ee.sub(e.controlPoints[0],W.last(e.controlPoints)))<q.EPSILON,S=r;v<5;){g=function(t){return Be.rationalCurveDerivatives(e,t,2)}(S),p=Ee.sub(g[0],t);var T=Ee.norm(p),M=Ee.dot(g[1],p),b=Ee.norm(g[1])*T,D=M/b,I=T<1e-4,w=Math.abs(D)<5e-4;if(I&&w)return S;var C=function(e,t,n){return e-Ee.dot(t[1],n)/(Ee.dot(t[2],n)+Ee.dot(t[1],t[1]))}(S,g,p);if(C<h?C=A?y-(C-h):h:C>y&&(C=A?h+(C-y):y),Ee.norm(Ee.mul(C-S,g[1]))<1e-4)return S;S=C,v++}return S},Oe.rationalCurveParamAtArcLength=function(e,t,n,r,a){if(null==n&&(n=.001),t<q.EPSILON)return e.knots[0];var i;i=null!=r?r:je.decomposeCurveIntoBeziers(e);var o,s=0,u=(i[s],-q.EPSILON);for(o=null!=a?a:[];u<t&&s<i.length;){if(s<o.length?o[s]=o[s]:o[s]=Oe.rationalBezierCurveArcLength(e),u+=o[s],t<u+q.EPSILON)return Oe.rationalBezierCurveParamAtArcLength(e,t,n,o[s]);s++}return-1},Oe.rationalBezierCurveParamAtArcLength=function(e,t,n,r){if(t<0)return e.knots[0];var a;if(a=null!=r?r:Oe.rationalBezierCurveArcLength(e),t>a)return W.last(e.knots);var i,o=e.knots[0],s=0,u=W.last(e.knots),l=a,c=0,d=0;for(i=null!=n?n:2*q.TOLERANCE;l-s>i;)c=(o+u)/2,d=Oe.rationalBezierCurveArcLength(e,c),d>t?(u=c,l=d):(o=c,s=d);return(o+u)/2},Oe.rationalCurveArcLength=function(e,t,n){null==n&&(n=16),t=null==t?W.last(e.knots):t;for(var r=je.decomposeCurveIntoBeziers(e),a=0,i=r[0],o=0;a<r.length&&i.knots[0]+q.EPSILON<t;){var s=Math.min(W.last(i.knots),t);o+=Oe.rationalBezierCurveArcLength(i,s,n),i=r[++a]}return o},Oe.rationalBezierCurveArcLength=function(e,t,n){null==n&&(n=16);var r;r=null==t?W.last(e.knots):t;for(var a,i,o=(r-e.knots[0])/2,s=0,u=e.degree+n,l=0;l<u;){var c=l++;a=o*Oe.Tvalues[u][c]+o+e.knots[0],i=Be.rationalCurveDerivatives(e,a,1),s+=Oe.Cvalues[u][c]*Ee.norm(i[1])}return o*s};var Le=t.eval.KnotMultiplicity=function(e,t){this.knot=e,this.mult=t};l["verb.eval.KnotMultiplicity"]=Le,Le.__name__=["verb","eval","KnotMultiplicity"],Le.prototype={inc:function(){this.mult++},__class__:Le};var _e=t.eval.Check=function(){};l["verb.eval.Check"]=_e,_e.__name__=["verb","eval","Check"],_e.isValidKnotVector=function(e,t){if(0==e.length)return!1;if(e.length<2*(t+1))return!1;for(var n=W.first(e),r=0,a=t+1;r<a;){var i=r++;if(Math.abs(e[i]-n)>q.EPSILON)return!1}n=W.last(e);for(var o=e.length-t-1,s=e.length;o<s;){var u=o++;if(Math.abs(e[u]-n)>q.EPSILON)return!1}return _e.isNonDecreasing(e)},_e.isNonDecreasing=function(e){for(var t=W.first(e),n=0,r=e.length;n<r;){var a=n++;if(e[a]<t-q.EPSILON)return!1;t=e[a]}return!0},_e.isValidNurbsCurveData=function(e){if(null==e.controlPoints)throw new E("Control points array cannot be null!");if(null==e.degree)throw new E("Degree cannot be null!");if(e.degree<1)throw new E("Degree must be greater than 1!");if(null==e.knots)throw new E("Knots cannot be null!");if(e.knots.length!=e.controlPoints.length+e.degree+1)throw new E("controlPoints.length + degree + 1 must equal knots.length!");if(!_e.isValidKnotVector(e.knots,e.degree))throw new E("Invalid knot vector format!  Should begin with degree + 1 repeats and end with degree + 1 repeats!");return e},_e.isValidNurbsSurfaceData=function(e){if(null==e.controlPoints)throw new E("Control points array cannot be null!");if(null==e.degreeU)throw new E("DegreeU cannot be null!");if(null==e.degreeV)throw new E("DegreeV cannot be null!");if(e.degreeU<1)throw new E("DegreeU must be greater than 1!");if(e.degreeV<1)throw new E("DegreeV must be greater than 1!");if(null==e.knotsU)throw new E("KnotsU cannot be null!");if(null==e.knotsV)throw new E("KnotsV cannot be null!");if(e.knotsU.length!=e.controlPoints.length+e.degreeU+1)throw new E("controlPointsU.length + degreeU + 1 must equal knotsU.length!");if(e.knotsV.length!=e.controlPoints[0].length+e.degreeV+1)throw new E("controlPointsV.length + degreeV + 1 must equal knotsV.length!");if(!_e.isValidKnotVector(e.knotsU,e.degreeU)||!_e.isValidKnotVector(e.knotsV,e.degreeV))throw new E("Invalid knot vector format!  Should begin with degree + 1 repeats and end with degree + 1 repeats!");return e};var Re=t.eval.Divide=function(){};l["verb.eval.Divide"]=Re,Re.__name__=["verb","eval","Divide"],Re.surfaceSplit=function(e,t,n){null==n&&(n=!1);var r,a,i;n?(i=e.controlPoints,r=e.knotsV,a=e.degreeV):(i=Me.transpose(e.controlPoints),r=e.knotsU,a=e.degreeU);for(var o,s=[],u=0,l=a+1;u<l;)u++,s.push(t);o=s;for(var c=[],d=[],f=Be.knotSpan(a,t,r),m=null,g=0;g<i.length;){var p=i[g];++g,m=je.curveKnotRefine(new X(a,r,p),o),c.push(m.controlPoints.slice(0,f+1)),d.push(m.controlPoints.slice(f+1))}var v=m.knots.slice(0,f+a+2),h=m.knots.slice(f+1);return n?[new J(e.degreeU,a,e.knotsU.slice(),v,c),new J(e.degreeU,a,e.knotsU.slice(),h,d)]:(c=Me.transpose(c),d=Me.transpose(d),[new J(a,e.degreeV,v,e.knotsV.slice(),c),new J(a,e.degreeV,h,e.knotsV.slice(),d)])},Re.curveSplit=function(e,t){for(var n,r=e.degree,a=(e.controlPoints,e.knots),i=[],o=0,s=r+1;o<s;)o++,i.push(t);n=i;var u=je.curveKnotRefine(e,n),l=Be.knotSpan(r,t,a),c=u.knots.slice(0,l+r+2),d=u.knots.slice(l+1),f=u.controlPoints.slice(0,l+1),m=u.controlPoints.slice(l+1);return[new X(r,c,f),new X(r,d,m)]},Re.rationalCurveByEqualArcLength=function(e,t){var n=Oe.rationalCurveArcLength(e),r=n/t;return Re.rationalCurveByArcLength(e,r)},Re.rationalCurveByArcLength=function(e,t){var n=je.decomposeCurveIntoBeziers(e),r=n.map(function(e){return Oe.rationalBezierCurveArcLength(e)}),a=Ee.sum(r),i=[new ke(e.knots[0],0)];if(t>a)return i;for(var o,s=t,u=0,l=s,c=0,d=0;u<n.length;){for(c+=r[u];l<c+q.EPSILON;)o=Oe.rationalBezierCurveParamAtArcLength(n[u],l-d,q.TOLERANCE,r[u]),i.push(new ke(o,l)),l+=s;d+=r[u],u++}return i};var ke=t.eval.CurveLengthSample=function(e,t){this.u=e,this.len=t};l["verb.eval.CurveLengthSample"]=ke,ke.__name__=["verb","eval","CurveLengthSample"],ke.prototype={__class__:ke};var Be=t.eval.Eval=function(){};l["verb.eval.Eval"]=Be,Be.__name__=["verb","eval","Eval"],Be.rationalCurveTangent=function(e,t){return Be.rationalCurveDerivatives(e,t,1)[1]},Be.rationalSurfaceNormal=function(e,t,n){var r=Be.rationalSurfaceDerivatives(e,t,n,1);return Ee.cross(r[1][0],r[0][1])},Be.rationalSurfaceDerivatives=function(e,t,n,r){null==r&&(r=1);for(var a=Be.surfaceDerivatives(e,t,n,r),i=Be.rational2d(a),o=Be.weight2d(a),s=[],u=i[0][0].length,l=0,c=r+1;l<c;){var d=l++;s.push([]);for(var f=0,m=r-d+1;f<m;){for(var g=f++,p=i[d][g],v=1,h=g+1;v<h;){var y=v++;p=Ee.sub(p,Ee.mul(Q.get(g,y)*o[0][y],s[d][g-y]))}for(var A=1,S=d+1;A<S;){var T=A++;p=Ee.sub(p,Ee.mul(Q.get(d,T)*o[T][0],s[d-T][g]));for(var M=Ee.zeros1d(u),b=1,D=g+1;b<D;){var I=b++;M=Ee.add(M,Ee.mul(Q.get(g,I)*o[T][I],s[d-T][g-I]))}p=Ee.sub(p,Ee.mul(Q.get(d,T),M))}s[d].push(Ee.mul(1/o[0][0],p))}}return s},Be.rationalSurfacePoint=function(e,t,n){return Be.dehomogenize(Be.surfacePoint(e,t,n))},Be.rationalCurveDerivatives=function(e,t,n){null==n&&(n=1);for(var r=Be.curveDerivatives(e,t,n),a=Be.rational1d(r),i=Be.weight1d(r),o=[],s=0,u=n+1;s<u;){for(var l=s++,c=a[l],d=1,f=l+1;d<f;){var m=d++;c=Ee.sub(c,Ee.mul(Q.get(l,m)*i[m],o[l-m]))}o.push(Ee.mul(1/i[0],c))}return o},Be.rationalCurvePoint=function(e,t){return Be.dehomogenize(Be.curvePoint(e,t))},Be.surfaceDerivatives=function(e,t,n,r){var a=e.knotsU.length-e.degreeU-2,i=e.knotsV.length-e.degreeV-2;return Be.surfaceDerivativesGivenNM(a,i,e,t,n,r)},Be.surfaceDerivativesGivenNM=function(e,t,n,r,a,i){var o=n.degreeU,s=n.degreeV,u=n.controlPoints,l=n.knotsU,c=n.knotsV;if(!Be.areValidRelations(o,u.length,l.length)||!Be.areValidRelations(s,u[0].length,c.length))throw new E("Invalid relations between control points, knot vector, and n");var d,f=u[0][0].length;d=i<o?i:o;var m;m=i<s?i:s;for(var g=Ee.zeros3d(i+1,i+1,f),p=Be.knotSpanGivenN(e,o,r,l),v=Be.knotSpanGivenN(t,s,a,c),h=Be.derivativeBasisFunctionsGivenNI(p,r,o,e,l),y=Be.derivativeBasisFunctionsGivenNI(v,a,s,t,c),A=Ee.zeros2d(s+1,f),S=0,T=0,M=d+1;T<M;){for(var b=T++,D=0,I=s+1;D<I;){var w=D++;A[w]=Ee.zeros1d(f);for(var C=0,N=o+1;C<N;){var P=C++;A[w]=Ee.add(A[w],Ee.mul(h[b][P],u[p-o+P][v-s+w]))}}var x=i-b;S=x<m?x:m;for(var O=0,L=S+1;O<L;){var _=O++;g[b][_]=Ee.zeros1d(f);for(var R=0,k=s+1;R<k;){var B=R++;g[b][_]=Ee.add(g[b][_],Ee.mul(y[_][B],A[B]))}}}return g},Be.surfacePoint=function(e,t,n){var r=e.knotsU.length-e.degreeU-2,a=e.knotsV.length-e.degreeV-2;return Be.surfacePointGivenNM(r,a,e,t,n)},Be.surfacePointGivenNM=function(e,t,n,r,a){var i=n.degreeU,o=n.degreeV,s=n.controlPoints,u=n.knotsU,l=n.knotsV;if(!Be.areValidRelations(i,s.length,u.length)||!Be.areValidRelations(o,s[0].length,l.length))throw new E("Invalid relations between control points, knot vector, and n");for(var c=s[0][0].length,d=Be.knotSpanGivenN(e,i,r,u),f=Be.knotSpanGivenN(t,o,a,l),m=Be.basisFunctionsGivenKnotSpanIndex(d,r,i,u),g=Be.basisFunctionsGivenKnotSpanIndex(f,a,o,l),p=d-i,v=f,h=Ee.zeros1d(c),y=Ee.zeros1d(c),A=0,S=o+1;A<S;){var T=A++;y=Ee.zeros1d(c),v=f-o+T;for(var M=0,b=i+1;M<b;){var D=M++;y=Ee.add(y,Ee.mul(m[D],s[p+D][v]))}h=Ee.add(h,Ee.mul(g[T],y))}return h},Be.curveDerivatives=function(e,t,n){var r=e.knots.length-e.degree-2;return Be.curveDerivativesGivenN(r,e,t,n)},Be.curveDerivativesGivenN=function(e,t,n,r){var a=t.degree,i=t.controlPoints,o=t.knots;if(!Be.areValidRelations(a,i.length,o.length))throw new E("Invalid relations between control points, knot vector, and n");var s,u=i[0].length;s=r<a?r:a;for(var l=Ee.zeros2d(r+1,u),c=Be.knotSpanGivenN(e,a,n,o),d=Be.derivativeBasisFunctionsGivenNI(c,n,a,s,o),f=0,m=s+1;f<m;)for(var g=f++,p=0,v=a+1;p<v;){var h=p++;l[g]=Ee.add(l[g],Ee.mul(d[g][h],i[c-a+h]))}return l},Be.curvePoint=function(e,t){var n=e.knots.length-e.degree-2;return Be.curvePointGivenN(n,e,t)},Be.areValidRelations=function(e,t,n){return t+e+1-n==0},Be.curvePointGivenN=function(e,t,n){var r=t.degree,a=t.controlPoints,i=t.knots;if(!Be.areValidRelations(r,a.length,i.length))throw new E("Invalid relations between control points, knot Array, and n");for(var o=Be.knotSpanGivenN(e,r,n,i),s=Be.basisFunctionsGivenKnotSpanIndex(o,n,r,i),u=Ee.zeros1d(a[0].length),l=0,c=r+1;l<c;){var d=l++;u=Ee.add(u,Ee.mul(s[d],a[o-r+d]))}return u},Be.volumePoint=function(e,t,n,r){var a=e.knotsU.length-e.degreeU-2,i=e.knotsV.length-e.degreeV-2,o=e.knotsW.length-e.degreeW-2;return Be.volumePointGivenNML(e,a,i,o,t,n,r)},Be.volumePointGivenNML=function(e,t,n,r,a,i,o){if(!Be.areValidRelations(e.degreeU,e.controlPoints.length,e.knotsU.length)||!Be.areValidRelations(e.degreeV,e.controlPoints[0].length,e.knotsV.length)||!Be.areValidRelations(e.degreeW,e.controlPoints[0][0].length,e.knotsW.length))throw new E("Invalid relations between control points and knot vector");for(var s=e.controlPoints,u=e.degreeU,l=e.degreeV,c=e.degreeW,d=e.knotsU,f=e.knotsV,m=e.knotsW,g=s[0][0][0].length,p=Be.knotSpanGivenN(t,u,a,d),v=Be.knotSpanGivenN(n,l,i,f),h=Be.knotSpanGivenN(r,c,o,m),y=Be.basisFunctionsGivenKnotSpanIndex(p,a,u,d),A=Be.basisFunctionsGivenKnotSpanIndex(v,i,l,f),S=Be.basisFunctionsGivenKnotSpanIndex(h,o,c,m),T=p-u,M=Ee.zeros1d(g),b=Ee.zeros1d(g),D=Ee.zeros1d(g),I=0,w=c+1;I<w;){var C=I++;D=Ee.zeros1d(g);for(var N=h-c+C,P=0,x=l+1;P<x;){var O=P++;b=Ee.zeros1d(g);for(var L=v-l+O,_=0,R=u+1;_<R;){var k=_++;b=Ee.add(b,Ee.mul(y[k],s[T+k][L][N]))}D=Ee.add(D,Ee.mul(A[O],b))}M=Ee.add(M,Ee.mul(S[C],D))}return M},Be.derivativeBasisFunctions=function(e,t,n){var r=Be.knotSpan(t,e,n),a=n.length-1,i=a-t-1;return Be.derivativeBasisFunctionsGivenNI(r,e,t,i,n)},Be.derivativeBasisFunctionsGivenNI=function(e,t,n,r,a){var i=Ee.zeros2d(n+1,n+1),o=Ee.zeros1d(n+1),s=Ee.zeros1d(n+1),u=0,l=0;i[0][0]=1;for(var c=1,d=n+1;c<d;){var f=c++;o[f]=t-a[e+1-f],s[f]=a[e+f]-t,u=0;for(var m=0;m<f;){var g=m++;i[f][g]=s[g+1]+o[f-g],l=i[g][f-1]/i[f][g],i[g][f]=u+s[g+1]*l,u=o[f-g]*l}i[f][f]=u}for(var p=Ee.zeros2d(r+1,n+1),v=Ee.zeros2d(2,n+1),h=0,y=1,A=0,S=0,T=0,M=0,b=0,D=0,I=n+1;D<I;){var w=D++;p[0][w]=i[w][n]}for(var C=0,N=n+1;C<N;){var P=C++;h=0,y=1,v[0][0]=1;for(var x=1,E=r+1;x<E;){var O=x++;A=0,S=P-O,T=n-O,P>=O&&(v[y][0]=v[h][0]/i[T+1][S],A=v[y][0]*i[S][T]),M=S>=-1?1:-S,b=P-1<=T?O-1:n-P;for(var L=M,_=b+1;L<_;){var R=L++;v[y][R]=(v[h][R]-v[h][R-1])/i[T+1][S+R],A+=v[y][R]*i[S+R][T]}P<=T&&(v[y][O]=-v[h][O-1]/i[T+1][P],A+=v[y][O]*i[P][T]),p[O][P]=A;var k=h;h=y,y=k}}for(var B=n,V=1,F=r+1;V<F;){for(var j=V++,U=0,z=n+1;U<z;){var G=U++;p[j][G]*=B}B*=n-j}return p},Be.basisFunctions=function(e,t,n){var r=Be.knotSpan(t,e,n);return Be.basisFunctionsGivenKnotSpanIndex(r,e,t,n)},Be.basisFunctionsGivenKnotSpanIndex=function(e,t,n,r){var a=Ee.zeros1d(n+1),i=Ee.zeros1d(n+1),o=Ee.zeros1d(n+1),s=0,u=0;a[0]=1;for(var l=1,c=n+1;l<c;){var d=l++;i[d]=t-r[e+1-d],o[d]=r[e+d]-t,s=0;for(var f=0;f<d;){var m=f++;u=a[m]/(o[m+1]+i[d-m]),a[m]=s+o[m+1]*u,s=i[d-m]*u}a[d]=s}return a},Be.knotSpan=function(e,t,n){return Be.knotSpanGivenN(n.length-e-2,e,t,n)},Be.knotSpanGivenN=function(e,t,n,r){if(n>r[e+1]-q.EPSILON)return e;if(n<r[t]+q.EPSILON)return t;for(var a=t,i=e+1,o=Math.floor((a+i)/2);n<r[o]||n>=r[o+1];)n<r[o]?i=o:a=o,o=Math.floor((a+i)/2);return o},Be.dehomogenize=function(e){for(var t=e.length,n=[],r=e[t-1],a=e.length-1,i=0;i<a;){var o=i++;n.push(e[o]/r)}return n},Be.rational1d=function(e){var t=e[0].length-1;return e.map(function(e){return e.slice(0,t)})},Be.rational2d=function(e){return e.map(Be.rational1d)},Be.weight1d=function(e){var t=e[0].length-1;return e.map(function(e){return e[t]})},Be.weight2d=function(e){return e.map(Be.weight1d)},Be.dehomogenize1d=function(e){return e.map(Be.dehomogenize)},Be.dehomogenize2d=function(e){return e.map(Be.dehomogenize1d)},Be.homogenize1d=function(e,t){var n,r=e.length,a=e[0].length,i=[],o=0,s=[];n=null!=t?t:Ee.rep(e.length,1);for(var u=0;u<r;){var l=u++,c=[];s=e[l],o=n[l];for(var d=0;d<a;){var f=d++;c.push(s[f]*o)}c.push(o),i.push(c)}return i},Be.homogenize2d=function(e,t){var n,r=e.length,a=[];if(null!=t)n=t;else{for(var i=[],o=0;o<r;)o++,i.push(Ee.rep(e[0].length,1));n=i}for(var s=0;s<r;){var u=s++;a.push(Be.homogenize1d(e[u],n[u]))}return a};var Ve=t.eval.Intersect=function(){};l["verb.eval.Intersect"]=Ve,Ve.__name__=["verb","eval","Intersect"],Ve.surfaces=function(e,t,n){var r=Ue.rationalSurfaceAdaptive(e),a=Ue.rationalSurfaceAdaptive(t);return Ve.meshes(r,a).map(function(r){return r.map(function(r){return Ve.surfacesAtPointWithEstimate(e,t,r.uv0,r.uv1,n)})}).map(function(e){return Fe.rationalInterpCurve(e.map(function(e){return e.point}),3)})},Ve.surfacesAtPointWithEstimate=function(e,t,n,r,a){var i,o,s,u,l,c,d,f,m,g,p,v,h,y=0;do{if(i=Be.rationalSurfaceDerivatives(e,n[0],n[1],1),o=i[0][0],u=i[1][0],l=i[0][1],s=Ee.normalized(Ee.cross(u,l)),c=Ee.dot(s,o),d=Be.rationalSurfaceDerivatives(t,r[0],r[1],1),f=d[0][0],g=d[1][0],p=d[0][1],m=Ee.normalized(Ee.cross(g,p)),v=Ee.dot(m,f),(h=Ee.distSquared(o,f))<a*a)break;var A=Ee.normalized(Ee.cross(s,m)),S=Ee.dot(A,o),T=Ve.threePlanes(s,c,m,v,A,S);if(null==T)throw new E("panic!");var M=Ee.sub(T,o),b=Ee.sub(T,f),D=Ee.cross(u,s),I=Ee.cross(l,s),w=Ee.cross(g,m),C=Ee.cross(p,m),N=Ee.dot(I,M)/Ee.dot(I,u),P=Ee.dot(D,M)/Ee.dot(D,l),x=Ee.dot(C,b)/Ee.dot(C,g),O=Ee.dot(w,b)/Ee.dot(w,p);n=Ee.add([N,P],n),r=Ee.add([x,O],r),y++}while(y<5);return new ue(n,r,o,h)},Ve.meshes=function(e,t,n,r){null==n&&(n=new Ae(e)),null==r&&(r=new Ae(t));var a=Ve.boundingBoxTrees(n,r,0),i=W.unique(a.map(function(n){return Ve.triangles(e,n.item0,t,n.item1)}).filter(function(e){return null!=e}).filter(function(e){return Ee.distSquared(e.min.point,e.max.point)>q.EPSILON}),function(e,t){var n=Ee.sub(e.min.uv0,t.min.uv0),r=Ee.dot(n,n),a=Ee.sub(e.max.uv0,t.max.uv0),i=Ee.dot(a,a),o=Ee.sub(e.min.uv0,t.max.uv0),s=Ee.dot(o,o),u=Ee.sub(e.max.uv0,t.min.uv0),l=Ee.dot(u,u);return r<q.EPSILON&&i<q.EPSILON||s<q.EPSILON&&l<q.EPSILON});return Ve.makeMeshIntersectionPolylines(i)},Ve.meshSlices=function(e,t,n,r){for(var a=new Ie(e),i=a.boundingBox(),o=i.min[0],s=i.min[1],u=i.max[0],l=i.max[1],c=Ee.span(t,n,r),d=[],f=0;f<c.length;){var m=c[f];++f;var g=[[o,s,m],[u,s,m],[u,l,m],[o,l,m]],p=[[0,0],[1,0],[1,1],[0,1]],v=[[0,1,2],[0,2,3]],h=new $(v,g,null,p);d.push(Ve.meshes(e,h,a))}return d},Ve.makeMeshIntersectionPolylines=function(e){if(0==e.length)return[];for(var t=0;t<e.length;){var n=e[t];++t,n.max.opp=n.min,n.min.opp=n.max}for(var r=Ve.kdTreeFromSegments(e),a=[],i=0;i<e.length;){var o=e[i];++i,a.push(o.min),a.push(o.max)}for(var s=0;s<a.length;){var u=a[s];if(++s,null==u.adj){var l=Ve.lookupAdjacentSegment(u,r,e.length);null!=l&&null==l.adj&&(u.adj=l,l.adj=u)}}var c=a.filter(function(e){return null==e.adj});0==c.length&&(c=a);for(var d=[],f=0,m=!1;0!=c.length;){var g=c.pop();if(!g.visited){for(var p=[],v=g;null!=v&&!v.visited&&(v.visited=!0,v.opp.visited=!0,p.push(v),f+=2,(v=v.opp.adj)!=g););p.length>0&&(p.push(p[p.length-1].opp),d.push(p))}if(0==c.length&&a.length>0&&(m||f<a.length)){m=!0;var h=a.pop();c.push(h)}}return d},Ve.kdTreeFromSegments=function(e){for(var t=[],n=0;n<e.length;){var r=e[n];++n,t.push(new pe(r.min.point,r.min)),t.push(new pe(r.max.point,r.max))}return new me(t,Ee.distSquared)},Ve.lookupAdjacentSegment=function(e,t,n){var r=t.nearest(e.point,n,q.EPSILON).filter(function(t){return e!=t.item0.obj}).map(function(e){return e.item0.obj});return 1==r.length?r[0]:null},Ve.curveAndSurface=function(e,t,n,r,a){null==n&&(n=.001),r=null!=r?r:new ye(e),a=null!=a?a:new Te(t);var i=Ve.boundingBoxTrees(r,a,n);return W.unique(i.map(function(e){var t=e.item0,r=e.item1,a=W.first(t.knots),i=W.last(t.knots),o=(a+i)/2,s=W.first(r.knotsU),u=W.last(r.knotsU),l=W.first(r.knotsV),c=W.last(r.knotsV),d=[(s+u)/2,(l+c)/2];return Ve.curveAndSurfaceWithEstimate(t,r,[o].concat(d),n)}).filter(function(e){return Ee.distSquared(e.curvePoint,e.surfacePoint)<n*n}),function(e,t){return Math.abs(e.u-t.u)<.5*n})},Ve.curveAndSurfaceWithEstimate=function(e,t,n,r){null==r&&(r=.001);var a=function(n){var r=Be.rationalCurvePoint(e,n[0]),a=Be.rationalSurfacePoint(t,n[1],n[2]),i=Ee.sub(r,a);return Ee.dot(i,i)},i=function(n){var r=Be.rationalCurveDerivatives(e,n[0],1),a=Be.rationalSurfaceDerivatives(t,n[1],n[2],1),i=Ee.sub(a[0][0],r[0]),o=Ee.mul(-1,r[1]),s=a[1][0],u=a[0][1];return[2*Ee.dot(o,i),2*Ee.dot(s,i),2*Ee.dot(u,i)]},o=we.uncmin(a,n,r*r,i),s=o.solution;return new ie(s[0],[s[1],s[2]],Be.rationalCurvePoint(e,s[0]),Be.rationalSurfacePoint(t,s[1],s[2]))},Ve.polylineAndMesh=function(e,t,n){for(var r=Ve.boundingBoxTrees(new Se(e),new Ae(t),n),a=[],i=0;i<r.length;){var o=r[i];++i;var s=o.item0,u=o.item1,l=Ve.segmentWithTriangle(e.points[s],e.points[s+1],t.points,t.faces[u]);if(null!=l){var c=l.point,d=Ee.lerp(l.p,[e.params[s]],[e.params[s+1]])[0],f=De.triangleUVFromPoint(t,u,c);a.push(new se(c,d,f,s,u))}}return a},Ve.boundingBoxTrees=function(e,t,n){null==n&&(n=1e-9);var r=[],a=[];r.push(e),a.push(t);for(var i=[];r.length>0;){var o=r.pop(),s=a.pop();if(!o.empty()&&!s.empty()&&o.boundingBox().intersects(s.boundingBox(),n)){var u=o.indivisible(n),l=s.indivisible(n);if(u&&l)i.push(new ne(o.yield(),s.yield()));else if(!u||l)if(u||!l){var c=o.split(),d=s.split();r.push(c.item1),a.push(d.item1),r.push(c.item1),a.push(d.item0),r.push(c.item0),a.push(d.item1),r.push(c.item0),a.push(d.item0)}else{var f=o.split();r.push(f.item1),a.push(s),r.push(f.item0),a.push(s)}else{var m=s.split();r.push(o),a.push(m.item1),r.push(o),a.push(m.item0)}}}return i},Ve.curves=function(e,t,n){var r=Ve.boundingBoxTrees(new ye(e),new ye(t),0);return W.unique(r.map(function(r){return Ve.curvesWithEstimate(e,t,W.first(r.item0.knots),W.first(r.item1.knots),n)}).filter(function(e){return Ee.distSquared(e.point0,e.point1)<n}),function(e,t){return Math.abs(e.u0-t.u0)<5*n})},Ve.curvesWithEstimate=function(e,t,n,r,a){var i=function(n){var r=Be.rationalCurvePoint(e,n[0]),a=Be.rationalCurvePoint(t,n[1]),i=Ee.sub(r,a);return Ee.dot(i,i)},o=function(n){var r=Be.rationalCurveDerivatives(e,n[0],1),a=Be.rationalCurveDerivatives(t,n[1],1),i=Ee.sub(r[0],a[0]),o=r[1],s=Ee.mul(-1,a[1]);return[2*Ee.dot(o,i),2*Ee.dot(s,i)]},s=we.uncmin(i,[n,r],a*a,o),u=s.solution[0],l=s.solution[1],c=Be.rationalCurvePoint(e,u),d=Be.rationalCurvePoint(t,l);return new ae(c,d,u,l)},Ve.triangles=function(e,t,n,r){var a=e.faces[t],i=n.faces[r],o=De.getTriangleNorm(e.points,a),s=De.getTriangleNorm(n.points,i),u=e.points[a[0]],l=n.points[i[0]],c=Ve.planes(u,o,l,s);if(null==c)return null;var d=Ve.clipRayInCoplanarTriangle(c,e,t);if(null==d)return null;var f=Ve.clipRayInCoplanarTriangle(c,n,r);if(null==f)return null;var m=Ve.mergeTriangleClipIntervals(d,f,e,t,n,r);return null==m?null:new re(new oe(m.min.uv0,m.min.uv1,m.min.point,t,r),new oe(m.max.uv0,m.max.uv1,m.max.point,t,r))},Ve.clipRayInCoplanarTriangle=function(e,t,n){for(var r=t.faces[n],a=[t.points[r[0]],t.points[r[1]],t.points[r[2]]],i=[t.uvs[r[0]],t.uvs[r[1]],t.uvs[r[2]]],o=[Ee.sub(i[1],i[0]),Ee.sub(i[2],i[1]),Ee.sub(i[0],i[2])],s=[Ee.sub(a[1],a[0]),Ee.sub(a[2],a[1]),Ee.sub(a[0],a[2])],u=s.map(Ee.normalized),l=s.map(Ee.norm),c=null,d=null,f=0;f<3;){var m=f++,g=a[m],p=u[m],v=Ve.rays(g,p,e.origin,e.dir);if(null!=v){var h=v.u0,y=v.u1;h<-q.EPSILON||h>l[m]+q.EPSILON||((null==c||y<c.u)&&(c=new ce(y,Ee.onRay(e.origin,e.dir,y),Ee.onRay(i[m],o[m],h/l[m]))),(null==d||y>d.u)&&(d=new ce(y,Ee.onRay(e.origin,e.dir,y),Ee.onRay(i[m],o[m],h/l[m]))))}}return null==d||null==c?null:new re(c,d)},Ve.mergeTriangleClipIntervals=function(e,t,n,r,a,i){if(t.min.u>e.max.u+q.EPSILON||e.min.u>t.max.u+q.EPSILON)return null;var o;o=e.min.u>t.min.u?new ne(e.min,0):new ne(t.min,1);var s;s=e.max.u<t.max.u?new ne(e.max,0):new ne(t.max,1);var u=new re(new oe(null,null,o.item0.point,r,i),new oe(null,null,s.item0.point,r,i));return 0==o.item1?(u.min.uv0=o.item0.uv,u.min.uv1=De.triangleUVFromPoint(a,i,o.item0.point)):(u.min.uv0=De.triangleUVFromPoint(n,r,o.item0.point),u.min.uv1=o.item0.uv),0==s.item1?(u.max.uv0=s.item0.uv,u.max.uv1=De.triangleUVFromPoint(a,i,s.item0.point)):(u.max.uv0=De.triangleUVFromPoint(n,r,s.item0.point),u.max.uv1=s.item0.uv),u},Ve.planes=function(e,t,n,r){var a=Ee.cross(t,r);if(Ee.dot(a,a)<q.EPSILON)return null;var i=0,o=Math.abs(a[0]),s=Math.abs(a[1]),u=Math.abs(a[2]);s>o&&(i=1,o=s),u>o&&(i=2,o=u);var l,c,d,f;0==i?(l=t[1],c=t[2],d=r[1],f=r[2]):1==i?(l=t[0],c=t[2],d=r[0],f=r[2]):(l=t[0],c=t[1],d=r[0],f=r[1]);var m,g=-Ee.dot(e,t),p=-Ee.dot(n,r),v=l*f-c*d,h=(c*p-g*f)/v,y=(g*d-l*p)/v;return m=0==i?[0,h,y]:1==i?[h,0,y]:[h,y,0],new K(m,Ee.normalized(a))},Ve.threePlanes=function(e,t,n,r,a,i){var o=Ee.cross(n,a),s=Ee.dot(e,o);if(Math.abs(s)<q.EPSILON)return null;var u=Ee.sub(Ee.mul(i,n),Ee.mul(r,a)),l=Ee.add(Ee.mul(t,o),Ee.cross(e,u));return Ee.mul(1/s,l)},Ve.polylines=function(e,t,n){for(var r=Ve.boundingBoxTrees(new Se(e),new Se(t),n),a=[],i=0;i<r.length;){var o=r[i];++i;var s=o.item0,u=o.item1,l=Ve.segments(e.points[s],e.points[s+1],t.points[u],t.points[u+1],n);null!=l&&(l.u0=Ee.lerp(l.u0,[e.params[s]],[e.params[s+1]])[0],l.u1=Ee.lerp(l.u1,[t.params[u]],[t.params[u+1]])[0],a.push(l))}return a},Ve.segments=function(e,t,n,r,a){var i=Ee.sub(t,e),o=Math.sqrt(Ee.dot(i,i)),s=Ee.mul(1/o,i),u=Ee.sub(r,n),l=Math.sqrt(Ee.dot(u,u)),c=Ee.mul(1/l,u),d=Ve.rays(e,s,n,c);if(null!=d){var f=Math.min(Math.max(0,d.u0/o),1),m=Math.min(Math.max(0,d.u1/l),1),g=Ee.onRay(e,i,f),p=Ee.onRay(n,u,m);if(Ee.distSquared(g,p)<a*a)return new ae(g,p,f,m)}return null},Ve.rays=function(e,t,n,r){var a=Ee.dot(t,r),i=Ee.dot(t,n),o=Ee.dot(t,e),s=Ee.dot(r,n),u=Ee.dot(r,e),l=Ee.dot(t,t),c=Ee.dot(r,r),d=l*c-a*a;if(Math.abs(d)<q.EPSILON)return null;var f=a*(i-o)-l*(s-u),m=f/d,g=(i-o+m*a)/l,p=Ee.onRay(e,t,g),v=Ee.onRay(n,r,m);return new ae(p,v,g,m)},Ve.segmentWithTriangle=function(e,t,n,r){var a=n[r[0]],i=n[r[1]],o=n[r[2]],s=Ee.sub(i,a),u=Ee.sub(o,a),l=Ee.cross(s,u),c=Ee.sub(t,e),d=Ee.sub(e,a),f=-Ee.dot(l,d),m=Ee.dot(l,c);if(Math.abs(m)<q.EPSILON)return null;var g=f/m;if(g<0||g>1)return null;var p=Ee.add(e,Ee.mul(g,c)),v=Ee.dot(s,u),h=Ee.dot(s,s),y=Ee.dot(u,u),A=Ee.sub(p,a),S=Ee.dot(A,s),T=Ee.dot(A,u),M=v*v-h*y;if(Math.abs(M)<q.EPSILON)return null;var b=(v*T-y*S)/M,D=(v*S-h*T)/M;return b>1+q.EPSILON||D>1+q.EPSILON||D<-q.EPSILON||b<-q.EPSILON||b+D>1+q.EPSILON?null:new le(p,b,D,g)},Ve.segmentAndPlane=function(e,t,n,r){var a=Ee.dot(r,Ee.sub(t,e));if(Math.abs(a)<q.EPSILON)return null;var i=Ee.dot(r,Ee.sub(n,e)),o=i/a;return o>1+q.EPSILON||o<-q.EPSILON?null:{p:o}};var Fe=t.eval.Make=function(){};l["verb.eval.Make"]=Fe,Fe.__name__=["verb","eval","Make"],Fe.rationalTranslationalSurface=function(e,t){for(var n=Be.rationalCurvePoint(t,W.first(t.knots)),r=W.first(t.knots),a=W.last(t.knots),i=2*t.controlPoints.length,o=(a-r)/(i-1),s=[],u=0;u<i;){var l=u++,c=Ee.sub(Be.rationalCurvePoint(t,r+l*o),n),d=je.rationalCurveTransform(e,[[1,0,0,c[0]],[0,1,0,c[1]],[0,0,1,c[2]],[0,0,0,1]]);s.push(d)}return Fe.loftedSurface(s)},Fe.surfaceBoundaryCurves=function(e){return[Fe.surfaceIsocurve(e,W.first(e.knotsU),!1),Fe.surfaceIsocurve(e,W.last(e.knotsU),!1),Fe.surfaceIsocurve(e,W.first(e.knotsV),!0),Fe.surfaceIsocurve(e,W.last(e.knotsV),!0)]},Fe.surfaceIsocurve=function(e,t,n){null==n&&(n=!1);var r;r=n?e.knotsV:e.knotsU;var a;a=n?e.degreeV:e.degreeU;for(var i=Oe.knotMultiplicities(r),o=-1,s=0,u=i.length;s<u;){var l=s++;if(Math.abs(t-i[l].knot)<q.EPSILON){o=l;break}}var c=a+1;o>=0&&(c-=i[o].mult);var d;d=c>0?je.surfaceKnotRefine(e,Ee.rep(c,t),n):e;var f=Be.knotSpan(a,t,r);return Math.abs(t-W.first(r))<q.EPSILON?f=0:Math.abs(t-W.last(r))<q.EPSILON&&(f=(n?d.controlPoints[0].length:d.controlPoints.length)-1),n?new X(d.degreeU,d.knotsU,function(e){for(var t=[],n=0,r=d.controlPoints;n<r.length;){var a=r[n];++n,t.push(a[f])}return t}()):new X(d.degreeV,d.knotsV,d.controlPoints[f])},Fe.loftedSurface=function(e,t){e=je.unifyCurveKnotVectors(e);var n=e[0].degree;null==t&&(t=3),t>e.length-1&&(t=e.length-1);for(var r=e[0].knots,a=[],i=[],o=0,s=e[0].controlPoints.length;o<s;){var u=[o++],l=e.map(function(e){return function(t){return t.controlPoints[e[0]]}}(u)),c=Fe.rationalInterpCurve(l,t,!0);i.push(c.controlPoints),a=c.knots}return new J(n,t,r,a,i)},Fe.clonedCurve=function(e){return new X(e.degree,e.knots.slice(),e.controlPoints.map(function(e){return e.slice()}))},Fe.rationalBezierCurve=function(e,t){for(var n=e.length-1,r=[],a=0,i=n+1;a<i;)a++,r.push(0);for(var o=0,s=n+1;o<s;)o++,r.push(1);return null==t&&(t=Ee.rep(e.length,1)),new X(n,r,Be.homogenize1d(e,t))},Fe.fourPointSurface=function(e,t,n,r,a){null==a&&(a=3);for(var i=a,o=[],s=0,u=a+1;s<u;){for(var l=s++,c=[],d=0,f=a+1;d<f;){var m=d++,g=1-l/i,p=Ee.lerp(g,e,t),v=Ee.lerp(g,r,n),h=Ee.lerp(1-m/i,p,v);h.push(1),c.push(h)}o.push(c)}var y=Ee.rep(a+1,0),A=Ee.rep(a+1,1);return new J(a,a,y.concat(A),y.concat(A),o)},Fe.ellipseArc=function(e,t,n,r,a){var i=Ee.norm(t),o=Ee.norm(n);t=Ee.normalized(t),n=Ee.normalized(n),a<r&&(a=2*Math.PI+r);var s=a-r,u=0;u=s<=Math.PI/2?1:s<=Math.PI?2:s<=3*Math.PI/2?3:4;var l=s/u,c=Math.cos(l/2),d=Ee.add(e,Ee.add(Ee.mul(i*Math.cos(r),t),Ee.mul(o*Math.sin(r),n))),f=Ee.sub(Ee.mul(Math.cos(r),n),Ee.mul(Math.sin(r),t)),m=[],g=Ee.zeros1d(2*u+3),p=0,v=r,h=Ee.zeros1d(2*u);m[0]=d,h[0]=1;for(var y=1,A=u+1;y<A;){var S=y++;v+=l;var T=Ee.add(e,Ee.add(Ee.mul(i*Math.cos(v),t),Ee.mul(o*Math.sin(v),n)));h[p+2]=1,m[p+2]=T;var M=Ee.sub(Ee.mul(Math.cos(v),n),Ee.mul(Math.sin(v),t)),b=Ve.rays(d,Ee.mul(1/Ee.norm(f),f),T,Ee.mul(1/Ee.norm(M),M)),D=Ee.add(d,Ee.mul(b.u0,f));h[p+1]=c,m[p+1]=D,p+=2,S<u&&(d=T,f=M)}for(var I=2*u+1,w=0;w<3;){var C=w++;g[C]=0,g[C+I]=1}switch(u){case 2:g[3]=g[4]=.5;break;case 3:g[3]=g[4]=.3333333333333333,g[5]=g[6]=.6666666666666666;break;case 4:g[3]=g[4]=.25,g[5]=g[6]=.5,g[7]=g[8]=.75}return new X(2,g,Be.homogenize1d(m,h))},Fe.arc=function(e,t,n,r,a,i){return Fe.ellipseArc(e,Ee.mul(r,Ee.normalized(t)),Ee.mul(r,Ee.normalized(n)),a,i)},Fe.polyline=function(e){for(var t=[0,0],n=0,r=0,a=e.length-1;r<a;){var i=r++;n+=Ee.dist(e[i],e[i+1]),t.push(n)}t.push(n),t=Ee.mul(1/n,t);for(var o,s=[],u=0,l=e.length;u<l;)u++,s.push(1);return o=s,new X(1,t,Be.homogenize1d(e.slice(0),o))},Fe.extrudedSurface=function(e,t,n){for(var r=[[],[],[]],a=[[],[],[]],i=Be.dehomogenize1d(n.controlPoints),o=Be.weight1d(n.controlPoints),s=Ee.mul(t,e),u=Ee.mul(.5*t,e),l=0,c=i.length;l<c;){var d=l++;r[2][d]=i[d],r[1][d]=Ee.add(u,i[d]),r[0][d]=Ee.add(s,i[d]),a[0][d]=o[d],a[1][d]=o[d],a[2][d]=o[d]}return new J(2,n.degree,[0,0,0,1,1,1],n.knots,Be.homogenize2d(r,a))},Fe.cylindricalSurface=function(e,t,n,r,a){var i=Ee.cross(e,t),o=(Math.PI,Fe.arc(n,t,i,a,0,2*Math.PI));return Fe.extrudedSurface(e,r,o)},Fe.revolvedSurface=function(e,t,n,r){var a,i,o=Be.dehomogenize1d(e.controlPoints),s=Be.weight1d(e.controlPoints);r<=Math.PI/2?(a=1,i=Ee.zeros1d(6+2*(a-1))):r<=Math.PI?(a=2,i=Ee.zeros1d(6+2*(a-1)),i[3]=i[4]=.5):r<=3*Math.PI/2?(a=3,i=Ee.zeros1d(6+2*(a-1)),i[3]=i[4]=.3333333333333333,i[5]=i[6]=.6666666666666666):(a=4,i=Ee.zeros1d(6+2*(a-1)),i[3]=i[4]=.25,i[5]=i[6]=.5,i[7]=i[8]=.75);for(var u=r/a,l=3+2*(a-1),c=0;c<3;){var d=c++;i[d]=0,i[l+d]=1}for(var f=Math.cos(u/2),m=0,g=Ee.zeros1d(a+1),p=Ee.zeros1d(a+1),v=Ee.zeros3d(2*a+1,o.length,3),h=Ee.zeros2d(2*a+1,o.length),y=1,A=a+1;y<A;){var S=y++;m+=u,p[S]=Math.cos(m),g[S]=Math.sin(m)}for(var T=0,M=o.length;T<M;){var b=T++,D=xe.rayClosestPoint(o[b],t,n),I=Ee.sub(o[b],D),w=Ee.norm(I),C=Ee.cross(n,I);w>q.EPSILON&&(I=Ee.mul(1/w,I),C=Ee.mul(1/w,C)),v[0][b]=o[b];var N=o[b];h[0][b]=s[b];for(var P=C,x=0,E=1,O=a+1;E<O;){var L,_=E++;L=0==w?D:Ee.add(D,Ee.add(Ee.mul(w*p[_],I),Ee.mul(w*g[_],C))),v[x+2][b]=L,h[x+2][b]=s[b];var R=Ee.sub(Ee.mul(p[_],C),Ee.mul(g[_],I));if(0==w)v[x+1][b]=D;else{var k=Ve.rays(N,Ee.mul(1/Ee.norm(P),P),L,Ee.mul(1/Ee.norm(R),R)),B=Ee.add(N,Ee.mul(k.u0,P));v[x+1][b]=B}h[x+1][b]=f*s[b],x+=2,_<a&&(N=L,P=R)}}return new J(2,e.degree,i,e.knots,Be.homogenize2d(v,h))},Fe.sphericalSurface=function(e,t,n,r){var a=Fe.arc(e,Ee.mul(-1,t),n,r,0,Math.PI);return Fe.revolvedSurface(a,e,t,2*Math.PI)},Fe.conicalSurface=function(e,t,n,r,a){var i=2*Math.PI,o=[Ee.add(n,Ee.mul(r,e)),Ee.add(n,Ee.mul(a,t))],s=[0,0,1,1],u=[1,1],l=new X(1,s,Be.homogenize1d(o,u));return Fe.revolvedSurface(l,n,e,i)},Fe.rationalInterpCurve=function(e,t,n,r,a){if(null==n&&(n=!1),null==t&&(t=3),e.length<t+1)throw new E("You need to supply at least degree + 1 points! You only supplied "+e.length+" points.");for(var i=[0],o=1,s=e.length;o<s;){var u=o++,l=Ee.norm(Ee.sub(e[u],e[u-1])),c=i[i.length-1];i.push(c+l)}for(var d=i[i.length-1],f=0,m=i.length;f<m;){var g=f++;i[g]=i[g]/d}var p,v=Ee.rep(t+1,0),h=null!=r&&null!=a;p=h?0:1;var y;y=h?i.length-t+1:i.length-t;for(var A=p;A<y;){for(var S=A++,T=0,M=0;M<t;)T+=i[S+M++];v.push(1/t*T)}var b,D=v.concat(Ee.rep(t+1,1)),I=[];b=h?e.length+1:e.length-1;var w;w=h?e.length-(t-1):e.length-(t+1);for(var C=0;C<i.length;){var N=i[C];++C;var P=Be.knotSpanGivenN(b,t,N,D),x=Be.basisFunctionsGivenKnotSpanIndex(P,N,t,D),O=P-t,L=Ee.zeros1d(O),_=Ee.zeros1d(w-O);I.push(L.concat(x).concat(_))}if(h){var R=I[0].length-2,k=[-1,1].concat(Ee.zeros1d(R)),B=Ee.zeros1d(R).concat([-1,1]);W.spliceAndInsert(I,1,0,k),W.spliceAndInsert(I,I.length-1,0,B)}for(var V=e[0].length,F=[],j=(1-D[D.length-t-2])/t,U=D[t+1]/t,z=0;z<V;){var G,Q=[z++];if(h){G=[e[0][Q[0]]],G.push(U*r[Q[0]]);for(var Y=1,q=e.length-1;Y<q;){var H=Y++;G.push(e[H][Q[0]])}G.push(j*a[Q[0]]),G.push(W.last(e)[Q[0]])}else G=e.map(function(e){return function(t){return t[e[0]]}}(Q));var Z=Me.solve(I,G);F.push(Z)}var K=Me.transpose(F);if(!n){var J=Ee.rep(K.length,1);K=Be.homogenize1d(K,J)}return new X(t,D,K)};var je=t.eval.Modify=function(){};l["verb.eval.Modify"]=je,je.__name__=["verb","eval","Modify"],je.curveReverse=function(e){return new X(e.degree,je.knotsReverse(e.knots),W.reversed(e.controlPoints))},je.surfaceReverse=function(e,t){return null==t&&(t=!1),t?new J(e.degreeU,e.degreeV,e.knotsU,je.knotsReverse(e.knotsV),function(t){for(var n=[],r=0,a=e.controlPoints;r<a.length;){var i=a[r];++r,n.push(W.reversed(i))}return n}()):new J(e.degreeU,e.degreeV,je.knotsReverse(e.knotsU),e.knotsV,W.reversed(e.controlPoints))},je.knotsReverse=function(e){for(var t=W.first(e),n=(W.last(e),[t]),r=e.length,a=1;a<r;){var i=a++;n.push(n[i-1]+(e[r-i]-e[r-i-1]))}return n},je.unifyCurveKnotVectors=function(e){e=e.map(Fe.clonedCurve);for(var t=f.fold(e,function(e,t){return je.imax(e.degree,t)},0),n=0,r=e.length;n<r;){var a=n++;e[a].degree<t&&(e[a]=je.curveElevateDegree(e[a],t))}for(var i,o=[],s=0;s<e.length;){var u=e[s];++s,o.push(new re(W.first(u.knots),W.last(u.knots)))}i=o;for(var l=0,c=e.length;l<c;){var d=l++,m=[i[d].min];e[d].knots=e[d].knots.map(function(e){return function(t){return t-e[0]}}(m))}for(var g=i.map(function(e){return e.max-e.min}),p=f.fold(g,function(e,t){return Math.max(e,t)},0),v=0,h=e.length;v<h;){var y=v++,A=[p/g[y]];e[y].knots=e[y].knots.map(function(e){return function(t){return t*e[0]}}(A))}for(var S=f.fold(e,function(e,t){return Ee.sortedSetUnion(e.knots,t)},[]),T=0,M=e.length;T<M;){var b=T++,D=Ee.sortedSetSub(S,e[b].knots);0==D.length&&(e[b]=e[b]),e[b]=je.curveKnotRefine(e[b],D)}return e},je.imin=function(e,t){return e<t?e:t},je.imax=function(e,t){return e>t?e:t},je.curveElevateDegree=function(e,t){if(t<=e.degree)return e;var n=e.knots.length-e.degree-2,r=e.degree,a=e.knots,i=e.controlPoints,o=t-e.degree,s=e.controlPoints[0].length,u=Ee.zeros2d(r+o+1,r+1),l=[],c=[],d=[],f=n+r+1,m=t,g=Math.floor(m/2),p=[],v=[];u[0][0]=1,u[m][r]=1;for(var h=1,y=g+1;h<y;)for(var A=h++,S=1/Q.get(m,A),T=je.imin(r,A),M=je.imax(0,A-o),b=T+1;M<b;){var D=M++;u[A][D]=S*Q.get(r,D)*Q.get(o,A-D)}for(var I=g+1;I<m;)for(var w=I++,C=je.imin(r,w),N=je.imax(0,w-o),P=C+1;N<P;){var x=N++;u[w][x]=u[m-w][r-x]}var E=m+1,O=-1,L=r,_=r+1,R=1,k=a[0];p[0]=i[0];for(var B=0,V=m+1;B<V;)v[B++]=k;for(var F=0,j=r+1;F<j;){var U=F++;l[U]=i[U]}for(;_<f;){for(var z=_;_<f&&a[_]==a[_+1];)_+=1;var G=_-z+1,W=a[_],Y=O;O=r-G;var q;q=Y>0?Math.floor((Y+2)/2):1;var H;if(H=O>0?Math.floor(m-(O+1)/2):m,O>0){for(var Z=W-k,K=[],J=r;J>G;)K[J-G-1]=Z/(a[L+J]-k),J--;for(var $=1,ee=O+1;$<ee;){for(var te=$++,ne=O-te,re=G+te,ae=r;ae>=re;)l[ae]=Ee.add(Ee.mul(K[ae-re],l[ae]),Ee.mul(1-K[ae-re],l[ae-1])),ae--;d[ne]=l[r]}}for(var ie=q,oe=m+1;ie<oe;){var se=ie++;c[se]=Ee.zeros1d(s);for(var ue=je.imin(r,se),le=je.imax(0,se-o),ce=ue+1;le<ce;){var de=le++;c[se]=Ee.add(c[se],Ee.mul(u[se][de],l[de]))}}if(Y>1)for(var fe=E-2,me=E,ge=W-k,pe=(W-v[E-1])/ge,ve=1;ve<Y;){for(var he=ve++,ye=fe,Ae=me,Se=Ae-E+1;Ae-ye>he;){if(ye<R){var Te=(W-v[ye])/(k-v[ye]);p[ye]=Ee.lerp(Te,p[ye],p[ye-1])}if(Ae>=q){if(Ae-he<=E-m+Y){var Me=(W-v[Ae-he])/ge;c[Se]=Ee.lerp(Me,c[Se],c[Se+1])}}else c[Se]=Ee.lerp(pe,c[Se],c[Se+1]);ye+=1,Ae-=1,Se-=1}fe-=1,me+=1}if(L!=r)for(var be=0,De=m-Y;be<De;)be++,v[E]=k,E+=1;for(var Ie=q,we=H+1;Ie<we;){var Ce=Ie++;p[R]=c[Ce],R+=1}if(_<f){for(var Ne=0;Ne<O;){var Pe=Ne++;l[Pe]=d[Pe]}for(var xe=O,Oe=r+1;xe<Oe;){var Le=xe++;l[Le]=i[_-r+Le]}L=_,_+=1,k=W}else for(var _e=0,Re=m+1;_e<Re;){var ke=_e++;v[E+ke]=W}}return new X(t,v,p)},je.rationalSurfaceTransform=function(e,t){for(var n=Be.dehomogenize2d(e.controlPoints),r=0,a=n.length;r<a;)for(var i=r++,o=0,s=n[i].length;o<s;){var u=o++,l=n[i][u];l.push(1),n[i][u]=Me.dot(t,l).slice(0,l.length-1)}return new J(e.degreeU,e.degreeV,e.knotsU.slice(),e.knotsV.slice(),Be.homogenize2d(n,Be.weight2d(e.controlPoints)))},je.rationalCurveTransform=function(e,t){for(var n=Be.dehomogenize1d(e.controlPoints),r=0,a=n.length;r<a;){var i=r++,o=n[i];o.push(1),n[i]=Me.dot(t,o).slice(0,o.length-1)}return new X(e.degree,e.knots.slice(),Be.homogenize1d(n,Be.weight1d(e.controlPoints)))},je.surfaceKnotRefine=function(e,t,n){var r,a,i,o=[];n?(i=e.controlPoints,r=e.knotsV,a=e.degreeV):(i=Me.transpose(e.controlPoints),r=e.knotsU,a=e.degreeU);for(var s=null,u=0;u<i.length;){var l=i[u];++u,s=je.curveKnotRefine(new X(a,r,l),t),o.push(s.controlPoints)}var c=s.knots;return n?new J(e.degreeU,e.degreeV,e.knotsU.slice(),c,o):(o=Me.transpose(o),new J(e.degreeU,e.degreeV,c,e.knotsV.slice(),o))},je.decomposeCurveIntoBeziers=function(e){for(var t=e.degree,n=e.controlPoints,r=e.knots,a=Oe.knotMultiplicities(r),i=t+1,o=0;o<a.length;){var s=a[o];if(++o,s.mult<i){var u=Ee.rep(i-s.mult,s.knot),l=je.curveKnotRefine(new X(t,r,n),u);r=l.knots,n=l.controlPoints}}for(var c=(r.length,2*i),d=[],f=0;f<n.length;){var m=r.slice(f,f+c),g=n.slice(f,f+i);d.push(new X(t,m,g)),f+=i}return d},je.curveKnotRefine=function(e,t){if(0==t.length)return Fe.clonedCurve(e);for(var n=e.degree,r=e.controlPoints,a=e.knots,i=r.length-1,o=i+n+1,s=t.length-1,u=Be.knotSpan(n,t[0],a),l=Be.knotSpan(n,t[s],a),c=[],d=[],f=0,m=u-n+1;f<m;){var g=f++;c[g]=r[g]}for(var p=l-1,v=i+1;p<v;){var h=p++;c[h+s+1]=r[h]}for(var y=0,A=u+1;y<A;){var S=y++;d[S]=a[S]}for(var T=l+n,M=o+1;T<M;){var b=T++;d[b+s+1]=a[b]}for(var D=l+n-1,I=l+n+s,w=s;w>=0;){for(;t[w]<=a[D]&&D>u;)c[I-n-1]=r[D-n-1],d[I]=a[D],I-=1,D-=1;c[I-n-1]=c[I-n];for(var C=1,N=n+1;C<N;){var P=C++,x=I-n+P,E=d[I+P]-t[w];Math.abs(E)<q.EPSILON?c[x-1]=c[x]:(E/=d[I+P]-a[D-n+P],c[x-1]=Ee.add(Ee.mul(E,c[x-1]),Ee.mul(1-E,c[x])))}d[I]=t[w],I-=1,w--}return new X(n,d,c)},je.curveKnotInsert=function(e,t,n){for(var r=e.degree,a=e.controlPoints,i=e.knots,o=a.length,s=Be.knotSpan(r,t,i),u=[],l=[],c=[],d=1,f=s+1;d<f;){var m=d++;l[m]=i[m]}for(var g=1,p=n+1;g<p;)l[s+g++]=t;for(var v=s+1,h=i.length;v<h;){var y=v++;l[y+n]=i[y]}for(var A=0,S=s-r+1;A<S;){var T=A++;c[T]=a[T]}for(var M=s-0;M<o;){var b=M++;c[b+n]=a[b]}for(var D=0,I=r-0+1;D<I;){var w=D++;u[w]=a[s-r+w]}for(var C=0,N=0,P=1,x=n+1;P<x;){var E=P++;C=s-r+E;for(var O=0,L=r-E-0+1;O<L;){var _=O++;N=(t-i[C+_])/(i[_+s+1]-i[C+_]),u[_]=Ee.add(Ee.mul(N,u[_+1]),Ee.mul(1-N,u[_]))}c[C]=u[0],c[s+n-E-0]=u[r-E-0]}for(var R=C+1,k=s-0;R<k;){var B=R++;c[B]=u[B-C]}return new X(r,l,c)};var Ue=t.eval.Tess=function(){};l["verb.eval.Tess"]=Ue,Ue.__name__=["verb","eval","Tess"],Ue.rationalCurveRegularSample=function(e,t,n){return Ue.rationalCurveRegularSampleRange(e,e.knots[0],W.last(e.knots),t,n)},Ue.rationalCurveRegularSampleRange=function(e,t,n,r,a){r<1&&(r=2);for(var i=[],o=(n-t)/(r-1),s=0,u=0;u<r;)s=t+o*u++,a?i.push([s].concat(Be.rationalCurvePoint(e,s))):i.push(Be.rationalCurvePoint(e,s));return i},Ue.rationalCurveAdaptiveSample=function(e,t,n){if(null==n&&(n=!1),null==t&&(t=1e-6),1==e.degree){if(n){for(var r=[],a=0,i=e.controlPoints.length;a<i;){var o=a++;r.push([e.knots[o+1]].concat(Be.dehomogenize(e.controlPoints[o])))}return r}return e.controlPoints.map(Be.dehomogenize)}return Ue.rationalCurveAdaptiveSampleRange(e,e.knots[0],W.last(e.knots),t,n)},Ue.rationalCurveAdaptiveSampleRange=function(e,t,n,r,a){var i=Be.rationalCurvePoint(e,t),o=Be.rationalCurvePoint(e,n),s=.5+.2*Math.random(),u=t+(n-t)*s,l=Be.rationalCurvePoint(e,u),c=Ee.sub(i,o),d=Ee.sub(i,l);if(Ee.dot(c,c)<r&&Ee.dot(d,d)>r||!xe.threePointsAreFlat(i,l,o,r)){var f=t+.5*(n-t),m=Ue.rationalCurveAdaptiveSampleRange(e,t,f,r,a),g=Ue.rationalCurveAdaptiveSampleRange(e,f,n,r,a);return m.slice(0,-1).concat(g)}return a?[[t].concat(i),[n].concat(o)]:[i,o]},Ue.rationalSurfaceNaive=function(e,t,n){t<1&&(t=1),n<1&&(n=1);for(var r=(e.degreeU,e.degreeV,e.controlPoints,e.knotsU),a=e.knotsV,i=W.last(r)-r[0],o=W.last(a)-a[0],s=i/t,u=o/n,l=[],c=[],d=[],f=0,m=t+1;f<m;)for(var g=f++,p=0,v=n+1;p<v;){var h=p++,y=g*s,A=h*u;c.push([y,A]);var S=Be.rationalSurfaceDerivatives(e,y,A,1),T=S[0][0];l.push(T);var M=Ee.normalized(Ee.cross(S[1][0],S[0][1]));d.push(M)}for(var b=[],D=0;D<t;)for(var I=D++,w=0;w<n;){var C=w++,N=I*(n+1)+C,P=(I+1)*(n+1)+C,x=P+1,E=N+1,O=[N,P,x],L=[N,x,E];b.push(O),b.push(L)}return new $(b,l,d,c)},Ue.divideRationalSurfaceAdaptive=function(e,t){null==t&&(t=new ze),null!=t.minDivsU?t.minDivsU=t.minDivsU:t.minDivsU=1,null!=t.minDivsV?t.minDivsU=t.minDivsV:t.minDivsU=1,null!=t.refine?t.refine=t.refine:t.refine=!0;var n,r=2*(e.controlPoints.length-1),a=2*(e.controlPoints[0].length-1);n=t.minDivsU>r?t.minDivsU=t.minDivsU:t.minDivsU=r;var i;i=t.minDivsV>a?t.minDivsV=t.minDivsV:t.minDivsV=a;for(var o=W.last(e.knotsU),s=e.knotsU[0],u=W.last(e.knotsV),l=e.knotsV[0],c=(o-s)/n,d=(u-l)/i,f=[],m=[],g=0,p=i+1;g<p;){for(var v=g++,h=[],y=0,A=n+1;y<A;){var S=y++,T=s+c*S,M=l+d*v,b=Be.rationalSurfaceDerivatives(e,T,M,1),D=Ee.normalized(Ee.cross(b[0][1],b[1][0]));h.push(new de(b[0][0],D,[T,M],-1,Ee.isZero(D)))}m.push(h)}for(var I=0;I<i;)for(var w=I++,C=0;C<n;){var N=C++,P=[m[i-w-1][N],m[i-w-1][N+1],m[i-w][N+1],m[i-w][N]];f.push(new Ge(e,P))}if(!t.refine)return f;for(var x=0;x<i;)for(var E=x++,O=0;O<n;){var L=O++,_=E*n+L,R=Ue.north(_,E,L,n,i,f),k=Ue.east(_,E,L,n,i,f),B=Ue.south(_,E,L,n,i,f),V=Ue.west(_,E,L,n,i,f);f[_].neighbors=[B,k,R,V],f[_].divide(t)}return f},Ue.north=function(e,t,n,r,a,i){return 0==t?null:i[e-r]},Ue.south=function(e,t,n,r,a,i){return t==a-1?null:i[e+r]},Ue.east=function(e,t,n,r,a,i){return n==r-1?null:i[e+1]},Ue.west=function(e,t,n,r,a,i){return 0==n?null:i[e-1]},Ue.triangulateAdaptiveRefinementNodeTree=function(e){for(var t=$.empty(),n=0;n<e.length;){var r=e[n];++n,r.triangulate(t)}return t},Ue.rationalSurfaceAdaptive=function(e,t){t=null!=t?t:new ze;var n=Ue.divideRationalSurfaceAdaptive(e,t);return Ue.triangulateAdaptiveRefinementNodeTree(n)};var ze=t.core.AdaptiveRefinementOptions=function(){this.minDivsV=1,this.minDivsU=1,this.refine=!0,this.maxDepth=10,this.minDepth=0,this.normTol=.025};l["verb.eval.AdaptiveRefinementOptions"]=ze,ze.__name__=["verb","eval","AdaptiveRefinementOptions"],ze.prototype={__class__:ze};var Ge=t.core.AdaptiveRefinementNode=function(e,t,n){if(this.srf=e,this.neighbors=null==n?[null,null,null,null]:n,this.corners=t,null==this.corners){var r=e.knotsU[0],a=W.last(e.knotsU),i=e.knotsV[0],o=W.last(e.knotsV);this.corners=[de.fromUv(r,i),de.fromUv(a,i),de.fromUv(a,o),de.fromUv(r,o)]}};l["verb.eval.AdaptiveRefinementNode"]=Ge,Ge.__name__=["verb","eval","AdaptiveRefinementNode"],Ge.prototype={isLeaf:function(){return null==this.children},center:function(){return null!=this.centerPoint?this.centerPoint:this.evalSrf(this.u05,this.v05)},evalCorners:function(){this.u05=(this.corners[0].uv[0]+this.corners[2].uv[0])/2,this.v05=(this.corners[0].uv[1]+this.corners[2].uv[1])/2;for(var e=0;e<4;){var t=e++;if(null==this.corners[t].point){var n=this.corners[t];this.evalSrf(n.uv[0],n.uv[1],n)}}},evalSrf:function(e,t,n){var r=Be.rationalSurfaceDerivatives(this.srf,e,t,1),a=r[0][0],i=Ee.cross(r[0][1],r[1][0]),o=Ee.isZero(i);return o||(i=Ee.normalized(i)),null!=n?(n.degen=o,n.point=a,n.normal=i,n):new de(a,i,[e,t],-1,o)},getEdgeCorners:function(e){if(this.isLeaf())return[this.corners[e]];if(this.horizontal)switch(e){case 0:return this.children[0].getEdgeCorners(0);case 1:return this.children[0].getEdgeCorners(1).concat(this.children[1].getEdgeCorners(1));case 2:return this.children[1].getEdgeCorners(2);case 3:return this.children[1].getEdgeCorners(3).concat(this.children[0].getEdgeCorners(3))}switch(e){case 0:return this.children[0].getEdgeCorners(0).concat(this.children[1].getEdgeCorners(0));case 1:return this.children[1].getEdgeCorners(1);case 2:return this.children[1].getEdgeCorners(2).concat(this.children[0].getEdgeCorners(2));case 3:return this.children[0].getEdgeCorners(3)}return null},getAllCorners:function(e){var t=[this.corners[e]];if(null==this.neighbors[e])return t;var n=this.neighbors[e].getEdgeCorners((e+2)%4),r=e%2,a=q.EPSILON,i=this,o=[function(e){return e.uv[0]>i.corners[0].uv[0]+a&&e.uv[0]<i.corners[2].uv[0]-a},function(e){return e.uv[1]>i.corners[0].uv[1]+a&&e.uv[1]<i.corners[2].uv[1]-a}],s=n.filter(o[r]);return s.reverse(),t.concat(s)},midpoint:function(e){if(null==this.midPoints&&(this.midPoints=[null,null,null,null]),null!=this.midPoints[e])return this.midPoints[e];switch(e){case 0:this.midPoints[0]=this.evalSrf(this.u05,this.corners[0].uv[1]);break;case 1:this.midPoints[1]=this.evalSrf(this.corners[1].uv[0],this.v05);break;case 2:this.midPoints[2]=this.evalSrf(this.u05,this.corners[2].uv[1]);break;case 3:this.midPoints[3]=this.evalSrf(this.corners[0].uv[0],this.v05)}return this.midPoints[e]},hasBadNormals:function(){return this.corners[0].degen||this.corners[1].degen||this.corners[2].degen||this.corners[3].degen},fixNormals:function(){for(var e=this.corners.length,t=0;t<e;){var n=t++;if(this.corners[n],this.corners[n].degen){var r=this.corners[(n+1)%e],a=this.corners[(n+3)%e];r.degen?this.corners[n].normal=a.normal:this.corners[n].normal=r.normal}}},shouldDivide:function(e,t){if(t<e.minDepth)return!0;if(t>=e.maxDepth)return!1;if(this.hasBadNormals())return this.fixNormals(),!1;if(this.splitVert=Ee.normSquared(Ee.sub(this.corners[0].normal,this.corners[1].normal))>e.normTol||Ee.normSquared(Ee.sub(this.corners[2].normal,this.corners[3].normal))>e.normTol,this.splitHoriz=Ee.normSquared(Ee.sub(this.corners[1].normal,this.corners[2].normal))>e.normTol||Ee.normSquared(Ee.sub(this.corners[3].normal,this.corners[0].normal))>e.normTol,this.splitVert||this.splitHoriz)return!0;var n=this.center();return Ee.normSquared(Ee.sub(n.normal,this.corners[0].normal))>e.normTol||Ee.normSquared(Ee.sub(n.normal,this.corners[1].normal))>e.normTol||Ee.normSquared(Ee.sub(n.normal,this.corners[2].normal))>e.normTol||Ee.normSquared(Ee.sub(n.normal,this.corners[3].normal))>e.normTol},divide:function(e){null==e&&(e=new ze),null==e.normTol&&(e.normTol=.085),null==e.minDepth&&(e.minDepth=0),null==e.maxDepth&&(e.maxDepth=10),this._divide(e,0,!0)},_divide:function(e,t,n){if(this.evalCorners(),this.shouldDivide(e,t)){if(t++,this.splitVert&&!this.splitHoriz?n=!1:!this.splitVert&&this.splitHoriz&&(n=!0),this.horizontal=n,this.horizontal){var r=[this.corners[0],this.corners[1],this.midpoint(1),this.midpoint(3)],a=[this.midpoint(3),this.midpoint(1),this.corners[2],this.corners[3]];this.children=[new Ge(this.srf,r),new Ge(this.srf,a)],this.children[0].neighbors=[this.neighbors[0],this.neighbors[1],this.children[1],this.neighbors[3]],this.children[1].neighbors=[this.children[0],this.neighbors[1],this.neighbors[2],this.neighbors[3]]}else{var i=[this.corners[0],this.midpoint(0),this.midpoint(2),this.corners[3]],o=[this.midpoint(0),this.corners[1],this.corners[2],this.midpoint(2)];this.children=[new Ge(this.srf,i),new Ge(this.srf,o)],this.children[0].neighbors=[this.neighbors[0],this.children[1],this.neighbors[2],this.neighbors[3]],this.children[1].neighbors=[this.neighbors[0],this.neighbors[1],this.neighbors[2],this.children[0]]}for(var s=0,u=this.children;s<u.length;){var l=u[s];++s,l._divide(e,t,!n)}}},triangulate:function(e){if(null==e&&(e=$.empty()),this.isLeaf())return this.triangulateLeaf(e);for(var t=0,n=this.children;t<n.length;){var r=n[t];if(++t,null==r)break;r.triangulate(e)}return e},triangulateLeaf:function(e){for(var t=e.points.length,n=[],r=[],a=0,i=0;i<4;){var o=i++,s=this.getAllCorners(o);2==s.length&&(a=o+1);for(var u=0,l=s.length;u<l;){var c=u++;n.push(s[c])}}for(var d=0;d<n.length;){var f=n[d];++d,-1==f.id?(e.uvs.push(f.uv),e.points.push(f.point),e.normals.push(f.normal),f.id=t,r.push(t),t++):r.push(f.id)}if(4==n.length)return e.faces.push([r[0],r[3],r[1]]),e.faces.push([r[3],r[2],r[1]]),e;if(5==n.length){var m=r.length;return e.faces.push([r[a],r[(a+2)%m],r[(a+1)%m]]),e.faces.push([r[(a+4)%m],r[(a+3)%m],r[a]]),e.faces.push([r[a],r[(a+3)%m],r[(a+2)%m]]),e}var g=this.center();e.uvs.push(g.uv),e.points.push(g.point),e.normals.push(g.normal);for(var p=e.points.length-1,v=0,h=n.length-1;v<n.length;)e.faces.push([p,r[v],r[h]]),h=v++;return e},__class__:Ge};var We=t.exe.Dispatcher=function(){};l["verb.exe.Dispatcher"]=We,We.__name__=["verb","exe","Dispatcher"],We.init=function(){We._init||(We._workerPool=new Qe(We.THREADS),We._init=!0)},We.dispatchMethod=function(e,t,n){We.init();var r=new B,a=function(e){r.resolve(e)};return We._workerPool.addWork(A.getClassName(e),t,n,a),new V(r)};var Qe=t.exe.WorkerPool=function(e,t){null==t&&(t="verb.js"),null==e&&(e=1),this._callbacks=new D,this._working=new D,this._pool=[],this._queue=[];for(var n=0;n<e;){var r;n++;try{r=new Worker(Qe.basePath+t)}catch(e){e instanceof E&&(e=e.val),r=new Worker(Qe.basePath+t.substring(0,-3)+".min.js")}this._pool.push(r)}};l["verb.exe.WorkerPool"]=Qe,Qe.__name__=["verb","exe","WorkerPool"],Qe.prototype={addWork:function(e,t,n,r){var a=new Ye(e,t,n);this._callbacks.set(a.id,r),this._queue.push(a),this.processQueue()},processQueue:function(){for(var t=this;this._queue.length>0&&this._pool.length>0;){var n=this._queue.shift(),r=[n.id],a=[this._pool.shift()];this._working.h[r[0]]=a[0],a[0].onmessage=function(n,r){return function(a){t._working.remove(r[0]),t._pool.push(n[0]);try{t._callbacks.h.hasOwnProperty(r[0])&&(t._callbacks.h[r[0]](a.data.result),t._callbacks.remove(r[0]))}catch(t){t instanceof E&&(t=t.val),e.log(t)}t.processQueue()}}(a,r),a[0].postMessage(n)}},__class__:Qe};var Ye=function e(t,n,r){this.className=t,this.methodName=n,this.args=r,this.id=e.uuid++};l["verb.exe._WorkerPool.Work"]=Ye,Ye.__name__=["verb","exe","_WorkerPool","Work"],Ye.prototype={__class__:Ye};var qe=function(){};l["verb.geom.ICurve"]=qe,qe.__name__=["verb","geom","ICurve"],qe.__interfaces__=[Ne],qe.prototype={__class__:qe};var He=t.geom.NurbsCurve=function(e){this._data=_e.isValidNurbsCurveData(e)};l["verb.geom.NurbsCurve"]=He,He.__name__=["verb","geom","NurbsCurve"],He.__interfaces__=[qe],He.byKnotsControlPointsWeights=function(e,t,n,r){return new He(new X(e,t.slice(),Be.homogenize1d(n,r)))},He.byPoints=function(e,t){return null==t&&(t=3),new He(Fe.rationalInterpCurve(e,t))},He.__super__=H,He.prototype=i(H.prototype,{degree:function(){return this._data.degree},knots:function(){return this._data.knots.slice(0)},controlPoints:function(){return Be.dehomogenize1d(this._data.controlPoints)},weights:function(){return Be.weight1d(this._data.controlPoints)},asNurbs:function(){return new X(this.degree(),this.knots(),Be.homogenize1d(this.controlPoints(),this.weights()))},clone:function(){return new He(this._data)},domain:function(){return new re(W.first(this._data.knots),W.last(this._data.knots))},transform:function(e){return new He(je.rationalCurveTransform(this._data,e))},transformAsync:function(e){return We.dispatchMethod(je,"rationalCurveTransform",[this._data,e]).then(function(e){return new He(e)})},point:function(e){return Be.rationalCurvePoint(this._data,e)},pointAsync:function(e){return We.dispatchMethod(Be,"rationalCurvePoint",[this._data,e])},tangent:function(e){return Be.rationalCurveTangent(this._data,e)},tangentAsync:function(e){return We.dispatchMethod(Be,"rationalCurveTangent",[this._data,e])},derivatives:function(e,t){return null==t&&(t=1),Be.rationalCurveDerivatives(this._data,e,t)},derivativesAsync:function(e,t){return null==t&&(t=1),We.dispatchMethod(Be,"rationalCurveDerivatives",[this._data,e,t])},closestPoint:function(e){return Oe.rationalCurveClosestPoint(this._data,e)},closestPointAsync:function(e){return We.dispatchMethod(Oe,"rationalCurveClosestPoint",[this._data,e])},closestParam:function(e){return Oe.rationalCurveClosestParam(this._data,e)},closestParamAsync:function(e){return We.dispatchMethod(Oe,"rationalCurveClosestParam",[this._data,e])},length:function(){return Oe.rationalCurveArcLength(this._data)},lengthAsync:function(){return We.dispatchMethod(Oe,"rationalCurveArcLength",[this._data])},lengthAtParam:function(e){return Oe.rationalCurveArcLength(this._data,e)},lengthAtParamAsync:function(){return We.dispatchMethod(Oe,"rationalCurveArcLength",[this._data])},paramAtLength:function(e,t){return Oe.rationalCurveParamAtArcLength(this._data,e,t)},paramAtLengthAsync:function(e,t){return We.dispatchMethod(Oe,"rationalCurveParamAtArcLength",[this._data,e,t])},divideByEqualArcLength:function(e){return Re.rationalCurveByEqualArcLength(this._data,e)},divideByEqualArcLengthAsync:function(e){return We.dispatchMethod(Re,"rationalCurveByEqualArcLength",[this._data,e])},divideByArcLength:function(e){return Re.rationalCurveByArcLength(this._data,e)},divideByArcLengthAsync:function(e){return We.dispatchMethod(Re,"rationalCurveByArcLength",[this._data,e])},split:function(e){return Re.curveSplit(this._data,e).map(function(e){return new He(e)})},splitAsync:function(e){return We.dispatchMethod(Re,"curveSplit",[this._data,e]).then(function(e){return e.map(function(e){return new He(e)})})},reverse:function(){return new He(je.curveReverse(this._data))},reverseAsync:function(){return We.dispatchMethod(je,"curveReverse",[this._data]).then(function(e){return new He(e)})},tessellate:function(e){return Ue.rationalCurveAdaptiveSample(this._data,e,!1)},tessellateAsync:function(e){return We.dispatchMethod(Ue,"rationalCurveAdaptiveSample",[this._data,e,!1])},__class__:He});var Ze=t.geom.Arc=function(e,t,n,r,a,i){He.call(this,Fe.arc(e,t,n,r,a,i)),this._center=e,this._xaxis=t,this._yaxis=n,this._radius=r,this._minAngle=a,this._maxAngle=i};l["verb.geom.Arc"]=Ze,Ze.__name__=["verb","geom","Arc"],Ze.__super__=He,Ze.prototype=i(He.prototype,{center:function(){return this._center},xaxis:function(){return this._xaxis},yaxis:function(){return this._yaxis},radius:function(){return this._radius},minAngle:function(){return this._minAngle},maxAngle:function(){return this._maxAngle},__class__:Ze});var Ke=t.geom.BezierCurve=function(e,t){He.call(this,Fe.rationalBezierCurve(e,t))};l["verb.geom.BezierCurve"]=Ke,Ke.__name__=["verb","geom","BezierCurve"],Ke.__super__=He,Ke.prototype=i(He.prototype,{__class__:Ke});var Xe=t.geom.Circle=function(e,t,n,r){Ze.call(this,e,t,n,r,0,2*Math.PI)};l["verb.geom.Circle"]=Xe,Xe.__name__=["verb","geom","Circle"],Xe.__super__=Ze,Xe.prototype=i(Ze.prototype,{__class__:Xe});var Je=function(){};l["verb.geom.ISurface"]=Je,Je.__name__=["verb","geom","ISurface"],Je.__interfaces__=[Ne],Je.prototype={__class__:Je};var $e=t.geom.NurbsSurface=function(e){this._data=_e.isValidNurbsSurfaceData(e)};l["verb.geom.NurbsSurface"]=$e,$e.__name__=["verb","geom","NurbsSurface"],$e.__interfaces__=[Je],$e.byKnotsControlPointsWeights=function(e,t,n,r,a,i){return new $e(new J(e,t,n,r,Be.homogenize2d(a,i)))},$e.byCorners=function(e,t,n,r){return new $e(Fe.fourPointSurface(e,t,n,r))},$e.byLoftingCurves=function(e,t){return new $e(Fe.loftedSurface(function(t){for(var n=[],r=0;r<e.length;){var a=e[r];++r,n.push(a.asNurbs())}return n}(),t))},$e.__super__=H,$e.prototype=i(H.prototype,{degreeU:function(){return this._data.degreeU},degreeV:function(){return this._data.degreeV},knotsU:function(){return this._data.knotsU.slice(0)},knotsV:function(){return this._data.knotsV.slice(0)},controlPoints:function(){return Be.dehomogenize2d(this._data.controlPoints)},weights:function(){return Be.weight2d(this._data.controlPoints)},asNurbs:function(){return new J(this.degreeU(),this.degreeV(),this.knotsU(),this.knotsV(),Be.homogenize2d(this.controlPoints(),this.weights()))},clone:function(){return new $e(this.asNurbs())},domainU:function(){return new re(W.first(this._data.knotsU),W.last(this._data.knotsU))},domainV:function(){return new re(W.first(this._data.knotsV),W.last(this._data.knotsV))},point:function(e,t){return Be.rationalSurfacePoint(this._data,e,t)},pointAsync:function(e,t){return We.dispatchMethod(Be,"rationalSurfacePoint",[this._data,e,t])},normal:function(e,t){return Be.rationalSurfaceNormal(this._data,e,t)},normalAsync:function(e,t){return We.dispatchMethod(Be,"rationalSurfaceNormal",[this._data,e,t])},derivatives:function(e,t,n){return null==n&&(n=1),Be.rationalSurfaceDerivatives(this._data,e,t,n)},derivativesAsync:function(e,t,n){return null==n&&(n=1),We.dispatchMethod(Be,"rationalSurfaceDerivatives",[this._data,e,t,n])},closestParam:function(e){return Oe.rationalSurfaceClosestParam(this._data,e)},closestParamAsync:function(e){return We.dispatchMethod(Oe,"rationalSurfaceClosestParam",[this._data,e])},closestPoint:function(e){return Oe.rationalSurfaceClosestPoint(this._data,e)},closestPointAsync:function(e){return We.dispatchMethod(Oe,"rationalSurfaceClosestPoint",[this._data,e])},split:function(e,t){return null==t&&(t=!1),Re.surfaceSplit(this._data,e,t).map(function(e){return new $e(e)})},splitAsync:function(e,t){return null==t&&(t=!1),We.dispatchMethod(Re,"surfaceSplit",[this._data,e,t]).then(function(e){return e.map(function(e){return new $e(e)})})},reverse:function(e){return null==e&&(e=!1),new $e(je.surfaceReverse(this._data,e))},reverseAsync:function(e){return null==e&&(e=!1),We.dispatchMethod(je,"surfaceReverse",[this._data,e]).then(function(e){return new $e(e)})},isocurve:function(e,t){return null==t&&(t=!1),new He(Fe.surfaceIsocurve(this._data,e,t))},isocurveAsync:function(e,t){return null==t&&(t=!1),We.dispatchMethod(Fe,"surfaceIsocurve",[this._data,e,t]).then(function(e){return new He(e)})},boundaries:function(e){return Fe.surfaceBoundaryCurves(this._data).map(function(e){return new He(e)})},boundariesAsync:function(e){return We.dispatchMethod(Fe,"surfaceBoundaryCurves",[this._data]).then(function(e){return e.map(function(e){return new He(e)})})},tessellate:function(e){return Ue.rationalSurfaceAdaptive(this._data,e)},tessellateAsync:function(e){return We.dispatchMethod(Ue,"rationalSurfaceAdaptive",[this._data,e])},transform:function(e){return new $e(je.rationalSurfaceTransform(this._data,e))},transformAsync:function(e){return We.dispatchMethod(je,"rationalSurfaceTransform",[this._data,e]).then(function(e){return new $e(e)})},__class__:$e});var et=t.geom.ConicalSurface=function(e,t,n,r,a){$e.call(this,Fe.conicalSurface(e,t,n,r,a)),this._axis=e,this._xaxis=t,this._base=n,this._height=r,this._radius=a};l["verb.geom.ConicalSurface"]=et,et.__name__=["verb","geom","ConicalSurface"],et.__super__=$e,et.prototype=i($e.prototype,{axis:function(){return this._axis},xaxis:function(){return this._xaxis},base:function(){return this._base},height:function(){return this._height},radius:function(){return this._radius},__class__:et});var tt=t.geom.CylindricalSurface=function(e,t,n,r,a){$e.call(this,Fe.cylindricalSurface(e,t,n,r,a)),this._axis=e,this._xaxis=t,this._base=n,this._height=r,this._radius=a};l["verb.geom.CylindricalSurface"]=tt,tt.__name__=["verb","geom","CylindricalSurface"],tt.__super__=$e,tt.prototype=i($e.prototype,{axis:function(){return this._axis},xaxis:function(){return this._xaxis},base:function(){return this._base},height:function(){return this._height},radius:function(){return this._radius},__class__:tt});var nt=t.geom.EllipseArc=function(e,t,n,r,a){He.call(this,Fe.ellipseArc(e,t,n,r,a)),this._center=e,this._xaxis=t,this._yaxis=n,this._minAngle=r,this._maxAngle=a};l["verb.geom.EllipseArc"]=nt,nt.__name__=["verb","geom","EllipseArc"],nt.__super__=He,nt.prototype=i(He.prototype,{center:function(){return this._center},xaxis:function(){return this._xaxis},yaxis:function(){return this._yaxis},minAngle:function(){return this._minAngle},maxAngle:function(){return this._maxAngle},__class__:nt});var rt=t.geom.Ellipse=function(e,t,n){nt.call(this,e,t,n,0,2*Math.PI)};l["verb.geom.Ellipse"]=rt,rt.__name__=["verb","geom","Ellipse"],rt.__super__=nt,rt.prototype=i(nt.prototype,{__class__:rt});var at=t.geom.ExtrudedSurface=function(e,t){$e.call(this,Fe.extrudedSurface(Ee.normalized(t),Ee.norm(t),e.asNurbs())),this._profile=e,this._direction=t};l["verb.geom.ExtrudedSurface"]=at,at.__name__=["verb","geom","ExtrudedSurface"],at.__super__=$e,at.prototype=i($e.prototype,{profile:function(){return this._profile},direction:function(){return this._direction},__class__:at});var it=t.geom.Intersect=function(){};l["verb.geom.Intersect"]=it,it.__name__=["verb","geom","Intersect"],it.curves=function(e,t,n){return null==n&&(n=.001),Ve.curves(e.asNurbs(),t.asNurbs(),n)},it.curvesAsync=function(e,t,n){return null==n&&(n=.001),We.dispatchMethod(Ve,"curves",[e.asNurbs(),t.asNurbs(),n])},it.curveAndSurface=function(e,t,n){return null==n&&(n=.001),Ve.curveAndSurface(e.asNurbs(),t.asNurbs(),n)},it.curveAndSurfaceAsync=function(e,t,n){return null==n&&(n=.001),We.dispatchMethod(Ve,"curveAndSurface",[e.asNurbs(),t.asNurbs(),n])},it.surfaces=function(e,t,n){return null==n&&(n=.001),Ve.surfaces(e.asNurbs(),t.asNurbs(),n).map(function(e){return new He(e)})},it.surfacesAsync=function(e,t,n){return null==n&&(n=.001),We.dispatchMethod(Ve,"surfaces",[e.asNurbs(),t.asNurbs(),n]).then(function(e){return e.map(function(e){return new He(e)})})};var ot=t.geom.Line=function(e,t){He.call(this,Fe.polyline([e,t])),this._start=e,this._end=t};l["verb.geom.Line"]=ot,ot.__name__=["verb","geom","Line"],ot.__super__=He,ot.prototype=i(He.prototype,{start:function(){return this._start},end:function(){return this._end},__class__:ot});var st=t.geom.RevolvedSurface=function(e,t,n,r){$e.call(this,Fe.revolvedSurface(e.asNurbs(),t,n,r)),this._profile=e,this._center=t,this._axis=n,this._angle=r};l["verb.geom.RevolvedSurface"]=st,st.__name__=["verb","geom","RevolvedSurface"],st.__super__=$e,st.prototype=i($e.prototype,{profile:function(){return this._profile},center:function(){return this._center},axis:function(){return this._center},angle:function(){return this._angle},__class__:st});var ut=t.geom.SphericalSurface=function(e,t){$e.call(this,Fe.sphericalSurface(e,[0,0,1],[1,0,0],t)),this._center=e,this._radius=t};l["verb.geom.SphericalSurface"]=ut,ut.__name__=["verb","geom","SphericalSurface"],ut.__super__=$e,ut.prototype=i($e.prototype,{center:function(){return this._center},radius:function(){return this._radius},__class__:ut});var lt=t.geom.SweptSurface=function(e,t){$e.call(this,Fe.rationalTranslationalSurface(e.asNurbs(),t.asNurbs())),this._profile=e,this._rail=t};l["verb.geom.SweptSurface"]=lt,lt.__name__=["verb","geom","SweptSurface"],lt.__super__=$e,lt.prototype=i($e.prototype,{profile:function(){return this._profile},rail:function(){return this._rail},__class__:lt});var ct,dt=0;l.Math=Math,String.prototype.__class__=l.String=String,String.__name__=["String"],l.Array=Array,Array.__name__=["Array"],Date.prototype.__class__=l.Date=Date,Date.__name__=["Date"];var ft=l.Int={__name__:["Int"]},mt=l.Dynamic={__name__:["Dynamic"]},gt=l.Float=Number;gt.__name__=["Float"];var pt=l.Bool=Boolean;pt.__ename__=["Bool"];var vt=l.Class={__name__:["Class"]},ht={};null==Array.prototype.map&&(Array.prototype.map=function(e){for(var t=[],n=0,r=this.length;n<r;){var a=n++;t[a]=e(this[a])}return t}),null==Array.prototype.filter&&(Array.prototype.filter=function(e){for(var t=[],n=0,r=this.length;n<r;){var a=n++,i=this[a];e(i)&&t.push(i)}return t});var yt={},At=n.ArrayBuffer||L;null==At.prototype.slice&&(At.prototype.slice=L.sliceImpl);var St=(n.DataView,n.Uint8Array||R._new);!function(e,t){function n(e){return l[u]=r.apply(t,e),u++}function r(e){var n=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(t,n):new Function(""+e)()}}function i(e){if(c)setTimeout(r(i,e),0);else{var t=l[e];if(t){c=!0;try{t()}finally{o(e),c=!1}}}}function o(e){delete l[e]}if(!e.setImmediate){var s,u=1,l={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(){var e=n(arguments);return a.nextTick(r(i,e)),e}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),s=function(){var r=n(arguments);return e.postMessage(t+r,"*"),r}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},s=function(){var t=n(arguments);return e.port2.postMessage(t),t}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(){var t=n(arguments),r=d.createElement("script");return r.onreadystatechange=function(){i(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r),t}}():function(){s=function(){var e=n(arguments);return setTimeout(r(i,e),0),e}}(),f.setImmediate=s,f.clearImmediate=o}}(new Function("return this")()),M.USE_CACHE=!1,M.USE_ENUM_INDEX=!1,M.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",b.DEFAULT_RESOLVER=A,b.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",I.count=0,x.i64tmp=function(e){return new T(0,0)}(),O.__toStr={}.toString,R.BYTES_PER_ELEMENT=1,U.queue=new m,Q.memo=new D,q.TOLERANCE=1e-6,q.EPSILON=1e-10,q.VERSION="2.0.0",Oe.Tvalues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],Oe.Cvalues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],We.THREADS=1,We._init=!1,Qe.basePath="",Ye.uuid=0,G.main()}("undefined"!=typeof console?console:{log:function(){}},e,void 0!==s?s:void 0!==t?t:"undefined"!=typeof self?self:this),e})}).call(t,n(111).setImmediate,n(16))},function(e,t,n){"use strict";(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var a=e[r];"."===a?e.splice(r,1):".."===a?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return a.exec(e).slice(1)};t.resolve=function(){for(var t="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,a="/"===o.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!a).join("/"),(a?"/":"")+t||"."},t.normalize=function(e){var a=t.isAbsolute(e),i="/"===o(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!a).join("/"),e||a||(e="."),e&&i&&(e+="/"),(a?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var a=r(e.split("/")),i=r(n.split("/")),o=Math.min(a.length,i.length),s=o,u=0;u<o;u++)if(a[u]!==i[u]){s=u;break}for(var l=[],u=s;u<a.length;u++)l.push("..");return l=l.concat(i.slice(s)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(16))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("ySurfaceApplicationBase"),e.getToolType=function(){return m.SURFACE_PROCESS_TOOL},e.active=function(){t.selectedNodes=e.getTypeSelectedNodes(),t.nodeIndex=e.getSelectedNode();var n=f.DataManagement;return(n.getAllNodeIndex()||[]).forEach(function(e){n.getDataNodeType(e)===c.DataNodeTypes.SURFACE_DATA&&n.setNodeProperty(e,"volume_display","-1")}),t.renderWindow=f.MultiView.getRenderWindow3D(),t.interactor=t.renderWindow.getInteractor(),e.setupPipeline(),e.setActive(!0),1},e.inactive=function(){e.resetPipeline(),e.setActive(!1),t.selectedNodes.length=0;var n=f.DataManagement;return(n.getAllNodeIndex()||[]).forEach(function(e){n.getDataNodeType(e)===c.DataNodeTypes.SURFACE_DATA&&n.setNodeProperty(e,"volume_display","-1")}),1},e.setupPipeline=function(){d("Not Implemented!")},e.resetPipeline=function(){d("Not Implemented!")},e.getTypeSelectedNodes=function(){var e=[],t=f.DataManagement;return(t.getAllNodeIndex()||[]).forEach(function(n){if(t.getDataNodeType(n)===c.DataNodeTypes.SURFACE_DATA&&t.getNodeName(n)&&t.getNodeVisible(n)&&t.getNodeTypeSelected(n)){var r=t.getData(n);r&&r.getNumberOfCells()>0&&e.push(n)}}),e},e.getSelectedNode=function(){for(var e=f.DataManagement,t=e.getAllNodeIndex()||[],n=0;n<t.length;n++){var r=t[n];if(e.getDataNodeType(r)===c.DataNodeTypes.SURFACE_DATA&&e.getNodeName(r)&&e.getNodeSelected(r))return r}return-1},e.setupNodeVisible=function(){var e=[];t.hiddenNodes=e;for(var n=-1,r=-1,a=f.DataManagement,i=a.getAllNodeIndex(),o=0;o<i.length;o++){var s=i[o];a.getDataNodeType(s)===c.DataNodeTypes.SURFACE_DATA&&(a.getNodeVisible(s)&&(e.push(s),a.setNodeVisible(s,0)),a.getNodeSelected(s)?n=s:r<0&&a.getNodeTypeSelected(s)&&(r=s))}n>=0?a.setNodeVisible(n,1):r>=0&&a.setNodeVisible(r,1)},e.resetNodeVisible=function(){for(var e=f.DataManagement,n=t.hiddenNodes,r=0;r<n.length;r++){var a=n[r];e.setNodeVisible(a,1)}n.length=0}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(278),l=r(u),c=n(27),d=s.default.vtkErrorMacro,f=s.default.GlobalObjects,m=l.default.ToolType,g={selectedNodes:[],renderWindow:null,interactor:null},p=t.newInstance=s.default.newInstance(i,"ySurfaceApplicationBase");t.default={newInstance:p,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("yToolBase"),e.transitionState=function(t){if(t){if(e.getActive())return!0;e.setActive(!0),e.active()}else{if(!e.getActive())return!0;e.setActive(!1),e.inactive()}return!0},e.getToolParams=function(){return{}},e.updateTool=function(e){return u("Not Implemented!"),0},e.active=function(){return u("Not Implemented!"),1},e.inactive=function(){return u("Not Implemented!"),1},e.updateAndRender=function(e){if(e&&e.length>0){var t={},n=null;e.forEach(function(e){n=s.MultiView.updateViewByNode(e),s.MultiView.mergeUpdateFlags(n,t)}),s.MultiView.renderIf(t)}else if(!e){var r=s.MultiView.updateViewByNodes();s.MultiView.renderIf(r)}},e.updateAndRender3D=function(e){e&&e.length>0?(e.forEach(function(e){s.MultiView.updateViewByNode(e)}),s.MultiView.getRenderWindow3D().render()):e||(s.MultiView.updateViewByNodes(),s.MultiView.getRenderWindow3D().render())}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),o.default.obj(e,t),o.default.setGet(e,t,["toolId","nodeIndex","active"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o.default.GlobalObjects,u=o.default.vtkErrorMacro,l={WIDGET_TOOL:0,MANUAL_SEGMENT_TOOL:1,SURFACE_PROCESS_TOOL:2,VOLUME_TOOL:3},c=t.STATIC={ToolType:l},d={toolId:"",nodeIndex:0,active:!1},f=t.newInstance=o.default.newInstance(a,"yToolBase");t.default=Object.assign({newInstance:f,extend:a},c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yManualSegmentToolBase"),e.getToolType=function(){return d.MANUAL_SEGMENT_TOOL},e.active=function(){return t.nodeIndex=e.getSelectedNode(),t.renderWindow=c.MultiView.getRenderWindow3D(),t.interactor=t.renderWindow.getInteractor(),e.setActive(!0),1},e.inactive=function(){return e.setActive(!1),1},e.getSelectedNode=function(){for(var e=c.DataManagement,t=e.getAllNodeIndex()||[],n=0;n<t.length;n++){var r=t[n];if(e.getNodeName(r)&&e.getNodeSelected(r))return r}return-1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(278),l=r(u),c=s.default.GlobalObjects,d=l.default.ToolType,f={renderWindow:null,interactor:null},m=t.newInstance=s.default.newInstance(i,"yManualSegmentToolBase");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("yBilateralThreshold"),e.setMaskROI=function(e,n){t.maskData=e,t.mask=n},e.setOutputMaskData=function(e){t.outputMaskData=e},e.doRequestData=function(e,n){var r=e.getDimensions(),a=r[0]*r[1],i=r[0],o=t.sliceIndex,s=t.threshLow,u=t.threshHigh,l=e.getPointData().getScalars().getData(),c=n.getPointData().getScalars().getData();if(0===t.direction){if(o>=0&&o<r[0])for(var d=0;d<r[2];d++)for(var f=0;f<r[1];f++){var m=d*a+f*i+o;l[m]>=s&&l[m]<=u?c[m]=1:c[m]=0}}else if(1===t.direction){if(o>=0&&o<r[1])for(var g=0;g<r[2];g++)for(var p=0;p<r[0];p++){var v=g*a+o*i+p;l[v]>=s&&l[v]<=u?c[v]=1:c[v]=0}}else if(2===t.direction){if(o>=0&&o<r[2])for(var h=0;h<r[1];h++)for(var y=0;y<r[0];y++){var A=o*a+h*i+y;l[A]>=s&&l[A]<=u?c[A]=1:c[A]=0}}else{c.fill(0);for(var S=0;S<r[2];S++)for(var T=0;T<r[1];T++)for(var M=0;M<r[0];M++){var b=S*a+T*i+M;l[b]>=s&&l[b]<=u&&(c[b]=1)}}},e.doRequestDataInner=function(e,n){var r=e.getDimensions(),a=r[0]*r[1],i=r[0],o=t.sliceIndex,s=t.threshLow,u=t.threshHigh,l=t.maskData.getPointData().getScalars().getData(),c=t.mask,d=e.getPointData().getScalars().getData(),f=n.getPointData().getScalars().getData();if(0===t.direction){if(o>=0&&o<r[0])for(var m=0;m<r[2];m++)for(var g=0;g<r[1];g++){var p=m*a+g*i+o;l[p]&c&&d[p]>=s&&d[p]<=u?f[p]=1:f[p]=0}}else if(1===t.direction){if(o>=0&&o<r[1])for(var v=0;v<r[2];v++)for(var h=0;h<r[0];h++){var y=v*a+o*i+h;l[y]&c&&d[y]>=s&&d[y]<=u?f[y]=1:f[y]=0}}else if(2===t.direction){if(o>=0&&o<r[2])for(var A=0;A<r[1];A++)for(var S=0;S<r[0];S++){var T=o*a+A*i+S;l[T]&c&&d[T]>=s&&d[T]<=u?f[T]=1:f[T]=0}}else{f.fill(0);for(var M=0;M<r[2];M++)for(var b=0;b<r[1];b++)for(var D=0;D<r[0];D++){var I=M*a+b*i+D;l[I]&c&&d[I]>=s&&d[I]<=u&&(f[I]=1)}}},e.doRequestDataOuter=function(e,n){var r=e.getDimensions(),a=r[0]*r[1],i=r[0],o=t.sliceIndex,s=t.threshLow,u=t.threshHigh,l=t.maskData.getPointData().getScalars().getData(),c=t.mask,d=e.getPointData().getScalars().getData(),f=n.getPointData().getScalars().getData();if(0===t.direction){if(o>=0&&o<r[0])for(var m=0;m<r[2];m++)for(var g=0;g<r[1];g++){var p=m*a+g*i+o;!(l[p]&c)&&d[p]>=s&&d[p]<=u?f[p]=1:f[p]=0}}else if(1===t.direction){if(o>=0&&o<r[1])for(var v=0;v<r[2];v++)for(var h=0;h<r[0];h++){var y=v*a+o*i+h;!(l[y]&c)&&d[y]>=s&&d[y]<=u?f[y]=1:f[y]=0}}else if(2===t.direction){if(o>=0&&o<r[2])for(var A=0;A<r[1];A++)for(var S=0;S<r[0];S++){var T=o*a+A*i+S;!(l[T]&c)&&d[T]>=s&&d[T]<=u?f[T]=1:f[T]=0}}else{f.fill(0);for(var M=0;M<r[2];M++)for(var b=0;b<r[1];b++)for(var D=0;D<r[0];D++){var I=M*a+b*i+D;!(l[I]&c)&&d[I]>=s&&d[I]<=u&&(f[I]=1)}}},e.requestData=function(n,r){var a=n[0];if(a){var i=t.outputMaskData;i&&("Inner"===t.maskType&&t.maskData?e.doRequestDataInner(a,i):"Outer"===t.maskType&&t.maskData?e.doRequestDataOuter(a,i):e.doRequestData(a,i),i.modified(),r[0]=i)}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.algo(e,t,1,1),o.default.setGet(e,t,["maskType","threshLow","threshHigh","direction","sliceIndex"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={maskData:null,mask:0,maskType:"--",threshLow:0,threshHigh:0,outputMaskData:null,direction:0,sliceIndex:0},u=t.newInstance=o.default.newInstance(a,"yBilateralThreshold");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("yRegionGrowing"),e.setMaskROI=function(e,n){t.maskData=e,t.mask=n},e.setOutputMaskData=function(e){t.outputMaskData=e},e.clearAllSeeds=function(){t.seeds.length=0},e.addSeed=function(e){!e||2!==e.length&&3!==e.length||t.seeds.push(e)},e.computeNeib=function(){4===t.neibType?t.neib=u:6===t.neibType?t.neib=l:8===t.neibType?t.neib=c:18===t.neibType?t.neib=d:26===t.neibType?t.neib=f:s("Invalid neibtype: "+t.neibType)},e.growing2DReplace=function(e,t){},e.growing2D=function(e,t){},e.growing3DReplace=function(e,n){var r=e.getDimensions(),a=r[0]*r[1],i=r[0],o=e.getPointData().getScalars().getData(),u=n.getPointData().getScalars().getData();u.fill(0);for(var l=t.seeds.length,c=0,d=0;d<l;d++){var f=t.seeds[d];if(f[0]>=0&&f[0]<r[0]&&f[1]>=0&&f[1]<r[1]&&f[2]>=0&&f[2]<r[2]){var m=f[2]*a+f[1]*i+f[0];o[m]&&(c++,u[m]=1)}}if(!c)return void s("Invalid seeds");for(var g=t.seeds,p=t.neib;;){l=g.length;for(var v=[],h=0;h<l;h++)for(var y=g[h],A=0;A<t.neibType;A++){var S=y[0]+p[3*A],T=y[1]+p[3*A+1],M=y[2]+p[3*A+2];if(S>=0&&S<r[0]&&T>=0&&T<r[1]&&M>=0&&M<r[2]){var b=M*a+T*i+S;!u[b]&&o[b]&&(u[b]=1,v.push([S,T,M]))}}if(0===v.length)break;g=v}},e.growing3D=function(e,n){for(var r=e.getDimensions(),a=r[0]*r[1],i=r[0],o=e.getPointData().getScalars().getData(),u=n.getPointData().getScalars().getData(),l=new Uint8Array(u.length),c=t.seeds.length,d=0,f=0;f<c;f++){var m=t.seeds[f];if(m[0]>=0&&m[0]<r[0]&&m[1]>=0&&m[1]<r[1]&&m[2]>=0&&m[2]<r[2]){var g=m[2]*a+m[1]*i+m[0];o[g]&&(d++,l[g]=1,u[g]=1)}}if(!d)return void s("Invalid seeds");for(var p=t.seeds,v=t.neib;;){c=p.length;for(var h=[],y=0;y<c;y++)for(var A=p[y],S=0;S<t.neibType;S++){var T=A[0]+v[3*S],M=A[1]+v[3*S+1],b=A[2]+v[3*S+2];if(T>=0&&T<r[0]&&M>=0&&M<r[1]&&b>=0&&b<r[2]){var D=b*a+M*i+T;!l[D]&&o[D]&&(l[D]=1,u[D]=1,h.push([T,M,b]))}}if(0===h.length)break;p=h}},e.growing=function(n,r){if(t.replace)return void(2===t.computeDim?e.growing2DReplace(n,r):3===t.computeDim&&e.growing3DReplace(n,r));2===t.computeDim?e.growing2D(n,r):3===t.computeDim&&e.growing3D(n,r)},e.requestData=function(n,r){var a=n[0];if(a){var i=t.outputMaskData;i&&(1===a.getDimensions()[2]?(t.computeDim=2,0===t.neibType&&(t.neibType=4)):(t.computeDim=3,0===t.neibType&&(t.neibType=6)),e.computeNeib(),e.growing(a,i),i.modified(),r[0]=i)}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),o.default.obj(e,t),o.default.algo(e,t,1,1),o.default.setGet(e,t,["maskType","threshLow","threshHigh","neibType","replace"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o.default.vtkErrorMacro,u=[1,0,-1,0,0,1,0,-1],l=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],c=[1,0,-1,0,0,1,0,-1,1,1,-1,1,1,-1,-1,-1],d=[0,1,0,1,1,0,1,0,0,1,-1,0,0,-1,0,-1,-1,0,-1,0,0,-1,1,0,0,1,1,1,0,1,0,-1,1,-1,0,1,0,0,1,0,1,-1,1,0,-1,0,-1,-1,-1,0,-1,0,0,-1],f=[0,1,0,1,1,0,1,0,0,1,-1,0,0,-1,0,-1,-1,0,-1,0,0,-1,1,0,0,1,1,1,1,1,1,0,1,1,-1,1,0,-1,1,-1,-1,1,-1,0,1,-1,1,1,0,0,1,0,1,-1,1,1,-1,1,0,-1,1,-1,-1,0,-1,-1,-1,-1,-1,-1,0,-1,-1,1,-1,0,0,-1],m={maskData:null,mask:0,maskType:"--",outputMaskData:null,threshLow:0,threshHigh:0,seeds:[],computeDim:0,neibType:0,neib:[],replace:!0},g=t.newInstance=o.default.newInstance(a,"yRegionGrowing");t.default={newInstance:g,extend:a}},function(e,t,n){(function(t){e.exports=t.vtk=n(283)}).call(t,n(14))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(284),i=r(a),o=n(265),s=r(o),u=n(266),l=r(u),c=n(267),d=r(c),f=n(0),m=n(34),g=r(m);g.default.Yorktal=i.default,g.default.mtime=f.getCurrentGlobalMTime,g.default.getSystemInfo=f.getSystemInfo,g.default.GlobalOptions=f.GlobalOptions,g.default.GlobalStates=f.GlobalStates,g.default.GlobalObjects=f.GlobalObjects,g.default.apis=s.default.newInstance(),g.default.nodeapis=l.default.newInstance(),g.default.toolapis=d.default.newInstance(),e.exports=g.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(158),i=r(a),o=n(170),s=r(o),u=n(191),l=r(u),c=n(200),d=r(c),f=n(120),m=r(f),g=n(201),p=r(g),v=n(70),h=r(v),y=n(71),A=r(y),S=n(202),T=r(S),M=n(72),b=r(M),D=n(207),I=r(D),w=n(227),C=r(w),N=n(229),P=r(N),x=n(450),E=r(x),O=n(140),L=r(O),_=n(27),R=r(_),k=n(253),B=r(k),V=n(234),F=r(V),j=n(233),U=r(j),z=n(232),G=r(z),W=n(265),Q=r(W),Y=n(266),q=r(Y),H=n(267),Z=r(H),K=n(213),X=r(K),J=n(141),$=r(J),ee=n(57),te=r(ee),ne=n(92),re=r(ne),ae=n(264),ie=r(ae),oe=n(256),se=r(oe),ue=n(231),le=r(ue),ce=n(114),de=r(ce),fe=n(230),me=r(fe),ge=n(262),pe=r(ge),ve=n(261),he=r(ve),ye=n(259),Ae=r(ye),Se=n(260),Te=r(Se),Me=n(46),be=r(Me),De=n(518),Ie=r(De),we=n(558),Ce=r(we),Ne=n(561),Pe=r(Ne),xe=n(280),Ee=r(xe),Oe=n(281),Le=r(Oe),_e=n(562),Re=r(_e);t.default={vtkImageResliceSimple:i.default,vtkDataServer:s.default,vtkAlgoServer:l.default,vtkFileLoader:d.default,vtkFileDownloaderAjax:m.default,vtkFileDownloaderWS:p.default,vtkFileDownloaderWSAjax:h.default,vtkFileDownloaderDSAjax:A.default,vtkYcmParser:T.default,vtkVolumeCalculator:b.default,vtkRenderWindow2D:I.default,vtkRenderWindow3D:C.default,vtkRenderWindowVR:P.default,vtkYcmRenderer:E.default,vtkMultiView:L.default,vtkDataManagement:R.default,vtkRemoteYcmData:B.default,vtkRemoteSurfaceData:F.default,vtkRemoteMaskData:U.default,vtkRemoteData:G.default,vtkAPIs:Q.default,vtkNodeAPIs:q.default,vtkToolAPIs:Z.default,yInteractorStyleImage:X.default,yInteractorStyleRubberBandPick:$.default,yDataNodeMapperBase:te.default,ySurfaceNodeMapToModel:re.default,yImageNodeMapToPlane:ie.default,yMaskNodeMapToPlane:se.default,yVolumeRenderingMapper:le.default,vtkDicomSorter:de.default,vtkNodeOps:me.default,vtkImageReader2:pe.default,vtkMetaImageReader:he.default,vtkImageResliceMaskBits:Ae.default,vtkImageDataLookup:Te.default,yToolManager:be.default,ySurfaceCutting:Ie.default,yPenTool:Ce.default,yRegionGrowingUI:Pe.default,yBilateralThreshold:Ee.default,yRegionGrowing:Le.default,yReconstruction3D:Re.default}},function(e,t,n){"use strict";var r=n(286),a=n(287),i=n(288),o=n(289),s=n(290),u=n(291),l=n(292);l.alea=r,l.xor128=a,l.xorwow=i,l.xorshift7=o,l.xor4096=s,l.tychei=u,e.exports=l},function(e,t,n){"use strict";(function(e){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,i,o){function s(e){var t=this,n=c();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function u(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new s(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,r&&("object"==(void 0===r?"undefined":a(r))&&u(r,n),i.state=function(){return u(n,{})}),i}function c(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){e+=t.charCodeAt(n);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=4294967296*r}return 2.3283064365386963e-10*(e>>>0)}}i&&i.exports?i.exports=l:n(15)&&n(39)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.alea=l}(0,"object"==a(e)&&e,n(15))}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,i,o){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==(void 0===r?"undefined":a(r))&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=l:n(15)&&n(39)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.xor128=l}(0,"object"==a(e)&&e,n(15))}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,i,o){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==(void 0===r?"undefined":a(r))&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=l:n(15)&&n(39)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.xorwow=l}(0,"object"==a(e)&&e,n(15))}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],e^=e>>>7,n=e^e<<24,e=r[a+1&7],n^=e^e>>>10,e=r[a+3&7],n^=e^e>>>3,e=r[a+4&7],n^=e^e<<7,e=r[a+7&7],e^=e<<13,n^=e^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(15)&&n(39)?void 0!==(r=function(){return u}.call(t,n,t,a))&&(a.exports=r):this.xorshift7=u}(0,"object"==a(e)&&e,n(15))}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,n=s[127&i]^=r+o,a=0==n?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=o,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n(15)&&n(39)?void 0!==(r=function(){return u}.call(t,n,t,a))&&(a.exports=r):this.xor4096=u}(0,"object"==a(e)&&e,n(15))}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,i,o){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function u(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=n.next()>>>11,t=(n.next()>>>0)/4294967296,r=(e+t)/(1<<21)}while(0===r);return r},i.int32=n.next,i.quick=i,r&&("object"==(void 0===r?"undefined":a(r))&&u(r,n),i.state=function(){return u(n,{})}),i}i&&i.exports?i.exports=l:n(15)&&n(39)?void 0!==(r=function(){return l}.call(t,n,t,i))&&(i.exports=r):this.tychei=l}(0,"object"==a(e)&&e,n(15))}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,o){function s(e,t,n){var r=[];t=1==t?{entropy:!0}:t||{};var a=d(c(t.entropy?[e,m(i)]:null==e?f():e,3),r),s=new u(r),g=function(){for(var e=s.g(h),t=A,n=0;e<S;)e=(e+n)*v,t*=v,n=s.g(1);for(;e>=T;)e/=2,t/=2,n>>>=1;return(e+n)/t};return g.int32=function(){return 0|s.g(4)},g.quick=function(){return s.g(4)/4294967296},g.double=g,d(m(s.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&l(r,s),e.state=function(){return l(s,{})}),n?(o[y]=e,t):e})(g,a,"global"in t?t.global:this==o,t.state)}function u(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<v;)o[a]=a++;for(a=0;a<v;a++)o[a]=o[i=M&i+e[a%n]+(t=o[a])],o[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;)t=o[a=M&a+1],n=n*v+o[M&(o[a]=o[i=M&i+t])+(o[i]=t)];return r.i=a,r.j=i,n})(v)}function l(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function c(e,t){var n,r=[],i=void 0===e?"undefined":a(e);if(t&&"object"==i)for(n in e)try{r.push(c(e[n],t-1))}catch(e){}return r.length?r:"string"==i?e:e+"\0"}function d(e,t){for(var n,r=e+"",a=0;a<r.length;)t[M&a]=M&(n^=19*t[M&a])+r.charCodeAt(a++);return m(t)}function f(){try{var e;return g&&(e=g.randomBytes)?e=e(v):(e=new Uint8Array(v),(p.crypto||p.msCrypto).getRandomValues(e)),m(e)}catch(e){var t=p.navigator,n=t&&t.plugins;return[+new Date,p,n,p.screen,m(i)]}}function m(e){return String.fromCharCode.apply(0,e)}var g,p=this,v=256,h=6,y="random",A=o.pow(v,h),S=o.pow(2,52),T=2*S,M=v-1;if(o["seed"+y]=s,d(o.random(),i),"object"==a(e)&&e.exports){e.exports=s;try{g=n(293)}catch(e){}}else void 0!==(r=function(){return s}.call(t,n,t,e))&&(e.exports=r)}([],Math)}).call(t,n(10)(e))},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkFieldData");var n=e.getState;t.arrays&&(t.arrays=t.arrays.map(function(e){return{data:(0,s.default)(e.data)}})),e.initialize=function(){e.initializeFields(),e.copyAllOn(),e.clearFieldFlags()},e.initializeFields=function(){t.arrays=[],t.copyFieldFlags={},e.modified()},e.copyStructure=function(n){e.initializeFields(),t.copyFieldFlags=n.getCopyFieldFlags().map(function(e){return e}),t.arrays=n.arrays().map(function(e){return{array:e}})},e.getNumberOfArrays=function(){return t.arrays.length},e.getNumberOfActiveArrays=function(){return t.arrays.length},e.addArray=function(n){if(!n)return-1;var r=e.getArrayWithIndex(n.getName());return r.index<0?(t.arrays=[].concat(t.arrays,{data:n}),t.arrays.length-1):(t.arrays[r.index]={data:n},r.index)},e.removeAllArrays=function(){t.arrays=[]},e.removeArray=function(e){t.arrays=t.arrays.filter(function(t){return e!==t.data.getName()})},e.removeArrayByIndex=function(e){t.arrays=t.arrays.filter(function(t,n){return n!==e})},e.getArrays=function(){return t.arrays.map(function(e){return e.data})},e.getArray=function(t){return"number"==typeof t?e.getArrayByIndex(t):e.getArrayByName(t)},e.getArrayByName=function(e){return t.arrays.reduce(function(t,n,r){return n.data.getName()===e?n.data:t},null)},e.getArrayWithIndex=function(e){return t.arrays.reduce(function(t,n,r){return n.data&&n.data.getName()===e?{array:n.data,index:r}:t},{array:null,index:-1})},e.getArrayByIndex=function(e){return e>=0&&e<t.arrays.length?t.arrays[e].data:null},e.hasArray=function(t){return e.getArrayWithIndex(t).index>=0},e.getArrayName=function(e){var n=t.arrays[e];return n?n.data.getName():""},e.getCopyFieldFlags=function(){return t.copyFieldFlags},e.getFlag=function(e){return t.copyFieldFlags[e]},e.passData=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;n.getArrays().forEach(function(n){var i=e.getFlag(n.getName());if(!1!==i&&(!t.doCopyAllOff||!0===i)&&n){var o=e.getArrayByName(n.getName());if(o){if(n.getNumberOfComponents()===o.getNumberOfComponents())if(r>-1&&r<n.getNumberOfTuples()){var s=a>-1?a:r;o.setTuple(s,n.getTuple(r))}else for(var u=0;u<n.getNumberOfTuples();++u)o.setTuple(u,n.getTuple(u))}else if(r<0||r>n.getNumberOfTuples())e.addArray(n);else{var l=n.getNumberOfComponents(),c=n.getNumberOfValues(),f=a>-1?a:r;c<f*l&&(c=(f+1)*l),o=d.default.newInstance({name:n.getName(),dataType:n.getDataType(),numberOfComponents:n.getNumberOfComponents(),size:c}),o.setTuple(f,n.getTuple(r)),e.addArray(o)}}})},e.copyFieldOn=function(e){t.copyFieldFlags[e]=!0},e.copyFieldOff=function(e){t.copyFieldFlags[e]=!1},e.copyAllOn=function(){t.doCopyAllOn&&!t.doCopyAllOff||(t.doCopyAllOn=!0,t.doCopyAllOff=!1,e.modified())},e.copyAllOff=function(){!t.doCopyAllOn&&t.doCopyAllOff||(t.doCopyAllOn=!1,t.doCopyAllOff=!0,e.modified())},e.clearFieldFlags=function(){t.copyFieldFlags={}},e.deepCopy=function(e){t.arrays=e.getArrays().map(function(e){var t=e.newClone();return t.deepCopy(e),{data:t}})},e.copyFlags=function(e){return e.getCopyFieldFlags().map(function(e){return e})},e.reset=function(){return t.arrays.forEach(function(e){return e.data.reset()})},e.getMTime=function(){return t.arrays.reduce(function(e,t){return t.data.getMTime()>e?t.data.getMTime():e},t.mtime)},e.getNumberOfComponents=function(){return t.arrays.reduce(function(e,t){return e+t.data.getNumberOfComponents()},0)},e.getNumberOfTuples=function(){return t.arrays.length>0?t.arrays[0].data.getNumberOfTuples():0},e.getState=function(){var e=n();return e.arrays=t.arrays.map(function(e){return{data:e.data.getState()}}),e}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),l.default.obj(e,t),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(34),s=r(o),u=n(0),l=r(u),c=n(2),d=r(c),f={arrays:[],copyFieldFlags:[],doCopyAllOn:!0,doCopyAllOff:!1},m=t.newInstance=l.default.newInstance(i,"vtkFieldData");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.FieldDataTypes={UNIFORM:0,DATA_OBJECT_FIELD:0,COORDINATE:1,POINT_DATA:1,POINT:2,POINT_FIELD_DATA:2,CELL:3,CELL_FIELD_DATA:3,VERTEX:4,VERTEX_FIELD_DATA:4,EDGE:5,EDGE_FIELD_DATA:5,ROW:6,ROW_DATA:6},a=t.FieldAssociations={FIELD_ASSOCIATION_POINTS:0,FIELD_ASSOCIATION_CELLS:1,FIELD_ASSOCIATION_NONE:2,FIELD_ASSOCIATION_POINTS_THEN_CELLS:3,FIELD_ASSOCIATION_VERTICES:4,FIELD_ASSOCIATION_EDGES:5,FIELD_ASSOCIATION_ROWS:6,NUMBER_OF_ASSOCIATIONS:7};t.default={FieldDataTypes:r,FieldAssociations:a}},function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<3;++n)e[2*n]<e[2*n+1]&&t++;return e[0]>e[1]||e[2]>e[3]||e[4]>e[5]?o.EMPTY:3===t?o.XYZ_GRID:2===t?e[0]===e[1]?o.YZ_PLANE:e[2]===e[3]?o.XZ_PLANE:o.XY_PLANE:1===t?e[0]<e[1]?o.X_LINE:e[2]<e[3]?o.Y_LINE:o.Z_LINE:o.SINGLE_POINT}Object.defineProperty(t,"__esModule",{value:!0}),t.getDataDescriptionFromExtent=r;var a=n(159),i=function(e){return e&&e.__esModule?e:{default:e}}(a),o=i.default.StructuredType;t.default=Object.assign({getDataDescriptionFromExtent:r},i.default)},function(e,t,n){"use strict";function r(){var e=new N.ARRAY_TYPE(4);return N.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function a(e){var t=new N.ARRAY_TYPE(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function s(e,t,n,r){var a=new N.ARRAY_TYPE(4);return a[0]=e,a[1]=t,a[2]=n,a[3]=r,a}function u(e,t,n,r,a){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e}function l(e,t){if(e===t){var n=t[1];e[1]=t[2],e[2]=n}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function c(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=n*i-a*r;return o?(o=1/o,e[0]=i*o,e[1]=-r*o,e[2]=-a*o,e[3]=n*o,e):null}function d(e,t){var n=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=n,e}function f(e){return e[0]*e[3]-e[2]*e[1]}function m(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*s+i*u,e[1]=a*s+o*u,e[2]=r*l+i*c,e[3]=a*l+o*c,e}function g(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=Math.sin(n),u=Math.cos(n);return e[0]=r*u+i*s,e[1]=a*u+o*s,e[2]=r*-s+i*u,e[3]=a*-s+o*u,e}function p(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1];return e[0]=r*s,e[1]=a*s,e[2]=i*u,e[3]=o*u,e}function v(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e}function h(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function y(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function A(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2))}function S(e,t,n,r){return e[2]=r[2]/r[0],n[0]=r[0],n[1]=r[1],n[3]=r[3]-e[2]*n[1],[e,t,n]}function T(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}function M(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}function b(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function D(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=t[0],s=t[1],u=t[2],l=t[3];return Math.abs(n-o)<=N.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-s)<=N.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-u)<=N.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(i-l)<=N.EPSILON*Math.max(1,Math.abs(i),Math.abs(l))}function I(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function w(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=r,t.clone=a,t.copy=i,t.identity=o,t.fromValues=s,t.set=u,t.transpose=l,t.invert=c,t.adjoint=d,t.determinant=f,t.multiply=m,t.rotate=g,t.scale=p,t.fromRotation=v,t.fromScaling=h,t.str=y,t.frob=A,t.LDU=S,t.add=T,t.subtract=M,t.exactEquals=b,t.equals=D,t.multiplyScalar=I,t.multiplyScalarAndAdd=w;var C=n(23),N=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C);t.mul=m,t.sub=M},function(e,t,n){"use strict";function r(){var e=new C.ARRAY_TYPE(6);return C.ARRAY_TYPE!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function a(e){var t=new C.ARRAY_TYPE(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function s(e,t,n,r,a,i){var o=new C.ARRAY_TYPE(6);return o[0]=e,o[1]=t,o[2]=n,o[3]=r,o[4]=a,o[5]=i,o}function u(e,t,n,r,a,i,o){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e}function l(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=n*i-r*a;return u?(u=1/u,e[0]=i*u,e[1]=-r*u,e[2]=-a*u,e[3]=n*u,e[4]=(a*s-i*o)*u,e[5]=(r*o-n*s)*u,e):null}function c(e){return e[0]*e[3]-e[1]*e[2]}function d(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1],d=n[2],f=n[3],m=n[4],g=n[5];return e[0]=r*l+i*c,e[1]=a*l+o*c,e[2]=r*d+i*f,e[3]=a*d+o*f,e[4]=r*m+i*g+s,e[5]=a*m+o*g+u,e}function f(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*l,e[1]=a*c+o*l,e[2]=r*-l+i*c,e[3]=a*-l+o*c,e[4]=s,e[5]=u,e}function m(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r*l,e[1]=a*l,e[2]=i*c,e[3]=o*c,e[4]=s,e[5]=u,e}function g(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=n[0],c=n[1];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=r*l+i*c+s,e[5]=a*l+o*c+u,e}function p(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=-n,e[3]=r,e[4]=0,e[5]=0,e}function v(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function h(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function y(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function A(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)+Math.pow(e[3],2)+Math.pow(e[4],2)+Math.pow(e[5],2)+1)}function S(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e}function T(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e}function M(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e}function b(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e[4]=t[4]+n[4]*r,e[5]=t[5]+n[5]*r,e}function D(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function I(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=t[0],l=t[1],c=t[2],d=t[3],f=t[4],m=t[5];return Math.abs(n-u)<=C.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-l)<=C.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(a-c)<=C.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(i-d)<=C.EPSILON*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-f)<=C.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(s-m)<=C.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))}Object.defineProperty(t,"__esModule",{value:!0}),t.sub=t.mul=void 0,t.create=r,t.clone=a,t.copy=i,t.identity=o,t.fromValues=s,t.set=u,t.invert=l,t.determinant=c,t.multiply=d,t.rotate=f,t.scale=m,t.translate=g,t.fromRotation=p,t.fromScaling=v,t.fromTranslation=h,t.str=y,t.frob=A,t.add=S,t.subtract=T,t.multiplyScalar=M,t.multiplyScalarAndAdd=b,t.exactEquals=D,t.equals=I;var w=n(23),C=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(w);t.mul=d,t.sub=T},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(){var e=new k.ARRAY_TYPE(8);return k.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function i(e){var t=new k.ARRAY_TYPE(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function o(e,t,n,r,a,i,o,s){var u=new k.ARRAY_TYPE(8);return u[0]=e,u[1]=t,u[2]=n,u[3]=r,u[4]=a,u[5]=i,u[6]=o,u[7]=s,u}function s(e,t,n,r,a,i,o){var s=new k.ARRAY_TYPE(8);s[0]=e,s[1]=t,s[2]=n,s[3]=r;var u=.5*a,l=.5*i,c=.5*o;return s[4]=u*r+l*n-c*t,s[5]=l*r+c*e-u*n,s[6]=c*r+u*t-l*e,s[7]=-u*e-l*t-c*n,s}function u(e,t,n){var r=.5*n[0],a=.5*n[1],i=.5*n[2],o=t[0],s=t[1],u=t[2],l=t[3];return e[0]=o,e[1]=s,e[2]=u,e[3]=l,e[4]=r*l+a*u-i*s,e[5]=a*l+i*o-r*u,e[6]=i*l+r*s-a*o,e[7]=-r*o-a*s-i*u,e}function l(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function c(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function d(e,t){var n=V.create();j.getRotation(n,t);var r=new k.ARRAY_TYPE(3);return j.getTranslation(r,t),u(e,n,r),e}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function m(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function g(e,t,n,r,a,i,o,s,u){return e[0]=t,e[1]=n,e[2]=r,e[3]=a,e[4]=i,e[5]=o,e[6]=s,e[7]=u,e}function p(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}function v(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function h(e,t){var n=t[4],r=t[5],a=t[6],i=t[7],o=-t[0],s=-t[1],u=-t[2],l=t[3];return e[0]=2*(n*l+i*o+r*u-a*s),e[1]=2*(r*l+i*s+a*o-n*u),e[2]=2*(a*l+i*u+n*s-r*o),e}function y(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=.5*n[0],u=.5*n[1],l=.5*n[2],c=t[4],d=t[5],f=t[6],m=t[7];return e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=o*s+a*l-i*u+c,e[5]=o*u+i*s-r*l+d,e[6]=o*l+r*u-a*s+f,e[7]=-r*s-a*u-i*l+m,e}function A(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=s*o+c*r+u*i-l*a,f=u*o+c*a+l*r-s*i,m=l*o+c*i+s*a-u*r,g=c*o-s*r-u*a-l*i;return V.rotateX(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=d*o+g*r+f*i-m*a,e[5]=f*o+g*a+m*r-d*i,e[6]=m*o+g*i+d*a-f*r,e[7]=g*o-d*r-f*a-m*i,e}function S(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=s*o+c*r+u*i-l*a,f=u*o+c*a+l*r-s*i,m=l*o+c*i+s*a-u*r,g=c*o-s*r-u*a-l*i;return V.rotateY(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=d*o+g*r+f*i-m*a,e[5]=f*o+g*a+m*r-d*i,e[6]=m*o+g*i+d*a-f*r,e[7]=g*o-d*r-f*a-m*i,e}function T(e,t,n){var r=-t[0],a=-t[1],i=-t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=s*o+c*r+u*i-l*a,f=u*o+c*a+l*r-s*i,m=l*o+c*i+s*a-u*r,g=c*o-s*r-u*a-l*i;return V.rotateZ(e,t,n),r=e[0],a=e[1],i=e[2],o=e[3],e[4]=d*o+g*r+f*i-m*a,e[5]=f*o+g*a+m*r-d*i,e[6]=m*o+g*i+d*a-f*r,e[7]=g*o-d*r-f*a-m*i,e}function M(e,t,n){var r=n[0],a=n[1],i=n[2],o=n[3],s=t[0],u=t[1],l=t[2],c=t[3];return e[0]=s*o+c*r+u*i-l*a,e[1]=u*o+c*a+l*r-s*i,e[2]=l*o+c*i+s*a-u*r,e[3]=c*o-s*r-u*a-l*i,s=t[4],u=t[5],l=t[6],c=t[7],e[4]=s*o+c*r+u*i-l*a,e[5]=u*o+c*a+l*r-s*i,e[6]=l*o+c*i+s*a-u*r,e[7]=c*o-s*r-u*a-l*i,e}function b(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[0],u=n[1],l=n[2],c=n[3];return e[0]=r*c+o*s+a*l-i*u,e[1]=a*c+o*u+i*s-r*l,e[2]=i*c+o*l+r*u-a*s,e[3]=o*c-r*s-a*u-i*l,s=n[4],u=n[5],l=n[6],c=n[7],e[4]=r*c+o*s+a*l-i*u,e[5]=a*c+o*u+i*s-r*l,e[6]=i*c+o*l+r*u-a*s,e[7]=o*c-r*s-a*u-i*l,e}function D(e,t,n,r){if(Math.abs(r)<k.EPSILON)return f(e,t);var a=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);r*=.5;var i=Math.sin(r),o=i*n[0]/a,s=i*n[1]/a,u=i*n[2]/a,l=Math.cos(r),c=t[0],d=t[1],m=t[2],g=t[3];e[0]=c*l+g*o+d*u-m*s,e[1]=d*l+g*s+m*o-c*u,e[2]=m*l+g*u+c*s-d*o,e[3]=g*l-c*o-d*s-m*u;var p=t[4],v=t[5],h=t[6],y=t[7];return e[4]=p*l+y*o+v*u-h*s,e[5]=v*l+y*s+h*o-p*u,e[6]=h*l+y*u+p*s-v*o,e[7]=y*l-p*o-v*s-h*u,e}function I(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e}function w(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=n[4],u=n[5],l=n[6],c=n[7],d=t[4],f=t[5],m=t[6],g=t[7],p=n[0],v=n[1],h=n[2],y=n[3];return e[0]=r*y+o*p+a*h-i*v,e[1]=a*y+o*v+i*p-r*h,e[2]=i*y+o*h+r*v-a*p,e[3]=o*y-r*p-a*v-i*h,e[4]=r*c+o*s+a*l-i*u+d*y+g*p+f*h-m*v,e[5]=a*c+o*u+i*s-r*l+f*y+g*v+m*p-d*h,e[6]=i*c+o*l+r*u-a*s+m*y+g*h+d*v-f*p,e[7]=o*c-r*s-a*u-i*l+g*y-d*p-f*v-m*h,e}function C(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e}function N(e,t,n,r){var a=1-r;return U(t,n)<0&&(r=-r),e[0]=t[0]*a+n[0]*r,e[1]=t[1]*a+n[1]*r,e[2]=t[2]*a+n[2]*r,e[3]=t[3]*a+n[3]*r,e[4]=t[4]*a+n[4]*r,e[5]=t[5]*a+n[5]*r,e[6]=t[6]*a+n[6]*r,e[7]=t[7]*a+n[7]*r,e}function P(e,t){var n=G(t);return e[0]=-t[0]/n,e[1]=-t[1]/n,e[2]=-t[2]/n,e[3]=t[3]/n,e[4]=-t[4]/n,e[5]=-t[5]/n,e[6]=-t[6]/n,e[7]=t[7]/n,e}function x(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}function E(e,t){var n=G(t);if(n>0){n=Math.sqrt(n);var r=t[0]/n,a=t[1]/n,i=t[2]/n,o=t[3]/n,s=t[4],u=t[5],l=t[6],c=t[7],d=r*s+a*u+i*l+o*c;e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=(s-r*d)/n,e[5]=(u-a*d)/n,e[6]=(l-i*d)/n,e[7]=(c-o*d)/n}return e}function O(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function L(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function _(e,t){var n=e[0],r=e[1],a=e[2],i=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=t[0],d=t[1],f=t[2],m=t[3],g=t[4],p=t[5],v=t[6],h=t[7];return Math.abs(n-c)<=k.EPSILON*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(r-d)<=k.EPSILON*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(a-f)<=k.EPSILON*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(i-m)<=k.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-g)<=k.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-p)<=k.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(u-v)<=k.EPSILON*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(l-h)<=k.EPSILON*Math.max(1,Math.abs(l),Math.abs(h))}Object.defineProperty(t,"__esModule",{value:!0}),t.sqrLen=t.squaredLength=t.len=t.length=t.dot=t.mul=t.setReal=t.getReal=void 0,t.create=a,t.clone=i,t.fromValues=o,t.fromRotationTranslationValues=s,t.fromRotationTranslation=u,t.fromTranslation=l,t.fromRotation=c,t.fromMat4=d,t.copy=f,t.identity=m,t.set=g,t.getDual=p,t.setDual=v,t.getTranslation=h,t.translate=y,t.rotateX=A,t.rotateY=S,t.rotateZ=T,t.rotateByQuatAppend=M,t.rotateByQuatPrepend=b,t.rotateAroundAxis=D,t.add=I,t.multiply=w,t.scale=C,t.lerp=N,t.invert=P,t.conjugate=x,t.normalize=E,t.str=O,t.exactEquals=L,t.equals=_;var R=n(23),k=r(R),B=n(162),V=r(B),F=n(161),j=r(F),U=(t.getReal=V.copy,t.setReal=V.copy,t.mul=w,t.dot=V.dot),z=t.length=V.length,G=(t.len=z,t.squaredLength=V.squaredLength);t.sqrLen=G},function(e,t,n){"use strict";function r(){var e=new U.ARRAY_TYPE(2);return U.ARRAY_TYPE!=Float32Array&&(e[0]=0,e[1]=0),e}function a(e){var t=new U.ARRAY_TYPE(2);return t[0]=e[0],t[1]=e[1],t}function i(e,t){var n=new U.ARRAY_TYPE(2);return n[0]=e,n[1]=t,n}function o(e,t){return e[0]=t[0],e[1]=t[1],e}function s(e,t,n){return e[0]=t,e[1]=n,e}function u(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function l(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function c(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e}function d(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e}function f(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function m(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function g(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e}function p(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e}function v(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function h(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function y(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e}function A(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function S(e,t){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function T(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)}function M(e){var t=e[0],n=e[1];return t*t+n*n}function b(e,t){return e[0]=-t[0],e[1]=-t[1],e}function D(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function I(e,t){var n=t[0],r=t[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e}function w(e,t){return e[0]*t[0]+e[1]*t[1]}function C(e,t,n){var r=t[0]*n[1]-t[1]*n[0];return e[0]=e[1]=0,e[2]=r,e}function N(e,t,n,r){var a=t[0],i=t[1];return e[0]=a+r*(n[0]-a),e[1]=i+r*(n[1]-i),e}function P(e,t){t=t||1;var n=2*U.RANDOM()*Math.PI;return e[0]=Math.cos(n)*t,e[1]=Math.sin(n)*t,e}function x(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a,e[1]=n[1]*r+n[3]*a,e}function E(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[2]*a+n[4],e[1]=n[1]*r+n[3]*a+n[5],e}function O(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[3]*a+n[6],e[1]=n[1]*r+n[4]*a+n[7],e}function L(e,t,n){var r=t[0],a=t[1];return e[0]=n[0]*r+n[4]*a+n[12],e[1]=n[1]*r+n[5]*a+n[13],e}function _(e,t,n,r){var a=t[0]-n[0],i=t[1]-n[1],o=Math.sin(r),s=Math.cos(r);return e[0]=a*s-i*o+n[0],e[1]=a*o+i*s+n[1],e}function R(e,t){var n=e[0],r=e[1],a=t[0],i=t[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var s=a*a+i*i;s>0&&(s=1/Math.sqrt(s));var u=(n*a+r*i)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function k(e){return e[0]=0,e[1]=0,e}function B(e){return"vec2("+e[0]+", "+e[1]+")"}function V(e,t){return e[0]===t[0]&&e[1]===t[1]}function F(e,t){var n=e[0],r=e[1],a=t[0],i=t[1];return Math.abs(n-a)<=U.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-i)<=U.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))}Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.sqrLen=t.sqrDist=t.dist=t.div=t.mul=t.sub=t.len=void 0,t.create=r,t.clone=a,t.fromValues=i,t.copy=o,t.set=s,t.add=u,t.subtract=l,t.multiply=c,t.divide=d,t.ceil=f,t.floor=m,t.min=g,t.max=p,t.round=v,t.scale=h,t.scaleAndAdd=y,t.distance=A,t.squaredDistance=S,t.length=T,t.squaredLength=M,t.negate=b,t.inverse=D,t.normalize=I,t.dot=w,t.cross=C,t.lerp=N,t.random=P,t.transformMat2=x,t.transformMat2d=E,t.transformMat3=O,t.transformMat4=L,t.rotate=_,t.angle=R,t.zero=k,t.str=B,t.exactEquals=V,t.equals=F;var j=n(23),U=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(j);t.len=T,t.sub=l,t.mul=c,t.div=d,t.dist=A,t.sqrDist=S,t.sqrLen=M,t.forEach=function(){var e=r();return function(t,n,r,a,i,o){var s,u;for(n||(n=2),r||(r=0),u=a?Math.min(a*n+r,t.length):t.length,s=r;s<u;s+=n)e[0]=t[s],e[1]=t[s+1],i(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}}()},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=u.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==m)throw new Error(c[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(a="string"==typeof t.dictionary?l.string2buf(t.dictionary):"[object ArrayBuffer]"===f.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=s.deflateSetDictionary(this.strm,a))!==m)throw new Error(c[n]);this._dict_set=!0}}function a(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg||c[n.err];return n.result}function i(e,t){return t=t||{},t.raw=!0,a(e,t)}function o(e,t){return t=t||{},t.gzip=!0,a(e,t)}var s=n(165),u=n(28),l=n(168),c=n(100),d=n(101),f=Object.prototype.toString,m=0,g=-1,p=0,v=8;r.prototype.push=function(e,t){var n,r,a=this.strm,i=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=l.string2buf(e):"[object ArrayBuffer]"===f.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new u.Buf8(i),a.next_out=0,a.avail_out=i),1!==(n=s.deflate(a,r))&&n!==m)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(l.buf2binstring(u.shrinkBuf(a.output,a.next_out))):this.onData(u.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===r?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m):2!==r||(this.onEnd(m),a.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===m&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=r,t.deflate=a,t.deflateRaw=i,t.gzip=o},function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}function i(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function o(e){return e<256?ie[e]:ie[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function u(e,t,n){e.bi_valid>q-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>q-e.bi_valid,e.bi_valid+=n-q):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function l(e,t,n){u(e,n[2*t],n[2*t+1])}function c(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function f(e,t){var n,r,a,i,o,s,u=t.dyn_tree,l=t.max_code,c=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,p=0;for(i=0;i<=Y;i++)e.bl_count[i]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<Q;n++)r=e.heap[n],i=u[2*u[2*r+1]+1]+1,i>g&&(i=g,p++),u[2*r+1]=i,r>l||(e.bl_count[i]++,o=0,r>=m&&(o=f[r-m]),s=u[2*r],e.opt_len+=s*(i+o),d&&(e.static_len+=s*(c[2*r+1]+o)));if(0!==p){do{for(i=g-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[g]--,p-=2}while(p>0);for(i=g;0!==i;i--)for(r=e.bl_count[i];0!==r;)(a=e.heap[--n])>l||(u[2*a+1]!==i&&(e.opt_len+=(i-u[2*a+1])*u[2*a],u[2*a+1]=i),r--)}}function m(e,t,n){var r,a,i=new Array(Y+1),o=0;for(r=1;r<=Y;r++)i[r]=o=o+n[r-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=c(i[s]++,s))}}function g(){var e,t,n,r,i,o=new Array(Y+1);for(n=0,r=0;r<j-1;r++)for(se[r]=n,e=0;e<1<<$[r];e++)oe[n++]=r;for(oe[n-1]=r,i=0,r=0;r<16;r++)for(ue[r]=i,e=0;e<1<<ee[r];e++)ie[i++]=r;for(i>>=7;r<G;r++)for(ue[r]=i<<7,e=0;e<1<<ee[r]-7;e++)ie[256+i++]=r;for(t=0;t<=Y;t++)o[t]=0;for(e=0;e<=143;)re[2*e+1]=8,e++,o[8]++;for(;e<=255;)re[2*e+1]=9,e++,o[9]++;for(;e<=279;)re[2*e+1]=7,e++,o[7]++;for(;e<=287;)re[2*e+1]=8,e++,o[8]++;for(m(re,z+1,o),e=0;e<G;e++)ae[2*e+1]=5,ae[2*e]=c(e,5);le=new a(re,$,U+1,z,Y),ce=new a(ae,ee,0,G,Y),de=new a(new Array(0),te,0,W,H)}function p(e){var t;for(t=0;t<z;t++)e.dyn_ltree[2*t]=0;for(t=0;t<G;t++)e.dyn_dtree[2*t]=0;for(t=0;t<W;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Z]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function v(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function h(e,t,n,r){v(e),r&&(s(e,n),s(e,~n)),O.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function y(e,t,n,r){var a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]}function A(e,t,n){for(var r=e.heap[n],a=n<<1;a<=e.heap_len&&(a<e.heap_len&&y(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!y(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r}function S(e,t,n){var r,a,i,s,c=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*c]<<8|e.pending_buf[e.d_buf+2*c+1],a=e.pending_buf[e.l_buf+c],c++,0===r?l(e,a,t):(i=oe[a],l(e,i+U+1,t),s=$[i],0!==s&&(a-=se[i],u(e,a,s)),r--,i=o(r),l(e,i,n),0!==(s=ee[i])&&(r-=ue[i],u(e,r,s)))}while(c<e.last_lit);l(e,Z,t)}function T(e,t){var n,r,a,i=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=Q,n=0;n<u;n++)0!==i[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)a=e.heap[++e.heap_len]=l<2?++l:0,i[2*a]=1,e.depth[a]=0,e.opt_len--,s&&(e.static_len-=o[2*a+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)A(e,i,n);a=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],A(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*a]=i[2*n]+i[2*r],e.depth[a]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=a,e.heap[1]=a++,A(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],f(e,t),m(i,l,e.bl_count)}function M(e,t,n){var r,a,i=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=o,o=t[2*(r+1)+1],++s<u&&a===o||(s<l?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[2*K]++):s<=10?e.bl_tree[2*X]++:e.bl_tree[2*J]++,s=0,i=a,0===o?(u=138,l=3):a===o?(u=6,l=3):(u=7,l=4))}function b(e,t,n){var r,a,i=-1,o=t[1],s=0,c=7,d=4;for(0===o&&(c=138,d=3),r=0;r<=n;r++)if(a=o,o=t[2*(r+1)+1],!(++s<c&&a===o)){if(s<d)do{l(e,a,e.bl_tree)}while(0!=--s);else 0!==a?(a!==i&&(l(e,a,e.bl_tree),s--),l(e,K,e.bl_tree),u(e,s-3,2)):s<=10?(l(e,X,e.bl_tree),u(e,s-3,3)):(l(e,J,e.bl_tree),u(e,s-11,7));s=0,i=a,0===o?(c=138,d=3):a===o?(c=6,d=3):(c=7,d=4)}}function D(e){var t;for(M(e,e.dyn_ltree,e.l_desc.max_code),M(e,e.dyn_dtree,e.d_desc.max_code),T(e,e.bl_desc),t=W-1;t>=3&&0===e.bl_tree[2*ne[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function I(e,t,n,r){var a;for(u(e,t-257,5),u(e,n-1,5),u(e,r-4,4),a=0;a<r;a++)u(e,e.bl_tree[2*ne[a]+1],3);b(e,e.dyn_ltree,t-1),b(e,e.dyn_dtree,n-1)}function w(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return _;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return R;for(t=32;t<U;t++)if(0!==e.dyn_ltree[2*t])return R;return _}function C(e){fe||(g(),fe=!0),e.l_desc=new i(e.dyn_ltree,le),e.d_desc=new i(e.dyn_dtree,ce),e.bl_desc=new i(e.bl_tree,de),e.bi_buf=0,e.bi_valid=0,p(e)}function N(e,t,n,r){u(e,(B<<1)+(r?1:0),3),h(e,t,n,!0)}function P(e){u(e,V<<1,3),l(e,Z,re),d(e)}function x(e,t,n,r){var a,i,o=0;e.level>0?(e.strm.data_type===k&&(e.strm.data_type=w(e)),T(e,e.l_desc),T(e,e.d_desc),o=D(e),a=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?N(e,t,n,r):e.strategy===L||i===a?(u(e,(V<<1)+(r?1:0),3),S(e,re,ae)):(u(e,(F<<1)+(r?1:0),3),I(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),S(e,e.dyn_ltree,e.dyn_dtree)),p(e),r&&v(e)}function E(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(oe[n]+U+1)]++,e.dyn_dtree[2*o(t)]++),e.last_lit===e.lit_bufsize-1}var O=n(28),L=4,_=0,R=1,k=2,B=0,V=1,F=2,j=29,U=256,z=U+1+j,G=30,W=19,Q=2*z+1,Y=15,q=16,H=7,Z=256,K=16,X=17,J=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(z+2));r(re);var ae=new Array(2*G);r(ae);var ie=new Array(512);r(ie);var oe=new Array(256);r(oe);var se=new Array(j);r(se);var ue=new Array(G);r(ue);var le,ce,de,fe=!1;t._tr_init=C,t._tr_stored_block=N,t._tr_flush_block=x,t._tr_tally=E,t._tr_align=P},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,t.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new f,o.inflateGetHeader(this.strm,this.header)}function a(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg||c[n.err];return n.result}function i(e,t){return t=t||{},t.raw=!0,a(e,t)}var o=n(169),s=n(28),u=n(168),l=n(102),c=n(100),d=n(101),f=n(306),m=Object.prototype.toString;r.prototype.push=function(e,t){var n,r,a,i,c,d,f=this.strm,g=this.options.chunkSize,p=this.options.dictionary,v=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof e?f.input=u.binstring2buf(e):"[object ArrayBuffer]"===m.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new s.Buf8(g),f.next_out=0,f.avail_out=g),n=o.inflate(f,l.Z_NO_FLUSH),n===l.Z_NEED_DICT&&p&&(d="string"==typeof p?u.string2buf(p):"[object ArrayBuffer]"===m.call(p)?new Uint8Array(p):p,n=o.inflateSetDictionary(this.strm,d)),n===l.Z_BUF_ERROR&&!0===v&&(n=l.Z_OK,v=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==l.Z_STREAM_END&&(0!==f.avail_in||r!==l.Z_FINISH&&r!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(a=u.utf8border(f.output,f.next_out),i=f.next_out-a,c=u.buf2string(f.output,a),f.next_out=i,f.avail_out=g-i,i&&s.arraySet(f.output,f.output,a,i,0),this.onData(c)):this.onData(s.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(v=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(r=l.Z_FINISH),r===l.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):r!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),f.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=r,t.inflate=a,t.inflateRaw=i,t.ungzip=a},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,a,i,o,s,u,l,c,d,f,m,g,p,v,h,y,A,S,T,M,b,D,I,w;n=e.state,r=e.next_in,I=e.input,a=r+(e.avail_in-5),i=e.next_out,w=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,d=n.wnext,f=n.window,m=n.hold,g=n.bits,p=n.lencode,v=n.distcode,h=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{g<15&&(m+=I[r++]<<g,g+=8,m+=I[r++]<<g,g+=8),A=p[m&h];t:for(;;){if(S=A>>>24,m>>>=S,g-=S,0==(S=A>>>16&255))w[i++]=65535&A;else{if(!(16&S)){if(0==(64&S)){A=p[(65535&A)+(m&(1<<S)-1)];continue t}if(32&S){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}T=65535&A,S&=15,S&&(g<S&&(m+=I[r++]<<g,g+=8),T+=m&(1<<S)-1,m>>>=S,g-=S),g<15&&(m+=I[r++]<<g,g+=8,m+=I[r++]<<g,g+=8),A=v[m&y];n:for(;;){if(S=A>>>24,m>>>=S,g-=S,!(16&(S=A>>>16&255))){if(0==(64&S)){A=v[(65535&A)+(m&(1<<S)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(M=65535&A,S&=15,g<S&&(m+=I[r++]<<g,(g+=8)<S&&(m+=I[r++]<<g,g+=8)),(M+=m&(1<<S)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(m>>>=S,g-=S,S=i-o,M>S){if((S=M-S)>c&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(b=0,D=f,0===d){if(b+=l-S,S<T){T-=S;do{w[i++]=f[b++]}while(--S);b=i-M,D=w}}else if(d<S){if(b+=l+d-S,(S-=d)<T){T-=S;do{w[i++]=f[b++]}while(--S);if(b=0,d<T){S=d,T-=S;do{w[i++]=f[b++]}while(--S);b=i-M,D=w}}}else if(b+=d-S,S<T){T-=S;do{w[i++]=f[b++]}while(--S);b=i-M,D=w}for(;T>2;)w[i++]=D[b++],w[i++]=D[b++],w[i++]=D[b++],T-=3;T&&(w[i++]=D[b++],T>1&&(w[i++]=D[b++]))}else{b=i-M;do{w[i++]=w[b++],w[i++]=w[b++],w[i++]=w[b++],T-=3}while(T>2);T&&(w[i++]=w[b++],T>1&&(w[i++]=w[b++]))}break}}break}}while(r<a&&i<s);T=g>>3,r-=T,g-=T<<3,m&=(1<<g)-1,e.next_in=r,e.next_out=i,e.avail_in=r<a?a-r+5:5-(r-a),e.avail_out=i<s?s-i+257:257-(i-s),n.hold=m,n.bits=g}},function(e,t,n){"use strict";var r=n(28),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,u,l,c,d,f){var m,g,p,v,h,y,A,S,T,M=f.bits,b=0,D=0,I=0,w=0,C=0,N=0,P=0,x=0,E=0,O=0,L=null,_=0,R=new r.Buf16(16),k=new r.Buf16(16),B=null,V=0;for(b=0;b<=15;b++)R[b]=0;for(D=0;D<u;D++)R[t[n+D]]++;for(C=M,w=15;w>=1&&0===R[w];w--);if(C>w&&(C=w),0===w)return l[c++]=20971520,l[c++]=20971520,f.bits=1,0;for(I=1;I<w&&0===R[I];I++);for(C<I&&(C=I),x=1,b=1;b<=15;b++)if(x<<=1,(x-=R[b])<0)return-1;if(x>0&&(0===e||1!==w))return-1;for(k[1]=0,b=1;b<15;b++)k[b+1]=k[b]+R[b];for(D=0;D<u;D++)0!==t[n+D]&&(d[k[t[n+D]]++]=D);if(0===e?(L=B=d,y=19):1===e?(L=a,_-=257,B=i,V-=257,y=256):(L=o,B=s,y=-1),O=0,D=0,b=I,h=c,N=C,P=0,p=-1,E=1<<C,v=E-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){A=b-P,d[D]<y?(S=0,T=d[D]):d[D]>y?(S=B[V+d[D]],T=L[_+d[D]]):(S=96,T=0),m=1<<b-P,g=1<<N,I=g;do{g-=m,l[h+(O>>P)+g]=A<<24|S<<16|T|0}while(0!==g);for(m=1<<b-1;O&m;)m>>=1;if(0!==m?(O&=m-1,O+=m):O=0,D++,0==--R[b]){if(b===w)break;b=t[n+d[D]]}if(b>C&&(O&v)!==p){for(0===P&&(P=C),h+=I,N=b-P,x=1<<N;N+P<w&&!((x-=R[N+P])<=0);)N++,x<<=1;if(E+=1<<N,1===e&&E>852||2===e&&E>592)return 1;p=O&v,l[p]=C<<24|N<<16|h-c|0}}return 0!==O&&(l[h+O]=b-P<<24|64<<16|0),f.bits=C,0}},function(e,t,n){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var a=n(103),i=n(308),o=r(i),s=n(309),u=r(s),l=n(172),c=r(l),d=n(310),f=r(d),m=n(311),g=r(m);t.isStringVr=a.isStringVr,t.isPrivateTag=a.isPrivateTag,t.parsePN=a.parsePN,t.parseTM=o.default,t.parseDA=u.default,t.explicitElementToString=c.default,t.explicitDataSetToJS=f.default,t.createJPEGBasicOffsetTable=g.default},function(e,t,n){"use strict";function r(e,t){if(e.length>=2){var n=parseInt(e.substring(0,2),10),r=e.length>=4?parseInt(e.substring(2,4),10):void 0,a=e.length>=6?parseInt(e.substring(4,6),10):void 0,i=e.length>=8?parseInt(e.substring(7,13),10):void 0;if(t&&(isNaN(n)||void 0!==r&&isNaN(r)||void 0!==a&&isNaN(a)||void 0!==i&&isNaN(i)||n<0||n>23||r&&(r<0||r>59)||a&&(a<0||a>59)||i&&(i<0||i>999999)))throw"invalid TM '"+e+"'";return{hours:n,minutes:r,seconds:a,fractionalSeconds:i}}if(t)throw"invalid TM '"+e+"'"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e,t){switch(e){case 2:return t%4==0&&t%100||t%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}function a(e,t,n){return!isNaN(n)&&t>0&&t<=12&&e>0&&e<=r(t,n)}function i(e,t){if(e&&8===e.length){var n=parseInt(e.substring(0,4),10),r=parseInt(e.substring(4,6),10),i=parseInt(e.substring(6,8),10);if(t&&!0!==a(i,r,n))throw"invalid DA '"+e+"'";return{year:n,month:r,day:i}}if(t)throw"invalid DA '"+e+"'"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function r(e,t){if(void 0===e)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";t=t||{omitPrivateAttibutes:!0,maxElementLength:128};var n={};for(var a in e.elements){var o=e.elements[a];if(!0!==t.omitPrivateAttibutes||!s.isPrivateTag(a))if(o.items){for(var u=[],l=0;l<o.items.length;l++)u.push(r(o.items[l].dataSet,t));n[a]=u}else{var c;c=void 0,o.length<t.maxElementLength&&(c=(0,i.default)(e,o)),n[a]=void 0!==c?c:{dataOffset:o.dataOffset,length:o.length}}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=n(172),i=function(e){return e&&e.__esModule?e:{default:e}}(a),o=n(103),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o)},function(e,t,n){"use strict";function r(e,t){return 255===e.byteArray[t]&&217===e.byteArray[t+1]}function a(e,t,n){var a=t.fragments[n];return!(!r(e,a.position+a.length-2)&&!r(e,a.position+a.length-3))}function i(e,t,n){for(var r=n;r<t.fragments.length;r++)if(a(e,t,r))return r}function o(e,t,n){if(void 0===e)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(void 0===t)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if("x7fe00010"!==t.tag)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(!0!==t.encapsulatedPixelData)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(n&&n.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";n=n||t.fragments;for(var r=[],a=0;;){r.push(t.fragments[a].offset);var o=i(e,t,a);if(void 0===o||o===t.fragments.length-1)return r;a=o+1}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.8.3"},function(e,t,n){"use strict";(function(e){function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(t,r){function a(e){if(void 0===e.elements.x00020010)throw"dicomParser.parseDicom: missing required meta header attribute 0002,0010";var n=e.elements.x00020010;return T.readFixedString(t,n.dataOffset,n.length)}function i(e){return"1.2.840.10008.1.2"!==e}function o(a,i){if("1.2.840.10008.1.2.1.99"===a){if(r&&r.inflater){var o=r.inflater(t,i);return new d.default(p.default,o,0)}if(void 0!==e&&this.module!==e){var u=n(314),c=(0,A.default)(t,i,t.length-i),f=u.inflateRawSync(c),m=(0,s.default)(t,f.length+i);return t.copy(m,0,0,i),f.copy(m,i),new d.default(p.default,m,0)}if("undefined"!=typeof pako){var g=t.slice(i),v=pako.inflateRaw(g),h=(0,s.default)(t,v.length+i);return h.set(t.slice(0,i),0),h.set(v,i),new d.default(p.default,h,0)}throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax"}return"1.2.840.10008.1.2.2"===a?new d.default(l.default,t,i):new d.default(p.default,t,i)}function u(e,t){for(var n in e.elements)e.elements.hasOwnProperty(n)&&(t.elements[n]=e.elements[n]);return void 0!==e.warnings&&(t.warnings=e.warnings.concat(t.warnings)),t}function c(e){var t=a(e),n=i(t),s=o(t,e.position),u={},l=new m.default(s.byteArrayParser,s.byteArray,u);l.warnings=s.warnings;try{n?b.parseDicomDataSetExplicit(l,s,s.byteArray.length,r):b.parseDicomDataSetImplicit(l,s,s.byteArray.length,r)}catch(e){var c={exception:e,dataSet:l};throw c}return l}if(void 0===t)throw"dicomParser.parseDicom: missing required parameter 'byteArray'";return function(){var e=(0,h.default)(t,r);return u(e,c(e))}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(106),s=a(o),u=n(178),l=a(u),c=n(65),d=a(c),f=n(47),m=a(f),g=n(108),p=a(g),v=n(179),h=a(v),y=n(66),A=a(y),S=n(63),T=r(S),M=n(61),b=r(M)}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){function r(e,t,n){function r(){for(var t;null!==(t=e.read());)o.push(t),s+=t.length;e.once("readable",r)}function a(t){e.removeListener("end",i),e.removeListener("readable",r),n(t)}function i(){var t,r=null;s>=T?r=new RangeError(M):t=v.concat(o,s),o=[],e.close(),n(r,t)}var o=[],s=0;e.on("error",a),e.on("end",i),e.end(t),r()}function a(e,t){if("string"==typeof t&&(t=v.from(t)),!v.isBuffer(t))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return e._processChunk(t,n)}function i(e){if(!(this instanceof i))return new i(e);m.call(this,e,y.DEFLATE)}function o(e){if(!(this instanceof o))return new o(e);m.call(this,e,y.INFLATE)}function s(e){if(!(this instanceof s))return new s(e);m.call(this,e,y.GZIP)}function u(e){if(!(this instanceof u))return new u(e);m.call(this,e,y.GUNZIP)}function l(e){if(!(this instanceof l))return new l(e);m.call(this,e,y.DEFLATERAW)}function c(e){if(!(this instanceof c))return new c(e);m.call(this,e,y.INFLATERAW)}function d(e){if(!(this instanceof d))return new d(e);m.call(this,e,y.UNZIP)}function f(e){return e===y.Z_NO_FLUSH||e===y.Z_PARTIAL_FLUSH||e===y.Z_SYNC_FLUSH||e===y.Z_FULL_FLUSH||e===y.Z_FINISH||e===y.Z_BLOCK}function m(e,n){var r=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,h.call(this,e),e.flush&&!f(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!f(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||y.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:y.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!v.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new y.Zlib(n);var a=this;this._hadError=!1,this._handle.onerror=function(e,n){g(a),a._hadError=!0;var r=new Error(e);r.errno=n,r.code=t.codes[n],a.emit("error",r)};var i=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(i=e.level);var o=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(o=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,i,e.memLevel||t.Z_DEFAULT_MEMLEVEL,o,e.dictionary),this._buffer=v.allocUnsafe(this._chunkSize),this._offset=0,this._level=i,this._strategy=o,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!r._handle},configurable:!0,enumerable:!0})}function g(t,n){n&&e.nextTick(n),t._handle&&(t._handle.close(),t._handle=null)}function p(e){e.emit("close")}var v=n(8).Buffer,h=n(41).Transform,y=n(324),A=n(183),S=n(182).ok,T=n(8).kMaxLength,M="Cannot create final Buffer. It would be larger than 0x"+T.toString(16)+" bytes";y.Z_MIN_WINDOWBITS=8,y.Z_MAX_WINDOWBITS=15,y.Z_DEFAULT_WINDOWBITS=15,y.Z_MIN_CHUNK=64,y.Z_MAX_CHUNK=1/0,y.Z_DEFAULT_CHUNK=16384,y.Z_MIN_MEMLEVEL=1,y.Z_MAX_MEMLEVEL=9,y.Z_DEFAULT_MEMLEVEL=8,y.Z_MIN_LEVEL=-1,y.Z_MAX_LEVEL=9,y.Z_DEFAULT_LEVEL=y.Z_DEFAULT_COMPRESSION;for(var b=Object.keys(y),D=0;D<b.length;D++){var I=b[D];I.match(/^Z/)&&Object.defineProperty(t,I,{enumerable:!0,value:y[I],writable:!1})}for(var w={Z_OK:y.Z_OK,Z_STREAM_END:y.Z_STREAM_END,Z_NEED_DICT:y.Z_NEED_DICT,Z_ERRNO:y.Z_ERRNO,Z_STREAM_ERROR:y.Z_STREAM_ERROR,Z_DATA_ERROR:y.Z_DATA_ERROR,Z_MEM_ERROR:y.Z_MEM_ERROR,Z_BUF_ERROR:y.Z_BUF_ERROR,Z_VERSION_ERROR:y.Z_VERSION_ERROR},C=Object.keys(w),N=0;N<C.length;N++){var P=C[N];w[w[P]]=P}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(w),writable:!1}),t.Deflate=i,t.Inflate=o,t.Gzip=s,t.Gunzip=u,t.DeflateRaw=l,t.InflateRaw=c,t.Unzip=d,t.createDeflate=function(e){return new i(e)},t.createInflate=function(e){return new o(e)},t.createDeflateRaw=function(e){return new l(e)},t.createInflateRaw=function(e){return new c(e)},t.createGzip=function(e){return new s(e)},t.createGunzip=function(e){return new u(e)},t.createUnzip=function(e){return new d(e)},t.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new i(t),e,n)},t.deflateSync=function(e,t){return a(new i(t),e)},t.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new s(t),e,n)},t.gzipSync=function(e,t){return a(new s(t),e)},t.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new l(t),e,n)},t.deflateRawSync=function(e,t){return a(new l(t),e)},t.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new d(t),e,n)},t.unzipSync=function(e,t){return a(new d(t),e)},t.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new o(t),e,n)},t.inflateSync=function(e,t){return a(new o(t),e)},t.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new u(t),e,n)},t.gunzipSync=function(e,t){return a(new u(t),e)},t.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),r(new c(t),e,n)},t.inflateRawSync=function(e,t){return a(new c(t),e)},A.inherits(m,h),m.prototype.params=function(n,r,a){if(n<t.Z_MIN_LEVEL||n>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+n);if(r!=t.Z_FILTERED&&r!=t.Z_HUFFMAN_ONLY&&r!=t.Z_RLE&&r!=t.Z_FIXED&&r!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==n||this._strategy!==r){var i=this;this.flush(y.Z_SYNC_FLUSH,function(){S(i._handle,"zlib binding closed"),i._handle.params(n,r),i._hadError||(i._level=n,i._strategy=r,a&&a())})}else e.nextTick(a)},m.prototype.reset=function(){return S(this._handle,"zlib binding closed"),this._handle.reset()},m.prototype._flush=function(e){this._transform(v.alloc(0),"",e)},m.prototype.flush=function(t,n){var r=this,a=this._writableState;("function"==typeof t||void 0===t&&!n)&&(n=t,t=y.Z_FULL_FLUSH),a.ended?n&&e.nextTick(n):a.ending?n&&this.once("end",n):a.needDrain?n&&this.once("drain",function(){return r.flush(t,n)}):(this._flushFlag=t,this.write(v.alloc(0),"",n))},m.prototype.close=function(t){g(this,t),e.nextTick(p,this)},m.prototype._transform=function(e,t,n){var r,a=this._writableState,i=a.ending||a.ended,o=i&&(!e||a.length===e.length);return null===e||v.isBuffer(e)?this._handle?(o?r=this._finishFlushFlag:(r=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||y.Z_NO_FLUSH)),void this._processChunk(e,r,n)):n(new Error("zlib binding closed")):n(new Error("invalid input"))},m.prototype._processChunk=function(e,t,n){function r(l,f){if(this&&(this.buffer=null,this.callback=null),!s._hadError){var m=i-f;if(S(m>=0,"have should not go down"),m>0){var g=s._buffer.slice(s._offset,s._offset+m);s._offset+=m,u?s.push(g):(c.push(g),d+=g.length)}if((0===f||s._offset>=s._chunkSize)&&(i=s._chunkSize,s._offset=0,s._buffer=v.allocUnsafe(s._chunkSize)),0===f){if(o+=a-l,a=l,!u)return!0;var p=s._handle.write(t,e,o,a,s._buffer,s._offset,s._chunkSize);return p.callback=r,void(p.buffer=e)}if(!u)return!1;n()}}var a=e&&e.length,i=this._chunkSize-this._offset,o=0,s=this,u="function"==typeof n;if(!u){var l,c=[],d=0;this.on("error",function(e){l=e}),S(this._handle,"zlib binding closed");do{var f=this._handle.writeSync(t,e,o,a,this._buffer,this._offset,i)}while(!this._hadError&&r(f[0],f[1]));if(this._hadError)throw l;if(d>=T)throw g(this),new RangeError(M);var m=v.concat(c,d);return g(this),m}S(this._handle,"zlib binding closed");var p=this._handle.write(t,e,o,a,this._buffer,this._offset,i);p.buffer=e,p.callback=r},A.inherits(i,m),A.inherits(o,m),A.inherits(s,m),A.inherits(u,m),A.inherits(l,m),A.inherits(c,m),A.inherits(d,m)}).call(t,n(16))},function(e,t,n){"use strict";var r=function(){try{return n(41)}catch(e){}}();t=e.exports=n(180),t.Stream=r||t,t.Readable=t,t.Writable=n(110),t.Duplex=n(38),t.Transform=n(112),t.PassThrough=n(181)},function(e,t){},function(e,t,n){"use strict";(function(e,t){!function(e,n){function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return l[u]=r,s(u),u++}function a(e){delete l[e]}function i(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function o(e){if(c)setTimeout(o,0,e);else{var t=l[e];if(t){c=!0;try{i(t)}finally{a(e),c=!1}}}}if(!e.setImmediate){var s,u=1,l={},c=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(o,0,e)}}(),f.setImmediate=r,f.clearImmediate=a}}("undefined"==typeof self?void 0===e?void 0:e:self)}).call(t,n(14),n(16))},function(e,t,n){"use strict";(function(t){function n(e,t){function n(){if(!a){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation"),a=!0}return e.apply(this,arguments)}if(r("noDeprecation"))return e;var a=!1;return n}function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=n}).call(t,n(14))},function(e,t,n){"use strict";function r(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}var i=n(8),o=i.Buffer;o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=i:(r(i,t),t.Buffer=a),a.prototype=Object.create(o.prototype),r(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=n(110)},function(e,t,n){"use strict";e.exports=n(38)},function(e,t,n){"use strict";e.exports=n(112)},function(e,t,n){"use strict";e.exports=n(181)},function(e,t,n){"use strict";(function(e,r){function a(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}var i=n(182),o=n(101),s=n(165),u=n(169),l=n(102);for(var c in l)t[c]=l[c];t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,a.prototype.close=function(){if(this.write_in_progress)return void(this.pending_close=!0);this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||u.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null},a.prototype.write=function(e,t,n,r,a,i,o){return this._write(!0,e,t,n,r,a,i,o)},a.prototype.writeSync=function(e,t,n,r,a,i,o){return this._write(!1,e,t,n,r,a,i,o)},a.prototype._write=function(n,a,o,s,u,l,c,d){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=d,this.strm.output=l,this.strm.next_out=c,this.flush=a,n){var f=this;return r.nextTick(function(){f._process(),f._after()}),this}if(this._process(),this._checkError())return this._afterSync()},a.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},a.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=u.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=u.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=u.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=u.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},a.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},a.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},a.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},a.prototype.init=function(e,n,r,a,o){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(n>=-1&&n<=9,"invalid compression level"),i(r>=1&&r<=9,"invalid memlevel"),i(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(n,e,r,a,o),this._setDictionary()},a.prototype.params=function(){throw new Error("deflateParams Not supported")},a.prototype.reset=function(){this._reset(),this._setDictionary()},a.prototype._init=function(e,n,r,a,i){switch(this.level=e,this.windowBits=n,this.memLevel=r,this.strategy=a,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new o,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=u.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=i,this.write_in_progress=!1,this.init_done=!0},a.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},a.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=s.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=u.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=a}).call(t,n(8).Buffer,n(16))},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var a=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)i.call(n,c)&&(u[c]=n[c]);if(a){s=a(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(u[s[d]]=n[s[d]])}}return u}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return e&&"object"===(void 0===e?"undefined":r(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){if(l||(l=!0,console&&console.log),void 0===e)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(void 0===n)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(n<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return 0!==t.basicOffsetTable.length?(0,o.default)(e,t,n):(0,u.default)(e,t,0,t.fragments.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(184),o=r(i),s=n(113),u=r(s),l=!1},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={"(0000,0000)":{tag:"(0000,0000)",vr:"UL",vm:"1",name:"CommandGroupLength"},"(0000,0001)":{tag:"(0000,0001)",vr:"UL",vm:"1",name:"CommandLengthToEnd"},"(0000,0002)":{tag:"(0000,0002)",vr:"UI",vm:"1",name:"AffectedSOPClassUID"},"(0000,0003)":{tag:"(0000,0003)",vr:"UI",vm:"1",name:"RequestedSOPClassUID"},"(0000,0010)":{tag:"(0000,0010)",vr:"SH",vm:"1",name:"CommandRecognitionCode"},"(0000,0100)":{tag:"(0000,0100)",vr:"US",vm:"1",name:"CommandField"},"(0000,0110)":{tag:"(0000,0110)",vr:"US",vm:"1",name:"MessageID"},"(0000,0120)":{tag:"(0000,0120)",vr:"US",vm:"1",name:"MessageIDBeingRespondedTo"},"(0000,0200)":{tag:"(0000,0200)",vr:"AE",vm:"1",name:"Initiator"},"(0000,0300)":{tag:"(0000,0300)",vr:"AE",vm:"1",name:"Receiver"},"(0000,0400)":{tag:"(0000,0400)",vr:"AE",vm:"1",name:"FindLocation"},"(0000,0600)":{tag:"(0000,0600)",vr:"AE",vm:"1",name:"MoveDestination"},"(0000,0700)":{tag:"(0000,0700)",vr:"US",vm:"1",name:"Priority"},"(0000,0800)":{tag:"(0000,0800)",vr:"US",vm:"1",name:"CommandDataSetType"},"(0000,0850)":{tag:"(0000,0850)",vr:"US",vm:"1",name:"NumberOfMatches"},"(0000,0860)":{tag:"(0000,0860)",vr:"US",vm:"1",name:"ResponseSequenceNumber"},"(0000,0900)":{tag:"(0000,0900)",vr:"US",vm:"1",name:"Status"},"(0000,0901)":{tag:"(0000,0901)",vr:"AT",vm:"1-n",name:"OffendingElement"},"(0000,0902)":{tag:"(0000,0902)",vr:"LO",vm:"1",name:"ErrorComment"},"(0000,0903)":{tag:"(0000,0903)",vr:"US",vm:"1",name:"ErrorID"},"(0000,1000)":{tag:"(0000,1000)",vr:"UI",vm:"1",name:"AffectedSOPInstanceUID"},"(0000,1001)":{tag:"(0000,1001)",vr:"UI",vm:"1",name:"RequestedSOPInstanceUID"},"(0000,1002)":{tag:"(0000,1002)",vr:"US",vm:"1",name:"EventTypeID"},"(0000,1005)":{tag:"(0000,1005)",vr:"AT",vm:"1-n",name:"AttributeIdentifierList"},"(0000,1008)":{tag:"(0000,1008)",vr:"US",vm:"1",name:"ActionTypeID"},"(0000,1020)":{tag:"(0000,1020)",vr:"US",vm:"1",name:"NumberOfRemainingSuboperations"},"(0000,1021)":{tag:"(0000,1021)",vr:"US",vm:"1",name:"NumberOfCompletedSuboperations"},"(0000,1022)":{tag:"(0000,1022)",vr:"US",vm:"1",name:"NumberOfFailedSuboperations"},"(0000,1023)":{tag:"(0000,1023)",vr:"US",vm:"1",name:"NumberOfWarningSuboperations"},"(0000,1030)":{tag:"(0000,1030)",vr:"AE",vm:"1",name:"MoveOriginatorApplicationEntityTitle"},"(0000,1031)":{tag:"(0000,1031)",vr:"US",vm:"1",name:"MoveOriginatorMessageID"},"(0000,4000)":{tag:"(0000,4000)",vr:"LT",vm:"1",name:"DialogReceiver"},"(0000,4010)":{tag:"(0000,4010)",vr:"LT",vm:"1",name:"TerminalType"},"(0000,5010)":{tag:"(0000,5010)",vr:"SH",vm:"1",name:"MessageSetID"},"(0000,5020)":{tag:"(0000,5020)",vr:"SH",vm:"1",name:"EndMessageID"},"(0000,5110)":{tag:"(0000,5110)",vr:"LT",vm:"1",name:"DisplayFormat"},"(0000,5120)":{tag:"(0000,5120)",vr:"LT",vm:"1",name:"PagePositionID"},"(0000,5130)":{tag:"(0000,5130)",vr:"CS",vm:"1",name:"TextFormatID"},"(0000,5140)":{tag:"(0000,5140)",vr:"CS",vm:"1",name:"NormalReverse"},"(0000,5150)":{tag:"(0000,5150)",vr:"CS",vm:"1",name:"AddGrayScale"},"(0000,5160)":{tag:"(0000,5160)",vr:"CS",vm:"1",name:"Borders"},"(0000,5170)":{tag:"(0000,5170)",vr:"IS",vm:"1",name:"Copies"},"(0000,5180)":{tag:"(0000,5180)",vr:"CS",vm:"1",name:"CommandMagnificationType"},"(0000,5190)":{tag:"(0000,5190)",vr:"CS",vm:"1",name:"Erase"},"(0000,51A0)":{tag:"(0000,51A0)",vr:"CS",vm:"1",name:"Print"},"(0000,51B0)":{tag:"(0000,51B0)",vr:"US",vm:"1-n",name:"Overlays"},"(0002,0000)":{tag:"(0002,0000)",vr:"UL",vm:"1",name:"FileMetaInformationGroupLength"},"(0002,0001)":{tag:"(0002,0001)",vr:"OB",vm:"1",name:"FileMetaInformationVersion"},"(0002,0002)":{tag:"(0002,0002)",vr:"UI",vm:"1",name:"MediaStorageSOPClassUID"},"(0002,0003)":{tag:"(0002,0003)",vr:"UI",vm:"1",name:"MediaStorageSOPInstanceUID"},"(0002,0010)":{tag:"(0002,0010)",vr:"UI",vm:"1",name:"TransferSyntaxUID"},"(0002,0012)":{tag:"(0002,0012)",vr:"UI",vm:"1",name:"ImplementationClassUID"},"(0002,0013)":{tag:"(0002,0013)",vr:"SH",vm:"1",name:"ImplementationVersionName"},"(0002,0016)":{tag:"(0002,0016)",vr:"AE",vm:"1",name:"SourceApplicationEntityTitle"},"(0002,0100)":{tag:"(0002,0100)",vr:"UI",vm:"1",name:"PrivateInformationCreatorUID"},"(0002,0102)":{tag:"(0002,0102)",vr:"OB",vm:"1",name:"PrivateInformation"},"(0004,1130)":{tag:"(0004,1130)",vr:"CS",vm:"1",name:"FileSetID"},"(0004,1141)":{tag:"(0004,1141)",vr:"CS",vm:"1-8",name:"FileSetDescriptorFileID"},"(0004,1142)":{tag:"(0004,1142)",vr:"CS",vm:"1",name:"SpecificCharacterSetOfFileSetDescriptorFile"},"(0004,1200)":{tag:"(0004,1200)",vr:"UL",vm:"1",name:"OffsetOfTheFirstDirectoryRecordOfTheRootDirectoryEntity"},"(0004,1202)":{tag:"(0004,1202)",vr:"UL",vm:"1",name:"OffsetOfTheLastDirectoryRecordOfTheRootDirectoryEntity"},"(0004,1212)":{tag:"(0004,1212)",vr:"US",vm:"1",name:"FileSetConsistencyFlag"},"(0004,1220)":{tag:"(0004,1220)",vr:"SQ",vm:"1",name:"DirectoryRecordSequence"},"(0004,1400)":{tag:"(0004,1400)",vr:"UL",vm:"1",name:"OffsetOfTheNextDirectoryRecord"},"(0004,1410)":{tag:"(0004,1410)",vr:"US",vm:"1",name:"RecordInUseFlag"},"(0004,1420)":{tag:"(0004,1420)",vr:"UL",vm:"1",name:"OffsetOfReferencedLowerLevelDirectoryEntity"},"(0004,1430)":{tag:"(0004,1430)",vr:"CS",vm:"1",name:"DirectoryRecordType"},"(0004,1432)":{tag:"(0004,1432)",vr:"UI",vm:"1",name:"PrivateRecordUID"},"(0004,1500)":{tag:"(0004,1500)",vr:"CS",vm:"1-8",name:"ReferencedFileID"},"(0004,1504)":{tag:"(0004,1504)",vr:"UL",vm:"1",name:"MRDRDirectoryRecordOffset"},"(0004,1510)":{tag:"(0004,1510)",vr:"UI",vm:"1",name:"ReferencedSOPClassUIDInFile"},"(0004,1511)":{tag:"(0004,1511)",vr:"UI",vm:"1",name:"ReferencedSOPInstanceUIDInFile"},"(0004,1512)":{tag:"(0004,1512)",vr:"UI",vm:"1",name:"ReferencedTransferSyntaxUIDInFile"},"(0004,151A)":{tag:"(0004,151A)",vr:"UI",vm:"1-n",name:"ReferencedRelatedGeneralSOPClassUIDInFile"},"(0004,1600)":{tag:"(0004,1600)",vr:"UL",vm:"1",name:"NumberOfReferences"},"(0008,0001)":{tag:"(0008,0001)",vr:"UL",vm:"1",name:"LengthToEnd"},"(0008,0005)":{tag:"(0008,0005)",vr:"CS",vm:"1-n",name:"SpecificCharacterSet"},"(0008,0006)":{tag:"(0008,0006)",vr:"SQ",vm:"1",name:"LanguageCodeSequence"},"(0008,0008)":{tag:"(0008,0008)",vr:"CS",vm:"2-n",name:"ImageType"},"(0008,0010)":{tag:"(0008,0010)",vr:"SH",vm:"1",name:"RecognitionCode"},"(0008,0012)":{tag:"(0008,0012)",vr:"DA",vm:"1",name:"InstanceCreationDate"},"(0008,0013)":{tag:"(0008,0013)",vr:"TM",vm:"1",name:"InstanceCreationTime"},"(0008,0014)":{tag:"(0008,0014)",vr:"UI",vm:"1",name:"InstanceCreatorUID"},"(0008,0016)":{tag:"(0008,0016)",vr:"UI",vm:"1",name:"SOPClassUID"},"(0008,0018)":{tag:"(0008,0018)",vr:"UI",vm:"1",name:"SOPInstanceUID"},"(0008,001A)":{tag:"(0008,001A)",vr:"UI",vm:"1-n",name:"RelatedGeneralSOPClassUID"},"(0008,001B)":{tag:"(0008,001B)",vr:"UI",vm:"1",name:"OriginalSpecializedSOPClassUID"},"(0008,0020)":{tag:"(0008,0020)",vr:"DA",vm:"1",name:"StudyDate"},"(0008,0021)":{tag:"(0008,0021)",vr:"DA",vm:"1",name:"SeriesDate"},"(0008,0022)":{tag:"(0008,0022)",vr:"DA",vm:"1",name:"AcquisitionDate"},"(0008,0023)":{tag:"(0008,0023)",vr:"DA",vm:"1",name:"ContentDate"},"(0008,0024)":{tag:"(0008,0024)",vr:"DA",vm:"1",name:"OverlayDate"},"(0008,0025)":{tag:"(0008,0025)",vr:"DA",vm:"1",name:"CurveDate"},"(0008,002A)":{tag:"(0008,002A)",vr:"DT",vm:"1",name:"AcquisitionDateTime"},"(0008,0030)":{tag:"(0008,0030)",vr:"TM",vm:"1",name:"StudyTime"},"(0008,0031)":{tag:"(0008,0031)",vr:"TM",vm:"1",name:"SeriesTime"},"(0008,0032)":{tag:"(0008,0032)",vr:"TM",vm:"1",name:"AcquisitionTime"},"(0008,0033)":{tag:"(0008,0033)",vr:"TM",vm:"1",name:"ContentTime"},"(0008,0034)":{tag:"(0008,0034)",vr:"TM",vm:"1",name:"OverlayTime"},"(0008,0035)":{tag:"(0008,0035)",vr:"TM",vm:"1",name:"CurveTime"},"(0008,0040)":{tag:"(0008,0040)",vr:"US",vm:"1",name:"DataSetType"},"(0008,0041)":{tag:"(0008,0041)",vr:"LO",vm:"1",name:"DataSetSubtype"},"(0008,0042)":{tag:"(0008,0042)",vr:"CS",vm:"1",name:"NuclearMedicineSeriesType"},"(0008,0050)":{tag:"(0008,0050)",vr:"SH",vm:"1",name:"AccessionNumber"},"(0008,0051)":{tag:"(0008,0051)",vr:"SQ",vm:"1",name:"IssuerOfAccessionNumberSequence"},"(0008,0052)":{tag:"(0008,0052)",vr:"CS",vm:"1",name:"QueryRetrieveLevel"},"(0008,0054)":{tag:"(0008,0054)",vr:"AE",vm:"1-n",name:"RetrieveAETitle"},"(0008,0056)":{tag:"(0008,0056)",vr:"CS",vm:"1",name:"InstanceAvailability"},"(0008,0058)":{tag:"(0008,0058)",vr:"UI",vm:"1-n",name:"FailedSOPInstanceUIDList"},"(0008,0060)":{tag:"(0008,0060)",vr:"CS",vm:"1",name:"Modality"},"(0008,0061)":{tag:"(0008,0061)",vr:"CS",vm:"1-n",name:"ModalitiesInStudy"},"(0008,0062)":{tag:"(0008,0062)",vr:"UI",vm:"1-n",name:"SOPClassesInStudy"},"(0008,0064)":{tag:"(0008,0064)",vr:"CS",vm:"1",name:"ConversionType"},"(0008,0068)":{tag:"(0008,0068)",vr:"CS",vm:"1",name:"PresentationIntentType"},"(0008,0070)":{tag:"(0008,0070)",vr:"LO",vm:"1",name:"Manufacturer"},"(0008,0080)":{tag:"(0008,0080)",vr:"LO",vm:"1",name:"InstitutionName"},"(0008,0081)":{tag:"(0008,0081)",vr:"ST",vm:"1",name:"InstitutionAddress"},"(0008,0082)":{tag:"(0008,0082)",vr:"SQ",vm:"1",name:"InstitutionCodeSequence"},"(0008,0090)":{tag:"(0008,0090)",vr:"PN",vm:"1",name:"ReferringPhysicianName"},"(0008,0092)":{tag:"(0008,0092)",vr:"ST",vm:"1",name:"ReferringPhysicianAddress"},"(0008,0094)":{tag:"(0008,0094)",vr:"SH",vm:"1-n",name:"ReferringPhysicianTelephoneNumbers"},"(0008,0096)":{tag:"(0008,0096)",vr:"SQ",vm:"1",name:"ReferringPhysicianIdentificationSequence"},"(0008,0100)":{tag:"(0008,0100)",vr:"SH",vm:"1",name:"CodeValue"},"(0008,0102)":{tag:"(0008,0102)",vr:"SH",vm:"1",name:"CodingSchemeDesignator"},"(0008,0103)":{tag:"(0008,0103)",vr:"SH",vm:"1",name:"CodingSchemeVersion"},"(0008,0104)":{tag:"(0008,0104)",vr:"LO",vm:"1",name:"CodeMeaning"},"(0008,0105)":{tag:"(0008,0105)",vr:"CS",vm:"1",name:"MappingResource"},"(0008,0106)":{tag:"(0008,0106)",vr:"DT",vm:"1",name:"ContextGroupVersion"},"(0008,0107)":{tag:"(0008,0107)",vr:"DT",vm:"1",name:"ContextGroupLocalVersion"},"(0008,010B)":{tag:"(0008,010B)",vr:"CS",vm:"1",name:"ContextGroupExtensionFlag"},"(0008,010C)":{tag:"(0008,010C)",vr:"UI",vm:"1",name:"CodingSchemeUID"},"(0008,010D)":{tag:"(0008,010D)",vr:"UI",vm:"1",name:"ContextGroupExtensionCreatorUID"},"(0008,010F)":{tag:"(0008,010F)",vr:"CS",vm:"1",name:"ContextIdentifier"},"(0008,0110)":{tag:"(0008,0110)",vr:"SQ",vm:"1",name:"CodingSchemeIdentificationSequence"},"(0008,0112)":{tag:"(0008,0112)",vr:"LO",vm:"1",name:"CodingSchemeRegistry"},"(0008,0114)":{tag:"(0008,0114)",vr:"ST",vm:"1",name:"CodingSchemeExternalID"},"(0008,0115)":{tag:"(0008,0115)",vr:"ST",vm:"1",name:"CodingSchemeName"},"(0008,0116)":{tag:"(0008,0116)",vr:"ST",vm:"1",name:"CodingSchemeResponsibleOrganization"},"(0008,0117)":{tag:"(0008,0117)",vr:"UI",vm:"1",name:"ContextUID"},"(0008,0201)":{tag:"(0008,0201)",vr:"SH",vm:"1",name:"TimezoneOffsetFromUTC"},"(0008,1000)":{tag:"(0008,1000)",vr:"AE",vm:"1",name:"NetworkID"},"(0008,1010)":{tag:"(0008,1010)",vr:"SH",vm:"1",name:"StationName"},"(0008,1030)":{tag:"(0008,1030)",vr:"LO",vm:"1",name:"StudyDescription"},"(0008,1032)":{tag:"(0008,1032)",vr:"SQ",vm:"1",name:"ProcedureCodeSequence"},"(0008,103E)":{tag:"(0008,103E)",vr:"LO",vm:"1",name:"SeriesDescription"},"(0008,103F)":{tag:"(0008,103F)",vr:"SQ",vm:"1",name:"SeriesDescriptionCodeSequence"},"(0008,1040)":{tag:"(0008,1040)",vr:"LO",vm:"1",name:"InstitutionalDepartmentName"},"(0008,1048)":{tag:"(0008,1048)",vr:"PN",vm:"1-n",name:"PhysiciansOfRecord"},"(0008,1049)":{tag:"(0008,1049)",vr:"SQ",vm:"1",name:"PhysiciansOfRecordIdentificationSequence"},"(0008,1050)":{tag:"(0008,1050)",vr:"PN",vm:"1-n",name:"PerformingPhysicianName"},"(0008,1052)":{tag:"(0008,1052)",vr:"SQ",vm:"1",name:"PerformingPhysicianIdentificationSequence"},"(0008,1060)":{tag:"(0008,1060)",vr:"PN",vm:"1-n",name:"NameOfPhysiciansReadingStudy"},"(0008,1062)":{tag:"(0008,1062)",vr:"SQ",vm:"1",name:"PhysiciansReadingStudyIdentificationSequence"},"(0008,1070)":{tag:"(0008,1070)",vr:"PN",vm:"1-n",name:"OperatorsName"},"(0008,1072)":{tag:"(0008,1072)",vr:"SQ",vm:"1",name:"OperatorIdentificationSequence"},"(0008,1080)":{tag:"(0008,1080)",vr:"LO",vm:"1-n",name:"AdmittingDiagnosesDescription"},"(0008,1084)":{tag:"(0008,1084)",vr:"SQ",vm:"1",name:"AdmittingDiagnosesCodeSequence"},"(0008,1090)":{tag:"(0008,1090)",vr:"LO",vm:"1",name:"ManufacturerModelName"},"(0008,1100)":{tag:"(0008,1100)",vr:"SQ",vm:"1",name:"ReferencedResultsSequence"},"(0008,1110)":{tag:"(0008,1110)",vr:"SQ",vm:"1",name:"ReferencedStudySequence"},"(0008,1111)":{tag:"(0008,1111)",vr:"SQ",vm:"1",name:"ReferencedPerformedProcedureStepSequence"},"(0008,1115)":{tag:"(0008,1115)",vr:"SQ",vm:"1",name:"ReferencedSeriesSequence"},"(0008,1120)":{tag:"(0008,1120)",vr:"SQ",vm:"1",name:"ReferencedPatientSequence"},"(0008,1125)":{tag:"(0008,1125)",vr:"SQ",vm:"1",name:"ReferencedVisitSequence"},"(0008,1130)":{tag:"(0008,1130)",vr:"SQ",vm:"1",name:"ReferencedOverlaySequence"},"(0008,1134)":{tag:"(0008,1134)",vr:"SQ",vm:"1",name:"ReferencedStereometricInstanceSequence"},"(0008,113A)":{tag:"(0008,113A)",vr:"SQ",vm:"1",name:"ReferencedWaveformSequence"},"(0008,1140)":{tag:"(0008,1140)",vr:"SQ",vm:"1",name:"ReferencedImageSequence"},"(0008,1145)":{tag:"(0008,1145)",vr:"SQ",vm:"1",name:"ReferencedCurveSequence"},"(0008,114A)":{tag:"(0008,114A)",vr:"SQ",vm:"1",name:"ReferencedInstanceSequence"},"(0008,114B)":{tag:"(0008,114B)",vr:"SQ",vm:"1",name:"ReferencedRealWorldValueMappingInstanceSequence"},"(0008,1150)":{tag:"(0008,1150)",vr:"UI",vm:"1",name:"ReferencedSOPClassUID"},"(0008,1155)":{tag:"(0008,1155)",vr:"UI",vm:"1",name:"ReferencedSOPInstanceUID"},"(0008,115A)":{tag:"(0008,115A)",vr:"UI",vm:"1-n",name:"SOPClassesSupported"},"(0008,1160)":{tag:"(0008,1160)",vr:"IS",vm:"1-n",name:"ReferencedFrameNumber"},"(0008,1161)":{tag:"(0008,1161)",vr:"UL",vm:"1-n",name:"SimpleFrameList"},"(0008,1162)":{tag:"(0008,1162)",vr:"UL",vm:"3-3n",name:"CalculatedFrameList"},"(0008,1163)":{tag:"(0008,1163)",vr:"FD",vm:"2",name:"TimeRange"},"(0008,1164)":{tag:"(0008,1164)",vr:"SQ",vm:"1",name:"FrameExtractionSequence"},"(0008,1167)":{tag:"(0008,1167)",vr:"UI",vm:"1",name:"MultiFrameSourceSOPInstanceUID"},"(0008,1195)":{tag:"(0008,1195)",vr:"UI",vm:"1",name:"TransactionUID"},"(0008,1197)":{tag:"(0008,1197)",vr:"US",vm:"1",name:"FailureReason"},"(0008,1198)":{tag:"(0008,1198)",vr:"SQ",vm:"1",name:"FailedSOPSequence"},"(0008,1199)":{tag:"(0008,1199)",vr:"SQ",vm:"1",name:"ReferencedSOPSequence"},"(0008,1200)":{tag:"(0008,1200)",vr:"SQ",vm:"1",name:"StudiesContainingOtherReferencedInstancesSequence"},"(0008,1250)":{tag:"(0008,1250)",vr:"SQ",vm:"1",name:"RelatedSeriesSequence"},"(0008,2110)":{tag:"(0008,2110)",vr:"CS",vm:"1",name:"LossyImageCompressionRetired"},"(0008,2111)":{tag:"(0008,2111)",vr:"ST",vm:"1",name:"DerivationDescription"},"(0008,2112)":{tag:"(0008,2112)",vr:"SQ",vm:"1",name:"SourceImageSequence"},"(0008,2120)":{tag:"(0008,2120)",vr:"SH",vm:"1",name:"StageName"},"(0008,2122)":{tag:"(0008,2122)",vr:"IS",vm:"1",name:"StageNumber"},"(0008,2124)":{tag:"(0008,2124)",vr:"IS",vm:"1",name:"NumberOfStages"},"(0008,2127)":{tag:"(0008,2127)",vr:"SH",vm:"1",name:"ViewName"},"(0008,2128)":{tag:"(0008,2128)",vr:"IS",vm:"1",name:"ViewNumber"},"(0008,2129)":{tag:"(0008,2129)",vr:"IS",vm:"1",name:"NumberOfEventTimers"},"(0008,212A)":{tag:"(0008,212A)",vr:"IS",vm:"1",name:"NumberOfViewsInStage"},"(0008,2130)":{tag:"(0008,2130)",vr:"DS",vm:"1-n",name:"EventElapsedTimes"},"(0008,2132)":{tag:"(0008,2132)",vr:"LO",vm:"1-n",name:"EventTimerNames"},"(0008,2133)":{tag:"(0008,2133)",vr:"SQ",vm:"1",name:"EventTimerSequence"},"(0008,2134)":{tag:"(0008,2134)",vr:"FD",vm:"1",name:"EventTimeOffset"},"(0008,2135)":{tag:"(0008,2135)",vr:"SQ",vm:"1",name:"EventCodeSequence"},"(0008,2142)":{tag:"(0008,2142)",vr:"IS",vm:"1",name:"StartTrim"},"(0008,2143)":{tag:"(0008,2143)",vr:"IS",vm:"1",name:"StopTrim"},"(0008,2144)":{tag:"(0008,2144)",vr:"IS",vm:"1",name:"RecommendedDisplayFrameRate"},"(0008,2200)":{tag:"(0008,2200)",vr:"CS",vm:"1",name:"TransducerPosition"},"(0008,2204)":{tag:"(0008,2204)",vr:"CS",vm:"1",name:"TransducerOrientation"},"(0008,2208)":{tag:"(0008,2208)",vr:"CS",vm:"1",name:"AnatomicStructure"},"(0008,2218)":{tag:"(0008,2218)",vr:"SQ",vm:"1",name:"AnatomicRegionSequence"},"(0008,2220)":{tag:"(0008,2220)",vr:"SQ",vm:"1",name:"AnatomicRegionModifierSequence"},"(0008,2228)":{tag:"(0008,2228)",vr:"SQ",vm:"1",name:"PrimaryAnatomicStructureSequence"},"(0008,2229)":{tag:"(0008,2229)",vr:"SQ",vm:"1",name:"AnatomicStructureSpaceOrRegionSequence"},"(0008,2230)":{tag:"(0008,2230)",vr:"SQ",vm:"1",name:"PrimaryAnatomicStructureModifierSequence"},"(0008,2240)":{tag:"(0008,2240)",vr:"SQ",vm:"1",name:"TransducerPositionSequence"},"(0008,2242)":{tag:"(0008,2242)",vr:"SQ",vm:"1",name:"TransducerPositionModifierSequence"},"(0008,2244)":{tag:"(0008,2244)",vr:"SQ",vm:"1",name:"TransducerOrientationSequence"},"(0008,2246)":{tag:"(0008,2246)",vr:"SQ",vm:"1",name:"TransducerOrientationModifierSequence"},"(0008,2251)":{tag:"(0008,2251)",vr:"SQ",vm:"1",name:"AnatomicStructureSpaceOrRegionCodeSequenceTrial"},"(0008,2253)":{tag:"(0008,2253)",vr:"SQ",vm:"1",name:"AnatomicPortalOfEntranceCodeSequenceTrial"},"(0008,2255)":{tag:"(0008,2255)",vr:"SQ",vm:"1",name:"AnatomicApproachDirectionCodeSequenceTrial"},"(0008,2256)":{tag:"(0008,2256)",vr:"ST",vm:"1",name:"AnatomicPerspectiveDescriptionTrial"},"(0008,2257)":{tag:"(0008,2257)",vr:"SQ",vm:"1",name:"AnatomicPerspectiveCodeSequenceTrial"},"(0008,2258)":{tag:"(0008,2258)",vr:"ST",vm:"1",name:"AnatomicLocationOfExaminingInstrumentDescriptionTrial"},"(0008,2259)":{tag:"(0008,2259)",vr:"SQ",vm:"1",name:"AnatomicLocationOfExaminingInstrumentCodeSequenceTrial"},"(0008,225A)":{tag:"(0008,225A)",vr:"SQ",vm:"1",name:"AnatomicStructureSpaceOrRegionModifierCodeSequenceTrial"},"(0008,225C)":{tag:"(0008,225C)",vr:"SQ",vm:"1",name:"OnAxisBackgroundAnatomicStructureCodeSequenceTrial"},"(0008,3001)":{tag:"(0008,3001)",vr:"SQ",vm:"1",name:"AlternateRepresentationSequence"},"(0008,3010)":{tag:"(0008,3010)",vr:"UI",vm:"1",name:"IrradiationEventUID"},"(0008,4000)":{tag:"(0008,4000)",vr:"LT",vm:"1",name:"IdentifyingComments"},"(0008,9007)":{tag:"(0008,9007)",vr:"CS",vm:"4",name:"FrameType"},"(0008,9092)":{tag:"(0008,9092)",vr:"SQ",vm:"1",name:"ReferencedImageEvidenceSequence"},"(0008,9121)":{tag:"(0008,9121)",vr:"SQ",vm:"1",name:"ReferencedRawDataSequence"},"(0008,9123)":{tag:"(0008,9123)",vr:"UI",vm:"1",name:"CreatorVersionUID"},"(0008,9124)":{tag:"(0008,9124)",vr:"SQ",vm:"1",name:"DerivationImageSequence"},"(0008,9154)":{tag:"(0008,9154)",vr:"SQ",vm:"1",name:"SourceImageEvidenceSequence"},"(0008,9205)":{tag:"(0008,9205)",vr:"CS",vm:"1",name:"PixelPresentation"},"(0008,9206)":{tag:"(0008,9206)",vr:"CS",vm:"1",name:"VolumetricProperties"},"(0008,9207)":{tag:"(0008,9207)",vr:"CS",vm:"1",name:"VolumeBasedCalculationTechnique"},"(0008,9208)":{tag:"(0008,9208)",vr:"CS",vm:"1",name:"ComplexImageComponent"},"(0008,9209)":{tag:"(0008,9209)",vr:"CS",vm:"1",name:"AcquisitionContrast"},"(0008,9215)":{tag:"(0008,9215)",vr:"SQ",vm:"1",name:"DerivationCodeSequence"},"(0008,9237)":{tag:"(0008,9237)",vr:"SQ",vm:"1",name:"ReferencedPresentationStateSequence"},"(0008,9410)":{tag:"(0008,9410)",vr:"SQ",vm:"1",name:"ReferencedOtherPlaneSequence"},"(0008,9458)":{tag:"(0008,9458)",vr:"SQ",vm:"1",name:"FrameDisplaySequence"},"(0008,9459)":{tag:"(0008,9459)",vr:"FL",vm:"1",name:"RecommendedDisplayFrameRateInFloat"},"(0008,9460)":{tag:"(0008,9460)",vr:"CS",vm:"1",name:"SkipFrameRangeFlag"},"(0010,0010)":{tag:"(0010,0010)",vr:"PN",vm:"1",name:"PatientName"},"(0010,0020)":{tag:"(0010,0020)",vr:"LO",vm:"1",name:"PatientID"},"(0010,0021)":{tag:"(0010,0021)",vr:"LO",vm:"1",name:"IssuerOfPatientID"},"(0010,0022)":{tag:"(0010,0022)",vr:"CS",vm:"1",name:"TypeOfPatientID"},"(0010,0024)":{tag:"(0010,0024)",vr:"SQ",vm:"1",name:"IssuerOfPatientIDQualifiersSequence"},"(0010,0030)":{tag:"(0010,0030)",vr:"DA",vm:"1",name:"PatientBirthDate"},"(0010,0032)":{tag:"(0010,0032)",vr:"TM",vm:"1",name:"PatientBirthTime"},"(0010,0040)":{tag:"(0010,0040)",vr:"CS",vm:"1",name:"PatientSex"},"(0010,0050)":{tag:"(0010,0050)",vr:"SQ",vm:"1",name:"PatientInsurancePlanCodeSequence"},"(0010,0101)":{tag:"(0010,0101)",vr:"SQ",vm:"1",name:"PatientPrimaryLanguageCodeSequence"},"(0010,0102)":{tag:"(0010,0102)",vr:"SQ",vm:"1",name:"PatientPrimaryLanguageModifierCodeSequence"},"(0010,1000)":{tag:"(0010,1000)",vr:"LO",vm:"1-n",name:"OtherPatientIDs"},"(0010,1001)":{tag:"(0010,1001)",vr:"PN",vm:"1-n",name:"OtherPatientNames"},"(0010,1002)":{tag:"(0010,1002)",vr:"SQ",vm:"1",name:"OtherPatientIDsSequence"},"(0010,1005)":{tag:"(0010,1005)",vr:"PN",vm:"1",name:"PatientBirthName"},"(0010,1010)":{tag:"(0010,1010)",vr:"AS",vm:"1",name:"PatientAge"},"(0010,1020)":{tag:"(0010,1020)",vr:"DS",vm:"1",name:"PatientSize"},"(0010,1021)":{tag:"(0010,1021)",vr:"SQ",vm:"1",name:"PatientSizeCodeSequence"},"(0010,1030)":{tag:"(0010,1030)",vr:"DS",vm:"1",name:"PatientWeight"},"(0010,1040)":{tag:"(0010,1040)",vr:"LO",vm:"1",name:"PatientAddress"},"(0010,1050)":{tag:"(0010,1050)",vr:"LO",vm:"1-n",name:"InsurancePlanIdentification"},"(0010,1060)":{tag:"(0010,1060)",vr:"PN",vm:"1",name:"PatientMotherBirthName"},"(0010,1080)":{tag:"(0010,1080)",vr:"LO",vm:"1",name:"MilitaryRank"},"(0010,1081)":{tag:"(0010,1081)",vr:"LO",vm:"1",name:"BranchOfService"},"(0010,1090)":{tag:"(0010,1090)",vr:"LO",vm:"1",name:"MedicalRecordLocator"},"(0010,2000)":{tag:"(0010,2000)",vr:"LO",vm:"1-n",name:"MedicalAlerts"},"(0010,2110)":{tag:"(0010,2110)",vr:"LO",vm:"1-n",name:"Allergies"},"(0010,2150)":{tag:"(0010,2150)",vr:"LO",vm:"1",name:"CountryOfResidence"},"(0010,2152)":{tag:"(0010,2152)",vr:"LO",vm:"1",name:"RegionOfResidence"},"(0010,2154)":{tag:"(0010,2154)",vr:"SH",vm:"1-n",name:"PatientTelephoneNumbers"},"(0010,2160)":{tag:"(0010,2160)",vr:"SH",vm:"1",name:"EthnicGroup"},"(0010,2180)":{tag:"(0010,2180)",vr:"SH",vm:"1",name:"Occupation"},"(0010,21A0)":{tag:"(0010,21A0)",vr:"CS",vm:"1",name:"SmokingStatus"},"(0010,21B0)":{tag:"(0010,21B0)",vr:"LT",vm:"1",name:"AdditionalPatientHistory"},"(0010,21C0)":{tag:"(0010,21C0)",vr:"US",vm:"1",name:"PregnancyStatus"},"(0010,21D0)":{tag:"(0010,21D0)",vr:"DA",vm:"1",name:"LastMenstrualDate"},"(0010,21F0)":{tag:"(0010,21F0)",vr:"LO",vm:"1",name:"PatientReligiousPreference"},"(0010,2201)":{tag:"(0010,2201)",vr:"LO",vm:"1",name:"PatientSpeciesDescription"},"(0010,2202)":{tag:"(0010,2202)",vr:"SQ",vm:"1",name:"PatientSpeciesCodeSequence"},"(0010,2203)":{tag:"(0010,2203)",vr:"CS",vm:"1",name:"PatientSexNeutered"},"(0010,2210)":{tag:"(0010,2210)",vr:"CS",vm:"1",name:"AnatomicalOrientationType"},"(0010,2292)":{tag:"(0010,2292)",vr:"LO",vm:"1",name:"PatientBreedDescription"},"(0010,2293)":{tag:"(0010,2293)",vr:"SQ",vm:"1",name:"PatientBreedCodeSequence"},"(0010,2294)":{tag:"(0010,2294)",vr:"SQ",vm:"1",name:"BreedRegistrationSequence"},"(0010,2295)":{tag:"(0010,2295)",vr:"LO",vm:"1",name:"BreedRegistrationNumber"},"(0010,2296)":{tag:"(0010,2296)",vr:"SQ",vm:"1",name:"BreedRegistryCodeSequence"},"(0010,2297)":{tag:"(0010,2297)",vr:"PN",vm:"1",name:"ResponsiblePerson"},"(0010,2298)":{tag:"(0010,2298)",vr:"CS",vm:"1",name:"ResponsiblePersonRole"},"(0010,2299)":{tag:"(0010,2299)",vr:"LO",vm:"1",name:"ResponsibleOrganization"},"(0010,4000)":{tag:"(0010,4000)",vr:"LT",vm:"1",name:"PatientComments"},"(0010,9431)":{tag:"(0010,9431)",vr:"FL",vm:"1",name:"ExaminedBodyThickness"},"(0012,0010)":{tag:"(0012,0010)",vr:"LO",vm:"1",name:"ClinicalTrialSponsorName"},"(0012,0020)":{tag:"(0012,0020)",vr:"LO",vm:"1",name:"ClinicalTrialProtocolID"},"(0012,0021)":{tag:"(0012,0021)",vr:"LO",vm:"1",name:"ClinicalTrialProtocolName"},"(0012,0030)":{tag:"(0012,0030)",vr:"LO",vm:"1",name:"ClinicalTrialSiteID"},"(0012,0031)":{tag:"(0012,0031)",vr:"LO",vm:"1",name:"ClinicalTrialSiteName"},"(0012,0040)":{tag:"(0012,0040)",vr:"LO",vm:"1",name:"ClinicalTrialSubjectID"},"(0012,0042)":{tag:"(0012,0042)",vr:"LO",vm:"1",name:"ClinicalTrialSubjectReadingID"},"(0012,0050)":{tag:"(0012,0050)",vr:"LO",vm:"1",name:"ClinicalTrialTimePointID"},"(0012,0051)":{tag:"(0012,0051)",vr:"ST",vm:"1",name:"ClinicalTrialTimePointDescription"},"(0012,0060)":{tag:"(0012,0060)",vr:"LO",vm:"1",name:"ClinicalTrialCoordinatingCenterName"},"(0012,0062)":{tag:"(0012,0062)",vr:"CS",vm:"1",name:"PatientIdentityRemoved"},"(0012,0063)":{tag:"(0012,0063)",vr:"LO",vm:"1-n",name:"DeidentificationMethod"},"(0012,0064)":{tag:"(0012,0064)",vr:"SQ",vm:"1",name:"DeidentificationMethodCodeSequence"},"(0012,0071)":{tag:"(0012,0071)",vr:"LO",vm:"1",name:"ClinicalTrialSeriesID"},"(0012,0072)":{tag:"(0012,0072)",vr:"LO",vm:"1",name:"ClinicalTrialSeriesDescription"},"(0012,0081)":{tag:"(0012,0081)",vr:"LO",vm:"1",name:"ClinicalTrialProtocolEthicsCommitteeName"},"(0012,0082)":{tag:"(0012,0082)",vr:"LO",vm:"1",name:"ClinicalTrialProtocolEthicsCommitteeApprovalNumber"},"(0012,0083)":{tag:"(0012,0083)",vr:"SQ",vm:"1",name:"ConsentForClinicalTrialUseSequence"},"(0012,0084)":{tag:"(0012,0084)",vr:"CS",vm:"1",name:"DistributionType"},"(0012,0085)":{tag:"(0012,0085)",vr:"CS",vm:"1",name:"ConsentForDistributionFlag"},"(0014,0023)":{tag:"(0014,0023)",vr:"ST",vm:"1-n",name:"CADFileFormat"},"(0014,0024)":{tag:"(0014,0024)",vr:"ST",vm:"1-n",name:"ComponentReferenceSystem"},"(0014,0025)":{tag:"(0014,0025)",vr:"ST",vm:"1-n",name:"ComponentManufacturingProcedure"},"(0014,0028)":{tag:"(0014,0028)",vr:"ST",vm:"1-n",name:"ComponentManufacturer"},"(0014,0030)":{tag:"(0014,0030)",vr:"DS",vm:"1-n",name:"MaterialThickness"},"(0014,0032)":{tag:"(0014,0032)",vr:"DS",vm:"1-n",name:"MaterialPipeDiameter"},"(0014,0034)":{tag:"(0014,0034)",vr:"DS",vm:"1-n",name:"MaterialIsolationDiameter"},"(0014,0042)":{tag:"(0014,0042)",vr:"ST",vm:"1-n",name:"MaterialGrade"},"(0014,0044)":{tag:"(0014,0044)",vr:"ST",vm:"1-n",name:"MaterialPropertiesFileID"},"(0014,0045)":{tag:"(0014,0045)",vr:"ST",vm:"1-n",name:"MaterialPropertiesFileFormat"},"(0014,0046)":{tag:"(0014,0046)",vr:"LT",vm:"1",name:"MaterialNotes"},"(0014,0050)":{tag:"(0014,0050)",vr:"CS",vm:"1",name:"ComponentShape"},"(0014,0052)":{tag:"(0014,0052)",vr:"CS",vm:"1",name:"CurvatureType"},"(0014,0054)":{tag:"(0014,0054)",vr:"DS",vm:"1",name:"OuterDiameter"},"(0014,0056)":{tag:"(0014,0056)",vr:"DS",vm:"1",name:"InnerDiameter"},"(0014,1010)":{tag:"(0014,1010)",vr:"ST",vm:"1",name:"ActualEnvironmentalConditions"},"(0014,1020)":{tag:"(0014,1020)",vr:"DA",vm:"1",name:"ExpiryDate"},"(0014,1040)":{tag:"(0014,1040)",vr:"ST",vm:"1",name:"EnvironmentalConditions"},"(0014,2002)":{tag:"(0014,2002)",vr:"SQ",vm:"1",name:"EvaluatorSequence"},"(0014,2004)":{tag:"(0014,2004)",vr:"IS",vm:"1",name:"EvaluatorNumber"},"(0014,2006)":{tag:"(0014,2006)",vr:"PN",vm:"1",name:"EvaluatorName"},"(0014,2008)":{tag:"(0014,2008)",vr:"IS",vm:"1",name:"EvaluationAttempt"},"(0014,2012)":{tag:"(0014,2012)",vr:"SQ",vm:"1",name:"IndicationSequence"},"(0014,2014)":{tag:"(0014,2014)",vr:"IS",vm:"1",name:"IndicationNumber "},"(0014,2016)":{tag:"(0014,2016)",vr:"SH",vm:"1",name:"IndicationLabel"},"(0014,2018)":{tag:"(0014,2018)",vr:"ST",vm:"1",name:"IndicationDescription"},"(0014,201A)":{tag:"(0014,201A)",vr:"CS",vm:"1-n",name:"IndicationType"},"(0014,201C)":{tag:"(0014,201C)",vr:"CS",vm:"1",name:"IndicationDisposition"},"(0014,201E)":{tag:"(0014,201E)",vr:"SQ",vm:"1",name:"IndicationROISequence"},"(0014,2030)":{tag:"(0014,2030)",vr:"SQ",vm:"1",name:"IndicationPhysicalPropertySequence"},"(0014,2032)":{tag:"(0014,2032)",vr:"SH",vm:"1",name:"PropertyLabel"},"(0014,2202)":{tag:"(0014,2202)",vr:"IS",vm:"1",name:"CoordinateSystemNumberOfAxes "},"(0014,2204)":{tag:"(0014,2204)",vr:"SQ",vm:"1",name:"CoordinateSystemAxesSequence"},"(0014,2206)":{tag:"(0014,2206)",vr:"ST",vm:"1",name:"CoordinateSystemAxisDescription"},"(0014,2208)":{tag:"(0014,2208)",vr:"CS",vm:"1",name:"CoordinateSystemDataSetMapping"},"(0014,220A)":{tag:"(0014,220A)",vr:"IS",vm:"1",name:"CoordinateSystemAxisNumber"},"(0014,220C)":{tag:"(0014,220C)",vr:"CS",vm:"1",name:"CoordinateSystemAxisType"},"(0014,220E)":{tag:"(0014,220E)",vr:"CS",vm:"1",name:"CoordinateSystemAxisUnits"},"(0014,2210)":{tag:"(0014,2210)",vr:"OB",vm:"1",name:"CoordinateSystemAxisValues"},"(0014,2220)":{tag:"(0014,2220)",vr:"SQ",vm:"1",name:"CoordinateSystemTransformSequence"},"(0014,2222)":{tag:"(0014,2222)",vr:"ST",vm:"1",name:"TransformDescription"},"(0014,2224)":{tag:"(0014,2224)",vr:"IS",vm:"1",name:"TransformNumberOfAxes"},"(0014,2226)":{tag:"(0014,2226)",vr:"IS",vm:"1-n",name:"TransformOrderOfAxes"},"(0014,2228)":{tag:"(0014,2228)",vr:"CS",vm:"1",name:"TransformedAxisUnits"},"(0014,222A)":{tag:"(0014,222A)",vr:"DS",vm:"1-n",name:"CoordinateSystemTransformRotationAndScaleMatrix"},"(0014,222C)":{tag:"(0014,222C)",vr:"DS",vm:"1-n",name:"CoordinateSystemTransformTranslationMatrix"},"(0014,3011)":{tag:"(0014,3011)",vr:"DS",vm:"1",name:"InternalDetectorFrameTime"},"(0014,3012)":{tag:"(0014,3012)",vr:"DS",vm:"1",name:"NumberOfFramesIntegrated"},"(0014,3020)":{tag:"(0014,3020)",vr:"SQ",vm:"1",name:"DetectorTemperatureSequence"},"(0014,3022)":{tag:"(0014,3022)",vr:"DS",vm:"1",name:"SensorName"},"(0014,3024)":{tag:"(0014,3024)",vr:"DS",vm:"1",name:"HorizontalOffsetOfSensor"},"(0014,3026)":{tag:"(0014,3026)",vr:"DS",vm:"1",name:"VerticalOffsetOfSensor"},"(0014,3028)":{tag:"(0014,3028)",vr:"DS",vm:"1",name:"SensorTemperature"},"(0014,3040)":{tag:"(0014,3040)",vr:"SQ",vm:"1",name:"DarkCurrentSequence"},"(0014,3050)":{tag:"(0014,3050)",vr:"OB|OW",vm:"1",name:"DarkCurrentCounts"},"(0014,3060)":{tag:"(0014,3060)",vr:"SQ",vm:"1",name:"GainCorrectionReferenceSequence"},"(0014,3070)":{tag:"(0014,3070)",vr:"OB|OW",vm:"1",name:"AirCounts"},"(0014,3071)":{tag:"(0014,3071)",vr:"DS",vm:"1",name:"KVUsedInGainCalibration"},"(0014,3072)":{tag:"(0014,3072)",vr:"DS",vm:"1",name:"MAUsedInGainCalibration"},"(0014,3073)":{tag:"(0014,3073)",vr:"DS",vm:"1",name:"NumberOfFramesUsedForIntegration"},"(0014,3074)":{tag:"(0014,3074)",vr:"LO",vm:"1",name:"FilterMaterialUsedInGainCalibration"},"(0014,3075)":{tag:"(0014,3075)",vr:"DS",vm:"1",name:"FilterThicknessUsedInGainCalibration"},"(0014,3076)":{tag:"(0014,3076)",vr:"DA",vm:"1",name:"DateOfGainCalibration"},"(0014,3077)":{tag:"(0014,3077)",vr:"TM",vm:"1",name:"TimeOfGainCalibration"},"(0014,3080)":{tag:"(0014,3080)",vr:"OB",vm:"1",name:"BadPixelImage"},"(0014,3099)":{tag:"(0014,3099)",vr:"LT",vm:"1",name:"CalibrationNotes"},"(0014,4002)":{tag:"(0014,4002)",vr:"SQ",vm:"1",name:"PulserEquipmentSequence"},"(0014,4004)":{tag:"(0014,4004)",vr:"CS",vm:"1",name:"PulserType"},"(0014,4006)":{tag:"(0014,4006)",vr:"LT",vm:"1",name:"PulserNotes"},"(0014,4008)":{tag:"(0014,4008)",vr:"SQ",vm:"1",name:"ReceiverEquipmentSequence"},"(0014,400A)":{tag:"(0014,400A)",vr:"CS",vm:"1",name:"AmplifierType"},"(0014,400C)":{tag:"(0014,400C)",vr:"LT",vm:"1",name:"ReceiverNotes"},"(0014,400E)":{tag:"(0014,400E)",vr:"SQ",vm:"1",name:"PreAmplifierEquipmentSequence"},"(0014,400F)":{tag:"(0014,400F)",vr:"LT",vm:"1",name:"PreAmplifierNotes"},"(0014,4010)":{tag:"(0014,4010)",vr:"SQ",vm:"1",name:"TransmitTransducerSequence"},"(0014,4011)":{tag:"(0014,4011)",vr:"SQ",vm:"1",name:"ReceiveTransducerSequence"},"(0014,4012)":{tag:"(0014,4012)",vr:"US",vm:"1",name:"NumberOfElements"},"(0014,4013)":{tag:"(0014,4013)",vr:"CS",vm:"1",name:"ElementShape"},"(0014,4014)":{tag:"(0014,4014)",vr:"DS",vm:"1",name:"ElementDimensionA"},"(0014,4015)":{tag:"(0014,4015)",vr:"DS",vm:"1",name:"ElementDimensionB"},"(0014,4016)":{tag:"(0014,4016)",vr:"DS",vm:"1",name:"ElementPitch"},"(0014,4017)":{tag:"(0014,4017)",vr:"DS",vm:"1",name:"MeasuredBeamDimensionA"},"(0014,4018)":{tag:"(0014,4018)",vr:"DS",vm:"1",name:"MeasuredBeamDimensionB"},"(0014,4019)":{tag:"(0014,4019)",vr:"DS",vm:"1",name:"LocationOfMeasuredBeamDiameter"},"(0014,401A)":{tag:"(0014,401A)",vr:"DS",vm:"1",name:"NominalFrequency"},"(0014,401B)":{tag:"(0014,401B)",vr:"DS",vm:"1",name:"MeasuredCenterFrequency"},"(0014,401C)":{tag:"(0014,401C)",vr:"DS",vm:"1",name:"MeasuredBandwidth"},"(0014,4020)":{tag:"(0014,4020)",vr:"SQ",vm:"1",name:"PulserSettingsSequence"},"(0014,4022)":{tag:"(0014,4022)",vr:"DS",vm:"1",name:"PulseWidth"},"(0014,4024)":{tag:"(0014,4024)",vr:"DS",vm:"1",name:"ExcitationFrequency"},"(0014,4026)":{tag:"(0014,4026)",vr:"CS",vm:"1",name:"ModulationType"},"(0014,4028)":{tag:"(0014,4028)",vr:"DS",vm:"1",name:"Damping"},"(0014,4030)":{tag:"(0014,4030)",vr:"SQ",vm:"1",name:"ReceiverSettingsSequence"},"(0014,4031)":{tag:"(0014,4031)",vr:"DS",vm:"1",name:"AcquiredSoundpathLength"},"(0014,4032)":{tag:"(0014,4032)",vr:"CS",vm:"1",name:"AcquisitionCompressionType"},"(0014,4033)":{tag:"(0014,4033)",vr:"IS",vm:"1",name:"AcquisitionSampleSize"},"(0014,4034)":{tag:"(0014,4034)",vr:"DS",vm:"1",name:"RectifierSmoothing"},"(0014,4035)":{tag:"(0014,4035)",vr:"SQ",vm:"1",name:"DACSequence"},"(0014,4036)":{tag:"(0014,4036)",vr:"CS",vm:"1",name:"DACType"},"(0014,4038)":{tag:"(0014,4038)",vr:"DS",vm:"1-n",name:"DACGainPoints"},"(0014,403A)":{tag:"(0014,403A)",vr:"DS",vm:"1-n",name:"DACTimePoints"},"(0014,403C)":{tag:"(0014,403C)",vr:"DS",vm:"1-n",name:"DACAmplitude"},"(0014,4040)":{tag:"(0014,4040)",vr:"SQ",vm:"1",name:"PreAmplifierSettingsSequence"},"(0014,4050)":{tag:"(0014,4050)",vr:"SQ",vm:"1",name:"TransmitTransducerSettingsSequence"},"(0014,4051)":{tag:"(0014,4051)",vr:"SQ",vm:"1",name:"ReceiveTransducerSettingsSequence"},"(0014,4052)":{tag:"(0014,4052)",vr:"DS",vm:"1",name:"IncidentAngle"},"(0014,4054)":{tag:"(0014,4054)",vr:"ST",vm:"1",name:"CouplingTechnique"},"(0014,4056)":{tag:"(0014,4056)",vr:"ST",vm:"1",name:"CouplingMedium"},"(0014,4057)":{tag:"(0014,4057)",vr:"DS",vm:"1",name:"CouplingVelocity"},"(0014,4058)":{tag:"(0014,4058)",vr:"DS",vm:"1",name:"CrystalCenterLocationX"},"(0014,4059)":{tag:"(0014,4059)",vr:"DS",vm:"1",name:"CrystalCenterLocationZ"},"(0014,405A)":{tag:"(0014,405A)",vr:"DS",vm:"1",name:"SoundPathLength"},"(0014,405C)":{tag:"(0014,405C)",vr:"ST",vm:"1",name:"DelayLawIdentifier"},"(0014,4060)":{tag:"(0014,4060)",vr:"SQ",vm:"1",name:"GateSettingsSequence"},"(0014,4062)":{tag:"(0014,4062)",vr:"DS",vm:"1",name:"GateThreshold"},"(0014,4064)":{tag:"(0014,4064)",vr:"DS",vm:"1",name:"VelocityOfSound"},"(0014,4070)":{tag:"(0014,4070)",vr:"SQ",vm:"1",name:"CalibrationSettingsSequence"},"(0014,4072)":{tag:"(0014,4072)",vr:"ST",vm:"1",name:"CalibrationProcedure"},"(0014,4074)":{tag:"(0014,4074)",vr:"SH",vm:"1",name:"ProcedureVersion"},"(0014,4076)":{tag:"(0014,4076)",vr:"DA",vm:"1",name:"ProcedureCreationDate"},"(0014,4078)":{tag:"(0014,4078)",vr:"DA",vm:"1",name:"ProcedureExpirationDate"},"(0014,407A)":{tag:"(0014,407A)",vr:"DA",vm:"1",name:"ProcedureLastModifiedDate"},"(0014,407C)":{tag:"(0014,407C)",vr:"TM",vm:"1-n",name:"CalibrationTime"},"(0014,407E)":{tag:"(0014,407E)",vr:"DA",vm:"1-n",name:"CalibrationDate"},"(0014,5002)":{tag:"(0014,5002)",vr:"IS",vm:"1",name:"LINACEnergy"},"(0014,5004)":{tag:"(0014,5004)",vr:"IS",vm:"1",name:"LINACOutput"},"(0018,0010)":{tag:"(0018,0010)",vr:"LO",vm:"1",name:"ContrastBolusAgent"},"(0018,0012)":{tag:"(0018,0012)",vr:"SQ",vm:"1",name:"ContrastBolusAgentSequence"},"(0018,0014)":{tag:"(0018,0014)",vr:"SQ",vm:"1",name:"ContrastBolusAdministrationRouteSequence"},"(0018,0015)":{tag:"(0018,0015)",vr:"CS",vm:"1",name:"BodyPartExamined"},"(0018,0020)":{tag:"(0018,0020)",vr:"CS",vm:"1-n",name:"ScanningSequence"},"(0018,0021)":{tag:"(0018,0021)",vr:"CS",vm:"1-n",name:"SequenceVariant"},"(0018,0022)":{tag:"(0018,0022)",vr:"CS",vm:"1-n",name:"ScanOptions"},"(0018,0023)":{tag:"(0018,0023)",vr:"CS",vm:"1",name:"MRAcquisitionType"},"(0018,0024)":{tag:"(0018,0024)",vr:"SH",vm:"1",name:"SequenceName"},"(0018,0025)":{tag:"(0018,0025)",vr:"CS",vm:"1",name:"AngioFlag"},"(0018,0026)":{tag:"(0018,0026)",vr:"SQ",vm:"1",name:"InterventionDrugInformationSequence"},"(0018,0027)":{tag:"(0018,0027)",vr:"TM",vm:"1",name:"InterventionDrugStopTime"},"(0018,0028)":{tag:"(0018,0028)",vr:"DS",vm:"1",name:"InterventionDrugDose"},"(0018,0029)":{tag:"(0018,0029)",vr:"SQ",vm:"1",name:"InterventionDrugCodeSequence"},"(0018,002A)":{tag:"(0018,002A)",vr:"SQ",vm:"1",name:"AdditionalDrugSequence"},"(0018,0030)":{tag:"(0018,0030)",vr:"LO",vm:"1-n",name:"Radionuclide"},"(0018,0031)":{tag:"(0018,0031)",vr:"LO",vm:"1",name:"Radiopharmaceutical"},"(0018,0032)":{tag:"(0018,0032)",vr:"DS",vm:"1",name:"EnergyWindowCenterline"},"(0018,0033)":{tag:"(0018,0033)",vr:"DS",vm:"1-n",name:"EnergyWindowTotalWidth"},"(0018,0034)":{tag:"(0018,0034)",vr:"LO",vm:"1",name:"InterventionDrugName"},"(0018,0035)":{tag:"(0018,0035)",vr:"TM",vm:"1",name:"InterventionDrugStartTime"},"(0018,0036)":{tag:"(0018,0036)",vr:"SQ",vm:"1",name:"InterventionSequence"},"(0018,0037)":{tag:"(0018,0037)",vr:"CS",vm:"1",name:"TherapyType"},"(0018,0038)":{tag:"(0018,0038)",vr:"CS",vm:"1",name:"InterventionStatus"},"(0018,0039)":{tag:"(0018,0039)",vr:"CS",vm:"1",name:"TherapyDescription"},"(0018,003A)":{tag:"(0018,003A)",vr:"ST",vm:"1",name:"InterventionDescription"},"(0018,0040)":{tag:"(0018,0040)",vr:"IS",vm:"1",name:"CineRate"},"(0018,0042)":{tag:"(0018,0042)",vr:"CS",vm:"1",name:"InitialCineRunState"},"(0018,0050)":{tag:"(0018,0050)",vr:"DS",vm:"1",name:"SliceThickness"},"(0018,0060)":{tag:"(0018,0060)",vr:"DS",vm:"1",name:"KVP"},"(0018,0070)":{tag:"(0018,0070)",vr:"IS",vm:"1",name:"CountsAccumulated"},"(0018,0071)":{tag:"(0018,0071)",vr:"CS",vm:"1",name:"AcquisitionTerminationCondition"},"(0018,0072)":{tag:"(0018,0072)",vr:"DS",vm:"1",name:"EffectiveDuration"},"(0018,0073)":{tag:"(0018,0073)",vr:"CS",vm:"1",name:"AcquisitionStartCondition"},"(0018,0074)":{tag:"(0018,0074)",vr:"IS",vm:"1",name:"AcquisitionStartConditionData"},"(0018,0075)":{tag:"(0018,0075)",vr:"IS",vm:"1",name:"AcquisitionTerminationConditionData"},"(0018,0080)":{tag:"(0018,0080)",vr:"DS",vm:"1",name:"RepetitionTime"},"(0018,0081)":{tag:"(0018,0081)",vr:"DS",vm:"1",name:"EchoTime"},"(0018,0082)":{tag:"(0018,0082)",vr:"DS",vm:"1",name:"InversionTime"},"(0018,0083)":{tag:"(0018,0083)",vr:"DS",vm:"1",name:"NumberOfAverages"},"(0018,0084)":{tag:"(0018,0084)",vr:"DS",vm:"1",name:"ImagingFrequency"},"(0018,0085)":{tag:"(0018,0085)",vr:"SH",vm:"1",name:"ImagedNucleus"},"(0018,0086)":{tag:"(0018,0086)",vr:"IS",vm:"1-n",name:"EchoNumbers"},"(0018,0087)":{tag:"(0018,0087)",vr:"DS",vm:"1",name:"MagneticFieldStrength"},"(0018,0088)":{tag:"(0018,0088)",vr:"DS",vm:"1",name:"SpacingBetweenSlices"},"(0018,0089)":{tag:"(0018,0089)",vr:"IS",vm:"1",name:"NumberOfPhaseEncodingSteps"},"(0018,0090)":{tag:"(0018,0090)",vr:"DS",vm:"1",name:"DataCollectionDiameter"},"(0018,0091)":{tag:"(0018,0091)",vr:"IS",vm:"1",name:"EchoTrainLength"},"(0018,0093)":{tag:"(0018,0093)",vr:"DS",vm:"1",name:"PercentSampling"},"(0018,0094)":{tag:"(0018,0094)",vr:"DS",vm:"1",name:"PercentPhaseFieldOfView"},"(0018,0095)":{tag:"(0018,0095)",vr:"DS",vm:"1",name:"PixelBandwidth"},"(0018,1000)":{tag:"(0018,1000)",vr:"LO",vm:"1",name:"DeviceSerialNumber"},"(0018,1002)":{tag:"(0018,1002)",vr:"UI",vm:"1",name:"DeviceUID"},"(0018,1003)":{tag:"(0018,1003)",vr:"LO",vm:"1",name:"DeviceID"},"(0018,1004)":{tag:"(0018,1004)",vr:"LO",vm:"1",name:"PlateID"},"(0018,1005)":{tag:"(0018,1005)",vr:"LO",vm:"1",name:"GeneratorID"},"(0018,1006)":{tag:"(0018,1006)",vr:"LO",vm:"1",name:"GridID"},"(0018,1007)":{tag:"(0018,1007)",vr:"LO",vm:"1",name:"CassetteID"},"(0018,1008)":{tag:"(0018,1008)",vr:"LO",vm:"1",name:"GantryID"},"(0018,1010)":{tag:"(0018,1010)",vr:"LO",vm:"1",name:"SecondaryCaptureDeviceID"},"(0018,1011)":{tag:"(0018,1011)",vr:"LO",vm:"1",name:"HardcopyCreationDeviceID"},"(0018,1012)":{tag:"(0018,1012)",vr:"DA",vm:"1",name:"DateOfSecondaryCapture"},"(0018,1014)":{tag:"(0018,1014)",vr:"TM",vm:"1",name:"TimeOfSecondaryCapture"},"(0018,1016)":{tag:"(0018,1016)",vr:"LO",vm:"1",name:"SecondaryCaptureDeviceManufacturer"},"(0018,1017)":{tag:"(0018,1017)",vr:"LO",vm:"1",name:"HardcopyDeviceManufacturer"},"(0018,1018)":{tag:"(0018,1018)",vr:"LO",vm:"1",name:"SecondaryCaptureDeviceManufacturerModelName"},"(0018,1019)":{tag:"(0018,1019)",vr:"LO",vm:"1-n",name:"SecondaryCaptureDeviceSoftwareVersions"},"(0018,101A)":{tag:"(0018,101A)",vr:"LO",vm:"1-n",name:"HardcopyDeviceSoftwareVersion"},"(0018,101B)":{tag:"(0018,101B)",vr:"LO",vm:"1",name:"HardcopyDeviceManufacturerModelName"},"(0018,1020)":{tag:"(0018,1020)",vr:"LO",vm:"1-n",name:"SoftwareVersions"},"(0018,1022)":{tag:"(0018,1022)",vr:"SH",vm:"1",name:"VideoImageFormatAcquired"},"(0018,1023)":{tag:"(0018,1023)",vr:"LO",vm:"1",name:"DigitalImageFormatAcquired"},"(0018,1030)":{tag:"(0018,1030)",vr:"LO",vm:"1",name:"ProtocolName"},"(0018,1040)":{tag:"(0018,1040)",vr:"LO",vm:"1",name:"ContrastBolusRoute"},"(0018,1041)":{tag:"(0018,1041)",vr:"DS",vm:"1",name:"ContrastBolusVolume"},"(0018,1042)":{tag:"(0018,1042)",vr:"TM",vm:"1",name:"ContrastBolusStartTime"},"(0018,1043)":{tag:"(0018,1043)",vr:"TM",vm:"1",name:"ContrastBolusStopTime"},"(0018,1044)":{tag:"(0018,1044)",vr:"DS",vm:"1",name:"ContrastBolusTotalDose"},"(0018,1045)":{tag:"(0018,1045)",vr:"IS",vm:"1",name:"SyringeCounts"},"(0018,1046)":{tag:"(0018,1046)",vr:"DS",vm:"1-n",name:"ContrastFlowRate"},"(0018,1047)":{tag:"(0018,1047)",vr:"DS",vm:"1-n",name:"ContrastFlowDuration"},"(0018,1048)":{tag:"(0018,1048)",vr:"CS",vm:"1",name:"ContrastBolusIngredient"},"(0018,1049)":{tag:"(0018,1049)",vr:"DS",vm:"1",name:"ContrastBolusIngredientConcentration"},"(0018,1050)":{tag:"(0018,1050)",vr:"DS",vm:"1",name:"SpatialResolution"},"(0018,1060)":{tag:"(0018,1060)",vr:"DS",vm:"1",name:"TriggerTime"},"(0018,1061)":{tag:"(0018,1061)",vr:"LO",vm:"1",name:"TriggerSourceOrType"},"(0018,1062)":{tag:"(0018,1062)",vr:"IS",vm:"1",name:"NominalInterval"},"(0018,1063)":{tag:"(0018,1063)",vr:"DS",vm:"1",name:"FrameTime"},"(0018,1064)":{tag:"(0018,1064)",vr:"LO",vm:"1",name:"CardiacFramingType"},"(0018,1065)":{tag:"(0018,1065)",vr:"DS",vm:"1-n",name:"FrameTimeVector"},"(0018,1066)":{tag:"(0018,1066)",vr:"DS",vm:"1",name:"FrameDelay"},"(0018,1067)":{tag:"(0018,1067)",vr:"DS",vm:"1",name:"ImageTriggerDelay"},"(0018,1068)":{tag:"(0018,1068)",vr:"DS",vm:"1",name:"MultiplexGroupTimeOffset"},"(0018,1069)":{tag:"(0018,1069)",vr:"DS",vm:"1",name:"TriggerTimeOffset"},"(0018,106A)":{tag:"(0018,106A)",vr:"CS",vm:"1",name:"SynchronizationTrigger"},"(0018,106C)":{tag:"(0018,106C)",vr:"US",vm:"2",name:"SynchronizationChannel"},"(0018,106E)":{tag:"(0018,106E)",vr:"UL",vm:"1",name:"TriggerSamplePosition"},"(0018,1070)":{tag:"(0018,1070)",vr:"LO",vm:"1",name:"RadiopharmaceuticalRoute"},"(0018,1071)":{tag:"(0018,1071)",vr:"DS",vm:"1",name:"RadiopharmaceuticalVolume"},"(0018,1072)":{tag:"(0018,1072)",vr:"TM",vm:"1",name:"RadiopharmaceuticalStartTime"},"(0018,1073)":{tag:"(0018,1073)",vr:"TM",vm:"1",name:"RadiopharmaceuticalStopTime"},"(0018,1074)":{tag:"(0018,1074)",vr:"DS",vm:"1",name:"RadionuclideTotalDose"},"(0018,1075)":{tag:"(0018,1075)",vr:"DS",vm:"1",name:"RadionuclideHalfLife"},"(0018,1076)":{tag:"(0018,1076)",vr:"DS",vm:"1",name:"RadionuclidePositronFraction"},"(0018,1077)":{tag:"(0018,1077)",vr:"DS",vm:"1",name:"RadiopharmaceuticalSpecificActivity"},"(0018,1078)":{tag:"(0018,1078)",vr:"DT",vm:"1",name:"RadiopharmaceuticalStartDateTime"},"(0018,1079)":{tag:"(0018,1079)",vr:"DT",vm:"1",name:"RadiopharmaceuticalStopDateTime"},"(0018,1080)":{tag:"(0018,1080)",vr:"CS",vm:"1",name:"BeatRejectionFlag"},"(0018,1081)":{tag:"(0018,1081)",vr:"IS",vm:"1",name:"LowRRValue"},"(0018,1082)":{tag:"(0018,1082)",vr:"IS",vm:"1",name:"HighRRValue"},"(0018,1083)":{tag:"(0018,1083)",vr:"IS",vm:"1",name:"IntervalsAcquired"},"(0018,1084)":{tag:"(0018,1084)",vr:"IS",vm:"1",name:"IntervalsRejected"},"(0018,1085)":{tag:"(0018,1085)",vr:"LO",vm:"1",name:"PVCRejection"},"(0018,1086)":{tag:"(0018,1086)",vr:"IS",vm:"1",name:"SkipBeats"},"(0018,1088)":{tag:"(0018,1088)",vr:"IS",vm:"1",name:"HeartRate"},"(0018,1090)":{tag:"(0018,1090)",vr:"IS",vm:"1",name:"CardiacNumberOfImages"},"(0018,1094)":{tag:"(0018,1094)",vr:"IS",vm:"1",name:"TriggerWindow"},"(0018,1100)":{tag:"(0018,1100)",vr:"DS",vm:"1",name:"ReconstructionDiameter"},"(0018,1110)":{tag:"(0018,1110)",vr:"DS",vm:"1",name:"DistanceSourceToDetector"},"(0018,1111)":{tag:"(0018,1111)",vr:"DS",vm:"1",name:"DistanceSourceToPatient"},"(0018,1114)":{tag:"(0018,1114)",vr:"DS",vm:"1",name:"EstimatedRadiographicMagnificationFactor"},"(0018,1120)":{tag:"(0018,1120)",vr:"DS",vm:"1",name:"GantryDetectorTilt"},"(0018,1121)":{tag:"(0018,1121)",vr:"DS",vm:"1",name:"GantryDetectorSlew"},"(0018,1130)":{tag:"(0018,1130)",vr:"DS",vm:"1",name:"TableHeight"},"(0018,1131)":{tag:"(0018,1131)",vr:"DS",vm:"1",name:"TableTraverse"},"(0018,1134)":{tag:"(0018,1134)",vr:"CS",vm:"1",name:"TableMotion"},"(0018,1135)":{tag:"(0018,1135)",vr:"DS",vm:"1-n",name:"TableVerticalIncrement"},"(0018,1136)":{tag:"(0018,1136)",vr:"DS",vm:"1-n",name:"TableLateralIncrement"},"(0018,1137)":{tag:"(0018,1137)",vr:"DS",vm:"1-n",name:"TableLongitudinalIncrement"},"(0018,1138)":{tag:"(0018,1138)",vr:"DS",vm:"1",name:"TableAngle"},"(0018,113A)":{tag:"(0018,113A)",vr:"CS",vm:"1",name:"TableType"},"(0018,1140)":{tag:"(0018,1140)",vr:"CS",vm:"1",name:"RotationDirection"},"(0018,1141)":{tag:"(0018,1141)",vr:"DS",vm:"1",name:"AngularPosition"},"(0018,1142)":{tag:"(0018,1142)",vr:"DS",vm:"1-n",name:"RadialPosition"},"(0018,1143)":{tag:"(0018,1143)",vr:"DS",vm:"1",name:"ScanArc"},"(0018,1144)":{tag:"(0018,1144)",vr:"DS",vm:"1",name:"AngularStep"},"(0018,1145)":{tag:"(0018,1145)",vr:"DS",vm:"1",name:"CenterOfRotationOffset"},"(0018,1146)":{tag:"(0018,1146)",vr:"DS",vm:"1-n",name:"RotationOffset"},"(0018,1147)":{tag:"(0018,1147)",vr:"CS",vm:"1",name:"FieldOfViewShape"},"(0018,1149)":{tag:"(0018,1149)",vr:"IS",vm:"1-2",name:"FieldOfViewDimensions"},"(0018,1150)":{tag:"(0018,1150)",vr:"IS",vm:"1",name:"ExposureTime"},"(0018,1151)":{tag:"(0018,1151)",vr:"IS",vm:"1",name:"XRayTubeCurrent"},"(0018,1152)":{tag:"(0018,1152)",vr:"IS",vm:"1",name:"Exposure"},"(0018,1153)":{tag:"(0018,1153)",vr:"IS",vm:"1",name:"ExposureInuAs"},"(0018,1154)":{tag:"(0018,1154)",vr:"DS",vm:"1",name:"AveragePulseWidth"},"(0018,1155)":{tag:"(0018,1155)",vr:"CS",vm:"1",name:"RadiationSetting"},"(0018,1156)":{tag:"(0018,1156)",vr:"CS",vm:"1",name:"RectificationType"},"(0018,115A)":{tag:"(0018,115A)",vr:"CS",vm:"1",name:"RadiationMode"},"(0018,115E)":{tag:"(0018,115E)",vr:"DS",vm:"1",name:"ImageAndFluoroscopyAreaDoseProduct"},"(0018,1160)":{tag:"(0018,1160)",vr:"SH",vm:"1",name:"FilterType"},"(0018,1161)":{tag:"(0018,1161)",vr:"LO",vm:"1-n",name:"TypeOfFilters"},"(0018,1162)":{tag:"(0018,1162)",vr:"DS",vm:"1",name:"IntensifierSize"},"(0018,1164)":{tag:"(0018,1164)",vr:"DS",vm:"2",name:"ImagerPixelSpacing"},"(0018,1166)":{tag:"(0018,1166)",vr:"CS",vm:"1-n",name:"Grid"},"(0018,1170)":{tag:"(0018,1170)",vr:"IS",vm:"1",name:"GeneratorPower"},"(0018,1180)":{tag:"(0018,1180)",vr:"SH",vm:"1",name:"CollimatorGridName"},"(0018,1181)":{tag:"(0018,1181)",vr:"CS",vm:"1",name:"CollimatorType"},"(0018,1182)":{tag:"(0018,1182)",vr:"IS",vm:"1-2",name:"FocalDistance"},"(0018,1183)":{tag:"(0018,1183)",vr:"DS",vm:"1-2",name:"XFocusCenter"},"(0018,1184)":{tag:"(0018,1184)",vr:"DS",vm:"1-2",name:"YFocusCenter"},"(0018,1190)":{tag:"(0018,1190)",vr:"DS",vm:"1-n",name:"FocalSpots"},"(0018,1191)":{tag:"(0018,1191)",vr:"CS",vm:"1",name:"AnodeTargetMaterial"},"(0018,11A0)":{tag:"(0018,11A0)",vr:"DS",vm:"1",name:"BodyPartThickness"},"(0018,11A2)":{tag:"(0018,11A2)",vr:"DS",vm:"1",name:"CompressionForce"},"(0018,1200)":{tag:"(0018,1200)",vr:"DA",vm:"1-n",name:"DateOfLastCalibration"},"(0018,1201)":{tag:"(0018,1201)",vr:"TM",vm:"1-n",name:"TimeOfLastCalibration"},"(0018,1210)":{tag:"(0018,1210)",vr:"SH",vm:"1-n",name:"ConvolutionKernel"},"(0018,1240)":{tag:"(0018,1240)",vr:"IS",vm:"1-n",name:"UpperLowerPixelValues"},"(0018,1242)":{tag:"(0018,1242)",vr:"IS",vm:"1",name:"ActualFrameDuration"},"(0018,1243)":{tag:"(0018,1243)",vr:"IS",vm:"1",name:"CountRate"},"(0018,1244)":{tag:"(0018,1244)",vr:"US",vm:"1",name:"PreferredPlaybackSequencing"},"(0018,1250)":{tag:"(0018,1250)",vr:"SH",vm:"1",name:"ReceiveCoilName"},"(0018,1251)":{tag:"(0018,1251)",vr:"SH",vm:"1",name:"TransmitCoilName"},"(0018,1260)":{tag:"(0018,1260)",vr:"SH",vm:"1",name:"PlateType"},"(0018,1261)":{tag:"(0018,1261)",vr:"LO",vm:"1",name:"PhosphorType"},"(0018,1300)":{tag:"(0018,1300)",vr:"DS",vm:"1",name:"ScanVelocity"},"(0018,1301)":{tag:"(0018,1301)",vr:"CS",vm:"1-n",name:"WholeBodyTechnique"},"(0018,1302)":{tag:"(0018,1302)",vr:"IS",vm:"1",name:"ScanLength"},"(0018,1310)":{tag:"(0018,1310)",vr:"US",vm:"4",name:"AcquisitionMatrix"},"(0018,1312)":{tag:"(0018,1312)",vr:"CS",vm:"1",name:"InPlanePhaseEncodingDirection"},"(0018,1314)":{tag:"(0018,1314)",vr:"DS",vm:"1",name:"FlipAngle"},"(0018,1315)":{tag:"(0018,1315)",vr:"CS",vm:"1",name:"VariableFlipAngleFlag"},"(0018,1316)":{tag:"(0018,1316)",vr:"DS",vm:"1",name:"SAR"},"(0018,1318)":{tag:"(0018,1318)",vr:"DS",vm:"1",name:"dBdt"},"(0018,1400)":{tag:"(0018,1400)",vr:"LO",vm:"1",name:"AcquisitionDeviceProcessingDescription"},"(0018,1401)":{tag:"(0018,1401)",vr:"LO",vm:"1",name:"AcquisitionDeviceProcessingCode"},"(0018,1402)":{tag:"(0018,1402)",vr:"CS",vm:"1",name:"CassetteOrientation"},"(0018,1403)":{tag:"(0018,1403)",vr:"CS",vm:"1",name:"CassetteSize"},"(0018,1404)":{tag:"(0018,1404)",vr:"US",vm:"1",name:"ExposuresOnPlate"},"(0018,1405)":{tag:"(0018,1405)",vr:"IS",vm:"1",name:"RelativeXRayExposure"},"(0018,1411)":{tag:"(0018,1411)",vr:"DS",vm:"1",name:"ExposureIndex"},"(0018,1412)":{tag:"(0018,1412)",vr:"DS",vm:"1",name:"TargetExposureIndex"},"(0018,1413)":{tag:"(0018,1413)",vr:"DS",vm:"1",name:"DeviationIndex"},"(0018,1450)":{tag:"(0018,1450)",vr:"DS",vm:"1",name:"ColumnAngulation"},"(0018,1460)":{tag:"(0018,1460)",vr:"DS",vm:"1",name:"TomoLayerHeight"},"(0018,1470)":{tag:"(0018,1470)",vr:"DS",vm:"1",name:"TomoAngle"},"(0018,1480)":{tag:"(0018,1480)",vr:"DS",vm:"1",name:"TomoTime"},"(0018,1490)":{tag:"(0018,1490)",vr:"CS",vm:"1",name:"TomoType"},"(0018,1491)":{tag:"(0018,1491)",vr:"CS",vm:"1",name:"TomoClass"},"(0018,1495)":{tag:"(0018,1495)",vr:"IS",vm:"1",name:"NumberOfTomosynthesisSourceImages"},"(0018,1500)":{tag:"(0018,1500)",vr:"CS",vm:"1",name:"PositionerMotion"},"(0018,1508)":{tag:"(0018,1508)",vr:"CS",vm:"1",name:"PositionerType"},"(0018,1510)":{tag:"(0018,1510)",vr:"DS",vm:"1",name:"PositionerPrimaryAngle"},"(0018,1511)":{tag:"(0018,1511)",vr:"DS",vm:"1",name:"PositionerSecondaryAngle"},"(0018,1520)":{tag:"(0018,1520)",vr:"DS",vm:"1-n",name:"PositionerPrimaryAngleIncrement"},"(0018,1521)":{tag:"(0018,1521)",vr:"DS",vm:"1-n",name:"PositionerSecondaryAngleIncrement"},"(0018,1530)":{tag:"(0018,1530)",vr:"DS",vm:"1",name:"DetectorPrimaryAngle"},"(0018,1531)":{tag:"(0018,1531)",vr:"DS",vm:"1",name:"DetectorSecondaryAngle"},"(0018,1600)":{tag:"(0018,1600)",vr:"CS",vm:"1-3",name:"ShutterShape"},"(0018,1602)":{tag:"(0018,1602)",vr:"IS",vm:"1",name:"ShutterLeftVerticalEdge"},"(0018,1604)":{tag:"(0018,1604)",vr:"IS",vm:"1",name:"ShutterRightVerticalEdge"},"(0018,1606)":{tag:"(0018,1606)",vr:"IS",vm:"1",name:"ShutterUpperHorizontalEdge"},"(0018,1608)":{tag:"(0018,1608)",vr:"IS",vm:"1",name:"ShutterLowerHorizontalEdge"},"(0018,1610)":{tag:"(0018,1610)",vr:"IS",vm:"2",name:"CenterOfCircularShutter"},"(0018,1612)":{tag:"(0018,1612)",vr:"IS",vm:"1",name:"RadiusOfCircularShutter"},"(0018,1620)":{tag:"(0018,1620)",vr:"IS",vm:"2-2n",name:"VerticesOfThePolygonalShutter"},"(0018,1622)":{tag:"(0018,1622)",vr:"US",vm:"1",name:"ShutterPresentationValue"},"(0018,1623)":{tag:"(0018,1623)",vr:"US",vm:"1",name:"ShutterOverlayGroup"},"(0018,1624)":{tag:"(0018,1624)",vr:"US",vm:"3",name:"ShutterPresentationColorCIELabValue"},"(0018,1700)":{tag:"(0018,1700)",vr:"CS",vm:"1-3",name:"CollimatorShape"},"(0018,1702)":{tag:"(0018,1702)",vr:"IS",vm:"1",name:"CollimatorLeftVerticalEdge"},"(0018,1704)":{tag:"(0018,1704)",vr:"IS",vm:"1",name:"CollimatorRightVerticalEdge"},"(0018,1706)":{tag:"(0018,1706)",vr:"IS",vm:"1",name:"CollimatorUpperHorizontalEdge"},"(0018,1708)":{tag:"(0018,1708)",vr:"IS",vm:"1",name:"CollimatorLowerHorizontalEdge"},"(0018,1710)":{tag:"(0018,1710)",vr:"IS",vm:"2",name:"CenterOfCircularCollimator"},"(0018,1712)":{tag:"(0018,1712)",vr:"IS",vm:"1",name:"RadiusOfCircularCollimator"},"(0018,1720)":{tag:"(0018,1720)",vr:"IS",vm:"2-2n",name:"VerticesOfThePolygonalCollimator"},"(0018,1800)":{tag:"(0018,1800)",vr:"CS",vm:"1",name:"AcquisitionTimeSynchronized"},"(0018,1801)":{tag:"(0018,1801)",vr:"SH",vm:"1",name:"TimeSource"},"(0018,1802)":{tag:"(0018,1802)",vr:"CS",vm:"1",name:"TimeDistributionProtocol"},"(0018,1803)":{tag:"(0018,1803)",vr:"LO",vm:"1",name:"NTPSourceAddress"},"(0018,2001)":{tag:"(0018,2001)",vr:"IS",vm:"1-n",name:"PageNumberVector"},"(0018,2002)":{tag:"(0018,2002)",vr:"SH",vm:"1-n",name:"FrameLabelVector"},"(0018,2003)":{tag:"(0018,2003)",vr:"DS",vm:"1-n",name:"FramePrimaryAngleVector"},"(0018,2004)":{tag:"(0018,2004)",vr:"DS",vm:"1-n",name:"FrameSecondaryAngleVector"},"(0018,2005)":{tag:"(0018,2005)",vr:"DS",vm:"1-n",name:"SliceLocationVector"},"(0018,2006)":{tag:"(0018,2006)",vr:"SH",vm:"1-n",name:"DisplayWindowLabelVector"},"(0018,2010)":{tag:"(0018,2010)",vr:"DS",vm:"2",name:"NominalScannedPixelSpacing"},"(0018,2020)":{tag:"(0018,2020)",vr:"CS",vm:"1",name:"DigitizingDeviceTransportDirection"},"(0018,2030)":{tag:"(0018,2030)",vr:"DS",vm:"1",name:"RotationOfScannedFilm"},"(0018,3100)":{tag:"(0018,3100)",vr:"CS",vm:"1",name:"IVUSAcquisition"},"(0018,3101)":{tag:"(0018,3101)",vr:"DS",vm:"1",name:"IVUSPullbackRate"},"(0018,3102)":{tag:"(0018,3102)",vr:"DS",vm:"1",name:"IVUSGatedRate"},"(0018,3103)":{tag:"(0018,3103)",vr:"IS",vm:"1",name:"IVUSPullbackStartFrameNumber"},"(0018,3104)":{tag:"(0018,3104)",vr:"IS",vm:"1",name:"IVUSPullbackStopFrameNumber"},"(0018,3105)":{tag:"(0018,3105)",vr:"IS",vm:"1-n",name:"LesionNumber"},"(0018,4000)":{tag:"(0018,4000)",vr:"LT",vm:"1",name:"AcquisitionComments"},"(0018,5000)":{tag:"(0018,5000)",vr:"SH",vm:"1-n",name:"OutputPower"},"(0018,5010)":{tag:"(0018,5010)",vr:"LO",vm:"1-n",name:"TransducerData"},"(0018,5012)":{tag:"(0018,5012)",vr:"DS",vm:"1",name:"FocusDepth"},"(0018,5020)":{tag:"(0018,5020)",vr:"LO",vm:"1",name:"ProcessingFunction"},"(0018,5021)":{tag:"(0018,5021)",vr:"LO",vm:"1",name:"PostprocessingFunction"},"(0018,5022)":{tag:"(0018,5022)",vr:"DS",vm:"1",name:"MechanicalIndex"},"(0018,5024)":{tag:"(0018,5024)",vr:"DS",vm:"1",name:"BoneThermalIndex"},"(0018,5026)":{tag:"(0018,5026)",vr:"DS",vm:"1",name:"CranialThermalIndex"},"(0018,5027)":{tag:"(0018,5027)",vr:"DS",vm:"1",name:"SoftTissueThermalIndex"},"(0018,5028)":{tag:"(0018,5028)",vr:"DS",vm:"1",name:"SoftTissueFocusThermalIndex"},"(0018,5029)":{tag:"(0018,5029)",vr:"DS",vm:"1",name:"SoftTissueSurfaceThermalIndex"},"(0018,5030)":{tag:"(0018,5030)",vr:"DS",vm:"1",name:"DynamicRange"},"(0018,5040)":{tag:"(0018,5040)",vr:"DS",vm:"1",name:"TotalGain"},"(0018,5050)":{tag:"(0018,5050)",vr:"IS",vm:"1",name:"DepthOfScanField"},"(0018,5100)":{tag:"(0018,5100)",vr:"CS",vm:"1",name:"PatientPosition"},"(0018,5101)":{tag:"(0018,5101)",vr:"CS",vm:"1",name:"ViewPosition"},"(0018,5104)":{tag:"(0018,5104)",vr:"SQ",vm:"1",name:"ProjectionEponymousNameCodeSequence"},"(0018,5210)":{tag:"(0018,5210)",vr:"DS",vm:"6",name:"ImageTransformationMatrix"},"(0018,5212)":{tag:"(0018,5212)",vr:"DS",vm:"3",name:"ImageTranslationVector"},"(0018,6000)":{tag:"(0018,6000)",vr:"DS",vm:"1",name:"Sensitivity"},"(0018,6011)":{tag:"(0018,6011)",vr:"SQ",vm:"1",name:"SequenceOfUltrasoundRegions"},"(0018,6012)":{tag:"(0018,6012)",vr:"US",vm:"1",name:"RegionSpatialFormat"},"(0018,6014)":{tag:"(0018,6014)",vr:"US",vm:"1",name:"RegionDataType"},"(0018,6016)":{tag:"(0018,6016)",vr:"UL",vm:"1",name:"RegionFlags"},"(0018,6018)":{tag:"(0018,6018)",vr:"UL",vm:"1",name:"RegionLocationMinX0"},"(0018,601A)":{tag:"(0018,601A)",vr:"UL",vm:"1",name:"RegionLocationMinY0"},"(0018,601C)":{tag:"(0018,601C)",vr:"UL",vm:"1",name:"RegionLocationMaxX1"},"(0018,601E)":{tag:"(0018,601E)",vr:"UL",vm:"1",name:"RegionLocationMaxY1"},"(0018,6020)":{tag:"(0018,6020)",vr:"SL",vm:"1",name:"ReferencePixelX0"},"(0018,6022)":{tag:"(0018,6022)",vr:"SL",vm:"1",name:"ReferencePixelY0"},"(0018,6024)":{tag:"(0018,6024)",vr:"US",vm:"1",name:"PhysicalUnitsXDirection"},"(0018,6026)":{tag:"(0018,6026)",vr:"US",vm:"1",name:"PhysicalUnitsYDirection"},"(0018,6028)":{tag:"(0018,6028)",vr:"FD",vm:"1",name:"ReferencePixelPhysicalValueX"},"(0018,602A)":{tag:"(0018,602A)",vr:"FD",vm:"1",name:"ReferencePixelPhysicalValueY"},"(0018,602C)":{tag:"(0018,602C)",vr:"FD",vm:"1",name:"PhysicalDeltaX"},"(0018,602E)":{tag:"(0018,602E)",vr:"FD",vm:"1",name:"PhysicalDeltaY"},"(0018,6030)":{tag:"(0018,6030)",vr:"UL",vm:"1",name:"TransducerFrequency"},"(0018,6031)":{tag:"(0018,6031)",vr:"CS",vm:"1",name:"TransducerType"},"(0018,6032)":{tag:"(0018,6032)",vr:"UL",vm:"1",name:"PulseRepetitionFrequency"},"(0018,6034)":{tag:"(0018,6034)",vr:"FD",vm:"1",name:"DopplerCorrectionAngle"},"(0018,6036)":{tag:"(0018,6036)",vr:"FD",vm:"1",name:"SteeringAngle"},"(0018,6038)":{tag:"(0018,6038)",vr:"UL",vm:"1",name:"DopplerSampleVolumeXPositionRetired"},"(0018,6039)":{tag:"(0018,6039)",vr:"SL",vm:"1",name:"DopplerSampleVolumeXPosition"},"(0018,603A)":{tag:"(0018,603A)",vr:"UL",vm:"1",name:"DopplerSampleVolumeYPositionRetired"},"(0018,603B)":{tag:"(0018,603B)",vr:"SL",vm:"1",name:"DopplerSampleVolumeYPosition"},"(0018,603C)":{tag:"(0018,603C)",vr:"UL",vm:"1",name:"TMLinePositionX0Retired"},"(0018,603D)":{tag:"(0018,603D)",vr:"SL",vm:"1",name:"TMLinePositionX0"},"(0018,603E)":{tag:"(0018,603E)",vr:"UL",vm:"1",name:"TMLinePositionY0Retired"},"(0018,603F)":{tag:"(0018,603F)",vr:"SL",vm:"1",name:"TMLinePositionY0"},"(0018,6040)":{tag:"(0018,6040)",vr:"UL",vm:"1",name:"TMLinePositionX1Retired"},"(0018,6041)":{tag:"(0018,6041)",vr:"SL",vm:"1",name:"TMLinePositionX1"},"(0018,6042)":{tag:"(0018,6042)",vr:"UL",vm:"1",name:"TMLinePositionY1Retired"},"(0018,6043)":{tag:"(0018,6043)",vr:"SL",vm:"1",name:"TMLinePositionY1"},"(0018,6044)":{tag:"(0018,6044)",vr:"US",vm:"1",name:"PixelComponentOrganization"},"(0018,6046)":{tag:"(0018,6046)",vr:"UL",vm:"1",name:"PixelComponentMask"},"(0018,6048)":{tag:"(0018,6048)",vr:"UL",vm:"1",name:"PixelComponentRangeStart"},"(0018,604A)":{tag:"(0018,604A)",vr:"UL",vm:"1",name:"PixelComponentRangeStop"},"(0018,604C)":{tag:"(0018,604C)",vr:"US",vm:"1",name:"PixelComponentPhysicalUnits"},"(0018,604E)":{tag:"(0018,604E)",vr:"US",vm:"1",name:"PixelComponentDataType"},"(0018,6050)":{tag:"(0018,6050)",vr:"UL",vm:"1",name:"NumberOfTableBreakPoints"},"(0018,6052)":{tag:"(0018,6052)",vr:"UL",vm:"1-n",name:"TableOfXBreakPoints"},"(0018,6054)":{tag:"(0018,6054)",vr:"FD",vm:"1-n",name:"TableOfYBreakPoints"},"(0018,6056)":{tag:"(0018,6056)",vr:"UL",vm:"1",name:"NumberOfTableEntries"},"(0018,6058)":{tag:"(0018,6058)",vr:"UL",vm:"1-n",name:"TableOfPixelValues"},"(0018,605A)":{tag:"(0018,605A)",vr:"FL",vm:"1-n",name:"TableOfParameterValues"},"(0018,6060)":{tag:"(0018,6060)",vr:"FL",vm:"1-n",name:"RWaveTimeVector"},"(0018,7000)":{tag:"(0018,7000)",vr:"CS",vm:"1",name:"DetectorConditionsNominalFlag"},"(0018,7001)":{tag:"(0018,7001)",vr:"DS",vm:"1",name:"DetectorTemperature"},"(0018,7004)":{tag:"(0018,7004)",vr:"CS",vm:"1",name:"DetectorType"},"(0018,7005)":{tag:"(0018,7005)",vr:"CS",vm:"1",name:"DetectorConfiguration"},"(0018,7006)":{tag:"(0018,7006)",vr:"LT",vm:"1",name:"DetectorDescription"},"(0018,7008)":{tag:"(0018,7008)",vr:"LT",vm:"1",name:"DetectorMode"},"(0018,700A)":{tag:"(0018,700A)",vr:"SH",vm:"1",name:"DetectorID"},"(0018,700C)":{tag:"(0018,700C)",vr:"DA",vm:"1",name:"DateOfLastDetectorCalibration"},"(0018,700E)":{tag:"(0018,700E)",vr:"TM",vm:"1",name:"TimeOfLastDetectorCalibration"},"(0018,7010)":{tag:"(0018,7010)",vr:"IS",vm:"1",name:"ExposuresOnDetectorSinceLastCalibration"},"(0018,7011)":{tag:"(0018,7011)",vr:"IS",vm:"1",name:"ExposuresOnDetectorSinceManufactured"},"(0018,7012)":{tag:"(0018,7012)",vr:"DS",vm:"1",name:"DetectorTimeSinceLastExposure"},"(0018,7014)":{tag:"(0018,7014)",vr:"DS",vm:"1",name:"DetectorActiveTime"},"(0018,7016)":{tag:"(0018,7016)",vr:"DS",vm:"1",name:"DetectorActivationOffsetFromExposure"},"(0018,701A)":{tag:"(0018,701A)",vr:"DS",vm:"2",name:"DetectorBinning"},"(0018,7020)":{tag:"(0018,7020)",vr:"DS",vm:"2",name:"DetectorElementPhysicalSize"},"(0018,7022)":{tag:"(0018,7022)",vr:"DS",vm:"2",name:"DetectorElementSpacing"},"(0018,7024)":{tag:"(0018,7024)",vr:"CS",vm:"1",name:"DetectorActiveShape"},"(0018,7026)":{tag:"(0018,7026)",vr:"DS",vm:"1-2",name:"DetectorActiveDimensions"},"(0018,7028)":{tag:"(0018,7028)",vr:"DS",vm:"2",name:"DetectorActiveOrigin"},"(0018,702A)":{tag:"(0018,702A)",vr:"LO",vm:"1",name:"DetectorManufacturerName"},"(0018,702B)":{tag:"(0018,702B)",vr:"LO",vm:"1",name:"DetectorManufacturerModelName"},"(0018,7030)":{tag:"(0018,7030)",vr:"DS",vm:"2",name:"FieldOfViewOrigin"},"(0018,7032)":{tag:"(0018,7032)",vr:"DS",vm:"1",name:"FieldOfViewRotation"},"(0018,7034)":{tag:"(0018,7034)",vr:"CS",vm:"1",name:"FieldOfViewHorizontalFlip"},"(0018,7036)":{tag:"(0018,7036)",vr:"FL",vm:"2",name:"PixelDataAreaOriginRelativeToFOV"},"(0018,7038)":{tag:"(0018,7038)",vr:"FL",vm:"1",name:"PixelDataAreaRotationAngleRelativeToFOV"},"(0018,7040)":{tag:"(0018,7040)",vr:"LT",vm:"1",name:"GridAbsorbingMaterial"},"(0018,7041)":{tag:"(0018,7041)",vr:"LT",vm:"1",name:"GridSpacingMaterial"},"(0018,7042)":{tag:"(0018,7042)",vr:"DS",vm:"1",name:"GridThickness"},"(0018,7044)":{tag:"(0018,7044)",vr:"DS",vm:"1",name:"GridPitch"},"(0018,7046)":{tag:"(0018,7046)",vr:"IS",vm:"2",name:"GridAspectRatio"},"(0018,7048)":{tag:"(0018,7048)",vr:"DS",vm:"1",name:"GridPeriod"},"(0018,704C)":{tag:"(0018,704C)",vr:"DS",vm:"1",name:"GridFocalDistance"},"(0018,7050)":{tag:"(0018,7050)",vr:"CS",vm:"1-n",name:"FilterMaterial"},"(0018,7052)":{tag:"(0018,7052)",vr:"DS",vm:"1-n",name:"FilterThicknessMinimum"},"(0018,7054)":{tag:"(0018,7054)",vr:"DS",vm:"1-n",name:"FilterThicknessMaximum"},"(0018,7056)":{tag:"(0018,7056)",vr:"FL",vm:"1-n",name:"FilterBeamPathLengthMinimum"},"(0018,7058)":{tag:"(0018,7058)",vr:"FL",vm:"1-n",name:"FilterBeamPathLengthMaximum"},"(0018,7060)":{tag:"(0018,7060)",vr:"CS",vm:"1",name:"ExposureControlMode"},"(0018,7062)":{tag:"(0018,7062)",vr:"LT",vm:"1",name:"ExposureControlModeDescription"},"(0018,7064)":{tag:"(0018,7064)",vr:"CS",vm:"1",name:"ExposureStatus"},"(0018,7065)":{tag:"(0018,7065)",vr:"DS",vm:"1",name:"PhototimerSetting"},"(0018,8150)":{tag:"(0018,8150)",vr:"DS",vm:"1",name:"ExposureTimeInuS"},"(0018,8151)":{tag:"(0018,8151)",vr:"DS",vm:"1",name:"XRayTubeCurrentInuA"},"(0018,9004)":{tag:"(0018,9004)",vr:"CS",vm:"1",name:"ContentQualification"},"(0018,9005)":{tag:"(0018,9005)",vr:"SH",vm:"1",name:"PulseSequenceName"},"(0018,9006)":{tag:"(0018,9006)",vr:"SQ",vm:"1",name:"MRImagingModifierSequence"},"(0018,9008)":{tag:"(0018,9008)",vr:"CS",vm:"1",name:"EchoPulseSequence"},"(0018,9009)":{tag:"(0018,9009)",vr:"CS",vm:"1",name:"InversionRecovery"},"(0018,9010)":{tag:"(0018,9010)",vr:"CS",vm:"1",name:"FlowCompensation"},"(0018,9011)":{tag:"(0018,9011)",vr:"CS",vm:"1",name:"MultipleSpinEcho"},"(0018,9012)":{tag:"(0018,9012)",vr:"CS",vm:"1",name:"MultiPlanarExcitation"},"(0018,9014)":{tag:"(0018,9014)",vr:"CS",vm:"1",name:"PhaseContrast"},"(0018,9015)":{tag:"(0018,9015)",vr:"CS",vm:"1",name:"TimeOfFlightContrast"},"(0018,9016)":{tag:"(0018,9016)",vr:"CS",vm:"1",name:"Spoiling"},"(0018,9017)":{tag:"(0018,9017)",vr:"CS",vm:"1",name:"SteadyStatePulseSequence"},"(0018,9018)":{tag:"(0018,9018)",vr:"CS",vm:"1",name:"EchoPlanarPulseSequence"},"(0018,9019)":{tag:"(0018,9019)",vr:"FD",vm:"1",name:"TagAngleFirstAxis"},"(0018,9020)":{tag:"(0018,9020)",vr:"CS",vm:"1",name:"MagnetizationTransfer"},"(0018,9021)":{tag:"(0018,9021)",vr:"CS",vm:"1",name:"T2Preparation"},"(0018,9022)":{tag:"(0018,9022)",vr:"CS",vm:"1",name:"BloodSignalNulling"},"(0018,9024)":{tag:"(0018,9024)",vr:"CS",vm:"1",name:"SaturationRecovery"},"(0018,9025)":{tag:"(0018,9025)",vr:"CS",vm:"1",name:"SpectrallySelectedSuppression"},"(0018,9026)":{tag:"(0018,9026)",vr:"CS",vm:"1",name:"SpectrallySelectedExcitation"},"(0018,9027)":{tag:"(0018,9027)",vr:"CS",vm:"1",name:"SpatialPresaturation"},"(0018,9028)":{tag:"(0018,9028)",vr:"CS",vm:"1",name:"Tagging"},"(0018,9029)":{tag:"(0018,9029)",vr:"CS",vm:"1",name:"OversamplingPhase"},"(0018,9030)":{tag:"(0018,9030)",vr:"FD",vm:"1",name:"TagSpacingFirstDimension"},"(0018,9032)":{tag:"(0018,9032)",vr:"CS",vm:"1",name:"GeometryOfKSpaceTraversal"},"(0018,9033)":{tag:"(0018,9033)",vr:"CS",vm:"1",name:"SegmentedKSpaceTraversal"},"(0018,9034)":{tag:"(0018,9034)",vr:"CS",vm:"1",name:"RectilinearPhaseEncodeReordering"},"(0018,9035)":{tag:"(0018,9035)",vr:"FD",vm:"1",name:"TagThickness"},"(0018,9036)":{tag:"(0018,9036)",vr:"CS",vm:"1",name:"PartialFourierDirection"},"(0018,9037)":{tag:"(0018,9037)",vr:"CS",vm:"1",name:"CardiacSynchronizationTechnique"},"(0018,9041)":{tag:"(0018,9041)",vr:"LO",vm:"1",name:"ReceiveCoilManufacturerName"},"(0018,9042)":{tag:"(0018,9042)",vr:"SQ",vm:"1",name:"MRReceiveCoilSequence"},"(0018,9043)":{tag:"(0018,9043)",vr:"CS",vm:"1",name:"ReceiveCoilType"},"(0018,9044)":{tag:"(0018,9044)",vr:"CS",vm:"1",name:"QuadratureReceiveCoil"},"(0018,9045)":{tag:"(0018,9045)",vr:"SQ",vm:"1",name:"MultiCoilDefinitionSequence"},"(0018,9046)":{tag:"(0018,9046)",vr:"LO",vm:"1",name:"MultiCoilConfiguration"},"(0018,9047)":{tag:"(0018,9047)",vr:"SH",vm:"1",name:"MultiCoilElementName"},"(0018,9048)":{tag:"(0018,9048)",vr:"CS",vm:"1",name:"MultiCoilElementUsed"},"(0018,9049)":{tag:"(0018,9049)",vr:"SQ",vm:"1",name:"MRTransmitCoilSequence"},"(0018,9050)":{tag:"(0018,9050)",vr:"LO",vm:"1",name:"TransmitCoilManufacturerName"},"(0018,9051)":{tag:"(0018,9051)",vr:"CS",vm:"1",name:"TransmitCoilType"},"(0018,9052)":{tag:"(0018,9052)",vr:"FD",vm:"1-2",name:"SpectralWidth"},"(0018,9053)":{tag:"(0018,9053)",vr:"FD",vm:"1-2",name:"ChemicalShiftReference"},"(0018,9054)":{tag:"(0018,9054)",vr:"CS",vm:"1",name:"VolumeLocalizationTechnique"},"(0018,9058)":{tag:"(0018,9058)",vr:"US",vm:"1",name:"MRAcquisitionFrequencyEncodingSteps"},"(0018,9059)":{tag:"(0018,9059)",vr:"CS",vm:"1",name:"Decoupling"},"(0018,9060)":{tag:"(0018,9060)",vr:"CS",vm:"1-2",name:"DecoupledNucleus"},"(0018,9061)":{tag:"(0018,9061)",vr:"FD",vm:"1-2",name:"DecouplingFrequency"},"(0018,9062)":{tag:"(0018,9062)",vr:"CS",vm:"1",name:"DecouplingMethod"},"(0018,9063)":{tag:"(0018,9063)",vr:"FD",vm:"1-2",name:"DecouplingChemicalShiftReference"},"(0018,9064)":{tag:"(0018,9064)",vr:"CS",vm:"1",name:"KSpaceFiltering"},"(0018,9065)":{tag:"(0018,9065)",vr:"CS",vm:"1-2",name:"TimeDomainFiltering"},"(0018,9066)":{tag:"(0018,9066)",vr:"US",vm:"1-2",name:"NumberOfZeroFills"},"(0018,9067)":{tag:"(0018,9067)",vr:"CS",vm:"1",name:"BaselineCorrection"},"(0018,9069)":{tag:"(0018,9069)",vr:"FD",vm:"1",name:"ParallelReductionFactorInPlane"},"(0018,9070)":{tag:"(0018,9070)",vr:"FD",vm:"1",name:"CardiacRRIntervalSpecified"},"(0018,9073)":{tag:"(0018,9073)",vr:"FD",vm:"1",name:"AcquisitionDuration"},"(0018,9074)":{tag:"(0018,9074)",vr:"DT",vm:"1",name:"FrameAcquisitionDateTime"},"(0018,9075)":{tag:"(0018,9075)",vr:"CS",vm:"1",name:"DiffusionDirectionality"},"(0018,9076)":{tag:"(0018,9076)",vr:"SQ",vm:"1",name:"DiffusionGradientDirectionSequence"},"(0018,9077)":{tag:"(0018,9077)",vr:"CS",vm:"1",name:"ParallelAcquisition"},"(0018,9078)":{tag:"(0018,9078)",vr:"CS",vm:"1",name:"ParallelAcquisitionTechnique"},"(0018,9079)":{tag:"(0018,9079)",vr:"FD",vm:"1-n",name:"InversionTimes"},"(0018,9080)":{tag:"(0018,9080)",vr:"ST",vm:"1",name:"MetaboliteMapDescription"},"(0018,9081)":{tag:"(0018,9081)",vr:"CS",vm:"1",name:"PartialFourier"},"(0018,9082)":{tag:"(0018,9082)",vr:"FD",vm:"1",name:"EffectiveEchoTime"},"(0018,9083)":{tag:"(0018,9083)",vr:"SQ",vm:"1",name:"MetaboliteMapCodeSequence"},"(0018,9084)":{tag:"(0018,9084)",vr:"SQ",vm:"1",name:"ChemicalShiftSequence"},"(0018,9085)":{tag:"(0018,9085)",vr:"CS",vm:"1",name:"CardiacSignalSource"},"(0018,9087)":{tag:"(0018,9087)",vr:"FD",vm:"1",name:"DiffusionBValue"},"(0018,9089)":{tag:"(0018,9089)",vr:"FD",vm:"3",name:"DiffusionGradientOrientation"},"(0018,9090)":{tag:"(0018,9090)",vr:"FD",vm:"3",name:"VelocityEncodingDirection"},"(0018,9091)":{tag:"(0018,9091)",vr:"FD",vm:"1",name:"VelocityEncodingMinimumValue"},"(0018,9092)":{tag:"(0018,9092)",vr:"SQ",vm:"1",name:"VelocityEncodingAcquisitionSequence"},"(0018,9093)":{tag:"(0018,9093)",vr:"US",vm:"1",name:"NumberOfKSpaceTrajectories"},"(0018,9094)":{tag:"(0018,9094)",vr:"CS",vm:"1",name:"CoverageOfKSpace"},"(0018,9095)":{tag:"(0018,9095)",vr:"UL",vm:"1",name:"SpectroscopyAcquisitionPhaseRows"},"(0018,9096)":{tag:"(0018,9096)",vr:"FD",vm:"1",name:"ParallelReductionFactorInPlaneRetired"},"(0018,9098)":{tag:"(0018,9098)",vr:"FD",vm:"1-2",name:"TransmitterFrequency"},"(0018,9100)":{tag:"(0018,9100)",vr:"CS",vm:"1-2",name:"ResonantNucleus"},"(0018,9101)":{tag:"(0018,9101)",vr:"CS",vm:"1",name:"FrequencyCorrection"},"(0018,9103)":{tag:"(0018,9103)",vr:"SQ",vm:"1",name:"MRSpectroscopyFOVGeometrySequence"},"(0018,9104)":{tag:"(0018,9104)",vr:"FD",vm:"1",name:"SlabThickness"},"(0018,9105)":{tag:"(0018,9105)",vr:"FD",vm:"3",name:"SlabOrientation"},"(0018,9106)":{tag:"(0018,9106)",vr:"FD",vm:"3",name:"MidSlabPosition"},"(0018,9107)":{tag:"(0018,9107)",vr:"SQ",vm:"1",name:"MRSpatialSaturationSequence"},"(0018,9112)":{tag:"(0018,9112)",vr:"SQ",vm:"1",name:"MRTimingAndRelatedParametersSequence"},"(0018,9114)":{tag:"(0018,9114)",vr:"SQ",vm:"1",name:"MREchoSequence"},"(0018,9115)":{tag:"(0018,9115)",vr:"SQ",vm:"1",name:"MRModifierSequence"},"(0018,9117)":{tag:"(0018,9117)",vr:"SQ",vm:"1",name:"MRDiffusionSequence"},"(0018,9118)":{tag:"(0018,9118)",vr:"SQ",vm:"1",name:"CardiacSynchronizationSequence"},"(0018,9119)":{tag:"(0018,9119)",vr:"SQ",vm:"1",name:"MRAveragesSequence"},"(0018,9125)":{tag:"(0018,9125)",vr:"SQ",vm:"1",name:"MRFOVGeometrySequence"},"(0018,9126)":{tag:"(0018,9126)",vr:"SQ",vm:"1",name:"VolumeLocalizationSequence"},"(0018,9127)":{tag:"(0018,9127)",vr:"UL",vm:"1",name:"SpectroscopyAcquisitionDataColumns"},"(0018,9147)":{tag:"(0018,9147)",vr:"CS",vm:"1",name:"DiffusionAnisotropyType"},"(0018,9151)":{tag:"(0018,9151)",vr:"DT",vm:"1",name:"FrameReferenceDateTime"},"(0018,9152)":{tag:"(0018,9152)",vr:"SQ",vm:"1",name:"MRMetaboliteMapSequence"},"(0018,9155)":{tag:"(0018,9155)",vr:"FD",vm:"1",name:"ParallelReductionFactorOutOfPlane"},"(0018,9159)":{tag:"(0018,9159)",vr:"UL",vm:"1",name:"SpectroscopyAcquisitionOutOfPlanePhaseSteps"},"(0018,9166)":{tag:"(0018,9166)",vr:"CS",vm:"1",name:"BulkMotionStatus"},"(0018,9168)":{tag:"(0018,9168)",vr:"FD",vm:"1",name:"ParallelReductionFactorSecondInPlane"},"(0018,9169)":{tag:"(0018,9169)",vr:"CS",vm:"1",name:"CardiacBeatRejectionTechnique"},"(0018,9170)":{tag:"(0018,9170)",vr:"CS",vm:"1",name:"RespiratoryMotionCompensationTechnique"},"(0018,9171)":{tag:"(0018,9171)",vr:"CS",vm:"1",name:"RespiratorySignalSource"},"(0018,9172)":{tag:"(0018,9172)",vr:"CS",vm:"1",name:"BulkMotionCompensationTechnique"},"(0018,9173)":{tag:"(0018,9173)",vr:"CS",vm:"1",name:"BulkMotionSignalSource"},"(0018,9174)":{tag:"(0018,9174)",vr:"CS",vm:"1",name:"ApplicableSafetyStandardAgency"},"(0018,9175)":{tag:"(0018,9175)",vr:"LO",vm:"1",name:"ApplicableSafetyStandardDescription"},"(0018,9176)":{tag:"(0018,9176)",vr:"SQ",vm:"1",name:"OperatingModeSequence"},"(0018,9177)":{tag:"(0018,9177)",vr:"CS",vm:"1",name:"OperatingModeType"},"(0018,9178)":{tag:"(0018,9178)",vr:"CS",vm:"1",name:"OperatingMode"},"(0018,9179)":{tag:"(0018,9179)",vr:"CS",vm:"1",name:"SpecificAbsorptionRateDefinition"},"(0018,9180)":{tag:"(0018,9180)",vr:"CS",vm:"1",name:"GradientOutputType"},"(0018,9181)":{tag:"(0018,9181)",vr:"FD",vm:"1",name:"SpecificAbsorptionRateValue"},"(0018,9182)":{tag:"(0018,9182)",vr:"FD",vm:"1",name:"GradientOutput"},"(0018,9183)":{tag:"(0018,9183)",vr:"CS",vm:"1",name:"FlowCompensationDirection"},"(0018,9184)":{tag:"(0018,9184)",vr:"FD",vm:"1",name:"TaggingDelay"},"(0018,9185)":{tag:"(0018,9185)",vr:"ST",vm:"1",name:"RespiratoryMotionCompensationTechniqueDescription"},"(0018,9186)":{tag:"(0018,9186)",vr:"SH",vm:"1",name:"RespiratorySignalSourceID"},"(0018,9195)":{tag:"(0018,9195)",vr:"FD",vm:"1",name:"ChemicalShiftMinimumIntegrationLimitInHz"},"(0018,9196)":{tag:"(0018,9196)",vr:"FD",vm:"1",name:"ChemicalShiftMaximumIntegrationLimitInHz"},"(0018,9197)":{tag:"(0018,9197)",vr:"SQ",vm:"1",name:"MRVelocityEncodingSequence"},"(0018,9198)":{tag:"(0018,9198)",vr:"CS",vm:"1",name:"FirstOrderPhaseCorrection"},"(0018,9199)":{tag:"(0018,9199)",vr:"CS",vm:"1",name:"WaterReferencedPhaseCorrection"},"(0018,9200)":{tag:"(0018,9200)",vr:"CS",vm:"1",name:"MRSpectroscopyAcquisitionType"},"(0018,9214)":{tag:"(0018,9214)",vr:"CS",vm:"1",name:"RespiratoryCyclePosition"},"(0018,9217)":{tag:"(0018,9217)",vr:"FD",vm:"1",name:"VelocityEncodingMaximumValue"},"(0018,9218)":{tag:"(0018,9218)",vr:"FD",vm:"1",name:"TagSpacingSecondDimension"},"(0018,9219)":{tag:"(0018,9219)",vr:"SS",vm:"1",name:"TagAngleSecondAxis"},"(0018,9220)":{tag:"(0018,9220)",vr:"FD",vm:"1",name:"FrameAcquisitionDuration"},"(0018,9226)":{tag:"(0018,9226)",vr:"SQ",vm:"1",name:"MRImageFrameTypeSequence"},"(0018,9227)":{tag:"(0018,9227)",vr:"SQ",vm:"1",name:"MRSpectroscopyFrameTypeSequence"},"(0018,9231)":{tag:"(0018,9231)",vr:"US",vm:"1",name:"MRAcquisitionPhaseEncodingStepsInPlane"},"(0018,9232)":{tag:"(0018,9232)",vr:"US",vm:"1",name:"MRAcquisitionPhaseEncodingStepsOutOfPlane"},"(0018,9234)":{tag:"(0018,9234)",vr:"UL",vm:"1",name:"SpectroscopyAcquisitionPhaseColumns"},"(0018,9236)":{tag:"(0018,9236)",vr:"CS",vm:"1",name:"CardiacCyclePosition"},"(0018,9239)":{tag:"(0018,9239)",vr:"SQ",vm:"1",name:"SpecificAbsorptionRateSequence"},"(0018,9240)":{tag:"(0018,9240)",vr:"US",vm:"1",name:"RFEchoTrainLength"},"(0018,9241)":{tag:"(0018,9241)",vr:"US",vm:"1",name:"GradientEchoTrainLength"},"(0018,9250)":{tag:"(0018,9250)",vr:"CS",vm:"1",name:"ArterialSpinLabelingContrast"},"(0018,9251)":{tag:"(0018,9251)",vr:"SQ",vm:"1",name:"MRArterialSpinLabelingSequence"},"(0018,9252)":{tag:"(0018,9252)",vr:"LO",vm:"1",name:"ASLTechniqueDescription"},"(0018,9253)":{tag:"(0018,9253)",vr:"US",vm:"1",name:"ASLSlabNumber"},"(0018,9254)":{tag:"(0018,9254)",vr:"FD",vm:"1 ",name:"ASLSlabThickness"},"(0018,9255)":{tag:"(0018,9255)",vr:"FD",vm:"3 ",name:"ASLSlabOrientation"},"(0018,9256)":{tag:"(0018,9256)",vr:"FD",vm:"3",name:"ASLMidSlabPosition"},"(0018,9257)":{tag:"(0018,9257)",vr:"CS",vm:"1 ",name:"ASLContext"},"(0018,9258)":{tag:"(0018,9258)",vr:"UL",vm:"1",name:"ASLPulseTrainDuration"},"(0018,9259)":{tag:"(0018,9259)",vr:"CS",vm:"1 ",name:"ASLCrusherFlag"},"(0018,925A)":{tag:"(0018,925A)",vr:"FD",vm:"1",name:"ASLCrusherFlow"},"(0018,925B)":{tag:"(0018,925B)",vr:"LO",vm:"1",name:"ASLCrusherDescription"},"(0018,925C)":{tag:"(0018,925C)",vr:"CS",vm:"1 ",name:"ASLBolusCutoffFlag"},"(0018,925D)":{tag:"(0018,925D)",vr:"SQ",vm:"1",name:"ASLBolusCutoffTimingSequence"},"(0018,925E)":{tag:"(0018,925E)",vr:"LO",vm:"1",name:"ASLBolusCutoffTechnique"},"(0018,925F)":{tag:"(0018,925F)",vr:"UL",vm:"1",name:"ASLBolusCutoffDelayTime"},"(0018,9260)":{tag:"(0018,9260)",vr:"SQ",vm:"1",name:"ASLSlabSequence"},"(0018,9295)":{tag:"(0018,9295)",vr:"FD",vm:"1",name:"ChemicalShiftMinimumIntegrationLimitInppm"},"(0018,9296)":{tag:"(0018,9296)",vr:"FD",vm:"1",name:"ChemicalShiftMaximumIntegrationLimitInppm"},"(0018,9301)":{tag:"(0018,9301)",vr:"SQ",vm:"1",name:"CTAcquisitionTypeSequence"},"(0018,9302)":{tag:"(0018,9302)",vr:"CS",vm:"1",name:"AcquisitionType"},"(0018,9303)":{tag:"(0018,9303)",vr:"FD",vm:"1",name:"TubeAngle"},"(0018,9304)":{tag:"(0018,9304)",vr:"SQ",vm:"1",name:"CTAcquisitionDetailsSequence"},"(0018,9305)":{tag:"(0018,9305)",vr:"FD",vm:"1",name:"RevolutionTime"},"(0018,9306)":{tag:"(0018,9306)",vr:"FD",vm:"1",name:"SingleCollimationWidth"},"(0018,9307)":{tag:"(0018,9307)",vr:"FD",vm:"1",name:"TotalCollimationWidth"},"(0018,9308)":{tag:"(0018,9308)",vr:"SQ",vm:"1",name:"CTTableDynamicsSequence"},"(0018,9309)":{tag:"(0018,9309)",vr:"FD",vm:"1",name:"TableSpeed"},"(0018,9310)":{tag:"(0018,9310)",vr:"FD",vm:"1",name:"TableFeedPerRotation"},"(0018,9311)":{tag:"(0018,9311)",vr:"FD",vm:"1",name:"SpiralPitchFactor"},"(0018,9312)":{tag:"(0018,9312)",vr:"SQ",vm:"1",name:"CTGeometrySequence"},"(0018,9313)":{tag:"(0018,9313)",vr:"FD",vm:"3",name:"DataCollectionCenterPatient"},"(0018,9314)":{tag:"(0018,9314)",vr:"SQ",vm:"1",name:"CTReconstructionSequence"},"(0018,9315)":{tag:"(0018,9315)",vr:"CS",vm:"1",name:"ReconstructionAlgorithm"},"(0018,9316)":{tag:"(0018,9316)",vr:"CS",vm:"1",name:"ConvolutionKernelGroup"},"(0018,9317)":{tag:"(0018,9317)",vr:"FD",vm:"2",name:"ReconstructionFieldOfView"},"(0018,9318)":{tag:"(0018,9318)",vr:"FD",vm:"3",name:"ReconstructionTargetCenterPatient"},"(0018,9319)":{tag:"(0018,9319)",vr:"FD",vm:"1",name:"ReconstructionAngle"},"(0018,9320)":{tag:"(0018,9320)",vr:"SH",vm:"1",name:"ImageFilter"},"(0018,9321)":{tag:"(0018,9321)",vr:"SQ",vm:"1",name:"CTExposureSequence"},"(0018,9322)":{tag:"(0018,9322)",vr:"FD",vm:"2",name:"ReconstructionPixelSpacing"},"(0018,9323)":{tag:"(0018,9323)",vr:"CS",vm:"1",name:"ExposureModulationType"},"(0018,9324)":{tag:"(0018,9324)",vr:"FD",vm:"1",name:"EstimatedDoseSaving"},"(0018,9325)":{tag:"(0018,9325)",vr:"SQ",vm:"1",name:"CTXRayDetailsSequence"},"(0018,9326)":{tag:"(0018,9326)",vr:"SQ",vm:"1",name:"CTPositionSequence"},"(0018,9327)":{tag:"(0018,9327)",vr:"FD",vm:"1",name:"TablePosition"},"(0018,9328)":{tag:"(0018,9328)",vr:"FD",vm:"1",name:"ExposureTimeInms"},"(0018,9329)":{tag:"(0018,9329)",vr:"SQ",vm:"1",name:"CTImageFrameTypeSequence"},"(0018,9330)":{tag:"(0018,9330)",vr:"FD",vm:"1",name:"XRayTubeCurrentInmA"},"(0018,9332)":{tag:"(0018,9332)",vr:"FD",vm:"1",name:"ExposureInmAs"},"(0018,9333)":{tag:"(0018,9333)",vr:"CS",vm:"1",name:"ConstantVolumeFlag"},"(0018,9334)":{tag:"(0018,9334)",vr:"CS",vm:"1",name:"FluoroscopyFlag"},"(0018,9335)":{tag:"(0018,9335)",vr:"FD",vm:"1",name:"DistanceSourceToDataCollectionCenter"},"(0018,9337)":{tag:"(0018,9337)",vr:"US",vm:"1",name:"ContrastBolusAgentNumber"},"(0018,9338)":{tag:"(0018,9338)",vr:"SQ",vm:"1",name:"ContrastBolusIngredientCodeSequence"},"(0018,9340)":{tag:"(0018,9340)",vr:"SQ",vm:"1",name:"ContrastAdministrationProfileSequence"},"(0018,9341)":{tag:"(0018,9341)",vr:"SQ",vm:"1",name:"ContrastBolusUsageSequence"},"(0018,9342)":{tag:"(0018,9342)",vr:"CS",vm:"1",name:"ContrastBolusAgentAdministered"},"(0018,9343)":{tag:"(0018,9343)",vr:"CS",vm:"1",name:"ContrastBolusAgentDetected"},"(0018,9344)":{tag:"(0018,9344)",vr:"CS",vm:"1",name:"ContrastBolusAgentPhase"},"(0018,9345)":{tag:"(0018,9345)",vr:"FD",vm:"1",name:"CTDIvol"},"(0018,9346)":{tag:"(0018,9346)",vr:"SQ",vm:"1",name:"CTDIPhantomTypeCodeSequence"},"(0018,9351)":{tag:"(0018,9351)",vr:"FL",vm:"1",name:"CalciumScoringMassFactorPatient"},"(0018,9352)":{tag:"(0018,9352)",vr:"FL",vm:"3",name:"CalciumScoringMassFactorDevice"},"(0018,9353)":{tag:"(0018,9353)",vr:"FL",vm:"1",name:"EnergyWeightingFactor"},"(0018,9360)":{tag:"(0018,9360)",vr:"SQ",vm:"1",name:"CTAdditionalXRaySourceSequence"},"(0018,9401)":{tag:"(0018,9401)",vr:"SQ",vm:"1",name:"ProjectionPixelCalibrationSequence"},"(0018,9402)":{tag:"(0018,9402)",vr:"FL",vm:"1",name:"DistanceSourceToIsocenter"},"(0018,9403)":{tag:"(0018,9403)",vr:"FL",vm:"1",name:"DistanceObjectToTableTop"},"(0018,9404)":{tag:"(0018,9404)",vr:"FL",vm:"2",name:"ObjectPixelSpacingInCenterOfBeam"},"(0018,9405)":{tag:"(0018,9405)",vr:"SQ",vm:"1",name:"PositionerPositionSequence"},"(0018,9406)":{tag:"(0018,9406)",vr:"SQ",vm:"1",name:"TablePositionSequence"},"(0018,9407)":{tag:"(0018,9407)",vr:"SQ",vm:"1",name:"CollimatorShapeSequence"},"(0018,9410)":{tag:"(0018,9410)",vr:"CS",vm:"1",name:"PlanesInAcquisition"},"(0018,9412)":{tag:"(0018,9412)",vr:"SQ",vm:"1",name:"XAXRFFrameCharacteristicsSequence"},"(0018,9417)":{tag:"(0018,9417)",vr:"SQ",vm:"1",name:"FrameAcquisitionSequence"},"(0018,9420)":{tag:"(0018,9420)",vr:"CS",vm:"1",name:"XRayReceptorType"},"(0018,9423)":{tag:"(0018,9423)",vr:"LO",vm:"1",name:"AcquisitionProtocolName"},"(0018,9424)":{tag:"(0018,9424)",vr:"LT",vm:"1",name:"AcquisitionProtocolDescription"},"(0018,9425)":{tag:"(0018,9425)",vr:"CS",vm:"1",name:"ContrastBolusIngredientOpaque"},"(0018,9426)":{tag:"(0018,9426)",vr:"FL",vm:"1",name:"DistanceReceptorPlaneToDetectorHousing"},"(0018,9427)":{tag:"(0018,9427)",vr:"CS",vm:"1",name:"IntensifierActiveShape"},"(0018,9428)":{tag:"(0018,9428)",vr:"FL",vm:"1-2",name:"IntensifierActiveDimensions"},"(0018,9429)":{tag:"(0018,9429)",vr:"FL",vm:"2",name:"PhysicalDetectorSize"},"(0018,9430)":{tag:"(0018,9430)",vr:"FL",vm:"2",name:"PositionOfIsocenterProjection"},"(0018,9432)":{tag:"(0018,9432)",vr:"SQ",vm:"1",name:"FieldOfViewSequence"},"(0018,9433)":{tag:"(0018,9433)",vr:"LO",vm:"1",name:"FieldOfViewDescription"},"(0018,9434)":{tag:"(0018,9434)",vr:"SQ",vm:"1",name:"ExposureControlSensingRegionsSequence"},"(0018,9435)":{tag:"(0018,9435)",vr:"CS",vm:"1",name:"ExposureControlSensingRegionShape"},"(0018,9436)":{tag:"(0018,9436)",vr:"SS",vm:"1",name:"ExposureControlSensingRegionLeftVerticalEdge"},"(0018,9437)":{tag:"(0018,9437)",vr:"SS",vm:"1",name:"ExposureControlSensingRegionRightVerticalEdge"},"(0018,9438)":{tag:"(0018,9438)",vr:"SS",vm:"1",name:"ExposureControlSensingRegionUpperHorizontalEdge"},"(0018,9439)":{tag:"(0018,9439)",vr:"SS",vm:"1",name:"ExposureControlSensingRegionLowerHorizontalEdge"},"(0018,9440)":{tag:"(0018,9440)",vr:"SS",vm:"2",name:"CenterOfCircularExposureControlSensingRegion"},"(0018,9441)":{tag:"(0018,9441)",vr:"US",vm:"1",name:"RadiusOfCircularExposureControlSensingRegion"},"(0018,9442)":{tag:"(0018,9442)",vr:"SS",vm:"2-n",name:"VerticesOfThePolygonalExposureControlSensingRegion"},"(0018,9447)":{tag:"(0018,9447)",vr:"FL",vm:"1",name:"ColumnAngulationPatient"},"(0018,9449)":{tag:"(0018,9449)",vr:"FL",vm:"1",name:"BeamAngle"},"(0018,9451)":{tag:"(0018,9451)",vr:"SQ",vm:"1",name:"FrameDetectorParametersSequence"},"(0018,9452)":{tag:"(0018,9452)",vr:"FL",vm:"1",name:"CalculatedAnatomyThickness"},"(0018,9455)":{tag:"(0018,9455)",vr:"SQ",vm:"1",name:"CalibrationSequence"},"(0018,9456)":{tag:"(0018,9456)",vr:"SQ",vm:"1",name:"ObjectThicknessSequence"},"(0018,9457)":{tag:"(0018,9457)",vr:"CS",vm:"1",name:"PlaneIdentification"},"(0018,9461)":{tag:"(0018,9461)",vr:"FL",vm:"1-2",name:"FieldOfViewDimensionsInFloat"},"(0018,9462)":{tag:"(0018,9462)",vr:"SQ",vm:"1",name:"IsocenterReferenceSystemSequence"},"(0018,9463)":{tag:"(0018,9463)",vr:"FL",vm:"1",name:"PositionerIsocenterPrimaryAngle"},"(0018,9464)":{tag:"(0018,9464)",vr:"FL",vm:"1",name:"PositionerIsocenterSecondaryAngle"},"(0018,9465)":{tag:"(0018,9465)",vr:"FL",vm:"1",name:"PositionerIsocenterDetectorRotationAngle"},"(0018,9466)":{tag:"(0018,9466)",vr:"FL",vm:"1",name:"TableXPositionToIsocenter"},"(0018,9467)":{tag:"(0018,9467)",vr:"FL",vm:"1",name:"TableYPositionToIsocenter"},"(0018,9468)":{tag:"(0018,9468)",vr:"FL",vm:"1",name:"TableZPositionToIsocenter"},"(0018,9469)":{tag:"(0018,9469)",vr:"FL",vm:"1",name:"TableHorizontalRotationAngle"},"(0018,9470)":{tag:"(0018,9470)",vr:"FL",vm:"1",name:"TableHeadTiltAngle"},"(0018,9471)":{tag:"(0018,9471)",vr:"FL",vm:"1",name:"TableCradleTiltAngle"},"(0018,9472)":{tag:"(0018,9472)",vr:"SQ",vm:"1",name:"FrameDisplayShutterSequence"},"(0018,9473)":{tag:"(0018,9473)",vr:"FL",vm:"1",name:"AcquiredImageAreaDoseProduct"},"(0018,9474)":{tag:"(0018,9474)",vr:"CS",vm:"1",name:"CArmPositionerTabletopRelationship"},"(0018,9476)":{tag:"(0018,9476)",vr:"SQ",vm:"1",name:"XRayGeometrySequence"},"(0018,9477)":{tag:"(0018,9477)",vr:"SQ",vm:"1",name:"IrradiationEventIdentificationSequence"},"(0018,9504)":{tag:"(0018,9504)",vr:"SQ",vm:"1",name:"XRay3DFrameTypeSequence"},"(0018,9506)":{tag:"(0018,9506)",vr:"SQ",vm:"1",name:"ContributingSourcesSequence"},"(0018,9507)":{tag:"(0018,9507)",vr:"SQ",vm:"1",name:"XRay3DAcquisitionSequence"},"(0018,9508)":{tag:"(0018,9508)",vr:"FL",vm:"1",name:"PrimaryPositionerScanArc"},"(0018,9509)":{tag:"(0018,9509)",vr:"FL",vm:"1",name:"SecondaryPositionerScanArc"},"(0018,9510)":{tag:"(0018,9510)",vr:"FL",vm:"1",name:"PrimaryPositionerScanStartAngle"},"(0018,9511)":{tag:"(0018,9511)",vr:"FL",vm:"1",name:"SecondaryPositionerScanStartAngle"},"(0018,9514)":{tag:"(0018,9514)",vr:"FL",vm:"1",name:"PrimaryPositionerIncrement"},"(0018,9515)":{tag:"(0018,9515)",vr:"FL",vm:"1",name:"SecondaryPositionerIncrement"},"(0018,9516)":{tag:"(0018,9516)",vr:"DT",vm:"1",name:"StartAcquisitionDateTime"},"(0018,9517)":{tag:"(0018,9517)",vr:"DT",vm:"1",name:"EndAcquisitionDateTime"},"(0018,9524)":{tag:"(0018,9524)",vr:"LO",vm:"1",name:"ApplicationName"},"(0018,9525)":{tag:"(0018,9525)",vr:"LO",vm:"1",name:"ApplicationVersion"},"(0018,9526)":{tag:"(0018,9526)",vr:"LO",vm:"1",name:"ApplicationManufacturer"},"(0018,9527)":{tag:"(0018,9527)",vr:"CS",vm:"1",name:"AlgorithmType"},"(0018,9528)":{tag:"(0018,9528)",vr:"LO",vm:"1",name:"AlgorithmDescription"},"(0018,9530)":{tag:"(0018,9530)",vr:"SQ",vm:"1",name:"XRay3DReconstructionSequence"},"(0018,9531)":{tag:"(0018,9531)",vr:"LO",vm:"1",name:"ReconstructionDescription"},"(0018,9538)":{tag:"(0018,9538)",vr:"SQ",vm:"1",name:"PerProjectionAcquisitionSequence"},"(0018,9601)":{tag:"(0018,9601)",vr:"SQ",vm:"1",name:"DiffusionBMatrixSequence"},"(0018,9602)":{tag:"(0018,9602)",vr:"FD",vm:"1",name:"DiffusionBValueXX"},"(0018,9603)":{tag:"(0018,9603)",vr:"FD",vm:"1",name:"DiffusionBValueXY"},"(0018,9604)":{tag:"(0018,9604)",vr:"FD",vm:"1",name:"DiffusionBValueXZ"},"(0018,9605)":{tag:"(0018,9605)",vr:"FD",vm:"1",name:"DiffusionBValueYY"},"(0018,9606)":{tag:"(0018,9606)",vr:"FD",vm:"1",name:"DiffusionBValueYZ"},"(0018,9607)":{tag:"(0018,9607)",vr:"FD",vm:"1",name:"DiffusionBValueZZ"},"(0018,9701)":{tag:"(0018,9701)",vr:"DT",vm:"1",name:"DecayCorrectionDateTime"},"(0018,9715)":{tag:"(0018,9715)",vr:"FD",vm:"1",name:"StartDensityThreshold"},"(0018,9716)":{tag:"(0018,9716)",vr:"FD",vm:"1",name:"StartRelativeDensityDifferenceThreshold"},"(0018,9717)":{tag:"(0018,9717)",vr:"FD",vm:"1",name:"StartCardiacTriggerCountThreshold"},"(0018,9718)":{tag:"(0018,9718)",vr:"FD",vm:"1",name:"StartRespiratoryTriggerCountThreshold"},"(0018,9719)":{tag:"(0018,9719)",vr:"FD",vm:"1",name:"TerminationCountsThreshold"},"(0018,9720)":{tag:"(0018,9720)",vr:"FD",vm:"1",name:"TerminationDensityThreshold"},"(0018,9721)":{tag:"(0018,9721)",vr:"FD",vm:"1",name:"TerminationRelativeDensityThreshold"},"(0018,9722)":{tag:"(0018,9722)",vr:"FD",vm:"1",name:"TerminationTimeThreshold"},"(0018,9723)":{tag:"(0018,9723)",vr:"FD",vm:"1",name:"TerminationCardiacTriggerCountThreshold"},"(0018,9724)":{tag:"(0018,9724)",vr:"FD",vm:"1",name:"TerminationRespiratoryTriggerCountThreshold"},"(0018,9725)":{tag:"(0018,9725)",vr:"CS",vm:"1",name:"DetectorGeometry"},"(0018,9726)":{tag:"(0018,9726)",vr:"FD",vm:"1",name:"TransverseDetectorSeparation"},"(0018,9727)":{tag:"(0018,9727)",vr:"FD",vm:"1",name:"AxialDetectorDimension"},"(0018,9729)":{tag:"(0018,9729)",vr:"US",vm:"1",name:"RadiopharmaceuticalAgentNumber"},"(0018,9732)":{tag:"(0018,9732)",vr:"SQ",vm:"1",name:"PETFrameAcquisitionSequence"},"(0018,9733)":{tag:"(0018,9733)",vr:"SQ",vm:"1",name:"PETDetectorMotionDetailsSequence"},"(0018,9734)":{tag:"(0018,9734)",vr:"SQ",vm:"1",name:"PETTableDynamicsSequence"},"(0018,9735)":{tag:"(0018,9735)",vr:"SQ",vm:"1",name:"PETPositionSequence"},"(0018,9736)":{tag:"(0018,9736)",vr:"SQ",vm:"1",name:"PETFrameCorrectionFactorsSequence"},"(0018,9737)":{tag:"(0018,9737)",vr:"SQ",vm:"1",name:"RadiopharmaceuticalUsageSequence"},"(0018,9738)":{tag:"(0018,9738)",vr:"CS",vm:"1",name:"AttenuationCorrectionSource"},"(0018,9739)":{tag:"(0018,9739)",vr:"US",vm:"1",name:"NumberOfIterations"},"(0018,9740)":{tag:"(0018,9740)",vr:"US",vm:"1",name:"NumberOfSubsets"},"(0018,9749)":{tag:"(0018,9749)",vr:"SQ",vm:"1",name:"PETReconstructionSequence"},"(0018,9751)":{tag:"(0018,9751)",vr:"SQ",vm:"1",name:"PETFrameTypeSequence"},"(0018,9755)":{tag:"(0018,9755)",vr:"CS",vm:"1",name:"TimeOfFlightInformationUsed"},"(0018,9756)":{tag:"(0018,9756)",vr:"CS",vm:"1",name:"ReconstructionType"},"(0018,9758)":{tag:"(0018,9758)",vr:"CS",vm:"1",name:"DecayCorrected"},"(0018,9759)":{tag:"(0018,9759)",vr:"CS",vm:"1",name:"AttenuationCorrected"},"(0018,9760)":{tag:"(0018,9760)",vr:"CS",vm:"1",name:"ScatterCorrected"},"(0018,9761)":{tag:"(0018,9761)",vr:"CS",vm:"1",name:"DeadTimeCorrected"},"(0018,9762)":{tag:"(0018,9762)",vr:"CS",vm:"1",name:"GantryMotionCorrected"},"(0018,9763)":{tag:"(0018,9763)",vr:"CS",vm:"1",name:"PatientMotionCorrected"},"(0018,9764)":{tag:"(0018,9764)",vr:"CS",vm:"1",name:"CountLossNormalizationCorrected"},"(0018,9765)":{tag:"(0018,9765)",vr:"CS",vm:"1",name:"RandomsCorrected"},"(0018,9766)":{tag:"(0018,9766)",vr:"CS",vm:"1",name:"NonUniformRadialSamplingCorrected"},"(0018,9767)":{tag:"(0018,9767)",vr:"CS",vm:"1",name:"SensitivityCalibrated"},"(0018,9768)":{tag:"(0018,9768)",vr:"CS",vm:"1",name:"DetectorNormalizationCorrection"},"(0018,9769)":{tag:"(0018,9769)",vr:"CS",vm:"1",name:"IterativeReconstructionMethod"},"(0018,9770)":{tag:"(0018,9770)",vr:"CS",vm:"1",name:"AttenuationCorrectionTemporalRelationship"},"(0018,9771)":{tag:"(0018,9771)",vr:"SQ",vm:"1",name:"PatientPhysiologicalStateSequence"},"(0018,9772)":{tag:"(0018,9772)",vr:"SQ",vm:"1",name:"PatientPhysiologicalStateCodeSequence"},"(0018,9801)":{tag:"(0018,9801)",vr:"FD",vm:"1-n",name:"DepthsOfFocus"},"(0018,9803)":{tag:"(0018,9803)",vr:"SQ",vm:"1",name:"ExcludedIntervalsSequence"},"(0018,9804)":{tag:"(0018,9804)",vr:"DT",vm:"1",name:"ExclusionStartDatetime"},"(0018,9805)":{tag:"(0018,9805)",vr:"FD",vm:"1",name:"ExclusionDuration"},"(0018,9806)":{tag:"(0018,9806)",vr:"SQ",vm:"1",name:"USImageDescriptionSequence"},"(0018,9807)":{tag:"(0018,9807)",vr:"SQ",vm:"1",name:"ImageDataTypeSequence"},"(0018,9808)":{tag:"(0018,9808)",vr:"CS",vm:"1",name:"DataType"},"(0018,9809)":{tag:"(0018,9809)",vr:"SQ",vm:"1",name:"TransducerScanPatternCodeSequence"},"(0018,980B)":{tag:"(0018,980B)",vr:"CS",vm:"1",name:"AliasedDataType"},"(0018,980C)":{tag:"(0018,980C)",vr:"CS",vm:"1",name:"PositionMeasuringDeviceUsed"},"(0018,980D)":{tag:"(0018,980D)",vr:"SQ",vm:"1",name:"TransducerGeometryCodeSequence"},"(0018,980E)":{tag:"(0018,980E)",vr:"SQ",vm:"1",name:"TransducerBeamSteeringCodeSequence"},"(0018,980F)":{tag:"(0018,980F)",vr:"SQ",vm:"1",name:"TransducerApplicationCodeSequence"},"(0018,A001)":{tag:"(0018,A001)",vr:"SQ",vm:"1",name:"ContributingEquipmentSequence"},"(0018,A002)":{tag:"(0018,A002)",vr:"DT",vm:"1",name:"ContributionDateTime"},"(0018,A003)":{tag:"(0018,A003)",vr:"ST",vm:"1",name:"ContributionDescription"},"(0020,000D)":{tag:"(0020,000D)",vr:"UI",vm:"1",name:"StudyInstanceUID"},"(0020,000E)":{tag:"(0020,000E)",vr:"UI",vm:"1",name:"SeriesInstanceUID"},"(0020,0010)":{tag:"(0020,0010)",vr:"SH",vm:"1",name:"StudyID"},"(0020,0011)":{tag:"(0020,0011)",vr:"IS",vm:"1",name:"SeriesNumber"},"(0020,0012)":{tag:"(0020,0012)",vr:"IS",vm:"1",name:"AcquisitionNumber"},"(0020,0013)":{tag:"(0020,0013)",vr:"IS",vm:"1",name:"InstanceNumber"},"(0020,0014)":{tag:"(0020,0014)",vr:"IS",vm:"1",name:"IsotopeNumber"},"(0020,0015)":{tag:"(0020,0015)",vr:"IS",vm:"1",name:"PhaseNumber"},"(0020,0016)":{tag:"(0020,0016)",vr:"IS",vm:"1",name:"IntervalNumber"},"(0020,0017)":{tag:"(0020,0017)",vr:"IS",vm:"1",name:"TimeSlotNumber"},"(0020,0018)":{tag:"(0020,0018)",vr:"IS",vm:"1",name:"AngleNumber"},"(0020,0019)":{tag:"(0020,0019)",vr:"IS",vm:"1",name:"ItemNumber"},"(0020,0020)":{tag:"(0020,0020)",vr:"CS",vm:"2",name:"PatientOrientation"},"(0020,0022)":{tag:"(0020,0022)",vr:"IS",vm:"1",name:"OverlayNumber"},"(0020,0024)":{tag:"(0020,0024)",vr:"IS",vm:"1",name:"CurveNumber"},"(0020,0026)":{tag:"(0020,0026)",vr:"IS",vm:"1",name:"LUTNumber"},"(0020,0030)":{tag:"(0020,0030)",vr:"DS",vm:"3",name:"ImagePosition"},"(0020,0032)":{tag:"(0020,0032)",vr:"DS",vm:"3",name:"ImagePositionPatient"},"(0020,0035)":{tag:"(0020,0035)",vr:"DS",vm:"6",name:"ImageOrientation"},"(0020,0037)":{tag:"(0020,0037)",vr:"DS",vm:"6",name:"ImageOrientationPatient"},"(0020,0050)":{tag:"(0020,0050)",vr:"DS",vm:"1",name:"Location"},"(0020,0052)":{tag:"(0020,0052)",vr:"UI",vm:"1",name:"FrameOfReferenceUID"},"(0020,0060)":{tag:"(0020,0060)",vr:"CS",vm:"1",name:"Laterality"},"(0020,0062)":{tag:"(0020,0062)",vr:"CS",vm:"1",name:"ImageLaterality"},"(0020,0070)":{tag:"(0020,0070)",vr:"LO",vm:"1",name:"ImageGeometryType"},"(0020,0080)":{tag:"(0020,0080)",vr:"CS",vm:"1-n",name:"MaskingImage"},"(0020,00AA)":{tag:"(0020,00AA)",vr:"IS",vm:"1",name:"ReportNumber"},"(0020,0100)":{tag:"(0020,0100)",vr:"IS",vm:"1",name:"TemporalPositionIdentifier"},"(0020,0105)":{tag:"(0020,0105)",vr:"IS",vm:"1",name:"NumberOfTemporalPositions"},"(0020,0110)":{tag:"(0020,0110)",vr:"DS",vm:"1",name:"TemporalResolution"},"(0020,0200)":{tag:"(0020,0200)",vr:"UI",vm:"1",name:"SynchronizationFrameOfReferenceUID"},"(0020,0242)":{tag:"(0020,0242)",vr:"UI",vm:"1",name:"SOPInstanceUIDOfConcatenationSource"},"(0020,1000)":{tag:"(0020,1000)",vr:"IS",vm:"1",name:"SeriesInStudy"},"(0020,1001)":{tag:"(0020,1001)",vr:"IS",vm:"1",name:"AcquisitionsInSeries"},"(0020,1002)":{tag:"(0020,1002)",vr:"IS",vm:"1",name:"ImagesInAcquisition"},"(0020,1003)":{tag:"(0020,1003)",vr:"IS",vm:"1",name:"ImagesInSeries"},"(0020,1004)":{tag:"(0020,1004)",vr:"IS",vm:"1",name:"AcquisitionsInStudy"},"(0020,1005)":{tag:"(0020,1005)",vr:"IS",vm:"1",name:"ImagesInStudy"},"(0020,1020)":{tag:"(0020,1020)",vr:"LO",vm:"1-n",name:"Reference"},"(0020,1040)":{tag:"(0020,1040)",vr:"LO",vm:"1",name:"PositionReferenceIndicator"},"(0020,1041)":{tag:"(0020,1041)",vr:"DS",vm:"1",name:"SliceLocation"},"(0020,1070)":{tag:"(0020,1070)",vr:"IS",vm:"1-n",name:"OtherStudyNumbers"},"(0020,1200)":{tag:"(0020,1200)",vr:"IS",vm:"1",name:"NumberOfPatientRelatedStudies"},"(0020,1202)":{tag:"(0020,1202)",vr:"IS",vm:"1",name:"NumberOfPatientRelatedSeries"},"(0020,1204)":{tag:"(0020,1204)",vr:"IS",vm:"1",name:"NumberOfPatientRelatedInstances"},"(0020,1206)":{tag:"(0020,1206)",vr:"IS",vm:"1",name:"NumberOfStudyRelatedSeries"},"(0020,1208)":{tag:"(0020,1208)",vr:"IS",vm:"1",name:"NumberOfStudyRelatedInstances"},"(0020,1209)":{tag:"(0020,1209)",vr:"IS",vm:"1",name:"NumberOfSeriesRelatedInstances"},"(0020,31xx)":{tag:"(0020,31xx)",vr:"CS",vm:"1-n",name:"SourceImageIDs"},"(0020,3401)":{tag:"(0020,3401)",vr:"CS",vm:"1",name:"ModifyingDeviceID"},"(0020,3402)":{tag:"(0020,3402)",vr:"CS",vm:"1",name:"ModifiedImageID"},"(0020,3403)":{tag:"(0020,3403)",vr:"DA",vm:"1",name:"ModifiedImageDate"},"(0020,3404)":{tag:"(0020,3404)",vr:"LO",vm:"1",name:"ModifyingDeviceManufacturer"},"(0020,3405)":{tag:"(0020,3405)",vr:"TM",vm:"1",name:"ModifiedImageTime"},"(0020,3406)":{tag:"(0020,3406)",vr:"LO",vm:"1",name:"ModifiedImageDescription"},"(0020,4000)":{tag:"(0020,4000)",vr:"LT",vm:"1",name:"ImageComments"},"(0020,5000)":{tag:"(0020,5000)",vr:"AT",vm:"1-n",name:"OriginalImageIdentification"},"(0020,5002)":{tag:"(0020,5002)",vr:"LO",vm:"1-n",name:"OriginalImageIdentificationNomenclature"},"(0020,9056)":{tag:"(0020,9056)",vr:"SH",vm:"1",name:"StackID"},"(0020,9057)":{tag:"(0020,9057)",vr:"UL",vm:"1",name:"InStackPositionNumber"},"(0020,9071)":{tag:"(0020,9071)",vr:"SQ",vm:"1",name:"FrameAnatomySequence"},"(0020,9072)":{tag:"(0020,9072)",vr:"CS",vm:"1",name:"FrameLaterality"},"(0020,9111)":{tag:"(0020,9111)",vr:"SQ",vm:"1",name:"FrameContentSequence"},"(0020,9113)":{tag:"(0020,9113)",vr:"SQ",vm:"1",name:"PlanePositionSequence"},"(0020,9116)":{tag:"(0020,9116)",vr:"SQ",vm:"1",name:"PlaneOrientationSequence"},"(0020,9128)":{tag:"(0020,9128)",vr:"UL",vm:"1",name:"TemporalPositionIndex"},"(0020,9153)":{tag:"(0020,9153)",vr:"FD",vm:"1",name:"NominalCardiacTriggerDelayTime"},"(0020,9154)":{tag:"(0020,9154)",vr:"FL",vm:"1",name:"NominalCardiacTriggerTimePriorToRPeak"},"(0020,9155)":{tag:"(0020,9155)",vr:"FL",vm:"1",name:"ActualCardiacTriggerTimePriorToRPeak"},"(0020,9156)":{tag:"(0020,9156)",vr:"US",vm:"1",name:"FrameAcquisitionNumber"},"(0020,9157)":{tag:"(0020,9157)",vr:"UL",vm:"1-n",name:"DimensionIndexValues"},"(0020,9158)":{tag:"(0020,9158)",vr:"LT",vm:"1",name:"FrameComments"},"(0020,9161)":{tag:"(0020,9161)",vr:"UI",vm:"1",name:"ConcatenationUID"},"(0020,9162)":{tag:"(0020,9162)",vr:"US",vm:"1",name:"InConcatenationNumber"},"(0020,9163)":{tag:"(0020,9163)",vr:"US",vm:"1",name:"InConcatenationTotalNumber"},"(0020,9164)":{tag:"(0020,9164)",vr:"UI",vm:"1",name:"DimensionOrganizationUID"},"(0020,9165)":{tag:"(0020,9165)",vr:"AT",vm:"1",name:"DimensionIndexPointer"},"(0020,9167)":{tag:"(0020,9167)",vr:"AT",vm:"1",name:"FunctionalGroupPointer"},"(0020,9213)":{tag:"(0020,9213)",vr:"LO",vm:"1",name:"DimensionIndexPrivateCreator"},"(0020,9221)":{tag:"(0020,9221)",vr:"SQ",vm:"1",name:"DimensionOrganizationSequence"},"(0020,9222)":{tag:"(0020,9222)",vr:"SQ",vm:"1",name:"DimensionIndexSequence"},"(0020,9228)":{tag:"(0020,9228)",vr:"UL",vm:"1",name:"ConcatenationFrameOffsetNumber"},"(0020,9238)":{tag:"(0020,9238)",vr:"LO",vm:"1",name:"FunctionalGroupPrivateCreator"},"(0020,9241)":{tag:"(0020,9241)",vr:"FL",vm:"1",name:"NominalPercentageOfCardiacPhase"},"(0020,9245)":{tag:"(0020,9245)",vr:"FL",vm:"1",name:"NominalPercentageOfRespiratoryPhase"},"(0020,9246)":{tag:"(0020,9246)",vr:"FL",vm:"1",name:"StartingRespiratoryAmplitude"},"(0020,9247)":{tag:"(0020,9247)",vr:"CS",vm:"1",name:"StartingRespiratoryPhase"},"(0020,9248)":{tag:"(0020,9248)",vr:"FL",vm:"1",name:"EndingRespiratoryAmplitude"},"(0020,9249)":{tag:"(0020,9249)",vr:"CS",vm:"1",name:"EndingRespiratoryPhase"},"(0020,9250)":{tag:"(0020,9250)",vr:"CS",vm:"1",name:"RespiratoryTriggerType"},"(0020,9251)":{tag:"(0020,9251)",vr:"FD",vm:"1",name:"RRIntervalTimeNominal"},"(0020,9252)":{tag:"(0020,9252)",vr:"FD",vm:"1",name:"ActualCardiacTriggerDelayTime"},"(0020,9253)":{tag:"(0020,9253)",vr:"SQ",vm:"1",name:"RespiratorySynchronizationSequence"},"(0020,9254)":{tag:"(0020,9254)",vr:"FD",vm:"1",name:"RespiratoryIntervalTime"},"(0020,9255)":{tag:"(0020,9255)",vr:"FD",vm:"1",name:"NominalRespiratoryTriggerDelayTime"},"(0020,9256)":{tag:"(0020,9256)",vr:"FD",vm:"1",name:"RespiratoryTriggerDelayThreshold"},"(0020,9257)":{tag:"(0020,9257)",vr:"FD",vm:"1",name:"ActualRespiratoryTriggerDelayTime"},"(0020,9301)":{tag:"(0020,9301)",vr:"FD",vm:"3",name:"ImagePositionVolume"},"(0020,9302)":{tag:"(0020,9302)",vr:"FD",vm:"6",name:"ImageOrientationVolume"},"(0020,9307)":{tag:"(0020,9307)",vr:"CS",vm:"1",name:"UltrasoundAcquisitionGeometry"},"(0020,9308)":{tag:"(0020,9308)",vr:"FD",vm:"3",name:"ApexPosition"},"(0020,9309)":{tag:"(0020,9309)",vr:"FD",vm:"16",name:"VolumeToTransducerMappingMatrix"},"(0020,930A)":{tag:"(0020,930A)",vr:"FD",vm:"16",name:"VolumeToTableMappingMatrix"},"(0020,930C)":{tag:"(0020,930C)",vr:"CS",vm:"1",name:"PatientFrameOfReferenceSource"},"(0020,930D)":{tag:"(0020,930D)",vr:"FD",vm:"1",name:"TemporalPositionTimeOffset"},"(0020,930E)":{tag:"(0020,930E)",vr:"SQ",vm:"1",name:"PlanePositionVolumeSequence"},"(0020,930F)":{tag:"(0020,930F)",vr:"SQ",vm:"1",name:"PlaneOrientationVolumeSequence"},"(0020,9310)":{tag:"(0020,9310)",vr:"SQ",vm:"1",name:"TemporalPositionSequence"},"(0020,9311)":{tag:"(0020,9311)",vr:"CS",vm:"1",name:"DimensionOrganizationType"},"(0020,9312)":{tag:"(0020,9312)",vr:"UI",vm:"1",name:"VolumeFrameOfReferenceUID"},"(0020,9313)":{tag:"(0020,9313)",vr:"UI",vm:"1",name:"TableFrameOfReferenceUID"},"(0020,9421)":{tag:"(0020,9421)",vr:"LO",vm:"1",name:"DimensionDescriptionLabel"},"(0020,9450)":{tag:"(0020,9450)",vr:"SQ",vm:"1",name:"PatientOrientationInFrameSequence"},"(0020,9453)":{tag:"(0020,9453)",vr:"LO",vm:"1",name:"FrameLabel"},"(0020,9518)":{tag:"(0020,9518)",vr:"US",vm:"1-n",name:"AcquisitionIndex"},"(0020,9529)":{tag:"(0020,9529)",vr:"SQ",vm:"1",name:"ContributingSOPInstancesReferenceSequence"},"(0020,9536)":{tag:"(0020,9536)",vr:"US",vm:"1",name:"ReconstructionIndex"},"(0022,0001)":{tag:"(0022,0001)",vr:"US",vm:"1",name:"LightPathFilterPassThroughWavelength"},"(0022,0002)":{tag:"(0022,0002)",vr:"US",vm:"2",name:"LightPathFilterPassBand"},"(0022,0003)":{tag:"(0022,0003)",vr:"US",vm:"1",name:"ImagePathFilterPassThroughWavelength"},"(0022,0004)":{tag:"(0022,0004)",vr:"US",vm:"2",name:"ImagePathFilterPassBand"},"(0022,0005)":{tag:"(0022,0005)",vr:"CS",vm:"1",name:"PatientEyeMovementCommanded"},"(0022,0006)":{tag:"(0022,0006)",vr:"SQ",vm:"1",name:"PatientEyeMovementCommandCodeSequence"},"(0022,0007)":{tag:"(0022,0007)",vr:"FL",vm:"1",name:"SphericalLensPower"},"(0022,0008)":{tag:"(0022,0008)",vr:"FL",vm:"1",name:"CylinderLensPower"},"(0022,0009)":{tag:"(0022,0009)",vr:"FL",vm:"1",name:"CylinderAxis"},"(0022,000A)":{tag:"(0022,000A)",vr:"FL",vm:"1",name:"EmmetropicMagnification"},"(0022,000B)":{tag:"(0022,000B)",vr:"FL",vm:"1",name:"IntraOcularPressure"},"(0022,000C)":{tag:"(0022,000C)",vr:"FL",vm:"1",name:"HorizontalFieldOfView"},"(0022,000D)":{tag:"(0022,000D)",vr:"CS",vm:"1",name:"PupilDilated"},"(0022,000E)":{tag:"(0022,000E)",vr:"FL",vm:"1",name:"DegreeOfDilation"},"(0022,0010)":{tag:"(0022,0010)",vr:"FL",vm:"1",name:"StereoBaselineAngle"},"(0022,0011)":{tag:"(0022,0011)",vr:"FL",vm:"1",name:"StereoBaselineDisplacement"},"(0022,0012)":{tag:"(0022,0012)",vr:"FL",vm:"1",name:"StereoHorizontalPixelOffset"},"(0022,0013)":{tag:"(0022,0013)",vr:"FL",vm:"1",name:"StereoVerticalPixelOffset"},"(0022,0014)":{tag:"(0022,0014)",vr:"FL",vm:"1",name:"StereoRotation"},"(0022,0015)":{tag:"(0022,0015)",vr:"SQ",vm:"1",name:"AcquisitionDeviceTypeCodeSequence"},"(0022,0016)":{tag:"(0022,0016)",vr:"SQ",vm:"1",name:"IlluminationTypeCodeSequence"},"(0022,0017)":{tag:"(0022,0017)",vr:"SQ",vm:"1",name:"LightPathFilterTypeStackCodeSequence"},"(0022,0018)":{tag:"(0022,0018)",vr:"SQ",vm:"1",name:"ImagePathFilterTypeStackCodeSequence"},"(0022,0019)":{tag:"(0022,0019)",vr:"SQ",vm:"1",name:"LensesCodeSequence"},"(0022,001A)":{tag:"(0022,001A)",vr:"SQ",vm:"1",name:"ChannelDescriptionCodeSequence"},"(0022,001B)":{tag:"(0022,001B)",vr:"SQ",vm:"1",name:"RefractiveStateSequence"},"(0022,001C)":{tag:"(0022,001C)",vr:"SQ",vm:"1",name:"MydriaticAgentCodeSequence"},"(0022,001D)":{tag:"(0022,001D)",vr:"SQ",vm:"1",name:"RelativeImagePositionCodeSequence"},"(0022,001E)":{tag:"(0022,001E)",vr:"FL",vm:"1",name:"CameraAngleOfView"},"(0022,0020)":{tag:"(0022,0020)",vr:"SQ",vm:"1",name:"StereoPairsSequence"},"(0022,0021)":{tag:"(0022,0021)",vr:"SQ",vm:"1",name:"LeftImageSequence"},"(0022,0022)":{tag:"(0022,0022)",vr:"SQ",vm:"1",name:"RightImageSequence"},"(0022,0030)":{tag:"(0022,0030)",vr:"FL",vm:"1",name:"AxialLengthOfTheEye"},"(0022,0031)":{tag:"(0022,0031)",vr:"SQ",vm:"1",name:"OphthalmicFrameLocationSequence"},"(0022,0032)":{tag:"(0022,0032)",vr:"FL",vm:"2-2n",name:"ReferenceCoordinates"},"(0022,0035)":{tag:"(0022,0035)",vr:"FL",vm:"1",name:"DepthSpatialResolution"},"(0022,0036)":{tag:"(0022,0036)",vr:"FL",vm:"1",name:"MaximumDepthDistortion"},"(0022,0037)":{tag:"(0022,0037)",vr:"FL",vm:"1",name:"AlongScanSpatialResolution"},"(0022,0038)":{tag:"(0022,0038)",vr:"FL",vm:"1",name:"MaximumAlongScanDistortion"},"(0022,0039)":{tag:"(0022,0039)",vr:"CS",vm:"1",name:"OphthalmicImageOrientation"},"(0022,0041)":{tag:"(0022,0041)",vr:"FL",vm:"1",name:"DepthOfTransverseImage"},"(0022,0042)":{tag:"(0022,0042)",vr:"SQ",vm:"1",name:"MydriaticAgentConcentrationUnitsSequence"},"(0022,0048)":{tag:"(0022,0048)",vr:"FL",vm:"1",name:"AcrossScanSpatialResolution"},"(0022,0049)":{tag:"(0022,0049)",vr:"FL",vm:"1",name:"MaximumAcrossScanDistortion"},"(0022,004E)":{tag:"(0022,004E)",vr:"DS",vm:"1",name:"MydriaticAgentConcentration"},"(0022,0055)":{tag:"(0022,0055)",vr:"FL",vm:"1",name:"IlluminationWaveLength"},"(0022,0056)":{tag:"(0022,0056)",vr:"FL",vm:"1",name:"IlluminationPower"},"(0022,0057)":{tag:"(0022,0057)",vr:"FL",vm:"1",name:"IlluminationBandwidth"},"(0022,0058)":{tag:"(0022,0058)",vr:"SQ",vm:"1",name:"MydriaticAgentSequence"},"(0022,1007)":{tag:"(0022,1007)",vr:"SQ",vm:"1",name:"OphthalmicAxialMeasurementsRightEyeSequence"},"(0022,1008)":{tag:"(0022,1008)",vr:"SQ",vm:"1",name:"OphthalmicAxialMeasurementsLeftEyeSequence"},"(0022,1010)":{tag:"(0022,1010)",vr:"CS",vm:"1",name:"OphthalmicAxialLengthMeasurementsType"},"(0022,1019)":{tag:"(0022,1019)",vr:"FL",vm:"1",name:"OphthalmicAxialLength"},"(0022,1024)":{tag:"(0022,1024)",vr:"SQ",vm:"1",name:"LensStatusCodeSequence"},"(0022,1025)":{tag:"(0022,1025)",vr:"SQ",vm:"1",name:"VitreousStatusCodeSequence"},"(0022,1028)":{tag:"(0022,1028)",vr:"SQ",vm:"1",name:"IOLFormulaCodeSequence"},"(0022,1029)":{tag:"(0022,1029)",vr:"LO",vm:"1",name:"IOLFormulaDetail"},"(0022,1033)":{tag:"(0022,1033)",vr:"FL",vm:"1",name:"KeratometerIndex"},"(0022,1035)":{tag:"(0022,1035)",vr:"SQ",vm:"1",name:"SourceOfOphthalmicAxialLengthCodeSequence"},"(0022,1037)":{tag:"(0022,1037)",vr:"FL",vm:"1",name:"TargetRefraction"},"(0022,1039)":{tag:"(0022,1039)",vr:"CS",vm:"1",name:"RefractiveProcedureOccurred"},"(0022,1040)":{tag:"(0022,1040)",vr:"SQ",vm:"1",name:"RefractiveSurgeryTypeCodeSequence"},"(0022,1044)":{tag:"(0022,1044)",vr:"SQ",vm:"1",name:"OphthalmicUltrasoundAxialMeasurementsTypeCodeSequence"},"(0022,1050)":{tag:"(0022,1050)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsSequence"},"(0022,1053)":{tag:"(0022,1053)",vr:"FL",vm:"1",name:"IOLPower"},"(0022,1054)":{tag:"(0022,1054)",vr:"FL",vm:"1",name:"PredictedRefractiveError"},"(0022,1059)":{tag:"(0022,1059)",vr:"FL",vm:"1",name:"OphthalmicAxialLengthVelocity"},"(0022,1065)":{tag:"(0022,1065)",vr:"LO",vm:"1",name:"LensStatusDescription"},"(0022,1066)":{tag:"(0022,1066)",vr:"LO",vm:"1",name:"VitreousStatusDescription"},"(0022,1090)":{tag:"(0022,1090)",vr:"SQ",vm:"1",name:"IOLPowerSequence"},"(0022,1092)":{tag:"(0022,1092)",vr:"SQ",vm:"1",name:"LensConstantSequence"},"(0022,1093)":{tag:"(0022,1093)",vr:"LO",vm:"1",name:"IOLManufacturer"},"(0022,1094)":{tag:"(0022,1094)",vr:"LO",vm:"1",name:"LensConstantDescription"},"(0022,1096)":{tag:"(0022,1096)",vr:"SQ",vm:"1",name:"KeratometryMeasurementTypeCodeSequence"},"(0022,1100)":{tag:"(0022,1100)",vr:"SQ",vm:"1",name:"ReferencedOphthalmicAxialMeasurementsSequence"},"(0022,1101)":{tag:"(0022,1101)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsSegmentNameCodeSequence"},"(0022,1103)":{tag:"(0022,1103)",vr:"SQ",vm:"1",name:"RefractiveErrorBeforeRefractiveSurgeryCodeSequence"},"(0022,1121)":{tag:"(0022,1121)",vr:"FL",vm:"1",name:"IOLPowerForExactEmmetropia"},"(0022,1122)":{tag:"(0022,1122)",vr:"FL",vm:"1",name:"IOLPowerForExactTargetRefraction"},"(0022,1125)":{tag:"(0022,1125)",vr:"SQ",vm:"1",name:"AnteriorChamberDepthDefinitionCodeSequence"},"(0022,1130)":{tag:"(0022,1130)",vr:"FL",vm:"1",name:"LensThickness"},"(0022,1131)":{tag:"(0022,1131)",vr:"FL",vm:"1",name:"AnteriorChamberDepth"},"(0022,1132)":{tag:"(0022,1132)",vr:"SQ",vm:"1",name:"SourceOfLensThicknessDataCodeSequence"},"(0022,1133)":{tag:"(0022,1133)",vr:"SQ",vm:"1",name:"SourceOfAnteriorChamberDepthDataCodeSequence"},"(0022,1135)":{tag:"(0022,1135)",vr:"SQ",vm:"1",name:"SourceOfRefractiveErrorDataCodeSequence"},"(0022,1140)":{tag:"(0022,1140)",vr:"CS",vm:"1",name:"OphthalmicAxialLengthMeasurementModified"},"(0022,1150)":{tag:"(0022,1150)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthDataSourceCodeSequence"},"(0022,1153)":{tag:"(0022,1153)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthAcquisitionMethodCodeSequence"},"(0022,1155)":{tag:"(0022,1155)",vr:"FL",vm:"1",name:"SignalToNoiseRatio"},"(0022,1159)":{tag:"(0022,1159)",vr:"LO",vm:"1",name:"OphthalmicAxialLengthDataSourceDescription"},"(0022,1210)":{tag:"(0022,1210)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsTotalLengthSequence"},"(0022,1211)":{tag:"(0022,1211)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsSegmentalLengthSequence"},"(0022,1212)":{tag:"(0022,1212)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthMeasurementsLengthSummationSequence"},"(0022,1220)":{tag:"(0022,1220)",vr:"SQ",vm:"1",name:"UltrasoundOphthalmicAxialLengthMeasurementsSequence"},"(0022,1225)":{tag:"(0022,1225)",vr:"SQ",vm:"1",name:"OpticalOphthalmicAxialLengthMeasurementsSequence"},"(0022,1230)":{tag:"(0022,1230)",vr:"SQ",vm:"1",name:"UltrasoundSelectedOphthalmicAxialLengthSequence"},"(0022,1250)":{tag:"(0022,1250)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthSelectionMethodCodeSequence"},"(0022,1255)":{tag:"(0022,1255)",vr:"SQ",vm:"1",name:"OpticalSelectedOphthalmicAxialLengthSequence"},"(0022,1257)":{tag:"(0022,1257)",vr:"SQ",vm:"1",name:"SelectedSegmentalOphthalmicAxialLengthSequence"},"(0022,1260)":{tag:"(0022,1260)",vr:"SQ",vm:"1",name:"SelectedTotalOphthalmicAxialLengthSequence"},"(0022,1262)":{tag:"(0022,1262)",vr:"SQ",vm:"1",name:"OphthalmicAxialLengthQualityMetricSequence"},"(0022,1273)":{tag:"(0022,1273)",vr:"LO",vm:"1",name:"OphthalmicAxialLengthQualityMetricTypeDescription"},"(0022,1300)":{tag:"(0022,1300)",vr:"SQ",vm:"1",name:"IntraocularLensCalculationsRightEyeSequence"},"(0022,1310)":{tag:"(0022,1310)",vr:"SQ",vm:"1",name:"IntraocularLensCalculationsLeftEyeSequence"},"(0022,1330)":{tag:"(0022,1330)",vr:"SQ",vm:"1",name:"ReferencedOphthalmicAxialLengthMeasurementQCImageSequence"},"(0024,0010)":{tag:"(0024,0010)",vr:"FL",vm:"1",name:"VisualFieldHorizontalExtent"},"(0024,0011)":{tag:"(0024,0011)",vr:"FL",vm:"1",name:"VisualFieldVerticalExtent"},"(0024,0012)":{tag:"(0024,0012)",vr:"CS",vm:"1",name:"VisualFieldShape"},"(0024,0016)":{tag:"(0024,0016)",vr:"SQ",vm:"1",name:"ScreeningTestModeCodeSequence"},"(0024,0018)":{tag:"(0024,0018)",vr:"FL",vm:"1",name:"MaximumStimulusLuminance"},"(0024,0020)":{tag:"(0024,0020)",vr:"FL",vm:"1",name:"BackgroundLuminance"},"(0024,0021)":{tag:"(0024,0021)",vr:"SQ",vm:"1",name:"StimulusColorCodeSequence"},"(0024,0024)":{tag:"(0024,0024)",vr:"SQ",vm:"1",name:"BackgroundIlluminationColorCodeSequence"},"(0024,0025)":{tag:"(0024,0025)",vr:"FL",vm:"1",name:"StimulusArea"},"(0024,0028)":{tag:"(0024,0028)",vr:"FL",vm:"1",name:"StimulusPresentationTime"},"(0024,0032)":{tag:"(0024,0032)",vr:"SQ",vm:"1",name:"FixationSequence"},"(0024,0033)":{tag:"(0024,0033)",vr:"SQ",vm:"1",name:"FixationMonitoringCodeSequence"},"(0024,0034)":{tag:"(0024,0034)",vr:"SQ",vm:"1",name:"VisualFieldCatchTrialSequence"},"(0024,0035)":{tag:"(0024,0035)",vr:"US",vm:"1",name:"FixationCheckedQuantity"},"(0024,0036)":{tag:"(0024,0036)",vr:"US",vm:"1",name:"PatientNotProperlyFixatedQuantity"},"(0024,0037)":{tag:"(0024,0037)",vr:"CS",vm:"1",name:"PresentedVisualStimuliDataFlag"},"(0024,0038)":{tag:"(0024,0038)",vr:"US",vm:"1",name:"NumberOfVisualStimuli"},"(0024,0039)":{tag:"(0024,0039)",vr:"CS",vm:"1",name:"ExcessiveFixationLossesDataFlag"},"(0024,0040)":{tag:"(0024,0040)",vr:"CS",vm:"1",name:"ExcessiveFixationLosses"},"(0024,0042)":{tag:"(0024,0042)",vr:"US",vm:"1",name:"StimuliRetestingQuantity"},"(0024,0044)":{tag:"(0024,0044)",vr:"LT",vm:"1",name:"CommentsOnPatientPerformanceOfVisualField"},"(0024,0045)":{tag:"(0024,0045)",vr:"CS",vm:"1",name:"FalseNegativesEstimateFlag"},"(0024,0046)":{tag:"(0024,0046)",vr:"FL",vm:"1",name:"FalseNegativesEstimate"},"(0024,0048)":{tag:"(0024,0048)",vr:"US",vm:"1",name:"NegativeCatchTrialsQuantity"},"(0024,0050)":{tag:"(0024,0050)",vr:"US",vm:"1",name:"FalseNegativesQuantity"},"(0024,0051)":{tag:"(0024,0051)",vr:"CS",vm:"1",name:"ExcessiveFalseNegativesDataFlag"},"(0024,0052)":{tag:"(0024,0052)",vr:"CS",vm:"1",name:"ExcessiveFalseNegatives"},"(0024,0053)":{tag:"(0024,0053)",vr:"CS",vm:"1",name:"FalsePositivesEstimateFlag"},"(0024,0054)":{tag:"(0024,0054)",vr:"FL",vm:"1",name:"FalsePositivesEstimate"},"(0024,0055)":{tag:"(0024,0055)",vr:"CS",vm:"1",name:"CatchTrialsDataFlag"},"(0024,0056)":{tag:"(0024,0056)",vr:"US",vm:"1",name:"PositiveCatchTrialsQuantity"},"(0024,0057)":{tag:"(0024,0057)",vr:"CS",vm:"1",name:"TestPointNormalsDataFlag"},"(0024,0058)":{tag:"(0024,0058)",vr:"SQ",vm:"1",name:"TestPointNormalsSequence"},"(0024,0059)":{tag:"(0024,0059)",vr:"CS",vm:"1",name:"GlobalDeviationProbabilityNormalsFlag"},"(0024,0060)":{tag:"(0024,0060)",vr:"US",vm:"1",name:"FalsePositivesQuantity"},"(0024,0061)":{tag:"(0024,0061)",vr:"CS",vm:"1",name:"ExcessiveFalsePositivesDataFlag"},"(0024,0062)":{tag:"(0024,0062)",vr:"CS",vm:"1",name:"ExcessiveFalsePositives"},"(0024,0063)":{tag:"(0024,0063)",vr:"CS",vm:"1",name:"VisualFieldTestNormalsFlag"},"(0024,0064)":{tag:"(0024,0064)",vr:"SQ",vm:"1",name:"ResultsNormalsSequence"},"(0024,0065)":{tag:"(0024,0065)",vr:"SQ",vm:"1",name:"AgeCorrectedSensitivityDeviationAlgorithmSequence"},"(0024,0066)":{tag:"(0024,0066)",vr:"FL",vm:"1",name:"GlobalDeviationFromNormal"},"(0024,0067)":{tag:"(0024,0067)",vr:"SQ",vm:"1",name:"GeneralizedDefectSensitivityDeviationAlgorithmSequence"},"(0024,0068)":{tag:"(0024,0068)",vr:"FL",vm:"1",name:"LocalizedDeviationfromNormal"},"(0024,0069)":{tag:"(0024,0069)",vr:"LO",vm:"1",name:"PatientReliabilityIndicator"},"(0024,0070)":{tag:"(0024,0070)",vr:"FL",vm:"1",name:"VisualFieldMeanSensitivity"},"(0024,0071)":{tag:"(0024,0071)",vr:"FL",vm:"1",name:"GlobalDeviationProbability"},"(0024,0072)":{tag:"(0024,0072)",vr:"CS",vm:"1",name:"LocalDeviationProbabilityNormalsFlag"},"(0024,0073)":{tag:"(0024,0073)",vr:"FL",vm:"1",name:"LocalizedDeviationProbability"},"(0024,0074)":{tag:"(0024,0074)",vr:"CS",vm:"1",name:"ShortTermFluctuationCalculated"},"(0024,0075)":{tag:"(0024,0075)",vr:"FL",vm:"1",name:"ShortTermFluctuation"},"(0024,0076)":{tag:"(0024,0076)",vr:"CS",vm:"1",name:"ShortTermFluctuationProbabilityCalculated"},"(0024,0077)":{tag:"(0024,0077)",vr:"FL",vm:"1",name:"ShortTermFluctuationProbability"},"(0024,0078)":{tag:"(0024,0078)",vr:"CS",vm:"1",name:"CorrectedLocalizedDeviationFromNormalCalculated"},"(0024,0079)":{tag:"(0024,0079)",vr:"FL",vm:"1",name:"CorrectedLocalizedDeviationFromNormal"},"(0024,0080)":{tag:"(0024,0080)",vr:"CS",vm:"1",name:"CorrectedLocalizedDeviationFromNormalProbabilityCalculated"},"(0024,0081)":{tag:"(0024,0081)",vr:"FL",vm:"1",name:"CorrectedLocalizedDeviationFromNormalProbability"},"(0024,0083)":{tag:"(0024,0083)",vr:"SQ",vm:"1",name:"GlobalDeviationProbabilitySequence"},"(0024,0085)":{tag:"(0024,0085)",vr:"SQ",vm:"1",name:"LocalizedDeviationProbabilitySequence"},"(0024,0086)":{tag:"(0024,0086)",vr:"CS",vm:"1",name:"FovealSensitivityMeasured"},"(0024,0087)":{tag:"(0024,0087)",vr:"FL",vm:"1",name:"FovealSensitivity"},"(0024,0088)":{tag:"(0024,0088)",vr:"FL",vm:"1",name:"VisualFieldTestDuration"},"(0024,0089)":{tag:"(0024,0089)",vr:"SQ",vm:"1",name:"VisualFieldTestPointSequence"},"(0024,0090)":{tag:"(0024,0090)",vr:"FL",vm:"1",name:"VisualFieldTestPointXCoordinate"},"(0024,0091)":{tag:"(0024,0091)",vr:"FL",vm:"1",name:"VisualFieldTestPointYCoordinate"},"(0024,0092)":{tag:"(0024,0092)",vr:"FL",vm:"1",name:"AgeCorrectedSensitivityDeviationValue"},"(0024,0093)":{tag:"(0024,0093)",vr:"CS",vm:"1",name:"StimulusResults"},"(0024,0094)":{tag:"(0024,0094)",vr:"FL",vm:"1",name:"SensitivityValue"},"(0024,0095)":{tag:"(0024,0095)",vr:"CS",vm:"1",name:"RetestStimulusSeen"},"(0024,0096)":{tag:"(0024,0096)",vr:"FL",vm:"1",name:"RetestSensitivityValue"},"(0024,0097)":{tag:"(0024,0097)",vr:"SQ",vm:"1",name:"VisualFieldTestPointNormalsSequence"},"(0024,0098)":{tag:"(0024,0098)",vr:"FL",vm:"1",name:"QuantifiedDefect"},"(0024,0100)":{tag:"(0024,0100)",vr:"FL",vm:"1",name:"AgeCorrectedSensitivityDeviationProbabilityValue"},"(0024,0102)":{tag:"(0024,0102)",vr:"CS",vm:"1",name:"GeneralizedDefectCorrectedSensitivityDeviationFlag "},"(0024,0103)":{tag:"(0024,0103)",vr:"FL",vm:"1",name:"GeneralizedDefectCorrectedSensitivityDeviationValue "},"(0024,0104)":{tag:"(0024,0104)",vr:"FL",vm:"1",name:"GeneralizedDefectCorrectedSensitivityDeviationProbabilityValue"},"(0024,0105)":{tag:"(0024,0105)",vr:"FL",vm:"1",name:"MinimumSensitivityValue"},"(0024,0106)":{tag:"(0024,0106)",vr:"CS",vm:"1",name:"BlindSpotLocalized"},"(0024,0107)":{tag:"(0024,0107)",vr:"FL",vm:"1",name:"BlindSpotXCoordinate"},"(0024,0108)":{tag:"(0024,0108)",vr:"FL",vm:"1",name:"BlindSpotYCoordinate "},"(0024,0110)":{tag:"(0024,0110)",vr:"SQ",vm:"1",name:"VisualAcuityMeasurementSequence"},"(0024,0112)":{tag:"(0024,0112)",vr:"SQ",vm:"1",name:"RefractiveParametersUsedOnPatientSequence"},"(0024,0113)":{tag:"(0024,0113)",vr:"CS",vm:"1",name:"MeasurementLaterality"},"(0024,0114)":{tag:"(0024,0114)",vr:"SQ",vm:"1",name:"OphthalmicPatientClinicalInformationLeftEyeSequence"},"(0024,0115)":{tag:"(0024,0115)",vr:"SQ",vm:"1",name:"OphthalmicPatientClinicalInformationRightEyeSequence"},"(0024,0117)":{tag:"(0024,0117)",vr:"CS",vm:"1",name:"FovealPointNormativeDataFlag"},"(0024,0118)":{tag:"(0024,0118)",vr:"FL",vm:"1",name:"FovealPointProbabilityValue"},"(0024,0120)":{tag:"(0024,0120)",vr:"CS",vm:"1",name:"ScreeningBaselineMeasured"},"(0024,0122)":{tag:"(0024,0122)",vr:"SQ",vm:"1",name:"ScreeningBaselineMeasuredSequence"},"(0024,0124)":{tag:"(0024,0124)",vr:"CS",vm:"1",name:"ScreeningBaselineType"},"(0024,0126)":{tag:"(0024,0126)",vr:"FL",vm:"1",name:"ScreeningBaselineValue"},"(0024,0202)":{tag:"(0024,0202)",vr:"LO",vm:"1",name:"AlgorithmSource"},"(0024,0306)":{tag:"(0024,0306)",vr:"LO",vm:"1",name:"DataSetName"},"(0024,0307)":{tag:"(0024,0307)",vr:"LO",vm:"1",name:"DataSetVersion"},"(0024,0308)":{tag:"(0024,0308)",vr:"LO",vm:"1",name:"DataSetSource"},"(0024,0309)":{tag:"(0024,0309)",vr:"LO",vm:"1",name:"DataSetDescription"},"(0024,0317)":{tag:"(0024,0317)",vr:"SQ",vm:"1",name:"VisualFieldTestReliabilityGlobalIndexSequence"},"(0024,0320)":{tag:"(0024,0320)",vr:"SQ",vm:"1",name:"VisualFieldGlobalResultsIndexSequence"},"(0024,0325)":{tag:"(0024,0325)",vr:"SQ",vm:"1",name:"DataObservationSequence"},"(0024,0338)":{tag:"(0024,0338)",vr:"CS",vm:"1",name:"IndexNormalsFlag"},"(0024,0341)":{tag:"(0024,0341)",vr:"FL",vm:"1",name:"IndexProbability"},"(0024,0344)":{tag:"(0024,0344)",vr:"SQ",vm:"1",name:"IndexProbabilitySequence"},"(0028,0002)":{tag:"(0028,0002)",vr:"US",vm:"1",name:"SamplesPerPixel"},"(0028,0003)":{tag:"(0028,0003)",vr:"US",vm:"1",name:"SamplesPerPixelUsed"},"(0028,0004)":{tag:"(0028,0004)",vr:"CS",vm:"1",name:"PhotometricInterpretation"},"(0028,0005)":{tag:"(0028,0005)",vr:"US",vm:"1",name:"ImageDimensions"},"(0028,0006)":{tag:"(0028,0006)",vr:"US",vm:"1",name:"PlanarConfiguration"},"(0028,0008)":{tag:"(0028,0008)",vr:"IS",vm:"1",name:"NumberOfFrames"},"(0028,0009)":{tag:"(0028,0009)",vr:"AT",vm:"1-n",name:"FrameIncrementPointer"},"(0028,000A)":{tag:"(0028,000A)",vr:"AT",vm:"1-n",name:"FrameDimensionPointer"},"(0028,0010)":{tag:"(0028,0010)",vr:"US",vm:"1",name:"Rows"},"(0028,0011)":{tag:"(0028,0011)",vr:"US",vm:"1",name:"Columns"},"(0028,0012)":{tag:"(0028,0012)",vr:"US",vm:"1",name:"Planes"},"(0028,0014)":{tag:"(0028,0014)",vr:"US",vm:"1",name:"UltrasoundColorDataPresent"},"(0028,0030)":{tag:"(0028,0030)",vr:"DS",vm:"2",name:"PixelSpacing"},"(0028,0031)":{tag:"(0028,0031)",vr:"DS",vm:"2",name:"ZoomFactor"},"(0028,0032)":{tag:"(0028,0032)",vr:"DS",vm:"2",name:"ZoomCenter"},"(0028,0034)":{tag:"(0028,0034)",vr:"IS",vm:"2",name:"PixelAspectRatio"},"(0028,0040)":{tag:"(0028,0040)",vr:"CS",vm:"1",name:"ImageFormat"},"(0028,0050)":{tag:"(0028,0050)",vr:"LO",vm:"1-n",name:"ManipulatedImage"},"(0028,0051)":{tag:"(0028,0051)",vr:"CS",vm:"1-n",name:"CorrectedImage"},"(0028,005F)":{tag:"(0028,005F)",vr:"LO",vm:"1",name:"CompressionRecognitionCode"},"(0028,0060)":{tag:"(0028,0060)",vr:"CS",vm:"1",name:"CompressionCode"},"(0028,0061)":{tag:"(0028,0061)",vr:"SH",vm:"1",name:"CompressionOriginator"},"(0028,0062)":{tag:"(0028,0062)",vr:"LO",vm:"1",name:"CompressionLabel"},"(0028,0063)":{tag:"(0028,0063)",vr:"SH",vm:"1",name:"CompressionDescription"},"(0028,0065)":{tag:"(0028,0065)",vr:"CS",vm:"1-n",name:"CompressionSequence"},"(0028,0066)":{tag:"(0028,0066)",vr:"AT",vm:"1-n",name:"CompressionStepPointers"},"(0028,0068)":{tag:"(0028,0068)",vr:"US",vm:"1",name:"RepeatInterval"},"(0028,0069)":{tag:"(0028,0069)",vr:"US",vm:"1",name:"BitsGrouped"},"(0028,0070)":{tag:"(0028,0070)",vr:"US",vm:"1-n",name:"PerimeterTable"},"(0028,0071)":{tag:"(0028,0071)",vr:"US|SS",vm:"1",name:"PerimeterValue"},"(0028,0080)":{tag:"(0028,0080)",vr:"US",vm:"1",name:"PredictorRows"},"(0028,0081)":{tag:"(0028,0081)",vr:"US",vm:"1",name:"PredictorColumns"},"(0028,0082)":{tag:"(0028,0082)",vr:"US",vm:"1-n",name:"PredictorConstants"},"(0028,0090)":{tag:"(0028,0090)",vr:"CS",vm:"1",name:"BlockedPixels"},"(0028,0091)":{tag:"(0028,0091)",vr:"US",vm:"1",name:"BlockRows"},"(0028,0092)":{tag:"(0028,0092)",vr:"US",vm:"1",name:"BlockColumns"},"(0028,0093)":{tag:"(0028,0093)",vr:"US",vm:"1",name:"RowOverlap"},"(0028,0094)":{tag:"(0028,0094)",vr:"US",vm:"1",name:"ColumnOverlap"},"(0028,0100)":{tag:"(0028,0100)",vr:"US",vm:"1",name:"BitsAllocated"},"(0028,0101)":{tag:"(0028,0101)",vr:"US",vm:"1",name:"BitsStored"},"(0028,0102)":{tag:"(0028,0102)",vr:"US",vm:"1",name:"HighBit"},"(0028,0103)":{tag:"(0028,0103)",vr:"US",vm:"1",name:"PixelRepresentation"},"(0028,0104)":{tag:"(0028,0104)",vr:"US|SS",vm:"1",name:"SmallestValidPixelValue"},"(0028,0105)":{tag:"(0028,0105)",vr:"US|SS",vm:"1",name:"LargestValidPixelValue"},"(0028,0106)":{tag:"(0028,0106)",vr:"US|SS",vm:"1",name:"SmallestImagePixelValue"},"(0028,0107)":{tag:"(0028,0107)",vr:"US|SS",vm:"1",name:"LargestImagePixelValue"},"(0028,0108)":{tag:"(0028,0108)",vr:"US|SS",vm:"1",name:"SmallestPixelValueInSeries"},"(0028,0109)":{tag:"(0028,0109)",vr:"US|SS",vm:"1",name:"LargestPixelValueInSeries"},"(0028,0110)":{tag:"(0028,0110)",vr:"US|SS",vm:"1",name:"SmallestImagePixelValueInPlane"},"(0028,0111)":{tag:"(0028,0111)",vr:"US|SS",vm:"1",name:"LargestImagePixelValueInPlane"},"(0028,0120)":{tag:"(0028,0120)",vr:"US|SS",vm:"1",name:"PixelPaddingValue"},"(0028,0121)":{tag:"(0028,0121)",vr:"US|SS",vm:"1",name:"PixelPaddingRangeLimit"},"(0028,0200)":{tag:"(0028,0200)",vr:"US",vm:"1",name:"ImageLocation"},"(0028,0300)":{tag:"(0028,0300)",vr:"CS",vm:"1",name:"QualityControlImage"},"(0028,0301)":{tag:"(0028,0301)",vr:"CS",vm:"1",name:"BurnedInAnnotation"},"(0028,0302)":{tag:"(0028,0302)",vr:"CS",vm:"1",name:"RecognizableVisualFeatures"},"(0028,0303)":{tag:"(0028,0303)",vr:"CS",vm:"1",name:"LongitudinalTemporalInformationModified"},"(0028,0400)":{tag:"(0028,0400)",vr:"LO",vm:"1",name:"TransformLabel"},"(0028,0401)":{tag:"(0028,0401)",vr:"LO",vm:"1",name:"TransformVersionNumber"},"(0028,0402)":{tag:"(0028,0402)",vr:"US",vm:"1",name:"NumberOfTransformSteps"},"(0028,0403)":{tag:"(0028,0403)",vr:"LO",vm:"1-n",name:"SequenceOfCompressedData"},"(0028,0404)":{tag:"(0028,0404)",vr:"AT",vm:"1-n",name:"DetailsOfCoefficients"},"(0028,04x0)":{tag:"(0028,04x0)",vr:"US",vm:"1",name:"RowsForNthOrderCoefficients"},"(0028,04x1)":{tag:"(0028,04x1)",vr:"US",vm:"1",name:"ColumnsForNthOrderCoefficients"},"(0028,04x2)":{tag:"(0028,04x2)",vr:"LO",vm:"1-n",name:"CoefficientCoding"},"(0028,04x3)":{tag:"(0028,04x3)",vr:"AT",vm:"1-n",name:"CoefficientCodingPointers"},"(0028,0700)":{tag:"(0028,0700)",vr:"LO",vm:"1",name:"DCTLabel"},"(0028,0701)":{tag:"(0028,0701)",vr:"CS",vm:"1-n",name:"DataBlockDescription"},"(0028,0702)":{tag:"(0028,0702)",vr:"AT",vm:"1-n",name:"DataBlock"},"(0028,0710)":{tag:"(0028,0710)",vr:"US",vm:"1",name:"NormalizationFactorFormat"},"(0028,0720)":{tag:"(0028,0720)",vr:"US",vm:"1",name:"ZonalMapNumberFormat"},"(0028,0721)":{tag:"(0028,0721)",vr:"AT",vm:"1-n",name:"ZonalMapLocation"},"(0028,0722)":{tag:"(0028,0722)",vr:"US",vm:"1",name:"ZonalMapFormat"},"(0028,0730)":{tag:"(0028,0730)",vr:"US",vm:"1",name:"AdaptiveMapFormat"},"(0028,0740)":{tag:"(0028,0740)",vr:"US",vm:"1",name:"CodeNumberFormat"},"(0028,08x0)":{tag:"(0028,08x0)",vr:"CS",vm:"1-n",name:"CodeLabel"},"(0028,08x2)":{tag:"(0028,08x2)",vr:"US",vm:"1",name:"NumberOfTables"},"(0028,08x3)":{tag:"(0028,08x3)",vr:"AT",vm:"1-n",name:"CodeTableLocation"},"(0028,08x4)":{tag:"(0028,08x4)",vr:"US",vm:"1",name:"BitsForCodeWord"},"(0028,08x8)":{tag:"(0028,08x8)",vr:"AT",vm:"1-n",name:"ImageDataLocation"},"(0028,0A02)":{tag:"(0028,0A02)",vr:"CS",vm:"1",name:"PixelSpacingCalibrationType"},"(0028,0A04)":{tag:"(0028,0A04)",vr:"LO",vm:"1",name:"PixelSpacingCalibrationDescription"},"(0028,1040)":{tag:"(0028,1040)",vr:"CS",vm:"1",name:"PixelIntensityRelationship"},"(0028,1041)":{tag:"(0028,1041)",vr:"SS",vm:"1",name:"PixelIntensityRelationshipSign"},"(0028,1050)":{tag:"(0028,1050)",vr:"DS",vm:"1-n",name:"WindowCenter"},"(0028,1051)":{tag:"(0028,1051)",vr:"DS",vm:"1-n",name:"WindowWidth"},"(0028,1052)":{tag:"(0028,1052)",vr:"DS",vm:"1",name:"RescaleIntercept"},"(0028,1053)":{tag:"(0028,1053)",vr:"DS",vm:"1",name:"RescaleSlope"},"(0028,1054)":{tag:"(0028,1054)",vr:"LO",vm:"1",name:"RescaleType"},"(0028,1055)":{tag:"(0028,1055)",vr:"LO",vm:"1-n",name:"WindowCenterWidthExplanation"},"(0028,1056)":{tag:"(0028,1056)",vr:"CS",vm:"1",name:"VOILUTFunction"},"(0028,1080)":{tag:"(0028,1080)",vr:"CS",vm:"1",name:"GrayScale"},"(0028,1090)":{tag:"(0028,1090)",vr:"CS",vm:"1",name:"RecommendedViewingMode"},"(0028,1100)":{tag:"(0028,1100)",vr:"US|SS",vm:"3",name:"GrayLookupTableDescriptor"},"(0028,1101)":{tag:"(0028,1101)",vr:"US|SS",vm:"3",name:"RedPaletteColorLookupTableDescriptor"},"(0028,1102)":{tag:"(0028,1102)",vr:"US|SS",vm:"3",name:"GreenPaletteColorLookupTableDescriptor"},"(0028,1103)":{tag:"(0028,1103)",vr:"US|SS",vm:"3",name:"BluePaletteColorLookupTableDescriptor"},"(0028,1104)":{tag:"(0028,1104)",vr:"US",vm:"3",name:"AlphaPaletteColorLookupTableDescriptor"},"(0028,1111)":{tag:"(0028,1111)",vr:"US|SS",vm:"4",name:"LargeRedPaletteColorLookupTableDescriptor"},"(0028,1112)":{tag:"(0028,1112)",vr:"US|SS",vm:"4",name:"LargeGreenPaletteColorLookupTableDescriptor"},"(0028,1113)":{tag:"(0028,1113)",vr:"US|SS",vm:"4",name:"LargeBluePaletteColorLookupTableDescriptor"},"(0028,1199)":{tag:"(0028,1199)",vr:"UI",vm:"1",name:"PaletteColorLookupTableUID"},"(0028,1200)":{tag:"(0028,1200)",vr:"US|SS|OW",vm:"1-n1",name:"GrayLookupTableData"},"(0028,1201)":{tag:"(0028,1201)",vr:"OW",vm:"1",name:"RedPaletteColorLookupTableData"},"(0028,1202)":{tag:"(0028,1202)",vr:"OW",vm:"1",name:"GreenPaletteColorLookupTableData"},"(0028,1203)":{tag:"(0028,1203)",vr:"OW",vm:"1",name:"BluePaletteColorLookupTableData"},"(0028,1204)":{tag:"(0028,1204)",vr:"OW",vm:"1",name:"AlphaPaletteColorLookupTableData"},"(0028,1211)":{tag:"(0028,1211)",vr:"OW",vm:"1",name:"LargeRedPaletteColorLookupTableData"},"(0028,1212)":{tag:"(0028,1212)",vr:"OW",vm:"1",name:"LargeGreenPaletteColorLookupTableData"},"(0028,1213)":{tag:"(0028,1213)",vr:"OW",vm:"1",name:"LargeBluePaletteColorLookupTableData"},"(0028,1214)":{tag:"(0028,1214)",vr:"UI",vm:"1",name:"LargePaletteColorLookupTableUID"},"(0028,1221)":{tag:"(0028,1221)",vr:"OW",vm:"1",name:"SegmentedRedPaletteColorLookupTableData"},"(0028,1222)":{tag:"(0028,1222)",vr:"OW",vm:"1",name:"SegmentedGreenPaletteColorLookupTableData"},"(0028,1223)":{tag:"(0028,1223)",vr:"OW",vm:"1",name:"SegmentedBluePaletteColorLookupTableData"},"(0028,1300)":{tag:"(0028,1300)",vr:"CS",vm:"1",name:"BreastImplantPresent"},"(0028,1350)":{tag:"(0028,1350)",vr:"CS",vm:"1",name:"PartialView"},"(0028,1351)":{tag:"(0028,1351)",vr:"ST",vm:"1",name:"PartialViewDescription"},"(0028,1352)":{tag:"(0028,1352)",vr:"SQ",vm:"1",name:"PartialViewCodeSequence"},"(0028,135A)":{tag:"(0028,135A)",vr:"CS",vm:"1",name:"SpatialLocationsPreserved"},"(0028,1401)":{tag:"(0028,1401)",vr:"SQ",vm:"1",name:"DataFrameAssignmentSequence"},"(0028,1402)":{tag:"(0028,1402)",vr:"CS",vm:"1",name:"DataPathAssignment"},"(0028,1403)":{tag:"(0028,1403)",vr:"US",vm:"1",name:"BitsMappedToColorLookupTable"},"(0028,1404)":{tag:"(0028,1404)",vr:"SQ",vm:"1",name:"BlendingLUT1Sequence"},"(0028,1405)":{tag:"(0028,1405)",vr:"CS",vm:"1",name:"BlendingLUT1TransferFunction"},"(0028,1406)":{tag:"(0028,1406)",vr:"FD",vm:"1",name:"BlendingWeightConstant"},"(0028,1407)":{tag:"(0028,1407)",vr:"US",vm:"3",name:"BlendingLookupTableDescriptor"},"(0028,1408)":{tag:"(0028,1408)",vr:"OW",vm:"1",name:"BlendingLookupTableData"},"(0028,140B)":{tag:"(0028,140B)",vr:"SQ",vm:"1",name:"EnhancedPaletteColorLookupTableSequence"},"(0028,140C)":{tag:"(0028,140C)",vr:"SQ",vm:"1",name:"BlendingLUT2Sequence"},"(0028,140D)":{tag:"(0028,140D)",vr:"CS",vm:"1",name:"BlendingLUT2TransferFunction"},"(0028,140E)":{tag:"(0028,140E)",vr:"CS",vm:"1",name:"DataPathID"},"(0028,140F)":{tag:"(0028,140F)",vr:"CS",vm:"1",name:"RGBLUTTransferFunction"},"(0028,1410)":{tag:"(0028,1410)",vr:"CS",vm:"1",name:"AlphaLUTTransferFunction"},"(0028,2000)":{tag:"(0028,2000)",vr:"OB",vm:"1",name:"ICCProfile"},"(0028,2110)":{tag:"(0028,2110)",vr:"CS",vm:"1",name:"LossyImageCompression"},"(0028,2112)":{tag:"(0028,2112)",vr:"DS",vm:"1-n",name:"LossyImageCompressionRatio"},"(0028,2114)":{tag:"(0028,2114)",vr:"CS",vm:"1-n",name:"LossyImageCompressionMethod"},"(0028,3000)":{tag:"(0028,3000)",vr:"SQ",vm:"1",name:"ModalityLUTSequence"},"(0028,3002)":{tag:"(0028,3002)",vr:"US|SS",vm:"3",name:"LUTDescriptor"},"(0028,3003)":{tag:"(0028,3003)",vr:"LO",vm:"1",name:"LUTExplanation"},"(0028,3004)":{tag:"(0028,3004)",vr:"LO",vm:"1",name:"ModalityLUTType"},"(0028,3006)":{tag:"(0028,3006)",vr:"US|OW",vm:"1-n1",name:"LUTData"},"(0028,3010)":{tag:"(0028,3010)",vr:"SQ",vm:"1",name:"VOILUTSequence"},"(0028,3110)":{tag:"(0028,3110)",vr:"SQ",vm:"1",name:"SoftcopyVOILUTSequence"},"(0028,4000)":{tag:"(0028,4000)",vr:"LT",vm:"1",name:"ImagePresentationComments"},"(0028,5000)":{tag:"(0028,5000)",vr:"SQ",vm:"1",name:"BiPlaneAcquisitionSequence"},"(0028,6010)":{tag:"(0028,6010)",vr:"US",vm:"1",name:"RepresentativeFrameNumber"},"(0028,6020)":{tag:"(0028,6020)",vr:"US",vm:"1-n",name:"FrameNumbersOfInterest"},"(0028,6022)":{tag:"(0028,6022)",vr:"LO",vm:"1-n",name:"FrameOfInterestDescription"},"(0028,6023)":{tag:"(0028,6023)",vr:"CS",vm:"1-n",name:"FrameOfInterestType"},"(0028,6030)":{tag:"(0028,6030)",vr:"US",vm:"1-n",name:"MaskPointers"},"(0028,6040)":{tag:"(0028,6040)",vr:"US",vm:"1-n",name:"RWavePointer"},"(0028,6100)":{tag:"(0028,6100)",vr:"SQ",vm:"1",name:"MaskSubtractionSequence"},"(0028,6101)":{tag:"(0028,6101)",vr:"CS",vm:"1",name:"MaskOperation"},"(0028,6102)":{tag:"(0028,6102)",vr:"US",vm:"2-2n",name:"ApplicableFrameRange"},"(0028,6110)":{tag:"(0028,6110)",vr:"US",vm:"1-n",name:"MaskFrameNumbers"},"(0028,6112)":{tag:"(0028,6112)",vr:"US",vm:"1",name:"ContrastFrameAveraging"},"(0028,6114)":{tag:"(0028,6114)",vr:"FL",vm:"2",name:"MaskSubPixelShift"},"(0028,6120)":{tag:"(0028,6120)",vr:"SS",vm:"1",name:"TIDOffset"},"(0028,6190)":{tag:"(0028,6190)",vr:"ST",vm:"1",name:"MaskOperationExplanation"},"(0028,7FE0)":{tag:"(0028,7FE0)",vr:"UT",vm:"1",name:"PixelDataProviderURL"},"(0028,9001)":{tag:"(0028,9001)",vr:"UL",vm:"1",name:"DataPointRows"},"(0028,9002)":{tag:"(0028,9002)",vr:"UL",vm:"1",name:"DataPointColumns"},"(0028,9003)":{tag:"(0028,9003)",vr:"CS",vm:"1",name:"SignalDomainColumns"},"(0028,9099)":{tag:"(0028,9099)",vr:"US",vm:"1",name:"LargestMonochromePixelValue"},"(0028,9108)":{tag:"(0028,9108)",vr:"CS",vm:"1",name:"DataRepresentation"},"(0028,9110)":{tag:"(0028,9110)",vr:"SQ",vm:"1",name:"PixelMeasuresSequence"},"(0028,9132)":{tag:"(0028,9132)",vr:"SQ",vm:"1",name:"FrameVOILUTSequence"},"(0028,9145)":{tag:"(0028,9145)",vr:"SQ",vm:"1",name:"PixelValueTransformationSequence"},"(0028,9235)":{tag:"(0028,9235)",vr:"CS",vm:"1",name:"SignalDomainRows"},"(0028,9411)":{tag:"(0028,9411)",vr:"FL",vm:"1",name:"DisplayFilterPercentage"},"(0028,9415)":{tag:"(0028,9415)",vr:"SQ",vm:"1",name:"FramePixelShiftSequence"},"(0028,9416)":{tag:"(0028,9416)",vr:"US",vm:"1",name:"SubtractionItemID"},"(0028,9422)":{tag:"(0028,9422)",vr:"SQ",vm:"1",name:"PixelIntensityRelationshipLUTSequence"},"(0028,9443)":{tag:"(0028,9443)",vr:"SQ",vm:"1",name:"FramePixelDataPropertiesSequence"},"(0028,9444)":{tag:"(0028,9444)",vr:"CS",vm:"1",name:"GeometricalProperties"},"(0028,9445)":{tag:"(0028,9445)",vr:"FL",vm:"1",name:"GeometricMaximumDistortion"},"(0028,9446)":{tag:"(0028,9446)",vr:"CS",vm:"1-n",name:"ImageProcessingApplied"},"(0028,9454)":{tag:"(0028,9454)",vr:"CS",vm:"1",name:"MaskSelectionMode"},"(0028,9474)":{tag:"(0028,9474)",vr:"CS",vm:"1",name:"LUTFunction"},"(0028,9478)":{tag:"(0028,9478)",vr:"FL",vm:"1",name:"MaskVisibilityPercentage"},"(0028,9501)":{tag:"(0028,9501)",vr:"SQ",vm:"1",name:"PixelShiftSequence"},"(0028,9502)":{tag:"(0028,9502)",vr:"SQ",vm:"1",name:"RegionPixelShiftSequence"},"(0028,9503)":{tag:"(0028,9503)",vr:"SS",vm:"2-2n",name:"VerticesOfTheRegion"},"(0028,9505)":{tag:"(0028,9505)",vr:"SQ",vm:"1",name:"MultiFramePresentationSequence"},"(0028,9506)":{tag:"(0028,9506)",vr:"US",vm:"2-2n",name:"PixelShiftFrameRange"},"(0028,9507)":{tag:"(0028,9507)",vr:"US",vm:"2-2n",name:"LUTFrameRange"},"(0028,9520)":{tag:"(0028,9520)",vr:"DS",vm:"16",name:"ImageToEquipmentMappingMatrix"},"(0028,9537)":{tag:"(0028,9537)",vr:"CS",vm:"1",name:"EquipmentCoordinateSystemIdentification"},"(0032,000A)":{tag:"(0032,000A)",vr:"CS",vm:"1",name:"StudyStatusID"},"(0032,000C)":{tag:"(0032,000C)",vr:"CS",vm:"1",name:"StudyPriorityID"},"(0032,0012)":{tag:"(0032,0012)",vr:"LO",vm:"1",name:"StudyIDIssuer"},"(0032,0032)":{tag:"(0032,0032)",vr:"DA",vm:"1",name:"StudyVerifiedDate"},"(0032,0033)":{tag:"(0032,0033)",vr:"TM",vm:"1",name:"StudyVerifiedTime"},"(0032,0034)":{tag:"(0032,0034)",vr:"DA",vm:"1",name:"StudyReadDate"},"(0032,0035)":{tag:"(0032,0035)",vr:"TM",vm:"1",name:"StudyReadTime"},"(0032,1000)":{tag:"(0032,1000)",vr:"DA",vm:"1",name:"ScheduledStudyStartDate"},"(0032,1001)":{tag:"(0032,1001)",vr:"TM",vm:"1",name:"ScheduledStudyStartTime"},"(0032,1010)":{tag:"(0032,1010)",vr:"DA",vm:"1",name:"ScheduledStudyStopDate"},"(0032,1011)":{tag:"(0032,1011)",vr:"TM",vm:"1",name:"ScheduledStudyStopTime"},"(0032,1020)":{tag:"(0032,1020)",vr:"LO",vm:"1",name:"ScheduledStudyLocation"},"(0032,1021)":{tag:"(0032,1021)",vr:"AE",vm:"1-n",name:"ScheduledStudyLocationAETitle"},"(0032,1030)":{tag:"(0032,1030)",vr:"LO",vm:"1",name:"ReasonForStudy"},"(0032,1031)":{tag:"(0032,1031)",vr:"SQ",vm:"1",name:"RequestingPhysicianIdentificationSequence"},"(0032,1032)":{tag:"(0032,1032)",vr:"PN",vm:"1",name:"RequestingPhysician"},"(0032,1033)":{tag:"(0032,1033)",vr:"LO",vm:"1",name:"RequestingService"},"(0032,1034)":{tag:"(0032,1034)",vr:"SQ",vm:"1",name:"RequestingServiceCodeSequence"},"(0032,1040)":{tag:"(0032,1040)",vr:"DA",vm:"1",name:"StudyArrivalDate"},"(0032,1041)":{tag:"(0032,1041)",vr:"TM",vm:"1",name:"StudyArrivalTime"},"(0032,1050)":{tag:"(0032,1050)",vr:"DA",vm:"1",name:"StudyCompletionDate"},"(0032,1051)":{tag:"(0032,1051)",vr:"TM",vm:"1",name:"StudyCompletionTime"},"(0032,1055)":{tag:"(0032,1055)",vr:"CS",vm:"1",name:"StudyComponentStatusID"},"(0032,1060)":{tag:"(0032,1060)",vr:"LO",vm:"1",name:"RequestedProcedureDescription"},"(0032,1064)":{tag:"(0032,1064)",vr:"SQ",vm:"1",name:"RequestedProcedureCodeSequence"},"(0032,1070)":{tag:"(0032,1070)",vr:"LO",vm:"1",name:"RequestedContrastAgent"},"(0032,4000)":{tag:"(0032,4000)",vr:"LT",vm:"1",name:"StudyComments"},"(0038,0004)":{tag:"(0038,0004)",vr:"SQ",vm:"1",name:"ReferencedPatientAliasSequence"},"(0038,0008)":{tag:"(0038,0008)",vr:"CS",vm:"1",name:"VisitStatusID"},"(0038,0010)":{tag:"(0038,0010)",vr:"LO",vm:"1",name:"AdmissionID"},"(0038,0011)":{tag:"(0038,0011)",vr:"LO",vm:"1",name:"IssuerOfAdmissionID"},"(0038,0014)":{tag:"(0038,0014)",vr:"SQ",vm:"1",name:"IssuerOfAdmissionIDSequence"},"(0038,0016)":{tag:"(0038,0016)",vr:"LO",vm:"1",name:"RouteOfAdmissions"},"(0038,001A)":{tag:"(0038,001A)",vr:"DA",vm:"1",name:"ScheduledAdmissionDate"},"(0038,001B)":{tag:"(0038,001B)",vr:"TM",vm:"1",name:"ScheduledAdmissionTime"},"(0038,001C)":{tag:"(0038,001C)",vr:"DA",vm:"1",name:"ScheduledDischargeDate"},"(0038,001D)":{tag:"(0038,001D)",vr:"TM",vm:"1",name:"ScheduledDischargeTime"},"(0038,001E)":{tag:"(0038,001E)",vr:"LO",vm:"1",name:"ScheduledPatientInstitutionResidence"},"(0038,0020)":{tag:"(0038,0020)",vr:"DA",vm:"1",name:"AdmittingDate"},"(0038,0021)":{tag:"(0038,0021)",vr:"TM",vm:"1",name:"AdmittingTime"},"(0038,0030)":{tag:"(0038,0030)",vr:"DA",vm:"1",name:"DischargeDate"},"(0038,0032)":{tag:"(0038,0032)",vr:"TM",vm:"1",name:"DischargeTime"},"(0038,0040)":{tag:"(0038,0040)",vr:"LO",vm:"1",name:"DischargeDiagnosisDescription"},"(0038,0044)":{tag:"(0038,0044)",vr:"SQ",vm:"1",name:"DischargeDiagnosisCodeSequence"},"(0038,0050)":{tag:"(0038,0050)",vr:"LO",vm:"1",name:"SpecialNeeds"},"(0038,0060)":{tag:"(0038,0060)",vr:"LO",vm:"1",name:"ServiceEpisodeID"},"(0038,0061)":{tag:"(0038,0061)",vr:"LO",vm:"1",name:"IssuerOfServiceEpisodeID"},"(0038,0062)":{tag:"(0038,0062)",vr:"LO",vm:"1",name:"ServiceEpisodeDescription"},"(0038,0064)":{tag:"(0038,0064)",vr:"SQ",vm:"1",name:"IssuerOfServiceEpisodeIDSequence"},"(0038,0100)":{tag:"(0038,0100)",vr:"SQ",vm:"1",name:"PertinentDocumentsSequence"},"(0038,0300)":{tag:"(0038,0300)",vr:"LO",vm:"1",name:"CurrentPatientLocation"},"(0038,0400)":{tag:"(0038,0400)",vr:"LO",vm:"1",name:"PatientInstitutionResidence"},"(0038,0500)":{tag:"(0038,0500)",vr:"LO",vm:"1",name:"PatientState"},"(0038,0502)":{tag:"(0038,0502)",vr:"SQ",vm:"1",name:"PatientClinicalTrialParticipationSequence"},"(0038,4000)":{tag:"(0038,4000)",vr:"LT",vm:"1",name:"VisitComments"},"(003A,0004)":{tag:"(003A,0004)",vr:"CS",vm:"1",name:"WaveformOriginality"},"(003A,0005)":{tag:"(003A,0005)",vr:"US",vm:"1",name:"NumberOfWaveformChannels"},"(003A,0010)":{tag:"(003A,0010)",vr:"UL",vm:"1",name:"NumberOfWaveformSamples"},"(003A,001A)":{tag:"(003A,001A)",vr:"DS",vm:"1",name:"SamplingFrequency"},"(003A,0020)":{tag:"(003A,0020)",vr:"SH",vm:"1",name:"MultiplexGroupLabel"},"(003A,0200)":{tag:"(003A,0200)",vr:"SQ",vm:"1",name:"ChannelDefinitionSequence"},"(003A,0202)":{tag:"(003A,0202)",vr:"IS",vm:"1",name:"WaveformChannelNumber"},"(003A,0203)":{tag:"(003A,0203)",vr:"SH",vm:"1",name:"ChannelLabel"},"(003A,0205)":{tag:"(003A,0205)",vr:"CS",vm:"1-n",name:"ChannelStatus"},"(003A,0208)":{tag:"(003A,0208)",vr:"SQ",vm:"1",name:"ChannelSourceSequence"},"(003A,0209)":{tag:"(003A,0209)",vr:"SQ",vm:"1",name:"ChannelSourceModifiersSequence"},"(003A,020A)":{tag:"(003A,020A)",vr:"SQ",vm:"1",name:"SourceWaveformSequence"},"(003A,020C)":{tag:"(003A,020C)",vr:"LO",vm:"1",name:"ChannelDerivationDescription"},"(003A,0210)":{tag:"(003A,0210)",vr:"DS",vm:"1",name:"ChannelSensitivity"},"(003A,0211)":{tag:"(003A,0211)",vr:"SQ",vm:"1",name:"ChannelSensitivityUnitsSequence"},"(003A,0212)":{tag:"(003A,0212)",vr:"DS",vm:"1",name:"ChannelSensitivityCorrectionFactor"},"(003A,0213)":{tag:"(003A,0213)",vr:"DS",vm:"1",name:"ChannelBaseline"},"(003A,0214)":{tag:"(003A,0214)",vr:"DS",vm:"1",name:"ChannelTimeSkew"},"(003A,0215)":{tag:"(003A,0215)",vr:"DS",vm:"1",name:"ChannelSampleSkew"},"(003A,0218)":{tag:"(003A,0218)",vr:"DS",vm:"1",name:"ChannelOffset"},"(003A,021A)":{tag:"(003A,021A)",vr:"US",vm:"1",name:"WaveformBitsStored"},"(003A,0220)":{tag:"(003A,0220)",vr:"DS",vm:"1",name:"FilterLowFrequency"},"(003A,0221)":{tag:"(003A,0221)",vr:"DS",vm:"1",name:"FilterHighFrequency"},"(003A,0222)":{tag:"(003A,0222)",vr:"DS",vm:"1",name:"NotchFilterFrequency"},"(003A,0223)":{tag:"(003A,0223)",vr:"DS",vm:"1",name:"NotchFilterBandwidth"},"(003A,0230)":{tag:"(003A,0230)",vr:"FL",vm:"1",name:"WaveformDataDisplayScale"},"(003A,0231)":{tag:"(003A,0231)",vr:"US",vm:"3",name:"WaveformDisplayBackgroundCIELabValue"},"(003A,0240)":{tag:"(003A,0240)",vr:"SQ",vm:"1",name:"WaveformPresentationGroupSequence"},"(003A,0241)":{tag:"(003A,0241)",vr:"US",vm:"1",name:"PresentationGroupNumber"},"(003A,0242)":{tag:"(003A,0242)",vr:"SQ",vm:"1",name:"ChannelDisplaySequence"},"(003A,0244)":{tag:"(003A,0244)",vr:"US",vm:"3",name:"ChannelRecommendedDisplayCIELabValue"},"(003A,0245)":{tag:"(003A,0245)",vr:"FL",vm:"1",name:"ChannelPosition"},"(003A,0246)":{tag:"(003A,0246)",vr:"CS",vm:"1",name:"DisplayShadingFlag"},"(003A,0247)":{tag:"(003A,0247)",vr:"FL",vm:"1",name:"FractionalChannelDisplayScale"},"(003A,0248)":{tag:"(003A,0248)",vr:"FL",vm:"1",name:"AbsoluteChannelDisplayScale"},"(003A,0300)":{tag:"(003A,0300)",vr:"SQ",vm:"1",name:"MultiplexedAudioChannelsDescriptionCodeSequence"},"(003A,0301)":{tag:"(003A,0301)",vr:"IS",vm:"1",name:"ChannelIdentificationCode"},"(003A,0302)":{tag:"(003A,0302)",vr:"CS",vm:"1",name:"ChannelMode"},"(0040,0001)":{tag:"(0040,0001)",vr:"AE",vm:"1-n",name:"ScheduledStationAETitle"},"(0040,0002)":{tag:"(0040,0002)",vr:"DA",vm:"1",name:"ScheduledProcedureStepStartDate"},"(0040,0003)":{tag:"(0040,0003)",vr:"TM",vm:"1",name:"ScheduledProcedureStepStartTime"},"(0040,0004)":{tag:"(0040,0004)",vr:"DA",vm:"1",name:"ScheduledProcedureStepEndDate"},"(0040,0005)":{tag:"(0040,0005)",vr:"TM",vm:"1",name:"ScheduledProcedureStepEndTime"},"(0040,0006)":{tag:"(0040,0006)",vr:"PN",vm:"1",name:"ScheduledPerformingPhysicianName"},"(0040,0007)":{tag:"(0040,0007)",vr:"LO",vm:"1",name:"ScheduledProcedureStepDescription"},"(0040,0008)":{tag:"(0040,0008)",vr:"SQ",vm:"1",name:"ScheduledProtocolCodeSequence"},"(0040,0009)":{tag:"(0040,0009)",vr:"SH",vm:"1",name:"ScheduledProcedureStepID"},"(0040,000A)":{tag:"(0040,000A)",vr:"SQ",vm:"1",name:"StageCodeSequence"},"(0040,000B)":{tag:"(0040,000B)",vr:"SQ",vm:"1",name:"ScheduledPerformingPhysicianIdentificationSequence"},"(0040,0010)":{tag:"(0040,0010)",vr:"SH",vm:"1-n",name:"ScheduledStationName"},"(0040,0011)":{tag:"(0040,0011)",vr:"SH",vm:"1",name:"ScheduledProcedureStepLocation"},"(0040,0012)":{tag:"(0040,0012)",vr:"LO",vm:"1",name:"PreMedication"},"(0040,0020)":{tag:"(0040,0020)",vr:"CS",vm:"1",name:"ScheduledProcedureStepStatus"},"(0040,0026)":{tag:"(0040,0026)",vr:"SQ",vm:"1",name:"OrderPlacerIdentifierSequence"},"(0040,0027)":{tag:"(0040,0027)",vr:"SQ",vm:"1",name:"OrderFillerIdentifierSequence"},"(0040,0031)":{tag:"(0040,0031)",vr:"UT",vm:"1",name:"LocalNamespaceEntityID"},"(0040,0032)":{tag:"(0040,0032)",vr:"UT",vm:"1",name:"UniversalEntityID"},"(0040,0033)":{tag:"(0040,0033)",vr:"CS",vm:"1",name:"UniversalEntityIDType"},"(0040,0035)":{tag:"(0040,0035)",vr:"CS",vm:"1",name:"IdentifierTypeCode"},"(0040,0036)":{tag:"(0040,0036)",vr:"SQ",vm:"1",name:"AssigningFacilitySequence"},"(0040,0039)":{tag:"(0040,0039)",vr:"SQ",vm:"1",name:"AssigningJurisdictionCodeSequence"},"(0040,003A)":{tag:"(0040,003A)",vr:"SQ",vm:"1",name:"AssigningAgencyOrDepartmentCodeSequence"},"(0040,0100)":{tag:"(0040,0100)",vr:"SQ",vm:"1",name:"ScheduledProcedureStepSequence"},"(0040,0220)":{tag:"(0040,0220)",vr:"SQ",vm:"1",name:"ReferencedNonImageCompositeSOPInstanceSequence"},"(0040,0241)":{tag:"(0040,0241)",vr:"AE",vm:"1",name:"PerformedStationAETitle"},"(0040,0242)":{tag:"(0040,0242)",vr:"SH",vm:"1",name:"PerformedStationName"},"(0040,0243)":{tag:"(0040,0243)",vr:"SH",vm:"1",name:"PerformedLocation"},"(0040,0244)":{tag:"(0040,0244)",vr:"DA",vm:"1",name:"PerformedProcedureStepStartDate"},"(0040,0245)":{tag:"(0040,0245)",vr:"TM",vm:"1",name:"PerformedProcedureStepStartTime"},"(0040,0250)":{tag:"(0040,0250)",vr:"DA",vm:"1",name:"PerformedProcedureStepEndDate"},"(0040,0251)":{tag:"(0040,0251)",vr:"TM",vm:"1",name:"PerformedProcedureStepEndTime"},"(0040,0252)":{tag:"(0040,0252)",vr:"CS",vm:"1",name:"PerformedProcedureStepStatus"},"(0040,0253)":{tag:"(0040,0253)",vr:"SH",vm:"1",name:"PerformedProcedureStepID"},"(0040,0254)":{tag:"(0040,0254)",vr:"LO",vm:"1",name:"PerformedProcedureStepDescription"},"(0040,0255)":{tag:"(0040,0255)",vr:"LO",vm:"1",name:"PerformedProcedureTypeDescription"},"(0040,0260)":{tag:"(0040,0260)",vr:"SQ",vm:"1",name:"PerformedProtocolCodeSequence"},"(0040,0261)":{tag:"(0040,0261)",vr:"CS",vm:"1",name:"PerformedProtocolType"},"(0040,0270)":{tag:"(0040,0270)",vr:"SQ",vm:"1",name:"ScheduledStepAttributesSequence"},"(0040,0275)":{tag:"(0040,0275)",vr:"SQ",vm:"1",name:"RequestAttributesSequence"},"(0040,0280)":{tag:"(0040,0280)",vr:"ST",vm:"1",name:"CommentsOnThePerformedProcedureStep"},"(0040,0281)":{tag:"(0040,0281)",vr:"SQ",vm:"1",name:"PerformedProcedureStepDiscontinuationReasonCodeSequence"},"(0040,0293)":{tag:"(0040,0293)",vr:"SQ",vm:"1",name:"QuantitySequence"},"(0040,0294)":{tag:"(0040,0294)",vr:"DS",vm:"1",name:"Quantity"},"(0040,0295)":{tag:"(0040,0295)",vr:"SQ",vm:"1",name:"MeasuringUnitsSequence"},"(0040,0296)":{tag:"(0040,0296)",vr:"SQ",vm:"1",name:"BillingItemSequence"},"(0040,0300)":{tag:"(0040,0300)",vr:"US",vm:"1",name:"TotalTimeOfFluoroscopy"},"(0040,0301)":{tag:"(0040,0301)",vr:"US",vm:"1",name:"TotalNumberOfExposures"},"(0040,0302)":{tag:"(0040,0302)",vr:"US",vm:"1",name:"EntranceDose"},"(0040,0303)":{tag:"(0040,0303)",vr:"US",vm:"1-2",name:"ExposedArea"},"(0040,0306)":{tag:"(0040,0306)",vr:"DS",vm:"1",name:"DistanceSourceToEntrance"},"(0040,0307)":{tag:"(0040,0307)",vr:"DS",vm:"1",name:"DistanceSourceToSupport"},"(0040,030E)":{tag:"(0040,030E)",vr:"SQ",vm:"1",name:"ExposureDoseSequence"},"(0040,0310)":{tag:"(0040,0310)",vr:"ST",vm:"1",name:"CommentsOnRadiationDose"},"(0040,0312)":{tag:"(0040,0312)",vr:"DS",vm:"1",name:"XRayOutput"},"(0040,0314)":{tag:"(0040,0314)",vr:"DS",vm:"1",name:"HalfValueLayer"},"(0040,0316)":{tag:"(0040,0316)",vr:"DS",vm:"1",name:"OrganDose"},"(0040,0318)":{tag:"(0040,0318)",vr:"CS",vm:"1",name:"OrganExposed"},"(0040,0320)":{tag:"(0040,0320)",vr:"SQ",vm:"1",name:"BillingProcedureStepSequence"},"(0040,0321)":{tag:"(0040,0321)",vr:"SQ",vm:"1",name:"FilmConsumptionSequence"},"(0040,0324)":{tag:"(0040,0324)",vr:"SQ",vm:"1",name:"BillingSuppliesAndDevicesSequence"},"(0040,0330)":{tag:"(0040,0330)",vr:"SQ",vm:"1",name:"ReferencedProcedureStepSequence"},"(0040,0340)":{tag:"(0040,0340)",vr:"SQ",vm:"1",name:"PerformedSeriesSequence"},"(0040,0400)":{tag:"(0040,0400)",vr:"LT",vm:"1",name:"CommentsOnTheScheduledProcedureStep"},"(0040,0440)":{tag:"(0040,0440)",vr:"SQ",vm:"1",name:"ProtocolContextSequence"},"(0040,0441)":{tag:"(0040,0441)",vr:"SQ",vm:"1",name:"ContentItemModifierSequence"},"(0040,0500)":{tag:"(0040,0500)",vr:"SQ",vm:"1",name:"ScheduledSpecimenSequence"},"(0040,050A)":{tag:"(0040,050A)",vr:"LO",vm:"1",name:"SpecimenAccessionNumber"},"(0040,0512)":{tag:"(0040,0512)",vr:"LO",vm:"1",name:"ContainerIdentifier"},"(0040,0513)":{tag:"(0040,0513)",vr:"SQ",vm:"1",name:"IssuerOfTheContainerIdentifierSequence"},"(0040,0515)":{tag:"(0040,0515)",vr:"SQ",vm:"1",name:"AlternateContainerIdentifierSequence"},"(0040,0518)":{tag:"(0040,0518)",vr:"SQ",vm:"1",name:"ContainerTypeCodeSequence"},"(0040,051A)":{tag:"(0040,051A)",vr:"LO",vm:"1",name:"ContainerDescription"},"(0040,0520)":{tag:"(0040,0520)",vr:"SQ",vm:"1",name:"ContainerComponentSequence"},"(0040,0550)":{tag:"(0040,0550)",vr:"SQ",vm:"1",name:"SpecimenSequence"},"(0040,0551)":{tag:"(0040,0551)",vr:"LO",vm:"1",name:"SpecimenIdentifier"},"(0040,0552)":{tag:"(0040,0552)",vr:"SQ",vm:"1",name:"SpecimenDescriptionSequenceTrial"},"(0040,0553)":{tag:"(0040,0553)",vr:"ST",vm:"1",name:"SpecimenDescriptionTrial"},"(0040,0554)":{tag:"(0040,0554)",vr:"UI",vm:"1",name:"SpecimenUID"},"(0040,0555)":{tag:"(0040,0555)",vr:"SQ",vm:"1",name:"AcquisitionContextSequence"},"(0040,0556)":{tag:"(0040,0556)",vr:"ST",vm:"1",name:"AcquisitionContextDescription"},"(0040,0560)":{tag:"(0040,0560)",vr:"SQ",vm:"1",name:"SpecimenDescriptionSequence"},"(0040,0562)":{tag:"(0040,0562)",vr:"SQ",vm:"1",name:"IssuerOfTheSpecimenIdentifierSequence"},"(0040,059A)":{tag:"(0040,059A)",vr:"SQ",vm:"1",name:"SpecimenTypeCodeSequence"},"(0040,0600)":{tag:"(0040,0600)",vr:"LO",vm:"1",name:"SpecimenShortDescription"},"(0040,0602)":{tag:"(0040,0602)",vr:"UT",vm:"1",name:"SpecimenDetailedDescription"},"(0040,0610)":{tag:"(0040,0610)",vr:"SQ",vm:"1",name:"SpecimenPreparationSequence"},"(0040,0612)":{tag:"(0040,0612)",vr:"SQ",vm:"1",name:"SpecimenPreparationStepContentItemSequence"},"(0040,0620)":{tag:"(0040,0620)",vr:"SQ",vm:"1",name:"SpecimenLocalizationContentItemSequence"},"(0040,06FA)":{tag:"(0040,06FA)",vr:"LO",vm:"1",name:"SlideIdentifier"},"(0040,071A)":{tag:"(0040,071A)",vr:"SQ",vm:"1",name:"ImageCenterPointCoordinatesSequence"},"(0040,072A)":{tag:"(0040,072A)",vr:"DS",vm:"1",name:"XOffsetInSlideCoordinateSystem"},"(0040,073A)":{tag:"(0040,073A)",vr:"DS",vm:"1",name:"YOffsetInSlideCoordinateSystem"},"(0040,074A)":{tag:"(0040,074A)",vr:"DS",vm:"1",name:"ZOffsetInSlideCoordinateSystem"},"(0040,08D8)":{tag:"(0040,08D8)",vr:"SQ",vm:"1",name:"PixelSpacingSequence"},"(0040,08DA)":{tag:"(0040,08DA)",vr:"SQ",vm:"1",name:"CoordinateSystemAxisCodeSequence"},"(0040,08EA)":{tag:"(0040,08EA)",vr:"SQ",vm:"1",name:"MeasurementUnitsCodeSequence"},"(0040,09F8)":{tag:"(0040,09F8)",vr:"SQ",vm:"1",name:"VitalStainCodeSequenceTrial"},"(0040,1001)":{tag:"(0040,1001)",vr:"SH",vm:"1",name:"RequestedProcedureID"},"(0040,1002)":{tag:"(0040,1002)",vr:"LO",vm:"1",name:"ReasonForTheRequestedProcedure"},"(0040,1003)":{tag:"(0040,1003)",vr:"SH",vm:"1",name:"RequestedProcedurePriority"},"(0040,1004)":{tag:"(0040,1004)",vr:"LO",vm:"1",name:"PatientTransportArrangements"},"(0040,1005)":{tag:"(0040,1005)",vr:"LO",vm:"1",name:"RequestedProcedureLocation"},"(0040,1006)":{tag:"(0040,1006)",vr:"SH",vm:"1",name:"PlacerOrderNumberProcedure"},"(0040,1007)":{tag:"(0040,1007)",vr:"SH",vm:"1",name:"FillerOrderNumberProcedure"},"(0040,1008)":{tag:"(0040,1008)",vr:"LO",vm:"1",name:"ConfidentialityCode"},"(0040,1009)":{tag:"(0040,1009)",vr:"SH",vm:"1",name:"ReportingPriority"},"(0040,100A)":{tag:"(0040,100A)",vr:"SQ",vm:"1",name:"ReasonForRequestedProcedureCodeSequence"},"(0040,1010)":{tag:"(0040,1010)",vr:"PN",vm:"1-n",name:"NamesOfIntendedRecipientsOfResults"},"(0040,1011)":{tag:"(0040,1011)",vr:"SQ",vm:"1",name:"IntendedRecipientsOfResultsIdentificationSequence"},"(0040,1012)":{tag:"(0040,1012)",vr:"SQ",vm:"1",name:"ReasonForPerformedProcedureCodeSequence"},"(0040,1060)":{tag:"(0040,1060)",vr:"LO",vm:"1",name:"RequestedProcedureDescriptionTrial"},"(0040,1101)":{tag:"(0040,1101)",vr:"SQ",vm:"1",name:"PersonIdentificationCodeSequence"},"(0040,1102)":{tag:"(0040,1102)",vr:"ST",vm:"1",name:"PersonAddress"},"(0040,1103)":{tag:"(0040,1103)",vr:"LO",vm:"1-n",name:"PersonTelephoneNumbers"},"(0040,1400)":{tag:"(0040,1400)",vr:"LT",vm:"1",name:"RequestedProcedureComments"},"(0040,2001)":{tag:"(0040,2001)",vr:"LO",vm:"1",name:"ReasonForTheImagingServiceRequest"},"(0040,2004)":{tag:"(0040,2004)",vr:"DA",vm:"1",name:"IssueDateOfImagingServiceRequest"},"(0040,2005)":{tag:"(0040,2005)",vr:"TM",vm:"1",name:"IssueTimeOfImagingServiceRequest"},"(0040,2006)":{tag:"(0040,2006)",vr:"SH",vm:"1",name:"PlacerOrderNumberImagingServiceRequestRetired"},"(0040,2007)":{tag:"(0040,2007)",vr:"SH",vm:"1",name:"FillerOrderNumberImagingServiceRequestRetired"},"(0040,2008)":{tag:"(0040,2008)",vr:"PN",vm:"1",name:"OrderEnteredBy"},"(0040,2009)":{tag:"(0040,2009)",vr:"SH",vm:"1",name:"OrderEntererLocation"},"(0040,2010)":{tag:"(0040,2010)",vr:"SH",vm:"1",name:"OrderCallbackPhoneNumber"},"(0040,2016)":{tag:"(0040,2016)",vr:"LO",vm:"1",name:"PlacerOrderNumberImagingServiceRequest"},"(0040,2017)":{tag:"(0040,2017)",vr:"LO",vm:"1",name:"FillerOrderNumberImagingServiceRequest"},"(0040,2400)":{tag:"(0040,2400)",vr:"LT",vm:"1",name:"ImagingServiceRequestComments"},"(0040,3001)":{tag:"(0040,3001)",vr:"LO",vm:"1",name:"ConfidentialityConstraintOnPatientDataDescription"},"(0040,4001)":{tag:"(0040,4001)",vr:"CS",vm:"1",name:"GeneralPurposeScheduledProcedureStepStatus"},"(0040,4002)":{tag:"(0040,4002)",vr:"CS",vm:"1",name:"GeneralPurposePerformedProcedureStepStatus"},"(0040,4003)":{tag:"(0040,4003)",vr:"CS",vm:"1",name:"GeneralPurposeScheduledProcedureStepPriority"},"(0040,4004)":{tag:"(0040,4004)",vr:"SQ",vm:"1",name:"ScheduledProcessingApplicationsCodeSequence"},"(0040,4005)":{tag:"(0040,4005)",vr:"DT",vm:"1",name:"ScheduledProcedureStepStartDateTime"},"(0040,4006)":{tag:"(0040,4006)",vr:"CS",vm:"1",name:"MultipleCopiesFlag"},"(0040,4007)":{tag:"(0040,4007)",vr:"SQ",vm:"1",name:"PerformedProcessingApplicationsCodeSequence"},"(0040,4009)":{tag:"(0040,4009)",vr:"SQ",vm:"1",name:"HumanPerformerCodeSequence"},"(0040,4010)":{tag:"(0040,4010)",vr:"DT",vm:"1",name:"ScheduledProcedureStepModificationDateTime"},"(0040,4011)":{tag:"(0040,4011)",vr:"DT",vm:"1",name:"ExpectedCompletionDateTime"},"(0040,4015)":{tag:"(0040,4015)",vr:"SQ",vm:"1",name:"ResultingGeneralPurposePerformedProcedureStepsSequence"},"(0040,4016)":{tag:"(0040,4016)",vr:"SQ",vm:"1",name:"ReferencedGeneralPurposeScheduledProcedureStepSequence"},"(0040,4018)":{tag:"(0040,4018)",vr:"SQ",vm:"1",name:"ScheduledWorkitemCodeSequence"},"(0040,4019)":{tag:"(0040,4019)",vr:"SQ",vm:"1",name:"PerformedWorkitemCodeSequence"},"(0040,4020)":{tag:"(0040,4020)",vr:"CS",vm:"1",name:"InputAvailabilityFlag"},"(0040,4021)":{tag:"(0040,4021)",vr:"SQ",vm:"1",name:"InputInformationSequence"},"(0040,4022)":{tag:"(0040,4022)",vr:"SQ",vm:"1",name:"RelevantInformationSequence"},"(0040,4023)":{tag:"(0040,4023)",vr:"UI",vm:"1",name:"ReferencedGeneralPurposeScheduledProcedureStepTransactionUID"},"(0040,4025)":{tag:"(0040,4025)",vr:"SQ",vm:"1",name:"ScheduledStationNameCodeSequence"},"(0040,4026)":{tag:"(0040,4026)",vr:"SQ",vm:"1",name:"ScheduledStationClassCodeSequence"},"(0040,4027)":{tag:"(0040,4027)",vr:"SQ",vm:"1",name:"ScheduledStationGeographicLocationCodeSequence"},"(0040,4028)":{tag:"(0040,4028)",vr:"SQ",vm:"1",name:"PerformedStationNameCodeSequence"},"(0040,4029)":{tag:"(0040,4029)",vr:"SQ",vm:"1",name:"PerformedStationClassCodeSequence"},"(0040,4030)":{tag:"(0040,4030)",vr:"SQ",vm:"1",name:"PerformedStationGeographicLocationCodeSequence"},"(0040,4031)":{tag:"(0040,4031)",vr:"SQ",vm:"1",name:"RequestedSubsequentWorkitemCodeSequence"},"(0040,4032)":{tag:"(0040,4032)",vr:"SQ",vm:"1",name:"NonDICOMOutputCodeSequence"},"(0040,4033)":{tag:"(0040,4033)",vr:"SQ",vm:"1",name:"OutputInformationSequence"},"(0040,4034)":{tag:"(0040,4034)",vr:"SQ",vm:"1",name:"ScheduledHumanPerformersSequence"},"(0040,4035)":{tag:"(0040,4035)",vr:"SQ",vm:"1",name:"ActualHumanPerformersSequence"},"(0040,4036)":{tag:"(0040,4036)",vr:"LO",vm:"1",name:"HumanPerformerOrganization"},"(0040,4037)":{tag:"(0040,4037)",vr:"PN",vm:"1",name:"HumanPerformerName"},"(0040,4040)":{tag:"(0040,4040)",vr:"CS",vm:"1",name:"RawDataHandling"},"(0040,4041)":{tag:"(0040,4041)",vr:"CS",vm:"1",name:"InputReadinessState"},"(0040,4050)":{tag:"(0040,4050)",vr:"DT",vm:"1",name:"PerformedProcedureStepStartDateTime"},"(0040,4051)":{tag:"(0040,4051)",vr:"DT",vm:"1",name:"PerformedProcedureStepEndDateTime"},"(0040,4052)":{tag:"(0040,4052)",vr:"DT",vm:"1",name:"ProcedureStepCancellationDateTime"},"(0040,8302)":{tag:"(0040,8302)",vr:"DS",vm:"1",name:"EntranceDoseInmGy"},"(0040,9094)":{tag:"(0040,9094)",vr:"SQ",vm:"1",name:"ReferencedImageRealWorldValueMappingSequence"},"(0040,9096)":{tag:"(0040,9096)",vr:"SQ",vm:"1",name:"RealWorldValueMappingSequence"},"(0040,9098)":{tag:"(0040,9098)",vr:"SQ",vm:"1",name:"PixelValueMappingCodeSequence"},"(0040,9210)":{tag:"(0040,9210)",vr:"SH",vm:"1",name:"LUTLabel"},"(0040,9211)":{tag:"(0040,9211)",vr:"US|SS",vm:"1",name:"RealWorldValueLastValueMapped"},"(0040,9212)":{tag:"(0040,9212)",vr:"FD",vm:"1-n",name:"RealWorldValueLUTData"},"(0040,9216)":{tag:"(0040,9216)",vr:"US|SS",vm:"1",name:"RealWorldValueFirstValueMapped"},"(0040,9224)":{tag:"(0040,9224)",vr:"FD",vm:"1",name:"RealWorldValueIntercept"},"(0040,9225)":{tag:"(0040,9225)",vr:"FD",vm:"1",name:"RealWorldValueSlope"},"(0040,A007)":{tag:"(0040,A007)",vr:"CS",vm:"1",name:"FindingsFlagTrial"},"(0040,A010)":{tag:"(0040,A010)",vr:"CS",vm:"1",name:"RelationshipType"},"(0040,A020)":{tag:"(0040,A020)",vr:"SQ",vm:"1",name:"FindingsSequenceTrial"},"(0040,A021)":{tag:"(0040,A021)",vr:"UI",vm:"1",name:"FindingsGroupUIDTrial"},"(0040,A022)":{tag:"(0040,A022)",vr:"UI",vm:"1",name:"ReferencedFindingsGroupUIDTrial"},"(0040,A023)":{tag:"(0040,A023)",vr:"DA",vm:"1",name:"FindingsGroupRecordingDateTrial"},"(0040,A024)":{tag:"(0040,A024)",vr:"TM",vm:"1",name:"FindingsGroupRecordingTimeTrial"},"(0040,A026)":{tag:"(0040,A026)",vr:"SQ",vm:"1",name:"FindingsSourceCategoryCodeSequenceTrial"},"(0040,A027)":{tag:"(0040,A027)",vr:"LO",vm:"1",name:"VerifyingOrganization"},"(0040,A028)":{tag:"(0040,A028)",vr:"SQ",vm:"1",name:"DocumentingOrganizationIdentifierCodeSequenceTrial"},"(0040,A030)":{tag:"(0040,A030)",vr:"DT",vm:"1",name:"VerificationDateTime"},"(0040,A032)":{tag:"(0040,A032)",vr:"DT",vm:"1",name:"ObservationDateTime"},"(0040,A040)":{tag:"(0040,A040)",vr:"CS",vm:"1",name:"ValueType"},"(0040,A043)":{tag:"(0040,A043)",vr:"SQ",vm:"1",name:"ConceptNameCodeSequence"},"(0040,A047)":{tag:"(0040,A047)",vr:"LO",vm:"1",name:"MeasurementPrecisionDescriptionTrial"},"(0040,A050)":{tag:"(0040,A050)",vr:"CS",vm:"1",name:"ContinuityOfContent"},"(0040,A057)":{tag:"(0040,A057)",vr:"CS",vm:"1-n",name:"UrgencyOrPriorityAlertsTrial"},"(0040,A060)":{tag:"(0040,A060)",vr:"LO",vm:"1",name:"SequencingIndicatorTrial"},"(0040,A066)":{tag:"(0040,A066)",vr:"SQ",vm:"1",name:"DocumentIdentifierCodeSequenceTrial"},"(0040,A067)":{tag:"(0040,A067)",vr:"PN",vm:"1",name:"DocumentAuthorTrial"},"(0040,A068)":{tag:"(0040,A068)",vr:"SQ",vm:"1",name:"DocumentAuthorIdentifierCodeSequenceTrial"},"(0040,A070)":{tag:"(0040,A070)",vr:"SQ",vm:"1",name:"IdentifierCodeSequenceTrial"},"(0040,A073)":{tag:"(0040,A073)",vr:"SQ",vm:"1",name:"VerifyingObserverSequence"},"(0040,A074)":{tag:"(0040,A074)",vr:"OB",vm:"1",name:"ObjectBinaryIdentifierTrial"},"(0040,A075)":{tag:"(0040,A075)",vr:"PN",vm:"1",name:"VerifyingObserverName"},"(0040,A076)":{tag:"(0040,A076)",vr:"SQ",vm:"1",name:"DocumentingObserverIdentifierCodeSequenceTrial"},"(0040,A078)":{tag:"(0040,A078)",vr:"SQ",vm:"1",name:"AuthorObserverSequence"},"(0040,A07A)":{tag:"(0040,A07A)",vr:"SQ",vm:"1",name:"ParticipantSequence"},"(0040,A07C)":{tag:"(0040,A07C)",vr:"SQ",vm:"1",name:"CustodialOrganizationSequence"},"(0040,A080)":{tag:"(0040,A080)",vr:"CS",vm:"1",name:"ParticipationType"},"(0040,A082)":{tag:"(0040,A082)",vr:"DT",vm:"1",name:"ParticipationDateTime"},"(0040,A084)":{tag:"(0040,A084)",vr:"CS",vm:"1",name:"ObserverType"},"(0040,A085)":{tag:"(0040,A085)",vr:"SQ",vm:"1",name:"ProcedureIdentifierCodeSequenceTrial"},"(0040,A088)":{tag:"(0040,A088)",vr:"SQ",vm:"1",name:"VerifyingObserverIdentificationCodeSequence"},"(0040,A089)":{tag:"(0040,A089)",vr:"OB",vm:"1",name:"ObjectDirectoryBinaryIdentifierTrial"},"(0040,A090)":{tag:"(0040,A090)",vr:"SQ",vm:"1",name:"EquivalentCDADocumentSequence"},"(0040,A0B0)":{tag:"(0040,A0B0)",vr:"US",vm:"2-2n",name:"ReferencedWaveformChannels"},"(0040,A110)":{tag:"(0040,A110)",vr:"DA",vm:"1",name:"DateOfDocumentOrVerbalTransactionTrial"},"(0040,A112)":{tag:"(0040,A112)",vr:"TM",vm:"1",name:"TimeOfDocumentCreationOrVerbalTransactionTrial"},"(0040,A120)":{tag:"(0040,A120)",vr:"DT",vm:"1",name:"DateTime"},"(0040,A121)":{tag:"(0040,A121)",vr:"DA",vm:"1",name:"Date"},"(0040,A122)":{tag:"(0040,A122)",vr:"TM",vm:"1",name:"Time"},"(0040,A123)":{tag:"(0040,A123)",vr:"PN",vm:"1",name:"PersonName"},"(0040,A124)":{tag:"(0040,A124)",vr:"UI",vm:"1",name:"UID"},"(0040,A125)":{tag:"(0040,A125)",vr:"CS",vm:"2",name:"ReportStatusIDTrial"},"(0040,A130)":{tag:"(0040,A130)",vr:"CS",vm:"1",name:"TemporalRangeType"},"(0040,A132)":{tag:"(0040,A132)",vr:"UL",vm:"1-n",name:"ReferencedSamplePositions"},"(0040,A136)":{tag:"(0040,A136)",vr:"US",vm:"1-n",name:"ReferencedFrameNumbers"},"(0040,A138)":{tag:"(0040,A138)",vr:"DS",vm:"1-n",name:"ReferencedTimeOffsets"},"(0040,A13A)":{tag:"(0040,A13A)",vr:"DT",vm:"1-n",name:"ReferencedDateTime"},"(0040,A160)":{tag:"(0040,A160)",vr:"UT",vm:"1",name:"TextValue"},"(0040,A167)":{tag:"(0040,A167)",vr:"SQ",vm:"1",name:"ObservationCategoryCodeSequenceTrial"},"(0040,A168)":{tag:"(0040,A168)",vr:"SQ",vm:"1",name:"ConceptCodeSequence"},"(0040,A16A)":{tag:"(0040,A16A)",vr:"ST",vm:"1",name:"BibliographicCitationTrial"},"(0040,A170)":{tag:"(0040,A170)",vr:"SQ",vm:"1",name:"PurposeOfReferenceCodeSequence"},"(0040,A171)":{tag:"(0040,A171)",vr:"UI",vm:"1",name:"ObservationUIDTrial"},"(0040,A172)":{tag:"(0040,A172)",vr:"UI",vm:"1",name:"ReferencedObservationUIDTrial"},"(0040,A173)":{tag:"(0040,A173)",vr:"CS",vm:"1",name:"ReferencedObservationClassTrial"},"(0040,A174)":{tag:"(0040,A174)",vr:"CS",vm:"1",name:"ReferencedObjectObservationClassTrial"},"(0040,A180)":{tag:"(0040,A180)",vr:"US",vm:"1",name:"AnnotationGroupNumber"},"(0040,A192)":{tag:"(0040,A192)",vr:"DA",vm:"1",name:"ObservationDateTrial"},"(0040,A193)":{tag:"(0040,A193)",vr:"TM",vm:"1",name:"ObservationTimeTrial"},"(0040,A194)":{tag:"(0040,A194)",vr:"CS",vm:"1",name:"MeasurementAutomationTrial"},"(0040,A195)":{tag:"(0040,A195)",vr:"SQ",vm:"1",name:"ModifierCodeSequence"},"(0040,A224)":{tag:"(0040,A224)",vr:"ST",vm:"1",name:"IdentificationDescriptionTrial"},"(0040,A290)":{tag:"(0040,A290)",vr:"CS",vm:"1",name:"CoordinatesSetGeometricTypeTrial"},"(0040,A296)":{tag:"(0040,A296)",vr:"SQ",vm:"1",name:"AlgorithmCodeSequenceTrial"},"(0040,A297)":{tag:"(0040,A297)",vr:"ST",vm:"1",name:"AlgorithmDescriptionTrial"},"(0040,A29A)":{tag:"(0040,A29A)",vr:"SL",vm:"2-2n",name:"PixelCoordinatesSetTrial"},"(0040,A300)":{tag:"(0040,A300)",vr:"SQ",vm:"1",name:"MeasuredValueSequence"},"(0040,A301)":{tag:"(0040,A301)",vr:"SQ",vm:"1",name:"NumericValueQualifierCodeSequence"},"(0040,A307)":{tag:"(0040,A307)",vr:"PN",vm:"1",name:"CurrentObserverTrial"},"(0040,A30A)":{tag:"(0040,A30A)",vr:"DS",vm:"1-n",name:"NumericValue"},"(0040,A313)":{tag:"(0040,A313)",vr:"SQ",vm:"1",name:"ReferencedAccessionSequenceTrial"},"(0040,A33A)":{tag:"(0040,A33A)",vr:"ST",vm:"1",name:"ReportStatusCommentTrial"},"(0040,A340)":{tag:"(0040,A340)",vr:"SQ",vm:"1",name:"ProcedureContextSequenceTrial"},"(0040,A352)":{tag:"(0040,A352)",vr:"PN",vm:"1",name:"VerbalSourceTrial"},"(0040,A353)":{tag:"(0040,A353)",vr:"ST",vm:"1",name:"AddressTrial"},"(0040,A354)":{tag:"(0040,A354)",vr:"LO",vm:"1",name:"TelephoneNumberTrial"},"(0040,A358)":{tag:"(0040,A358)",vr:"SQ",vm:"1",name:"VerbalSourceIdentifierCodeSequenceTrial"},"(0040,A360)":{tag:"(0040,A360)",vr:"SQ",vm:"1",name:"PredecessorDocumentsSequence"},"(0040,A370)":{tag:"(0040,A370)",vr:"SQ",vm:"1",name:"ReferencedRequestSequence"},"(0040,A372)":{tag:"(0040,A372)",vr:"SQ",vm:"1",name:"PerformedProcedureCodeSequence"},"(0040,A375)":{tag:"(0040,A375)",vr:"SQ",vm:"1",name:"CurrentRequestedProcedureEvidenceSequence"},"(0040,A380)":{tag:"(0040,A380)",vr:"SQ",vm:"1",name:"ReportDetailSequenceTrial"},"(0040,A385)":{tag:"(0040,A385)",vr:"SQ",vm:"1",name:"PertinentOtherEvidenceSequence"},"(0040,A390)":{tag:"(0040,A390)",vr:"SQ",vm:"1",name:"HL7StructuredDocumentReferenceSequence"},"(0040,A402)":{tag:"(0040,A402)",vr:"UI",vm:"1",name:"ObservationSubjectUIDTrial"},"(0040,A403)":{tag:"(0040,A403)",vr:"CS",vm:"1",name:"ObservationSubjectClassTrial"},"(0040,A404)":{tag:"(0040,A404)",vr:"SQ",vm:"1",name:"ObservationSubjectTypeCodeSequenceTrial"},"(0040,A491)":{tag:"(0040,A491)",vr:"CS",vm:"1",name:"CompletionFlag"},"(0040,A492)":{tag:"(0040,A492)",vr:"LO",vm:"1",name:"CompletionFlagDescription"},"(0040,A493)":{tag:"(0040,A493)",vr:"CS",vm:"1",name:"VerificationFlag"},"(0040,A494)":{tag:"(0040,A494)",vr:"CS",vm:"1",name:"ArchiveRequested"},"(0040,A496)":{tag:"(0040,A496)",vr:"CS",vm:"1",name:"PreliminaryFlag"},"(0040,A504)":{tag:"(0040,A504)",vr:"SQ",vm:"1",name:"ContentTemplateSequence"},"(0040,A525)":{tag:"(0040,A525)",vr:"SQ",vm:"1",name:"IdenticalDocumentsSequence"},"(0040,A600)":{tag:"(0040,A600)",vr:"CS",vm:"1",name:"ObservationSubjectContextFlagTrial"},"(0040,A601)":{tag:"(0040,A601)",vr:"CS",vm:"1",name:"ObserverContextFlagTrial"},"(0040,A603)":{tag:"(0040,A603)",vr:"CS",vm:"1",name:"ProcedureContextFlagTrial"},"(0040,A730)":{tag:"(0040,A730)",vr:"SQ",vm:"1",name:"ContentSequence"},"(0040,A731)":{tag:"(0040,A731)",vr:"SQ",vm:"1",name:"RelationshipSequenceTrial"},"(0040,A732)":{tag:"(0040,A732)",vr:"SQ",vm:"1",name:"RelationshipTypeCodeSequenceTrial"},"(0040,A744)":{tag:"(0040,A744)",vr:"SQ",vm:"1",name:"LanguageCodeSequenceTrial"},"(0040,A992)":{tag:"(0040,A992)",vr:"ST",vm:"1",name:"UniformResourceLocatorTrial"},"(0040,B020)":{tag:"(0040,B020)",vr:"SQ",vm:"1",name:"WaveformAnnotationSequence"},"(0040,DB00)":{tag:"(0040,DB00)",vr:"CS",vm:"1",name:"TemplateIdentifier"},"(0040,DB06)":{tag:"(0040,DB06)",vr:"DT",vm:"1",name:"TemplateVersion"},"(0040,DB07)":{tag:"(0040,DB07)",vr:"DT",vm:"1",name:"TemplateLocalVersion"},"(0040,DB0B)":{tag:"(0040,DB0B)",vr:"CS",vm:"1",name:"TemplateExtensionFlag"},"(0040,DB0C)":{tag:"(0040,DB0C)",vr:"UI",vm:"1",name:"TemplateExtensionOrganizationUID"},"(0040,DB0D)":{tag:"(0040,DB0D)",vr:"UI",vm:"1",name:"TemplateExtensionCreatorUID"},"(0040,DB73)":{tag:"(0040,DB73)",vr:"UL",vm:"1-n",name:"ReferencedContentItemIdentifier"},"(0040,E001)":{tag:"(0040,E001)",vr:"ST",vm:"1",name:"HL7InstanceIdentifier"},"(0040,E004)":{tag:"(0040,E004)",vr:"DT",vm:"1",name:"HL7DocumentEffectiveTime"},"(0040,E006)":{tag:"(0040,E006)",vr:"SQ",vm:"1",name:"HL7DocumentTypeCodeSequence"},"(0040,E008)":{tag:"(0040,E008)",vr:"SQ",vm:"1",name:"DocumentClassCodeSequence"},"(0040,E010)":{tag:"(0040,E010)",vr:"UT",vm:"1",name:"RetrieveURI"},"(0040,E011)":{tag:"(0040,E011)",vr:"UI",vm:"1",name:"RetrieveLocationUID"},"(0040,E020)":{tag:"(0040,E020)",vr:"CS",vm:"1",name:"TypeOfInstances"},"(0040,E021)":{tag:"(0040,E021)",vr:"SQ",vm:"1",name:"DICOMRetrievalSequence"},"(0040,E022)":{tag:"(0040,E022)",vr:"SQ",vm:"1",name:"DICOMMediaRetrievalSequence"},"(0040,E023)":{tag:"(0040,E023)",vr:"SQ",vm:"1",name:"WADORetrievalSequence"},"(0040,E024)":{tag:"(0040,E024)",vr:"SQ",vm:"1",name:"XDSRetrievalSequence"},"(0040,E030)":{tag:"(0040,E030)",vr:"UI",vm:"1",name:"RepositoryUniqueID"},"(0040,E031)":{tag:"(0040,E031)",vr:"UI",vm:"1",name:"HomeCommunityID"},"(0042,0010)":{tag:"(0042,0010)",vr:"ST",vm:"1",name:"DocumentTitle"},"(0042,0011)":{tag:"(0042,0011)",vr:"OB",vm:"1",name:"EncapsulatedDocument"},"(0042,0012)":{tag:"(0042,0012)",vr:"LO",vm:"1",name:"MIMETypeOfEncapsulatedDocument"},"(0042,0013)":{tag:"(0042,0013)",vr:"SQ",vm:"1",name:"SourceInstanceSequence"},"(0042,0014)":{tag:"(0042,0014)",vr:"LO",vm:"1-n",name:"ListOfMIMETypes"},"(0044,0001)":{tag:"(0044,0001)",vr:"ST",vm:"1",name:"ProductPackageIdentifier"},"(0044,0002)":{tag:"(0044,0002)",vr:"CS",vm:"1",name:"SubstanceAdministrationApproval"},"(0044,0003)":{tag:"(0044,0003)",vr:"LT",vm:"1",name:"ApprovalStatusFurtherDescription"},"(0044,0004)":{tag:"(0044,0004)",vr:"DT",vm:"1",name:"ApprovalStatusDateTime"},"(0044,0007)":{tag:"(0044,0007)",vr:"SQ",vm:"1",name:"ProductTypeCodeSequence"},"(0044,0008)":{tag:"(0044,0008)",vr:"LO",vm:"1-n",name:"ProductName"},"(0044,0009)":{tag:"(0044,0009)",vr:"LT",vm:"1",name:"ProductDescription"},"(0044,000A)":{tag:"(0044,000A)",vr:"LO",vm:"1",name:"ProductLotIdentifier"},"(0044,000B)":{tag:"(0044,000B)",vr:"DT",vm:"1",name:"ProductExpirationDateTime"},"(0044,0010)":{tag:"(0044,0010)",vr:"DT",vm:"1",name:"SubstanceAdministrationDateTime"},"(0044,0011)":{tag:"(0044,0011)",vr:"LO",vm:"1",name:"SubstanceAdministrationNotes"},"(0044,0012)":{tag:"(0044,0012)",vr:"LO",vm:"1",name:"SubstanceAdministrationDeviceID"},"(0044,0013)":{tag:"(0044,0013)",vr:"SQ",vm:"1",name:"ProductParameterSequence"},"(0044,0019)":{tag:"(0044,0019)",vr:"SQ",vm:"1",name:"SubstanceAdministrationParameterSequence"},"(0046,0012)":{tag:"(0046,0012)",vr:"LO",vm:"1",name:"LensDescription"},"(0046,0014)":{tag:"(0046,0014)",vr:"SQ",vm:"1",name:"RightLensSequence"},"(0046,0015)":{tag:"(0046,0015)",vr:"SQ",vm:"1",name:"LeftLensSequence"},"(0046,0016)":{tag:"(0046,0016)",vr:"SQ",vm:"1",name:"UnspecifiedLateralityLensSequence"},"(0046,0018)":{tag:"(0046,0018)",vr:"SQ",vm:"1",name:"CylinderSequence"},"(0046,0028)":{tag:"(0046,0028)",vr:"SQ",vm:"1",name:"PrismSequence"},"(0046,0030)":{tag:"(0046,0030)",vr:"FD",vm:"1",name:"HorizontalPrismPower"},"(0046,0032)":{tag:"(0046,0032)",vr:"CS",vm:"1",name:"HorizontalPrismBase"},"(0046,0034)":{tag:"(0046,0034)",vr:"FD",vm:"1",name:"VerticalPrismPower"},"(0046,0036)":{tag:"(0046,0036)",vr:"CS",vm:"1",name:"VerticalPrismBase"},"(0046,0038)":{tag:"(0046,0038)",vr:"CS",vm:"1",name:"LensSegmentType"},"(0046,0040)":{tag:"(0046,0040)",vr:"FD",vm:"1",name:"OpticalTransmittance"},"(0046,0042)":{tag:"(0046,0042)",vr:"FD",vm:"1",name:"ChannelWidth"},"(0046,0044)":{tag:"(0046,0044)",vr:"FD",vm:"1",name:"PupilSize"},"(0046,0046)":{tag:"(0046,0046)",vr:"FD",vm:"1",name:"CornealSize"},"(0046,0050)":{tag:"(0046,0050)",vr:"SQ",vm:"1",name:"AutorefractionRightEyeSequence"},"(0046,0052)":{tag:"(0046,0052)",vr:"SQ",vm:"1",name:"AutorefractionLeftEyeSequence"},"(0046,0060)":{tag:"(0046,0060)",vr:"FD",vm:"1",name:"DistancePupillaryDistance"},"(0046,0062)":{tag:"(0046,0062)",vr:"FD",vm:"1",name:"NearPupillaryDistance"},"(0046,0063)":{tag:"(0046,0063)",vr:"FD",vm:"1",name:"IntermediatePupillaryDistance"},"(0046,0064)":{tag:"(0046,0064)",vr:"FD",vm:"1",name:"OtherPupillaryDistance"},"(0046,0070)":{tag:"(0046,0070)",vr:"SQ",vm:"1",name:"KeratometryRightEyeSequence"},"(0046,0071)":{tag:"(0046,0071)",vr:"SQ",vm:"1",name:"KeratometryLeftEyeSequence"},"(0046,0074)":{tag:"(0046,0074)",vr:"SQ",vm:"1",name:"SteepKeratometricAxisSequence"},"(0046,0075)":{tag:"(0046,0075)",vr:"FD",vm:"1",name:"RadiusOfCurvature"},"(0046,0076)":{tag:"(0046,0076)",vr:"FD",vm:"1",name:"KeratometricPower"},"(0046,0077)":{tag:"(0046,0077)",vr:"FD",vm:"1",name:"KeratometricAxis"},"(0046,0080)":{tag:"(0046,0080)",vr:"SQ",vm:"1",name:"FlatKeratometricAxisSequence"},"(0046,0092)":{tag:"(0046,0092)",vr:"CS",vm:"1",name:"BackgroundColor"},"(0046,0094)":{tag:"(0046,0094)",vr:"CS",vm:"1",name:"Optotype"},"(0046,0095)":{tag:"(0046,0095)",vr:"CS",vm:"1",name:"OptotypePresentation"},"(0046,0097)":{tag:"(0046,0097)",vr:"SQ",vm:"1",name:"SubjectiveRefractionRightEyeSequence"},"(0046,0098)":{tag:"(0046,0098)",vr:"SQ",vm:"1",name:"SubjectiveRefractionLeftEyeSequence"},"(0046,0100)":{tag:"(0046,0100)",vr:"SQ",vm:"1",name:"AddNearSequence"},"(0046,0101)":{tag:"(0046,0101)",vr:"SQ",vm:"1",name:"AddIntermediateSequence"},"(0046,0102)":{tag:"(0046,0102)",vr:"SQ",vm:"1",name:"AddOtherSequence"},"(0046,0104)":{tag:"(0046,0104)",vr:"FD",vm:"1",name:"AddPower"},"(0046,0106)":{tag:"(0046,0106)",vr:"FD",vm:"1",name:"ViewingDistance"},"(0046,0121)":{tag:"(0046,0121)",vr:"SQ",vm:"1",name:"VisualAcuityTypeCodeSequence"},"(0046,0122)":{tag:"(0046,0122)",vr:"SQ",vm:"1",name:"VisualAcuityRightEyeSequence"},"(0046,0123)":{tag:"(0046,0123)",vr:"SQ",vm:"1",name:"VisualAcuityLeftEyeSequence"},"(0046,0124)":{tag:"(0046,0124)",vr:"SQ",vm:"1",name:"VisualAcuityBothEyesOpenSequence"},"(0046,0125)":{tag:"(0046,0125)",vr:"CS",vm:"1",name:"ViewingDistanceType"},"(0046,0135)":{tag:"(0046,0135)",vr:"SS",vm:"2",name:"VisualAcuityModifiers"},"(0046,0137)":{tag:"(0046,0137)",vr:"FD",vm:"1",name:"DecimalVisualAcuity"},"(0046,0139)":{tag:"(0046,0139)",vr:"LO",vm:"1",name:"OptotypeDetailedDefinition"},"(0046,0145)":{tag:"(0046,0145)",vr:"SQ",vm:"1",name:"ReferencedRefractiveMeasurementsSequence"},"(0046,0146)":{tag:"(0046,0146)",vr:"FD",vm:"1",name:"SpherePower"},"(0046,0147)":{tag:"(0046,0147)",vr:"FD",vm:"1",name:"CylinderPower"},"(0048,0001)":{tag:"(0048,0001)",vr:"FL",vm:"1",name:"ImagedVolumeWidth"},"(0048,0002)":{tag:"(0048,0002)",vr:"FL",vm:"1",name:"ImagedVolumeHeight"},"(0048,0003)":{tag:"(0048,0003)",vr:"FL",vm:"1",name:"ImagedVolumeDepth"},"(0048,0006)":{tag:"(0048,0006)",vr:"UL",vm:"1",name:"TotalPixelMatrixColumns"},"(0048,0007)":{tag:"(0048,0007)",vr:"UL",vm:"1",name:"TotalPixelMatrixRows"},"(0048,0008)":{tag:"(0048,0008)",vr:"SQ",vm:"1",name:"TotalPixelMatrixOriginSequence"},"(0048,0010)":{tag:"(0048,0010)",vr:"CS",vm:"1",name:"SpecimenLabelInImage"},"(0048,0011)":{tag:"(0048,0011)",vr:"CS",vm:"1",name:"FocusMethod"},"(0048,0012)":{tag:"(0048,0012)",vr:"CS",vm:"1",name:"ExtendedDepthOfField"},"(0048,0013)":{tag:"(0048,0013)",vr:"US",vm:"1",name:"NumberOfFocalPlanes"},"(0048,0014)":{tag:"(0048,0014)",vr:"FL",vm:"1",name:"DistanceBetweenFocalPlanes"},"(0048,0015)":{tag:"(0048,0015)",vr:"US",vm:"3",name:"RecommendedAbsentPixelCIELabValue"},"(0048,0100)":{tag:"(0048,0100)",vr:"SQ",vm:"1",name:"IlluminatorTypeCodeSequence"},"(0048,0102)":{tag:"(0048,0102)",vr:"DS",vm:"6",name:"ImageOrientationSlide"},"(0048,0105)":{tag:"(0048,0105)",vr:"SQ",vm:"1",name:"OpticalPathSequence"},"(0048,0106)":{tag:"(0048,0106)",vr:"SH",vm:"1",name:"OpticalPathIdentifier"},"(0048,0107)":{tag:"(0048,0107)",vr:"ST",vm:"1",name:"OpticalPathDescription"},"(0048,0108)":{tag:"(0048,0108)",vr:"SQ",vm:"1",name:"IlluminationColorCodeSequence"},"(0048,0110)":{tag:"(0048,0110)",vr:"SQ",vm:"1",name:"SpecimenReferenceSequence"},"(0048,0111)":{tag:"(0048,0111)",vr:"DS",vm:"1",name:"CondenserLensPower"},"(0048,0112)":{tag:"(0048,0112)",vr:"DS",vm:"1",name:"ObjectiveLensPower"},"(0048,0113)":{tag:"(0048,0113)",vr:"DS",vm:"1",name:"ObjectiveLensNumericalAperture"},"(0048,0120)":{tag:"(0048,0120)",vr:"SQ",vm:"1",name:"PaletteColorLookupTableSequence"},"(0048,0200)":{tag:"(0048,0200)",vr:"SQ",vm:"1",name:"ReferencedImageNavigationSequence"},"(0048,0201)":{tag:"(0048,0201)",vr:"US",vm:"2",name:"TopLeftHandCornerOfLocalizerArea"},"(0048,0202)":{tag:"(0048,0202)",vr:"US",vm:"2",name:"BottomRightHandCornerOfLocalizerArea"},"(0048,0207)":{tag:"(0048,0207)",vr:"SQ",vm:"1",name:"OpticalPathIdentificationSequence"},"(0048,021A)":{tag:"(0048,021A)",vr:"SQ",vm:"1",name:"PlanePositionSlideSequence"},"(0048,021E)":{tag:"(0048,021E)",vr:"SL",vm:"1",name:"RowPositionInTotalImagePixelMatrix"},"(0048,021F)":{tag:"(0048,021F)",vr:"SL",vm:"1",name:"ColumnPositionInTotalImagePixelMatrix"},"(0048,0301)":{tag:"(0048,0301)",vr:"CS",vm:"1",name:"PixelOriginInterpretation"},"(0050,0004)":{tag:"(0050,0004)",vr:"CS",vm:"1",name:"CalibrationImage"},"(0050,0010)":{tag:"(0050,0010)",vr:"SQ",vm:"1",name:"DeviceSequence"},"(0050,0012)":{tag:"(0050,0012)",vr:"SQ",vm:"1",name:"ContainerComponentTypeCodeSequence"},"(0050,0013)":{tag:"(0050,0013)",vr:"FD",vm:"1",name:"ContainerComponentThickness"},"(0050,0014)":{tag:"(0050,0014)",vr:"DS",vm:"1",name:"DeviceLength"},"(0050,0015)":{tag:"(0050,0015)",vr:"FD",vm:"1",name:"ContainerComponentWidth"},"(0050,0016)":{tag:"(0050,0016)",vr:"DS",vm:"1",name:"DeviceDiameter"},"(0050,0017)":{tag:"(0050,0017)",vr:"CS",vm:"1",name:"DeviceDiameterUnits"},"(0050,0018)":{tag:"(0050,0018)",vr:"DS",vm:"1",name:"DeviceVolume"},"(0050,0019)":{tag:"(0050,0019)",vr:"DS",vm:"1",name:"InterMarkerDistance"},"(0050,001A)":{tag:"(0050,001A)",vr:"CS",vm:"1",name:"ContainerComponentMaterial"},"(0050,001B)":{tag:"(0050,001B)",vr:"LO",vm:"1",name:"ContainerComponentID"},"(0050,001C)":{tag:"(0050,001C)",vr:"FD",vm:"1",name:"ContainerComponentLength"},"(0050,001D)":{tag:"(0050,001D)",vr:"FD",vm:"1",name:"ContainerComponentDiameter"},"(0050,001E)":{tag:"(0050,001E)",vr:"LO",vm:"1",name:"ContainerComponentDescription"},"(0050,0020)":{tag:"(0050,0020)",vr:"LO",vm:"1",name:"DeviceDescription"},"(0052,0001)":{tag:"(0052,0001)",vr:"FL",vm:"1",name:"ContrastBolusIngredientPercentByVolume"},"(0052,0002)":{tag:"(0052,0002)",vr:"FD",vm:"1",name:"OCTFocalDistance"},"(0052,0003)":{tag:"(0052,0003)",vr:"FD",vm:"1",name:"BeamSpotSize"},"(0052,0004)":{tag:"(0052,0004)",vr:"FD",vm:"1",name:"EffectiveRefractiveIndex"},"(0052,0006)":{tag:"(0052,0006)",vr:"CS",vm:"1",name:"OCTAcquisitionDomain"},"(0052,0007)":{tag:"(0052,0007)",vr:"FD",vm:"1",name:"OCTOpticalCenterWavelength"},"(0052,0008)":{tag:"(0052,0008)",vr:"FD",vm:"1",name:"AxialResolution"},"(0052,0009)":{tag:"(0052,0009)",vr:"FD",vm:"1",name:"RangingDepth"},"(0052,0011)":{tag:"(0052,0011)",vr:"FD",vm:"1",name:"ALineRate"},"(0052,0012)":{tag:"(0052,0012)",vr:"US",vm:"1",name:"ALinesPerFrame"},"(0052,0013)":{tag:"(0052,0013)",vr:"FD",vm:"1",name:"CatheterRotationalRate"},"(0052,0014)":{tag:"(0052,0014)",vr:"FD",vm:"1",name:"ALinePixelSpacing"},"(0052,0016)":{tag:"(0052,0016)",vr:"SQ",vm:"1",name:"ModeOfPercutaneousAccessSequence"},"(0052,0025)":{tag:"(0052,0025)",vr:"SQ",vm:"1",name:"IntravascularOCTFrameTypeSequence"},"(0052,0026)":{tag:"(0052,0026)",vr:"CS",vm:"1",name:"OCTZOffsetApplied"},"(0052,0027)":{tag:"(0052,0027)",vr:"SQ",vm:"1",name:"IntravascularFrameContentSequence"},"(0052,0028)":{tag:"(0052,0028)",vr:"FD",vm:"1",name:"IntravascularLongitudinalDistance"},"(0052,0029)":{tag:"(0052,0029)",vr:"SQ",vm:"1",name:"IntravascularOCTFrameContentSequence"},"(0052,0030)":{tag:"(0052,0030)",vr:"SS",vm:"1",name:"OCTZOffsetCorrection"},"(0052,0031)":{tag:"(0052,0031)",vr:"CS",vm:"1",name:"CatheterDirectionOfRotation"},"(0052,0033)":{tag:"(0052,0033)",vr:"FD",vm:"1",name:"SeamLineLocation"},"(0052,0034)":{tag:"(0052,0034)",vr:"FD",vm:"1",name:"FirstALineLocation"},"(0052,0036)":{tag:"(0052,0036)",vr:"US",vm:"1",name:"SeamLineIndex"},"(0052,0038)":{tag:"(0052,0038)",vr:"US",vm:"1",name:"NumberOfPaddedAlines"},"(0052,0039)":{tag:"(0052,0039)",vr:"CS",vm:"1",name:"InterpolationType"},"(0052,003A)":{tag:"(0052,003A)",vr:"CS",vm:"1",name:"RefractiveIndexApplied"},"(0054,0011)":{tag:"(0054,0011)",vr:"US",vm:"1",name:"NumberOfEnergyWindows"},"(0054,0012)":{tag:"(0054,0012)",vr:"SQ",vm:"1",name:"EnergyWindowInformationSequence"},"(0054,0013)":{tag:"(0054,0013)",vr:"SQ",vm:"1",name:"EnergyWindowRangeSequence"},"(0054,0014)":{tag:"(0054,0014)",vr:"DS",vm:"1",name:"EnergyWindowLowerLimit"},"(0054,0015)":{tag:"(0054,0015)",vr:"DS",vm:"1",name:"EnergyWindowUpperLimit"},"(0054,0016)":{tag:"(0054,0016)",vr:"SQ",vm:"1",name:"RadiopharmaceuticalInformationSequence"},"(0054,0017)":{tag:"(0054,0017)",vr:"IS",vm:"1",name:"ResidualSyringeCounts"},"(0054,0018)":{tag:"(0054,0018)",vr:"SH",vm:"1",name:"EnergyWindowName"},"(0054,0020)":{tag:"(0054,0020)",vr:"US",vm:"1-n",name:"DetectorVector"},"(0054,0021)":{tag:"(0054,0021)",vr:"US",vm:"1",name:"NumberOfDetectors"},"(0054,0022)":{tag:"(0054,0022)",vr:"SQ",vm:"1",name:"DetectorInformationSequence"},"(0054,0030)":{tag:"(0054,0030)",vr:"US",vm:"1-n",name:"PhaseVector"},"(0054,0031)":{tag:"(0054,0031)",vr:"US",vm:"1",name:"NumberOfPhases"},"(0054,0032)":{tag:"(0054,0032)",vr:"SQ",vm:"1",name:"PhaseInformationSequence"},"(0054,0033)":{tag:"(0054,0033)",vr:"US",vm:"1",name:"NumberOfFramesInPhase"},"(0054,0036)":{tag:"(0054,0036)",vr:"IS",vm:"1",name:"PhaseDelay"},"(0054,0038)":{tag:"(0054,0038)",vr:"IS",vm:"1",name:"PauseBetweenFrames"},"(0054,0039)":{tag:"(0054,0039)",vr:"CS",vm:"1",name:"PhaseDescription"},"(0054,0050)":{tag:"(0054,0050)",vr:"US",vm:"1-n",name:"RotationVector"},"(0054,0051)":{tag:"(0054,0051)",vr:"US",vm:"1",name:"NumberOfRotations"},"(0054,0052)":{tag:"(0054,0052)",vr:"SQ",vm:"1",name:"RotationInformationSequence"},"(0054,0053)":{tag:"(0054,0053)",vr:"US",vm:"1",name:"NumberOfFramesInRotation"},"(0054,0060)":{tag:"(0054,0060)",vr:"US",vm:"1-n",name:"RRIntervalVector"},"(0054,0061)":{tag:"(0054,0061)",vr:"US",vm:"1",name:"NumberOfRRIntervals"},"(0054,0062)":{tag:"(0054,0062)",vr:"SQ",vm:"1",name:"GatedInformationSequence"},"(0054,0063)":{tag:"(0054,0063)",vr:"SQ",vm:"1",name:"DataInformationSequence"},"(0054,0070)":{tag:"(0054,0070)",vr:"US",vm:"1-n",name:"TimeSlotVector"},"(0054,0071)":{tag:"(0054,0071)",vr:"US",vm:"1",name:"NumberOfTimeSlots"},"(0054,0072)":{tag:"(0054,0072)",vr:"SQ",vm:"1",name:"TimeSlotInformationSequence"},"(0054,0073)":{tag:"(0054,0073)",vr:"DS",vm:"1",name:"TimeSlotTime"},"(0054,0080)":{tag:"(0054,0080)",vr:"US",vm:"1-n",name:"SliceVector"},"(0054,0081)":{tag:"(0054,0081)",vr:"US",vm:"1",name:"NumberOfSlices"},"(0054,0090)":{tag:"(0054,0090)",vr:"US",vm:"1-n",name:"AngularViewVector"},"(0054,0100)":{tag:"(0054,0100)",vr:"US",vm:"1-n",name:"TimeSliceVector"},"(0054,0101)":{tag:"(0054,0101)",vr:"US",vm:"1",name:"NumberOfTimeSlices"},"(0054,0200)":{tag:"(0054,0200)",vr:"DS",vm:"1",name:"StartAngle"},"(0054,0202)":{tag:"(0054,0202)",vr:"CS",vm:"1",name:"TypeOfDetectorMotion"},"(0054,0210)":{tag:"(0054,0210)",vr:"IS",vm:"1-n",name:"TriggerVector"},"(0054,0211)":{tag:"(0054,0211)",vr:"US",vm:"1",name:"NumberOfTriggersInPhase"},"(0054,0220)":{tag:"(0054,0220)",vr:"SQ",vm:"1",name:"ViewCodeSequence"},"(0054,0222)":{tag:"(0054,0222)",vr:"SQ",vm:"1",name:"ViewModifierCodeSequence"},"(0054,0300)":{tag:"(0054,0300)",vr:"SQ",vm:"1",name:"RadionuclideCodeSequence"},"(0054,0302)":{tag:"(0054,0302)",vr:"SQ",vm:"1",name:"AdministrationRouteCodeSequence"},"(0054,0304)":{tag:"(0054,0304)",vr:"SQ",vm:"1",name:"RadiopharmaceuticalCodeSequence"},"(0054,0306)":{tag:"(0054,0306)",vr:"SQ",vm:"1",name:"CalibrationDataSequence"},"(0054,0308)":{tag:"(0054,0308)",vr:"US",vm:"1",name:"EnergyWindowNumber"},"(0054,0400)":{tag:"(0054,0400)",vr:"SH",vm:"1",name:"ImageID"},"(0054,0410)":{tag:"(0054,0410)",vr:"SQ",vm:"1",name:"PatientOrientationCodeSequence"},"(0054,0412)":{tag:"(0054,0412)",vr:"SQ",vm:"1",name:"PatientOrientationModifierCodeSequence"},"(0054,0414)":{tag:"(0054,0414)",vr:"SQ",vm:"1",name:"PatientGantryRelationshipCodeSequence"},"(0054,0500)":{tag:"(0054,0500)",vr:"CS",vm:"1",name:"SliceProgressionDirection"},"(0054,1000)":{tag:"(0054,1000)",vr:"CS",vm:"2",name:"SeriesType"},"(0054,1001)":{tag:"(0054,1001)",vr:"CS",vm:"1",name:"Units"},"(0054,1002)":{tag:"(0054,1002)",vr:"CS",vm:"1",name:"CountsSource"},"(0054,1004)":{tag:"(0054,1004)",vr:"CS",vm:"1",name:"ReprojectionMethod"},"(0054,1006)":{tag:"(0054,1006)",vr:"CS",vm:"1",name:"SUVType"},"(0054,1100)":{tag:"(0054,1100)",vr:"CS",vm:"1",name:"RandomsCorrectionMethod"},"(0054,1101)":{tag:"(0054,1101)",vr:"LO",vm:"1",name:"AttenuationCorrectionMethod"},"(0054,1102)":{tag:"(0054,1102)",vr:"CS",vm:"1",name:"DecayCorrection"},"(0054,1103)":{tag:"(0054,1103)",vr:"LO",vm:"1",name:"ReconstructionMethod"},"(0054,1104)":{tag:"(0054,1104)",vr:"LO",vm:"1",name:"DetectorLinesOfResponseUsed"},"(0054,1105)":{tag:"(0054,1105)",vr:"LO",vm:"1",name:"ScatterCorrectionMethod"},"(0054,1200)":{tag:"(0054,1200)",vr:"DS",vm:"1",name:"AxialAcceptance"},"(0054,1201)":{tag:"(0054,1201)",vr:"IS",vm:"2",name:"AxialMash"},"(0054,1202)":{tag:"(0054,1202)",vr:"IS",vm:"1",name:"TransverseMash"},"(0054,1203)":{tag:"(0054,1203)",vr:"DS",vm:"2",name:"DetectorElementSize"},"(0054,1210)":{tag:"(0054,1210)",vr:"DS",vm:"1",name:"CoincidenceWindowWidth"},"(0054,1220)":{tag:"(0054,1220)",vr:"CS",vm:"1-n",name:"SecondaryCountsType"},"(0054,1300)":{tag:"(0054,1300)",vr:"DS",vm:"1",name:"FrameReferenceTime"},"(0054,1310)":{tag:"(0054,1310)",vr:"IS",vm:"1",name:"PrimaryPromptsCountsAccumulated"},"(0054,1311)":{tag:"(0054,1311)",vr:"IS",vm:"1-n",name:"SecondaryCountsAccumulated"},"(0054,1320)":{tag:"(0054,1320)",vr:"DS",vm:"1",name:"SliceSensitivityFactor"},"(0054,1321)":{tag:"(0054,1321)",vr:"DS",vm:"1",name:"DecayFactor"},"(0054,1322)":{tag:"(0054,1322)",vr:"DS",vm:"1",name:"DoseCalibrationFactor"},"(0054,1323)":{tag:"(0054,1323)",vr:"DS",vm:"1",name:"ScatterFractionFactor"},"(0054,1324)":{tag:"(0054,1324)",vr:"DS",vm:"1",name:"DeadTimeFactor"},"(0054,1330)":{tag:"(0054,1330)",vr:"US",vm:"1",name:"ImageIndex"},"(0054,1400)":{tag:"(0054,1400)",vr:"CS",vm:"1-n",name:"CountsIncluded"},"(0054,1401)":{tag:"(0054,1401)",vr:"CS",vm:"1",name:"DeadTimeCorrectionFlag"},"(0060,3000)":{tag:"(0060,3000)",vr:"SQ",vm:"1",name:"HistogramSequence"},"(0060,3002)":{tag:"(0060,3002)",vr:"US",vm:"1",name:"HistogramNumberOfBins"},"(0060,3004)":{tag:"(0060,3004)",vr:"US|SS",vm:"1",name:"HistogramFirstBinValue"},"(0060,3006)":{tag:"(0060,3006)",vr:"US|SS",vm:"1",name:"HistogramLastBinValue"},"(0060,3008)":{tag:"(0060,3008)",vr:"US",vm:"1",name:"HistogramBinWidth"},"(0060,3010)":{tag:"(0060,3010)",vr:"LO",vm:"1",name:"HistogramExplanation"},"(0060,3020)":{tag:"(0060,3020)",vr:"UL",vm:"1-n",name:"HistogramData"},"(0062,0001)":{tag:"(0062,0001)",vr:"CS",vm:"1",name:"SegmentationType"},"(0062,0002)":{tag:"(0062,0002)",vr:"SQ",vm:"1",name:"SegmentSequence"},"(0062,0003)":{tag:"(0062,0003)",vr:"SQ",vm:"1",name:"SegmentedPropertyCategoryCodeSequence"},"(0062,0004)":{tag:"(0062,0004)",vr:"US",vm:"1",name:"SegmentNumber"},"(0062,0005)":{tag:"(0062,0005)",vr:"LO",vm:"1",name:"SegmentLabel"},"(0062,0006)":{tag:"(0062,0006)",vr:"ST",vm:"1",name:"SegmentDescription"},"(0062,0008)":{tag:"(0062,0008)",vr:"CS",vm:"1",name:"SegmentAlgorithmType"},"(0062,0009)":{tag:"(0062,0009)",vr:"LO",vm:"1",name:"SegmentAlgorithmName"},"(0062,000A)":{tag:"(0062,000A)",vr:"SQ",vm:"1",name:"SegmentIdentificationSequence"},"(0062,000B)":{tag:"(0062,000B)",vr:"US",vm:"1-n",name:"ReferencedSegmentNumber"},"(0062,000C)":{tag:"(0062,000C)",vr:"US",vm:"1",name:"RecommendedDisplayGrayscaleValue"},"(0062,000D)":{tag:"(0062,000D)",vr:"US",vm:"3",name:"RecommendedDisplayCIELabValue"},"(0062,000E)":{tag:"(0062,000E)",vr:"US",vm:"1",name:"MaximumFractionalValue"},"(0062,000F)":{tag:"(0062,000F)",vr:"SQ",vm:"1",name:"SegmentedPropertyTypeCodeSequence"},"(0062,0010)":{tag:"(0062,0010)",vr:"CS",vm:"1",name:"SegmentationFractionalType"},"(0064,0002)":{tag:"(0064,0002)",vr:"SQ",vm:"1",name:"DeformableRegistrationSequence"},"(0064,0003)":{tag:"(0064,0003)",vr:"UI",vm:"1",name:"SourceFrameOfReferenceUID"},"(0064,0005)":{tag:"(0064,0005)",vr:"SQ",vm:"1",name:"DeformableRegistrationGridSequence"},"(0064,0007)":{tag:"(0064,0007)",vr:"UL",vm:"3",name:"GridDimensions"},"(0064,0008)":{tag:"(0064,0008)",vr:"FD",vm:"3",name:"GridResolution"},"(0064,0009)":{tag:"(0064,0009)",vr:"OF",vm:"1",name:"VectorGridData"},"(0064,000F)":{tag:"(0064,000F)",vr:"SQ",vm:"1",name:"PreDeformationMatrixRegistrationSequence"},"(0064,0010)":{tag:"(0064,0010)",vr:"SQ",vm:"1",name:"PostDeformationMatrixRegistrationSequence"},"(0066,0001)":{tag:"(0066,0001)",vr:"UL",vm:"1",name:"NumberOfSurfaces"},"(0066,0002)":{tag:"(0066,0002)",vr:"SQ",vm:"1",name:"SurfaceSequence"},"(0066,0003)":{tag:"(0066,0003)",vr:"UL",vm:"1",name:"SurfaceNumber"},"(0066,0004)":{tag:"(0066,0004)",vr:"LT",vm:"1",name:"SurfaceComments"},"(0066,0009)":{tag:"(0066,0009)",vr:"CS",vm:"1",name:"SurfaceProcessing"},"(0066,000A)":{tag:"(0066,000A)",vr:"FL",vm:"1",name:"SurfaceProcessingRatio"},"(0066,000B)":{tag:"(0066,000B)",vr:"LO",vm:"1",name:"SurfaceProcessingDescription"},"(0066,000C)":{tag:"(0066,000C)",vr:"FL",vm:"1",name:"RecommendedPresentationOpacity"},"(0066,000D)":{tag:"(0066,000D)",vr:"CS",vm:"1",name:"RecommendedPresentationType"},"(0066,000E)":{tag:"(0066,000E)",vr:"CS",vm:"1",name:"FiniteVolume"},"(0066,0010)":{tag:"(0066,0010)",vr:"CS",vm:"1",name:"Manifold"},"(0066,0011)":{tag:"(0066,0011)",vr:"SQ",vm:"1",name:"SurfacePointsSequence"},"(0066,0012)":{tag:"(0066,0012)",vr:"SQ",vm:"1",name:"SurfacePointsNormalsSequence"},"(0066,0013)":{tag:"(0066,0013)",vr:"SQ",vm:"1",name:"SurfaceMeshPrimitivesSequence"},"(0066,0015)":{tag:"(0066,0015)",vr:"UL",vm:"1",name:"NumberOfSurfacePoints"},"(0066,0016)":{tag:"(0066,0016)",vr:"OF",vm:"1",name:"PointCoordinatesData"},"(0066,0017)":{tag:"(0066,0017)",vr:"FL",vm:"3",name:"PointPositionAccuracy"},"(0066,0018)":{tag:"(0066,0018)",vr:"FL",vm:"1",name:"MeanPointDistance"},"(0066,0019)":{tag:"(0066,0019)",vr:"FL",vm:"1",name:"MaximumPointDistance"},"(0066,001A)":{tag:"(0066,001A)",vr:"FL",vm:"6",name:"PointsBoundingBoxCoordinates"},"(0066,001B)":{tag:"(0066,001B)",vr:"FL",vm:"3",name:"AxisOfRotation"},"(0066,001C)":{tag:"(0066,001C)",vr:"FL",vm:"3",name:"CenterOfRotation"},"(0066,001E)":{tag:"(0066,001E)",vr:"UL",vm:"1",name:"NumberOfVectors"},"(0066,001F)":{tag:"(0066,001F)",vr:"US",vm:"1",name:"VectorDimensionality"},"(0066,0020)":{tag:"(0066,0020)",vr:"FL",vm:"1-n",name:"VectorAccuracy"},"(0066,0021)":{tag:"(0066,0021)",vr:"OF",vm:"1",name:"VectorCoordinateData"},"(0066,0023)":{tag:"(0066,0023)",vr:"OW",vm:"1",name:"TrianglePointIndexList"},"(0066,0024)":{tag:"(0066,0024)",vr:"OW",vm:"1",name:"EdgePointIndexList"},"(0066,0025)":{tag:"(0066,0025)",vr:"OW",vm:"1",name:"VertexPointIndexList"},"(0066,0026)":{tag:"(0066,0026)",vr:"SQ",vm:"1",name:"TriangleStripSequence"},"(0066,0027)":{tag:"(0066,0027)",vr:"SQ",vm:"1",name:"TriangleFanSequence"},"(0066,0028)":{tag:"(0066,0028)",vr:"SQ",vm:"1",name:"LineSequence"},"(0066,0029)":{tag:"(0066,0029)",vr:"OW",vm:"1",name:"PrimitivePointIndexList"},"(0066,002A)":{tag:"(0066,002A)",vr:"UL",vm:"1",name:"SurfaceCount"},"(0066,002B)":{tag:"(0066,002B)",vr:"SQ",vm:"1",name:"ReferencedSurfaceSequence"},"(0066,002C)":{tag:"(0066,002C)",vr:"UL",vm:"1",name:"ReferencedSurfaceNumber"},"(0066,002D)":{tag:"(0066,002D)",vr:"SQ",vm:"1",name:"SegmentSurfaceGenerationAlgorithmIdentificationSequence"},"(0066,002E)":{tag:"(0066,002E)",vr:"SQ",vm:"1",name:"SegmentSurfaceSourceInstanceSequence"},"(0066,002F)":{tag:"(0066,002F)",vr:"SQ",vm:"1",name:"AlgorithmFamilyCodeSequence"},"(0066,0030)":{tag:"(0066,0030)",vr:"SQ",vm:"1",name:"AlgorithmNameCodeSequence"},"(0066,0031)":{tag:"(0066,0031)",vr:"LO",vm:"1",name:"AlgorithmVersion"},"(0066,0032)":{tag:"(0066,0032)",vr:"LT",vm:"1",name:"AlgorithmParameters"},"(0066,0034)":{tag:"(0066,0034)",vr:"SQ",vm:"1",name:"FacetSequence"},"(0066,0035)":{tag:"(0066,0035)",vr:"SQ",vm:"1",name:"SurfaceProcessingAlgorithmIdentificationSequence"},"(0066,0036)":{tag:"(0066,0036)",vr:"LO",vm:"1",name:"AlgorithmName"},"(0068,6210)":{tag:"(0068,6210)",vr:"LO",vm:"1",name:"ImplantSize"},"(0068,6221)":{tag:"(0068,6221)",vr:"LO",vm:"1",name:"ImplantTemplateVersion"},"(0068,6222)":{tag:"(0068,6222)",vr:"SQ",vm:"1",name:"ReplacedImplantTemplateSequence"},"(0068,6223)":{tag:"(0068,6223)",vr:"CS",vm:"1",name:"ImplantType"},"(0068,6224)":{tag:"(0068,6224)",vr:"SQ",vm:"1",name:"DerivationImplantTemplateSequence"},"(0068,6225)":{tag:"(0068,6225)",vr:"SQ",vm:"1",name:"OriginalImplantTemplateSequence"},"(0068,6226)":{tag:"(0068,6226)",vr:"DT",vm:"1",name:"EffectiveDateTime"},"(0068,6230)":{tag:"(0068,6230)",vr:"SQ",vm:"1",name:"ImplantTargetAnatomySequence"},"(0068,6260)":{tag:"(0068,6260)",vr:"SQ",vm:"1",name:"InformationFromManufacturerSequence"},"(0068,6265)":{tag:"(0068,6265)",vr:"SQ",vm:"1",name:"NotificationFromManufacturerSequence"},"(0068,6270)":{tag:"(0068,6270)",vr:"DT",vm:"1",name:"InformationIssueDateTime"},"(0068,6280)":{tag:"(0068,6280)",vr:"ST",vm:"1",name:"InformationSummary"},"(0068,62A0)":{tag:"(0068,62A0)",vr:"SQ",vm:"1",name:"ImplantRegulatoryDisapprovalCodeSequence"},"(0068,62A5)":{tag:"(0068,62A5)",vr:"FD",vm:"1",name:"OverallTemplateSpatialTolerance"},"(0068,62C0)":{tag:"(0068,62C0)",vr:"SQ",vm:"1",name:"HPGLDocumentSequence"},"(0068,62D0)":{tag:"(0068,62D0)",vr:"US",vm:"1",name:"HPGLDocumentID"},"(0068,62D5)":{tag:"(0068,62D5)",vr:"LO",vm:"1",name:"HPGLDocumentLabel"},"(0068,62E0)":{tag:"(0068,62E0)",vr:"SQ",vm:"1",name:"ViewOrientationCodeSequence"},"(0068,62F0)":{tag:"(0068,62F0)",vr:"FD",vm:"9",name:"ViewOrientationModifier"},"(0068,62F2)":{tag:"(0068,62F2)",vr:"FD",vm:"1",name:"HPGLDocumentScaling"},"(0068,6300)":{tag:"(0068,6300)",vr:"OB",vm:"1",name:"HPGLDocument"},"(0068,6310)":{tag:"(0068,6310)",vr:"US",vm:"1",name:"HPGLContourPenNumber"},"(0068,6320)":{tag:"(0068,6320)",vr:"SQ",vm:"1",name:"HPGLPenSequence"},"(0068,6330)":{tag:"(0068,6330)",vr:"US",vm:"1",name:"HPGLPenNumber"},"(0068,6340)":{tag:"(0068,6340)",vr:"LO",vm:"1",name:"HPGLPenLabel"},"(0068,6345)":{tag:"(0068,6345)",vr:"ST",vm:"1",name:"HPGLPenDescription"},"(0068,6346)":{tag:"(0068,6346)",vr:"FD",vm:"2",name:"RecommendedRotationPoint"},"(0068,6347)":{tag:"(0068,6347)",vr:"FD",vm:"4",name:"BoundingRectangle"},"(0068,6350)":{tag:"(0068,6350)",vr:"US",vm:"1-n",name:"ImplantTemplate3DModelSurfaceNumber"},"(0068,6360)":{tag:"(0068,6360)",vr:"SQ",vm:"1",name:"SurfaceModelDescriptionSequence"},"(0068,6380)":{tag:"(0068,6380)",vr:"LO",vm:"1",name:"SurfaceModelLabel"},"(0068,6390)":{tag:"(0068,6390)",vr:"FD",vm:"1",name:"SurfaceModelScalingFactor"},"(0068,63A0)":{tag:"(0068,63A0)",vr:"SQ",vm:"1",name:"MaterialsCodeSequence"},"(0068,63A4)":{tag:"(0068,63A4)",vr:"SQ",vm:"1",name:"CoatingMaterialsCodeSequence"},"(0068,63A8)":{tag:"(0068,63A8)",vr:"SQ",vm:"1",name:"ImplantTypeCodeSequence"},"(0068,63AC)":{tag:"(0068,63AC)",vr:"SQ",vm:"1",name:"FixationMethodCodeSequence"},"(0068,63B0)":{tag:"(0068,63B0)",vr:"SQ",vm:"1",name:"MatingFeatureSetsSequence"},"(0068,63C0)":{tag:"(0068,63C0)",vr:"US",vm:"1",name:"MatingFeatureSetID"},"(0068,63D0)":{tag:"(0068,63D0)",vr:"LO",vm:"1",name:"MatingFeatureSetLabel"},"(0068,63E0)":{tag:"(0068,63E0)",vr:"SQ",vm:"1",name:"MatingFeatureSequence"},"(0068,63F0)":{tag:"(0068,63F0)",vr:"US",vm:"1",name:"MatingFeatureID"},"(0068,6400)":{tag:"(0068,6400)",vr:"SQ",vm:"1",name:"MatingFeatureDegreeOfFreedomSequence"},"(0068,6410)":{tag:"(0068,6410)",vr:"US",vm:"1",name:"DegreeOfFreedomID"},"(0068,6420)":{tag:"(0068,6420)",vr:"CS",vm:"1",name:"DegreeOfFreedomType"},"(0068,6430)":{tag:"(0068,6430)",vr:"SQ",vm:"1",name:"TwoDMatingFeatureCoordinatesSequence"},"(0068,6440)":{tag:"(0068,6440)",vr:"US",vm:"1",name:"ReferencedHPGLDocumentID"},"(0068,6450)":{tag:"(0068,6450)",vr:"FD",vm:"2",name:"TwoDMatingPoint"},"(0068,6460)":{tag:"(0068,6460)",vr:"FD",vm:"4",name:"TwoDMatingAxes"},"(0068,6470)":{tag:"(0068,6470)",vr:"SQ",vm:"1",name:"TwoDDegreeOfFreedomSequence"},"(0068,6490)":{tag:"(0068,6490)",vr:"FD",vm:"3",name:"ThreeDDegreeOfFreedomAxis"},"(0068,64A0)":{tag:"(0068,64A0)",vr:"FD",vm:"2",name:"RangeOfFreedom"},"(0068,64C0)":{tag:"(0068,64C0)",vr:"FD",vm:"3",name:"ThreeDMatingPoint"},"(0068,64D0)":{tag:"(0068,64D0)",vr:"FD",vm:"9",name:"ThreeDMatingAxes"},"(0068,64F0)":{tag:"(0068,64F0)",vr:"FD",vm:"3",name:"TwoDDegreeOfFreedomAxis"},"(0068,6500)":{tag:"(0068,6500)",vr:"SQ",vm:"1",name:"PlanningLandmarkPointSequence"},"(0068,6510)":{tag:"(0068,6510)",vr:"SQ",vm:"1",name:"PlanningLandmarkLineSequence"},"(0068,6520)":{tag:"(0068,6520)",vr:"SQ",vm:"1",name:"PlanningLandmarkPlaneSequence"},"(0068,6530)":{tag:"(0068,6530)",vr:"US",vm:"1",name:"PlanningLandmarkID"},"(0068,6540)":{tag:"(0068,6540)",vr:"LO",vm:"1",name:"PlanningLandmarkDescription"},"(0068,6545)":{tag:"(0068,6545)",vr:"SQ",vm:"1",name:"PlanningLandmarkIdentificationCodeSequence"},"(0068,6550)":{tag:"(0068,6550)",vr:"SQ",vm:"1",name:"TwoDPointCoordinatesSequence"},"(0068,6560)":{tag:"(0068,6560)",vr:"FD",vm:"2",name:"TwoDPointCoordinates"},"(0068,6590)":{tag:"(0068,6590)",vr:"FD",vm:"3",name:"ThreeDPointCoordinates"},"(0068,65A0)":{tag:"(0068,65A0)",vr:"SQ",vm:"1",name:"TwoDLineCoordinatesSequence"},"(0068,65B0)":{tag:"(0068,65B0)",vr:"FD",vm:"4",name:"TwoDLineCoordinates"},"(0068,65D0)":{tag:"(0068,65D0)",vr:"FD",vm:"6",name:"ThreeDLineCoordinates"},"(0068,65E0)":{tag:"(0068,65E0)",vr:"SQ",vm:"1",name:"TwoDPlaneCoordinatesSequence"},"(0068,65F0)":{tag:"(0068,65F0)",vr:"FD",vm:"4",name:"TwoDPlaneIntersection"},"(0068,6610)":{tag:"(0068,6610)",vr:"FD",vm:"3",name:"ThreeDPlaneOrigin"},"(0068,6620)":{tag:"(0068,6620)",vr:"FD",vm:"3",name:"ThreeDPlaneNormal"},"(0070,0001)":{tag:"(0070,0001)",vr:"SQ",vm:"1",name:"GraphicAnnotationSequence"},"(0070,0002)":{tag:"(0070,0002)",vr:"CS",vm:"1",name:"GraphicLayer"},"(0070,0003)":{tag:"(0070,0003)",vr:"CS",vm:"1",name:"BoundingBoxAnnotationUnits"},"(0070,0004)":{tag:"(0070,0004)",vr:"CS",vm:"1",name:"AnchorPointAnnotationUnits"},"(0070,0005)":{tag:"(0070,0005)",vr:"CS",vm:"1",name:"GraphicAnnotationUnits"},"(0070,0006)":{tag:"(0070,0006)",vr:"ST",vm:"1",name:"UnformattedTextValue"},"(0070,0008)":{tag:"(0070,0008)",vr:"SQ",vm:"1",name:"TextObjectSequence"},"(0070,0009)":{tag:"(0070,0009)",vr:"SQ",vm:"1",name:"GraphicObjectSequence"},"(0070,0010)":{tag:"(0070,0010)",vr:"FL",vm:"2",name:"BoundingBoxTopLeftHandCorner"},"(0070,0011)":{tag:"(0070,0011)",vr:"FL",vm:"2",name:"BoundingBoxBottomRightHandCorner"},"(0070,0012)":{tag:"(0070,0012)",vr:"CS",vm:"1",name:"BoundingBoxTextHorizontalJustification"},"(0070,0014)":{tag:"(0070,0014)",vr:"FL",vm:"2",name:"AnchorPoint"},"(0070,0015)":{tag:"(0070,0015)",vr:"CS",vm:"1",name:"AnchorPointVisibility"},"(0070,0020)":{tag:"(0070,0020)",vr:"US",vm:"1",name:"GraphicDimensions"},"(0070,0021)":{tag:"(0070,0021)",vr:"US",vm:"1",name:"NumberOfGraphicPoints"},"(0070,0022)":{tag:"(0070,0022)",vr:"FL",vm:"2-n",name:"GraphicData"},"(0070,0023)":{tag:"(0070,0023)",vr:"CS",vm:"1",name:"GraphicType"},"(0070,0024)":{tag:"(0070,0024)",vr:"CS",vm:"1",name:"GraphicFilled"},"(0070,0040)":{tag:"(0070,0040)",vr:"IS",vm:"1",name:"ImageRotationRetired"},"(0070,0041)":{tag:"(0070,0041)",vr:"CS",vm:"1",name:"ImageHorizontalFlip"},"(0070,0042)":{tag:"(0070,0042)",vr:"US",vm:"1",name:"ImageRotation"},"(0070,0050)":{tag:"(0070,0050)",vr:"US",vm:"2",name:"DisplayedAreaTopLeftHandCornerTrial"},"(0070,0051)":{tag:"(0070,0051)",vr:"US",vm:"2",name:"DisplayedAreaBottomRightHandCornerTrial"},"(0070,0052)":{tag:"(0070,0052)",vr:"SL",vm:"2",name:"DisplayedAreaTopLeftHandCorner"},"(0070,0053)":{tag:"(0070,0053)",vr:"SL",vm:"2",name:"DisplayedAreaBottomRightHandCorner"},"(0070,005A)":{tag:"(0070,005A)",vr:"SQ",vm:"1",name:"DisplayedAreaSelectionSequence"},"(0070,0060)":{tag:"(0070,0060)",vr:"SQ",vm:"1",name:"GraphicLayerSequence"},"(0070,0062)":{tag:"(0070,0062)",vr:"IS",vm:"1",name:"GraphicLayerOrder"},"(0070,0066)":{tag:"(0070,0066)",vr:"US",vm:"1",name:"GraphicLayerRecommendedDisplayGrayscaleValue"},"(0070,0067)":{tag:"(0070,0067)",vr:"US",vm:"3",name:"GraphicLayerRecommendedDisplayRGBValue"},"(0070,0068)":{tag:"(0070,0068)",vr:"LO",vm:"1",name:"GraphicLayerDescription"},"(0070,0080)":{tag:"(0070,0080)",vr:"CS",vm:"1",name:"ContentLabel"},"(0070,0081)":{tag:"(0070,0081)",vr:"LO",vm:"1",name:"ContentDescription"},"(0070,0082)":{tag:"(0070,0082)",vr:"DA",vm:"1",name:"PresentationCreationDate"},"(0070,0083)":{tag:"(0070,0083)",vr:"TM",vm:"1",name:"PresentationCreationTime"},"(0070,0084)":{tag:"(0070,0084)",vr:"PN",vm:"1",name:"ContentCreatorName"},"(0070,0086)":{tag:"(0070,0086)",vr:"SQ",vm:"1",name:"ContentCreatorIdentificationCodeSequence"},"(0070,0087)":{tag:"(0070,0087)",vr:"SQ",vm:"1",name:"AlternateContentDescriptionSequence"},"(0070,0100)":{tag:"(0070,0100)",vr:"CS",vm:"1",name:"PresentationSizeMode"},"(0070,0101)":{tag:"(0070,0101)",vr:"DS",vm:"2",name:"PresentationPixelSpacing"},"(0070,0102)":{tag:"(0070,0102)",vr:"IS",vm:"2",name:"PresentationPixelAspectRatio"},"(0070,0103)":{tag:"(0070,0103)",vr:"FL",vm:"1",name:"PresentationPixelMagnificationRatio"},"(0070,0207)":{tag:"(0070,0207)",vr:"LO",vm:"1",name:"GraphicGroupLabel"},"(0070,0208)":{tag:"(0070,0208)",vr:"ST",vm:"1",name:"GraphicGroupDescription"},"(0070,0209)":{tag:"(0070,0209)",vr:"SQ",vm:"1",name:"CompoundGraphicSequence"},"(0070,0226)":{tag:"(0070,0226)",vr:"UL",vm:"1",name:"CompoundGraphicInstanceID"},"(0070,0227)":{tag:"(0070,0227)",vr:"LO",vm:"1",name:"FontName"},"(0070,0228)":{tag:"(0070,0228)",vr:"CS",vm:"1",name:"FontNameType"},"(0070,0229)":{tag:"(0070,0229)",vr:"LO",vm:"1",name:"CSSFontName"},"(0070,0230)":{tag:"(0070,0230)",vr:"FD",vm:"1",name:"RotationAngle"},"(0070,0231)":{tag:"(0070,0231)",vr:"SQ",vm:"1",name:"TextStyleSequence"},"(0070,0232)":{tag:"(0070,0232)",vr:"SQ",vm:"1",name:"LineStyleSequence"},"(0070,0233)":{tag:"(0070,0233)",vr:"SQ",vm:"1",name:"FillStyleSequence"},"(0070,0234)":{tag:"(0070,0234)",vr:"SQ",vm:"1",name:"GraphicGroupSequence"},"(0070,0241)":{tag:"(0070,0241)",vr:"US",vm:"3",name:"TextColorCIELabValue"},"(0070,0242)":{tag:"(0070,0242)",vr:"CS",vm:"1",name:"HorizontalAlignment"},"(0070,0243)":{tag:"(0070,0243)",vr:"CS",vm:"1",name:"VerticalAlignment"},"(0070,0244)":{tag:"(0070,0244)",vr:"CS",vm:"1",name:"ShadowStyle"},"(0070,0245)":{tag:"(0070,0245)",vr:"FL",vm:"1",name:"ShadowOffsetX"},"(0070,0246)":{tag:"(0070,0246)",vr:"FL",vm:"1",name:"ShadowOffsetY"},"(0070,0247)":{tag:"(0070,0247)",vr:"US",vm:"3",name:"ShadowColorCIELabValue"},"(0070,0248)":{tag:"(0070,0248)",vr:"CS",vm:"1",name:"Underlined"},"(0070,0249)":{tag:"(0070,0249)",vr:"CS",vm:"1",name:"Bold"},"(0070,0250)":{tag:"(0070,0250)",vr:"CS",vm:"1",name:"Italic"},"(0070,0251)":{tag:"(0070,0251)",vr:"US",vm:"3",name:"PatternOnColorCIELabValue"},"(0070,0252)":{tag:"(0070,0252)",vr:"US",vm:"3",name:"PatternOffColorCIELabValue"},"(0070,0253)":{tag:"(0070,0253)",vr:"FL",vm:"1",name:"LineThickness"},"(0070,0254)":{tag:"(0070,0254)",vr:"CS",vm:"1",name:"LineDashingStyle"},"(0070,0255)":{tag:"(0070,0255)",vr:"UL",vm:"1",name:"LinePattern"},"(0070,0256)":{tag:"(0070,0256)",vr:"OB",vm:"1",name:"FillPattern"},"(0070,0257)":{tag:"(0070,0257)",vr:"CS",vm:"1",name:"FillMode"},"(0070,0258)":{tag:"(0070,0258)",vr:"FL",vm:"1",name:"ShadowOpacity"},"(0070,0261)":{tag:"(0070,0261)",vr:"FL",vm:"1",name:"GapLength"},"(0070,0262)":{tag:"(0070,0262)",vr:"FL",vm:"1",name:"DiameterOfVisibility"},"(0070,0273)":{tag:"(0070,0273)",vr:"FL",vm:"2",name:"RotationPoint"},"(0070,0274)":{tag:"(0070,0274)",vr:"CS",vm:"1",name:"TickAlignment"},"(0070,0278)":{tag:"(0070,0278)",vr:"CS",vm:"1",name:"ShowTickLabel"},"(0070,0279)":{tag:"(0070,0279)",vr:"CS",vm:"1",name:"TickLabelAlignment"},"(0070,0282)":{tag:"(0070,0282)",vr:"CS",vm:"1",name:"CompoundGraphicUnits"},"(0070,0284)":{tag:"(0070,0284)",vr:"FL",vm:"1",name:"PatternOnOpacity"},"(0070,0285)":{tag:"(0070,0285)",vr:"FL",vm:"1",name:"PatternOffOpacity"},"(0070,0287)":{tag:"(0070,0287)",vr:"SQ",vm:"1",name:"MajorTicksSequence"},"(0070,0288)":{tag:"(0070,0288)",vr:"FL",vm:"1",name:"TickPosition"},"(0070,0289)":{tag:"(0070,0289)",vr:"SH",vm:"1",name:"TickLabel"},"(0070,0294)":{tag:"(0070,0294)",vr:"CS",vm:"1",name:"CompoundGraphicType"},"(0070,0295)":{tag:"(0070,0295)",vr:"UL",vm:"1",name:"GraphicGroupID"},"(0070,0306)":{tag:"(0070,0306)",vr:"CS",vm:"1",name:"ShapeType"},"(0070,0308)":{tag:"(0070,0308)",vr:"SQ",vm:"1",name:"RegistrationSequence"},"(0070,0309)":{tag:"(0070,0309)",vr:"SQ",vm:"1",name:"MatrixRegistrationSequence"},"(0070,030A)":{tag:"(0070,030A)",vr:"SQ",vm:"1",name:"MatrixSequence"},"(0070,030C)":{tag:"(0070,030C)",vr:"CS",vm:"1",name:"FrameOfReferenceTransformationMatrixType"},"(0070,030D)":{tag:"(0070,030D)",vr:"SQ",vm:"1",name:"RegistrationTypeCodeSequence"},"(0070,030F)":{tag:"(0070,030F)",vr:"ST",vm:"1",name:"FiducialDescription"},"(0070,0310)":{tag:"(0070,0310)",vr:"SH",vm:"1",name:"FiducialIdentifier"},"(0070,0311)":{tag:"(0070,0311)",vr:"SQ",vm:"1",name:"FiducialIdentifierCodeSequence"},"(0070,0312)":{tag:"(0070,0312)",vr:"FD",vm:"1",name:"ContourUncertaintyRadius"},"(0070,0314)":{tag:"(0070,0314)",vr:"SQ",vm:"1",name:"UsedFiducialsSequence"},"(0070,0318)":{tag:"(0070,0318)",vr:"SQ",vm:"1",name:"GraphicCoordinatesDataSequence"},"(0070,031A)":{tag:"(0070,031A)",vr:"UI",vm:"1",name:"FiducialUID"},"(0070,031C)":{tag:"(0070,031C)",vr:"SQ",vm:"1",name:"FiducialSetSequence"},"(0070,031E)":{tag:"(0070,031E)",vr:"SQ",vm:"1",name:"FiducialSequence"},"(0070,0401)":{tag:"(0070,0401)",vr:"US",vm:"3",name:"GraphicLayerRecommendedDisplayCIELabValue"},"(0070,0402)":{tag:"(0070,0402)",vr:"SQ",vm:"1",name:"BlendingSequence"},"(0070,0403)":{tag:"(0070,0403)",vr:"FL",vm:"1",name:"RelativeOpacity"},"(0070,0404)":{tag:"(0070,0404)",vr:"SQ",vm:"1",name:"ReferencedSpatialRegistrationSequence"},"(0070,0405)":{tag:"(0070,0405)",vr:"CS",vm:"1",name:"BlendingPosition"},"(0072,0002)":{tag:"(0072,0002)",vr:"SH",vm:"1",name:"HangingProtocolName"},"(0072,0004)":{tag:"(0072,0004)",vr:"LO",vm:"1",name:"HangingProtocolDescription"},"(0072,0006)":{tag:"(0072,0006)",vr:"CS",vm:"1",name:"HangingProtocolLevel"},"(0072,0008)":{tag:"(0072,0008)",vr:"LO",vm:"1",name:"HangingProtocolCreator"},"(0072,000A)":{tag:"(0072,000A)",vr:"DT",vm:"1",name:"HangingProtocolCreationDateTime"},"(0072,000C)":{tag:"(0072,000C)",vr:"SQ",vm:"1",name:"HangingProtocolDefinitionSequence"},"(0072,000E)":{tag:"(0072,000E)",vr:"SQ",vm:"1",name:"HangingProtocolUserIdentificationCodeSequence"},"(0072,0010)":{tag:"(0072,0010)",vr:"LO",vm:"1",name:"HangingProtocolUserGroupName"},"(0072,0012)":{tag:"(0072,0012)",vr:"SQ",vm:"1",name:"SourceHangingProtocolSequence"},"(0072,0014)":{tag:"(0072,0014)",vr:"US",vm:"1",name:"NumberOfPriorsReferenced"},"(0072,0020)":{tag:"(0072,0020)",vr:"SQ",vm:"1",name:"ImageSetsSequence"},"(0072,0022)":{tag:"(0072,0022)",vr:"SQ",vm:"1",name:"ImageSetSelectorSequence"},"(0072,0024)":{tag:"(0072,0024)",vr:"CS",vm:"1",name:"ImageSetSelectorUsageFlag"},"(0072,0026)":{tag:"(0072,0026)",vr:"AT",vm:"1",name:"SelectorAttribute"},"(0072,0028)":{tag:"(0072,0028)",vr:"US",vm:"1",name:"SelectorValueNumber"},"(0072,0030)":{tag:"(0072,0030)",vr:"SQ",vm:"1",name:"TimeBasedImageSetsSequence"},"(0072,0032)":{tag:"(0072,0032)",vr:"US",vm:"1",name:"ImageSetNumber"},"(0072,0034)":{tag:"(0072,0034)",vr:"CS",vm:"1",name:"ImageSetSelectorCategory"},"(0072,0038)":{tag:"(0072,0038)",vr:"US",vm:"2",name:"RelativeTime"},"(0072,003A)":{tag:"(0072,003A)",vr:"CS",vm:"1",name:"RelativeTimeUnits"},"(0072,003C)":{tag:"(0072,003C)",vr:"SS",vm:"2",name:"AbstractPriorValue"},"(0072,003E)":{tag:"(0072,003E)",vr:"SQ",vm:"1",name:"AbstractPriorCodeSequence"},"(0072,0040)":{tag:"(0072,0040)",vr:"LO",vm:"1",name:"ImageSetLabel"},"(0072,0050)":{tag:"(0072,0050)",vr:"CS",vm:"1",name:"SelectorAttributeVR"},"(0072,0052)":{tag:"(0072,0052)",vr:"AT",vm:"1-n",name:"SelectorSequencePointer"},"(0072,0054)":{tag:"(0072,0054)",vr:"LO",vm:"1-n",name:"SelectorSequencePointerPrivateCreator"},"(0072,0056)":{tag:"(0072,0056)",vr:"LO",vm:"1",name:"SelectorAttributePrivateCreator"},"(0072,0060)":{tag:"(0072,0060)",vr:"AT",vm:"1-n",name:"SelectorATValue"},"(0072,0062)":{tag:"(0072,0062)",vr:"CS",vm:"1-n",name:"SelectorCSValue"},"(0072,0064)":{tag:"(0072,0064)",vr:"IS",vm:"1-n",name:"SelectorISValue"},"(0072,0066)":{tag:"(0072,0066)",vr:"LO",vm:"1-n",name:"SelectorLOValue"},"(0072,0068)":{tag:"(0072,0068)",vr:"LT",vm:"1",name:"SelectorLTValue"},"(0072,006A)":{tag:"(0072,006A)",vr:"PN",vm:"1-n",name:"SelectorPNValue"},"(0072,006C)":{tag:"(0072,006C)",vr:"SH",vm:"1-n",name:"SelectorSHValue"},"(0072,006E)":{tag:"(0072,006E)",vr:"ST",vm:"1",name:"SelectorSTValue"},"(0072,0070)":{tag:"(0072,0070)",vr:"UT",vm:"1",name:"SelectorUTValue"},"(0072,0072)":{tag:"(0072,0072)",vr:"DS",vm:"1-n",name:"SelectorDSValue"},"(0072,0074)":{tag:"(0072,0074)",vr:"FD",vm:"1-n",name:"SelectorFDValue"},"(0072,0076)":{tag:"(0072,0076)",vr:"FL",vm:"1-n",name:"SelectorFLValue"},"(0072,0078)":{tag:"(0072,0078)",vr:"UL",vm:"1-n",name:"SelectorULValue"},"(0072,007A)":{tag:"(0072,007A)",vr:"US",vm:"1-n",name:"SelectorUSValue"},"(0072,007C)":{tag:"(0072,007C)",vr:"SL",vm:"1-n",name:"SelectorSLValue"},"(0072,007E)":{tag:"(0072,007E)",vr:"SS",vm:"1-n",name:"SelectorSSValue"},"(0072,0080)":{tag:"(0072,0080)",vr:"SQ",vm:"1",name:"SelectorCodeSequenceValue"},"(0072,0100)":{tag:"(0072,0100)",vr:"US",vm:"1",name:"NumberOfScreens"},"(0072,0102)":{tag:"(0072,0102)",vr:"SQ",vm:"1",name:"NominalScreenDefinitionSequence"},"(0072,0104)":{tag:"(0072,0104)",vr:"US",vm:"1",name:"NumberOfVerticalPixels"},"(0072,0106)":{tag:"(0072,0106)",vr:"US",vm:"1",name:"NumberOfHorizontalPixels"},"(0072,0108)":{tag:"(0072,0108)",vr:"FD",vm:"4",name:"DisplayEnvironmentSpatialPosition"},"(0072,010A)":{tag:"(0072,010A)",vr:"US",vm:"1",name:"ScreenMinimumGrayscaleBitDepth"},"(0072,010C)":{tag:"(0072,010C)",vr:"US",vm:"1",name:"ScreenMinimumColorBitDepth"},"(0072,010E)":{tag:"(0072,010E)",vr:"US",vm:"1",name:"ApplicationMaximumRepaintTime"},"(0072,0200)":{tag:"(0072,0200)",vr:"SQ",vm:"1",name:"DisplaySetsSequence"},"(0072,0202)":{tag:"(0072,0202)",vr:"US",vm:"1",name:"DisplaySetNumber"},"(0072,0203)":{tag:"(0072,0203)",vr:"LO",vm:"1",name:"DisplaySetLabel"},"(0072,0204)":{tag:"(0072,0204)",vr:"US",vm:"1",name:"DisplaySetPresentationGroup"},"(0072,0206)":{tag:"(0072,0206)",vr:"LO",vm:"1",name:"DisplaySetPresentationGroupDescription"},"(0072,0208)":{tag:"(0072,0208)",vr:"CS",vm:"1",name:"PartialDataDisplayHandling"},"(0072,0210)":{tag:"(0072,0210)",vr:"SQ",vm:"1",name:"SynchronizedScrollingSequence"},"(0072,0212)":{tag:"(0072,0212)",vr:"US",vm:"2-n",name:"DisplaySetScrollingGroup"},"(0072,0214)":{tag:"(0072,0214)",vr:"SQ",vm:"1",name:"NavigationIndicatorSequence"},"(0072,0216)":{tag:"(0072,0216)",vr:"US",vm:"1",name:"NavigationDisplaySet"},"(0072,0218)":{tag:"(0072,0218)",vr:"US",vm:"1-n",name:"ReferenceDisplaySets"},"(0072,0300)":{tag:"(0072,0300)",vr:"SQ",vm:"1",name:"ImageBoxesSequence"},"(0072,0302)":{tag:"(0072,0302)",vr:"US",vm:"1",name:"ImageBoxNumber"},"(0072,0304)":{tag:"(0072,0304)",vr:"CS",vm:"1",name:"ImageBoxLayoutType"},"(0072,0306)":{tag:"(0072,0306)",vr:"US",vm:"1",name:"ImageBoxTileHorizontalDimension"},"(0072,0308)":{tag:"(0072,0308)",vr:"US",vm:"1",name:"ImageBoxTileVerticalDimension"},"(0072,0310)":{tag:"(0072,0310)",vr:"CS",vm:"1",name:"ImageBoxScrollDirection"},"(0072,0312)":{tag:"(0072,0312)",vr:"CS",vm:"1",name:"ImageBoxSmallScrollType"},"(0072,0314)":{tag:"(0072,0314)",vr:"US",vm:"1",name:"ImageBoxSmallScrollAmount"},"(0072,0316)":{tag:"(0072,0316)",vr:"CS",vm:"1",name:"ImageBoxLargeScrollType"},"(0072,0318)":{tag:"(0072,0318)",vr:"US",vm:"1",name:"ImageBoxLargeScrollAmount"},"(0072,0320)":{tag:"(0072,0320)",vr:"US",vm:"1",name:"ImageBoxOverlapPriority"},"(0072,0330)":{tag:"(0072,0330)",vr:"FD",vm:"1",name:"CineRelativeToRealTime"},"(0072,0400)":{tag:"(0072,0400)",vr:"SQ",vm:"1",name:"FilterOperationsSequence"},"(0072,0402)":{tag:"(0072,0402)",vr:"CS",vm:"1",name:"FilterByCategory"},"(0072,0404)":{tag:"(0072,0404)",vr:"CS",vm:"1",name:"FilterByAttributePresence"},"(0072,0406)":{tag:"(0072,0406)",vr:"CS",vm:"1",name:"FilterByOperator"},"(0072,0420)":{tag:"(0072,0420)",vr:"US",vm:"3",name:"StructuredDisplayBackgroundCIELabValue"},"(0072,0421)":{tag:"(0072,0421)",vr:"US",vm:"3",name:"EmptyImageBoxCIELabValue"},"(0072,0422)":{tag:"(0072,0422)",vr:"SQ",vm:"1",name:"StructuredDisplayImageBoxSequence"},"(0072,0424)":{tag:"(0072,0424)",vr:"SQ",vm:"1",name:"StructuredDisplayTextBoxSequence"},"(0072,0427)":{tag:"(0072,0427)",vr:"SQ",vm:"1",name:"ReferencedFirstFrameSequence"},"(0072,0430)":{tag:"(0072,0430)",vr:"SQ",vm:"1",name:"ImageBoxSynchronizationSequence"},"(0072,0432)":{tag:"(0072,0432)",vr:"US",vm:"2-n",name:"SynchronizedImageBoxList"},"(0072,0434)":{tag:"(0072,0434)",vr:"CS",vm:"1",name:"TypeOfSynchronization"},"(0072,0500)":{tag:"(0072,0500)",vr:"CS",vm:"1",name:"BlendingOperationType"},"(0072,0510)":{tag:"(0072,0510)",vr:"CS",vm:"1",name:"ReformattingOperationType"},"(0072,0512)":{tag:"(0072,0512)",vr:"FD",vm:"1",name:"ReformattingThickness"},"(0072,0514)":{tag:"(0072,0514)",vr:"FD",vm:"1",name:"ReformattingInterval"},"(0072,0516)":{tag:"(0072,0516)",vr:"CS",vm:"1",name:"ReformattingOperationInitialViewDirection"},"(0072,0520)":{tag:"(0072,0520)",vr:"CS",vm:"1-n",name:"ThreeDRenderingType"},"(0072,0600)":{tag:"(0072,0600)",vr:"SQ",vm:"1",name:"SortingOperationsSequence"},"(0072,0602)":{tag:"(0072,0602)",vr:"CS",vm:"1",name:"SortByCategory"},"(0072,0604)":{tag:"(0072,0604)",vr:"CS",vm:"1",name:"SortingDirection"},"(0072,0700)":{tag:"(0072,0700)",vr:"CS",vm:"2",name:"DisplaySetPatientOrientation"},"(0072,0702)":{tag:"(0072,0702)",vr:"CS",vm:"1",name:"VOIType"},"(0072,0704)":{tag:"(0072,0704)",vr:"CS",vm:"1",name:"PseudoColorType"},"(0072,0705)":{tag:"(0072,0705)",vr:"SQ",vm:"1",name:"PseudoColorPaletteInstanceReferenceSequence"},"(0072,0706)":{tag:"(0072,0706)",vr:"CS",vm:"1",name:"ShowGrayscaleInverted"},"(0072,0710)":{tag:"(0072,0710)",vr:"CS",vm:"1",name:"ShowImageTrueSizeFlag"},"(0072,0712)":{tag:"(0072,0712)",vr:"CS",vm:"1",name:"ShowGraphicAnnotationFlag"},"(0072,0714)":{tag:"(0072,0714)",vr:"CS",vm:"1",name:"ShowPatientDemographicsFlag"},"(0072,0716)":{tag:"(0072,0716)",vr:"CS",vm:"1",name:"ShowAcquisitionTechniquesFlag"},"(0072,0717)":{tag:"(0072,0717)",vr:"CS",vm:"1",name:"DisplaySetHorizontalJustification"},"(0072,0718)":{tag:"(0072,0718)",vr:"CS",vm:"1",name:"DisplaySetVerticalJustification"},"(0074,0120)":{tag:"(0074,0120)",vr:"FD",vm:"1",name:"ContinuationStartMeterset"},"(0074,0121)":{tag:"(0074,0121)",vr:"FD",vm:"1",name:"ContinuationEndMeterset"},"(0074,1000)":{tag:"(0074,1000)",vr:"CS",vm:"1",name:"ProcedureStepState"},"(0074,1002)":{tag:"(0074,1002)",vr:"SQ",vm:"1",name:"ProcedureStepProgressInformationSequence"},"(0074,1004)":{tag:"(0074,1004)",vr:"DS",vm:"1",name:"ProcedureStepProgress"},"(0074,1006)":{tag:"(0074,1006)",vr:"ST",vm:"1",name:"ProcedureStepProgressDescription"},"(0074,1008)":{tag:"(0074,1008)",vr:"SQ",vm:"1",name:"ProcedureStepCommunicationsURISequence"},"(0074,100a)":{tag:"(0074,100a)",vr:"ST",vm:"1",name:"ContactURI"},"(0074,100c)":{tag:"(0074,100c)",vr:"LO",vm:"1",name:"ContactDisplayName"},"(0074,100e)":{tag:"(0074,100e)",vr:"SQ",vm:"1",name:"ProcedureStepDiscontinuationReasonCodeSequence"},"(0074,1020)":{tag:"(0074,1020)",vr:"SQ",vm:"1",name:"BeamTaskSequence"},"(0074,1022)":{tag:"(0074,1022)",vr:"CS",vm:"1",name:"BeamTaskType"},"(0074,1024)":{tag:"(0074,1024)",vr:"IS",vm:"1",name:"BeamOrderIndexTrial"},"(0074,1026)":{tag:"(0074,1026)",vr:"FD",vm:"1",name:"TableTopVerticalAdjustedPosition"},"(0074,1027)":{tag:"(0074,1027)",vr:"FD",vm:"1",name:"TableTopLongitudinalAdjustedPosition"},"(0074,1028)":{tag:"(0074,1028)",vr:"FD",vm:"1",name:"TableTopLateralAdjustedPosition"},"(0074,102A)":{tag:"(0074,102A)",vr:"FD",vm:"1",name:"PatientSupportAdjustedAngle"},"(0074,102B)":{tag:"(0074,102B)",vr:"FD",vm:"1",name:"TableTopEccentricAdjustedAngle"},"(0074,102C)":{tag:"(0074,102C)",vr:"FD",vm:"1",name:"TableTopPitchAdjustedAngle"},"(0074,102D)":{tag:"(0074,102D)",vr:"FD",vm:"1",name:"TableTopRollAdjustedAngle"},"(0074,1030)":{tag:"(0074,1030)",vr:"SQ",vm:"1",name:"DeliveryVerificationImageSequence"},"(0074,1032)":{tag:"(0074,1032)",vr:"CS",vm:"1",name:"VerificationImageTiming"},"(0074,1034)":{tag:"(0074,1034)",vr:"CS",vm:"1",name:"DoubleExposureFlag"},"(0074,1036)":{tag:"(0074,1036)",vr:"CS",vm:"1",name:"DoubleExposureOrdering"},"(0074,1038)":{tag:"(0074,1038)",vr:"DS",vm:"1",name:"DoubleExposureMetersetTrial"},"(0074,103A)":{tag:"(0074,103A)",vr:"DS",vm:"4",name:"DoubleExposureFieldDeltaTrial"},"(0074,1040)":{tag:"(0074,1040)",vr:"SQ",vm:"1",name:"RelatedReferenceRTImageSequence"},"(0074,1042)":{tag:"(0074,1042)",vr:"SQ",vm:"1",name:"GeneralMachineVerificationSequence"},"(0074,1044)":{tag:"(0074,1044)",vr:"SQ",vm:"1",name:"ConventionalMachineVerificationSequence"},"(0074,1046)":{tag:"(0074,1046)",vr:"SQ",vm:"1",name:"IonMachineVerificationSequence"},"(0074,1048)":{tag:"(0074,1048)",vr:"SQ",vm:"1",name:"FailedAttributesSequence"},"(0074,104A)":{tag:"(0074,104A)",vr:"SQ",vm:"1",name:"OverriddenAttributesSequence"},"(0074,104C)":{tag:"(0074,104C)",vr:"SQ",vm:"1",name:"ConventionalControlPointVerificationSequence"},"(0074,104E)":{tag:"(0074,104E)",vr:"SQ",vm:"1",name:"IonControlPointVerificationSequence"},"(0074,1050)":{tag:"(0074,1050)",vr:"SQ",vm:"1",name:"AttributeOccurrenceSequence"},"(0074,1052)":{tag:"(0074,1052)",vr:"AT",vm:"1",name:"AttributeOccurrencePointer"},"(0074,1054)":{tag:"(0074,1054)",vr:"UL",vm:"1",name:"AttributeItemSelector"},"(0074,1056)":{tag:"(0074,1056)",vr:"LO",vm:"1",name:"AttributeOccurrencePrivateCreator"},"(0074,1057)":{tag:"(0074,1057)",vr:"IS",vm:"1-n",name:"SelectorSequencePointerItems"},"(0074,1200)":{tag:"(0074,1200)",vr:"CS",vm:"1",name:"ScheduledProcedureStepPriority"},"(0074,1202)":{tag:"(0074,1202)",vr:"LO",vm:"1",name:"WorklistLabel"},"(0074,1204)":{tag:"(0074,1204)",vr:"LO",vm:"1",name:"ProcedureStepLabel"},"(0074,1210)":{tag:"(0074,1210)",vr:"SQ",vm:"1",name:"ScheduledProcessingParametersSequence"},"(0074,1212)":{tag:"(0074,1212)",vr:"SQ",vm:"1",name:"PerformedProcessingParametersSequence"},"(0074,1216)":{tag:"(0074,1216)",vr:"SQ",vm:"1",name:"UnifiedProcedureStepPerformedProcedureSequence"},"(0074,1220)":{tag:"(0074,1220)",vr:"SQ",vm:"1",name:"RelatedProcedureStepSequence"},"(0074,1222)":{tag:"(0074,1222)",vr:"LO",vm:"1",name:"ProcedureStepRelationshipType"},"(0074,1224)":{tag:"(0074,1224)",vr:"SQ",vm:"1",name:"ReplacedProcedureStepSequence"},"(0074,1230)":{tag:"(0074,1230)",vr:"LO",vm:"1",name:"DeletionLock"},"(0074,1234)":{tag:"(0074,1234)",vr:"AE",vm:"1",name:"ReceivingAE"},"(0074,1236)":{tag:"(0074,1236)",vr:"AE",vm:"1",name:"RequestingAE"},"(0074,1238)":{tag:"(0074,1238)",vr:"LT",vm:"1",name:"ReasonForCancellation"},"(0074,1242)":{tag:"(0074,1242)",vr:"CS",vm:"1",name:"SCPStatus"},"(0074,1244)":{tag:"(0074,1244)",vr:"CS",vm:"1",name:"SubscriptionListStatus"},"(0074,1246)":{tag:"(0074,1246)",vr:"CS",vm:"1",name:"UnifiedProcedureStepListStatus"},"(0074,1324)":{tag:"(0074,1324)",vr:"UL",vm:"1",name:"BeamOrderIndex"},"(0074,1338)":{tag:"(0074,1338)",vr:"FD",vm:"1",name:"DoubleExposureMeterset"},"(0074,133A)":{tag:"(0074,133A)",vr:"FD",vm:"4",name:"DoubleExposureFieldDelta"},"(0076,0001)":{tag:"(0076,0001)",vr:"LO",vm:"1",name:"ImplantAssemblyTemplateName"},"(0076,0003)":{tag:"(0076,0003)",vr:"LO",vm:"1",name:"ImplantAssemblyTemplateIssuer"},"(0076,0006)":{tag:"(0076,0006)",vr:"LO",vm:"1",name:"ImplantAssemblyTemplateVersion"},"(0076,0008)":{tag:"(0076,0008)",vr:"SQ",vm:"1",name:"ReplacedImplantAssemblyTemplateSequence"},"(0076,000A)":{tag:"(0076,000A)",vr:"CS",vm:"1",name:"ImplantAssemblyTemplateType"},"(0076,000C)":{tag:"(0076,000C)",vr:"SQ",vm:"1",name:"OriginalImplantAssemblyTemplateSequence"},"(0076,000E)":{tag:"(0076,000E)",vr:"SQ",vm:"1",name:"DerivationImplantAssemblyTemplateSequence"},"(0076,0010)":{tag:"(0076,0010)",vr:"SQ",vm:"1",name:"ImplantAssemblyTemplateTargetAnatomySequence"},"(0076,0020)":{tag:"(0076,0020)",vr:"SQ",vm:"1",name:"ProcedureTypeCodeSequence"},"(0076,0030)":{tag:"(0076,0030)",vr:"LO",vm:"1",name:"SurgicalTechnique"},"(0076,0032)":{tag:"(0076,0032)",vr:"SQ",vm:"1",name:"ComponentTypesSequence"},"(0076,0034)":{tag:"(0076,0034)",vr:"CS",vm:"1",name:"ComponentTypeCodeSequence"},"(0076,0036)":{tag:"(0076,0036)",vr:"CS",vm:"1",name:"ExclusiveComponentType"},"(0076,0038)":{tag:"(0076,0038)",vr:"CS",vm:"1",name:"MandatoryComponentType"},"(0076,0040)":{tag:"(0076,0040)",vr:"SQ",vm:"1",name:"ComponentSequence"},"(0076,0055)":{tag:"(0076,0055)",vr:"US",vm:"1",name:"ComponentID"},"(0076,0060)":{tag:"(0076,0060)",vr:"SQ",vm:"1",name:"ComponentAssemblySequence"},"(0076,0070)":{tag:"(0076,0070)",vr:"US",vm:"1",name:"Component1ReferencedID"},"(0076,0080)":{tag:"(0076,0080)",vr:"US",vm:"1",name:"Component1ReferencedMatingFeatureSetID"},"(0076,0090)":{tag:"(0076,0090)",vr:"US",vm:"1",name:"Component1ReferencedMatingFeatureID"},"(0076,00A0)":{tag:"(0076,00A0)",vr:"US",vm:"1",name:"Component2ReferencedID"},"(0076,00B0)":{tag:"(0076,00B0)",vr:"US",vm:"1",name:"Component2ReferencedMatingFeatureSetID"},"(0076,00C0)":{tag:"(0076,00C0)",vr:"US",vm:"1",name:"Component2ReferencedMatingFeatureID"},"(0078,0001)":{tag:"(0078,0001)",vr:"LO",vm:"1",name:"ImplantTemplateGroupName"},"(0078,0010)":{tag:"(0078,0010)",vr:"ST",vm:"1",name:"ImplantTemplateGroupDescription"},"(0078,0020)":{tag:"(0078,0020)",vr:"LO",vm:"1",name:"ImplantTemplateGroupIssuer"},"(0078,0024)":{tag:"(0078,0024)",vr:"LO",vm:"1",name:"ImplantTemplateGroupVersion"},"(0078,0026)":{tag:"(0078,0026)",vr:"SQ",vm:"1",name:"ReplacedImplantTemplateGroupSequence"},"(0078,0028)":{tag:"(0078,0028)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupTargetAnatomySequence"},"(0078,002A)":{tag:"(0078,002A)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupMembersSequence"},"(0078,002E)":{tag:"(0078,002E)",vr:"US",vm:"1",name:"ImplantTemplateGroupMemberID"},"(0078,0050)":{tag:"(0078,0050)",vr:"FD",vm:"3",name:"ThreeDImplantTemplateGroupMemberMatchingPoint"},"(0078,0060)":{tag:"(0078,0060)",vr:"FD",vm:"9",name:"ThreeDImplantTemplateGroupMemberMatchingAxes"},"(0078,0070)":{tag:"(0078,0070)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupMemberMatching2DCoordinatesSequence"},"(0078,0090)":{tag:"(0078,0090)",vr:"FD",vm:"2",name:"TwoDImplantTemplateGroupMemberMatchingPoint"},"(0078,00A0)":{tag:"(0078,00A0)",vr:"FD",vm:"4",name:"TwoDImplantTemplateGroupMemberMatchingAxes"},"(0078,00B0)":{tag:"(0078,00B0)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupVariationDimensionSequence"},"(0078,00B2)":{tag:"(0078,00B2)",vr:"LO",vm:"1",name:"ImplantTemplateGroupVariationDimensionName"},"(0078,00B4)":{tag:"(0078,00B4)",vr:"SQ",vm:"1",name:"ImplantTemplateGroupVariationDimensionRankSequence"},"(0078,00B6)":{tag:"(0078,00B6)",vr:"US",vm:"1",name:"ReferencedImplantTemplateGroupMemberID"},"(0078,00B8)":{tag:"(0078,00B8)",vr:"US",vm:"1",name:"ImplantTemplateGroupVariationDimensionRank"},"(0088,0130)":{tag:"(0088,0130)",vr:"SH",vm:"1",name:"StorageMediaFileSetID"},"(0088,0140)":{tag:"(0088,0140)",vr:"UI",vm:"1",name:"StorageMediaFileSetUID"},"(0088,0200)":{tag:"(0088,0200)",vr:"SQ",vm:"1",name:"IconImageSequence"},"(0088,0904)":{tag:"(0088,0904)",vr:"LO",vm:"1",name:"TopicTitle"},"(0088,0906)":{tag:"(0088,0906)",vr:"ST",vm:"1",name:"TopicSubject"},"(0088,0910)":{tag:"(0088,0910)",vr:"LO",vm:"1",name:"TopicAuthor"},"(0088,0912)":{tag:"(0088,0912)",vr:"LO",vm:"1-32",name:"TopicKeywords"},"(0100,0410)":{tag:"(0100,0410)",vr:"CS",vm:"1",name:"SOPInstanceStatus"},"(0100,0420)":{tag:"(0100,0420)",vr:"DT",vm:"1",name:"SOPAuthorizationDateTime"},"(0100,0424)":{tag:"(0100,0424)",vr:"LT",vm:"1",name:"SOPAuthorizationComment"},"(0100,0426)":{tag:"(0100,0426)",vr:"LO",vm:"1",name:"AuthorizationEquipmentCertificationNumber"},"(0400,0005)":{tag:"(0400,0005)",vr:"US",vm:"1",name:"MACIDNumber"},"(0400,0010)":{tag:"(0400,0010)",vr:"UI",vm:"1",name:"MACCalculationTransferSyntaxUID"},"(0400,0015)":{tag:"(0400,0015)",vr:"CS",vm:"1",name:"MACAlgorithm"},"(0400,0020)":{tag:"(0400,0020)",vr:"AT",vm:"1-n",name:"DataElementsSigned"},"(0400,0100)":{tag:"(0400,0100)",vr:"UI",vm:"1",name:"DigitalSignatureUID"},"(0400,0105)":{tag:"(0400,0105)",vr:"DT",vm:"1",name:"DigitalSignatureDateTime"},"(0400,0110)":{tag:"(0400,0110)",vr:"CS",vm:"1",name:"CertificateType"},"(0400,0115)":{tag:"(0400,0115)",vr:"OB",vm:"1",name:"CertificateOfSigner"},"(0400,0120)":{tag:"(0400,0120)",vr:"OB",vm:"1",name:"Signature"},"(0400,0305)":{tag:"(0400,0305)",vr:"CS",vm:"1",name:"CertifiedTimestampType"},"(0400,0310)":{tag:"(0400,0310)",vr:"OB",vm:"1",name:"CertifiedTimestamp"},"(0400,0401)":{tag:"(0400,0401)",vr:"SQ",vm:"1",name:"DigitalSignaturePurposeCodeSequence"},"(0400,0402)":{tag:"(0400,0402)",vr:"SQ",vm:"1",name:"ReferencedDigitalSignatureSequence"},"(0400,0403)":{tag:"(0400,0403)",vr:"SQ",vm:"1",name:"ReferencedSOPInstanceMACSequence"},"(0400,0404)":{tag:"(0400,0404)",vr:"OB",vm:"1",name:"MAC"},"(0400,0500)":{tag:"(0400,0500)",vr:"SQ",vm:"1",name:"EncryptedAttributesSequence"},"(0400,0510)":{tag:"(0400,0510)",vr:"UI",vm:"1",name:"EncryptedContentTransferSyntaxUID"},"(0400,0520)":{tag:"(0400,0520)",vr:"OB",vm:"1",name:"EncryptedContent"},"(0400,0550)":{tag:"(0400,0550)",vr:"SQ",vm:"1",name:"ModifiedAttributesSequence"},"(0400,0561)":{tag:"(0400,0561)",vr:"SQ",vm:"1",name:"OriginalAttributesSequence"},"(0400,0562)":{tag:"(0400,0562)",vr:"DT",vm:"1",name:"AttributeModificationDateTime"},"(0400,0563)":{tag:"(0400,0563)",vr:"LO",vm:"1",name:"ModifyingSystem"},"(0400,0564)":{tag:"(0400,0564)",vr:"LO",vm:"1",name:"SourceOfPreviousValues"},"(0400,0565)":{tag:"(0400,0565)",vr:"CS",vm:"1",name:"ReasonForTheAttributeModification"},"(1000,xxx0)":{tag:"(1000,xxx0)",vr:"US",vm:"3",name:"EscapeTriplet"},"(1000,xxx1)":{tag:"(1000,xxx1)",vr:"US",vm:"3",name:"RunLengthTriplet"},"(1000,xxx2)":{tag:"(1000,xxx2)",vr:"US",vm:"1",name:"HuffmanTableSize"},"(1000,xxx3)":{tag:"(1000,xxx3)",vr:"US",vm:"3",name:"HuffmanTableTriplet"},"(1000,xxx4)":{tag:"(1000,xxx4)",vr:"US",vm:"1",name:"ShiftTableSize"},"(1000,xxx5)":{tag:"(1000,xxx5)",vr:"US",vm:"3",name:"ShiftTableTriplet"},"(1010,xxxx)":{tag:"(1010,xxxx)",vr:"US",vm:"1-n",name:"ZonalMap"},"(2000,0010)":{tag:"(2000,0010)",vr:"IS",vm:"1",name:"NumberOfCopies"},"(2000,001E)":{tag:"(2000,001E)",vr:"SQ",vm:"1",name:"PrinterConfigurationSequence"},"(2000,0020)":{tag:"(2000,0020)",vr:"CS",vm:"1",name:"PrintPriority"},"(2000,0030)":{tag:"(2000,0030)",vr:"CS",vm:"1",name:"MediumType"},"(2000,0040)":{tag:"(2000,0040)",vr:"CS",vm:"1",name:"FilmDestination"},"(2000,0050)":{tag:"(2000,0050)",vr:"LO",vm:"1",name:"FilmSessionLabel"},"(2000,0060)":{tag:"(2000,0060)",vr:"IS",vm:"1",name:"MemoryAllocation"},"(2000,0061)":{tag:"(2000,0061)",vr:"IS",vm:"1",name:"MaximumMemoryAllocation"},"(2000,0062)":{tag:"(2000,0062)",vr:"CS",vm:"1",name:"ColorImagePrintingFlag"},"(2000,0063)":{tag:"(2000,0063)",vr:"CS",vm:"1",name:"CollationFlag"},"(2000,0065)":{tag:"(2000,0065)",vr:"CS",vm:"1",name:"AnnotationFlag"},"(2000,0067)":{tag:"(2000,0067)",vr:"CS",vm:"1",name:"ImageOverlayFlag"},"(2000,0069)":{tag:"(2000,0069)",vr:"CS",vm:"1",name:"PresentationLUTFlag"},"(2000,006A)":{tag:"(2000,006A)",vr:"CS",vm:"1",name:"ImageBoxPresentationLUTFlag"},"(2000,00A0)":{tag:"(2000,00A0)",vr:"US",vm:"1",name:"MemoryBitDepth"},"(2000,00A1)":{tag:"(2000,00A1)",vr:"US",vm:"1",name:"PrintingBitDepth"},"(2000,00A2)":{tag:"(2000,00A2)",vr:"SQ",vm:"1",name:"MediaInstalledSequence"},"(2000,00A4)":{tag:"(2000,00A4)",vr:"SQ",vm:"1",name:"OtherMediaAvailableSequence"},"(2000,00A8)":{tag:"(2000,00A8)",vr:"SQ",vm:"1",name:"SupportedImageDisplayFormatsSequence"},"(2000,0500)":{tag:"(2000,0500)",vr:"SQ",vm:"1",name:"ReferencedFilmBoxSequence"},"(2000,0510)":{tag:"(2000,0510)",vr:"SQ",vm:"1",name:"ReferencedStoredPrintSequence"},"(2010,0010)":{tag:"(2010,0010)",vr:"ST",vm:"1",name:"ImageDisplayFormat"},"(2010,0030)":{tag:"(2010,0030)",vr:"CS",vm:"1",name:"AnnotationDisplayFormatID"},"(2010,0040)":{tag:"(2010,0040)",vr:"CS",vm:"1",name:"FilmOrientation"},"(2010,0050)":{tag:"(2010,0050)",vr:"CS",vm:"1",name:"FilmSizeID"},"(2010,0052)":{tag:"(2010,0052)",vr:"CS",vm:"1",name:"PrinterResolutionID"},"(2010,0054)":{tag:"(2010,0054)",vr:"CS",vm:"1",name:"DefaultPrinterResolutionID"},"(2010,0060)":{tag:"(2010,0060)",vr:"CS",vm:"1",name:"MagnificationType"},"(2010,0080)":{tag:"(2010,0080)",vr:"CS",vm:"1",name:"SmoothingType"},"(2010,00A6)":{tag:"(2010,00A6)",vr:"CS",vm:"1",name:"DefaultMagnificationType"},"(2010,00A7)":{tag:"(2010,00A7)",vr:"CS",vm:"1-n",name:"OtherMagnificationTypesAvailable"},"(2010,00A8)":{tag:"(2010,00A8)",vr:"CS",vm:"1",name:"DefaultSmoothingType"},"(2010,00A9)":{tag:"(2010,00A9)",vr:"CS",vm:"1-n",name:"OtherSmoothingTypesAvailable"},"(2010,0100)":{tag:"(2010,0100)",vr:"CS",vm:"1",name:"BorderDensity"},"(2010,0110)":{tag:"(2010,0110)",vr:"CS",vm:"1",name:"EmptyImageDensity"},"(2010,0120)":{tag:"(2010,0120)",vr:"US",vm:"1",name:"MinDensity"},"(2010,0130)":{tag:"(2010,0130)",vr:"US",vm:"1",name:"MaxDensity"},"(2010,0140)":{tag:"(2010,0140)",vr:"CS",vm:"1",name:"Trim"},"(2010,0150)":{tag:"(2010,0150)",vr:"ST",vm:"1",name:"ConfigurationInformation"},"(2010,0152)":{tag:"(2010,0152)",vr:"LT",vm:"1",name:"ConfigurationInformationDescription"},"(2010,0154)":{tag:"(2010,0154)",vr:"IS",vm:"1",name:"MaximumCollatedFilms"},"(2010,015E)":{tag:"(2010,015E)",vr:"US",vm:"1",name:"Illumination"},"(2010,0160)":{tag:"(2010,0160)",vr:"US",vm:"1",name:"ReflectedAmbientLight"},"(2010,0376)":{tag:"(2010,0376)",vr:"DS",vm:"2",name:"PrinterPixelSpacing"},"(2010,0500)":{tag:"(2010,0500)",vr:"SQ",vm:"1",name:"ReferencedFilmSessionSequence"},"(2010,0510)":{tag:"(2010,0510)",vr:"SQ",vm:"1",name:"ReferencedImageBoxSequence"},"(2010,0520)":{tag:"(2010,0520)",vr:"SQ",vm:"1",name:"ReferencedBasicAnnotationBoxSequence"},"(2020,0010)":{tag:"(2020,0010)",vr:"US",vm:"1",name:"ImageBoxPosition"},"(2020,0020)":{tag:"(2020,0020)",vr:"CS",vm:"1",name:"Polarity"},"(2020,0030)":{tag:"(2020,0030)",vr:"DS",vm:"1",name:"RequestedImageSize"},"(2020,0040)":{tag:"(2020,0040)",vr:"CS",vm:"1",name:"RequestedDecimateCropBehavior"},"(2020,0050)":{tag:"(2020,0050)",vr:"CS",vm:"1",name:"RequestedResolutionID"},"(2020,00A0)":{tag:"(2020,00A0)",vr:"CS",vm:"1",name:"RequestedImageSizeFlag"},"(2020,00A2)":{tag:"(2020,00A2)",vr:"CS",vm:"1",name:"DecimateCropResult"},"(2020,0110)":{tag:"(2020,0110)",vr:"SQ",vm:"1",name:"BasicGrayscaleImageSequence"},"(2020,0111)":{tag:"(2020,0111)",vr:"SQ",vm:"1",name:"BasicColorImageSequence"},"(2020,0130)":{tag:"(2020,0130)",vr:"SQ",vm:"1",name:"ReferencedImageOverlayBoxSequence"},"(2020,0140)":{tag:"(2020,0140)",vr:"SQ",vm:"1",name:"ReferencedVOILUTBoxSequence"},"(2030,0010)":{tag:"(2030,0010)",vr:"US",vm:"1",name:"AnnotationPosition"},"(2030,0020)":{tag:"(2030,0020)",vr:"LO",vm:"1",name:"TextString"},"(2040,0010)":{tag:"(2040,0010)",vr:"SQ",vm:"1",name:"ReferencedOverlayPlaneSequence"},"(2040,0011)":{tag:"(2040,0011)",vr:"US",vm:"1-99",name:"ReferencedOverlayPlaneGroups"},"(2040,0020)":{tag:"(2040,0020)",vr:"SQ",vm:"1",name:"OverlayPixelDataSequence"},"(2040,0060)":{tag:"(2040,0060)",vr:"CS",vm:"1",name:"OverlayMagnificationType"},"(2040,0070)":{tag:"(2040,0070)",vr:"CS",vm:"1",name:"OverlaySmoothingType"},"(2040,0072)":{tag:"(2040,0072)",vr:"CS",vm:"1",name:"OverlayOrImageMagnification"},"(2040,0074)":{tag:"(2040,0074)",vr:"US",vm:"1",name:"MagnifyToNumberOfColumns"},"(2040,0080)":{tag:"(2040,0080)",vr:"CS",vm:"1",name:"OverlayForegroundDensity"},"(2040,0082)":{tag:"(2040,0082)",vr:"CS",vm:"1",name:"OverlayBackgroundDensity"},"(2040,0090)":{tag:"(2040,0090)",vr:"CS",vm:"1",name:"OverlayMode"},"(2040,0100)":{tag:"(2040,0100)",vr:"CS",vm:"1",name:"ThresholdDensity"},"(2040,0500)":{tag:"(2040,0500)",vr:"SQ",vm:"1",name:"ReferencedImageBoxSequenceRetired"},"(2050,0010)":{tag:"(2050,0010)",vr:"SQ",vm:"1",name:"PresentationLUTSequence"},"(2050,0020)":{tag:"(2050,0020)",vr:"CS",vm:"1",name:"PresentationLUTShape"},"(2050,0500)":{tag:"(2050,0500)",vr:"SQ",vm:"1",name:"ReferencedPresentationLUTSequence"},"(2100,0010)":{tag:"(2100,0010)",vr:"SH",vm:"1",name:"PrintJobID"},"(2100,0020)":{tag:"(2100,0020)",vr:"CS",vm:"1",name:"ExecutionStatus"},"(2100,0030)":{tag:"(2100,0030)",vr:"CS",vm:"1",name:"ExecutionStatusInfo"},"(2100,0040)":{tag:"(2100,0040)",vr:"DA",vm:"1",name:"CreationDate"},"(2100,0050)":{tag:"(2100,0050)",vr:"TM",vm:"1",name:"CreationTime"},"(2100,0070)":{tag:"(2100,0070)",vr:"AE",vm:"1",name:"Originator"},"(2100,0140)":{tag:"(2100,0140)",vr:"AE",vm:"1",name:"DestinationAE"},"(2100,0160)":{tag:"(2100,0160)",vr:"SH",vm:"1",name:"OwnerID"},"(2100,0170)":{tag:"(2100,0170)",vr:"IS",vm:"1",name:"NumberOfFilms"},"(2100,0500)":{tag:"(2100,0500)",vr:"SQ",vm:"1",name:"ReferencedPrintJobSequencePullStoredPrint"},"(2110,0010)":{tag:"(2110,0010)",vr:"CS",vm:"1",name:"PrinterStatus"},"(2110,0020)":{tag:"(2110,0020)",vr:"CS",vm:"1",name:"PrinterStatusInfo"},"(2110,0030)":{tag:"(2110,0030)",vr:"LO",vm:"1",name:"PrinterName"},"(2110,0099)":{tag:"(2110,0099)",vr:"SH",vm:"1",name:"PrintQueueID"},"(2120,0010)":{tag:"(2120,0010)",vr:"CS",vm:"1",name:"QueueStatus"},"(2120,0050)":{tag:"(2120,0050)",vr:"SQ",vm:"1",name:"PrintJobDescriptionSequence"},"(2120,0070)":{tag:"(2120,0070)",vr:"SQ",vm:"1",name:"ReferencedPrintJobSequence"},"(2130,0010)":{tag:"(2130,0010)",vr:"SQ",vm:"1",name:"PrintManagementCapabilitiesSequence"},"(2130,0015)":{tag:"(2130,0015)",vr:"SQ",vm:"1",name:"PrinterCharacteristicsSequence"},"(2130,0030)":{tag:"(2130,0030)",vr:"SQ",vm:"1",name:"FilmBoxContentSequence"},"(2130,0040)":{tag:"(2130,0040)",vr:"SQ",vm:"1",name:"ImageBoxContentSequence"},"(2130,0050)":{tag:"(2130,0050)",vr:"SQ",vm:"1",name:"AnnotationContentSequence"},"(2130,0060)":{tag:"(2130,0060)",vr:"SQ",vm:"1",name:"ImageOverlayBoxContentSequence"},"(2130,0080)":{tag:"(2130,0080)",vr:"SQ",vm:"1",name:"PresentationLUTContentSequence"},"(2130,00A0)":{tag:"(2130,00A0)",vr:"SQ",vm:"1",name:"ProposedStudySequence"},"(2130,00C0)":{tag:"(2130,00C0)",vr:"SQ",vm:"1",name:"OriginalImageSequence"},"(2200,0001)":{tag:"(2200,0001)",vr:"CS",vm:"1",name:"LabelUsingInformationExtractedFromInstances"},"(2200,0002)":{tag:"(2200,0002)",vr:"UT",vm:"1",name:"LabelText"},"(2200,0003)":{tag:"(2200,0003)",vr:"CS",vm:"1",name:"LabelStyleSelection"},"(2200,0004)":{tag:"(2200,0004)",vr:"LT",vm:"1",name:"MediaDisposition"},"(2200,0005)":{tag:"(2200,0005)",vr:"LT",vm:"1",name:"BarcodeValue"},"(2200,0006)":{tag:"(2200,0006)",vr:"CS",vm:"1",name:"BarcodeSymbology"},"(2200,0007)":{tag:"(2200,0007)",vr:"CS",vm:"1",name:"AllowMediaSplitting"},"(2200,0008)":{tag:"(2200,0008)",vr:"CS",vm:"1",name:"IncludeNonDICOMObjects"},"(2200,0009)":{tag:"(2200,0009)",vr:"CS",vm:"1",name:"IncludeDisplayApplication"},"(2200,000A)":{tag:"(2200,000A)",vr:"CS",vm:"1",name:"PreserveCompositeInstancesAfterMediaCreation"},"(2200,000B)":{tag:"(2200,000B)",vr:"US",vm:"1",name:"TotalNumberOfPiecesOfMediaCreated"},"(2200,000C)":{tag:"(2200,000C)",vr:"LO",vm:"1",name:"RequestedMediaApplicationProfile"},"(2200,000D)":{tag:"(2200,000D)",vr:"SQ",vm:"1",name:"ReferencedStorageMediaSequence"},"(2200,000E)":{tag:"(2200,000E)",vr:"AT",vm:"1-n",name:"FailureAttributes"},"(2200,000F)":{tag:"(2200,000F)",vr:"CS",vm:"1",name:"AllowLossyCompression"},"(2200,0020)":{tag:"(2200,0020)",vr:"CS",vm:"1",name:"RequestPriority"},"(3002,0002)":{tag:"(3002,0002)",vr:"SH",vm:"1",name:"RTImageLabel"},"(3002,0003)":{tag:"(3002,0003)",vr:"LO",vm:"1",name:"RTImageName"},"(3002,0004)":{tag:"(3002,0004)",vr:"ST",vm:"1",name:"RTImageDescription"},"(3002,000A)":{tag:"(3002,000A)",vr:"CS",vm:"1",name:"ReportedValuesOrigin"},"(3002,000C)":{tag:"(3002,000C)",vr:"CS",vm:"1",name:"RTImagePlane"},"(3002,000D)":{tag:"(3002,000D)",vr:"DS",vm:"3",name:"XRayImageReceptorTranslation"},"(3002,000E)":{tag:"(3002,000E)",vr:"DS",vm:"1",name:"XRayImageReceptorAngle"},"(3002,0010)":{tag:"(3002,0010)",vr:"DS",vm:"6",name:"RTImageOrientation"},"(3002,0011)":{tag:"(3002,0011)",vr:"DS",vm:"2",name:"ImagePlanePixelSpacing"},"(3002,0012)":{tag:"(3002,0012)",vr:"DS",vm:"2",name:"RTImagePosition"},"(3002,0020)":{tag:"(3002,0020)",vr:"SH",vm:"1",name:"RadiationMachineName"},"(3002,0022)":{tag:"(3002,0022)",vr:"DS",vm:"1",name:"RadiationMachineSAD"},"(3002,0024)":{tag:"(3002,0024)",vr:"DS",vm:"1",name:"RadiationMachineSSD"},"(3002,0026)":{tag:"(3002,0026)",vr:"DS",vm:"1",name:"RTImageSID"},"(3002,0028)":{tag:"(3002,0028)",vr:"DS",vm:"1",name:"SourceToReferenceObjectDistance"},"(3002,0029)":{tag:"(3002,0029)",vr:"IS",vm:"1",name:"FractionNumber"},"(3002,0030)":{tag:"(3002,0030)",vr:"SQ",vm:"1",name:"ExposureSequence"},"(3002,0032)":{tag:"(3002,0032)",vr:"DS",vm:"1",name:"MetersetExposure"},"(3002,0034)":{tag:"(3002,0034)",vr:"DS",vm:"4",name:"DiaphragmPosition"},"(3002,0040)":{tag:"(3002,0040)",vr:"SQ",vm:"1",name:"FluenceMapSequence"},"(3002,0041)":{tag:"(3002,0041)",vr:"CS",vm:"1",name:"FluenceDataSource"},"(3002,0042)":{tag:"(3002,0042)",vr:"DS",vm:"1",name:"FluenceDataScale"},"(3002,0050)":{tag:"(3002,0050)",vr:"SQ",vm:"1",name:"PrimaryFluenceModeSequence"},"(3002,0051)":{tag:"(3002,0051)",vr:"CS",vm:"1",name:"FluenceMode"},"(3002,0052)":{tag:"(3002,0052)",vr:"SH",vm:"1",name:"FluenceModeID"},"(3004,0001)":{tag:"(3004,0001)",vr:"CS",vm:"1",name:"DVHType"},"(3004,0002)":{tag:"(3004,0002)",vr:"CS",vm:"1",name:"DoseUnits"},"(3004,0004)":{tag:"(3004,0004)",vr:"CS",vm:"1",name:"DoseType"},"(3004,0006)":{tag:"(3004,0006)",vr:"LO",vm:"1",name:"DoseComment"},"(3004,0008)":{tag:"(3004,0008)",vr:"DS",vm:"3",name:"NormalizationPoint"},"(3004,000A)":{tag:"(3004,000A)",vr:"CS",vm:"1",name:"DoseSummationType"},"(3004,000C)":{tag:"(3004,000C)",vr:"DS",vm:"2-n",name:"GridFrameOffsetVector"},"(3004,000E)":{tag:"(3004,000E)",vr:"DS",vm:"1",name:"DoseGridScaling"},"(3004,0010)":{tag:"(3004,0010)",vr:"SQ",vm:"1",name:"RTDoseROISequence"},"(3004,0012)":{tag:"(3004,0012)",vr:"DS",vm:"1",name:"DoseValue"},"(3004,0014)":{tag:"(3004,0014)",vr:"CS",vm:"1-3",name:"TissueHeterogeneityCorrection"},"(3004,0040)":{tag:"(3004,0040)",vr:"DS",vm:"3",name:"DVHNormalizationPoint"},"(3004,0042)":{tag:"(3004,0042)",vr:"DS",vm:"1",name:"DVHNormalizationDoseValue"},"(3004,0050)":{tag:"(3004,0050)",vr:"SQ",vm:"1",name:"DVHSequence"},"(3004,0052)":{tag:"(3004,0052)",vr:"DS",vm:"1",name:"DVHDoseScaling"},"(3004,0054)":{tag:"(3004,0054)",vr:"CS",vm:"1",name:"DVHVolumeUnits"},"(3004,0056)":{tag:"(3004,0056)",vr:"IS",vm:"1",name:"DVHNumberOfBins"},"(3004,0058)":{tag:"(3004,0058)",vr:"DS",vm:"2-2n",name:"DVHData"},"(3004,0060)":{tag:"(3004,0060)",vr:"SQ",vm:"1",name:"DVHReferencedROISequence"},"(3004,0062)":{tag:"(3004,0062)",vr:"CS",vm:"1",name:"DVHROIContributionType"},"(3004,0070)":{tag:"(3004,0070)",vr:"DS",vm:"1",name:"DVHMinimumDose"},"(3004,0072)":{tag:"(3004,0072)",vr:"DS",vm:"1",name:"DVHMaximumDose"},"(3004,0074)":{tag:"(3004,0074)",vr:"DS",vm:"1",name:"DVHMeanDose"},"(3006,0002)":{tag:"(3006,0002)",vr:"SH",vm:"1",name:"StructureSetLabel"},"(3006,0004)":{tag:"(3006,0004)",vr:"LO",vm:"1",name:"StructureSetName"},"(3006,0006)":{tag:"(3006,0006)",vr:"ST",vm:"1",name:"StructureSetDescription"},"(3006,0008)":{tag:"(3006,0008)",vr:"DA",vm:"1",name:"StructureSetDate"},"(3006,0009)":{tag:"(3006,0009)",vr:"TM",vm:"1",name:"StructureSetTime"},"(3006,0010)":{tag:"(3006,0010)",vr:"SQ",vm:"1",name:"ReferencedFrameOfReferenceSequence"},"(3006,0012)":{tag:"(3006,0012)",vr:"SQ",vm:"1",name:"RTReferencedStudySequence"},"(3006,0014)":{tag:"(3006,0014)",vr:"SQ",vm:"1",name:"RTReferencedSeriesSequence"},"(3006,0016)":{tag:"(3006,0016)",vr:"SQ",vm:"1",name:"ContourImageSequence"},"(3006,0020)":{tag:"(3006,0020)",vr:"SQ",vm:"1",name:"StructureSetROISequence"},"(3006,0022)":{tag:"(3006,0022)",vr:"IS",vm:"1",name:"ROINumber"},"(3006,0024)":{tag:"(3006,0024)",vr:"UI",vm:"1",name:"ReferencedFrameOfReferenceUID"},"(3006,0026)":{tag:"(3006,0026)",vr:"LO",vm:"1",name:"ROIName"},"(3006,0028)":{tag:"(3006,0028)",vr:"ST",vm:"1",name:"ROIDescription"},"(3006,002A)":{tag:"(3006,002A)",vr:"IS",vm:"3",name:"ROIDisplayColor"},"(3006,002C)":{tag:"(3006,002C)",vr:"DS",vm:"1",name:"ROIVolume"},"(3006,0030)":{tag:"(3006,0030)",vr:"SQ",vm:"1",name:"RTRelatedROISequence"},"(3006,0033)":{tag:"(3006,0033)",vr:"CS",vm:"1",name:"RTROIRelationship"},"(3006,0036)":{tag:"(3006,0036)",vr:"CS",vm:"1",name:"ROIGenerationAlgorithm"},"(3006,0038)":{tag:"(3006,0038)",vr:"LO",vm:"1",name:"ROIGenerationDescription"},"(3006,0039)":{tag:"(3006,0039)",vr:"SQ",vm:"1",name:"ROIContourSequence"},"(3006,0040)":{tag:"(3006,0040)",vr:"SQ",vm:"1",name:"ContourSequence"},"(3006,0042)":{tag:"(3006,0042)",vr:"CS",vm:"1",name:"ContourGeometricType"},"(3006,0044)":{tag:"(3006,0044)",vr:"DS",vm:"1",name:"ContourSlabThickness"},"(3006,0045)":{tag:"(3006,0045)",vr:"DS",vm:"3",name:"ContourOffsetVector"},"(3006,0046)":{tag:"(3006,0046)",vr:"IS",vm:"1",name:"NumberOfContourPoints"},"(3006,0048)":{tag:"(3006,0048)",vr:"IS",vm:"1",name:"ContourNumber"},"(3006,0049)":{tag:"(3006,0049)",vr:"IS",vm:"1-n",name:"AttachedContours"},"(3006,0050)":{tag:"(3006,0050)",vr:"DS",vm:"3-3n",name:"ContourData"},"(3006,0080)":{tag:"(3006,0080)",vr:"SQ",vm:"1",name:"RTROIObservationsSequence"},"(3006,0082)":{tag:"(3006,0082)",vr:"IS",vm:"1",name:"ObservationNumber"},"(3006,0084)":{tag:"(3006,0084)",vr:"IS",vm:"1",name:"ReferencedROINumber"},"(3006,0085)":{tag:"(3006,0085)",vr:"SH",vm:"1",name:"ROIObservationLabel"},"(3006,0086)":{tag:"(3006,0086)",vr:"SQ",vm:"1",name:"RTROIIdentificationCodeSequence"},"(3006,0088)":{tag:"(3006,0088)",vr:"ST",vm:"1",name:"ROIObservationDescription"},"(3006,00A0)":{tag:"(3006,00A0)",vr:"SQ",vm:"1",name:"RelatedRTROIObservationsSequence"},"(3006,00A4)":{tag:"(3006,00A4)",vr:"CS",vm:"1",name:"RTROIInterpretedType"},"(3006,00A6)":{tag:"(3006,00A6)",vr:"PN",vm:"1",name:"ROIInterpreter"},"(3006,00B0)":{tag:"(3006,00B0)",vr:"SQ",vm:"1",name:"ROIPhysicalPropertiesSequence"},"(3006,00B2)":{tag:"(3006,00B2)",vr:"CS",vm:"1",name:"ROIPhysicalProperty"},"(3006,00B4)":{tag:"(3006,00B4)",vr:"DS",vm:"1",name:"ROIPhysicalPropertyValue"},"(3006,00B6)":{tag:"(3006,00B6)",vr:"SQ",vm:"1",name:"ROIElementalCompositionSequence"},"(3006,00B7)":{tag:"(3006,00B7)",vr:"US",vm:"1",name:"ROIElementalCompositionAtomicNumber"},"(3006,00B8)":{tag:"(3006,00B8)",vr:"FL",vm:"1",name:"ROIElementalCompositionAtomicMassFraction"},"(3006,00C0)":{tag:"(3006,00C0)",vr:"SQ",vm:"1",name:"FrameOfReferenceRelationshipSequence"},"(3006,00C2)":{tag:"(3006,00C2)",vr:"UI",vm:"1",name:"RelatedFrameOfReferenceUID"},"(3006,00C4)":{tag:"(3006,00C4)",vr:"CS",vm:"1",name:"FrameOfReferenceTransformationType"},"(3006,00C6)":{tag:"(3006,00C6)",vr:"DS",vm:"16",name:"FrameOfReferenceTransformationMatrix"},"(3006,00C8)":{tag:"(3006,00C8)",vr:"LO",vm:"1",name:"FrameOfReferenceTransformationComment"},"(3008,0010)":{tag:"(3008,0010)",vr:"SQ",vm:"1",name:"MeasuredDoseReferenceSequence"},"(3008,0012)":{tag:"(3008,0012)",vr:"ST",vm:"1",name:"MeasuredDoseDescription"},"(3008,0014)":{tag:"(3008,0014)",vr:"CS",vm:"1",name:"MeasuredDoseType"},"(3008,0016)":{tag:"(3008,0016)",vr:"DS",vm:"1",name:"MeasuredDoseValue"},"(3008,0020)":{tag:"(3008,0020)",vr:"SQ",vm:"1",name:"TreatmentSessionBeamSequence"},"(3008,0021)":{tag:"(3008,0021)",vr:"SQ",vm:"1",name:"TreatmentSessionIonBeamSequence"},"(3008,0022)":{tag:"(3008,0022)",vr:"IS",vm:"1",name:"CurrentFractionNumber"},"(3008,0024)":{tag:"(3008,0024)",vr:"DA",vm:"1",name:"TreatmentControlPointDate"},"(3008,0025)":{tag:"(3008,0025)",vr:"TM",vm:"1",name:"TreatmentControlPointTime"},"(3008,002A)":{tag:"(3008,002A)",vr:"CS",vm:"1",name:"TreatmentTerminationStatus"},"(3008,002B)":{tag:"(3008,002B)",vr:"SH",vm:"1",name:"TreatmentTerminationCode"},"(3008,002C)":{tag:"(3008,002C)",vr:"CS",vm:"1",name:"TreatmentVerificationStatus"},"(3008,0030)":{tag:"(3008,0030)",vr:"SQ",vm:"1",name:"ReferencedTreatmentRecordSequence"},"(3008,0032)":{tag:"(3008,0032)",vr:"DS",vm:"1",name:"SpecifiedPrimaryMeterset"},"(3008,0033)":{tag:"(3008,0033)",vr:"DS",vm:"1",name:"SpecifiedSecondaryMeterset"},"(3008,0036)":{tag:"(3008,0036)",vr:"DS",vm:"1",name:"DeliveredPrimaryMeterset"},"(3008,0037)":{tag:"(3008,0037)",vr:"DS",vm:"1",name:"DeliveredSecondaryMeterset"},"(3008,003A)":{tag:"(3008,003A)",vr:"DS",vm:"1",name:"SpecifiedTreatmentTime"},"(3008,003B)":{tag:"(3008,003B)",vr:"DS",vm:"1",name:"DeliveredTreatmentTime"},"(3008,0040)":{tag:"(3008,0040)",vr:"SQ",vm:"1",name:"ControlPointDeliverySequence"},"(3008,0041)":{tag:"(3008,0041)",vr:"SQ",vm:"1",name:"IonControlPointDeliverySequence"},"(3008,0042)":{tag:"(3008,0042)",vr:"DS",vm:"1",name:"SpecifiedMeterset"},"(3008,0044)":{tag:"(3008,0044)",vr:"DS",vm:"1",name:"DeliveredMeterset"},"(3008,0045)":{tag:"(3008,0045)",vr:"FL",vm:"1",name:"MetersetRateSet"},"(3008,0046)":{tag:"(3008,0046)",vr:"FL",vm:"1",name:"MetersetRateDelivered"},"(3008,0047)":{tag:"(3008,0047)",vr:"FL",vm:"1-n",name:"ScanSpotMetersetsDelivered"},"(3008,0048)":{tag:"(3008,0048)",vr:"DS",vm:"1",name:"DoseRateDelivered"},"(3008,0050)":{tag:"(3008,0050)",vr:"SQ",vm:"1",name:"TreatmentSummaryCalculatedDoseReferenceSequence"},"(3008,0052)":{tag:"(3008,0052)",vr:"DS",vm:"1",name:"CumulativeDoseToDoseReference"},"(3008,0054)":{tag:"(3008,0054)",vr:"DA",vm:"1",name:"FirstTreatmentDate"},"(3008,0056)":{tag:"(3008,0056)",vr:"DA",vm:"1",name:"MostRecentTreatmentDate"},"(3008,005A)":{tag:"(3008,005A)",vr:"IS",vm:"1",name:"NumberOfFractionsDelivered"},"(3008,0060)":{tag:"(3008,0060)",vr:"SQ",vm:"1",name:"OverrideSequence"},"(3008,0061)":{tag:"(3008,0061)",vr:"AT",vm:"1",name:"ParameterSequencePointer"},"(3008,0062)":{tag:"(3008,0062)",vr:"AT",vm:"1",name:"OverrideParameterPointer"},"(3008,0063)":{tag:"(3008,0063)",vr:"IS",vm:"1",name:"ParameterItemIndex"},"(3008,0064)":{tag:"(3008,0064)",vr:"IS",vm:"1",name:"MeasuredDoseReferenceNumber"},"(3008,0065)":{tag:"(3008,0065)",vr:"AT",vm:"1",name:"ParameterPointer"},"(3008,0066)":{tag:"(3008,0066)",vr:"ST",vm:"1",name:"OverrideReason"},"(3008,0068)":{tag:"(3008,0068)",vr:"SQ",vm:"1",name:"CorrectedParameterSequence"},"(3008,006A)":{tag:"(3008,006A)",vr:"FL",vm:"1",name:"CorrectionValue"},"(3008,0070)":{tag:"(3008,0070)",vr:"SQ",vm:"1",name:"CalculatedDoseReferenceSequence"},"(3008,0072)":{tag:"(3008,0072)",vr:"IS",vm:"1",name:"CalculatedDoseReferenceNumber"},"(3008,0074)":{tag:"(3008,0074)",vr:"ST",vm:"1",name:"CalculatedDoseReferenceDescription"},"(3008,0076)":{tag:"(3008,0076)",vr:"DS",vm:"1",name:"CalculatedDoseReferenceDoseValue"},"(3008,0078)":{tag:"(3008,0078)",vr:"DS",vm:"1",name:"StartMeterset"},"(3008,007A)":{tag:"(3008,007A)",vr:"DS",vm:"1",name:"EndMeterset"},"(3008,0080)":{tag:"(3008,0080)",vr:"SQ",vm:"1",name:"ReferencedMeasuredDoseReferenceSequence"},"(3008,0082)":{tag:"(3008,0082)",vr:"IS",vm:"1",name:"ReferencedMeasuredDoseReferenceNumber"},"(3008,0090)":{tag:"(3008,0090)",vr:"SQ",vm:"1",name:"ReferencedCalculatedDoseReferenceSequence"},"(3008,0092)":{tag:"(3008,0092)",vr:"IS",vm:"1",name:"ReferencedCalculatedDoseReferenceNumber"},"(3008,00A0)":{tag:"(3008,00A0)",vr:"SQ",vm:"1",name:"BeamLimitingDeviceLeafPairsSequence"},"(3008,00B0)":{tag:"(3008,00B0)",vr:"SQ",vm:"1",name:"RecordedWedgeSequence"},"(3008,00C0)":{tag:"(3008,00C0)",vr:"SQ",vm:"1",name:"RecordedCompensatorSequence"},"(3008,00D0)":{tag:"(3008,00D0)",vr:"SQ",vm:"1",name:"RecordedBlockSequence"},"(3008,00E0)":{tag:"(3008,00E0)",vr:"SQ",vm:"1",name:"TreatmentSummaryMeasuredDoseReferenceSequence"},"(3008,00F0)":{tag:"(3008,00F0)",vr:"SQ",vm:"1",name:"RecordedSnoutSequence"},"(3008,00F2)":{tag:"(3008,00F2)",vr:"SQ",vm:"1",name:"RecordedRangeShifterSequence"},"(3008,00F4)":{tag:"(3008,00F4)",vr:"SQ",vm:"1",name:"RecordedLateralSpreadingDeviceSequence"},"(3008,00F6)":{tag:"(3008,00F6)",vr:"SQ",vm:"1",name:"RecordedRangeModulatorSequence"},"(3008,0100)":{tag:"(3008,0100)",vr:"SQ",vm:"1",name:"RecordedSourceSequence"},"(3008,0105)":{tag:"(3008,0105)",vr:"LO",vm:"1",name:"SourceSerialNumber"},"(3008,0110)":{tag:"(3008,0110)",vr:"SQ",vm:"1",name:"TreatmentSessionApplicationSetupSequence"},"(3008,0116)":{tag:"(3008,0116)",vr:"CS",vm:"1",name:"ApplicationSetupCheck"},"(3008,0120)":{tag:"(3008,0120)",vr:"SQ",vm:"1",name:"RecordedBrachyAccessoryDeviceSequence"},"(3008,0122)":{tag:"(3008,0122)",vr:"IS",vm:"1",name:"ReferencedBrachyAccessoryDeviceNumber"},"(3008,0130)":{tag:"(3008,0130)",vr:"SQ",vm:"1",name:"RecordedChannelSequence"},"(3008,0132)":{tag:"(3008,0132)",vr:"DS",vm:"1",name:"SpecifiedChannelTotalTime"},"(3008,0134)":{tag:"(3008,0134)",vr:"DS",vm:"1",name:"DeliveredChannelTotalTime"},"(3008,0136)":{tag:"(3008,0136)",vr:"IS",vm:"1",name:"SpecifiedNumberOfPulses"},"(3008,0138)":{tag:"(3008,0138)",vr:"IS",vm:"1",name:"DeliveredNumberOfPulses"},"(3008,013A)":{tag:"(3008,013A)",vr:"DS",vm:"1",name:"SpecifiedPulseRepetitionInterval"},"(3008,013C)":{tag:"(3008,013C)",vr:"DS",vm:"1",name:"DeliveredPulseRepetitionInterval"},"(3008,0140)":{tag:"(3008,0140)",vr:"SQ",vm:"1",name:"RecordedSourceApplicatorSequence"},"(3008,0142)":{tag:"(3008,0142)",vr:"IS",vm:"1",name:"ReferencedSourceApplicatorNumber"},"(3008,0150)":{tag:"(3008,0150)",vr:"SQ",vm:"1",name:"RecordedChannelShieldSequence"},"(3008,0152)":{tag:"(3008,0152)",vr:"IS",vm:"1",name:"ReferencedChannelShieldNumber"},"(3008,0160)":{tag:"(3008,0160)",vr:"SQ",vm:"1",name:"BrachyControlPointDeliveredSequence"},"(3008,0162)":{tag:"(3008,0162)",vr:"DA",vm:"1",name:"SafePositionExitDate"},"(3008,0164)":{tag:"(3008,0164)",vr:"TM",vm:"1",name:"SafePositionExitTime"},"(3008,0166)":{tag:"(3008,0166)",vr:"DA",vm:"1",name:"SafePositionReturnDate"},"(3008,0168)":{tag:"(3008,0168)",vr:"TM",vm:"1",name:"SafePositionReturnTime"},"(3008,0200)":{tag:"(3008,0200)",vr:"CS",vm:"1",name:"CurrentTreatmentStatus"},"(3008,0202)":{tag:"(3008,0202)",vr:"ST",vm:"1",name:"TreatmentStatusComment"},"(3008,0220)":{tag:"(3008,0220)",vr:"SQ",vm:"1",name:"FractionGroupSummarySequence"},"(3008,0223)":{tag:"(3008,0223)",vr:"IS",vm:"1",name:"ReferencedFractionNumber"},"(3008,0224)":{tag:"(3008,0224)",vr:"CS",vm:"1",name:"FractionGroupType"},"(3008,0230)":{tag:"(3008,0230)",vr:"CS",vm:"1",name:"BeamStopperPosition"},"(3008,0240)":{tag:"(3008,0240)",vr:"SQ",vm:"1",name:"FractionStatusSummarySequence"},"(3008,0250)":{tag:"(3008,0250)",vr:"DA",vm:"1",name:"TreatmentDate"},"(3008,0251)":{tag:"(3008,0251)",vr:"TM",vm:"1",name:"TreatmentTime"},"(300A,0002)":{tag:"(300A,0002)",vr:"SH",vm:"1",name:"RTPlanLabel"},"(300A,0003)":{tag:"(300A,0003)",vr:"LO",vm:"1",name:"RTPlanName"},"(300A,0004)":{tag:"(300A,0004)",vr:"ST",vm:"1",name:"RTPlanDescription"},"(300A,0006)":{tag:"(300A,0006)",vr:"DA",vm:"1",name:"RTPlanDate"},"(300A,0007)":{tag:"(300A,0007)",vr:"TM",vm:"1",name:"RTPlanTime"},"(300A,0009)":{tag:"(300A,0009)",vr:"LO",vm:"1-n",name:"TreatmentProtocols"},"(300A,000A)":{tag:"(300A,000A)",vr:"CS",vm:"1",name:"PlanIntent"},"(300A,000B)":{tag:"(300A,000B)",vr:"LO",vm:"1-n",name:"TreatmentSites"},"(300A,000C)":{tag:"(300A,000C)",vr:"CS",vm:"1",name:"RTPlanGeometry"},"(300A,000E)":{tag:"(300A,000E)",vr:"ST",vm:"1",name:"PrescriptionDescription"},"(300A,0010)":{tag:"(300A,0010)",vr:"SQ",vm:"1",name:"DoseReferenceSequence"},"(300A,0012)":{tag:"(300A,0012)",vr:"IS",vm:"1",name:"DoseReferenceNumber"},"(300A,0013)":{tag:"(300A,0013)",vr:"UI",vm:"1",name:"DoseReferenceUID"},"(300A,0014)":{tag:"(300A,0014)",vr:"CS",vm:"1",name:"DoseReferenceStructureType"},"(300A,0015)":{tag:"(300A,0015)",vr:"CS",vm:"1",name:"NominalBeamEnergyUnit"},"(300A,0016)":{tag:"(300A,0016)",vr:"LO",vm:"1",name:"DoseReferenceDescription"},"(300A,0018)":{tag:"(300A,0018)",vr:"DS",vm:"3",name:"DoseReferencePointCoordinates"},"(300A,001A)":{tag:"(300A,001A)",vr:"DS",vm:"1",name:"NominalPriorDose"},"(300A,0020)":{tag:"(300A,0020)",vr:"CS",vm:"1",name:"DoseReferenceType"},"(300A,0021)":{tag:"(300A,0021)",vr:"DS",vm:"1",name:"ConstraintWeight"},"(300A,0022)":{tag:"(300A,0022)",vr:"DS",vm:"1",name:"DeliveryWarningDose"},"(300A,0023)":{tag:"(300A,0023)",vr:"DS",vm:"1",name:"DeliveryMaximumDose"},"(300A,0025)":{tag:"(300A,0025)",vr:"DS",vm:"1",name:"TargetMinimumDose"},"(300A,0026)":{tag:"(300A,0026)",vr:"DS",vm:"1",name:"TargetPrescriptionDose"},"(300A,0027)":{tag:"(300A,0027)",vr:"DS",vm:"1",name:"TargetMaximumDose"},"(300A,0028)":{tag:"(300A,0028)",vr:"DS",vm:"1",name:"TargetUnderdoseVolumeFraction"},"(300A,002A)":{tag:"(300A,002A)",vr:"DS",vm:"1",name:"OrganAtRiskFullVolumeDose"},"(300A,002B)":{tag:"(300A,002B)",vr:"DS",vm:"1",name:"OrganAtRiskLimitDose"},"(300A,002C)":{tag:"(300A,002C)",vr:"DS",vm:"1",name:"OrganAtRiskMaximumDose"},"(300A,002D)":{tag:"(300A,002D)",vr:"DS",vm:"1",name:"OrganAtRiskOverdoseVolumeFraction"},"(300A,0040)":{tag:"(300A,0040)",vr:"SQ",vm:"1",name:"ToleranceTableSequence"},"(300A,0042)":{tag:"(300A,0042)",vr:"IS",vm:"1",name:"ToleranceTableNumber"},"(300A,0043)":{tag:"(300A,0043)",vr:"SH",vm:"1",name:"ToleranceTableLabel"},"(300A,0044)":{tag:"(300A,0044)",vr:"DS",vm:"1",name:"GantryAngleTolerance"},"(300A,0046)":{tag:"(300A,0046)",vr:"DS",vm:"1",name:"BeamLimitingDeviceAngleTolerance"},"(300A,0048)":{tag:"(300A,0048)",vr:"SQ",vm:"1",name:"BeamLimitingDeviceToleranceSequence"},"(300A,004A)":{tag:"(300A,004A)",vr:"DS",vm:"1",name:"BeamLimitingDevicePositionTolerance"},"(300A,004B)":{tag:"(300A,004B)",vr:"FL",vm:"1",name:"SnoutPositionTolerance"},"(300A,004C)":{tag:"(300A,004C)",vr:"DS",vm:"1",name:"PatientSupportAngleTolerance"},"(300A,004E)":{tag:"(300A,004E)",vr:"DS",vm:"1",name:"TableTopEccentricAngleTolerance"},"(300A,004F)":{tag:"(300A,004F)",vr:"FL",vm:"1",name:"TableTopPitchAngleTolerance"},"(300A,0050)":{tag:"(300A,0050)",vr:"FL",vm:"1",name:"TableTopRollAngleTolerance"},"(300A,0051)":{tag:"(300A,0051)",vr:"DS",vm:"1",name:"TableTopVerticalPositionTolerance"},"(300A,0052)":{tag:"(300A,0052)",vr:"DS",vm:"1",name:"TableTopLongitudinalPositionTolerance"},"(300A,0053)":{tag:"(300A,0053)",vr:"DS",vm:"1",name:"TableTopLateralPositionTolerance"},"(300A,0055)":{tag:"(300A,0055)",vr:"CS",vm:"1",name:"RTPlanRelationship"},"(300A,0070)":{tag:"(300A,0070)",vr:"SQ",vm:"1",name:"FractionGroupSequence"},"(300A,0071)":{tag:"(300A,0071)",vr:"IS",vm:"1",name:"FractionGroupNumber"},"(300A,0072)":{tag:"(300A,0072)",vr:"LO",vm:"1",name:"FractionGroupDescription"},"(300A,0078)":{tag:"(300A,0078)",vr:"IS",vm:"1",name:"NumberOfFractionsPlanned"},"(300A,0079)":{tag:"(300A,0079)",vr:"IS",vm:"1",name:"NumberOfFractionPatternDigitsPerDay"},"(300A,007A)":{tag:"(300A,007A)",vr:"IS",vm:"1",name:"RepeatFractionCycleLength"},"(300A,007B)":{tag:"(300A,007B)",vr:"LT",vm:"1",name:"FractionPattern"},"(300A,0080)":{tag:"(300A,0080)",vr:"IS",vm:"1",name:"NumberOfBeams"},"(300A,0082)":{tag:"(300A,0082)",vr:"DS",vm:"3",name:"BeamDoseSpecificationPoint"},"(300A,0084)":{tag:"(300A,0084)",vr:"DS",vm:"1",name:"BeamDose"},"(300A,0086)":{tag:"(300A,0086)",vr:"DS",vm:"1",name:"BeamMeterset"},"(300A,0088)":{tag:"(300A,0088)",vr:"FL",vm:"1",name:"BeamDosePointDepth"},"(300A,0089)":{tag:"(300A,0089)",vr:"FL",vm:"1",name:"BeamDosePointEquivalentDepth"},"(300A,008A)":{tag:"(300A,008A)",vr:"FL",vm:"1",name:"BeamDosePointSSD"},"(300A,00A0)":{tag:"(300A,00A0)",vr:"IS",vm:"1",name:"NumberOfBrachyApplicationSetups"},"(300A,00A2)":{tag:"(300A,00A2)",vr:"DS",vm:"3",name:"BrachyApplicationSetupDoseSpecificationPoint"},"(300A,00A4)":{tag:"(300A,00A4)",vr:"DS",vm:"1",name:"BrachyApplicationSetupDose"},"(300A,00B0)":{tag:"(300A,00B0)",vr:"SQ",vm:"1",name:"BeamSequence"},"(300A,00B2)":{tag:"(300A,00B2)",vr:"SH",vm:"1",name:"TreatmentMachineName"},"(300A,00B3)":{tag:"(300A,00B3)",vr:"CS",vm:"1",name:"PrimaryDosimeterUnit"},"(300A,00B4)":{tag:"(300A,00B4)",vr:"DS",vm:"1",name:"SourceAxisDistance"},"(300A,00B6)":{tag:"(300A,00B6)",vr:"SQ",vm:"1",name:"BeamLimitingDeviceSequence"},"(300A,00B8)":{tag:"(300A,00B8)",vr:"CS",vm:"1",name:"RTBeamLimitingDeviceType"},"(300A,00BA)":{tag:"(300A,00BA)",vr:"DS",vm:"1",name:"SourceToBeamLimitingDeviceDistance"},"(300A,00BB)":{tag:"(300A,00BB)",vr:"FL",vm:"1",name:"IsocenterToBeamLimitingDeviceDistance"},"(300A,00BC)":{tag:"(300A,00BC)",vr:"IS",vm:"1",name:"NumberOfLeafJawPairs"},"(300A,00BE)":{tag:"(300A,00BE)",vr:"DS",vm:"3-n",name:"LeafPositionBoundaries"},"(300A,00C0)":{tag:"(300A,00C0)",vr:"IS",vm:"1",name:"BeamNumber"},"(300A,00C2)":{tag:"(300A,00C2)",vr:"LO",vm:"1",name:"BeamName"},"(300A,00C3)":{tag:"(300A,00C3)",vr:"ST",vm:"1",name:"BeamDescription"},"(300A,00C4)":{tag:"(300A,00C4)",vr:"CS",vm:"1",name:"BeamType"},"(300A,00C6)":{tag:"(300A,00C6)",vr:"CS",vm:"1",name:"RadiationType"},"(300A,00C7)":{tag:"(300A,00C7)",vr:"CS",vm:"1",name:"HighDoseTechniqueType"},"(300A,00C8)":{tag:"(300A,00C8)",vr:"IS",vm:"1",name:"ReferenceImageNumber"},"(300A,00CA)":{tag:"(300A,00CA)",vr:"SQ",vm:"1",name:"PlannedVerificationImageSequence"},"(300A,00CC)":{tag:"(300A,00CC)",vr:"LO",vm:"1-n",name:"ImagingDeviceSpecificAcquisitionParameters"},"(300A,00CE)":{tag:"(300A,00CE)",vr:"CS",vm:"1",name:"TreatmentDeliveryType"},"(300A,00D0)":{tag:"(300A,00D0)",vr:"IS",vm:"1",name:"NumberOfWedges"},"(300A,00D1)":{tag:"(300A,00D1)",vr:"SQ",vm:"1",name:"WedgeSequence"},"(300A,00D2)":{tag:"(300A,00D2)",vr:"IS",vm:"1",name:"WedgeNumber"},"(300A,00D3)":{tag:"(300A,00D3)",vr:"CS",vm:"1",name:"WedgeType"},"(300A,00D4)":{tag:"(300A,00D4)",vr:"SH",vm:"1",name:"WedgeID"},"(300A,00D5)":{tag:"(300A,00D5)",vr:"IS",vm:"1",name:"WedgeAngle"},"(300A,00D6)":{tag:"(300A,00D6)",vr:"DS",vm:"1",name:"WedgeFactor"},"(300A,00D7)":{tag:"(300A,00D7)",vr:"FL",vm:"1",name:"TotalWedgeTrayWaterEquivalentThickness"},"(300A,00D8)":{tag:"(300A,00D8)",vr:"DS",vm:"1",name:"WedgeOrientation"},"(300A,00D9)":{tag:"(300A,00D9)",vr:"FL",vm:"1",name:"IsocenterToWedgeTrayDistance"},"(300A,00DA)":{tag:"(300A,00DA)",vr:"DS",vm:"1",name:"SourceToWedgeTrayDistance"},"(300A,00DB)":{tag:"(300A,00DB)",vr:"FL",vm:"1",name:"WedgeThinEdgePosition"},"(300A,00DC)":{tag:"(300A,00DC)",vr:"SH",vm:"1",name:"BolusID"},"(300A,00DD)":{tag:"(300A,00DD)",vr:"ST",vm:"1",name:"BolusDescription"},"(300A,00E0)":{tag:"(300A,00E0)",vr:"IS",vm:"1",name:"NumberOfCompensators"},"(300A,00E1)":{tag:"(300A,00E1)",vr:"SH",vm:"1",name:"MaterialID"},"(300A,00E2)":{tag:"(300A,00E2)",vr:"DS",vm:"1",name:"TotalCompensatorTrayFactor"},"(300A,00E3)":{tag:"(300A,00E3)",vr:"SQ",vm:"1",name:"CompensatorSequence"},"(300A,00E4)":{tag:"(300A,00E4)",vr:"IS",vm:"1",name:"CompensatorNumber"},"(300A,00E5)":{tag:"(300A,00E5)",vr:"SH",vm:"1",name:"CompensatorID"},"(300A,00E6)":{tag:"(300A,00E6)",vr:"DS",vm:"1",name:"SourceToCompensatorTrayDistance"},"(300A,00E7)":{tag:"(300A,00E7)",vr:"IS",vm:"1",name:"CompensatorRows"},"(300A,00E8)":{tag:"(300A,00E8)",vr:"IS",vm:"1",name:"CompensatorColumns"},"(300A,00E9)":{tag:"(300A,00E9)",vr:"DS",vm:"2",name:"CompensatorPixelSpacing"},"(300A,00EA)":{tag:"(300A,00EA)",vr:"DS",vm:"2",name:"CompensatorPosition"},"(300A,00EB)":{tag:"(300A,00EB)",vr:"DS",vm:"1-n",name:"CompensatorTransmissionData"},"(300A,00EC)":{tag:"(300A,00EC)",vr:"DS",vm:"1-n",name:"CompensatorThicknessData"},"(300A,00ED)":{tag:"(300A,00ED)",vr:"IS",vm:"1",name:"NumberOfBoli"},"(300A,00EE)":{tag:"(300A,00EE)",vr:"CS",vm:"1",name:"CompensatorType"},"(300A,00F0)":{tag:"(300A,00F0)",vr:"IS",vm:"1",name:"NumberOfBlocks"},"(300A,00F2)":{tag:"(300A,00F2)",vr:"DS",vm:"1",name:"TotalBlockTrayFactor"},"(300A,00F3)":{tag:"(300A,00F3)",vr:"FL",vm:"1",name:"TotalBlockTrayWaterEquivalentThickness"},"(300A,00F4)":{tag:"(300A,00F4)",vr:"SQ",vm:"1",name:"BlockSequence"},"(300A,00F5)":{tag:"(300A,00F5)",vr:"SH",vm:"1",name:"BlockTrayID"},"(300A,00F6)":{tag:"(300A,00F6)",vr:"DS",vm:"1",name:"SourceToBlockTrayDistance"},"(300A,00F7)":{tag:"(300A,00F7)",vr:"FL",vm:"1",name:"IsocenterToBlockTrayDistance"},"(300A,00F8)":{tag:"(300A,00F8)",vr:"CS",vm:"1",name:"BlockType"},"(300A,00F9)":{tag:"(300A,00F9)",vr:"LO",vm:"1",name:"AccessoryCode"},"(300A,00FA)":{tag:"(300A,00FA)",vr:"CS",vm:"1",name:"BlockDivergence"},"(300A,00FB)":{tag:"(300A,00FB)",vr:"CS",vm:"1",name:"BlockMountingPosition"},"(300A,00FC)":{tag:"(300A,00FC)",vr:"IS",vm:"1",name:"BlockNumber"},"(300A,00FE)":{tag:"(300A,00FE)",vr:"LO",vm:"1",name:"BlockName"},"(300A,0100)":{tag:"(300A,0100)",vr:"DS",vm:"1",name:"BlockThickness"},"(300A,0102)":{tag:"(300A,0102)",vr:"DS",vm:"1",name:"BlockTransmission"},"(300A,0104)":{tag:"(300A,0104)",vr:"IS",vm:"1",name:"BlockNumberOfPoints"},"(300A,0106)":{tag:"(300A,0106)",vr:"DS",vm:"2-2n",name:"BlockData"},"(300A,0107)":{tag:"(300A,0107)",vr:"SQ",vm:"1",name:"ApplicatorSequence"},"(300A,0108)":{tag:"(300A,0108)",vr:"SH",vm:"1",name:"ApplicatorID"},"(300A,0109)":{tag:"(300A,0109)",vr:"CS",vm:"1",name:"ApplicatorType"},"(300A,010A)":{tag:"(300A,010A)",vr:"LO",vm:"1",name:"ApplicatorDescription"},"(300A,010C)":{tag:"(300A,010C)",vr:"DS",vm:"1",name:"CumulativeDoseReferenceCoefficient"},"(300A,010E)":{tag:"(300A,010E)",vr:"DS",vm:"1",name:"FinalCumulativeMetersetWeight"},"(300A,0110)":{tag:"(300A,0110)",vr:"IS",vm:"1",name:"NumberOfControlPoints"},"(300A,0111)":{tag:"(300A,0111)",vr:"SQ",vm:"1",name:"ControlPointSequence"},"(300A,0112)":{tag:"(300A,0112)",vr:"IS",vm:"1",name:"ControlPointIndex"},"(300A,0114)":{tag:"(300A,0114)",vr:"DS",vm:"1",name:"NominalBeamEnergy"},"(300A,0115)":{tag:"(300A,0115)",vr:"DS",vm:"1",name:"DoseRateSet"},"(300A,0116)":{tag:"(300A,0116)",vr:"SQ",vm:"1",name:"WedgePositionSequence"},"(300A,0118)":{tag:"(300A,0118)",vr:"CS",vm:"1",name:"WedgePosition"},"(300A,011A)":{tag:"(300A,011A)",vr:"SQ",vm:"1",name:"BeamLimitingDevicePositionSequence"},"(300A,011C)":{tag:"(300A,011C)",vr:"DS",vm:"2-2n",name:"LeafJawPositions"},"(300A,011E)":{tag:"(300A,011E)",vr:"DS",vm:"1",name:"GantryAngle"},"(300A,011F)":{tag:"(300A,011F)",vr:"CS",vm:"1",name:"GantryRotationDirection"},"(300A,0120)":{tag:"(300A,0120)",vr:"DS",vm:"1",name:"BeamLimitingDeviceAngle"},"(300A,0121)":{tag:"(300A,0121)",vr:"CS",vm:"1",name:"BeamLimitingDeviceRotationDirection"},"(300A,0122)":{tag:"(300A,0122)",vr:"DS",vm:"1",name:"PatientSupportAngle"},"(300A,0123)":{tag:"(300A,0123)",vr:"CS",vm:"1",name:"PatientSupportRotationDirection"},"(300A,0124)":{tag:"(300A,0124)",vr:"DS",vm:"1",name:"TableTopEccentricAxisDistance"},"(300A,0125)":{tag:"(300A,0125)",vr:"DS",vm:"1",name:"TableTopEccentricAngle"},"(300A,0126)":{tag:"(300A,0126)",vr:"CS",vm:"1",name:"TableTopEccentricRotationDirection"},"(300A,0128)":{tag:"(300A,0128)",vr:"DS",vm:"1",name:"TableTopVerticalPosition"},"(300A,0129)":{tag:"(300A,0129)",vr:"DS",vm:"1",name:"TableTopLongitudinalPosition"},"(300A,012A)":{tag:"(300A,012A)",vr:"DS",vm:"1",name:"TableTopLateralPosition"},"(300A,012C)":{tag:"(300A,012C)",vr:"DS",vm:"3",name:"IsocenterPosition"},"(300A,012E)":{tag:"(300A,012E)",vr:"DS",vm:"3",name:"SurfaceEntryPoint"},"(300A,0130)":{tag:"(300A,0130)",vr:"DS",vm:"1",name:"SourceToSurfaceDistance"},"(300A,0134)":{tag:"(300A,0134)",vr:"DS",vm:"1",name:"CumulativeMetersetWeight"},"(300A,0140)":{tag:"(300A,0140)",vr:"FL",vm:"1",name:"TableTopPitchAngle"},"(300A,0142)":{tag:"(300A,0142)",vr:"CS",vm:"1",name:"TableTopPitchRotationDirection"},"(300A,0144)":{tag:"(300A,0144)",vr:"FL",vm:"1",name:"TableTopRollAngle"},"(300A,0146)":{tag:"(300A,0146)",vr:"CS",vm:"1",name:"TableTopRollRotationDirection"},"(300A,0148)":{tag:"(300A,0148)",vr:"FL",vm:"1",name:"HeadFixationAngle"},"(300A,014A)":{tag:"(300A,014A)",vr:"FL",vm:"1",name:"GantryPitchAngle"},"(300A,014C)":{tag:"(300A,014C)",vr:"CS",vm:"1",name:"GantryPitchRotationDirection"},"(300A,014E)":{tag:"(300A,014E)",vr:"FL",vm:"1",name:"GantryPitchAngleTolerance"},"(300A,0180)":{tag:"(300A,0180)",vr:"SQ",vm:"1",name:"PatientSetupSequence"},"(300A,0182)":{tag:"(300A,0182)",vr:"IS",vm:"1",name:"PatientSetupNumber"},"(300A,0183)":{tag:"(300A,0183)",vr:"LO",vm:"1",name:"PatientSetupLabel"},"(300A,0184)":{tag:"(300A,0184)",vr:"LO",vm:"1",name:"PatientAdditionalPosition"},"(300A,0190)":{tag:"(300A,0190)",vr:"SQ",vm:"1",name:"FixationDeviceSequence"},"(300A,0192)":{tag:"(300A,0192)",vr:"CS",vm:"1",name:"FixationDeviceType"},"(300A,0194)":{tag:"(300A,0194)",vr:"SH",vm:"1",name:"FixationDeviceLabel"},"(300A,0196)":{tag:"(300A,0196)",vr:"ST",vm:"1",name:"FixationDeviceDescription"},"(300A,0198)":{tag:"(300A,0198)",vr:"SH",vm:"1",name:"FixationDevicePosition"},"(300A,0199)":{tag:"(300A,0199)",vr:"FL",vm:"1",name:"FixationDevicePitchAngle"},"(300A,019A)":{tag:"(300A,019A)",vr:"FL",vm:"1",name:"FixationDeviceRollAngle"},"(300A,01A0)":{tag:"(300A,01A0)",vr:"SQ",vm:"1",name:"ShieldingDeviceSequence"},"(300A,01A2)":{tag:"(300A,01A2)",vr:"CS",vm:"1",name:"ShieldingDeviceType"},"(300A,01A4)":{tag:"(300A,01A4)",vr:"SH",vm:"1",name:"ShieldingDeviceLabel"},"(300A,01A6)":{tag:"(300A,01A6)",vr:"ST",vm:"1",name:"ShieldingDeviceDescription"},"(300A,01A8)":{tag:"(300A,01A8)",vr:"SH",vm:"1",name:"ShieldingDevicePosition"},"(300A,01B0)":{tag:"(300A,01B0)",vr:"CS",vm:"1",name:"SetupTechnique"},"(300A,01B2)":{tag:"(300A,01B2)",vr:"ST",vm:"1",name:"SetupTechniqueDescription"},"(300A,01B4)":{tag:"(300A,01B4)",vr:"SQ",vm:"1",name:"SetupDeviceSequence"},"(300A,01B6)":{tag:"(300A,01B6)",vr:"CS",vm:"1",name:"SetupDeviceType"},"(300A,01B8)":{tag:"(300A,01B8)",vr:"SH",vm:"1",name:"SetupDeviceLabel"},"(300A,01BA)":{tag:"(300A,01BA)",vr:"ST",vm:"1",name:"SetupDeviceDescription"},"(300A,01BC)":{tag:"(300A,01BC)",vr:"DS",vm:"1",name:"SetupDeviceParameter"},"(300A,01D0)":{tag:"(300A,01D0)",vr:"ST",vm:"1",name:"SetupReferenceDescription"},"(300A,01D2)":{tag:"(300A,01D2)",vr:"DS",vm:"1",name:"TableTopVerticalSetupDisplacement"},"(300A,01D4)":{tag:"(300A,01D4)",vr:"DS",vm:"1",name:"TableTopLongitudinalSetupDisplacement"},"(300A,01D6)":{tag:"(300A,01D6)",vr:"DS",vm:"1",name:"TableTopLateralSetupDisplacement"},"(300A,0200)":{tag:"(300A,0200)",vr:"CS",vm:"1",name:"BrachyTreatmentTechnique"},"(300A,0202)":{tag:"(300A,0202)",vr:"CS",vm:"1",name:"BrachyTreatmentType"},"(300A,0206)":{tag:"(300A,0206)",vr:"SQ",vm:"1",name:"TreatmentMachineSequence"},"(300A,0210)":{tag:"(300A,0210)",vr:"SQ",vm:"1",name:"SourceSequence"},"(300A,0212)":{tag:"(300A,0212)",vr:"IS",vm:"1",name:"SourceNumber"},"(300A,0214)":{tag:"(300A,0214)",vr:"CS",vm:"1",name:"SourceType"},"(300A,0216)":{tag:"(300A,0216)",vr:"LO",vm:"1",name:"SourceManufacturer"},"(300A,0218)":{tag:"(300A,0218)",vr:"DS",vm:"1",name:"ActiveSourceDiameter"},"(300A,021A)":{tag:"(300A,021A)",vr:"DS",vm:"1",name:"ActiveSourceLength"},"(300A,0222)":{tag:"(300A,0222)",vr:"DS",vm:"1",name:"SourceEncapsulationNominalThickness"},"(300A,0224)":{tag:"(300A,0224)",vr:"DS",vm:"1",name:"SourceEncapsulationNominalTransmission"},"(300A,0226)":{tag:"(300A,0226)",vr:"LO",vm:"1",name:"SourceIsotopeName"},"(300A,0228)":{tag:"(300A,0228)",vr:"DS",vm:"1",name:"SourceIsotopeHalfLife"},"(300A,0229)":{tag:"(300A,0229)",vr:"CS",vm:"1",name:"SourceStrengthUnits"},"(300A,022A)":{tag:"(300A,022A)",vr:"DS",vm:"1",name:"ReferenceAirKermaRate"},"(300A,022B)":{tag:"(300A,022B)",vr:"DS",vm:"1",name:"SourceStrength"},"(300A,022C)":{tag:"(300A,022C)",vr:"DA",vm:"1",name:"SourceStrengthReferenceDate"},"(300A,022E)":{tag:"(300A,022E)",vr:"TM",vm:"1",name:"SourceStrengthReferenceTime"},"(300A,0230)":{tag:"(300A,0230)",vr:"SQ",vm:"1",name:"ApplicationSetupSequence"},"(300A,0232)":{tag:"(300A,0232)",vr:"CS",vm:"1",name:"ApplicationSetupType"},"(300A,0234)":{tag:"(300A,0234)",vr:"IS",vm:"1",name:"ApplicationSetupNumber"},"(300A,0236)":{tag:"(300A,0236)",vr:"LO",vm:"1",name:"ApplicationSetupName"},"(300A,0238)":{tag:"(300A,0238)",vr:"LO",vm:"1",name:"ApplicationSetupManufacturer"},"(300A,0240)":{tag:"(300A,0240)",vr:"IS",vm:"1",name:"TemplateNumber"},"(300A,0242)":{tag:"(300A,0242)",vr:"SH",vm:"1",name:"TemplateType"},"(300A,0244)":{tag:"(300A,0244)",vr:"LO",vm:"1",name:"TemplateName"},"(300A,0250)":{tag:"(300A,0250)",vr:"DS",vm:"1",name:"TotalReferenceAirKerma"},"(300A,0260)":{tag:"(300A,0260)",vr:"SQ",vm:"1",name:"BrachyAccessoryDeviceSequence"},"(300A,0262)":{tag:"(300A,0262)",vr:"IS",vm:"1",name:"BrachyAccessoryDeviceNumber"},"(300A,0263)":{tag:"(300A,0263)",vr:"SH",vm:"1",name:"BrachyAccessoryDeviceID"},"(300A,0264)":{tag:"(300A,0264)",vr:"CS",vm:"1",name:"BrachyAccessoryDeviceType"},"(300A,0266)":{tag:"(300A,0266)",vr:"LO",vm:"1",name:"BrachyAccessoryDeviceName"},"(300A,026A)":{tag:"(300A,026A)",vr:"DS",vm:"1",name:"BrachyAccessoryDeviceNominalThickness"},"(300A,026C)":{tag:"(300A,026C)",vr:"DS",vm:"1",name:"BrachyAccessoryDeviceNominalTransmission"},"(300A,0280)":{tag:"(300A,0280)",vr:"SQ",vm:"1",name:"ChannelSequence"},"(300A,0282)":{tag:"(300A,0282)",vr:"IS",vm:"1",name:"ChannelNumber"},"(300A,0284)":{tag:"(300A,0284)",vr:"DS",vm:"1",name:"ChannelLength"},"(300A,0286)":{tag:"(300A,0286)",vr:"DS",vm:"1",name:"ChannelTotalTime"},"(300A,0288)":{tag:"(300A,0288)",vr:"CS",vm:"1",name:"SourceMovementType"},"(300A,028A)":{tag:"(300A,028A)",vr:"IS",vm:"1",name:"NumberOfPulses"},"(300A,028C)":{tag:"(300A,028C)",vr:"DS",vm:"1",name:"PulseRepetitionInterval"},"(300A,0290)":{tag:"(300A,0290)",vr:"IS",vm:"1",name:"SourceApplicatorNumber"},"(300A,0291)":{tag:"(300A,0291)",vr:"SH",vm:"1",name:"SourceApplicatorID"},"(300A,0292)":{tag:"(300A,0292)",vr:"CS",vm:"1",name:"SourceApplicatorType"},"(300A,0294)":{tag:"(300A,0294)",vr:"LO",vm:"1",name:"SourceApplicatorName"},"(300A,0296)":{tag:"(300A,0296)",vr:"DS",vm:"1",name:"SourceApplicatorLength"},"(300A,0298)":{tag:"(300A,0298)",vr:"LO",vm:"1",name:"SourceApplicatorManufacturer"},"(300A,029C)":{tag:"(300A,029C)",vr:"DS",vm:"1",name:"SourceApplicatorWallNominalThickness"},"(300A,029E)":{tag:"(300A,029E)",vr:"DS",vm:"1",name:"SourceApplicatorWallNominalTransmission"},"(300A,02A0)":{tag:"(300A,02A0)",vr:"DS",vm:"1",name:"SourceApplicatorStepSize"},"(300A,02A2)":{tag:"(300A,02A2)",vr:"IS",vm:"1",name:"TransferTubeNumber"},"(300A,02A4)":{tag:"(300A,02A4)",vr:"DS",vm:"1",name:"TransferTubeLength"},"(300A,02B0)":{tag:"(300A,02B0)",vr:"SQ",vm:"1",name:"ChannelShieldSequence"},"(300A,02B2)":{tag:"(300A,02B2)",vr:"IS",vm:"1",name:"ChannelShieldNumber"},"(300A,02B3)":{tag:"(300A,02B3)",vr:"SH",vm:"1",name:"ChannelShieldID"},"(300A,02B4)":{tag:"(300A,02B4)",vr:"LO",vm:"1",name:"ChannelShieldName"},"(300A,02B8)":{tag:"(300A,02B8)",vr:"DS",vm:"1",name:"ChannelShieldNominalThickness"},"(300A,02BA)":{tag:"(300A,02BA)",vr:"DS",vm:"1",name:"ChannelShieldNominalTransmission"},"(300A,02C8)":{tag:"(300A,02C8)",vr:"DS",vm:"1",name:"FinalCumulativeTimeWeight"},"(300A,02D0)":{tag:"(300A,02D0)",vr:"SQ",vm:"1",name:"BrachyControlPointSequence"},"(300A,02D2)":{tag:"(300A,02D2)",vr:"DS",vm:"1",name:"ControlPointRelativePosition"},"(300A,02D4)":{tag:"(300A,02D4)",vr:"DS",vm:"3",name:"ControlPoint3DPosition"},"(300A,02D6)":{tag:"(300A,02D6)",vr:"DS",vm:"1",name:"CumulativeTimeWeight"},"(300A,02E0)":{tag:"(300A,02E0)",vr:"CS",vm:"1",name:"CompensatorDivergence"},"(300A,02E1)":{tag:"(300A,02E1)",vr:"CS",vm:"1",name:"CompensatorMountingPosition"},"(300A,02E2)":{tag:"(300A,02E2)",vr:"DS",vm:"1-n",name:"SourceToCompensatorDistance"},"(300A,02E3)":{tag:"(300A,02E3)",vr:"FL",vm:"1",name:"TotalCompensatorTrayWaterEquivalentThickness"},"(300A,02E4)":{tag:"(300A,02E4)",vr:"FL",vm:"1",name:"IsocenterToCompensatorTrayDistance"},"(300A,02E5)":{tag:"(300A,02E5)",vr:"FL",vm:"1",name:"CompensatorColumnOffset"},"(300A,02E6)":{tag:"(300A,02E6)",vr:"FL",vm:"1-n",name:"IsocenterToCompensatorDistances"},"(300A,02E7)":{tag:"(300A,02E7)",vr:"FL",vm:"1",name:"CompensatorRelativeStoppingPowerRatio"},"(300A,02E8)":{tag:"(300A,02E8)",vr:"FL",vm:"1",name:"CompensatorMillingToolDiameter"},"(300A,02EA)":{tag:"(300A,02EA)",vr:"SQ",vm:"1",name:"IonRangeCompensatorSequence"},"(300A,02EB)":{tag:"(300A,02EB)",vr:"LT",vm:"1",name:"CompensatorDescription"},"(300A,0302)":{tag:"(300A,0302)",vr:"IS",vm:"1",name:"RadiationMassNumber"},"(300A,0304)":{tag:"(300A,0304)",vr:"IS",vm:"1",name:"RadiationAtomicNumber"},"(300A,0306)":{tag:"(300A,0306)",vr:"SS",vm:"1",name:"RadiationChargeState"},"(300A,0308)":{tag:"(300A,0308)",vr:"CS",vm:"1",name:"ScanMode"},"(300A,030A)":{tag:"(300A,030A)",vr:"FL",vm:"2",name:"VirtualSourceAxisDistances"},"(300A,030C)":{tag:"(300A,030C)",vr:"SQ",vm:"1",name:"SnoutSequence"},"(300A,030D)":{tag:"(300A,030D)",vr:"FL",vm:"1",name:"SnoutPosition"},"(300A,030F)":{tag:"(300A,030F)",vr:"SH",vm:"1",name:"SnoutID"},"(300A,0312)":{tag:"(300A,0312)",vr:"IS",vm:"1",name:"NumberOfRangeShifters"},"(300A,0314)":{tag:"(300A,0314)",vr:"SQ",vm:"1",name:"RangeShifterSequence"},"(300A,0316)":{tag:"(300A,0316)",vr:"IS",vm:"1",name:"RangeShifterNumber"},"(300A,0318)":{tag:"(300A,0318)",vr:"SH",vm:"1",name:"RangeShifterID"},"(300A,0320)":{tag:"(300A,0320)",vr:"CS",vm:"1",name:"RangeShifterType"},"(300A,0322)":{tag:"(300A,0322)",vr:"LO",vm:"1",name:"RangeShifterDescription"},"(300A,0330)":{tag:"(300A,0330)",vr:"IS",vm:"1",name:"NumberOfLateralSpreadingDevices"},"(300A,0332)":{tag:"(300A,0332)",vr:"SQ",vm:"1",name:"LateralSpreadingDeviceSequence"},"(300A,0334)":{tag:"(300A,0334)",vr:"IS",vm:"1",name:"LateralSpreadingDeviceNumber"},"(300A,0336)":{tag:"(300A,0336)",vr:"SH",vm:"1",name:"LateralSpreadingDeviceID"},"(300A,0338)":{tag:"(300A,0338)",vr:"CS",vm:"1",name:"LateralSpreadingDeviceType"},"(300A,033A)":{tag:"(300A,033A)",vr:"LO",vm:"1",name:"LateralSpreadingDeviceDescription"},"(300A,033C)":{tag:"(300A,033C)",vr:"FL",vm:"1",name:"LateralSpreadingDeviceWaterEquivalentThickness"},"(300A,0340)":{tag:"(300A,0340)",vr:"IS",vm:"1",name:"NumberOfRangeModulators"},"(300A,0342)":{tag:"(300A,0342)",vr:"SQ",vm:"1",name:"RangeModulatorSequence"},"(300A,0344)":{tag:"(300A,0344)",vr:"IS",vm:"1",name:"RangeModulatorNumber"},"(300A,0346)":{tag:"(300A,0346)",vr:"SH",vm:"1",name:"RangeModulatorID"},"(300A,0348)":{tag:"(300A,0348)",vr:"CS",vm:"1",name:"RangeModulatorType"},"(300A,034A)":{tag:"(300A,034A)",vr:"LO",vm:"1",name:"RangeModulatorDescription"},"(300A,034C)":{tag:"(300A,034C)",vr:"SH",vm:"1",name:"BeamCurrentModulationID"},"(300A,0350)":{tag:"(300A,0350)",vr:"CS",vm:"1",name:"PatientSupportType"},"(300A,0352)":{tag:"(300A,0352)",vr:"SH",vm:"1",name:"PatientSupportID"},"(300A,0354)":{tag:"(300A,0354)",vr:"LO",vm:"1",name:"PatientSupportAccessoryCode"},"(300A,0356)":{tag:"(300A,0356)",vr:"FL",vm:"1",name:"FixationLightAzimuthalAngle"},"(300A,0358)":{tag:"(300A,0358)",vr:"FL",vm:"1",name:"FixationLightPolarAngle"},"(300A,035A)":{tag:"(300A,035A)",vr:"FL",vm:"1",name:"MetersetRate"},"(300A,0360)":{tag:"(300A,0360)",vr:"SQ",vm:"1",name:"RangeShifterSettingsSequence"},"(300A,0362)":{tag:"(300A,0362)",vr:"LO",vm:"1",name:"RangeShifterSetting"},"(300A,0364)":{tag:"(300A,0364)",vr:"FL",vm:"1",name:"IsocenterToRangeShifterDistance"},"(300A,0366)":{tag:"(300A,0366)",vr:"FL",vm:"1",name:"RangeShifterWaterEquivalentThickness"},"(300A,0370)":{tag:"(300A,0370)",vr:"SQ",vm:"1",name:"LateralSpreadingDeviceSettingsSequence"},"(300A,0372)":{tag:"(300A,0372)",vr:"LO",vm:"1",name:"LateralSpreadingDeviceSetting"},"(300A,0374)":{tag:"(300A,0374)",vr:"FL",vm:"1",name:"IsocenterToLateralSpreadingDeviceDistance"},"(300A,0380)":{tag:"(300A,0380)",vr:"SQ",vm:"1",name:"RangeModulatorSettingsSequence"},"(300A,0382)":{tag:"(300A,0382)",vr:"FL",vm:"1",name:"RangeModulatorGatingStartValue"},"(300A,0384)":{tag:"(300A,0384)",vr:"FL",vm:"1",name:"RangeModulatorGatingStopValue"},"(300A,0386)":{tag:"(300A,0386)",vr:"FL",vm:"1",name:"RangeModulatorGatingStartWaterEquivalentThickness"},"(300A,0388)":{tag:"(300A,0388)",vr:"FL",vm:"1",name:"RangeModulatorGatingStopWaterEquivalentThickness"},"(300A,038A)":{tag:"(300A,038A)",vr:"FL",vm:"1",name:"IsocenterToRangeModulatorDistance"},"(300A,0390)":{tag:"(300A,0390)",vr:"SH",vm:"1",name:"ScanSpotTuneID"},"(300A,0392)":{tag:"(300A,0392)",vr:"IS",vm:"1",name:"NumberOfScanSpotPositions"},"(300A,0394)":{tag:"(300A,0394)",vr:"FL",vm:"1-n",name:"ScanSpotPositionMap"},"(300A,0396)":{tag:"(300A,0396)",vr:"FL",vm:"1-n",name:"ScanSpotMetersetWeights"},"(300A,0398)":{tag:"(300A,0398)",vr:"FL",vm:"2",name:"ScanningSpotSize"},"(300A,039A)":{tag:"(300A,039A)",vr:"IS",vm:"1",name:"NumberOfPaintings"},"(300A,03A0)":{tag:"(300A,03A0)",vr:"SQ",vm:"1",name:"IonToleranceTableSequence"},"(300A,03A2)":{tag:"(300A,03A2)",vr:"SQ",vm:"1",name:"IonBeamSequence"},"(300A,03A4)":{tag:"(300A,03A4)",vr:"SQ",vm:"1",name:"IonBeamLimitingDeviceSequence"},"(300A,03A6)":{tag:"(300A,03A6)",vr:"SQ",vm:"1",name:"IonBlockSequence"},"(300A,03A8)":{tag:"(300A,03A8)",vr:"SQ",vm:"1",name:"IonControlPointSequence"},"(300A,03AA)":{tag:"(300A,03AA)",vr:"SQ",vm:"1",name:"IonWedgeSequence"},"(300A,03AC)":{tag:"(300A,03AC)",vr:"SQ",vm:"1",name:"IonWedgePositionSequence"},"(300A,0401)":{tag:"(300A,0401)",vr:"SQ",vm:"1",name:"ReferencedSetupImageSequence"},"(300A,0402)":{tag:"(300A,0402)",vr:"ST",vm:"1",name:"SetupImageComment"},"(300A,0410)":{tag:"(300A,0410)",vr:"SQ",vm:"1",name:"MotionSynchronizationSequence"},"(300A,0412)":{tag:"(300A,0412)",vr:"FL",vm:"3",name:"ControlPointOrientation"},"(300A,0420)":{tag:"(300A,0420)",vr:"SQ",vm:"1",name:"GeneralAccessorySequence"},"(300A,0421)":{tag:"(300A,0421)",vr:"SH",vm:"1",name:"GeneralAccessoryID"},"(300A,0422)":{tag:"(300A,0422)",vr:"ST",vm:"1",name:"GeneralAccessoryDescription"},"(300A,0423)":{tag:"(300A,0423)",vr:"CS",vm:"1",name:"GeneralAccessoryType"},"(300A,0424)":{tag:"(300A,0424)",vr:"IS",vm:"1",name:"GeneralAccessoryNumber"},"(300A,0431)":{tag:"(300A,0431)",vr:"SQ",vm:"1",name:"ApplicatorGeometrySequence"},"(300A,0432)":{tag:"(300A,0432)",vr:"CS",vm:"1",name:"ApplicatorApertureShape"},"(300A,0433)":{tag:"(300A,0433)",vr:"FL",vm:"1",name:"ApplicatorOpening"},"(300A,0434)":{tag:"(300A,0434)",vr:"FL",vm:"1",name:"ApplicatorOpeningX"},"(300A,0435)":{tag:"(300A,0435)",vr:"FL",vm:"1",name:"ApplicatorOpeningY"},"(300A,0436)":{tag:"(300A,0436)",vr:"FL",vm:"1",name:"SourceToApplicatorMountingPositionDistance"},"(300C,0002)":{tag:"(300C,0002)",vr:"SQ",vm:"1",name:"ReferencedRTPlanSequence"},"(300C,0004)":{tag:"(300C,0004)",vr:"SQ",vm:"1",name:"ReferencedBeamSequence"},"(300C,0006)":{tag:"(300C,0006)",vr:"IS",vm:"1",name:"ReferencedBeamNumber"},"(300C,0007)":{tag:"(300C,0007)",vr:"IS",vm:"1",name:"ReferencedReferenceImageNumber"},"(300C,0008)":{tag:"(300C,0008)",vr:"DS",vm:"1",name:"StartCumulativeMetersetWeight"},"(300C,0009)":{tag:"(300C,0009)",vr:"DS",vm:"1",name:"EndCumulativeMetersetWeight"},"(300C,000A)":{tag:"(300C,000A)",vr:"SQ",vm:"1",name:"ReferencedBrachyApplicationSetupSequence"},"(300C,000C)":{tag:"(300C,000C)",vr:"IS",vm:"1",name:"ReferencedBrachyApplicationSetupNumber"},"(300C,000E)":{tag:"(300C,000E)",vr:"IS",vm:"1",name:"ReferencedSourceNumber"},"(300C,0020)":{tag:"(300C,0020)",vr:"SQ",vm:"1",name:"ReferencedFractionGroupSequence"},"(300C,0022)":{tag:"(300C,0022)",vr:"IS",vm:"1",name:"ReferencedFractionGroupNumber"},"(300C,0040)":{tag:"(300C,0040)",vr:"SQ",vm:"1",name:"ReferencedVerificationImageSequence"},"(300C,0042)":{tag:"(300C,0042)",vr:"SQ",vm:"1",name:"ReferencedReferenceImageSequence"},"(300C,0050)":{tag:"(300C,0050)",vr:"SQ",vm:"1",name:"ReferencedDoseReferenceSequence"},"(300C,0051)":{tag:"(300C,0051)",vr:"IS",vm:"1",name:"ReferencedDoseReferenceNumber"},"(300C,0055)":{tag:"(300C,0055)",vr:"SQ",vm:"1",name:"BrachyReferencedDoseReferenceSequence"},"(300C,0060)":{tag:"(300C,0060)",vr:"SQ",vm:"1",name:"ReferencedStructureSetSequence"},"(300C,006A)":{tag:"(300C,006A)",vr:"IS",vm:"1",name:"ReferencedPatientSetupNumber"},"(300C,0080)":{tag:"(300C,0080)",vr:"SQ",vm:"1",name:"ReferencedDoseSequence"},"(300C,00A0)":{tag:"(300C,00A0)",vr:"IS",vm:"1",name:"ReferencedToleranceTableNumber"},"(300C,00B0)":{tag:"(300C,00B0)",vr:"SQ",vm:"1",name:"ReferencedBolusSequence"},"(300C,00C0)":{tag:"(300C,00C0)",vr:"IS",vm:"1",name:"ReferencedWedgeNumber"},"(300C,00D0)":{tag:"(300C,00D0)",vr:"IS",vm:"1",name:"ReferencedCompensatorNumber"},"(300C,00E0)":{tag:"(300C,00E0)",vr:"IS",vm:"1",name:"ReferencedBlockNumber"},"(300C,00F0)":{tag:"(300C,00F0)",vr:"IS",vm:"1",name:"ReferencedControlPointIndex"},"(300C,00F2)":{tag:"(300C,00F2)",vr:"SQ",vm:"1",name:"ReferencedControlPointSequence"},"(300C,00F4)":{tag:"(300C,00F4)",vr:"IS",vm:"1",name:"ReferencedStartControlPointIndex"},"(300C,00F6)":{tag:"(300C,00F6)",vr:"IS",vm:"1",name:"ReferencedStopControlPointIndex"},"(300C,0100)":{tag:"(300C,0100)",vr:"IS",vm:"1",name:"ReferencedRangeShifterNumber"},"(300C,0102)":{tag:"(300C,0102)",vr:"IS",vm:"1",name:"ReferencedLateralSpreadingDeviceNumber"},"(300C,0104)":{tag:"(300C,0104)",vr:"IS",vm:"1",name:"ReferencedRangeModulatorNumber"},"(300E,0002)":{tag:"(300E,0002)",vr:"CS",vm:"1",name:"ApprovalStatus"},"(300E,0004)":{tag:"(300E,0004)",vr:"DA",vm:"1",name:"ReviewDate"},"(300E,0005)":{tag:"(300E,0005)",vr:"TM",vm:"1",name:"ReviewTime"},"(300E,0008)":{tag:"(300E,0008)",vr:"PN",vm:"1",name:"ReviewerName"},"(4000,0010)":{tag:"(4000,0010)",vr:"LT",vm:"1",name:"Arbitrary"},"(4000,4000)":{tag:"(4000,4000)",vr:"LT",vm:"1",name:"TextComments"},"(4008,0040)":{tag:"(4008,0040)",vr:"SH",vm:"1",name:"ResultsID"},"(4008,0042)":{tag:"(4008,0042)",vr:"LO",vm:"1",name:"ResultsIDIssuer"},"(4008,0050)":{tag:"(4008,0050)",vr:"SQ",vm:"1",name:"ReferencedInterpretationSequence"},"(4008,00FF)":{tag:"(4008,00FF)",vr:"CS",vm:"1",name:"ReportProductionStatusTrial"},"(4008,0100)":{tag:"(4008,0100)",vr:"DA",vm:"1",name:"InterpretationRecordedDate"},"(4008,0101)":{tag:"(4008,0101)",vr:"TM",vm:"1",name:"InterpretationRecordedTime"},"(4008,0102)":{tag:"(4008,0102)",vr:"PN",vm:"1",name:"InterpretationRecorder"},"(4008,0103)":{tag:"(4008,0103)",vr:"LO",vm:"1",name:"ReferenceToRecordedSound"},"(4008,0108)":{tag:"(4008,0108)",vr:"DA",vm:"1",name:"InterpretationTranscriptionDate"},"(4008,0109)":{tag:"(4008,0109)",vr:"TM",vm:"1",name:"InterpretationTranscriptionTime"},"(4008,010A)":{tag:"(4008,010A)",vr:"PN",vm:"1",name:"InterpretationTranscriber"},"(4008,010B)":{tag:"(4008,010B)",vr:"ST",vm:"1",name:"InterpretationText"},"(4008,010C)":{tag:"(4008,010C)",vr:"PN",vm:"1",name:"InterpretationAuthor"},"(4008,0111)":{tag:"(4008,0111)",vr:"SQ",vm:"1",name:"InterpretationApproverSequence"},"(4008,0112)":{tag:"(4008,0112)",vr:"DA",vm:"1",name:"InterpretationApprovalDate"},"(4008,0113)":{tag:"(4008,0113)",vr:"TM",vm:"1",name:"InterpretationApprovalTime"},"(4008,0114)":{tag:"(4008,0114)",vr:"PN",vm:"1",name:"PhysicianApprovingInterpretation"},"(4008,0115)":{tag:"(4008,0115)",vr:"LT",vm:"1",name:"InterpretationDiagnosisDescription"},"(4008,0117)":{tag:"(4008,0117)",vr:"SQ",vm:"1",name:"InterpretationDiagnosisCodeSequence"},"(4008,0118)":{tag:"(4008,0118)",vr:"SQ",vm:"1",name:"ResultsDistributionListSequence"},"(4008,0119)":{tag:"(4008,0119)",vr:"PN",vm:"1",name:"DistributionName"},"(4008,011A)":{tag:"(4008,011A)",vr:"LO",vm:"1",name:"DistributionAddress"},"(4008,0200)":{tag:"(4008,0200)",vr:"SH",vm:"1",name:"InterpretationID"},"(4008,0202)":{tag:"(4008,0202)",vr:"LO",vm:"1",name:"InterpretationIDIssuer"},"(4008,0210)":{tag:"(4008,0210)",vr:"CS",vm:"1",name:"InterpretationTypeID"},"(4008,0212)":{tag:"(4008,0212)",vr:"CS",vm:"1",name:"InterpretationStatusID"},"(4008,0300)":{tag:"(4008,0300)",vr:"ST",vm:"1",name:"Impressions"},"(4008,4000)":{tag:"(4008,4000)",vr:"ST",vm:"1 ",name:"ResultsComments"},"(4010,0001)":{tag:"(4010,0001)",vr:"CS",vm:"1",name:"LowEnergyDetectors"},"(4010,0002)":{tag:"(4010,0002)",vr:"CS",vm:"1",name:"HighEnergyDetectors"},"(4010,0004)":{tag:"(4010,0004)",vr:"SQ",vm:"1",name:"DetectorGeometrySequence"},"(4010,1001)":{tag:"(4010,1001)",vr:"SQ",vm:"1",name:"ThreatROIVoxelSequence"},"(4010,1004)":{tag:"(4010,1004)",vr:"FL",vm:"3",name:"ThreatROIBase"},"(4010,1005)":{tag:"(4010,1005)",vr:"FL",vm:"3",name:"ThreatROIExtents"},"(4010,1006)":{tag:"(4010,1006)",vr:"OB",vm:"1",name:"ThreatROIBitmap"},"(4010,1007)":{tag:"(4010,1007)",vr:"SH",vm:"1",name:"RouteSegmentID"},"(4010,1008)":{tag:"(4010,1008)",vr:"CS",vm:"1",name:"GantryType"},"(4010,1009)":{tag:"(4010,1009)",vr:"CS",vm:"1",name:"OOIOwnerType"},"(4010,100A)":{tag:"(4010,100A)",vr:"SQ",vm:"1",name:"RouteSegmentSequence"},"(4010,1010)":{tag:"(4010,1010)",vr:"US",vm:"1",name:"PotentialThreatObjectID"},"(4010,1011)":{tag:"(4010,1011)",vr:"SQ",vm:"1",name:"ThreatSequence"},"(4010,1012)":{tag:"(4010,1012)",vr:"CS",vm:"1",name:"ThreatCategory"},"(4010,1013)":{tag:"(4010,1013)",vr:"LT",vm:"1",name:"ThreatCategoryDescription"},"(4010,1014)":{tag:"(4010,1014)",vr:"CS",vm:"1",name:"ATDAbilityAssessment"},"(4010,1015)":{tag:"(4010,1015)",vr:"CS",vm:"1",name:"ATDAssessmentFlag"},"(4010,1016)":{tag:"(4010,1016)",vr:"FL",vm:"1",name:"ATDAssessmentProbability"},"(4010,1017)":{tag:"(4010,1017)",vr:"FL",vm:"1",name:"Mass"},"(4010,1018)":{tag:"(4010,1018)",vr:"FL",vm:"1",name:"Density"},"(4010,1019)":{tag:"(4010,1019)",vr:"FL",vm:"1",name:"ZEffective"},"(4010,101A)":{tag:"(4010,101A)",vr:"SH",vm:"1",name:"BoardingPassID"},"(4010,101B)":{tag:"(4010,101B)",vr:"FL",vm:"3",name:"CenterOfMass"},"(4010,101C)":{tag:"(4010,101C)",vr:"FL",vm:"3",name:"CenterOfPTO"},"(4010,101D)":{tag:"(4010,101D)",vr:"FL",vm:"6-n",name:"BoundingPolygon"},"(4010,101E)":{tag:"(4010,101E)",vr:"SH",vm:"1",name:"RouteSegmentStartLocationID"},"(4010,101F)":{tag:"(4010,101F)",vr:"SH",vm:"1",name:"RouteSegmentEndLocationID"},"(4010,1020)":{tag:"(4010,1020)",vr:"CS",vm:"1",name:"RouteSegmentLocationIDType"},"(4010,1021)":{tag:"(4010,1021)",vr:"CS",vm:"1-n",name:"AbortReason"},"(4010,1023)":{tag:"(4010,1023)",vr:"FL",vm:"1",name:"VolumeOfPTO"},"(4010,1024)":{tag:"(4010,1024)",vr:"CS",vm:"1",name:"AbortFlag"},"(4010,1025)":{tag:"(4010,1025)",vr:"DT",vm:"1",name:"RouteSegmentStartTime"},"(4010,1026)":{tag:"(4010,1026)",vr:"DT",vm:"1",name:"RouteSegmentEndTime"},"(4010,1027)":{tag:"(4010,1027)",vr:"CS",vm:"1",name:"TDRType"},"(4010,1028)":{tag:"(4010,1028)",vr:"CS",vm:"1",name:"InternationalRouteSegment"},"(4010,1029)":{tag:"(4010,1029)",vr:"LO",vm:"1-n",name:"ThreatDetectionAlgorithmandVersion"},"(4010,102A)":{tag:"(4010,102A)",vr:"SH",vm:"1",name:"AssignedLocation"},"(4010,102B)":{tag:"(4010,102B)",vr:"DT",vm:"1",name:"AlarmDecisionTime"},"(4010,1031)":{tag:"(4010,1031)",vr:"CS",vm:"1",name:"AlarmDecision"},"(4010,1033)":{tag:"(4010,1033)",vr:"US",vm:"1",name:"NumberOfTotalObjects"},"(4010,1034)":{tag:"(4010,1034)",vr:"US",vm:"1",name:"NumberOfAlarmObjects"},"(4010,1037)":{tag:"(4010,1037)",vr:"SQ",vm:"1",name:"PTORepresentationSequence"},"(4010,1038)":{tag:"(4010,1038)",vr:"SQ",vm:"1",name:"ATDAssessmentSequence"},"(4010,1039)":{tag:"(4010,1039)",vr:"CS",vm:"1",name:"TIPType"},"(4010,103A)":{tag:"(4010,103A)",vr:"CS",vm:"1",name:"DICOSVersion"},"(4010,1041)":{tag:"(4010,1041)",vr:"DT",vm:"1",name:"OOIOwnerCreationTime"},"(4010,1042)":{tag:"(4010,1042)",vr:"CS",vm:"1",name:"OOIType"},"(4010,1043)":{tag:"(4010,1043)",vr:"FL",vm:"3",name:"OOISize"},"(4010,1044)":{tag:"(4010,1044)",vr:"CS",vm:"1",name:"AcquisitionStatus"},"(4010,1045)":{tag:"(4010,1045)",vr:"SQ",vm:"1",name:"BasisMaterialsCodeSequence"},"(4010,1046)":{tag:"(4010,1046)",vr:"CS",vm:"1",name:"PhantomType"},"(4010,1047)":{tag:"(4010,1047)",vr:"SQ",vm:"1",name:"OOIOwnerSequence"},"(4010,1048)":{tag:"(4010,1048)",vr:"CS",vm:"1",name:"ScanType"},"(4010,1051)":{tag:"(4010,1051)",vr:"LO",vm:"1",name:"ItineraryID"},"(4010,1052)":{tag:"(4010,1052)",vr:"SH",vm:"1",name:"ItineraryIDType"},"(4010,1053)":{tag:"(4010,1053)",vr:"LO",vm:"1",name:"ItineraryIDAssigningAuthority"},"(4010,1054)":{tag:"(4010,1054)",vr:"SH",vm:"1",name:"RouteID"},"(4010,1055)":{tag:"(4010,1055)",vr:"SH",vm:"1",name:"RouteIDAssigningAuthority"},"(4010,1056)":{tag:"(4010,1056)",vr:"CS",vm:"1",name:"InboundArrivalType"},"(4010,1058)":{tag:"(4010,1058)",vr:"SH",vm:"1",name:"CarrierID"},"(4010,1059)":{tag:"(4010,1059)",vr:"CS",vm:"1",name:"CarrierIDAssigningAuthority"},"(4010,1060)":{tag:"(4010,1060)",vr:"FL",vm:"3",name:"SourceOrientation"},"(4010,1061)":{tag:"(4010,1061)",vr:"FL",vm:"3",name:"SourcePosition"},"(4010,1062)":{tag:"(4010,1062)",vr:"FL",vm:"1",name:"BeltHeight"},"(4010,1064)":{tag:"(4010,1064)",vr:"SQ",vm:"1",name:"AlgorithmRoutingCodeSequence"},"(4010,1067)":{tag:"(4010,1067)",vr:"CS",vm:"1",name:"TransportClassification"},"(4010,1068)":{tag:"(4010,1068)",vr:"LT",vm:"1",name:"OOITypeDescriptor"},"(4010,1069)":{tag:"(4010,1069)",vr:"FL",vm:"1",name:"TotalProcessingTime"},"(4010,106C)":{tag:"(4010,106C)",vr:"OB",vm:"1",name:"DetectorCalibrationData"},"(4FFE,0001)":{tag:"(4FFE,0001)",vr:"SQ",vm:"1",name:"MACParametersSequence"},"(50xx,0005)":{tag:"(50xx,0005)",vr:"US",vm:"1",name:"CurveDimensions"},"(50xx,0010)":{tag:"(50xx,0010)",vr:"US",vm:"1",name:"NumberOfPoints"},"(50xx,0020)":{tag:"(50xx,0020)",vr:"CS",vm:"1",name:"TypeOfData"},"(50xx,0022)":{tag:"(50xx,0022)",vr:"LO",vm:"1",name:"CurveDescription"},"(50xx,0030)":{tag:"(50xx,0030)",vr:"SH",vm:"1-n",name:"AxisUnits"},"(50xx,0040)":{tag:"(50xx,0040)",vr:"SH",vm:"1-n",name:"AxisLabels"},"(50xx,0103)":{tag:"(50xx,0103)",vr:"US",vm:"1",name:"DataValueRepresentation"},"(50xx,0104)":{tag:"(50xx,0104)",vr:"US",vm:"1-n",name:"MinimumCoordinateValue"},"(50xx,0105)":{tag:"(50xx,0105)",vr:"US",vm:"1-n",name:"MaximumCoordinateValue"},"(50xx,0106)":{tag:"(50xx,0106)",vr:"SH",vm:"1-n",name:"CurveRange"},"(50xx,0110)":{tag:"(50xx,0110)",vr:"US",vm:"1-n",name:"CurveDataDescriptor"},"(50xx,0112)":{tag:"(50xx,0112)",vr:"US",vm:"1-n",name:"CoordinateStartValue"},"(50xx,0114)":{tag:"(50xx,0114)",vr:"US",vm:"1-n",name:"CoordinateStepValue"},"(50xx,1001)":{tag:"(50xx,1001)",vr:"CS",vm:"1",name:"CurveActivationLayer"},"(50xx,2000)":{tag:"(50xx,2000)",vr:"US",vm:"1",name:"AudioType"},"(50xx,2002)":{tag:"(50xx,2002)",vr:"US",vm:"1",name:"AudioSampleFormat"},"(50xx,2004)":{tag:"(50xx,2004)",vr:"US",vm:"1",name:"NumberOfChannels"},"(50xx,2006)":{tag:"(50xx,2006)",vr:"UL",vm:"1",name:"NumberOfSamples"},"(50xx,2008)":{tag:"(50xx,2008)",vr:"UL",vm:"1",name:"SampleRate"},"(50xx,200A)":{tag:"(50xx,200A)",vr:"UL",vm:"1",name:"TotalTime"},"(50xx,200C)":{tag:"(50xx,200C)",vr:"OW|OB",vm:"1",name:"AudioSampleData"},"(50xx,200E)":{tag:"(50xx,200E)",vr:"LT",vm:"1 ",name:"AudioComments"},"(50xx,2500)":{tag:"(50xx,2500)",vr:"LO",vm:"1",name:"CurveLabel"},"(50xx,2600)":{tag:"(50xx,2600)",vr:"SQ",vm:"1",name:"CurveReferencedOverlaySequence"},"(50xx,2610)":{tag:"(50xx,2610)",vr:"US",vm:"1",name:"CurveReferencedOverlayGroup"},"(50xx,3000)":{tag:"(50xx,3000)",vr:"OW|OB",vm:"1",name:"CurveData"},"(5200,9229)":{tag:"(5200,9229)",vr:"SQ",vm:"1",name:"SharedFunctionalGroupsSequence"},"(5200,9230)":{tag:"(5200,9230)",vr:"SQ",vm:"1",name:"PerFrameFunctionalGroupsSequence"},"(5400,0100)":{tag:"(5400,0100)",vr:"SQ",vm:"1",name:"WaveformSequence"},"(5400,0110)":{tag:"(5400,0110)",vr:"OB|OW",vm:"1",name:"ChannelMinimumValue"},"(5400,0112)":{tag:"(5400,0112)",vr:"OB|OW",vm:"1",name:"ChannelMaximumValue"},"(5400,1004)":{tag:"(5400,1004)",vr:"US",vm:"1",name:"WaveformBitsAllocated"},"(5400,1006)":{tag:"(5400,1006)",vr:"CS",vm:"1",name:"WaveformSampleInterpretation"},"(5400,100A)":{tag:"(5400,100A)",vr:"OB|OW",vm:"1",name:"WaveformPaddingValue"},"(5400,1010)":{tag:"(5400,1010)",vr:"OB|OW",vm:"1",name:"WaveformData"},"(5600,0010)":{tag:"(5600,0010)",vr:"OF",vm:"1",name:"FirstOrderPhaseCorrectionAngle"},"(5600,0020)":{tag:"(5600,0020)",vr:"OF",vm:"1",name:"SpectroscopyData"},"(60xx,0010)":{tag:"(60xx,0010)",vr:"US",vm:"1",name:"OverlayRows"},"(60xx,0011)":{tag:"(60xx,0011)",vr:"US",vm:"1",name:"OverlayColumns"},"(60xx,0012)":{tag:"(60xx,0012)",vr:"US",vm:"1",name:"OverlayPlanes"},"(60xx,0015)":{tag:"(60xx,0015)",vr:"IS",vm:"1",name:"NumberOfFramesInOverlay"},"(60xx,0022)":{tag:"(60xx,0022)",vr:"LO",vm:"1",name:"OverlayDescription"},"(60xx,0040)":{tag:"(60xx,0040)",vr:"CS",vm:"1",name:"OverlayType"},"(60xx,0045)":{tag:"(60xx,0045)",vr:"LO",vm:"1",name:"OverlaySubtype"},"(60xx,0050)":{tag:"(60xx,0050)",vr:"SS",vm:"2",name:"OverlayOrigin"},"(60xx,0051)":{tag:"(60xx,0051)",vr:"US",vm:"1",name:"ImageFrameOrigin"},"(60xx,0052)":{tag:"(60xx,0052)",vr:"US",vm:"1",name:"OverlayPlaneOrigin"},"(60xx,0060)":{tag:"(60xx,0060)",vr:"CS",vm:"1",name:"OverlayCompressionCode"},"(60xx,0061)":{tag:"(60xx,0061)",vr:"SH",vm:"1",name:"OverlayCompressionOriginator"},"(60xx,0062)":{tag:"(60xx,0062)",vr:"SH",vm:"1",name:"OverlayCompressionLabel"},"(60xx,0063)":{tag:"(60xx,0063)",vr:"CS",vm:"1",name:"OverlayCompressionDescription"},"(60xx,0066)":{tag:"(60xx,0066)",vr:"AT",vm:"1-n",name:"OverlayCompressionStepPointers"},"(60xx,0068)":{tag:"(60xx,0068)",vr:"US",vm:"1",name:"OverlayRepeatInterval"},"(60xx,0069)":{tag:"(60xx,0069)",vr:"US",vm:"1",name:"OverlayBitsGrouped"},"(60xx,0100)":{tag:"(60xx,0100)",vr:"US",vm:"1",name:"OverlayBitsAllocated"},"(60xx,0102)":{tag:"(60xx,0102)",vr:"US",vm:"1",name:"OverlayBitPosition"},"(60xx,0110)":{tag:"(60xx,0110)",vr:"CS",vm:"1",name:"OverlayFormat"},"(60xx,0200)":{tag:"(60xx,0200)",vr:"US",vm:"1",name:"OverlayLocation"},"(60xx,0800)":{tag:"(60xx,0800)",vr:"CS",vm:"1-n",name:"OverlayCodeLabel"},"(60xx,0802)":{tag:"(60xx,0802)",vr:"US",vm:"1",name:"OverlayNumberOfTables"},"(60xx,0803)":{tag:"(60xx,0803)",vr:"AT",vm:"1-n",name:"OverlayCodeTableLocation"},"(60xx,0804)":{tag:"(60xx,0804)",vr:"US",vm:"1",name:"OverlayBitsForCodeWord"},"(60xx,1001)":{tag:"(60xx,1001)",vr:"CS",vm:"1",name:"OverlayActivationLayer"},"(60xx,1100)":{tag:"(60xx,1100)",vr:"US",vm:"1",name:"OverlayDescriptorGray"},"(60xx,1101)":{tag:"(60xx,1101)",vr:"US",vm:"1",name:"OverlayDescriptorRed"},"(60xx,1102)":{tag:"(60xx,1102)",vr:"US",vm:"1",name:"OverlayDescriptorGreen"},"(60xx,1103)":{tag:"(60xx,1103)",vr:"US",vm:"1",name:"OverlayDescriptorBlue"},"(60xx,1200)":{tag:"(60xx,1200)",vr:"US",vm:"1-n",name:"OverlaysGray"},"(60xx,1201)":{tag:"(60xx,1201)",vr:"US",vm:"1-n",name:"OverlaysRed"},"(60xx,1202)":{tag:"(60xx,1202)",vr:"US",vm:"1-n",name:"OverlaysGreen"},"(60xx,1203)":{tag:"(60xx,1203)",vr:"US",vm:"1-n",name:"OverlaysBlue"},"(60xx,1301)":{tag:"(60xx,1301)",vr:"IS",vm:"1",name:"ROIArea"},"(60xx,1302)":{tag:"(60xx,1302)",vr:"DS",vm:"1",name:"ROIMean"},"(60xx,1303)":{tag:"(60xx,1303)",vr:"DS",vm:"1",name:"ROIStandardDeviation"},"(60xx,1500)":{tag:"(60xx,1500)",vr:"LO",vm:"1",name:"OverlayLabel"},"(60xx,3000)":{tag:"(60xx,3000)",vr:"OB|OW",vm:"1",name:"OverlayData"},"(60xx,4000)":{tag:"(60xx,4000)",vr:"LT",vm:"1",name:"OverlayComments"},"(7FE0,0010)":{tag:"(7FE0,0010)",vr:"OW|OB",vm:"1",name:"PixelData"},"(7FE0,0020)":{tag:"(7FE0,0020)",vr:"OW",vm:"1",name:"CoefficientsSDVN"},"(7FE0,0030)":{tag:"(7FE0,0030)",vr:"OW",vm:"1",name:"CoefficientsSDHN"},"(7FE0,0040)":{tag:"(7FE0,0040)",vr:"OW",vm:"1",name:"CoefficientsSDDN"},"(7Fxx,0010)":{tag:"(7Fxx,0010)",vr:"OW|OB",vm:"1",name:"VariablePixelData"},"(7Fxx,0011)":{tag:"(7Fxx,0011)",vr:"US",vm:"1",name:"VariableNextDataGroup"},"(7Fxx,0020)":{tag:"(7Fxx,0020)",vr:"OW",vm:"1",name:"VariableCoefficientsSDVN"},"(7Fxx,0030)":{tag:"(7Fxx,0030)",vr:"OW",vm:"1",name:"VariableCoefficientsSDHN"},"(7Fxx,0040)":{tag:"(7Fxx,0040)",vr:"OW",vm:"1",name:"VariableCoefficientsSDDN"},"(FFFA,FFFA)":{tag:"(FFFA,FFFA)",vr:"SQ",vm:"1",name:"DigitalSignaturesSequence"},"(FFFC,FFFC)":{tag:"(FFFC,FFFC)",vr:"OB",vm:"1",name:"DataSetTrailingPadding"},"(FFFE,E000)":{tag:"(FFFE,E000)",vr:"",vm:"1",name:"Item"},"(FFFE,E00D)":{tag:"(FFFE,E00D)",vr:"",vm:"1",name:"ItemDelimitationItem"},"(FFFE,E0DD)":{tag:"(FFFE,E0DD)",vr:"",vm:"1",name:"SequenceDelimitationItem"}};t.default={TAG_DICT:r}},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=r||{};r.lossless=r.lossless||{},r.lossless.ComponentSpec=r.lossless.ComponentSpec||n(185),r.lossless.DataStream=r.lossless.DataStream||n(42),r.lossless.Decoder=r.lossless.Decoder||n(330),r.lossless.FrameHeader=r.lossless.FrameHeader||n(190),r.lossless.HuffmanTable=r.lossless.HuffmanTable||n(186),r.lossless.QuantizationTable=r.lossless.QuantizationTable||n(187),r.lossless.ScanComponent=r.lossless.ScanComponent||n(189),r.lossless.ScanHeader=r.lossless.ScanHeader||n(188),r.lossless.Utils=r.lossless.Utils||n(68),"undefined"!==t(e)&&e.exports&&(e.exports=r)}).call(t,n(10)(e))},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=r||{};r.lossless=r.lossless||{},r.lossless.DataStream=r.lossless.DataStream||n(42),r.lossless.HuffmanTable=r.lossless.HuffmanTable||n(186),r.lossless.QuantizationTable=r.lossless.QuantizationTable||n(187),r.lossless.ScanHeader=r.lossless.ScanHeader||n(188),r.lossless.FrameHeader=r.lossless.FrameHeader||n(190),r.lossless.Utils=r.lossless.Utils||n(68),r.lossless.Decoder=r.lossless.Decoder||function(e,t){this.buffer=e,this.frame=new r.lossless.FrameHeader,this.huffTable=new r.lossless.HuffmanTable,this.quantTable=new r.lossless.QuantizationTable,this.scan=new r.lossless.ScanHeader,this.DU=r.lossless.Utils.createArray(10,4,64),this.HuffTab=r.lossless.Utils.createArray(4,2,12800),this.IDCT_Source=[],this.nBlock=[],this.acTab=r.lossless.Utils.createArray(10,1),this.dcTab=r.lossless.Utils.createArray(10,1),this.qTab=r.lossless.Utils.createArray(10,1),this.marker=0,this.markerIndex=0,this.numComp=0,this.restartInterval=0,this.selection=0,this.xDim=0,this.yDim=0,this.xLoc=0,this.yLoc=0,this.numBytes=0,this.outputData=null,this.restarting=!1,this.mask=0,void 0!==t&&(this.numBytes=t)},r.lossless.Decoder.IDCT_P=[0,5,40,16,45,2,7,42,21,56,8,61,18,47,1,4,41,23,58,13,32,24,37,10,63,17,44,3,6,43,20,57,15,34,29,48,53,26,39,9,60,19,46,22,59,12,33,31,50,55,25,36,11,62,14,35,28,49,52,27,38,30,51,54],r.lossless.Decoder.TABLE=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],r.lossless.Decoder.MAX_HUFFMAN_SUBTREE=50,r.lossless.Decoder.MSB=2147483648,r.lossless.Decoder.RESTART_MARKER_BEGIN=65488,r.lossless.Decoder.RESTART_MARKER_END=65495,r.lossless.Decoder.prototype.decompress=function(e,t,n){return this.decode(e,t,n).buffer},r.lossless.Decoder.prototype.decode=function(e,t,n,a){var i,o,s,u,l=0,c=[],d=[],f=[];if(void 0!==e&&(this.buffer=e),void 0!==a&&(this.numBytes=a),this.stream=new r.lossless.DataStream(this.buffer,t,n),this.buffer=null,this.xLoc=0,this.yLoc=0,65496!==(i=this.stream.get16()))throw new Error("Not a JPEG file");for(i=this.stream.get16();i>>4!=4092||65476===i;){switch(i){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,r.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(i>>8!=255)throw new Error("ERROR: format throw new IOException! (decode)")}i=this.stream.get16()}if(i<65472||i>65479)throw new Error("ERROR: could not handle arithmetic code!");this.frame.read(this.stream),i=this.stream.get16();do{for(;65498!==i;){switch(i){case 65476:this.huffTable.read(this.stream,this.HuffTab);break;case 65484:throw new Error("Program doesn't support arithmetic coding. (format throw new IOException)");case 65499:this.quantTable.read(this.stream,r.lossless.Decoder.TABLE);break;case 65501:this.restartInterval=this.readNumber();break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:this.readApp();break;case 65534:this.readComment();break;default:if(i>>8!=255)throw new Error("ERROR: format throw new IOException! (Parser.decode)")}i=this.stream.get16()}switch(this.precision=this.frame.precision,this.components=this.frame.components,this.numBytes||(this.numBytes=parseInt(Math.ceil(this.precision/8))),1==this.numBytes?this.mask=255:this.mask=65535,this.scan.read(this.stream),this.numComp=this.scan.numComp,this.selection=this.scan.selection,1===this.numBytes?3===this.numComp?(this.getter=this.getValueRGB,this.setter=this.setValueRGB,this.output=this.outputRGB):(this.getter=this.getValue8,this.setter=this.setValue8,this.output=this.outputSingle):(this.getter=this.getValue16,this.setter=this.setValue16,this.output=this.outputSingle),this.selection){case 2:this.selector=this.select2;break;case 3:this.selector=this.select3;break;case 4:this.selector=this.select4;break;case 5:this.selector=this.select5;break;case 6:this.selector=this.select6;break;case 7:this.selector=this.select7;break;default:this.selector=this.select1}for(this.scanComps=this.scan.components,this.quantTables=this.quantTable.quantTables,o=0;o<this.numComp;o+=1)s=this.scanComps[o].scanCompSel,this.qTab[o]=this.quantTables[this.components[s].quantTableSel],this.nBlock[o]=this.components[s].vSamp*this.components[s].hSamp,this.dcTab[o]=this.HuffTab[this.scanComps[o].dcTabSel][0],this.acTab[o]=this.HuffTab[this.scanComps[o].acTabSel][1];for(this.xDim=this.frame.dimX,this.yDim=this.frame.dimY,1==this.numBytes?this.outputData=new Uint8Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)):this.outputData=new Uint16Array(new ArrayBuffer(this.xDim*this.yDim*this.numBytes*this.numComp)),l+=1;;){for(d[0]=0,f[0]=0,o=0;o<10;o+=1)c[o]=1<<this.precision-1;if(0===this.restartInterval){for(i=this.decodeUnit(c,d,f);0===i&&this.xLoc<this.xDim&&this.yLoc<this.yDim;)this.output(c),i=this.decodeUnit(c,d,f);break}for(u=0;u<this.restartInterval&&(this.restarting=0==u,i=this.decodeUnit(c,d,f),this.output(c),0===i);u+=1);if(0===i&&(0!==this.markerIndex?(i=65280|this.marker,this.markerIndex=0):i=this.stream.get16()),!(i>=r.lossless.Decoder.RESTART_MARKER_BEGIN&&i<=r.lossless.Decoder.RESTART_MARKER_END))break}65500===i&&1===l&&(this.readNumber(),i=this.stream.get16())}while(65497!==i&&this.xLoc<this.xDim&&this.yLoc<this.yDim&&0===l);return this.outputData},r.lossless.Decoder.prototype.decodeUnit=function(e,t,n){return 1==this.numComp?this.decodeSingle(e,t,n):3==this.numComp?this.decodeRGB(e,t,n):-1},r.lossless.Decoder.prototype.select1=function(e){return this.getPreviousX(e)},r.lossless.Decoder.prototype.select2=function(e){return this.getPreviousY(e)},r.lossless.Decoder.prototype.select3=function(e){return this.getPreviousXY(e)},r.lossless.Decoder.prototype.select4=function(e){return this.getPreviousX(e)+this.getPreviousY(e)-this.getPreviousXY(e)},r.lossless.Decoder.prototype.select5=function(e){return this.getPreviousX(e)+(this.getPreviousY(e)-this.getPreviousXY(e)>>1)},r.lossless.Decoder.prototype.select6=function(e){return this.getPreviousY(e)+(this.getPreviousX(e)-this.getPreviousXY(e)>>1)},r.lossless.Decoder.prototype.select7=function(e){return(this.getPreviousX(e)+this.getPreviousY(e))/2},r.lossless.Decoder.prototype.decodeRGB=function(e,t,n){var a,i,o,s,u,l,c,d;for(e[0]=this.selector(0),e[1]=this.selector(1),e[2]=this.selector(2),u=0;u<this.numComp;u+=1)for(s=this.qTab[u],i=this.acTab[u],o=this.dcTab[u],l=0;l<this.nBlock[u];l+=1){for(c=0;c<this.IDCT_Source.length;c+=1)this.IDCT_Source[c]=0;if((a=this.getHuffmanValue(o,t,n))>=65280)return a;for(e[u]=this.IDCT_Source[0]=e[u]+this.getn(n,a,t,n),this.IDCT_Source[0]*=s[0],d=1;d<64;d+=1){if((a=this.getHuffmanValue(i,t,n))>=65280)return a;if(d+=a>>4,0==(15&a)){if(a>>4==0)break}else this.IDCT_Source[r.lossless.Decoder.IDCT_P[d]]=this.getn(n,15&a,t,n)*s[d]}}return 0},r.lossless.Decoder.prototype.decodeSingle=function(e,t,n){var a,i,o,s;for(this.restarting?(this.restarting=!1,e[0]=1<<this.frame.precision-1):e[0]=this.selector(),i=0;i<this.nBlock[0];i+=1){if((a=this.getHuffmanValue(this.dcTab[0],t,n))>=65280)return a;if(o=this.getn(e,a,t,n),(s=o>>8)>=r.lossless.Decoder.RESTART_MARKER_BEGIN&&s<=r.lossless.Decoder.RESTART_MARKER_END)return s;e[0]+=o}return 0},r.lossless.Decoder.prototype.getHuffmanValue=function(e,t,n){var a,i,o;if(o=65535,n[0]<8?(t[0]<<=8,i=this.stream.get8(),255===i&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=i):n[0]-=8,0!=((a=e[t[0]>>n[0]])&r.lossless.Decoder.MSB)){if(0!==this.markerIndex)return this.markerIndex=0,65280|this.marker;t[0]&=o>>16-n[0],t[0]<<=8,i=this.stream.get8(),255===i&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),t[0]|=i,a=e[256*(255&a)+(t[0]>>n[0])],n[0]+=8}if(n[0]+=8-(a>>8),n[0]<0)throw new Error("index="+n[0]+" temp="+t[0]+" code="+a+" in HuffmanValue()");return n[0]<this.markerIndex?(this.markerIndex=0,65280|this.marker):(t[0]&=o>>16-n[0],255&a)},r.lossless.Decoder.prototype.getn=function(e,t,n,r){var a,i,o,s,u;if(i=1,o=-1,s=65535,0===t)return 0;if(16===t)return e[0]>=0?-32768:32768;if(r[0]-=t,r[0]>=0){if(r[0]<this.markerIndex&&!this.isLastPixel())return this.markerIndex=0,(65280|this.marker)<<8;a=n[0]>>r[0],n[0]&=s>>16-r[0]}else{if(n[0]<<=8,u=this.stream.get8(),255===u&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),n[0]|=u,r[0]+=8,r[0]<0){if(0!==this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;n[0]<<=8,u=this.stream.get8(),255===u&&(this.marker=this.stream.get8(),0!==this.marker&&(this.markerIndex=9)),n[0]|=u,r[0]+=8}if(r[0]<0)throw new Error("index="+r[0]+" in getn()");if(r[0]<this.markerIndex)return this.markerIndex=0,(65280|this.marker)<<8;a=n[0]>>r[0],n[0]&=s>>16-r[0]}return a<i<<t-1&&(a+=1+(o<<t)),a},r.lossless.Decoder.prototype.getPreviousX=function(e){return this.xLoc>0?this.getter(this.yLoc*this.xDim+this.xLoc-1,e):this.yLoc>0?this.getPreviousY(e):1<<this.frame.precision-1},r.lossless.Decoder.prototype.getPreviousXY=function(e){return this.xLoc>0&&this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc-1,e):this.getPreviousY(e)},r.lossless.Decoder.prototype.getPreviousY=function(e){return this.yLoc>0?this.getter((this.yLoc-1)*this.xDim+this.xLoc,e):this.getPreviousX(e)},r.lossless.Decoder.prototype.isLastPixel=function(){return this.xLoc===this.xDim-1&&this.yLoc===this.yDim-1},r.lossless.Decoder.prototype.outputSingle=function(e){this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(this.yLoc*this.xDim+this.xLoc,this.mask&e[0]),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},r.lossless.Decoder.prototype.outputRGB=function(e){var t=this.yLoc*this.xDim+this.xLoc;this.xLoc<this.xDim&&this.yLoc<this.yDim&&(this.setter(t,e[0],0),this.setter(t,e[1],1),this.setter(t,e[2],2),this.xLoc+=1,this.xLoc>=this.xDim&&(this.yLoc+=1,this.xLoc=0))},r.lossless.Decoder.prototype.setValue8=function(e,t){this.outputData[e]=t},r.lossless.Decoder.prototype.getValue8=function(e){return this.outputData[e]},function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()?(r.lossless.Decoder.prototype.setValue16=r.lossless.Decoder.prototype.setValue8,r.lossless.Decoder.prototype.getValue16=r.lossless.Decoder.prototype.getValue8):(r.lossless.Decoder.prototype.setValue16=function(e,t){this.outputData[e]=(255&t)<<8|t>>8&255},r.lossless.Decoder.prototype.getValue16=function(e){var t=this.outputData[e];return(255&t)<<8|t>>8&255}),r.lossless.Decoder.prototype.setValueRGB=function(e,t,n){this.outputData[3*e+n]=t},r.lossless.Decoder.prototype.getValueRGB=function(e,t){return this.outputData[3*e+t]},r.lossless.Decoder.prototype.readApp=function(){var e=0,t=this.stream.get16();for(e+=2;e<t;)this.stream.get8(),e+=1;return t},r.lossless.Decoder.prototype.readComment=function(){var e,t="",n=0;for(e=this.stream.get16(),n+=2;n<e;)t+=this.stream.get8(),n+=1;return t},r.lossless.Decoder.prototype.readNumber=function(){if(4!==this.stream.get16())throw new Error("ERROR: Define number format throw new IOException [Ld!=4]");return this.stream.get16()},"undefined"!==t(e)&&e.exports&&(e.exports=r.lossless.Decoder)}).call(t,n(10)(e))},function(e,t,n){"use strict";t.encode=n(192).encode,t.decode=n(196).decode,t.Encoder=n(342).Encoder,t.Decoder=n(343).Decoder,t.createCodec=n(344).createCodec,t.codec=n(345).codec},function(e,t,n){"use strict";(function(t){function n(e){return e&&e.isBuffer&&e}e.exports=n(void 0!==t&&t)||n((void 0).Buffer)||n("undefined"!=typeof window&&window.Buffer)||(void 0).Buffer}).call(t,n(8).Buffer)},function(e,t,n){"use strict";function r(e){return new Array(e)}function a(e){if(!i.isBuffer(e)&&i.isView(e))e=i.Uint8Array.from(e);else if(i.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return i.from.call(o,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(e)}var i=n(17),o=e.exports=r(0);o.alloc=r,o.concat=i.concat,o.from=a},function(e,t,n){"use strict";function r(e){return new o(e)}function a(e){if(!i.isBuffer(e)&&i.isView(e))e=i.Uint8Array.from(e);else if(i.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return i.from.call(s,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return o.from&&1!==o.from.length?o.from(e):new o(e)}var i=n(17),o=i.global,s=e.exports=i.hasBuffer?r(0):[];s.alloc=i.hasBuffer&&o.alloc||r,s.concat=i.concat,s.from=a},function(e,t,n){"use strict";function r(e){return new Uint8Array(e)}function a(e){if(i.isView(e)){var t=e.byteOffset,n=e.byteLength;e=e.buffer,e.byteLength!==n&&(e.slice?e=e.slice(t,t+n):(e=new Uint8Array(e),e.byteLength!==n&&(e=Array.prototype.slice.call(e,t,t+n))))}else{if("string"==typeof e)return i.from.call(o,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(e)}var i=n(17),o=e.exports=i.hasArrayBuffer?r(0):[];o.alloc=r,o.concat=i.concat,o.from=a},function(e,t,n){"use strict";function r(e,t){for(var n=this,r=t||(t|=0),a=e.length,i=0,o=0;o<a;)i=e.charCodeAt(o++),i<128?n[r++]=i:i<2048?(n[r++]=192|i>>>6,n[r++]=128|63&i):i<55296||i>57343?(n[r++]=224|i>>>12,n[r++]=128|i>>>6&63,n[r++]=128|63&i):(i=65536+(i-55296<<10|e.charCodeAt(o++)-56320),n[r++]=240|i>>>18,n[r++]=128|i>>>12&63,n[r++]=128|i>>>6&63,n[r++]=128|63&i);return r-t}function a(e,t,n){var r=this,a=0|t;n||(n=r.length);for(var i="",o=0;a<n;)o=r[a++],o<128?i+=String.fromCharCode(o):(192==(224&o)?o=(31&o)<<6|63&r[a++]:224==(240&o)?o=(15&o)<<12|(63&r[a++])<<6|63&r[a++]:240==(248&o)&&(o=(7&o)<<18|(63&r[a++])<<12|(63&r[a++])<<6|63&r[a++]),o>=65536?(o-=65536,i+=String.fromCharCode(55296+(o>>>10),56320+(1023&o))):i+=String.fromCharCode(o));return i}function i(e,t,n,r){var a;n||(n=0),r||0===r||(r=this.length),t||(t=0);var i=r-n;if(e===this&&n<t&&t<r)for(a=i-1;a>=0;a--)e[a+t]=this[a+n];else for(a=0;a<i;a++)e[a+t]=this[a+n];return i}t.copy=i,t.toString=a,t.write=r},function(e,t,n){"use strict";function r(e){e.addExtPacker(14,Error,[s,a]),e.addExtPacker(1,EvalError,[s,a]),e.addExtPacker(2,RangeError,[s,a]),e.addExtPacker(3,ReferenceError,[s,a]),e.addExtPacker(4,SyntaxError,[s,a]),e.addExtPacker(5,TypeError,[s,a]),e.addExtPacker(6,URIError,[s,a]),e.addExtPacker(10,RegExp,[o,a]),e.addExtPacker(11,Boolean,[i,a]),e.addExtPacker(12,String,[i,a]),e.addExtPacker(13,Date,[Number,a]),e.addExtPacker(15,Number,[i,a]),"undefined"!=typeof Uint8Array&&(e.addExtPacker(17,Int8Array,d),e.addExtPacker(18,Uint8Array,d),e.addExtPacker(19,Int16Array,d),e.addExtPacker(20,Uint16Array,d),e.addExtPacker(21,Int32Array,d),e.addExtPacker(22,Uint32Array,d),e.addExtPacker(23,Float32Array,d),"undefined"!=typeof Float64Array&&e.addExtPacker(24,Float64Array,d),"undefined"!=typeof Uint8ClampedArray&&e.addExtPacker(25,Uint8ClampedArray,d),e.addExtPacker(26,ArrayBuffer,d),e.addExtPacker(29,DataView,d)),l.hasBuffer&&e.addExtPacker(27,c,l.from)}function a(e){return u||(u=n(192).encode),u(e)}function i(e){return e.valueOf()}function o(e){e=RegExp.prototype.toString.call(e).split("/"),e.shift();var t=[e.pop()];return t.unshift(e.join("/")),t}function s(e){var t={};for(var n in f)t[n]=e[n];return t}t.setExtPackers=r;var u,l=n(17),c=l.global,d=l.Uint8Array.from,f={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},function(e,t,n){"use strict";function r(e){function t(e,t){N[t?195:194](e,t)}function n(e,t){var n,r=0|t;if(t!==r)return n=203,void N[n](e,t);n=-32<=r&&r<=127?255&r:0<=r?r<=255?204:r<=65535?205:206:-128<=r?208:-32768<=r?209:210,N[n](e,r)}function r(e,t){N[207](e,t.toArray())}function i(e,t){N[211](e,t.toArray())}function v(e){return e<32?1:e<=255?2:e<=65535?3:5}function h(e){return e<32?1:e<=65535?3:5}function y(e,t){if(null===t)return S(e,t);if(E(t))return O(e,t);if(a(t))return T(e,t);if(o.isUint64BE(t))return r(e,t);if(s.isInt64BE(t))return i(e,t);var n=e.codec.getExtPacker(t);if(n&&(t=n(t)),t instanceof f)return D(e,t);_(e,t)}function A(e,t){if(E(t))return C(e,t);y(e,t)}function S(e,t){N[192](e,t)}function T(e,t){var n=t.length;N[n<16?144+n:n<=65535?220:221](e,n);for(var r=e.codec.encode,a=0;a<n;a++)r(e,t[a])}function M(e,t){var n=t.length;N[n<255?196:n<=65535?197:198](e,n),e.send(t)}function b(e,t){M(e,new Uint8Array(t))}function D(e,t){var n=t.buffer,r=n.length,a=p[r]||(r<255?199:r<=65535?200:201);N[a](e,r),d[t.type](e),e.send(n)}function I(e,t){var n=Object.keys(t),r=n.length;N[r<16?128+r:r<=65535?222:223](e,r);var a=e.codec.encode;n.forEach(function(n){a(e,n),a(e,t[n])})}function w(e,t){if(!(t instanceof Map))return I(e,t);var n=t.size;N[n<16?128+n:n<=65535?222:223](e,n);var r=e.codec.encode;t.forEach(function(t,n,a){r(e,n),r(e,t)})}function C(e,t){var n=t.length;N[n<32?160+n:n<=65535?218:219](e,n),e.send(t)}var N=c.getWriteToken(e),P=e&&e.useraw,x=m&&e&&e.binarraybuffer,E=x?u.isArrayBuffer:u.isBuffer,O=x?b:M,L=g&&e&&e.usemap,_=L?w:I;return{boolean:t,function:S,number:n,object:P?A:y,string:function(e){function t(t,n){var r=n.length,a=5+3*r;t.offset=t.reserve(a);var i=t.buffer,o=e(r),s=t.offset+o;r=l.write.call(i,n,s);var u=e(r);if(o!==u){var c=s+u-o,d=s+r;l.copy.call(i,i,c,s,d)}N[1===u?160+r:u<=3?215+u:219](t,r),t.offset+=r}return t}(P?h:v),symbol:S,undefined:S}}var a=n(48),i=n(118),o=i.Uint64BE,s=i.Int64BE,u=n(17),l=n(117),c=n(339),d=n(194).uint8,f=n(116).ExtBuffer,m="undefined"!=typeof Uint8Array,g="undefined"!=typeof Map,p=[];p[1]=212,p[2]=213,p[4]=214,p[8]=215,p[16]=216,t.getWriteType=r},function(e,t,n){"use strict";function r(e){return e&&e.uint8array?a():b||S.hasBuffer&&e&&e.safe?o():i()}function a(){var e=i();return e[202]=c(202,4,m),e[203]=c(203,8,g),e}function i(){var e=A.slice();return e[196]=s(196),e[197]=u(197),e[198]=l(198),e[199]=s(199),e[200]=u(200),e[201]=l(201),e[202]=c(202,4,D.writeFloatBE||m,!0),e[203]=c(203,8,D.writeDoubleBE||g,!0),e[204]=s(204),e[205]=u(205),e[206]=l(206),e[207]=c(207,8,d),e[208]=s(208),e[209]=u(209),e[210]=l(210),e[211]=c(211,8,f),e[217]=s(217),e[218]=u(218),e[219]=l(219),e[220]=u(220),e[221]=l(221),e[222]=u(222),e[223]=l(223),e}function o(){var e=A.slice();return e[196]=c(196,1,T.prototype.writeUInt8),e[197]=c(197,2,T.prototype.writeUInt16BE),e[198]=c(198,4,T.prototype.writeUInt32BE),e[199]=c(199,1,T.prototype.writeUInt8),e[200]=c(200,2,T.prototype.writeUInt16BE),e[201]=c(201,4,T.prototype.writeUInt32BE),e[202]=c(202,4,T.prototype.writeFloatBE),e[203]=c(203,8,T.prototype.writeDoubleBE),e[204]=c(204,1,T.prototype.writeUInt8),e[205]=c(205,2,T.prototype.writeUInt16BE),e[206]=c(206,4,T.prototype.writeUInt32BE),e[207]=c(207,8,d),e[208]=c(208,1,T.prototype.writeInt8),e[209]=c(209,2,T.prototype.writeInt16BE),e[210]=c(210,4,T.prototype.writeInt32BE),e[211]=c(211,8,f),e[217]=c(217,1,T.prototype.writeUInt8),e[218]=c(218,2,T.prototype.writeUInt16BE),e[219]=c(219,4,T.prototype.writeUInt32BE),e[220]=c(220,2,T.prototype.writeUInt16BE),e[221]=c(221,4,T.prototype.writeUInt32BE),e[222]=c(222,2,T.prototype.writeUInt16BE),e[223]=c(223,4,T.prototype.writeUInt32BE),e}function s(e){return function(t,n){var r=t.reserve(2),a=t.buffer;a[r++]=e,a[r]=n}}function u(e){return function(t,n){var r=t.reserve(3),a=t.buffer;a[r++]=e,a[r++]=n>>>8,a[r]=n}}function l(e){return function(t,n){var r=t.reserve(5),a=t.buffer;a[r++]=e,a[r++]=n>>>24,a[r++]=n>>>16,a[r++]=n>>>8,a[r]=n}}function c(e,t,n,r){return function(a,i){var o=a.reserve(t+1);a.buffer[o++]=e,n.call(a.buffer,i,o,r)}}function d(e,t){new h(this,t,e)}function f(e,t){new y(this,t,e)}function m(e,t){p.write(this,e,t,!1,23,4)}function g(e,t){p.write(this,e,t,!1,52,8)}var p=n(107),v=n(118),h=v.Uint64BE,y=v.Int64BE,A=n(194).uint8,S=n(17),T=S.global,M=S.hasBuffer&&"TYPED_ARRAY_SUPPORT"in T,b=M&&!T.TYPED_ARRAY_SUPPORT,D=S.hasBuffer&&T.prototype||{};t.getWriteToken=r},function(e,t,n){"use strict";function r(e){e.addExtUnpacker(14,[a,o(Error)]),e.addExtUnpacker(1,[a,o(EvalError)]),e.addExtUnpacker(2,[a,o(RangeError)]),e.addExtUnpacker(3,[a,o(ReferenceError)]),e.addExtUnpacker(4,[a,o(SyntaxError)]),e.addExtUnpacker(5,[a,o(TypeError)]),e.addExtUnpacker(6,[a,o(URIError)]),e.addExtUnpacker(10,[a,i]),e.addExtUnpacker(11,[a,s(Boolean)]),e.addExtUnpacker(12,[a,s(String)]),e.addExtUnpacker(13,[a,s(Date)]),e.addExtUnpacker(15,[a,s(Number)]),"undefined"!=typeof Uint8Array&&(e.addExtUnpacker(17,s(Int8Array)),e.addExtUnpacker(18,s(Uint8Array)),e.addExtUnpacker(19,[u,s(Int16Array)]),e.addExtUnpacker(20,[u,s(Uint16Array)]),e.addExtUnpacker(21,[u,s(Int32Array)]),e.addExtUnpacker(22,[u,s(Uint32Array)]),e.addExtUnpacker(23,[u,s(Float32Array)]),"undefined"!=typeof Float64Array&&e.addExtUnpacker(24,[u,s(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&e.addExtUnpacker(25,s(Uint8ClampedArray)),e.addExtUnpacker(26,u),e.addExtUnpacker(29,[u,s(DataView)])),c.hasBuffer&&e.addExtUnpacker(27,s(d))}function a(e){return l||(l=n(196).decode),l(e)}function i(e){return RegExp.apply(null,e)}function o(e){return function(t){var n=new e;for(var r in f)n[r]=t[r];return n}}function s(e){return function(t){return new e(t)}}function u(e){return new Uint8Array(e).buffer}t.setExtUnpackers=r;var l,c=n(17),d=c.global,f={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1}},function(e,t,n){"use strict";function r(e){var t=l.getReadFormat(e);return e&&e.useraw?i(t):a(t)}function a(e){var t,n=new Array(256);for(t=0;t<=127;t++)n[t]=o(t);for(t=128;t<=143;t++)n[t]=u(t-128,e.map);for(t=144;t<=159;t++)n[t]=u(t-144,e.array);for(t=160;t<=191;t++)n[t]=u(t-160,e.str);for(n[192]=o(null),n[193]=null,n[194]=o(!1),n[195]=o(!0),n[196]=s(e.uint8,e.bin),n[197]=s(e.uint16,e.bin),n[198]=s(e.uint32,e.bin),n[199]=s(e.uint8,e.ext),n[200]=s(e.uint16,e.ext),n[201]=s(e.uint32,e.ext),n[202]=e.float32,n[203]=e.float64,n[204]=e.uint8,n[205]=e.uint16,n[206]=e.uint32,n[207]=e.uint64,n[208]=e.int8,n[209]=e.int16,n[210]=e.int32,n[211]=e.int64,n[212]=u(1,e.ext),n[213]=u(2,e.ext),n[214]=u(4,e.ext),n[215]=u(8,e.ext),n[216]=u(16,e.ext),n[217]=s(e.uint8,e.str),n[218]=s(e.uint16,e.str),n[219]=s(e.uint32,e.str),n[220]=s(e.uint16,e.array),n[221]=s(e.uint32,e.array),n[222]=s(e.uint16,e.map),n[223]=s(e.uint32,e.map),t=224;t<=255;t++)n[t]=o(t-256);return n}function i(e){var t,n=a(e).slice();for(n[217]=n[196],n[218]=n[197],n[219]=n[198],t=160;t<=191;t++)n[t]=u(t-160,e.bin);return n}function o(e){return function(){return e}}function s(e,t){return function(n){var r=e(n);return t(n,r)}}function u(e,t){return function(n){return t(n,e)}}var l=n(198);t.getReadToken=r},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}t.Encoder=r;var a=n(199),i=n(193).EncodeBuffer;r.prototype=new i,a.mixin(r.prototype),r.prototype.encode=function(e){this.write(e),this.emit("data",this.read())},r.prototype.end=function(e){arguments.length&&this.encode(e),this.flush(),this.emit("end")}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}t.Decoder=r;var a=n(199),i=n(197).DecodeBuffer;r.prototype=new i,a.mixin(r.prototype),r.prototype.decode=function(e){arguments.length&&this.write(e),this.flush()},r.prototype.push=function(e){this.emit("data",e)},r.prototype.end=function(e){this.decode(e),this.emit("end")}},function(e,t,n){"use strict";n(119),n(115),t.createCodec=n(69).createCodec},function(e,t,n){"use strict";n(119),n(115),t.codec={preset:n(69).preset}},function(e,t,n){"use strict";function r(e){return e<f.length?f[e]:"UnknownClass"}function a(e){return e?f.indexOf(e):-1}function i(e){return e<=20||e===c.VTKCellTypes.VTK_CONVEX_POINT_SET||e===c.VTKCellTypes.VTK_POLYHEDRON}function o(e,t){t.classHierarchy.push("vtkCellTypes"),e.allocate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:512,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return t.size=e>0?e:1,t.extend=n>0?n:1,t.maxId=-1,t.typeArray=Array(e),t.locationArray=Array(e),1},e.insertCell=function(e,n,r){d("Insert Cell id: "+e+" at location "+r),t.typeArray[e]=n,t.locationArray[e]=r,e>t.maxId&&(t.maxId=e)},e.insertNextCell=function(n,r){return d("Insert Next Cell "+n+" location "+r),e.insertCell(++t.maxId,n,r),t.maxId},e.setCellTypes=function(e,n,r){t.size=e,t.typeArray=n,t.locationArray=r,t.maxId=e-1},e.getCellLocation=function(e){return t.locationArray[e]},e.deleteCell=function(e){t.typeArray[e]=c.VTKCellTypes.VTK_EMPTY_CELL},e.getNumberOfTypes=function(){return t.maxId+1},e.isType=function(t){for(var n=e.getNumberOfTypes(),r=0;r<n;r++)if(t===e.getCellType(r))return 1;return 0},e.insertNextType=function(t){return e.insertNextCell(t,-1)},e.getCellType=function(e){return t.typeArray[e]},e.squeeze=function(){t.typeArray.length=t.maxId+1,t.locationArray.length=t.maxId+1},e.reset=function(){t.maxId=-1}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l.default.obj(e,t),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=s;var u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(121),d=l.default.vtkDebugMacro,f=["vtkEmptyCell","vtkVertex","vtkPolyVertex","vtkLine","vtkPolyLine","vtkTriangle","vtkTriangleStrip","vtkPolygon","vtkPixel","vtkQuad","vtkTetra","vtkVoxel","vtkHexahedron","vtkWedge","vtkPyramid","vtkPentagonalPrism","vtkHexagonalPrism","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkQuadraticEdge","vtkQuadraticTriangle","vtkQuadraticQuad","vtkQuadraticTetra","vtkQuadraticHexahedron","vtkQuadraticWedge","vtkQuadraticPyramid","vtkBiQuadraticQuad","vtkTriQuadraticHexahedron","vtkQuadraticLinearQuad","vtkQuadraticLinearWedge","vtkBiQuadraticQuadraticWedge","vtkBiQuadraticQuadraticHexahedron","vtkBiQuadraticTriangle","vtkCubicLine","vtkQuadraticPolygon","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkConvexPointSet","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","UnknownClass","vtkParametricCurve","vtkParametricSurface","vtkParametricTriSurface","vtkParametricQuadSurface","vtkParametricTetraRegion","vtkParametricHexRegion","UnknownClass","UnknownClass","UnknownClass","vtkHigherOrderEdge","vtkHigherOrderTriangle","vtkHigherOrderQuad","vtkHigherOrderPolygon","vtkHigherOrderTetrahedron","vtkHigherOrderWedge","vtkHigherOrderPyramid","vtkHigherOrderHexahedron"],m=t.STATIC={getClassNameFromTypeId:r,getTypeIdFromClassName:a,isLinear:i},g={typeArray:[],locationArray:[],size:0,maxId:-1,extend:1e3},p=t.newInstance=l.default.newInstance(s,"vtkCellTypes");t.default=Object.assign({newInstance:p,extend:s},m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPointSet");var n=Object.assign({},e);t.points?t.points=(0,s.default)(t.points):t.points=m.default.newInstance(),e.getBounds=function(){return t.points.getBounds()},e.computeBounds=function(){e.getBounds()},e.getNumberOfPoints=function(){return t.points?t.points.getNumberOfPoints():0},e.getPoint=function(){var e;return(e=t.points).getPoint.apply(e,arguments)},e.copyStructure=function(n){var r=n.getPoints();t.points!==r&&(t.locator&&t.locator.initialize(),e.setPoints(r))},e.deepCopy=function(r){e!==r&&(n.deepCopy(r),t.points.deepCopy(r.getPoints()),t.locator=null)},e.getCenter=function(){e.computeBounds();for(var t=e.getBounds(),n=[],r=0;r<3;r++)n[r]=(t[2*r+1]+t[2*r])/2;return n}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),d.default.extend(e,t,n),l.default.setGet(e,t,["points"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(34),s=r(o),u=n(0),l=r(u),c=n(98),d=r(c),f=n(6),m=r(f),g={},p=t.newInstance=l.default.newInstance(i,"vtkPointSet");t.default={newInstance:p,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkCellLinks"),e.buildLinks=function(n){var r=n.getNumberOfPoints(),a=n.getNumberOfCells(),i=0,o=0,s=Array(r);if(s.fill(0),n.isA("vtkPolyData")){for(o=0;o<a;o++){var u=[];n.getCellPoints(o,u);var l=u.length;for(i=0;i<l;i++)e.incrementLinkCount(u[i])}for(e.allocateLinks(r),t.maxId=r-1,o=0;o<a;o++){var c=[];n.getCellPoints(o,c);var d=c.length;for(i=0;i<d;i++)e.insertCellReference(c[i],s[c[i]]++,o)}}else{for(o=0;o<a;o++){var f=n.getCell(o),m=f.getNumberOfPoints();for(i=0;i<m;i++)e.incrementLinkCount(f.pointIds.getId(i))}for(e.allocateLinks(r),t.maxId=r-1,o=0;o<a;o++){var g=n.getCell(o),p=g.getNumberOfPoints();for(i=0;i<p;i++){var v=g.pointIds.getId(i);e.insertCellReference(v,s[v]++,o)}}}},e.buildLinks2=function(n,r){for(var a=n.getNumberOfPoints(),i=0;i<r.getData().length;){for(var o=r.getCell(i),s=o.length,u=0;u<s;u++)e.incrementLinkCount(o[u]);i+=s+1}e.allocateLinks(a),t.maxId=a-1;var l=Array(a);l.fill(0);for(var c=0,d=0;d<r.getData().length;c++){for(var f=r.getCell(d),m=f.length,g=0;g<m;g++)e.insertCellReference(f[g],l[f[g]]++,c);d+=m+1}},e.allocate=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;t.array=Array(e),t.extend=n,t.maxId=-1;for(var r=0;r<t.array.length;r++)t.array[r]={ncells:0,cells:null}},e.resize=function(e){var n=0;n=e>=t.array.length?t.array.length+e:e;var r=t.array.length;t.array.length=n;for(var a=r;a<n;a++)t.array[a]={ncells:0,cells:null};return t.array},e.initialize=function(){t.array.length=0},e.getLink=function(e){return t.array[e]},e.getNcells=function(e){return t.array[e].ncells},e.getCells=function(e){return t.array[e].cells},e.insertNextPoint=function(n){return++t.maxId>=t.array.length&&e.resize(t.maxId+1),t.array[t.maxId].cells=Array(n),t.maxId},e.insertNextCellReference=function(e,n){var r=t.array[e].ncells++;t.array[e].cells[r]=n},e.deletePoint=function(e){t.array[e].ncell=0,t.array[e].cells=null},e.removeCellReference=function(e,n){for(var r=t.array[n].cells,a=t.array[n].ncells,i=0;i<a;i++)if(r[i]===e){r.splice(i,1),t.array[n].ncells--;break}},e.addCellReference=function(e,n){var r=t.array[n].ncells++;t.array[n].cells[r]=e},e.resizeCellList=function(e,n){var r=t.array[e].ncells+n;t.array[e].cells.length=r},e.squeeze=function(){e.resize(t.maxId+1)},e.reset=function(){t.maxId=-1},e.getActualMemorySize=function(){for(var e=0,n=0;n<t.maxId+1;n++)e+=t.array[n].ncells;return e*=8,e+=16*(t.maxId+1),Math.ceil(e/1024)},e.deepCopy=function(n){var r=n.get();e.allocate(r.array.length,r.extend);for(var a=0;a<t.array.length;a++){var i=r.array[a],o=t.array[a];o.ncells=i.ncells,i.cells?o.cells=i.cells.concat():o.cells=null}t.maxId=r.maxId},e.incrementLinkCount=function(e){t.array[e].ncells++},e.allocateLinks=function(e){for(var n=0;n<e;n++)t.array[n].cells=Array(t.array[n].ncells)},e.insertCellReference=function(e,n,r){t.array[e].cells[n]=r}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(349),l=r(u),c={array:[],maxId:-1,extend:1e3},d=t.newInstance=s.default.newInstance(i,"vtkCellLinks");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";function r(e,t,n){var r=n.getNumberOfCells(),a=e;return a=t>a?t:a,a=r>a?r:a,a>=Math.pow(2,31)-1?12:a>=Math.pow(2,15)-1?6:4}function a(e,t){t.classHierarchy.push("vtkAbstractCellLinks"),e.getIdType=r}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),s.default.obj(e,t),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=i;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=t.STATIC={getIdType:r},l={},c=t.newInstance=s.default.newInstance(i,"vtkAbstractCellLinks");t.default=Object.assign({newInstance:c,extend:i},u)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.IntersectionState={NO_INTERSECTION:0,YES_INTERSECTION:1,ON_LINE:2};t.default={IntersectionState:r}},function(e,t,n){"use strict";(function(){var e,r,a,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;r=n(124),e=n(352),a=n(357),i=n(206),t.defaults=r.defaults,t.processors=i,t.ValidationError=function(e){function t(e){this.message=e}return o(t,e),t}(Error),t.Builder=e.Builder,t.Parser=a.Parser,t.parseString=a.parseString}).call(void 0)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var e,a,i,o,s,u={}.hasOwnProperty;e=n(353),a=n(124).defaults,o=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},s=function(e){return"<![CDATA["+i(e)+"]]>"},i=function(e){return e.replace("]]>","]]]]><![CDATA[>")},t.Builder=function(){function t(e){var t,n,r;this.options={},n=a[.2];for(t in n)u.call(n,t)&&(r=n[t],this.options[t]=r);for(t in e)u.call(e,t)&&(r=e[t],this.options[t]=r)}return t.prototype.buildObject=function(t){var n,i,l,c,d;return n=this.options.attrkey,i=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===a[.2].rootName?(d=Object.keys(t)[0],t=t[d]):d=this.options.rootName,l=function(e){return function(t,a){var c,d,f,m,g,p;if("object"!==(void 0===a?"undefined":r(a)))e.options.cdata&&o(a)?t.raw(s(a)):t.txt(a);else if(Array.isArray(a)){for(m in a)if(u.call(a,m)){d=a[m];for(g in d)f=d[g],t=l(t.ele(g),f).up()}}else for(g in a)if(u.call(a,g))if(d=a[g],g===n){if("object"===(void 0===d?"undefined":r(d)))for(c in d)p=d[c],t=t.att(c,p)}else if(g===i)t=e.options.cdata&&o(d)?t.raw(s(d)):t.txt(d);else if(Array.isArray(d))for(m in d)u.call(d,m)&&(f=d[m],t="string"==typeof f?e.options.cdata&&o(f)?t.ele(g).raw(s(f)).up():t.ele(g,f).up():l(t.ele(g),f).up());else"object"===(void 0===d?"undefined":r(d))?t=l(t.ele(g),d).up():"string"==typeof d&&e.options.cdata&&o(d)?t=t.ele(g).raw(s(d)).up():(null==d&&(d=""),t=t.ele(g,d.toString()).up());return t}}(this),c=e.create(d,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(c,t).end(this.options.renderOpts)},t}()}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r,a,i,o,s,u;u=n(29),o=u.assign,s=u.isFunction,t=n(354),r=n(355),i=n(125),a=n(356),e.exports.create=function(e,n,r,a){var i,s;if(null==e)throw new Error("Root element needs a name");return a=o({},n,r,a),i=new t(a),s=i.element(e),a.headless||(i.declaration(a),null==a.pubID&&null==a.sysID||i.doctype(a)),s},e.exports.begin=function(e,n,a){var i;return s(e)&&(i=[e,n],n=i[0],a=i[1],e={}),n?new r(e,n,a):new t(e)},e.exports.stringWriter=function(e){return new i(e)},e.exports.streamWriter=function(e,t){return new a(e,t)}}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r,a,i,o=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;i=n(29).isPlainObject,t=n(12),a=n(204),r=n(125),e.exports=function(e){function t(e){t.__super__.constructor.call(this,null),e||(e={}),e.writer||(e.writer=new r),this.options=e,this.stringify=new a(e),this.isDocument=!0}return o(t,e),t.prototype.end=function(e){var t;return e?i(e)&&(t=e,e=this.options.writer.set(t)):e=this.options.writer,e.document(this)},t.prototype.toString=function(e){return this.options.writer.set(e).document(this)},t}(t)}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r,a,i,o,s,u,l,c,d,f,m,g,p,v,h,y,A,S,T={}.hasOwnProperty;S=n(29),y=S.isObject,h=S.isFunction,A=S.isPlainObject,d=n(73),r=n(74),a=n(75),m=n(82),v=n(83),f=n(84),l=n(76),c=n(77),i=n(78),s=n(79),o=n(80),u=n(81),t=n(203),p=n(204),g=n(125),e.exports=function(){function e(e,t,n){var r;e||(e={}),e.writer?A(e.writer)&&(r=e.writer,e.writer=new g(r)):e.writer=new g(e),this.options=e,this.writer=e.writer,this.stringify=new p(e),this.onDataCallback=t||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.node=function(e,t,n){var r;if(null==e)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),e=e.valueOf(),null==t&&(t={}),t=t.valueOf(),y(t)||(r=[t,n],n=r[0],t=r[1]),this.currentNode=new d(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},e.prototype.element=function(e,t,n){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(e,t,n)},e.prototype.attribute=function(e,n){var r,a;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=e&&(e=e.valueOf()),y(e))for(r in e)T.call(e,r)&&(a=e[r],this.attribute(r,a));else h(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.currentNode.attributes[e]=new t(this,e,n));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new v(this,e),this.onData(this.writer.text(t,this.currentLevel+1)),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new r(this,e),this.onData(this.writer.cdata(t,this.currentLevel+1)),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new a(this,e),this.onData(this.writer.comment(t,this.currentLevel+1)),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new m(this,e),this.onData(this.writer.raw(t,this.currentLevel+1)),this},e.prototype.instruction=function(e,t){var n,r,a,i,o;if(this.openCurrent(),null!=e&&(e=e.valueOf()),null!=t&&(t=t.valueOf()),Array.isArray(e))for(n=0,i=e.length;n<i;n++)r=e[n],this.instruction(r);else if(y(e))for(r in e)T.call(e,r)&&(a=e[r],this.instruction(r,a));else h(t)&&(t=t.apply()),o=new f(this,e,t),this.onData(this.writer.processingInstruction(o,this.currentLevel+1));return this},e.prototype.declaration=function(e,t,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return r=new l(this,e,t,n),this.onData(this.writer.declaration(r,this.currentLevel+1)),this},e.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new c(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new o(this,e,t),this.onData(this.writer.dtdElement(n,this.currentLevel+1)),this},e.prototype.attList=function(e,t,n,r,a){var o;return this.openCurrent(),o=new i(this,e,t,n,r,a),this.onData(this.writer.dtdAttList(o,this.currentLevel+1)),this},e.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new s(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},e.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new s(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1)),this},e.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new u(this,e,t),this.onData(this.writer.dtdNotation(n,this.currentLevel+1)),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){if(!e.isOpen)return!this.root&&0===this.currentLevel&&e instanceof d&&(this.root=e),this.onData(this.writer.openNode(e,this.currentLevel)),e.isOpen=!0},e.prototype.closeNode=function(e){if(!e.isClosed)return this.onData(this.writer.closeNode(e,this.currentLevel)),e.isClosed=!0},e.prototype.onData=function(e){return this.documentStarted=!0,this.onDataCallback(e)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(void 0)},function(e,t,n){"use strict";(function(){var t,r,a,i,o,s,u,l,c,d,f,m,g,p=function(e,t){function n(){this.constructor=e}for(var r in t)v.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},v={}.hasOwnProperty;u=n(76),l=n(77),t=n(74),r=n(75),c=n(73),f=n(82),m=n(83),d=n(84),a=n(78),i=n(80),o=n(79),s=n(81),g=n(205),e.exports=function(e){function n(e,t){n.__super__.constructor.call(this,t),this.stream=e}return p(n,e),n.prototype.document=function(e){var t,n,a,i,o,s,c,f;for(s=e.children,n=0,i=s.length;n<i;n++)t=s[n],t.isLastRootNode=!1;for(e.children[e.children.length-1].isLastRootNode=!0,c=e.children,f=[],a=0,o=c.length;a<o;a++)switch(t=c[a],!1){case!(t instanceof u):f.push(this.declaration(t));break;case!(t instanceof l):f.push(this.docType(t));break;case!(t instanceof r):f.push(this.comment(t));break;case!(t instanceof d):f.push(this.processingInstruction(t));break;default:f.push(this.element(t))}return f},n.prototype.attribute=function(e){return this.stream.write(" "+e.name+'="'+e.value+'"')},n.prototype.cdata=function(e,t){return this.stream.write(this.space(t)+"<![CDATA["+e.text+"]]>"+this.endline(e))},n.prototype.comment=function(e,t){return this.stream.write(this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.endline(e))},n.prototype.declaration=function(e,t){return this.stream.write(this.space(t)),this.stream.write('<?xml version="'+e.version+'"'),null!=e.encoding&&this.stream.write(' encoding="'+e.encoding+'"'),null!=e.standalone&&this.stream.write(' standalone="'+e.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(e))},n.prototype.docType=function(e,n){var u,l,c,f;if(n||(n=0),this.stream.write(this.space(n)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e)),f=e.children,l=0,c=f.length;l<c;l++)switch(u=f[l],!1){case!(u instanceof a):this.dtdAttList(u,n+1);break;case!(u instanceof i):this.dtdElement(u,n+1);break;case!(u instanceof o):this.dtdEntity(u,n+1);break;case!(u instanceof s):this.dtdNotation(u,n+1);break;case!(u instanceof t):this.cdata(u,n+1);break;case!(u instanceof r):this.comment(u,n+1);break;case!(u instanceof d):this.processingInstruction(u,n+1);break;default:throw new Error("Unknown DTD node type: "+u.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(e))},n.prototype.element=function(e,n){var a,i,o,s,u,l,g,p;n||(n=0),p=this.space(n),this.stream.write(p+"<"+e.name),l=e.attributes;for(u in l)v.call(l,u)&&(a=l[u],this.attribute(a));if(0===e.children.length||e.children.every(function(e){return""===e.value}))this.allowEmpty?this.stream.write("></"+e.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===e.children.length&&null!=e.children[0].value)this.stream.write(">"),this.stream.write(e.children[0].value),this.stream.write("</"+e.name+">");else{for(this.stream.write(">"+this.newline),g=e.children,o=0,s=g.length;o<s;o++)switch(i=g[o],!1){case!(i instanceof t):this.cdata(i,n+1);break;case!(i instanceof r):this.comment(i,n+1);break;case!(i instanceof c):this.element(i,n+1);break;case!(i instanceof f):this.raw(i,n+1);break;case!(i instanceof m):this.text(i,n+1);break;case!(i instanceof d):this.processingInstruction(i,n+1);break;default:throw new Error("Unknown XML node type: "+i.constructor.name)}this.stream.write(p+"</"+e.name+">")}return this.stream.write(this.endline(e))},n.prototype.processingInstruction=function(e,t){return this.stream.write(this.space(t)+"<?"+e.target),e.value&&this.stream.write(" "+e.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(e))},n.prototype.raw=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},n.prototype.text=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},n.prototype.dtdAttList=function(e,t){return this.stream.write(this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType),"#DEFAULT"!==e.defaultValueType&&this.stream.write(" "+e.defaultValueType),e.defaultValue&&this.stream.write(' "'+e.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},n.prototype.dtdElement=function(e,t){return this.stream.write(this.space(t)+"<!ELEMENT "+e.name+" "+e.value),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},n.prototype.dtdEntity=function(e,t){return this.stream.write(this.space(t)+"<!ENTITY"),e.pe&&this.stream.write(" %"),this.stream.write(" "+e.name),e.value?this.stream.write(' "'+e.value+'"'):(e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.nData&&this.stream.write(" NDATA "+e.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},n.prototype.dtdNotation=function(e,t){return this.stream.write(this.space(t)+"<!NOTATION "+e.name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.pubID?this.stream.write(' PUBLIC "'+e.pubID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},n.prototype.endline=function(e){return e.isLastRootNode?"":this.newline},n}(g)}).call(void 0)},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var e,a,i,o,s,u,l,c,d=function(e,t){return function(){return e.apply(t,arguments)}},f=function(e,t){function n(){this.constructor=e}for(var r in t)m.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},m={}.hasOwnProperty;l=n(358),i=n(49),e=n(359),u=n(206),c=n(111).setImmediate,a=n(124).defaults,o=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!=e&&0===Object.keys(e).length},s=function(e,t,n){var r,a,i;for(r=0,a=e.length;r<a;r++)i=e[r],t=i(t,n);return t},t.Parser=function(n){function i(e){this.parseString=d(this.parseString,this),this.reset=d(this.reset,this),this.assignOrPush=d(this.assignOrPush,this),this.processAsync=d(this.processAsync,this);var n,r,i;if(!(this instanceof t.Parser))return new t.Parser(e);this.options={},r=a[.2];for(n in r)m.call(r,n)&&(i=r[n],this.options[n]=i);for(n in e)m.call(e,n)&&(i=e[n],this.options[n]=i);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(u.normalize)),this.reset()}return f(i,n),i.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),c(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},i.prototype.assignOrPush=function(e,t,n){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(n)):this.options.explicitArray?e[t]=[n]:e[t]=n},i.prototype.reset=function(){var e,t,n,a;return this.removeAllListeners(),this.saxParser=l.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(e){return function(t){if(e.saxParser.resume(),!e.saxParser.errThrown)return e.saxParser.errThrown=!0,e.emit("error",t)}}(this),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,a=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(n){return function(r){var i,o,u,l,c;if(u={},u[t]="",!n.options.ignoreAttrs){c=r.attributes;for(i in c)m.call(c,i)&&(e in u||n.options.mergeAttrs||(u[e]={}),o=n.options.attrValueProcessors?s(n.options.attrValueProcessors,r.attributes[i],i):r.attributes[i],l=n.options.attrNameProcessors?s(n.options.attrNameProcessors,i):i,n.options.mergeAttrs?n.assignOrPush(u,l,o):u[e][l]=o)}return u["#name"]=n.options.tagNameProcessors?s(n.options.tagNameProcessors,r.name):r.name,n.options.xmlns&&(u[n.options.xmlnskey]={uri:r.uri,local:r.local}),a.push(u)}}(this),this.saxParser.onclosetag=function(e){return function(){var n,i,u,l,c,d,f,g,p,v;if(d=a.pop(),c=d["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete d["#name"],!0===d.cdata&&(n=d.cdata,delete d.cdata),p=a[a.length-1],d[t].match(/^\s*$/)&&!n?(i=d[t],delete d[t]):(e.options.trim&&(d[t]=d[t].trim()),e.options.normalize&&(d[t]=d[t].replace(/\s{2,}/g," ").trim()),d[t]=e.options.valueProcessors?s(e.options.valueProcessors,d[t],c):d[t],1===Object.keys(d).length&&t in d&&!e.EXPLICIT_CHARKEY&&(d=d[t])),o(d)&&(d=""!==e.options.emptyTag?e.options.emptyTag:i),null!=e.options.validator&&(v="/"+function(){var e,t,n;for(n=[],e=0,t=a.length;e<t;e++)l=a[e],n.push(l["#name"]);return n}().concat(c).join("/"),function(){var t;try{d=e.options.validator(v,p&&p[c],d)}catch(n){return t=n,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"===(void 0===d?"undefined":r(d)))if(e.options.preserveChildrenOrder){if(p){p[e.options.childkey]=p[e.options.childkey]||[],f={};for(u in d)m.call(d,u)&&(f[u]=d[u]);p[e.options.childkey].push(f),delete d["#name"],1===Object.keys(d).length&&t in d&&!e.EXPLICIT_CHARKEY&&(d=d[t])}}else l={},e.options.attrkey in d&&(l[e.options.attrkey]=d[e.options.attrkey],delete d[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in d&&(l[e.options.charkey]=d[e.options.charkey],delete d[e.options.charkey]),Object.getOwnPropertyNames(d).length>0&&(l[e.options.childkey]=d),d=l;return a.length>0?e.assignOrPush(p,c,d):(e.options.explicitRoot&&(g=d,d={},d[c]=g),e.resultObject=d,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),n=function(e){return function(n){var r,i;if(i=a[a.length-1])return i[t]+=n,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(i[e.options.childkey]=i[e.options.childkey]||[],r={"#name":"__text__"},r[t]=n,e.options.normalize&&(r[t]=r[t].replace(/\s{2,}/g," ").trim()),i[e.options.childkey].push(r)),i}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(e){return function(e){var t;if(t=n(e))return t.cdata=!0}}()},i.prototype.parseString=function(t,n){var r;null!=n&&"function"==typeof n&&(this.on("end",function(e){return this.reset(),n(null,e)}),this.on("error",function(e){return this.reset(),n(e)}));try{return t=t.toString(),""===t.trim()?(this.emit("end",null),!0):(t=e.stripBOM(t),this.options.async?(this.remaining=t,c(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(e){if(r=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},i}(i.EventEmitter),t.parseString=function(e,n,a){var i,o,s;return null!=a?("function"==typeof a&&(i=a),"object"===(void 0===n?"undefined":r(n))&&(o=n)):("function"==typeof n&&(i=n),o={}),s=new t.Parser(o),s.parseString(e,i)}}).call(void 0)},function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){function a(e,n){if(!(this instanceof a))return new a(e,n);var r=this;o(r),r.q=r.c="",r.bufferCheckPosition=t.MAX_BUFFER_LENGTH,r.opt=n||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=G.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(V)),r.trackPosition=!1!==r.opt.position,r.trackPosition&&(r.position=r.line=r.column=0),p(r,"onready")}function i(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),r=0,a=0,i=E.length;a<i;a++){var o=e[E[a]].length;if(o>n)switch(E[a]){case"textNode":h(e);break;case"cdata":v(e,"oncdata",e.cdata),e.cdata="";break;case"script":v(e,"onscript",e.script),e.script="";break;default:A(e,"Max buffer length exceeded: "+E[a])}r=Math.max(r,o)}var s=t.MAX_BUFFER_LENGTH-r;e.bufferCheckPosition=s+e.position}function o(e){for(var t=0,n=E.length;t<n;t++)e[E[t]]=""}function s(e){h(e),""!==e.cdata&&(v(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(v(e,"onscript",e.script),e.script="")}function u(e,t){return new l(e,t)}function l(e,t){if(!(this instanceof l))return new l(e,t);O.apply(this),this._parser=new a(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,L.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){if(!t)return n.removeAllListeners(e),n._parser["on"+e]=t,t;n.on(e,t)},enumerable:!0,configurable:!1})})}function c(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function d(e){return'"'===e||"'"===e}function f(e){return">"===e||c(e)}function m(e,t){return e.test(t)}function g(e,t){return!m(e,t)}function p(e,t,n){e[t]&&e[t](n)}function v(e,t,n){e.textNode&&h(e),p(e,t,n)}function h(e){e.textNode=y(e.opt,e.textNode),e.textNode&&p(e,"ontext",e.textNode),e.textNode=""}function y(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function A(e,t){return h(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,p(e,"onerror",t),e}function S(e){return e.sawRoot&&!e.closedRoot&&T(e,"Unclosed root tag"),e.state!==G.BEGIN&&e.state!==G.BEGIN_WHITESPACE&&e.state!==G.TEXT&&A(e,"Unexpected end"),h(e),e.c="",e.closed=!0,p(e,"onend"),a.call(e,e.strict,e.opt),e}function T(e,t){if("object"!==(void 0===e?"undefined":r(e))||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&A(e,t)}function M(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,v(e,"onopentagstart",n)}function b(e,t){var n=e.indexOf(":"),r=n<0?["",e]:e.split(":"),a=r[0],i=r[1];return t&&"xmlns"===e&&(a="xmlns",i=""),{prefix:a,local:i}}function D(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))return void(e.attribName=e.attribValue="");if(e.opt.xmlns){var t=b(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==k)T(e,"xml: prefix must be bound to "+k+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==B)T(e,"xmlns: prefix must be bound to "+B+"\nActual: "+e.attribValue);else{var a=e.tag,i=e.tags[e.tags.length-1]||e;a.ns===i.ns&&(a.ns=Object.create(i.ns)),a.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,v(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function I(e,t){if(e.opt.xmlns){var n=e.tag,r=b(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(T(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var a=e.tags[e.tags.length-1]||e;n.ns&&a.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){v(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var i=0,o=e.attribList.length;i<o;i++){var s=e.attribList[i],u=s[0],l=s[1],c=b(u,!0),d=c.prefix,f=c.local,m=""===d?"":n.ns[d]||"",g={name:u,value:l,prefix:d,local:f,uri:m};d&&"xmlns"!==d&&!m&&(T(e,"Unbound namespace prefix: "+JSON.stringify(d)),g.uri=d),e.tag.attributes[u]=g,v(e,"onattribute",g)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),v(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=G.TEXT:e.state=G.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function w(e){if(!e.tagName)return T(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=G.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=G.SCRIPT);v(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--&&e.tags[t].name!==r;)T(e,"Unexpected close tag");if(t<0)return T(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=G.TEXT);e.tagName=n;for(var a=e.tags.length;a-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,v(e,"onclosetag",e.tagName);var o={};for(var s in i.ns)o[s]=i.ns[s];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==u.ns&&Object.keys(i.ns).forEach(function(t){var n=i.ns[t];v(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=G.TEXT}function C(e){var t,n=e.entity,r=n.toLowerCase(),a="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),a=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),a=t.toString(10))),n=n.replace(/^0+/,""),isNaN(t)||a.toLowerCase()!==n?(T(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function N(e,t){"<"===t?(e.state=G.OPEN_WAKA,e.startTagPosition=e.position):c(t)||(T(e,"Non-whitespace before first tag."),e.textNode=t,e.state=G.TEXT)}function P(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}function x(e){var t=this;if(this.error)throw this.error;if(t.closed)return A(t,"Cannot write after close. Assign an onready handler.");if(null===e)return S(t);"object"===(void 0===e?"undefined":r(e))&&(e=e.toString());for(var n=0,a="";a=P(e,n++),t.c=a,a;)switch(t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++),t.state){case G.BEGIN:if(t.state=G.BEGIN_WHITESPACE,"\ufeff"===a)continue;N(t,a);continue;case G.BEGIN_WHITESPACE:N(t,a);continue;case G.TEXT:if(t.sawRoot&&!t.closedRoot){for(var o=n-1;a&&"<"!==a&&"&"!==a;)(a=P(e,n++))&&t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(o,n-1)}"<"!==a||t.sawRoot&&t.closedRoot&&!t.strict?(c(a)||t.sawRoot&&!t.closedRoot||T(t,"Text data outside of root node."),"&"===a?t.state=G.TEXT_ENTITY:t.textNode+=a):(t.state=G.OPEN_WAKA,t.startTagPosition=t.position);continue;case G.SCRIPT:"<"===a?t.state=G.SCRIPT_ENDING:t.script+=a;continue;case G.SCRIPT_ENDING:"/"===a?t.state=G.CLOSE_TAG:(t.script+="<"+a,t.state=G.SCRIPT);continue;case G.OPEN_WAKA:if("!"===a)t.state=G.SGML_DECL,t.sgmlDecl="";else if(c(a));else if(m(F,a))t.state=G.OPEN_TAG,t.tagName=a;else if("/"===a)t.state=G.CLOSE_TAG,t.tagName="";else if("?"===a)t.state=G.PROC_INST,t.procInstName=t.procInstBody="";else{if(T(t,"Unencoded <"),t.startTagPosition+1<t.position){var s=t.position-t.startTagPosition;a=new Array(s).join(" ")+a}t.textNode+="<"+a,t.state=G.TEXT}continue;case G.SGML_DECL:(t.sgmlDecl+a).toUpperCase()===_?(v(t,"onopencdata"),t.state=G.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+a==="--"?(t.state=G.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+a).toUpperCase()===R?(t.state=G.DOCTYPE,(t.doctype||t.sawRoot)&&T(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===a?(v(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=G.TEXT):d(a)?(t.state=G.SGML_DECL_QUOTED,t.sgmlDecl+=a):t.sgmlDecl+=a;continue;case G.SGML_DECL_QUOTED:a===t.q&&(t.state=G.SGML_DECL,t.q=""),t.sgmlDecl+=a;continue;case G.DOCTYPE:">"===a?(t.state=G.TEXT,v(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=a,"["===a?t.state=G.DOCTYPE_DTD:d(a)&&(t.state=G.DOCTYPE_QUOTED,t.q=a));continue;case G.DOCTYPE_QUOTED:t.doctype+=a,a===t.q&&(t.q="",t.state=G.DOCTYPE);continue;case G.DOCTYPE_DTD:t.doctype+=a,"]"===a?t.state=G.DOCTYPE:d(a)&&(t.state=G.DOCTYPE_DTD_QUOTED,t.q=a);continue;case G.DOCTYPE_DTD_QUOTED:t.doctype+=a,a===t.q&&(t.state=G.DOCTYPE_DTD,t.q="");continue;case G.COMMENT:"-"===a?t.state=G.COMMENT_ENDING:t.comment+=a;continue;case G.COMMENT_ENDING:"-"===a?(t.state=G.COMMENT_ENDED,t.comment=y(t.opt,t.comment),t.comment&&v(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+a,t.state=G.COMMENT);continue;case G.COMMENT_ENDED:">"!==a?(T(t,"Malformed comment"),t.comment+="--"+a,t.state=G.COMMENT):t.state=G.TEXT;continue;case G.CDATA:"]"===a?t.state=G.CDATA_ENDING:t.cdata+=a;continue;case G.CDATA_ENDING:"]"===a?t.state=G.CDATA_ENDING_2:(t.cdata+="]"+a,t.state=G.CDATA);continue;case G.CDATA_ENDING_2:">"===a?(t.cdata&&v(t,"oncdata",t.cdata),v(t,"onclosecdata"),t.cdata="",t.state=G.TEXT):"]"===a?t.cdata+="]":(t.cdata+="]]"+a,t.state=G.CDATA);continue;case G.PROC_INST:"?"===a?t.state=G.PROC_INST_ENDING:c(a)?t.state=G.PROC_INST_BODY:t.procInstName+=a;continue;case G.PROC_INST_BODY:if(!t.procInstBody&&c(a))continue;"?"===a?t.state=G.PROC_INST_ENDING:t.procInstBody+=a;continue;case G.PROC_INST_ENDING:">"===a?(v(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=G.TEXT):(t.procInstBody+="?"+a,t.state=G.PROC_INST_BODY);continue;case G.OPEN_TAG:m(j,a)?t.tagName+=a:(M(t),">"===a?I(t):"/"===a?t.state=G.OPEN_TAG_SLASH:(c(a)||T(t,"Invalid character in tag name"),t.state=G.ATTRIB));continue;case G.OPEN_TAG_SLASH:">"===a?(I(t,!0),w(t)):(T(t,"Forward-slash in opening tag not followed by >"),t.state=G.ATTRIB);continue;case G.ATTRIB:if(c(a))continue;">"===a?I(t):"/"===a?t.state=G.OPEN_TAG_SLASH:m(F,a)?(t.attribName=a,t.attribValue="",t.state=G.ATTRIB_NAME):T(t,"Invalid attribute name");continue;case G.ATTRIB_NAME:"="===a?t.state=G.ATTRIB_VALUE:">"===a?(T(t,"Attribute without value"),t.attribValue=t.attribName,D(t),I(t)):c(a)?t.state=G.ATTRIB_NAME_SAW_WHITE:m(j,a)?t.attribName+=a:T(t,"Invalid attribute name");continue;case G.ATTRIB_NAME_SAW_WHITE:if("="===a)t.state=G.ATTRIB_VALUE;else{if(c(a))continue;T(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",v(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===a?I(t):m(F,a)?(t.attribName=a,t.state=G.ATTRIB_NAME):(T(t,"Invalid attribute name"),t.state=G.ATTRIB)}continue;case G.ATTRIB_VALUE:if(c(a))continue;d(a)?(t.q=a,t.state=G.ATTRIB_VALUE_QUOTED):(T(t,"Unquoted attribute value"),t.state=G.ATTRIB_VALUE_UNQUOTED,t.attribValue=a);continue;case G.ATTRIB_VALUE_QUOTED:if(a!==t.q){"&"===a?t.state=G.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=a;continue}D(t),t.q="",t.state=G.ATTRIB_VALUE_CLOSED;continue;case G.ATTRIB_VALUE_CLOSED:c(a)?t.state=G.ATTRIB:">"===a?I(t):"/"===a?t.state=G.OPEN_TAG_SLASH:m(F,a)?(T(t,"No whitespace between attributes"),t.attribName=a,t.attribValue="",t.state=G.ATTRIB_NAME):T(t,"Invalid attribute name");continue;case G.ATTRIB_VALUE_UNQUOTED:if(!f(a)){"&"===a?t.state=G.ATTRIB_VALUE_ENTITY_U:t.attribValue+=a;continue}D(t),">"===a?I(t):t.state=G.ATTRIB;continue;case G.CLOSE_TAG:if(t.tagName)">"===a?w(t):m(j,a)?t.tagName+=a:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=G.SCRIPT):(c(a)||T(t,"Invalid tagname in closing tag"),t.state=G.CLOSE_TAG_SAW_WHITE);else{if(c(a))continue;g(F,a)?t.script?(t.script+="</"+a,t.state=G.SCRIPT):T(t,"Invalid tagname in closing tag."):t.tagName=a}continue;case G.CLOSE_TAG_SAW_WHITE:if(c(a))continue;">"===a?w(t):T(t,"Invalid characters in closing tag");continue;case G.TEXT_ENTITY:case G.ATTRIB_VALUE_ENTITY_Q:case G.ATTRIB_VALUE_ENTITY_U:var u,l;switch(t.state){case G.TEXT_ENTITY:u=G.TEXT,l="textNode";break;case G.ATTRIB_VALUE_ENTITY_Q:u=G.ATTRIB_VALUE_QUOTED,l="attribValue";break;case G.ATTRIB_VALUE_ENTITY_U:u=G.ATTRIB_VALUE_UNQUOTED,l="attribValue"}";"===a?(t[l]+=C(t),t.entity="",t.state=u):m(t.entity.length?z:U,a)?t.entity+=a:(T(t,"Invalid character in entity name"),t[l]+="&"+t.entity+a,t.entity="",t.state=u);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&i(t),t}t.parser=function(e,t){return new a(e,t)},t.SAXParser=a,t.SAXStream=l,t.createStream=u,t.MAX_BUFFER_LENGTH=65536;var E=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),a.prototype={end:function(){S(this)},write:x,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var O;try{O=n(41).Stream}catch(e){O=function(){}}var L=t.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});l.prototype=Object.create(O.prototype,{constructor:{value:l}}),l.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var r=n(67).StringDecoder;this._decoder=new r("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},l.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},l.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||-1===L.indexOf(e)||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),O.prototype.on.call(n,e,t)};var _="[CDATA[",R="DOCTYPE",k="http://www.w3.org/XML/1998/namespace",B="http://www.w3.org/2000/xmlns/",V={xml:k,xmlns:B},F=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,j=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,U=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,z=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,G=0;t.STATE={BEGIN:G++,BEGIN_WHITESPACE:G++,TEXT:G++,TEXT_ENTITY:G++,OPEN_WAKA:G++,SGML_DECL:G++,SGML_DECL_QUOTED:G++,DOCTYPE:G++,DOCTYPE_QUOTED:G++,DOCTYPE_DTD:G++,DOCTYPE_DTD_QUOTED:G++,COMMENT_STARTING:G++,COMMENT:G++,COMMENT_ENDING:G++,COMMENT_ENDED:G++,CDATA:G++,CDATA_ENDING:G++,CDATA_ENDING_2:G++,PROC_INST:G++,PROC_INST_BODY:G++,PROC_INST_ENDING:G++,OPEN_TAG:G++,OPEN_TAG_SLASH:G++,ATTRIB:G++,ATTRIB_NAME:G++,ATTRIB_NAME_SAW_WHITE:G++,ATTRIB_VALUE:G++,ATTRIB_VALUE_QUOTED:G++,ATTRIB_VALUE_CLOSED:G++,ATTRIB_VALUE_UNQUOTED:G++,ATTRIB_VALUE_ENTITY_Q:G++,ATTRIB_VALUE_ENTITY_U:G++,CLOSE_TAG:G++,CLOSE_TAG_SAW_WHITE:G++,SCRIPT:G++,SCRIPT_ENDING:G++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r});for(var W in t.STATE)t.STATE[t.STATE[W]]=W;G=t.STATE,String.fromCodePoint||function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,r,a=[],i=-1,o=arguments.length;if(!o)return"";for(var s="";++i<o;){var u=Number(arguments[i]);if(!isFinite(u)||u<0||u>1114111||t(u)!==u)throw RangeError("Invalid code point: "+u);u<=65535?a.push(u):(u-=65536,n=55296+(u>>10),r=u%1024+56320,a.push(n,r)),(i+1===o||a.length>16384)&&(s+=e.apply(null,a),a.length=0)}return s};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(t)}).call(t,n(8).Buffer)},function(e,t,n){"use strict";(function(){t.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(void 0)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yViewCrossLine"),e.initialize=function(){t.lineLeft=d.default.newInstance(),t.lineRight=d.default.newInstance(),t.lineDown=d.default.newInstance(),t.lineUp=d.default.newInstance(),t.lineActorLeft=l.default.newInstance(),t.lineActorRight=l.default.newInstance(),t.lineActorDown=l.default.newInstance(),t.lineActorUp=l.default.newInstance(),t.lineActorLeft.setPickable(!1),t.lineActorRight.setPickable(!1),t.lineActorDown.setPickable(!1),t.lineActorUp.setPickable(!1);var e=m.default.newInstance(),n=m.default.newInstance(),r=m.default.newInstance(),a=m.default.newInstance();e.setInputConnection(t.lineLeft.getOutputPort()),n.setInputConnection(t.lineRight.getOutputPort()),r.setInputConnection(t.lineDown.getOutputPort()),a.setInputConnection(t.lineUp.getOutputPort()),t.lineActorLeft.setMapper(e),t.lineActorRight.setMapper(n),t.lineActorDown.setMapper(r),t.lineActorUp.setMapper(a)},e.initColors=function(n){switch(n){case 0:e.setColor(1,0,0,0,0,1),t.depth=.5;break;case 1:e.setColor(1,0,0,0,1,0),t.depth=.5;break;case 2:e.setColor(0,0,1,0,1,0),t.depth=-.5}},e.initActors=function(e){if(!e)return void g("initActors: renderer is null.");e.hasViewProp(t.lineActorUp)||e.addActor(t.lineActorUp),e.hasViewProp(t.lineActorDown)||e.addActor(t.lineActorDown),e.hasViewProp(t.lineActorLeft)||e.addActor(t.lineActorLeft),e.hasViewProp(t.lineActorRight)||e.addActor(t.lineActorRight)},e.setCrossLinePosition=function(e,n,r,a,i){t.lineLeft.setPoint1(e[0],e[1],t.depth),t.lineLeft.setPoint2(i[0]-0,i[1],t.depth),t.lineRight.setPoint1(i[0]+0,i[1],t.depth),t.lineRight.setPoint2(n[0],n[1],t.depth),t.lineDown.setPoint1(r[0],r[1],t.depth),t.lineDown.setPoint2(i[0],i[1]-0,t.depth),t.lineUp.setPoint1(i[0],i[1]+0,t.depth),t.lineUp.setPoint2(a[0],a[1],t.depth)},e.setColor=function(e,n,r,a,i,o){t.lineActorLeft.getProperty().setColor(e,n,r),t.lineActorRight.getProperty().setColor(e,n,r),t.lineActorDown.getProperty().setColor(a,i,o),t.lineActorUp.getProperty().setColor(a,i,o)},e.setVisible=function(e){t.lineActorLeft.setVisibility(e),t.lineActorRight.setVisibility(e),t.lineActorDown.setVisibility(e),t.lineActorUp.setVisibility(e)},e.getVisible=function(){return t.lineActorUp.getVisibility()},e.initialize()}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),s.default.obj(e,t),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(24),l=r(u),c=n(361),d=r(c),f=n(20),m=r(f),g=s.default.vtkErrorMacro,p={lineLeft:null,lineRight:null,lineDown:null,lineUp:null,lineActorLeft:null,lineActorRight:null,lineActorDown:null,lineActorUp:null,depth:.5},v=t.newInstance=s.default.newInstance(i,"yViewCrossLine");t.default=Object.assign({newInstance:v,extend:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkLineSource"),e.requestData=function(e,n){if(!t.deleted){var r=n[0],a=r?r.getPoints().getDataType():"Float32Array",i=l.default.newInstance(),o=new Float32Array(3);if(d.default.subtract(t.point2,t.point1,o),d.default.norm(o)<=0)return void(n[0]=i);var s=t.resolution,u=s+1,c=new window[a](3*u);i.getPoints().setData(c,3);var f=new Uint32Array(u+1);i.getLines().setData(f,1);for(var m=0,g=0,p=0;p<s+1;p++)g=p/s,c[3*m]=t.point1[0]+g*o[0],c[3*m+1]=t.point1[1]+g*o[1],c[3*m+2]=t.point1[2]+g*o[2],m++;m=0,f[0]=u;for(var v=0;v<u;v++)f[v+1]=v;n[0]=i}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),s.default.obj(e,t),s.default.setGet(e,t,["resolution"]),s.default.setGetArray(e,t,["point1","point2"],3),s.default.algo(e,t,0,1),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(4),l=r(u),c=n(1),d=r(c),f={resolution:1,point1:[-1,0,0],point2:[1,0,0],pointType:"Float32Array"},m=t.newInstance=s.default.newInstance(i,"vtkLineSource");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){e.getBounds=function(){return 0},e.getBounds=function(n){e.getBounds();for(var r=0;r<6;r++)n[r]=t.bounds[r]},e.getCenter=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];e.getBounds();for(var i=0;i<3;i++)t.center[i]=(t.bounds[2*i+1]+t.bounds[2*i])/2;return Array.isArray(r[0])&&(r[0]=t.center.splice(0)),t.center},e.getLength=function(){var n=0,r=0;e.getBounds();for(var a=0;a<3;a++)n=t.bounds[2*a+1]-t.bounds[2*a],r+=n*n;return Math.sqrt(r)},e.getClippingPlaneInDataCoords=function(e,n,r){var a=t.clippingPlanes,i=e;if(a){var o=a.length;if(n>=0&&n<o){var u=a[n],l=u.getNormal(),c=u.getOrigin(),d=l[0],f=l[1],m=l[2],g=-(d*c[0]+f*c[1]+m*c[2]);return r[0]=d*i[0]+f*i[4]+m*i[8]+g*i[12],r[1]=d*i[1]+f*i[5]+m*i[9]+g*i[13],r[2]=d*i[2]+f*i[6]+m*i[10]+g*i[14],void(r[3]=d*i[3]+f*i[7]+m*i[11]+g*i[15])}}s.default.vtkErrorMacro("Clipping plane index "+n+" is out of range.")}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),l.default.extend(e,t,n),t.bounds||d.uninitializeBounds(t.bounds),t.center||(t.center=[0,0,0]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.extend=i;var o=n(0),s=r(o),u=n(127),l=r(u),c=n(1),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),f={bounds:[1,-1,1,-1,1,-1],center:[0,0,0]};t.default={extend:i}},function(e,t,n){"use strict";function r(e,t,n){n.forEach(function(n){e["get"+n.method]=function(){return t[n.key]},e["set"+n.method]=function(e,r){t[n.key]={factor:e,unit:r}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.addCoincidentTopologyMethods=r;var a=t.CATEGORIES=["Polygon","Line","Point"];t.default={addCoincidentTopologyMethods:r,CATEGORIES:a}},function(e,t,n){"use strict";function r(){return d}function a(e){d=e}function i(){return f}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;f=e}function s(){o(0)}function u(){o(0)}function l(){o(1)}function c(){return m[f]}Object.defineProperty(t,"__esModule",{value:!0}),t.getResolveCoincidentTopologyPolygonOffsetFaces=r,t.setResolveCoincidentTopologyPolygonOffsetFaces=a,t.getResolveCoincidentTopology=i,t.setResolveCoincidentTopology=o,t.setResolveCoincidentTopologyToDefault=s,t.setResolveCoincidentTopologyToOff=u,t.setResolveCoincidentTopologyToPolygonOffset=l,t.getResolveCoincidentTopologyAsString=c;var d=1,f=0,m=t.RESOLVE_COINCIDENT_TOPOLOGY_MODE=["VTK_RESOLVE_OFF","VTK_RESOLVE_POLYGON_OFFSET"];t.default={getResolveCoincidentTopologyAsString:c,getResolveCoincidentTopologyPolygonOffsetFaces:r,getResolveCoincidentTopology:i,setResolveCoincidentTopology:o,setResolveCoincidentTopologyPolygonOffsetFaces:a,setResolveCoincidentTopologyToDefault:s,setResolveCoincidentTopologyToOff:u,setResolveCoincidentTopologyToPolygonOffset:l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(!e||0===e.length)return 0;for(var t=1,n=e.indexOf("\n");-1!==n;)t++,n=e.indexOf("\n",n+1);return t}function i(e,t){t.classHierarchy.push("vtkCornerAnnotation"),e.releaseGraphicsResources=function(e){for(var n=0;n<y;n++)t.textActor[n].releaseGraphicsResources(e)},e.build=function(n){var r=!1,i=n.getFirstAncestorOfType("vtkOpenGLRenderWindow");if(n.getMTime()>t.buildTime.getMTime()||i.getMTime()>t.buildTime.getMTime()){var o=i.getSize();t.lastSize[0]===o[0]&&t.lastSize[1]===o[1]||(r=!0)}var s=t.textProperty&&t.textProperty.getMTime()>t.buildTime.getMTime();if(r||s||i.getMTime()>t.buildTime.getMTime()||e.getMTime()>t.buildTime.getMTime()){var u=i.getSize();e.textReplace(null,null),t.lastSize[0]=u[0],t.lastSize[1]=u[1];var l=t.textMapper[0].getTextProperty().getFontSize();if(s){for(var c=0;c<y;c++){var d=t.textMapper[c].getTextProperty();d.shallowCopy(t.textProperty),d.setFontSize(l)}e.setTextActorsJustification()}for(var f=!0,m=[],g=0;g<y;g++){var p=t.textMapper[g].getSize(n);m[2*g]=p[0],m[2*g+1]=p[1],(m[2*g]>0||m[2*g+1]>0)&&(f=!1)}if(f)return;for(var v=m[1]+m[5],h=m[3]+m[7],A=m[9]+m[15],S=m[0]+m[2],T=m[4]+m[6],M=m[10]+m[12],b=S>T?S:T,D=M>b?M:b,I=a(t.textMapper[0].getInput())+a(t.textMapper[2].getInput()),w=a(t.textMapper[1].getInput())+a(t.textMapper[3].getInput()),C=a(t.textMapper[4].getInput())+a(t.textMapper[7].getInput()),N=Math.floor(u[1]*t.maximumLineHeight)*(I||1),P=Math.floor(u[1]*t.maximumLineHeight)*(w||1),x=Math.floor(u[1]*t.maximumLineHeight)*(C||1),E=[Math.floor(.98*u[0]),Math.floor(.98*u[1])];v<E[1]&&h<E[1]&&A<E[1]&&D<E[0]&&v<N&&h<P&&A<x&&l<100;){l++;for(var O=0;O<y;O++){t.textMapper[O].getTextProperty().setFontSize(l);var L=t.textMapper[O].getSize(n);m[2*O]=L[0],m[2*O+1]=L[1]}v=m[1]+m[5],h=m[3]+m[7],A=m[9]+m[15],S=m[0]+m[2],T=m[4]+m[6],M=m[10]+m[12],b=S>T?S:T,D=M>b?M:b}for(;(v>E[1]||h>E[1]||A>E[1]||D>E[0]||v>N||h>P||A>x)&&l>1;){l--;for(var _=0;_<y;_++){t.textMapper[_].getTextProperty().setFontSize(l);var R=t.textMapper[_].getSize(n);m[2*_]=R[0],m[2*_+1]=R[1]}v=m[1]+m[5],h=m[3]+m[7],A=m[9]+m[15],S=m[0]+m[2],T=m[4]+m[6],M=m[10]+m[12],b=S>T?S:T,D=M>b?M:b}l=Math.floor(Math.pow(l,t.nonlinearFontScaleFactor)*t.linearFontScaleFactor),l>t.maximumFontSize&&(l=t.maximumFontSize),t.fontSize=l;for(var k=0;k<y;k++)t.textMapper[k].getTextProperty().setFontSize(l);e.setTextActorsPosition(u);for(var B=0;B<y;B++)t.textActor[B].setProperty(e.getProperty());t.buildTime.modified()}},e.renderOpaqueGeometry=function(n){if(e.getVisibility()&&t.fontSize>=t.minimumFontSize)for(var r=0;r<y;r++)t.textActor[r].renderOpaqueGeometry(n)},e.renderOverlay=function(n){if(e.getVisibility()&&t.fontSize>=t.minimumFontSize)for(var r=0;r<y;r++)t.textActor[r].renderOverlay(n)},e.textReplace=function(e,n){for(var r=0;r<y;r++)if(t.cornerText[r]&&t.cornerText[r].length>0){var a=t.cornerText[r];a=a.replace(/<image>/g,""),a=a.replace(/<image_and_max>/g,""),a=a.replace(/<slice>/g,""),a=a.replace(/<slice_and_max>/g,""),a=a.replace(/<slice_pos>/g,""),a=a.replace(/<window>/g,""),a=a.replace(/<level>/g,""),a=a.replace(/<window_level>/g,""),t.textMapper[r].setInput(a)}else t.textMapper[r].setInput("")},e.setTextActorsPosition=function(e){t.textActor[h.LOWERLEFT].setPosition(5,5),t.textActor[h.LOWERRIGHT].setPosition(e[0]-5,5),t.textActor[h.UPPERLEFT].setPosition(5,e[1]-5),t.textActor[h.UPPERRIGHT].setPosition(e[0]-5,e[1]-5),t.textActor[h.LOWEREDGE].setPosition(e[0]/2,5),t.textActor[h.UPPEREDGE].setPosition(e[0]/2,e[1]-5),t.textActor[h.LEFTEDGE].setPosition(5,e[1]/2),t.textActor[h.RIGHTEDGE].setPosition(e[0]-5,e[1]/2)},e.setTextActorsJustification=function(){var e=t.textMapper[h.LOWERLEFT].getTextProperty();e.setJustificationToLeft(),e.setVerticalJustificationToBottom(),e=t.textMapper[h.LOWERRIGHT].getTextProperty(),e.setJustificationToRight(),e.setVerticalJustificationToBottom(),e=t.textMapper[h.UPPERLEFT].getTextProperty(),e.setJustificationToLeft(),e.setVerticalJustificationToTop(),e=t.textMapper[h.UPPERRIGHT].getTextProperty(),e.setJustificationToRight(),e.setVerticalJustificationToTop(),e=t.textMapper[h.LOWEREDGE].getTextProperty(),e.setJustificationToCentered(),e.setVerticalJustificationToBottom(),e=t.textMapper[h.UPPEREDGE].getTextProperty(),e.setJustificationToCentered(),e.setVerticalJustificationToTop(),e=t.textMapper[h.LEFTEDGE].getTextProperty(),e.setJustificationToLeft(),e.setVerticalJustificationToCentered(),e=t.textMapper[h.RIGHTEDGE].getTextProperty(),e.setJustificationToRight(),e.setVerticalJustificationToCentered()},e.setCornerTextArray=function(n){for(var r=!1,a=0;a<n.length;a++)t.cornerText[a]!==n[a]&&(t.cornerText[a]=n[a],r=!0);r&&e.modified()},e.setCornerText=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];for(var i=!1,o=0;o<r.length;o++)t.cornerText[o]!==r[o]&&(t.cornerText[o]=r[o],i=!0);i&&e.modified()},e.setText=function(n,r){n<0||n>=y||t.cornerText[n]!==r&&(t.cornerText[n]=r,e.modified())},e.getText=function(e){return e<0||e>=y?null:t.cornerText[e]},e.clearAllTexts=function(){for(var t=0;t<y;t++)e.setText(t,"")},e.copyAllTextsFrom=function(t){for(var n=0;n<y;n++)e.setText(n,t.getText(n))},e.getTextActor=function(){return t.textActor},e.getActors=function(){return[]},e.getActors2D=function(){return e},e.getVolumes=function(){return[]},e.hasTranslucentPolygonalGeometry=function(){return!1},e.getBounds=function(){return[]}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),f.default.extend(e,t,n),t.positionCoordinate.setCoordinateSystemToNormalizedViewport(),t.positionCoordinate.setValue(.2,.85),t.textProperty=g.default.newInstance(),t.textProperty.setShadow(0),t.buildTime={},u.default.obj(t.buildTime,{mtime:0});for(var r=0;r<y;r++)t.cornerText[r]=null,t.textMapper[r]=c.default.newInstance(),t.textActor[r]=f.default.newInstance(),t.textActor[r].setMapper(t.textMapper[r]);u.default.setGet(e,t,["imageActor","windowLevel","textProperty","maximumLineHeight","fontSize","minimumFontSize","maximumFontSize","linearFontScaleFactor","nonlinearFontScaleFactor","showSliceAndImage","levelShift","levelScale"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(210),c=r(l),d=n(212),f=r(d),m=n(88),g=r(m),p=n(368),v=r(p),h=v.default.TextPosition,y=v.default.NumTextPositions,A={cornerText:[],textMapper:[],textActor:[],textProperty:null,imageActor:null,windowLevel:null,levelShift:0,levelScale:1,maximumLineHeight:1,minimumFontSize:6,maximumFontSize:200,linearFontScaleFactor:5,nonlinearFontScaleFactor:.35,showSliceAndImage:1,lastImageActor:null,buildTime:null,lastSize:[0,0],fontSize:15},S=t.newInstance=u.default.newInstance(o,"vtkCornerAnnotation");t.default={newInstance:S,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){return u.default.vtkErrorMacro("vtkMapper2D::"+e+" - NOT IMPLEMENTED")}}function i(e,t){t.classHierarchy.push("vtkMapper2D"),e.update=function(){e.getInputData()},e.getBounds=function(){var n=e.getInputData();return t.bounds||(t.bounds=y.default.createUninitializedBounds()),n&&(t.bounds=n.getBounds()),t.bounds},e.getCenter=function(){return S.default.getCenter(t.bounds)},e.getLength=function(){return S.default.getLength(t.bounds)},e.getXRange=function(){return S.default.getXRange(t.bounds)},e.getYRange=function(){return S.default.getYRange(t.bounds)},e.getZRange=function(){return S.default.getZRange(t.bounds)},e.createDefaultLookupTable=function(){t.lookupTable=f.default.newInstance()},e.setColorModeToDefault=function(){return e.setColorMode(0)},e.setColorModeToMapScalars=function(){return e.setColorMode(1)},e.setColorModeToDirectScalars=function(){return e.setColorMode(2)},e.getScalarModeAsString=function(){return u.default.enumToString(T,t.scalarMode)},e.setScalarModeToDefault=function(){return e.setScalarMode(0)},e.setScalarModeToUsePointData=function(){return e.setScalarMode(1)},e.setScalarModeToUseCellData=function(){return e.setScalarMode(2)},e.setScalarModeToUsePointFieldData=function(){return e.setScalarMode(3)},e.setScalarModeToUseCellFieldData=function(){return e.setScalarMode(4)},e.getIsOpaque=function(){var t=e.getLookupTable();return!t||(t.build(),t.isOpaque())},e.getAbstractScalars=function(e,t,n,r,a){var i=null,o=0;if(!e)return null;if(t===T.DEFAULT)i=e.getPointData().getScalars(),o=0,i||(i=e.getCellData().getScalars(),o=1);else if(t===T.USE_POINT_DATA)i=e.getPointData().getScalars(),o=0;else if(t===T.USE_CELL_DATA)i=e.getCellData().getScalars(),o=1;else if(t===T.USE_POINT_FIELD_DATA){var s=e.getPointData();i=n===M.BY_ID?s.getArrayByIndex(r):s.getArrayByName(a),o=0}else if(t===T.USE_CELL_FIELD_DATA){var u=e.getCellData();i=n===M.BY_ID?u.getArrayByIndex(r):u.getArrayByName(a),o=1}else if(t===T.USE_FIELD_DATA){var l=e.getFieldData();i=n===M.BY_ID?l.getArrayByIndex(r):l.getArrayByName(a),o=2}return{scalars:i,cellFlag:o}},e.clearColorArrays=function(){t.colorMapColors=null,t.colorCoordinates=null,t.colorTextureMap=null},e.getLookupTable=function(){return t.lookupTable||e.createDefaultLookupTable(),t.lookupTable},e.getMTime=function(){var e=t.mtime;if(null!==t.lookupTable){var n=t.lookupTable.getMTime();e=n>e?n:e}return e},e.mapScalars=function(n){if(t.colorMapColors&&(t.colorMapColors=null),t.scalarVisibility){var r=e.getAbstractScalars(e.getInputData(),t.scalarMode,t.arrayAccessMode,t.colorByArrayComponent,t.colorByArrayName).scalars;(!r||r.getNumberOfComponents()<=t.colorByArrayComponent)&&(t.colorByArrayComponent=0),r&&(r.getLookupTable()?t.lookupTable=r.getLookupTable():(t.lookupTable||e.createDefaultLookupTable(),t.lookupTable.build()),t.useLookupTableScalarRange&&t.lookupTable.setRange(t.scalarRange),t.lookupTable.setAlpha(n),t.colorMapColors=t.lookupTable.mapScalars(r,t.colorMode,0),t.colorMapColors=null)}return t.colorMapColors},e.acquireInvertibleLookupTable=a("AcquireInvertibleLookupTable"),e.valueToColor=a("ValueToColor"),e.colorToValue=a("ColorToValue"),e.useInvertibleColorFor=a("UseInvertibleColorFor"),e.clearInvertibleColor=a("ClearInvertibleColor")}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,D,n),c.default.extend(e,t,n),u.default.algo(e,t,1,0),u.default.get(e,t,["colorCoordinates","colorMapColors","colorTextureMap"]),u.default.setGet(e,t,["colorByArrayComponent","colorByArrayName","arrayAccessMode","colorMode","lookupTable","renderTime","scalarMode","scalarVisibility","useLookupTableScalarRange","viewSpecificProperties","lastPickState","pickStateChanged","transformCoordinate"]),u.default.setGetArray(e,t,["scalarRange"],2),t.viewSpecificProperties||(t.viewSpecificProperties={}),t.transformCoordinate=v.default.newInstance(),t.transformCoordinate.setValue(0,0),t.pickStateChanged={},u.default.obj(t.pickStateChanged,{mtime:0}),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(127),c=r(l),d=n(128),f=r(d),m=n(87),g=r(m),p=n(53),v=r(p),h=n(1),y=r(h),A=n(35),S=r(A),T=g.default.ScalarMode,M=g.default.GetArray,b={},D={colorMapColors:null,lookupTable:null,scalarVisibility:!0,scalarRange:[0,1],useLookupTableScalarRange:!1,colorMode:0,scalarMode:0,arrayAccessMode:1,renderTime:0,colorByArrayName:null,colorByArrayComponent:-1,colorCoordinates:null,colorTextureMap:null,lastPickState:0,pickStateChanged:0,transformCoordinate:null},I=t.newInstance=u.default.newInstance(o,"vtkMapper2D");t.default=Object.assign({newInstance:I,extend:o},b)},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkProperty2D")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.setGet(e,t,["opacity","lineWidth","pointSize","displayLocation"]),o.default.setGetArray(e,t,["color"],3),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={color:[1,1,1],opacity:1,pointSize:1,lineWidth:1,displayLocation:"Foreground"},u=t.newInstance=o.default.newInstance(a,"vtkProperty2D");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.TextPosition={LOWERLEFT:0,LOWERRIGHT:1,UPPERLEFT:2,UPPERRIGHT:3,LOWEREDGE:4,RIGHTEDGE:5,LEFTEDGE:6,UPPEREDGE:7},a=t.NumTextPositions=8;t.default={TextPosition:r,NumTextPositions:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkInteractorStyle"),Object.keys(m).forEach(function(n){s.default.event(e,t,"Start"+n+"Event"),e["start"+n]=function(){t.state===f.IS_NONE&&(t.state=m[n],t.enableAnimate?(t.interactor.requestAnimation(e),e.invokeStartInteractionEvent({type:"StartInteractionEvent"}),e["invokeStart"+n+"Event"]({type:"Start"+n+"Event"})):(e.invokeStartInteractionEvent({type:"StartInteractionEvent"}),e["invokeStart"+n+"Event"]({type:"Start"+n+"Event"}),t.interactor.render()),t.renderCount=0)},s.default.event(e,t,"End"+n+"Event"),e["end"+n]=function(){t.state===m[n]&&(t.state=f.IS_NONE,t.enableAnimate&&t.interactor.cancelAnimation(e),e.invokeEndInteractionEvent({type:"EndInteractionEvent"}),e["invokeEnd"+n+"Event"]({type:"End"+n+"Event"}),t.interactor.render())}}),e.handleKeyPress=function(e){var n=t.interactor,r=null;switch(e.key){case"r":case"R":e.pokedRenderer.resetCamera(),n.render();break;case"w":case"W":r=e.pokedRenderer.getActors(),r.forEach(function(e){e.getProperty().setRepresentationToWireframe()}),n.render();break;case"s":case"S":r=e.pokedRenderer.getActors(),r.forEach(function(e){e.getProperty().setRepresentationToSurface()}),n.render();break;case"v":case"V":r=e.pokedRenderer.getActors(),r.forEach(function(e){e.getProperty().setRepresentationToPoints()}),n.render()}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l.default.extend(e,t,n),s.default.setGet(e,t,["enableAnimate"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(21),l=r(u),c=n(130),d=r(c),f=d.default.States,m={Rotate:f.IS_ROTATE,Pan:f.IS_PAN,Spin:f.IS_SPIN,Dolly:f.IS_DOLLY,CameraPose:f.IS_CAMERA_POSE,WindowLevel:f.IS_WINDOW_LEVEL,Slice:f.IS_SLICE,ResliceAll:f.IS_RESLICE_ALL,ResliceSingle:f.IS_RESLICE_SINGLE},g={state:f.IS_NONE,handleObservers:1,autoAdjustCameraClippingRange:1,enableAnimate:!0,renderCount:0},p=t.newInstance=s.default.newInstance(i,"vtkInteractorStyle");t.default=Object.assign({newInstance:p,extend:i},d.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){for(var a={planeId:-1,t1:0,t2:1,intersect:0},i=e.getNumberOfClippingPlanes(),o=[],s=0;s<i;s++){e.getClippingPlaneInDataCoords(t,s,o);var u=o[0]*n[0]+o[1]*n[1]+o[2]*n[2]+o[3],l=o[0]*r[0]+o[1]*r[1]+o[2]*r[2]+o[3];if(u<0&&l<0)return 0;if(u<0||l<0){var c=0;if(0!==u&&(c=u/(u-l)),u<0?c>=a.t1&&(a.t1=c,a.planeId=s):c<=a.t2&&(a.t2=c),a.t1>a.t2)return a.intersect=0,a}}return a.intersect=1,a}function i(e,t){t.classHierarchy.push("vtkPointPicker"),e.intersectWithLine=function(n,r,a,i,o){var s=o.getInputData(),u=0,l=s.getNumberOfPoints();if(l<=u)return 2;for(var d=[],f=0;f<3;f++)d[f]=r[f]-n[f];var m=c.default.dot(d,d);if(0===m)return v("Cannot process points"),2;var g=void 0,p=-1,h=Number.MAX_VALUE,y=Number.MAX_VALUE,A=[],S=[],T=[];if(t.useCells)for(var M=s.getCellData(),b=M[0],D=s.getNumberOfCells(),I=0;I<D;I++)for(var w=I*b+1,C=w+b,N=w;N<C;N++){var P=M[N];if(T=s.getPoint(P),(g=(d[0]*(T[0]-n[0])+d[1]*(T[1]-n[1])+d[2]*(T[2]-n[2]))/m)>=0&&g<=1&&g<=h+t.tolerance){for(var x=0,E=0;E<3;E++){A[E]=n[E]+g*d[E];var O=Math.abs(T[E]-A[E]);O>x&&(x=O)}x<=a&&x<y&&(p=u,S[0]=T[0],S[1]=T[1],S[2]=T[2],t.mapperPosition=S,y=x,h=g)}}else for(u=0;u<l;u++)if(T=s.getPoint(u),(g=(d[0]*(T[0]-n[0])+d[1]*(T[1]-n[1])+d[2]*(T[2]-n[2]))/m)>=0&&g<=1&&g<=h+t.tolerance){for(var L=0,_=0;_<3;_++){A[_]=n[_]+g*d[_];var R=Math.abs(T[_]-A[_]);R>L&&(L=R)}L<=a&&L<y&&(p=u,S[0]=T[0],S[1]=T[1],S[2]=T[2],t.mapperPosition=S,y=L,h=g)}return h<t.globalTMin&&(t.globalTMin=h,e.setPath(i)),t.pointId=p,h},e.pick=function(n,r){3!==n.length&&h("vtkPicker::pick: selectionPt needs three components");var a=n[0],i=n[1],o=n[2],s=[],u=[],l=[],d=[],f=[],m=[],y=[],A=void 0,S=void 0,T=[],M=[],b=[],D=[],I=void 0,w=void 0,C=[],N=[],P=0,x=[],E=!1,O=p.vec4.create(),L=p.vec4.create(),_=[0,0,0,0,0,0],R=[],k=[],B=r.getRenderWindow().getViews()[0];if(e.initialize(),t.renderer=r,t.selectionPoint[0]=a,t.selectionPoint[1]=i,t.selectionPoint[2]=o,!r)return v("Picker::Pick Must specify renderer"),0;var V=r.getActiveCamera();s=V.getPosition(),s[3]=1,u=V.getFocalPoint(),u[3]=1,l=r.worldToNormalizedDisplay(u[0],u[1],u[2]),l=B.normalizedDisplayToDisplay(l[0],l[1],l[2]),o=l[2];var F=B.displayToNormalizedDisplay(a,i,o),j=B.getViewportSize(r),U=j[0]/j[1];d=r.normalizedDisplayToWorld(F[0],F[1],F[2],U);for(var z=0;z<3;z++)t.pickPosition[z]=d[z];for(var G=0;G<3;G++)f[G]=t.pickPosition[G]-s[G];for(var W=0;W<3;W++)m[W]=u[W]-s[W];c.default.normalize(m);var Q=c.default.dot(m,f);if(0===Q)return h("Picker::Pick Cannot process points"),0;if(y=V.getClippingRange(),V.getParallelProjection()){A=y[0]-Q,S=y[1]-Q;for(var Y=0;Y<3;Y++)T[Y]=t.pickPosition[Y]+A*m[Y],M[Y]=t.pickPosition[Y]+S*m[Y]}else{A=y[0]/Q,S=y[1]/Q;for(var q=0;q<3;q++)T[q]=s[q]+A*f[q],M[q]=s[q]+S*f[q]}T[3]=1,M[3]=1,b=r.getViewport(),r.getRenderWindow()&&(D=r.getRenderWindow().getViews()[0].getSize()),I=D[0]*b[0],w=D[1]*b[1];var H=B.displayToNormalizedDisplay(I,w,o);C=r.normalizedDisplayToWorld(H[0],H[1],H[2],U),I=D[0]*b[2],w=D[1]*b[3];var Z=B.displayToNormalizedDisplay(I,w,o);N=r.normalizedDisplayToWorld(Z[0],Z[1],Z[2],U);for(var K=0;K<3;K++)P+=(N[K]-C[K])*(N[K]-C[K]);P=Math.sqrt(P)*t.tolerance,x=t.pickFromList?t.pickList:r.getViewProps();var X=[];return x.forEach(function(n){var r=n.getMapper();if(E=n.getPickable()&&n.getVisibility(),n.getProperty().getOpacity()<=0&&(E=!1),E){if(t.transformMatrix=n.getMatrix(),!t.transformMatrix)return 0;p.mat4.transpose(t.transformMatrix,t.transformMatrix),p.mat4.invert(t.transformMatrix,t.transformMatrix);var a=[t.transformMatrix[0],t.transformMatrix[1],t.transformMatrix[2]],i=[t.transformMatrix[4],t.transformMatrix[5],t.transformMatrix[6]],o=[t.transformMatrix[8],t.transformMatrix[9],t.transformMatrix[10]];X[0]=c.default.norm(a),X[1]=c.default.norm(i),X[2]=c.default.norm(o),p.vec4.transformMat4(O,T,t.transformMatrix),p.vec4.transformMat4(L,M,t.transformMatrix),O[0]/=O[3],O[1]/=O[3],O[2]/=O[3],L[0]/=L[3],L[1]/=L[3],L[2]/=L[3];for(var s=0;s<3;s++)f[s]=L[s]-O[s];if(r&&(_=r.getBounds()),_[0]-=P,_[1]+=P,_[2]-=P,_[3]+=P,_[4]-=P,_[5]+=P,g.default.intersectBox(_,O,f,k,R)&&(R[0]=e.intersectWithLine(O,L,.333*P*(X[0]+X[1]+X[2]),[n],r),R[0]<Number.MAX_VALUE)){var u=[];u[0]=(1-R[0])*T[0]+R[0]*M[0],u[1]=(1-R[0])*T[1]+R[0]*M[1],u[2]=(1-R[0])*T[2]+R[0]*M[2];for(var l=-1,d=0;d<t.actors.length;d++)if(t.actors[d]===n){l=d;break}if(-1===l)t.actors.push(n),t.pickedPositions.push(u);else{var m=t.pickedPositions[l],v=c.default.distance2BetweenPoints(T,m);c.default.distance2BetweenPoints(T,u)<v&&(t.pickedPositions[l]=u)}}}return e.invokePickChange(t.pickedPositions),1}),1}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),f.default.extend(e,t,n),u.default.get(e,t,["pointId"]),u.default.setGet(e,t,["useCells"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=o;var s=n(0),u=r(s),l=n(1),c=r(l),d=n(216),f=r(d),m=n(131),g=r(m),p=n(3),v=u.default.vtkErrorMacro,h=u.default.vtkWarningMacro,y=(t.STATIC={clipLineWithPlane:a},{pointId:-1,useCells:!1}),A=t.newInstance=u.default.newInstance(o,"vtkPointPicker");t.default={newInstance:A,extend:o}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkAbstractPicker"),e.initialize=function(){t.renderer=null,t.selectionPoint[0]=0,t.selectionPoint[1]=0,t.selectionPoint[2]=0,t.pickPosition[0]=0,t.pickPosition[1]=0,t.pickPosition[2]=0},e.initializePickList=function(){t.pickList=[]},e.addPickList=function(e){t.pickList.push(e)},e.deletePickList=function(e){var n=t.pickList.indexOf(e);-1!==n&&t.pickList.splice(n,1)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.get(e,t,["renderer"]),o.default.getArray(e,t,["selectionPoint","pickPosition"]),o.default.setGet(e,t,["pickFromList","pickList"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={renderer:null,selectionPoint:[0,0,0],pickPosition:[0,0,0],pickFromList:0,pickList:[]},u=t.newInstance=o.default.newInstance(a,"vtkAbstractPicker");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return a(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=!0,i=!1,o=void 0;try{for(var s,u=this.__listeners[e][Symbol.iterator]();!(a=(s=u.next()).done);a=!0)s.value.apply(void 0,n)}catch(e){i=!0,o=e}finally{try{!a&&u.return&&u.return()}finally{if(i)throw o}}return this}},{key:"once",value:function(e,t){var n=this,r=function r(){n.off(e,r),t.apply(void 0,arguments)};return this.on(e,r)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter(function(e){return e!==t}):[],this}}]),e}();e.exports=i},function(e,t,n){"use strict";e.exports=function(){return n(133)('!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n.n(r);o()(function(e,t){const n={buffer:[]};return Promise.resolve(new o.a.TransferableResponse(n,[n.buffer]))})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!==(void 0===t?"undefined":c(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":c(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=a({},m,e),n=self.postMessage.bind(self),f=new(function(e){function r(){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return u(r,e),l(r,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var t,n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"emit",this)).call.apply(t,[this,e].concat(o))}},{key:"operation",value:function(e,n){return t[e]=n,this}}]),r}(p)),c=function(e,t,n){var r=function(t){t&&t instanceof g?w(e,d,t.payload,t.transferable):w(e,d,t)},o=function(t){w(e,h,{message:t.message,stack:t.stack})};try{var i=y(e,t,n);_(i)?i.then(r).catch(o):r(i)}catch(e){o(e)}},y=function(e,n,r){var o=t[r||m];if(!o)throw new Error("Not found handler for this request");return o(n,O.bind(null,e))},w=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n([v,e,t,r],o)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");n([b,e,t,r])};return self.addEventListener("message",function(e){var t=e.data;Array.isArray(t)?c.apply(void 0,r(t)):t&&t.eventName&&f.emitLocally.apply(f,[t.eventName].concat(r(t.args)))}),f}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0},y="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return void 0===e?"undefined":c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":c(e)},p=n(2),v=0,b=1,h=0,d=1,m="main",_=function(e){return"object"===(void 0===e?"undefined":y(e))&&"function"==typeof e.then&&"function"==typeof e.catch},g=function e(t,n){o(this,e),this.payload=t,this.transferable=n};e.exports=f,e.exports.TransferableResponse=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return o(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=!0,i=!1,u=void 0;try{for(var a,f=this.__listeners[e][Symbol.iterator]();!(o=(a=f.next()).done);o=!0)a.value.apply(void 0,n)}catch(e){i=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw u}}return this}},{key:"once",value:function(e,t){var n=this,r=function r(){n.off(e,r),t.apply(void 0,arguments)};return this.on(e,r)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter(function(e){return e!==t}):[],this}}]),e}();e.exports=i}]);',null)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkForwardPass"),e.traverse=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t.deleted){t.currentParent=r,e.setCurrentOperation("buildPass"),n.traverse(e);for(var a=n.getRenderable().getNumberOfLayers(),i=n.getChildren(),o=0;o<a;o++)for(var s=0;s<i.length;s++){var u=i[s],c=n.getRenderable().getRenderers()[s];if(c.getLayer()===o){t.opaqueActorCount=0,e.resetTranslucentActorCount(),t.volumeCount=0,e.setCurrentOperation("queryPass"),u.traverse(e);var d=n.isA("vtkOpenGLRenderWindow")&&n.getChildren()[0]&&n.getChildren()[0].isA("vtkOpenGLRenderer");if(d){var f=n.getChildren()[0];d=f.getRenderable().getUseDepthPeeling()&&f.isSupportDepthPeeling()}if(t.opaqueActorCount>0&&t.volumeCount>0||d&&t.translucentActorCount>0||t.depthRequested){var m=n.getFramebufferSize();null===t.framebuffer&&(t.framebuffer=l.default.newInstance()),t.framebuffer.setOpenGLRenderWindow(n),t.framebuffer.saveCurrentBindingsAndBuffers();var g=t.framebuffer.getSize();null!==g&&g[0]===m[0]&&g[1]===m[1]||(t.framebuffer.create(m[0],m[1]),d?t.framebuffer.populateFramebufferDepthPeel():t.framebuffer.populateFramebuffer()),t.framebuffer.bind(),e.setCurrentOperation("opaqueZBufferPass"),u.traverse(e),t.framebuffer.restorePreviousBindingsAndBuffers()}e.setCurrentOperation("cameraPass"),u.traverse(e),t.opaqueActorCount>0&&(e.setCurrentOperation("opaquePass"),u.traverse(e)),t.translucentActorCount>0&&(e.setCurrentOperation("translucentPass"),u.traverse(e)),t.volumeCount>0&&(e.setCurrentOperation("volumePass"),u.traverse(e)),e.setCurrentOperation("overlayPass"),u.traverse(e)}}}},e.getZBufferTexture=function(){return t.framebuffer?t.framebuffer.getColorTexture():null},e.getDepthTexture=function(){return t.framebuffer?t.framebuffer.getDepthTexture():null},e.incrementOpaqueActorCount=function(){return t.opaqueActorCount++},e.resetTranslucentActorCount=function(){t.translucentActorCount=0,t.translucentActors.length=0},e.incrementTranslucentActorCount=function(e){t.translucentActorCount++,t.translucentActors.push(e)},e.incrementVolumeCount=function(){return t.volumeCount++}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),d.default.extend(e,t,n),s.default.get(e,t,["framebuffer"]),s.default.setGet(e,t,["opaqueActorCount","translucentActorCount","volumeCount","depthRequested"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(89),l=r(u),c=n(136),d=r(c),f={opaqueActorCount:0,translucentActorCount:0,volumeCount:0,framebuffer:null,depthRequested:!1,translucentActors:[]},m=t.newInstance=s.default.newInstance(i,"vtkForwardPass");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLCellArrayBufferObject"),e.setType(c.ObjectType.ARRAY_BUFFER),e.createVBO=function(n,r,a,i){if(!n.getData()||!n.getData().length)return t.elementCount=0,0;t.blockSize=3,t.vertexOffset=0,t.normalOffset=0,t.tCoordOffset=0,t.tCoordComponents=0,t.colorComponents=0,t.colorOffset=0,t.customData=[];var o=i.points.getData(),s=null,u=null,m=null,g=i.colors?i.colors.getNumberOfComponents():0,p=i.tcoords?i.tcoords.getNumberOfComponents():0;i.normals&&(t.normalOffset=4*t.blockSize,t.blockSize+=3,s=i.normals.getData()),i.customAttributes&&i.customAttributes.forEach(function(e){e&&(t.customData.push({data:e.getData(),offset:4*t.blockSize,components:e.getNumberOfComponents(),name:e.getName()}),t.blockSize+=e.getNumberOfComponents())}),i.tcoords&&(t.tCoordOffset=4*t.blockSize,t.tCoordComponents=p,t.blockSize+=p,u=i.tcoords.getData()),i.colors?(t.colorComponents=i.colors.getNumberOfComponents(),t.colorOffset=0,m=i.colors.getData(),t.colorBO||(t.colorBO=l.default.newInstance()),t.colorBO.setOpenGLRenderWindow(t.openGLRenderWindow)):t.colorBO=null,t.stride=4*t.blockSize;var v=0,h=0,y=0,A=0,S=0,T=0,M=void 0,b={anythingToPoints:function(e,t,n){for(var r=0;r<e;++r)M(t[n+r])},linesToWireframe:function(e,t,n){for(var r=0;r<e-1;++r)M(t[n+r]),M(t[n+r+1])},polysToWireframe:function(e,t,n){for(var r=0;r<e;++r)M(t[n+r]),M(t[n+(r+1)%e])},stripsToWireframe:function(e,t,n){for(var r=0;r<e-1;++r)M(t[n+r]),M(t[n+r+1]);for(var a=0;a<e-2;a++)M(t[n+a]),M(t[n+a+2])},polysToSurface:function(e,t,n){if(e<3)f("skipping degenerate triangle");else for(var r=0;r<e-2;r++)M(t[n+0]),M(t[n+r+1]),M(t[n+r+2])},stripsToSurface:function(e,t,n){for(var r=0;r<e-2;r++)M(t[n+r]),M(t[n+r+1+r%2]),M(t[n+r+1+(r+1)%2])}},D={anythingToPoints:function(e,t){return e},linesToWireframe:function(e,t){return 2*(e-1)},polysToWireframe:function(e,t){return 2*e},stripsToWireframe:function(e,t){return 4*e-6},polysToSurface:function(e,t){return e<3?0:3*(e-2)},stripsToSurface:function(e,t,n){return 3*(e-2)}},I=null,w=null;a===d.Representation.POINTS||"verts"===r?(I=b.anythingToPoints,w=D.anythingToPoints):a===d.Representation.WIREFRAME||"lines"===r?(I=b[r+"ToWireframe"],w=D[r+"ToWireframe"]):(I=b[r+"ToSurface"],w=D[r+"ToSurface"]);for(var C=n.getData(),N=C.length,P=0,x=0;x<N;)P+=w(C[x],C),x+=C[x]+1;var E=null,O=new Float32Array(P*t.blockSize);m&&(E=new Uint8Array(4*P));var L=0,_=0;M=function(e){if(v=3*e,O[L++]=o[v++],O[L++]=o[v++],O[L++]=o[v++],null!==s&&(h=i.haveCellNormals?3*(T+i.cellOffset):3*e,O[L++]=s[h++],O[L++]=s[h++],O[L++]=s[h++]),t.customData.forEach(function(t){S=e*t.components;for(var n=0;n<t.components;++n)O[L++]=t.data[S++]}),null!==u){y=e*p;for(var n=0;n<p;++n)O[L++]=u[y++]}null!==m&&(A=i.haveCellScalars?(T+i.cellOffset)*g:e*g,E[_++]=m[A++],E[_++]=m[A++],E[_++]=m[A++],E[_++]=4===g?m[A++]:255)};for(var R=0;R<N;)I(C[R],C,R+1),R+=C[R]+1,T++;return t.elementCount=P,e.upload(O,c.ObjectType.ARRAY_BUFFER),t.colorBO&&(t.colorBOStride=4,t.colorBO.upload(E,c.ObjectType.ARRAY_BUFFER)),T},e.setCoordShiftAndScaleMethod=function(e){m("coordinate shift and scale not yet implemented")},e.setCoordShift=function(e){m("coordinate shift and scale not yet implemented")},e.setCoordScale=function(e){m("coordinate shift and scale not yet implemented")}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),l.default.extend(e,t,n),s.default.setGet(e,t,["colorBO","elementCount","stride","colorBOStride","vertexOffset","normalOffset","tCoordOffset","tCoordComponents","colorOffset","colorComponents","customData"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(54),l=r(u),c=n(43),d=n(52),f=s.default.vtkDebugMacro,m=s.default.vtkErrorMacro,g={elementCount:0,stride:0,colorBOStride:0,vertexOffset:0,normalOffset:0,tCoordOffset:0,tCoordComponents:0,colorOffset:0,colorComponents:0,tcoordBO:null,customData:[]},p=t.newInstance=s.default.newInstance(i);t.default={newInstance:p,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkShader"),e.compile=function(){var e=t.context.VERTEX_SHADER;if(!t.source||!t.source.length||"Unknown"===t.shaderType)return!1;switch(0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0),t.shaderType){case"Fragment":e=t.context.FRAGMENT_SHADER;break;case"Vertex":default:e=t.context.VERTEX_SHADER}if(t.handle=t.context.createShader(e),t.context.shaderSource(t.handle,t.source),t.context.compileShader(t.handle),!t.context.getShaderParameter(t.handle,t.context.COMPILE_STATUS)){var n=t.context.getShaderInfoLog(t.handle);return s("Error compiling shader '"+t.source+"': "+n),t.context.deleteShader(t.handle),t.handle=0,!1}return!0},e.cleanup=function(){"Unknown"!==t.shaderType&&0!==t.handle&&(t.context.deleteShader(t.handle),t.handle=0,t.dirty=!0)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,u,n),o.default.obj(e,t),o.default.setGet(e,t,["shaderType","source","error","handle","context"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o.default.vtkErrorMacro,u={shaderType:"Unknown",source:"",error:"",handle:0,dirty:!1,context:null},l=t.newInstance=o.default.newInstance(a,"vtkShader");t.default={newInstance:l,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLViewNodeFactory")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ee,n),d.default.extend(e,t,n),a(e,t),e.registerOverride("vtkActor",m.default.newInstance),e.registerOverride("vtkActor2D",p.default.newInstance),e.registerOverride("vtkCamera",h.default.newInstance),e.registerOverride("vtkGlyph3DMapper",A.default.newInstance),e.registerOverride("vtkImageMapper",T.default.newInstance),e.registerOverride("vtkImageSlice",I.default.newInstance),e.registerOverride("vtkMapper",P.default.newInstance),e.registerOverride("vtkImageMapper3D",b.default.newInstance),e.registerOverride("vtkPixelSpaceCallbackMapper",C.default.newInstance),e.registerOverride("vtkRenderWindow",E.default.newInstance),e.registerOverride("vtkRenderer",L.default.newInstance),e.registerOverride("vtkSphereMapper",R.default.newInstance),e.registerOverride("vtkStickMapper",B.default.newInstance),e.registerOverride("vtkTexture",F.default.newInstance),e.registerOverride("vtkVolume",U.default.newInstance),e.registerOverride("vtkVolumeMapper",G.default.newInstance),e.registerOverride("vtkTextMapper",Q.default.newInstance),e.registerOverride("vtkCornerAnnotation",q.default.newInstance),e.registerOverride("vtkLogoRepresentation",Z.default.newInstance),e.registerOverride("vtkWidgetRepresentation",l.default.newInstance),e.registerOverride("vtkMapper2D",X.default.newInstance),e.registerOverride("vtkAxisActor2D",$.default.newInstance)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(378),l=r(u),c=n(379),d=r(c),f=n(380),m=r(f),g=n(381),p=r(g),v=n(382),h=r(v),y=n(383),A=r(y),S=n(388),T=r(S),M=n(389),b=r(M),D=n(390),I=r(D),w=n(391),C=r(w),N=n(90),P=r(N),x=n(218),E=r(x),O=n(392),L=r(O),_=n(396),R=r(_),k=n(398),B=r(k),V=n(25),F=r(V),j=n(400),U=r(j),z=n(401),G=r(z),W=n(404),Q=r(W),Y=n(405),q=r(Y),H=n(406),Z=r(H),K=n(407),X=r(K),J=n(410),$=r(J),ee={},te=t.newInstance=s.default.newInstance(i,"vtkOpenGLViewNodeFactory");t.default={newInstance:te,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkGenericWidgetRepresentation")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(9),l=r(u),c={},d=t.newInstance=s.default.newInstance(i);t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";function r(e,t){t.overrides={},t.classHierarchy.push("vtkViewNodeFactory"),e.createNode=function(n){if(n.isDeleted())return null;for(var r=0,a=n.getClassName(r++),i=!1,o=Object.keys(t.overrides);a&&!i;)-1!==o.indexOf(a)?i=!0:a=n.getClassName(r++);if(!i)return null;var s=t.overrides[a]();return s.setMyFactory(e),s},e.registerOverride=function(e,n){t.overrides[e]=n}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={},u=t.newInstance=o.default.newInstance(a,"vtkViewNodeFactory");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLActor"),e.buildPass=function(n){if(n){t.openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t.context=t.openGLRenderWindow.getContext(),e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes(),t.ogltextures=null,t.activeTextures=null;for(var r=0;r<t.children.length;r++){var a=t.children[r];a.isA("vtkOpenGLTexture")?(t.ogltextures||(t.ogltextures=[]),t.ogltextures.push(a)):t.oglmapper=a}}},e.traverseOpaqueZBufferPass=function(t){e.traverseOpaquePass(t)},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&t.oglmapper&&(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.traverseTranslucentZBufferPass=function(t){e.traverseTranslucentPass(t)},e.traverseTranslucentPass=function(n){t.renderable&&t.renderable.getVisibility()&&!t.renderable.getIsOpaque()&&t.oglmapper&&(e.apply(n,!0),t.oglmapper.traverse(n),e.apply(n,!1))},e.activateTextures=function(){if(t.ogltextures){t.activeTextures=[];for(var e=0;e<t.ogltextures.length;e++){var n=t.ogltextures[e];n.render(),n.getHandle()&&t.activeTextures.push(n)}}},e.queryPass=function(n,r){if(n){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount(e)}},e.opaqueZBufferPass=function(t,n){return e.opaquePass(t,n)},e.opaquePass=function(n,r){if(n)t.openGLRenderWindow.enableDepthMask(),e.activateTextures();else if(t.activeTextures)for(var a=0;a<t.activeTextures.length;a++)t.activeTextures[a].deactivate()},e.translucentZBufferPass=function(t,n){return e.translucentPass(t,n)},e.translucentPass=function(n,r){if(n)r.getDepthPeelingOn()?t.openGLRenderWindow.enableDepthMask():t.openGLRenderWindow.disableDepthMask(),e.activateTextures();else{if(t.activeTextures)for(var a=0;a<t.activeTextures.length;a++)t.activeTextures[a].deactivate();r.getDepthPeelingOn()||t.openGLRenderWindow.enableDepthMask()}},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),o.mat4.copy(t.keyMatrices.mcwc,t.renderable.getMatrix()),o.mat4.transpose(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.renderable.getIsIdentity()?o.mat3.identity(t.keyMatrices.normalMatrix):(o.mat3.fromMat4(t.keyMatrices.normalMatrix,t.keyMatrices.mcwc),o.mat3.invert(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),o.mat3.transpose(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix)),t.keyMatrixTime.modified()),t.keyMatrices}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),c.default.extend(e,t,n),t.keyMatrixTime={},u.default.obj(t.keyMatrixTime,{mtime:0}),t.keyMatrices={normalMatrix:o.mat3.create(),mcwc:o.mat4.create()},u.default.setGet(e,t,["context"]),u.default.get(e,t,["activeTextures"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(9),c=r(l),d={context:null,keyMatrixTime:null,keyMatrices:null,activeTextures:null},f=t.newInstance=u.default.newInstance(i);t.default={newInstance:f,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkOpenGLActor2D"),e.buildPass=function(n){if(n){if(!t.renderable)return;e.prepareNodes(),e.addMissingNodes(t.renderable.getTextures()),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&(e.apply(n,!0),t.children.forEach(function(e){e.isA("vtkOpenGLTexture")||e.traverse(n)}),e.apply(n,!1))},e.traverseTranslucentPass=function(n){t.renderable&&t.renderable.getVisibility()&&!t.renderable.getIsOpaque()&&(e.apply(n,!0),t.children.forEach(function(e){e.isA("vtkOpenGLTexture")||e.traverse(n)}),e.apply(n,!1))},e.activateTextures=function(){t.activeTextures=[],t.children.forEach(function(e){e.isA("vtkOpenGLTexture")&&(e.render(),e.getHandle()&&t.activeTextures.push(e))})},e.opaquePass=function(n,r){n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(!0),e.activateTextures()):t.activeTextures.forEach(function(e){e.deactivate()})},e.translucentPass=function(n,r){n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(r.getDepthPeelingOn()),e.activateTextures()):(t.activeTextures.forEach(function(e){e.deactivate()}),r.getDepthPeelingOn()||t.context.depthMask(!0))}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),u.default.extend(e,t,n),o.setGet(e,t,["context"]),o.get(e,t,["activeTextures"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n(9),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l={context:null,activeTextures:[]},c=t.newInstance=o.newInstance(a);t.default={newInstance:c,extend:a}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkOpenGLCamera"),e.buildPass=function(n){n&&(t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.context=t.openGLRenderWindow.getContext())},e.opaquePass=function(e){if(e){var n=t.openGLRenderer.getTiledSizeAndOrigin();t.context.viewport(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize),t.context.scissor(n.lowerLeftU,n.lowerLeftV,n.usize,n.vsize)}},e.translucentPass=e.opaquePass,e.translucentZBufferPass=e.opaquePass,e.opaqueZBufferPass=e.opaquePass,e.volumePass=e.opaquePass,e.getKeyMatrices=function(n){if(n!==t.lastRenderer||t.openGLRenderWindow.getMTime()>t.keyMatrixTime.getMTime()||e.getMTime()>t.keyMatrixTime.getMTime()||n.getMTime()>t.keyMatrixTime.getMTime()||t.renderable.getMTime()>t.keyMatrixTime.getMTime()){i.mat4.copy(t.keyMatrices.wcvc,t.renderable.getViewMatrix()),i.mat3.fromMat4(t.keyMatrices.normalMatrix,t.keyMatrices.wcvc),i.mat3.invert(t.keyMatrices.normalMatrix,t.keyMatrices.normalMatrix),i.mat4.transpose(t.keyMatrices.wcvc,t.keyMatrices.wcvc);var r=t.openGLRenderer.getAspectRatio();i.mat4.copy(t.keyMatrices.vcdc,t.renderable.getProjectionMatrix(r,-1,1)),i.mat4.transpose(t.keyMatrices.vcdc,t.keyMatrices.vcdc),i.mat4.multiply(t.keyMatrices.wcdc,t.keyMatrices.vcdc,t.keyMatrices.wcvc),t.keyMatrixTime.modified(),t.lastRenderer=n}return t.keyMatrices}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),t.keyMatrixTime={},s.obj(t.keyMatrixTime),t.keyMatrices={normalMatrix:i.mat3.create(),vcdc:i.mat4.create(),wcvc:i.mat4.create(),wcdc:i.mat4.create()},s.setGet(e,t,["context","keyMatrixTime"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(3),o=n(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),u=n(9),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c={context:null,lastRenderer:null,keyMatrixTime:null,keyMatrices:null},d=t.newInstance=s.newInstance(a);t.default={newInstance:d,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLGlyph3DMapper");var n=Object.assign({},e);e.renderPiece=function(n,r){if(e.invokeEvent(b),t.renderable.getStatic()||t.renderable.update(),t.currentInput=t.renderable.getInputData(1),e.invokeEvent(D),!t.currentInput)return void A("No input!");if(t.currentInput.getPoints&&t.currentInput.getPoints().getNumberOfValues()){var a=t.context;t.openGLRenderWindow.getWebgl2()?(t.hardwareSupport=!0,t.extension=null):t.extension||(t.extension=t.context.getExtension("ANGLE_instanced_arrays"),t.hardwareSupport=!!t.extension);var i=r.getProperty().getBackfaceCulling(),o=r.getProperty().getFrontfaceCulling();i||o?o?(t.openGLRenderWindow.enableCullFace(),a.cullFace(a.FRONT)):(t.openGLRenderWindow.enableCullFace(),a.cullFace(a.BACK)):t.openGLRenderWindow.disableCullFace(),e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)}},e.multiply4x4WithOffset=function(e,t,n,r){var a=t[0],i=t[1],o=t[2],s=t[3],u=t[4],l=t[5],c=t[6],d=t[7],f=t[8],m=t[9],g=t[10],p=t[11],v=t[12],h=t[13],y=t[14],A=t[15],S=n[r],T=n[r+1],M=n[r+2],b=n[r+3];e[0]=S*a+T*u+M*f+b*v,e[1]=S*i+T*l+M*m+b*h,e[2]=S*o+T*c+M*g+b*y,e[3]=S*s+T*d+M*p+b*A,S=n[r+4],T=n[r+5],M=n[r+6],b=n[r+7],e[4]=S*a+T*u+M*f+b*v,e[5]=S*i+T*l+M*m+b*h,e[6]=S*o+T*c+M*g+b*y,e[7]=S*s+T*d+M*p+b*A,S=n[r+8],T=n[r+9],M=n[r+10],b=n[r+11],e[8]=S*a+T*u+M*f+b*v,e[9]=S*i+T*l+M*m+b*h,e[10]=S*o+T*c+M*g+b*y,e[11]=S*s+T*d+M*p+b*A,S=n[r+12],T=n[r+13],M=n[r+14],b=n[r+15],e[12]=S*a+T*u+M*f+b*v,e[13]=S*i+T*l+M*m+b*h,e[14]=S*o+T*c+M*g+b*y,e[15]=S*s+T*d+M*p+b*A},e.replaceShaderNormal=function(e,r,a){if(t.hardwareSupport&&t.lastBoundBO.getReferenceByName("lastLightComplexity")>0){var i=e.Vertex;t.lastBoundBO.getCABO().getNormalOffset()&&(i=y.default.substitute(i,"//VTK::Normal::Dec",["attribute vec3 normalMC;","attribute mat3 gNormal;","uniform mat3 normalMatrix;","varying vec3 normalVCVSOutput;"]).result,i=y.default.substitute(i,"//VTK::Normal::Impl",["normalVCVSOutput = normalMatrix * gNormal * normalMC;"]).result),e.Vertex=i}n.replaceShaderNormal(e,r,a)},e.replaceShaderColor=function(e,r,a){if(t.hardwareSupport&&t.renderable.getColorArray()){var i=e.Vertex,o=e.Geometry,s=e.Fragment,u=t.lastBoundBO.getReferenceByName("lastLightComplexity"),l=["uniform float ambient;","uniform float diffuse;","uniform float specular;","uniform float opacityUniform; // the fragment opacity"];u&&(l=l.concat(["uniform vec3 specularColorUniform;","uniform float specularPowerUniform;"]));var c=["vec3 ambientColor;","  vec3 diffuseColor;","  float opacity;"];u&&(c=c.concat(["  vec3 specularColor;","  float specularPower;"])),c=c.concat(["  opacity = opacityUniform;"]),u&&(c=c.concat(["  specularColor = specularColorUniform;","  specularPower = specularPowerUniform;"])),t.drawingEdges||(l=l.concat(["varying vec4 vertexColorVSOutput;"]),i=y.default.substitute(i,"//VTK::Color::Dec",["attribute vec4 gColor;","varying vec4 vertexColorVSOutput;"]).result,i=y.default.substitute(i,"//VTK::Color::Impl",["vertexColorVSOutput = gColor;"]).result,o=y.default.substitute(o,"//VTK::Color::Dec",["in vec4 vertexColorVSOutput[];","out vec4 vertexColorGSOutput;"]).result,o=y.default.substitute(o,"//VTK::Color::Impl",["vertexColorGSOutput = vertexColorVSOutput[i];"]).result,c=c.concat(["  diffuseColor = vertexColorVSOutput.rgb;","  ambientColor = vertexColorVSOutput.rgb;","  opacity = opacity*vertexColorVSOutput.a;"])),s=y.default.substitute(s,"//VTK::Color::Impl",c).result,s=y.default.substitute(s,"//VTK::Color::Dec",l).result,e.Vertex=i,e.Geometry=o,e.Fragment=s}n.replaceShaderColor(e,r,a)},e.replaceShaderPositionVC=function(e,r,a){if(t.hardwareSupport){var i=e.Vertex;t.lastBoundBO.getReferenceByName("lastLightComplexity")>0?(i=y.default.substitute(i,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","vertexVCVSOutput = MCVCMatrix * gVertexMC;","  gl_Position = MCDCMatrix * gVertexMC;"]).result,i=y.default.substitute(i,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCDCMatrix;","uniform mat4 MCVCMatrix;"]).result):(i=y.default.substitute(i,"//VTK::Camera::Dec",["attribute mat4 gMatrix;","uniform mat4 MCDCMatrix;"]).result,i=y.default.substitute(i,"//VTK::PositionVC::Impl",["vec4 gVertexMC = gMatrix * vertexMC;","  gl_Position = MCDCMatrix * gVertexMC;"]).result),e.Vertex=i}n.replaceShaderPositionVC(e,r,a)},e.replaceShaderPicking=function(e,n,r){if(t.openGLRenderer.getSelector()){var a=e.Fragment;switch(t.openGLRenderer.getSelector().getCurrentPass()){case M.ID_LOW24:break;case M.COMPOSITE_INDEX_PASS:if(t.hardwareSupport){var i=e.Vertex;i=y.default.substitute(i,"//VTK::Picking::Dec",["attribute vec3 mapperIndexVS;","varying vec3 mapperIndexVSOutput;"]).result,i=y.default.substitute(i,"//VTK::Picking::Impl","  mapperIndexVSOutput = mapperIndexVS;").result,e.Vertex=i,a=y.default.substitute(a,"//VTK::Picking::Dec","varying vec3 mapperIndexVSOutput;").result,a=y.default.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(mapperIndexVSOutput,1.0);").result}else a=y.default.substitute(a,"//VTK::Picking::Dec","uniform vec3 mapperIndex;").result,a=y.default.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(mapperIndex,1.0);").result;break;default:a=y.default.substitute(a,"//VTK::Picking::Dec","uniform vec3 mapperIndex;").result,a=y.default.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(mapperIndex,1.0);").result}e.Fragment=a}},e.updateGlyphShaderParameters=function(n,r,a,i,o,s,u,l){var c=a.getProgram();if(n){var d=t.normalMatrix,f=s,m=9*u,g=t.tmpMat3,p=d[0],v=d[1],h=d[2],y=d[3],A=d[4],S=d[5],T=d[6],M=d[7],b=d[8],D=f[m],I=f[m+1],w=f[m+2],C=f[m+3],N=f[m+4],P=f[m+5],x=f[m+6],E=f[m+7],O=f[m+8];g[0]=D*p+I*y+w*T,g[1]=D*v+I*A+w*M,g[2]=D*h+I*S+w*b,g[3]=C*p+N*y+P*T,g[4]=C*v+N*A+P*M,g[5]=C*h+N*S+P*b,g[6]=x*p+E*y+O*T,g[7]=x*v+E*A+O*M,g[8]=x*h+E*S+O*b,c.setUniformMatrix3x3("normalMatrix",t.tmpMat3)}if(e.multiply4x4WithOffset(t.tmpMat4,t.mcdcMatrix,o,16*u),c.setUniformMatrix("MCDCMatrix",t.tmpMat4),r&&(e.multiply4x4WithOffset(t.tmpMat4,t.mcvcMatrix,o,16*u),c.setUniformMatrix("MCVCMatrix",t.tmpMat4)),i){var L=i.getData();t.tmpColor[0]=L[4*u]/255,t.tmpColor[1]=L[4*u+1]/255,t.tmpColor[2]=L[4*u+2]/255,c.setUniform3fArray("ambientColorUniform",t.tmpColor),c.setUniform3fArray("diffuseColorUniform",t.tmpColor)}l&&c.setUniform3fArray("mapperIndex",l.getPropColorValue())},e.renderPieceDraw=function(n,r){var a=r.getProperty().getRepresentation(),i=t.context,s=r.getProperty().getEdgeVisibility()&&a===S.SURFACE,u=t.openGLCamera.getKeyMatrices(n),l=t.openGLActor.getKeyMatrices();o.mat3.multiply(t.normalMatrix,u.normalMatrix,l.normalMatrix),o.mat4.multiply(t.mcdcMatrix,u.wcdc,l.mcwc),o.mat4.multiply(t.mcvcMatrix,u.wcvc,l.mcwc);var c=t.renderable.getMatrixArray(),d=t.renderable.getNormalArray(),f=t.renderable.getColorArray(),m=c.length/16,g=!1;t.openGLRenderer.getSelector()&&t.openGLRenderer.getSelector().getCurrentPass()===M.COMPOSITE_INDEX_PASS&&(g=!0);for(var p=t.primTypes.Start;p<t.primTypes.End;p++){var v=t.primitives[p].getCABO();if(v.getElementCount()){t.drawingEdges=s&&(p===t.primTypes.TrisEdges||p===t.primTypes.TriStripsEdges),e.updateShaders(t.primitives[p],n,r);var h=t.primitives[p].getProgram(),y=e.getOpenGLMode(a,p),A=h.isUniformUsed("normalMatrix"),T=h.isUniformUsed("MCVCMatrix");if(t.hardwareSupport)t.extension?t.extension.drawArraysInstancedANGLE(y,0,v.getElementCount(),m):i.drawArraysInstanced(y,0,v.getElementCount(),m);else for(var b=0;b<m;++b)g&&t.openGLRenderer.getSelector().renderCompositeIndex(b),e.updateGlyphShaderParameters(A,T,t.primitives[p],f,c,d,b,g?t.openGLRenderer.getSelector():null),i.drawArrays(y,0,v.getElementCount())}}},e.setMapperShaderParameters=function(e,r,a){if(e.getCABO().getElementCount()&&(t.glyphBOBuildTime.getMTime()>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime()))return e.getProgram().isAttributeUsed("gMatrix")?e.getVAO().addAttributeMatrixWithDivisor(e.getProgram(),t.matrixBuffer,"gMatrix",0,64,t.context.FLOAT,4,!1,1)||A("Error setting gMatrix in shader VAO."):e.getVAO().removeAttributeArray("gMatrix"),e.getProgram().isAttributeUsed("gNormal")?e.getVAO().addAttributeMatrixWithDivisor(e.getProgram(),t.normalBuffer,"gNormal",0,36,t.context.FLOAT,3,!1,1)||A("Error setting gNormal in shader VAO."):e.getVAO().removeAttributeArray("gNormal"),e.getProgram().isAttributeUsed("gColor")?e.getVAO().addAttributeArrayWithDivisor(e.getProgram(),t.colorBuffer,"gColor",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||A("Error setting gColor in shader VAO."):e.getVAO().removeAttributeArray("gColor"),e.getProgram().isAttributeUsed("mapperIndexVS")?e.getVAO().addAttributeArrayWithDivisor(e.getProgram(),t.pickBuffer,"mapperIndexVS",0,4,t.context.UNSIGNED_BYTE,4,!0,1,!1)||A("Error setting mapperIndexVS in shader VAO."):e.getVAO().removeAttributeArray("mapperIndexVS"),n.setMapperShaderParameters(e,r,a),void e.getAttributeUpdateTime().modified();n.setMapperShaderParameters(e,r,a)},e.getNeedToRebuildBufferObjects=function(e,r){return t.renderable.buildArrays(),t.VBOBuildTime.getMTime()<t.renderable.getBuildTime().getMTime()||n.getNeedToRebuildBufferObjects(e,r)},e.buildBufferObjects=function(e,r){if(t.hardwareSupport){var a=t.renderable.getMatrixArray(),i=t.renderable.getNormalArray(),o=t.renderable.getColorArray();if(t.matrixBuffer||(t.matrixBuffer=c.default.newInstance(),t.matrixBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.normalBuffer=c.default.newInstance(),t.normalBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorBuffer=c.default.newInstance(),t.colorBuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.pickBuffer=c.default.newInstance(),t.pickBuffer.setOpenGLRenderWindow(t.openGLRenderWindow)),t.renderable.getBuildTime().getMTime()>t.glyphBOBuildTime.getMTime()){t.matrixBuffer.upload(a,T.ARRAY_BUFFER),t.normalBuffer.upload(i,T.ARRAY_BUFFER),o?t.colorBuffer.upload(o.getData(),T.ARRAY_BUFFER):t.colorBuffer.releaseGraphicsResources();for(var s=a.length/16,u=new Uint8Array(4*s),l=0;l<s;++l){var d=l+1,f=4*l;u[f]=d%256,d-=u[f],d/=256,u[f+1]=d%256,d-=u[f+1],d/=256,u[f+2]=d%256,u[f+3]=255}t.pickBuffer.upload(u,T.ARRAY_BUFFER),t.glyphBOBuildTime.modified()}}return n.buildBufferObjects(e,r)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,I,n),v.default.extend(e,t,n),t.tmpMat3=o.mat3.create(),t.normalMatrix=o.mat3.create(),t.mcdcMatrix=o.mat4.create(),t.mcvcMatrix=o.mat4.create(),t.tmpColor=[],t.glyphBOBuildTime={},u.default.obj(t.glyphBOBuildTime,{mtime:0}),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(54),c=r(l),d=n(384),f=r(d),m=n(30),g=r(m),p=n(90),v=r(p),h=n(13),y=r(h),A=u.default.vtkErrorMacro,S=g.default.Representation,T=c.default.ObjectType,M=f.default.PassTypes,b={type:"StartEvent"},D={type:"EndEvent"},I={normalMatrix:null,mcdcMatrix:null,mcwcMatrix:null},w=t.newInstance=u.default.newInstance(i,"vtkOpenGLGlyph3DMapper");t.default={newInstance:w,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLHardwareSelector"),e.releasePixBuffers=function(){t.pixBuffer=[]},e.beginSelection=function(){t.openGLRenderer=t.openGLRenderWindow.getViewNodeFor(t.renderer),t.maxAttributeId=0,t.framebuffer=d.default.newInstance(),t.framebuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.framebuffer.saveCurrentBindingsAndBuffers();var n=t.openGLRenderWindow.getSize();t.framebuffer.create(n[0],n[1]),t.framebuffer.populateFramebuffer(),t.openGLRenderer.clear(),t.openGLRenderer.setSelector(e),t.hitProps=[],t.props=[],e.releasePixBuffers()},e.endSelection=function(){t.hitProps=[],t.openGLRenderer.setSelector(null),t.framebuffer.restorePreviousBindingsAndBuffers()},e.preCapturePass=function(){},e.postCapturePass=function(){},e.select=function(){var n=null;return e.captureBuffers()&&(n=e.generateSelection(t.area[0],t.area[1],t.area[2],t.area[3]),e.releasePixBuffers()),n},e.captureBuffers=function(){if(!t.renderer||!t.openGLRenderWindow)return S("Renderer and view must be set before calling Select."),!1;for(t.openGLRenderer=t.openGLRenderWindow.getViewNodeFor(t.renderer),e.invokeEvent({type:"StartEvent"}),t.originalBackground=t.renderer.getBackgroundByReference(),t.renderer.setBackground(0,0,0),e.beginSelection(),t.currentPass=v.MIN_KNOWN_PASS;t.currentPass<=v.MAX_KNOWN_PASS;t.currentPass++)e.passRequired(t.currentPass)&&(e.preCapturePass(t.currentPass),t.openGLRenderWindow.traverseAllPasses(),e.postCapturePass(t.currentPass),e.savePixelBuffer(t.currentPass));return e.endSelection(),t.renderer.setBackground(t.originalBackground),e.invokeEvent({type:"EndEvent"}),t.openGLRenderWindow.traverseAllPasses(),!0},e.passRequired=function(e){return!0},e.savePixelBuffer=function(n){t.pixBuffer[n]=t.openGLRenderWindow.getPixelData(t.area[0],t.area[1],t.area[2],t.area[3]),n===v.ACTOR_PASS&&e.buildPropHitList(t.pixBuffer[n])},e.buildPropHitList=function(n){for(var r=0;r<=t.area[3]-t.area[1];r++)for(var a=0;a<=t.area[2]-t.area[0];a++){var i=e.convert(a,r,n);i>0&&(i--,-1===t.hitProps.indexOf(i)&&t.hitProps.push(i))}},e.renderProp=function(n){t.currentPass===v.ACTOR_PASS&&(e.setPropColorValueFromInt(t.props.length+t.idOffset),t.props.push(n))},e.renderCompositeIndex=function(n){t.currentPass===v.COMPOSITE_INDEX_PASS&&e.setPropColorValueFromInt(n+t.idOffset)},e.renderAttributeId=function(e){e<0||(t.maxAttributeId=e>t.maxAttributeId?e:t.maxAttributeId)},e.getPropFromID=function(e){return e>=0&&e<t.props.length?t.props[e]:null},e.passTypeToString=function(e){return s.default.enumToString(v,e)},e.isPropHit=function(e){return t.hitProps.hasKey(e)},e.convert=function(e,n,r){if(!r)return 0;var a=4*(n*(t.area[2]-t.area[0]+1)+e),i=[];i[0]=r[a],i[1]=r[a+1],i[2]=r[a+2];var o=i[2];return o*=256,o+=i[1],o*=256,o+=i[0]},e.setPropColorValueFromInt=function(e){t.propColorValue[0]=e%256/255,t.propColorValue[1]=e/256%256/255,t.propColorValue[2]=e/65536%256/255},e.getPixelInformation=function(n,r,a){var i=r<0?0:r;if(0===i){if(a[0]=n[0],a[1]=n[1],n[0]<t.area[0]||n[0]>t.area[2]||n[1]<t.area[1]||n[1]>t.area[3])return null;var o=[n[0]-t.area[0],n[1]-t.area[1]],s=e.convert(o[0],o[1],t.pixBuffer[v.ACTOR_PASS]);if(s<=0)return null;var u={};u.valid=!0,u.propID=s-t.idOffset,u.prop=e.getPropFromID(u.propID);var l=e.convert(o[0],o[1],t.pixBuffer[v.COMPOSITE_INDEX_PASS]);return(l<0||l>16777215)&&(l=0),u.compositeID=l-t.idOffset,u}var c=[n[0],n[1]],d=[0,0],f=e.getPixelInformation(n,0,a);if(f&&f.valid)return f;for(var m=1;m<i;++m){for(var g=c[1]>m?c[1]-m:0;g<=c[1]+m;++g){if(d[1]=g,c[0]>=m&&(d[0]=c[0]-m,(f=e.getPixelInformation(d,0,a))&&f.valid))return f;if(d[0]=c[0]+m,(f=e.getPixelInformation(d,0,a))&&f.valid)return f}for(var p=c[0]>=m?c[0]-(m-1):0;p<=c[0]+(m-1);++p){if(d[0]=p,c[1]>=m&&(d[1]=c[1]-m,(f=e.getPixelInformation(d,0,a))&&f.valid))return f;if(d[1]=c[1]+m,(f=e.getPixelInformation(d,0,a))&&f.valid)return f}}return a[0]=n[0],a[1]=n[1],null},e.convertSelection=function(e,t){var n=[],r=0;return t.forEach(function(t,a){var i=m.default.newInstance();switch(i.setContentType(h.INDICES),e){case A.FIELD_ASSOCIATION_CELLS:i.setFieldType(y.CELL);break;case A.FIELD_ASSOCIATION_POINTS:i.setFieldType(y.POINT);break;default:S("Unknown field association")}i.getProperties().propID=t.info.propID,i.getProperties().prop=t.info.prop,i.getProperties().compositeID=t.info.compositeID,i.getProperties().pixelCount=t.pixelCount,i.setSelectionList(t.attributeIDs),n[r]=i,r++}),n},e.getInfoHash=function(e){return e.propID+" "+e.compositeID},e.generateSelection=function(n,r,a,i){for(var o=new Map,s=[0,0],u=r;u<=i;u++)for(var l=n;l<=a;l++){var c=[l,u],d=e.getPixelInformation(c,0,s);if(d&&d.valid){var f=e.getInfoHash(d);o.has(f)?(o.get(f).pixelCount++,-1===o.get(f).attributeIDs.indexOf(d.attributeID)&&o.get(f).attributeIDs.push(d.attributeID)):o.set(f,{info:d,pixelCount:1,attributeIDs:[d.attributeID]})}}return e.convertSelection(t.fieldAssociation,o)},e.attach=function(e,n){t.openGLRenderWindow=e,t.renderer=n}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),s.default.obj(e,t),t.area=[0,0,0,0],t.propColorValue=[0,0,0],t.props=[],s.default.setGet(e,t,["fieldAssociation","renderer","currentPass"]),s.default.setGetArray(e,t,["area"],4),s.default.setGetArray(e,t,["propColorValue"],3),s.default.event(e,t,"event"),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(385),l=r(u),c=n(89),d=r(c),f=n(386),m=r(f),g=n(98),p=r(g),v=l.default.PassTypes,h=m.default.SelectionContent,y=m.default.SelectionField,A=p.default.FieldAssociations,S=s.default.vtkErrorMacro,T={fieldAssociation:A.FIELD_ASSOCIATION_CELLS,renderer:null,area:null,openGLRenderWindow:null,openGLRenderer:null,currentPass:-1,propColorValue:null,props:null,idOffset:1},M=t.newInstance=s.default.newInstance(i,"vtkOpenGLHardwareSelector");t.default=Object.assign({newInstance:M,extend:i},l.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.PassTypes={MIN_KNOWN_PASS:0,ACTOR_PASS:0,COMPOSITE_INDEX_PASS:1,ID_LOW24:2,MAX_KNOWN_PASS:2};t.default={PassTypes:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkSelectionNode"),e.getBounds=function(){return t.points.getBounds()}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),s.default.obj(e,t),t.properties={},s.default.setGet(e,t,["contentType","fieldType","properties","selectionList"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(387),l=r(u),c={contentType:-1,fieldType:-1,properties:null,selectionList:[]},d=t.newInstance=s.default.newInstance(i,"vtkSelectionNode");t.default=Object.assign({newInstance:d,extend:i},l.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SelectionContent={GLOBALIDS:0,PEDIGREEIDS:1,VALUES:2,INDICES:3,FRUSTUM:4,LOCATIONS:5,THRESHOLDS:6,BLOCKS:7,QUERY:8},a=t.SelectionField={CELL:0,POINT:1,FIELD:2,VERTEX:3,EDGE:4,ROW:5};t.default={SelectionContent:r,SelectionField:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLImageMapper"),e.buildPass=function(n){if(n){t.openGLImageSlice=e.getFirstAncestorOfType("vtkOpenGLImageSlice"),t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.context=t.openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t.openGLRenderWindow),t.openGLTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.opacityTexture.setOpenGLRenderWindow(t.openGLRenderWindow);var r=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(r.getActiveCamera()),t.renderable.getSliceAtFocalPoint()&&t.renderable.setSliceFromCamera(r.getActiveCamera())}},e.translucentZBufferPass=function(t,n){return e.translucentPass(t,n)},e.translucentPass=function(t){t&&e.render()},e.opaqueZBufferPass=function(n){n&&(t.haveSeenDepthRequest=!0,t.renderDepth=!0,e.render(),t.renderDepth=!1)},e.opaquePass=function(t){t&&e.render()},e.render=function(){var n=t.openGLImageSlice.getRenderable(),r=t.openGLRenderer.getRenderable();e.renderPiece(r,n)},e.buildShaders=function(t,n,r){e.getShaderTemplate(t,n,r),e.replaceShaderValues(t,n,r)},e.getShaderTemplate=function(e,t,n){e.Vertex=N.default,e.Fragment=x.default,e.Geometry=""},e.replaceShaderValues=function(e,n,r){var a=e.Vertex,i=e.Fragment;a=T.default.substitute(a,"//VTK::Camera::Dec",["uniform mat4 MCDCMatrix;"]).result,a=T.default.substitute(a,"//VTK::PositionVC::Impl",["  gl_Position = MCDCMatrix * vertexMC;"]).result,a=T.default.substitute(a,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var o=t.openGLTexture.getComponents();switch(a=T.default.substitute(a,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,i=T.default.substitute(i,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform float shift;","uniform float scale;","uniform float oshift;","uniform float oscale;","uniform sampler2D texture1;","uniform sampler2D colorTexture1;","uniform sampler2D opacityTexture1;","uniform float opacity;"]).result,o){case 1:i=T.default.substitute(i,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r;","vec3 tcolor = texture2D(colorTexture1, vec2(intensity * scale + shift, 0.5)).rgb;","float scalarOpacity = texture2D(opacityTexture1, vec2(intensity * oscale + oshift, 0.5)).r;","gl_FragData[0] = vec4(tcolor, scalarOpacity * opacity);"]).result;break;case 2:i=T.default.substitute(i,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*scale + shift;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(intensity, 0.5)), scale*tcolor.g + shift);"]).result;break;default:i=T.default.substitute(i,"//VTK::TCoord::Impl",["vec4 tcolor = scale*texture2D(texture1, tcoordVCVSOutput.st) + shift;","gl_FragData[0] = vec4(texture2D(colorTexture1, vec2(tcolor.r,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.g,0.5)).r,","  texture2D(colorTexture1, vec2(tcolor.b,0.5)).r, tcolor.a);"]).result}t.haveSeenDepthRequest&&(i=T.default.substitute(i,"//VTK::ZBuffer::Dec","uniform int depthRequest;").result,i=T.default.substitute(i,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float iz = floor(gl_FragCoord.z*65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),e.Vertex=a,e.Fragment=i},e.getNeedToRebuildShaders=function(e,n,r){var a=t.openGLTexture.getComponents();return(t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||0===e.getProgram()||t.lastTextureComponents!==a)&&(t.lastHaveSeenDepthRequest=t.haveSeenDepthRequest,t.lastTextureComponents=a,!0)},e.updateShaders=function(n,r,a){if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,a);var o=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);o!==n.getProgram()&&(n.setProgram(o),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,a),e.setCameraShaderParameters(n,r,a),e.setPropertyShaderParameters(n,r,a)},e.setMapperShaderParameters=function(e,n,r){e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&(e.getProgram().isAttributeUsed("vertexMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"vertexMC",e.getCABO().getVertexOffset(),e.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||E("Error setting vertexMC in shader VAO.")),e.getProgram().isAttributeUsed("tcoordMC")&&e.getCABO().getTCoordOffset()&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"tcoordMC",e.getCABO().getTCoordOffset(),e.getCABO().getStride(),t.context.FLOAT,e.getCABO().getTCoordComponents(),t.context.FALSE)||E("Error setting tcoordMC in shader VAO.")),e.getAttributeUpdateTime().modified());var a=t.openGLTexture.getTextureUnit();e.getProgram().setUniformi("texture1",a);var i=r.getProperty().getColorWindow(),o=r.getProperty().getColorLevel(),s=r.getProperty().getRGBTransferFunction();if(s){var u=s.getRange();i=u[1]-u[0],o=.5*(u[1]+u[0])}var l=t.openGLTexture.getShiftAndScale(),c=l.scale/i,d=(l.shift-o)/i+.5,f=r.getProperty().getScalarOpacity(),m=1,g=0;if(f){var p=f.getRange(),v=p[1]-p[0],h=.5*(p[0]+p[1]);m=l.scale/v,g=(l.shift-h)/v+.5}t.haveSeenDepthRequest&&e.getProgram().setUniformi("depthRequest",t.renderDepth?1:0),e.getProgram().setUniformf("shift",d),e.getProgram().setUniformf("scale",c),e.getProgram().setUniformf("oshift",g),e.getProgram().setUniformf("oscale",m);var y=t.colorTexture.getTextureUnit(),A=t.opacityTexture.getTextureUnit();e.getProgram().setUniformi("colorTexture1",y),e.getProgram().setUniformi("opacityTexture1",A)},e.setCameraShaderParameters=function(e,n,r){var a=e.getProgram(),i=t.openGLImageSlice.getKeyMatrices(),s=t.currentInput,u=s.getIndexToWorld();o.mat4.multiply(t.imagemat,i.mcwc,u);var l=t.openGLCamera.getKeyMatrices(n);o.mat4.multiply(t.imagemat,l.wcdc,t.imagemat),a.setUniformMatrix("MCDCMatrix",t.imagemat)},e.setPropertyShaderParameters=function(e,t,n){var r=e.getProgram(),a=n.getProperty(),i=a.getOpacity();r.setUniformf("opacity",i)},e.renderPieceStart=function(n,r){e.updateBufferObjects(n,r),t.lastBoundBO=null},e.renderPieceDraw=function(n,r){var a=t.context;t.openGLTexture.activate(),t.colorTexture.activate(),t.opacityTexture.activate(),t.tris.getCABO().getElementCount()&&(e.updateShaders(t.tris,n,r),a.drawArrays(a.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release()),t.openGLTexture.deactivate(),t.colorTexture.deactivate(),t.opacityTexture.deactivate()},e.renderPieceFinish=function(e,t){},e.renderPiece=function(n,r){if(e.invokeEvent({type:"StartEvent"}),t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent({type:"EndEvent"}),!t.currentInput)return void E("No input!");e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)},e.computeBounds=function(n,r){if(!e.getInput())return void h.uninitializeBounds(t.bounds);t.bounds=e.getInput().getBounds()},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){return t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()},e.buildBufferObjects=function(n,r){var a=t.currentInput;if(null!==a){var i=r.getProperty().getInterpolationType();i===w.InterpolationType.NEAREST?(t.colorTexture.setMinificationFilter(I.Filter.NEAREST),t.colorTexture.setMagnificationFilter(I.Filter.NEAREST),t.opacityTexture.setMinificationFilter(I.Filter.NEAREST),t.opacityTexture.setMagnificationFilter(I.Filter.NEAREST)):(t.colorTexture.setMinificationFilter(I.Filter.LINEAR),t.colorTexture.setMagnificationFilter(I.Filter.LINEAR),t.opacityTexture.setMinificationFilter(I.Filter.LINEAR),t.opacityTexture.setMagnificationFilter(I.Filter.LINEAR));var o=new Uint8Array(3072),s=r.getProperty().getRGBTransferFunction();if(s){var u=""+s.getMTime();if(t.colorTextureString!==u){var l=s.getRange(),c=new Float32Array(3072);s.getTable(l[0],l[1],1024,c,1);for(var d=0;d<3072;++d)o[d]=255*c[d];t.colorTextureString=u,t.colorTexture.create2DFromRaw(1024,1,3,m.VtkDataTypes.UNSIGNED_CHAR,o)}}else if("0"!==t.colorTextureString){for(var g=0,p=0;p<3072;p+=3)g=255*p/3069,o[p]=g,o[p+1]=g,o[p+2]=g;t.colorTextureString="0",t.colorTexture.create2DFromRaw(1024,1,3,m.VtkDataTypes.UNSIGNED_CHAR,o)}var v=new Uint8Array(1024),h=r.getProperty().getScalarOpacity();if(h){var y=""+h.getMTime();if(t.opacityTextureString!==y){var A=h.getRange(),S=new Float32Array(1024);h.getTable(A[0],A[1],1024,S,1);for(var T=0;T<1024;++T)v[T]=255*S[T];t.opacityTextureString=y,t.opacityTexture.create2DFromRaw(1024,1,1,m.VtkDataTypes.UNSIGNED_CHAR,v)}}else"0"!==t.opacityTextureString&&(v.fill(255),t.opacityTextureString="0",t.opacityTexture.create2DFromRaw(1024,1,1,m.VtkDataTypes.UNSIGNED_CHAR,v));var M=t.renderable.getClosestIJKAxis(),b=M.ijkMode,C=t.renderable.getSlice();b!==t.renderable.getSlicingMode()&&(C=t.renderable.getSliceAtPosition(C));var N=a.getExtent(),P=void 0;b===O.I&&(P=C-N[0]),b===O.J&&(P=C-N[2]),b!==O.K&&b!==O.NONE||(P=C-N[4]);var x=C+"A"+a.getMTime()+"A"+a.getPointData().getScalars().getMTime()+"B"+e.getMTime()+"C"+t.renderable.getSlicingMode()+"D"+r.getProperty().getMTime();if(t.VBOBuildString!==x){var L=a.getDimensions(),_=a.getPointData().getScalars().getNumberOfComponents();i===w.InterpolationType.NEAREST?(4===_?(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(I.Filter.NEAREST)):t.openGLTexture.setMinificationFilter(I.Filter.NEAREST),t.openGLTexture.setMagnificationFilter(I.Filter.NEAREST)):(4===_?(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(I.Filter.LINEAR_MIPMAP_LINEAR)):t.openGLTexture.setMinificationFilter(I.Filter.LINEAR),t.openGLTexture.setMagnificationFilter(I.Filter.LINEAR)),t.openGLTexture.setWrapS(I.Wrap.CLAMP_TO_EDGE),t.openGLTexture.setWrapT(I.Wrap.CLAMP_TO_EDGE);for(var R=L[0]*L[1]*_,k=new Float32Array(12),B=new Float32Array(8),V=0;V<4;V++)B[2*V]=V%2?1:0,B[2*V+1]=V>1?1:0;var F=a.getPointData().getScalars().getData(),j=null;if(b===O.I){j=new F.constructor(L[2]*L[1]*_);for(var U=0,z=0;z<L[2];z++)for(var G=0;G<L[1];G++){var W=(P+G*L[0]+z*L[0]*L[1])*_;U=(z*L[1]+G)*_,j.set(F.subarray(W,W+_),U)}L[0]=L[1],L[1]=L[2],k[0]=C,k[1]=N[2],k[2]=N[4],k[3]=C,k[4]=N[3],k[5]=N[4],k[6]=C,k[7]=N[2],k[8]=N[5],k[9]=C,k[10]=N[3],k[11]=N[5]}else if(b===O.J){j=new F.constructor(L[2]*L[0]*_);for(var Q=0,Y=0;Y<L[2];Y++)for(var q=0;q<L[0];q++){var H=(q+P*L[0]+Y*L[0]*L[1])*_;Q=(Y*L[0]+q)*_,j.set(F.subarray(H,H+_),Q)}L[1]=L[2],k[0]=N[0],k[1]=C,k[2]=N[4],k[3]=N[1],k[4]=C,k[5]=N[4],k[6]=N[0],k[7]=C,k[8]=N[5],k[9]=N[1],k[10]=C,k[11]=N[5]}else b===O.K||b===O.NONE?(j=F.subarray(P*R,(P+1)*R),k[0]=N[0],k[1]=N[2],k[2]=C,k[3]=N[1],k[4]=N[2],k[5]=C,k[6]=N[0],k[7]=N[3],k[8]=C,k[9]=N[1],k[10]=N[3],k[11]=C):E("Reformat slicing not yet supported.");t.openGLTexture.create2DFromRaw(L[0],L[1],_,a.getPointData().getScalars().getDataType(),j),t.openGLTexture.activate(),t.openGLTexture.sendParameters(),t.openGLTexture.deactivate();var Z=f.default.newInstance({numberOfComponents:3,values:k});Z.setName("points");var K=f.default.newInstance({numberOfComponents:2,values:B});K.setName("tcoords");var X=new Uint16Array(8);X[0]=3,X[1]=0,X[2]=1,X[3]=3,X[4]=3,X[5]=0,X[6]=3,X[7]=2;var J=f.default.newInstance({numberOfComponents:1,values:X});t.tris.getCABO().createVBO(J,"polys",D.Representation.SURFACE,{points:Z,tcoords:K,cellOffset:0}),t.VBOBuildTime.modified(),t.VBOBuildString=x}}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,L,n),b.default.extend(e,t,n),t.tris=p.default.newInstance(),t.openGLTexture=A.default.newInstance(),t.colorTexture=A.default.newInstance(),t.opacityTexture=A.default.newInstance(),t.imagemat=o.mat4.create(),c.default.setGet(e,t,[]),t.VBOBuildTime={},c.default.obj(t.VBOBuildTime),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(221),u=r(s),l=n(0),c=r(l),d=n(2),f=r(d),m=n(5),g=n(32),p=r(g),v=n(1),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(v),y=n(25),A=r(y),S=n(13),T=r(S),M=n(9),b=r(M),D=n(52),I=n(31),w=n(222),C=n(137),N=r(C),P=n(55),x=r(P),E=c.default.vtkErrorMacro,O=u.default.SlicingMode,L={VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null,colorTexture:null,opacityTexture:null,lastHaveSeenDepthRequest:!1,haveSeenDepthRequest:!1,lastTextureComponents:0},_=t.newInstance=c.default.newInstance(i,"vtkOpenGLImageMapper");t.default={newInstance:_,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLImageMapper3D"),e.buildPass=function(n){if(n){t.openGLImageSlice=e.getFirstAncestorOfType("vtkOpenGLImageSlice"),t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent(),t.context=t.openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t.openGLRenderWindow),t.openGLTexture.setOpenGLRenderWindow(t.openGLRenderWindow);var r=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(r.getActiveCamera())}},e.translucentZBufferPass=function(t,n){return e.translucentPass(t,n)},e.translucentPass=function(t){t&&e.render()},e.opaqueZBufferPass=function(t,n){return e.opaquePass(t,n)},e.opaquePass=function(t){t&&e.render()},e.render=function(){var n=t.openGLImageSlice.getRenderable(),r=t.openGLRenderer.getRenderable();e.renderPiece(r,n)},e.buildShaders=function(t,n,r){e.getShaderTemplate(t,n,r),e.replaceShaderValues(t,n,r)},e.getShaderTemplate=function(e,t,n){e.Vertex=w.default,e.Fragment=N.default,e.Geometry=""},e.replaceShaderValues=function(e,n,r){var a=e.Vertex,i=e.Fragment;a=h.default.substitute(a,"//VTK::Camera::Dec",["uniform mat4 MCDCMatrix;"]).result,a=h.default.substitute(a,"//VTK::PositionVC::Impl",["  gl_Position = MCDCMatrix * vertexMC;"]).result,a=h.default.substitute(a,"//VTK::TCoord::Impl","tcoordVCVSOutput = tcoordMC;").result;var o=t.openGLTexture.getComponents();switch(a=h.default.substitute(a,"//VTK::TCoord::Dec","attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;").result,i=h.default.substitute(i,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput;","uniform float shift;","uniform float scale;","uniform sampler2D texture1;"]).result,o){case 1:i=h.default.substitute(i,"//VTK::TCoord::Impl",["float intensity = texture2D(texture1, tcoordVCVSOutput).r*scale + shift;","gl_FragData[0] = vec4(intensity,intensity,intensity,1.0);"]).result;break;case 2:i=h.default.substitute(i,"//VTK::TCoord::Impl",["vec4 tcolor = texture2D(texture1, tcoordVCVSOutput);","float intensity = tcolor.r*scale + shift;","gl_FragData[0] = vec4(intensity, intensity, intensity, scale*tcolor.g + shift);"]).result;break;default:i=h.default.substitute(i,"//VTK::TCoord::Impl","gl_FragData[0] = scale*texture2D(texture1, tcoordVCVSOutput.st) + shift;").result}e.Vertex=a,e.Fragment=i},e.getNeedToRebuildShaders=function(n,r,a){return 0===n.getProgram()||n.getShaderSourceTime().getMTime()<e.getMTime()||n.getShaderSourceTime().getMTime()<a.getMTime()||n.getShaderSourceTime().getMTime()<t.currentInput.getMTime()},e.updateShaders=function(n,r,a){if(n.getVAO().bind(),t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,a);var o=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);o!==n.getProgram()&&(n.setProgram(o),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());e.setMapperShaderParameters(n,r,a),e.setCameraShaderParameters(n,r,a),e.setPropertyShaderParameters(n,r,a)},e.setMapperShaderParameters=function(e,n,r){e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&(e.getCABO().bind(),e.getProgram().isAttributeUsed("vertexMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"vertexMC",e.getCABO().getVertexOffset(),e.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||P("Error setting vertexMC in shader VAO.")),e.getProgram().isAttributeUsed("tcoordMC")&&e.getCABO().getTCoordOffset()&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"tcoordMC",e.getCABO().getTCoordOffset(),e.getCABO().getStride(),t.context.FLOAT,e.getCABO().getTCoordComponents(),t.context.FALSE)||P("Error setting tcoordMC in shader VAO.")));var a=t.openGLTexture.getTextureUnit();e.getProgram().setUniformi("texture1",a);var i=r.getProperty().getColorWindow(),o=r.getProperty().getColorLevel(),s=t.openGLTexture.getShiftAndScale(),u=s.scale/i,l=(s.shift-o)/i+.5;e.getProgram().setUniformf("shift",l),e.getProgram().setUniformf("scale",u)},e.computeTransforms=function(){var e=t.currentInput,n=e.getOrigin(),r=e.getSpacing(),a=e.getDirection(),i=e.getDimensions(),o=D.mat4.create();1===i[0]?n[0]=Math.random()-.5:1===i[1]?n[1]=Math.random()-.5:n[2]=Math.random()-.5;var s=D.quat.create();D.quat.fromMat3(s,a);var u=D.vec3.fromValues(n[0],n[1],n[2]),l=D.vec3.fromValues(r[0],r[1],r[2]);return D.mat4.fromRotationTranslationScale(o,s,u,l),o},e.setCameraShaderParameters=function(e,n,r){var a=e.getProgram(),i=t.currentInput,o=i.getIndexToWorld(),s=t.openGLCamera.getKeyMatrices(n);D.mat4.multiply(t.imagemat,s.wcdc,o),a.setUniformMatrix("MCDCMatrix",t.imagemat)},e.setPropertyShaderParameters=function(e,t,n){var r=e.getProgram(),a=n.getProperty(),i=a.getOpacity();r.setUniformf("opacityUniform",i)},e.renderPieceStart=function(n,r){e.updateBufferObjects(n,r),t.lastBoundBO=null},e.renderPieceDraw=function(n,r){var a=t.context;t.openGLTexture.activate(),t.tris.getCABO().getElementCount()&&(e.updateShaders(t.tris,n,r),a.drawArrays(a.TRIANGLES,0,t.tris.getCABO().getElementCount())),t.openGLTexture.deactivate()},e.renderPieceFinish=function(e,n){t.lastBoundBO&&t.lastBoundBO.getVAO().release()},e.renderPiece=function(n,r){if(e.invokeEvent({type:"StartEvent"}),t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent({type:"EndEvent"}),!t.currentInput)return void P("No input!");e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)},e.computeBounds=function(n,r){if(!e.getInput())return void m.default.uninitializeBounds(t.bounds);t.bounnds=e.getInput().getBounds()},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){return t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()},e.buildBufferObjects=function(n,r){var a=t.currentInput;if(null!==a&&null!=a.getPointData().getScalars()){var i=a.getDimensions(),o=a.getExtent(),s=0,u=0,c=0;if(1===i[0])c=0,s=i[1],u=i[2];else if(s=i[0],1===i[1])c=1,u=i[2];else if(u=i[1],c=2,1!==i[2])return void P("3D texture maps currently are not supported!");var d=o[2*c],f=d+"A"+a.getMTime()+"A"+a.getPointData().getScalars().getMTime()+"B"+e.getMTime();if(t.VBOBuildString!==f){4===a.getPointData().getScalars().getNumberOfComponents()?(t.openGLTexture.setGenerateMipmap(!0),t.openGLTexture.setMinificationFilter(b.Filter.LINEAR_MIPMAP_LINEAR)):t.openGLTexture.setMinificationFilter(b.Filter.LINEAR),t.openGLTexture.setMagnificationFilter(b.Filter.LINEAR),t.openGLTexture.setWrapS(b.Wrap.CLAMP_TO_EDGE),t.openGLTexture.setWrapT(b.Wrap.CLAMP_TO_EDGE);var m=a.getPointData().getScalars(),g=m;4!==m.getNumberOfComponents()&&r.getProperty().getUseLookupTableScalarRange()&&r.getProperty().getLookupTable()&&(g=l.default.newInstance({numberOfComponents:4,dataType:T.VtkDataTypes.UNSIGNED_CHAR,size:s*u*4,values:new Uint8Array(s*u*4)}),r.getProperty().getLookupTable().mapScalarsThroughTable(m,g,M.ScalarMappingTarget.RGBA,0)),t.openGLTexture.create2DFromRaw(s,u,g.getNumberOfComponents(),g.getDataType(),g.getData()),t.openGLTexture.activate(),t.openGLTexture.sendParameters(),t.openGLTexture.deactivate();for(var p=[0,s-1,0,u-1],v=new Float32Array(12),h=new Float32Array(8),y=0;y<4;y++)0===c?(v[3*y]=d,v[3*y+1]=y%2?p[1]:p[0],v[3*y+2]=y>1?p[3]:p[2]):1===c?(v[3*y]=y%2?p[1]:p[0],v[3*y+1]=d,v[3*y+2]=y>1?p[3]:p[2]):(v[3*y]=y%2?p[1]:p[0],v[3*y+1]=y>1?p[3]:p[2],v[3*y+2]=d),h[2*y]=y%2?1:0,h[2*y+1]=y>1?1:0;var A=l.default.newInstance({numberOfComponents:3,values:v});A.setName("points");var D=l.default.newInstance({numberOfComponents:2,values:h});D.setName("tcoords");var I=new Uint16Array(8);I[0]=3,I[1]=0,I[2]=1,I[3]=3,I[4]=3,I[5]=0,I[6]=3,I[7]=2;var w=l.default.newInstance({numberOfComponents:1,values:I});t.tris.getCABO().createVBO(w,"polys",S.Representation.SURFACE,{points:A,tcoords:D,cellOffset:0}),t.VBOBuildTime.modified(),t.VBOBuildString=f}}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,x,n),A.default.extend(e,t,n),t.tris=d.default.newInstance(),t.openGLTexture=p.default.newInstance(),t.imagemat=D.mat4.create(),s.default.setGet(e,t,["context"]),t.VBOBuildTime={},s.default.obj(t.VBOBuildTime),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(2),l=r(u),c=n(32),d=r(c),f=n(1),m=r(f),g=n(25),p=r(g),v=n(13),h=r(v),y=n(9),A=r(y),S=n(52),T=n(5),M=n(86),b=n(31),D=n(3),I=n(137),w=r(I),C=n(55),N=r(C),P=s.default.vtkErrorMacro,x={context:null,VBOBuildTime:0,VBOBuildString:null,openGLTexture:null,tris:null,imagemat:null},E=t.newInstance=s.default.newInstance(i,"vtkOpenGLImageMapper3D");t.default={newInstance:E,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLImageSlice"),e.buildPass=function(n){if(t.renderable&&t.renderable.getVisibility()&&n){if(!t.renderable)return;t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes()}},e.traverseOpaqueZBufferPass=function(t){e.traverseOpaquePass(t)},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&(!t.openGLRenderer.getSelector()||t.renderable.getPickable())&&(e.apply(n,!0),t.children.forEach(function(e){e.traverse(n)}),e.apply(n,!1))},e.traverseTranslucentZBufferPass=function(t){e.traverseTranslucentPass(t)},e.traverseTranslucentPass=function(n){!t.renderable||!t.renderable.getVisibility()||t.renderable.getIsOpaque()||t.openGLRenderer.getSelector()&&!t.renderable.getPickable()||(e.apply(n,!0),t.children.forEach(function(e){e.traverse(n)}),e.apply(n,!1))},e.queryPass=function(n,r){if(n){if(!t.renderable||!t.renderable.getVisibility())return;t.renderable.getIsOpaque()?r.incrementOpaqueActorCount():r.incrementTranslucentActorCount(e)}},e.opaqueZBufferPass=function(t,n){return e.opaquePass(t,n)},e.opaquePass=function(n,r){n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(!0),"MASKV_DATA"===t.renderable.getShortDesc()&&(t.context.enable(t.context.POLYGON_OFFSET_FILL),t.context.polygonOffset(-2,-3))):"MASKV_DATA"===t.renderable.getShortDesc()&&(t.context.disable(t.context.POLYGON_OFFSET_FILL),t.context.polygonOffset(0,0))},e.translucentZBufferPass=function(t,n){return e.translucentPass(t,n)},e.translucentPass=function(n,r){n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(r.getDepthPeelingOn())):r.getDepthPeelingOn()||t.context.depthMask(!0)},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(o.mat4.copy(t.keyMatrices.mcwc,t.renderable.getMatrix()),o.mat4.transpose(t.keyMatrices.mcwc,t.keyMatrices.mcwc),t.keyMatrixTime.modified()),t.keyMatrices}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),c.default.extend(e,t,n),t.keyMatrixTime={},u.default.obj(t.keyMatrixTime,{mtime:0}),t.keyMatrices={mcwc:o.mat4.create()},u.default.setGet(e,t,["context"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(9),c=r(l),d={context:null,keyMatrixTime:null,keyMatrices:null},f=t.newInstance=u.default.newInstance(i,"vtkOpenGLImageSlice");t.default={newInstance:f,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLPixelSpaceCallbackMapper"),e.opaquePass=function(n,r){t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),t.openGLRenderWindow=t.openGLRenderer.getParent();var a=t.openGLRenderer.getAspectRatio(),i=t.openGLRenderer?t.openGLRenderer.getRenderable().getActiveCamera():null,o=t.openGLRenderer.getTiledSizeAndOrigin(),s=null;if(t.renderable.getUseZValues()){var u=r.getZBufferTexture(),l=Math.floor(u.getWidth()),d=Math.floor(u.getHeight()),f=t.openGLRenderWindow.getContext();u.bind();var m=r.getFramebuffer();m?m.saveCurrentBindingsAndBuffers():c("No framebuffer to save/restore");var g=f.createFramebuffer();f.bindFramebuffer(f.FRAMEBUFFER,g),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,u.getHandle(),0),f.checkFramebufferStatus(f.FRAMEBUFFER)===f.FRAMEBUFFER_COMPLETE&&(s=new Uint8Array(l*d*4),f.viewport(0,0,l,d),f.readPixels(0,0,l,d,f.RGBA,f.UNSIGNED_BYTE,s)),m&&m.restorePreviousBindingsAndBuffers(),f.deleteFramebuffer(g)}t.renderable.invokeCallback(t.renderable.getInputData(),i,a,o,s)},e.queryPass=function(e,n){e&&(t.renderable.getUseZValues(),n.setDepthRequested(!0))}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(9),l=r(u),c=s.default.vtkDebugMacro,d={},f=t.newInstance=s.default.newInstance(i,"vtkOpenGLPixelSpaceCallbackMapper");t.default={newInstance:f,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=document.createElement("canvas");e.setAttribute("width","512px"),e.setAttribute("height","512px");var t=e.getContext("2d"),n=t.createRadialGradient(256,256,64,256,256,256);return n.addColorStop(0,"#fff"),n.addColorStop(1,"gray"),t.fillStyle=n,t.fillRect(0,0,512,512),e}function i(e,t){t.classHierarchy.push("vtkOpenGLRenderer"),e.isSupportDepthPeeling=function(){if(void 0!==t.supportDP)return t.supportDP;var e=!1;return t.context&&(e=!!t.context.getExtension("EXT_frag_depth")),e||h("Depth peeling not supported"),t.supportDP=e,e},e.translucentPassRender=function(t){e.apply(t,!0),e.getChildren().forEach(function(e){e.traverse(t)}),e.apply(t,!1)},e.traverseTranslucentPass=function(n){if(!t.deleted){var r=t.renderable.getUseDepthPeeling()&&e.isSupportDepthPeeling();if(t.renderable&&(!r||t.renderable.getRenderWindow())){if(!n.getDepthTexture()||!r)return void e.translucentPassRender(n);t.depthPeelingPass||(t.depthPeelingPass=v.default.newInstance()),t.depthPeelingPass.setCurrentOperation(n.getCurrentOperation()),t.depthPeelingPass.setTranslucentActorCount(n.getTranslucentActorCount()),t.depthPeelingPass.setMaximumNumberOfPeels(4),t.depthPeelingPass.setOcclusionRatio(0),t.depthPeelingPass.traverse(e,n)}}},e.buildPass=function(n){if(n){if(!t.renderable)return;t.renderable.isActiveCameraCreated()||t.renderable.resetCamera(),e.updateLights(),e.prepareNodes(),e.addMissingNode(t.renderable.getActiveCamera()),e.addMissingNodes(t.renderable.getViewPropsWithNestedProps()),e.removeUnusedNodes()}},e.overlayPass=function(t){var n=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),r=n.getContext();t?r.disable(r.DEPTH_TEST):r.enable(r.DEPTH_TEST)},e.updateLights=function(){for(var e=0,n=t.renderable.getLightsByReference(),r=0;r<n.length;++r)n[r].getSwitch()>0&&e++;return e||(y("No lights are on, creating one."),t.renderable.createLight()),e},e.opaqueZBufferPass=function(n){if(n){var r=0,a=t.context;t.renderable.getTransparent()||(t.context.clearColor(1,0,0,1),r|=a.COLOR_BUFFER_BIT),t.renderable.getPreserveDepthBuffer()||(a.clearDepth(1),r|=a.DEPTH_BUFFER_BIT,a.depthMask(!0));var i=e.getTiledSizeAndOrigin();a.enable(a.SCISSOR_TEST),a.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),a.colorMask(!0,!0,!0,!0),a.clear(r),a.enable(a.DEPTH_TEST)}},e.translucentZBufferPass=e.opaqueZBufferPass,e.cameraPass=function(t){t&&e.clear()},e.getAspectRatio=function(){var e=t.parent.getSizeByReference(),n=t.renderable.getViewportByReference();return e[0]*(n[2]-n[0])/((n[3]-n[1])*e[1])},e.getTiledSizeAndOrigin=function(){var e=t.renderable.getViewportByReference(),n=[0,0,1,1],r=f.clampValue(e[0]-n[0],0,1),a=f.clampValue(e[1]-n[1],0,1),i=t.parent.normalizedDisplayToDisplay(r,a),o=Math.round(i[0]),s=Math.round(i[1]),u=f.clampValue(e[2]-n[0],0,1),l=f.clampValue(e[3]-n[1],0,1);u>n[2]-n[0]&&(u=n[2]-n[0]),l>n[3]-n[1]&&(l=n[3]-n[1]);var c=t.parent.normalizedDisplayToDisplay(u,l),d=Math.round(c[0])-o,m=Math.round(c[1])-s;return d<0&&(d=0),m<0&&(m=0),{usize:d,vsize:m,lowerLeftU:o,lowerLeftV:s}},e.clear=function(){var n=0,r=t.context;if(!t.renderable.getTransparent()){var a=t.renderable.getBackgroundByReference();t.context.clearColor(a[0],a[1],a[2],a[3]),n|=r.COLOR_BUFFER_BIT}t.renderable.getPreserveDepthBuffer()||(r.clearDepth(1),n|=r.DEPTH_BUFFER_BIT,r.depthMask(!0)),r.colorMask(!0,!0,!0,!0);var i=e.getTiledSizeAndOrigin();r.enable(r.SCISSOR_TEST),r.scissor(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.viewport(i.lowerLeftU,i.lowerLeftV,i.usize,i.vsize),r.clear(n),e.renderBackground(r),r.enable(r.DEPTH_TEST)},e.releaseGraphicsResources=function(){null!==t.selector&&t.selector.releaseGraphicsResources()},e.setOpenGLRenderWindow=function(n){t.openGLRenderWindow!==n&&(e.releaseGraphicsResources(),t.openGLRenderWindow=n,t.context=null,n&&(t.context=t.openGLRenderWindow.getContext()))},e.renderGradientBackground=function(e){e.disable(e.DEPTH_TEST);var n=e.getParameter(e.CURRENT_PROGRAM);if(!t.backgroundShaderProgram){var r=g.default.newInstance();r.getVertexShader().setSource("attribute vec2 a_position;attribute vec4 a_color;varying vec4 v_color;void main() {gl_Position = vec4(a_position, 0.999, 1.0);v_color = a_color;}"),r.getFragmentShader().setSource("precision mediump float;varying vec4 v_color;void main() {gl_FragColor = v_color;}"),r.setContext(e),r.compileShader(),t.backgroundShaderProgram=r}var a=t.backgroundShaderProgram,i=a.getHandle();if(i){a.bind();var o=e.getAttribLocation(i,"a_position"),s=e.getAttribLocation(i,"a_color"),u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.enableVertexAttribArray(o),e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,A,e.STATIC_DRAW);var l=t.renderable.getBackground(),c=t.renderable.getBackground2(),d=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,d),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,4,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,new Float32Array([l[0],l[1],l[2],1,l[0],l[1],l[2],1,c[0],c[1],c[2],1,c[0],c[1],c[2],1,l[0],l[1],l[2],1,c[0],c[1],c[2],1]),e.STATIC_DRAW),e.drawArrays(e.TRIANGLES,0,6),e.disableVertexAttribArray(o),e.disableVertexAttribArray(s),a.release(),e.useProgram(n)}},e.renderTexturedBackground=function(e){e.disable(e.DEPTH_TEST);var n=e.getParameter(e.CURRENT_PROGRAM);if(!t.backgroundShaderProgram){var r=g.default.newInstance();r.getVertexShader().setSource("attribute vec4 a_Position;attribute vec2 a_TexCoord;varying vec2 v_TexCoord;void main() {gl_Position = a_Position;v_TexCoord = a_TexCoord;}"),r.getFragmentShader().setSource("precision mediump float;uniform sampler2D u_Sampler;varying vec2 v_TexCoord;void main() {gl_FragColor = texture2D(u_Sampler, v_TexCoord);}"),r.setContext(e),r.compileShader(),t.backgroundShaderProgram=r}var a=t.backgroundShaderProgram,i=a.getHandle();if(i){a.bind();var o=e.getAttribLocation(i,"a_Position"),s=e.getAttribLocation(i,"a_TexCoord"),u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,S,e.STATIC_DRAW);var l=S.BYTES_PER_ELEMENT;e.vertexAttribPointer(o,2,e.FLOAT,!1,4*l,0),e.vertexAttribPointer(s,2,e.FLOAT,!1,4*l,2*l),e.enableVertexAttribArray(o),e.enableVertexAttribArray(s);var c=e.getUniformLocation(i,"u_Sampler"),d=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,d),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.textureImage),e.uniform1i(c,0),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLE_STRIP,0,S.length/4),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(u),e.deleteTexture(d),e.disableVertexAttribArray(o),e.disableVertexAttribArray(s),a.release(),e.useProgram(n)}},e.renderBackground=function(n){t.renderable.getTransparent()?t.lastMode=0:t.renderable.getTexturedBackground()?(1!==t.lastMode&&(t.backgroundShaderProgram=null),e.renderTexturedBackground(n),t.lastMode=1):t.renderable.getGradientBackground()?(2!==t.lastMode&&(t.backgroundShaderProgram=null),e.renderGradientBackground(n),t.lastMode=2):t.lastMode=0}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),c.default.extend(e,t,n),u.default.get(e,t,["shaderCache"]),u.default.setGet(e,t,["context","selector","depthPeelingPass"]),t.textureImage=a(),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(9),c=r(l),d=n(1),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),m=n(13),g=r(m),p=n(393),v=r(p),h=u.default.vtkWarningMacro,y=u.default.vtkDebugMacro,A=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),S=new Float32Array([-1,1,0,1,1,1,1,1,-1,-1,0,0,1,-1,1,0]),T={context:null,openGLRenderWindow:null,selector:null,lastMode:0,backgroundShaderProgram:null,depthPeelingPass:null,textureImage:null},M=t.newInstance=u.default.newInstance(o,"vtkOpenGLRenderer");t.default={newInstance:M,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a,i){var o=g.default.newInstance(),s=e.getContext();return o.setOpenGLRenderWindow(e),a?(s.getExtension("EXT_frag_depth"),s.getExtension("WEBGL_depth_texture"),s.getExtension("OES_texture_float"),s.getExtension("OES_texture_float_linear"),o.createDepthFromRaw(t,n,f.VtkDataTypes.UNSIGNED_SHORT,i)):o.create2DFromRaw(t,n,r,f.VtkDataTypes.UNSIGNED_CHAR,i),o.setMinificationFilter(d.Filter.NEAREST),o.setMagnificationFilter(d.Filter.NEAREST),o.setWrapS(d.Wrap.CLAMP_TO_EDGE),o.setWrapT(d.Wrap.CLAMP_TO_EDGE),o.setWrapR(d.Wrap.CLAMP_TO_EDGE),o}function i(e,t){t.classHierarchy.push("vtkDepthPeelingPass"),e.getZBufferTexture=function(){return t.framebuffer?t.framebuffer.getColorTexture():null},e.getDepthTexture=function(){return t.framebuffer?t.framebuffer.getDepthTexture():null},e.translucentZBufferPass=function(n,r,a,i,o){var s=t.currentOperation,u=r,l=n.getFirstAncestorOfType("vtkOpenGLRenderWindow"),c=[t.viewportWidth,t.viewportHeight];t.framebuffer||(t.framebuffer=w.default.newInstance()),t.framebuffer.setOpenGLRenderWindow(l),t.framebuffer.saveCurrentBindingsAndBuffers();var d=t.framebuffer.getSize();null!==d&&d[0]===c[0]&&d[1]===c[1]||t.framebuffer.create(c[0],c[1]),o&&o.activate(),t.framebuffer.populateFramebufferWithTexture(i,o),t.framebuffer.bind(),0===a?(u.enable(u.DEPTH_TEST),u.colorMask(!0,!0,!0,!0),u.clearColor(0,0,0,0),u.depthMask(!0),u.clearDepth(0),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT)):(t.currentOperation="translucentPass",u.enable(u.DEPTH_TEST),u.colorMask(!0,!0,!0,!0),u.clearColor(0,0,0,0),u.depthMask(!0),u.clearDepth(1),u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),n.translucentPassRender(e)),t.framebuffer.setColorBuffer(null),t.framebuffer.setDepthBuffer(null),t.framebuffer.restorePreviousBindingsAndBuffers(),t.currentOperation=s},e.traverse=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t.deleted&&(t.currentParent=r,"function"==typeof n.translucentPassRender)){if("vtkOpenGLRenderer"!==n.getClassName())return void n.traverse(e);var i=n,o=i.getFirstAncestorOfType("vtkOpenGLRenderWindow"),s=i.getContext();if(t.translucentActorCount<=0)return void i.translucentPassRender(e);var u=o.getColorBufferSizes();if(u[0]<8||u[1]<8||u[2]<8||u[3]<8)return void i.translucentPassRender(e);r.setDepthPeelingOn(!0),t.depthPeelingOn=!0;var l=i.getTiledSizeAndOrigin();t.viewportX=l.lowerLeftU,t.viewportY=l.lowerLeftV,t.viewportWidth=l.usize,t.viewportHeight=l.vsize,!t.opaqueRGBATexture||t.opaqueRGBATexture.getWidth()===t.viewportWidth&&t.opaqueRGBATexture.getHeight()===t.viewportHeight||(t.opaqueZTexture.destroyTexture(),t.opaqueZTexture=null,t.opaqueRGBATexture.destroyTexture(),t.opaqueRGBATexture=null,t.translucentZTextures[0].destroyTexture(),t.translucentZTextures[0]=null,t.translucentZTextures[1].destroyTexture(),t.translucentZTextures[1]=null,t.translucentRGBATexture.destroyTexture(),t.translucentRGBATexture=null,t.currentRGBATexture.destroyTexture(),t.currentRGBATexture=null),t.opaqueRGBATexture||(t.opaqueZTexture=a(o,t.viewportWidth,t.viewportHeight,1,!0,null),t.opaqueRGBATexture=a(o,t.viewportWidth,t.viewportHeight,4,!1,null),t.translucentZTextures[0]=a(o,t.viewportWidth,t.viewportHeight,1,!0,null),t.translucentZTextures[1]=a(o,t.viewportWidth,t.viewportHeight,1,!0,null),t.translucentRGBATexture=a(o,t.viewportWidth,t.viewportHeight,4,!1,null),t.currentRGBATexture=a(o,t.viewportWidth,t.viewportHeight,4,!1,null)),t.opaqueRGBATexture.copyFromFrameBuffer(t.viewportX,t.viewportY,t.viewportWidth,t.viewportHeight),e.translucentZBufferPass(i,s,0,t.currentRGBATexture,e.getWriteZTexture()),t.opaqueZTexture=r.getDepthTexture(),t.opaqueZTexture.activate(),t.currentRGBATexture.activate(),t.translucentRGBATexture.activate(),s.depthFunc(s.LEQUAL),s.disable(s.BLEND);for(var c=!1,d=0;!c;)d++,t.maximumNumberOfPeels>0&&d>=t.maximumNumberOfPeels&&(c=!0,s.depthFunc(s.ALWAYS),s.enable(s.BLEND)),1===d?(e.swapZTexture(),e.translucentZBufferPass(i,s,1,t.translucentRGBATexture,e.getWriteZTexture()),s.depthFunc(s.LEQUAL),s.disable(s.BLEND)):(e.swapZTexture(),e.translucentZBufferPass(i,s,1,t.currentRGBATexture,e.getWriteZTexture()),s.depthFunc(s.LEQUAL),s.disable(s.BLEND),e.blendIntermediatePeels(o,c,s),t.translucentRGBATexture.copyFromFrameBuffer(t.viewportX,t.viewportY,t.viewportWidth,t.viewportHeight));t.currentRGBATexture.deactivate(),e.getWriteZTexture().deactivate(),e.getReadZTexture().deactivate(),t.opaqueRGBATexture.activate(),e.blendFinalPeel(o,s),t.opaqueRGBATexture.deactivate(),t.translucentRGBATexture.deactivate(),t.opaqueZTexture.deactivate(),s.enable(s.BLEND),r.setDepthPeelingOn(!1),t.depthPeelingOn=!1}},e.blendIntermediatePeels=function(e,n,r){var a=r;if(t.intermediateBlendProgram)e.getShaderCache().readyShaderProgram(t.intermediateBlendProgram.getProgram());else{t.intermediateBlendProgram=v.default.newInstance(),t.intermediateBlendProgram.setOpenGLRenderWindow(e);var i=S.default,o=M.default;t.intermediateBlendProgram.setProgram(e.getShaderCache().readyShaderProgramArray(i,o,""))}var s=t.intermediateBlendProgram.getProgram();s.setUniformi("translucentRGBATexture",t.translucentRGBATexture.getTextureUnit()),s.setUniformi("currentRGBATexture",t.currentRGBATexture.getTextureUnit()),s.setUniformi("lastpass",n?1:0),a.disable(a.DEPTH_TEST),t.currentRGBATexture.copyToFrameBuffer2(0,0,t.viewportWidth-1,t.viewportHeight-1,t.viewportX,t.viewportY,s,t.intermediateBlendProgram.getVAO())},e.blendFinalPeel=function(e,n){var r=n;if(t.finalBlendProgram)e.getShaderCache().readyShaderProgram(t.finalBlendProgram.getProgram());else{t.finalBlendProgram=v.default.newInstance(),t.finalBlendProgram.setOpenGLRenderWindow(e);var a=S.default,i=D.default;t.finalBlendProgram.setProgram(e.getShaderCache().readyShaderProgramArray(a,i,""))}var o=t.finalBlendProgram.getProgram();o&&(o.setUniformi("translucentRGBATexture",t.translucentRGBATexture.getTextureUnit()),o.setUniformi("opaqueRGBATexture",t.opaqueRGBATexture.getTextureUnit()),o.setUniformi("opaqueZTexture",t.opaqueZTexture.getTextureUnit()),r.enable(r.DEPTH_TEST),r.depthFunc(r.ALWAYS),t.opaqueRGBATexture.copyToFrameBuffer2(0,0,t.viewportWidth-1,t.viewportHeight-1,t.viewportX,t.viewportY,o,t.finalBlendProgram.getVAO())),r.depthFunc(r.LEQUAL)},e.setShaderParameters=function(n,r,a,i){n.setUniformi("opaqueZTexture",t.opaqueZTexture.getTextureUnit()),n.setUniformi("translucentZTexture",e.getReadZTexture().getTextureUnit()),n.setUniform2f("vpOrigin",t.viewportX,t.viewportY),n.setUniform2f("vpSize",t.viewportWidth,t.viewportHeight)},e.postReplaceShaderValues=function(e,t,n){var r=e.Fragment;r=y.default.substitute(r,"//VTK::DepthPeeling::Dec",["uniform vec2 vpOrigin;","uniform vec2 vpSize;","uniform sampler2D opaqueZTexture;","uniform sampler2D translucentZTexture;"]).result,r=y.default.substitute(r,"//VTK::Depth::Impl",["gl_FragDepthEXT = gl_FragCoord.z;"]).result,r=y.default.substitute(r,"//VTK::DepthPeeling::Impl",["vec2 dpTexCoord = (gl_FragCoord.xy - vpOrigin) / vpSize;","  float odepth = texture2D(opaqueZTexture, dpTexCoord).r;","  if (gl_FragDepthEXT >= odepth - .0001) { discard; }","  float tdepth = texture2D(translucentZTexture, dpTexCoord).r;","  if (gl_FragDepthEXT <= tdepth + .0001) { discard; }"]).result,e.Fragment=r},e.releaseGraphicsResources=function(e){t.finalBlendProgram&&(t.finalBlendProgram.releaseGraphicsResources(e),t.finalBlendProgram=null),t.intermediateBlendProgram&&(t.intermediateBlendProgram.releaseGraphicsResources(e),t.intermediateBlendProgram=null),t.opaqueZTexture&&(t.opaqueZTexture.releaseGraphicsResources(e),t.opaqueZTexture=null),t.translucentZTextures[0]&&(t.translucentZTextures[0].releaseGraphicsResources(e),t.translucentZTextures[0]=null),t.translucentZTextures[1]&&(t.translucentZTextures[1].releaseGraphicsResources(e),t.translucentZTextures[1]=null),t.opaqueRGBATexture&&(t.opaqueRGBATexture.releaseGraphicsResources(e),t.opaqueRGBATexture=null),t.translucentRGBATexture&&(t.translucentRGBATexture.releaseGraphicsResources(e),t.translucentRGBATexture=null),t.currentRGBATexture&&(t.currentRGBATexture.releaseGraphicsResources(e),t.currentRGBATexture=null)},e.getWriteZTexture=function(){return t.translucentZTextures[t.currentZTexture]},e.getReadZTexture=function(){return t.translucentZTextures[(t.currentZTexture+1)%2]},e.swapZTexture=function(){t.currentZTexture=(t.currentZTexture+1)%2},e.copyToFrameBuffer=function(e,n){var r=e.getContext();r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,1,1),r.enable(r.DEPTH_TEST),r.depthMask(!0),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),n.copyToFrameBuffer2(0,0,t.viewportWidth-1,t.viewportHeight-1,t.viewportX,t.viewportY,null,null)}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,C,n),c.default.extend(e,t,n),u.default.setGet(e,t,["translucentActorCount","occlusionRatio","maximumNumberOfPeels"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(136),c=r(l),d=n(31),f=n(5),m=n(25),g=r(m),p=n(32),v=r(p),h=n(13),y=r(h),A=n(135),S=r(A),T=n(394),M=r(T),b=n(395),D=r(b),I=n(89),w=r(I),C={translucentActorCount:0,occlusionRatio:0,maximumNumberOfPeels:4,viewportX:0,viewportY:0,viewportWidth:100,viewportHeight:100,opaqueZTexture:null,opaqueRGBATexture:null,translucentZTextures:[null,null],translucentRGBATexture:null,currentRGBATexture:null,intermediateBlendProgram:null,finalBlendProgram:null,currentZTexture:0},N=t.newInstance=u.default.newInstance(o,"vtkDepthPeelingPass");t.default={newInstance:N,extend:o}},function(e,t){e.exports="//VTK::System::Dec\r\n\r\n/*=========================================================================\r\n\r\n  Program:   Visualization Toolkit\r\n  Module:    vtkDepthPeelingPassIntermediateFS.glsl\r\n\r\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\r\n  All rights reserved.\r\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\r\n\r\n     This software is distributed WITHOUT ANY WARRANTY; without even\r\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\r\n     PURPOSE.  See the above copyright notice for more information.\r\n\r\n=========================================================================*/\r\n\r\nvarying vec2 tcoordVC;\r\nuniform sampler2D translucentRGBATexture;\r\nuniform sampler2D currentRGBATexture;\r\n\r\nuniform int lastpass;\r\n\r\n// the output of this shader\r\n//VTK::Output::Dec\r\n\r\nvoid main()\r\n{\r\n  // current is what is most recently rendered\r\n  // translucent is what is in FRONT of it\r\n  // we render front to back\r\n  vec4 t1Color = texture2D(translucentRGBATexture, tcoordVC);\r\n  vec4 t2Color = texture2D(currentRGBATexture, tcoordVC);\r\n  gl_FragData[0].a = t1Color.a + t2Color.a * (1.0-t1Color.a);\r\n  if (gl_FragData[0].a > 0.0)\r\n    {\r\n    if (lastpass == 1)\r\n      {\r\n      gl_FragData[0].rgb = (t1Color.rgb*t1Color.a + t2Color.rgb*(1.0-t1Color.a))/gl_FragData[0].a;\r\n      }\r\n    else\r\n      {\r\n      gl_FragData[0].rgb = (t1Color.rgb*t1Color.a + t2Color.rgb*t2Color.a*(1.0-t1Color.a))/gl_FragData[0].a;\r\n      }\r\n    }\r\n  else\r\n    {\r\n    gl_FragData[0].rgb = vec3(0.0,0.0,0.0);\r\n    }\r\n}\r\n"},function(e,t){e.exports="//VTK::System::Dec\r\n\r\n/*=========================================================================\r\n\r\n  Program:   Visualization Toolkit\r\n  Module:    vtkDepthPeelingPassFinalFS.glsl\r\n\r\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\r\n  All rights reserved.\r\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\r\n\r\n     This software is distributed WITHOUT ANY WARRANTY; without even\r\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\r\n     PURPOSE.  See the above copyright notice for more information.\r\n\r\n=========================================================================*/\r\n\r\nvarying vec2 tcoordVC;\r\n\r\nuniform sampler2D translucentRGBATexture;\r\nuniform sampler2D opaqueRGBATexture;\r\nuniform sampler2D opaqueZTexture;\r\n\r\n// the output of this shader\r\n//VTK::Output::Dec\r\n\r\nvoid main()\r\n{\r\n  vec4 t1Color = texture2D(translucentRGBATexture, tcoordVC);\r\n  vec4 t2Color = texture2D(opaqueRGBATexture, tcoordVC);\r\n  gl_FragData[0].a = t1Color.a +  (1.0-t1Color.a)*t2Color.a;\r\n  gl_FragData[0].rgb = (t1Color.rgb*t1Color.a + t2Color.rgb*(1.0-t1Color.a));\r\n\r\n  float depth = texture2D(opaqueZTexture, tcoordVC).x;\r\n  gl_FragDepthEXT = depth;\r\n}\r\n"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLSphereMapper");var n=Object.assign({},e);e.getShaderTemplate=function(e,t,n){e.Vertex=A.default,e.Fragment=T.default,e.Geometry=""},e.replaceShaderValues=function(e,r,a){var i=e.Vertex,o=e.Fragment;i=p.default.substitute(i,"//VTK::Camera::Dec",["uniform mat4 VCDCMatrix;\n","uniform mat4 MCVCMatrix;"]).result,o=p.default.substitute(o,"//VTK::PositionVC::Dec",["varying vec4 vertexVCVSOutput;"]).result,o=p.default.substitute(o,"//VTK::PositionVC::Impl",["vec4 vertexVC = vertexVCVSOutput;\n"]).result;var s=["uniform float invertedDepth;\n","uniform int cameraParallel;\n","varying float radiusVCVSOutput;\n","varying vec3 centerVCVSOutput;\n","uniform mat4 VCDCMatrix;\n"];o=p.default.substitute(o,"//VTK::Normal::Dec",s).result;var u="";t.context.getExtension("EXT_frag_depth")&&(u="gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;\n"),o=p.default.substitute(o,"//VTK::Depth::Impl",["  vec3 EyePos;\n","  vec3 EyeDir;\n","  if (cameraParallel != 0) {\n","    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);\n","    EyeDir = vec3(0.0,0.0,-1.0); }\n","  else {\n","    EyeDir = vertexVC.xyz;\n","    EyePos = vec3(0.0,0.0,0.0);\n","    float lengthED = length(EyeDir);\n","    EyeDir = normalize(EyeDir);\n","    if (lengthED > radiusVCVSOutput*3.0) {\n","      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }\n","    }\n","  EyePos = EyePos - centerVCVSOutput;\n","  EyePos = EyePos/radiusVCVSOutput;\n","  float b = 2.0*dot(EyePos,EyeDir);\n","  float c = dot(EyePos,EyePos) - 1.0;\n","  float d = b*b - 4.0*c;\n","  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);\n","  if (d < 0.0) { discard; }\n","  else {\n","    float t = (-b - invertedDepth*sqrt(d))*0.5;\n","    normalVCVSOutput = invertedDepth*normalize(EyePos + t*EyeDir);\n","    vertexVC.xyz = normalVCVSOutput*radiusVCVSOutput + centerVCVSOutput;\n","    }\n","  vec4 pos = VCDCMatrix * vertexVC;\n",u]).result,o=p.default.substitute(o,"//VTK::Normal::Impl","").result,t.haveSeenDepthRequest&&(o=p.default.substitute(o,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),e.Vertex=i,e.Fragment=o,n.replaceShaderValues(e,r,a)},e.setMapperShaderParameters=function(e,r,a){e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&e.getProgram().isAttributeUsed("offsetMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"offsetMC",12,e.getCABO().getStride(),t.context.FLOAT,2,!1)||M("Error setting 'offsetMC' in shader VAO.")),e.getProgram().isUniformUsed("invertedDepth")&&e.getProgram().setUniformf("invertedDepth",t.invert?-1:1),n.setMapperShaderParameters(e,r,a)},e.setCameraShaderParameters=function(e,n,r){var a=e.getProgram(),i=n.getActiveCamera(),s=t.openGLCamera.getKeyMatrices(n);if(a.isUniformUsed("VCDCMatrix")&&a.setUniformMatrix("VCDCMatrix",s.vcdc),a.isUniformUsed("MCVCMatrix"))if(r.getIsIdentity())a.setUniformMatrix("MCVCMatrix",s.wcvc);else{var u=t.openGLActor.getKeyMatrices(),l=o.mat4.create();o.mat4.multiply(l,s.wcvc,u.mcwc),a.setUniformMatrix("MCVCMatrix",l)}a.isUniformUsed("cameraParallel")&&e.getProgram().setUniformi("cameraParallel",i.getParallelProjection())},e.getOpenGLMode=function(e,n){return t.context.TRIANGLES},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){t.renderable.mapScalars(r,1);var a=t.renderable.getColorMapColors(),i=t.primitives[t.primTypes.Tris].getCABO(),o=r.getPointData(),u=r.getPoints(),l=u.getNumberOfPoints(),c=u.getData(),f=null;null!=t.renderable.getScaleArray()&&o.hasArray(t.renderable.getScaleArray())&&(f=o.getArray(t.renderable.getScaleArray()).getData());var g=null,p=0,v=null;a?(p=a.getNumberOfComponents(),i.setColorOffset(0),i.setColorBOStride(4),g=a.getData(),v=new Uint8Array(3*l*4),i.getColorBO()||i.setColorBO(d.default.newInstance()),i.getColorBO().setOpenGLRenderWindow(t.openGLRenderWindow)):i.getColorBO()&&i.setColorBO(null),i.setColorComponents(p);var h=new Float32Array(5*l*3);i.setStride(20);for(var y=Math.cos(m.default.radiansFromDegrees(30)),A=0,S=0,T=0,M=0,b=0;b<l;++b){var D=t.renderable.getRadius();f&&(D=f[b]),A=3*b,h[T++]=c[A++],h[T++]=c[A++],h[T++]=c[A++],h[T++]=-2*D*y,h[T++]=-D,g&&(S=b*p,v[M++]=g[S],v[M++]=g[S+1],v[M++]=g[S+2],v[M++]=g[S+3]),A=3*b,h[T++]=c[A++],h[T++]=c[A++],h[T++]=c[A++],h[T++]=2*D*y,h[T++]=-D,g&&(v[M++]=g[S],v[M++]=g[S+1],v[M++]=g[S+2],v[M++]=g[S+3]),A=3*b,h[T++]=c[A++],h[T++]=c[A++],h[T++]=c[A++],h[T++]=0,h[T++]=2*D,g&&(v[M++]=g[S],v[M++]=g[S+1],v[M++]=g[S+2],v[M++]=g[S+3])}i.setElementCount(T/5),i.upload(h,s.ObjectType.ARRAY_BUFFER),a&&i.getColorBO().upload(v,s.ObjectType.ARRAY_BUFFER),t.VBOBuildTime.modified()}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,b,n),h.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(43),u=n(0),l=r(u),c=n(54),d=r(c),f=n(1),m=r(f),g=n(13),p=r(g),v=n(90),h=r(v),y=n(397),A=r(y),S=n(55),T=r(S),M=l.default.vtkErrorMacro,b={},D=t.newInstance=l.default.newInstance(i,"vtkOpenGLSphereMapper");t.default={newInstance:D,extend:i}},function(e,t){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkSphereMapperVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// this shader implements imposters in OpenGL for Spheres\n\nattribute vec4 vertexMC;\nattribute vec2 offsetMC;\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\nuniform mat3 normalMatrix; // transform model coordinate directions to view coordinates\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\nvarying vec4 vertexVCVSOutput;\nvarying float radiusVCVSOutput;\nvarying vec3 centerVCVSOutput;\n\nuniform int cameraParallel;\n\nvoid main()\n{\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  // compute the projected vertex position\n  vertexVCVSOutput = MCVCMatrix * vertexMC;\n  centerVCVSOutput = vertexVCVSOutput.xyz;\n  radiusVCVSOutput = length(offsetMC)*0.5;\n\n  // make the triangle face the camera\n  if (cameraParallel == 0)\n    {\n    vec3 dir = normalize(-vertexVCVSOutput.xyz);\n    vec3 base2 = normalize(cross(dir,vec3(1.0,0.0,0.0)));\n    vec3 base1 = cross(base2,dir);\n    vertexVCVSOutput.xyz = vertexVCVSOutput.xyz + offsetMC.x*base1 + offsetMC.y*base2;\n    }\n  else\n    {\n    // add in the offset\n    vertexVCVSOutput.xy = vertexVCVSOutput.xy + offsetMC;\n    }\n\n  gl_Position = VCDCMatrix * vertexVCVSOutput;\n}\n"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLStickMapper");var n=Object.assign({},e);e.getShaderTemplate=function(e,t,n){e.Vertex=m.default,e.Fragment=p.default,e.Geometry=""},e.replaceShaderValues=function(e,r,a){var i=e.Vertex,o=e.Fragment;i=h.default.substitute(i,"//VTK::Camera::Dec",["uniform mat4 VCDCMatrix;\n","uniform mat4 MCVCMatrix;"]).result,o=h.default.substitute(o,"//VTK::PositionVC::Dec","varying vec4 vertexVCVSOutput;").result,o=h.default.substitute(o,"//VTK::PositionVC::Impl","  vec4 vertexVC = vertexVCVSOutput;\n").result;var s=["uniform int cameraParallel;\n","varying float radiusVCVSOutput;\n","varying vec3 orientVCVSOutput;\n","varying float lengthVCVSOutput;\n","varying vec3 centerVCVSOutput;\n","uniform mat4 VCDCMatrix;\n"];o=h.default.substitute(o,"//VTK::Normal::Dec",s).result;var u="";t.context.getExtension("EXT_frag_depth")&&(u="  gl_FragDepthEXT = (pos.z / pos.w + 1.0) / 2.0;\n"),o=h.default.substitute(o,"//VTK::Depth::Impl",["  vec3 EyePos;\n","  vec3 EyeDir;\n","  if (cameraParallel != 0) {\n","    EyePos = vec3(vertexVC.x, vertexVC.y, vertexVC.z + 3.0*radiusVCVSOutput);\n","    EyeDir = vec3(0.0,0.0,-1.0); }\n","  else {\n","    EyeDir = vertexVC.xyz;\n","    EyePos = vec3(0.0,0.0,0.0);\n","    float lengthED = length(EyeDir);\n","    EyeDir = normalize(EyeDir);\n","    if (lengthED > radiusVCVSOutput*3.0) {\n","      EyePos = vertexVC.xyz - EyeDir*3.0*radiusVCVSOutput; }\n","    }\n","  EyePos = EyePos - centerVCVSOutput;\n","  vec3 base1;\n","  if (abs(orientVCVSOutput.z) < 0.99) {\n","    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,0.0,1.0))); }\n","  else {\n","    base1 = normalize(cross(orientVCVSOutput,vec3(0.0,1.0,0.0))); }\n","  vec3 base2 = cross(orientVCVSOutput,base1);\n","  EyePos = vec3(dot(EyePos,base1),dot(EyePos,base2),dot(EyePos,orientVCVSOutput));\n","  EyeDir = vec3(dot(EyeDir,base1),dot(EyeDir,base2),dot(EyeDir,orientVCVSOutput));\n","  EyePos = EyePos/radiusVCVSOutput;\n","  float a = EyeDir.x*EyeDir.x + EyeDir.y*EyeDir.y;\n","  float b = 2.0*(EyePos.x*EyeDir.x + EyePos.y*EyeDir.y);\n","  float c = EyePos.x*EyePos.x + EyePos.y*EyePos.y - 1.0;\n","  float d = b*b - 4.0*a*c;\n","  vec3 normalVCVSOutput = vec3(0.0,0.0,1.0);\n","  if (d < 0.0) { discard; }\n","  else {\n","    float t =  (-b - sqrt(d))/(2.0*a);\n","    float tz = EyePos.z + t*EyeDir.z;\n","    vec3 iPoint = EyePos + t*EyeDir;\n","    if (abs(iPoint.z)*radiusVCVSOutput > lengthVCVSOutput*0.5) {\n","      float t2 = (-b + sqrt(d))/(2.0*a);\n","      float tz2 = EyePos.z + t2*EyeDir.z;\n","      if (tz2*radiusVCVSOutput > lengthVCVSOutput*0.5 || tz*radiusVCVSOutput < -0.5*lengthVCVSOutput) { discard; }\n","      else {\n","        normalVCVSOutput = orientVCVSOutput;\n","        float t3 = (lengthVCVSOutput*0.5/radiusVCVSOutput - EyePos.z)/EyeDir.z;\n","        iPoint = EyePos + t3*EyeDir;\n","        vertexVC.xyz = radiusVCVSOutput*(iPoint.x*base1 + iPoint.y*base2 + iPoint.z*orientVCVSOutput) + centerVCVSOutput;\n","        }\n","      }\n","    else {\n","      normalVCVSOutput = iPoint.x*base1 + iPoint.y*base2;\n","      vertexVC.xyz = radiusVCVSOutput*(normalVCVSOutput + iPoint.z*orientVCVSOutput) + centerVCVSOutput;\n","      }\n","    }\n","  vec4 pos = VCDCMatrix * vertexVC;\n",u]).result,o=h.default.substitute(o,"//VTK::Normal::Impl","").result,r.getSelector(),u="",t.haveSeenDepthRequest&&(o=h.default.substitute(o,"//VTK::ZBuffer::Impl",["if (depthRequest == 1) {","float computedZ = (pos.z / pos.w + 1.0) / 2.0;","float iz = floor(computedZ * 65535.0 + 0.1);","float rf = floor(iz/256.0)/255.0;","float gf = mod(iz,256.0)/255.0;","gl_FragData[0] = vec4(rf, gf, 0.0, 1.0); }"]).result),e.Vertex=i,e.Fragment=o,n.replaceShaderValues(e,r,a)},e.setMapperShaderParameters=function(e,r,a){e.getCABO().getElementCount()&&(t.VBOBuildTime>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime())&&(r.getSelector(),e.getProgram().isAttributeUsed("orientMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"orientMC",12,e.getCABO().getStride(),t.context.FLOAT,3,!1)||S("Error setting 'orientMC' in shader VAO.")),e.getProgram().isAttributeUsed("offsetMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO().getColorBO(),"offsetMC",0,e.getCABO().getColorBOStride(),t.context.UNSIGNED_BYTE,3,!0)||S("Error setting 'offsetMC' in shader VAO.")),e.getProgram().isAttributeUsed("radiusMC")&&(e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"radiusMC",24,e.getCABO().getStride(),t.context.FLOAT,1,!1)||S("Error setting 'radiusMC' in shader VAO.")),e.getVAO().removeAttributeArray("selectionId")),n.setMapperShaderParameters(e,r,a)},e.setCameraShaderParameters=function(e,n,r){var a=e.getProgram(),i=n.getActiveCamera(),s=t.openGLCamera.getKeyMatrices(n);if(a.isUniformUsed("VCDCMatrix")&&a.setUniformMatrix("VCDCMatrix",s.vcdc),r.getIsIdentity())a.isUniformUsed("MCVCMatrix")&&a.setUniformMatrix("MCVCMatrix",s.wcvc),a.isUniformUsed("normalMatrix")&&a.setUniformMatrix3x3("normalMatrix",s.normalMatrix);else{var u=t.openGLActor.getKeyMatrices(),l=o.mat4.create();if(a.isUniformUsed("MCVCMatrix")&&(o.mat4.multiply(l,s.wcvc,u.mcwc),a.setUniformMatrix("MCVCMatrix",l)),a.isUniformUsed("normalMatrix")){var c=o.mat3.create();o.mat3.multiply(c,s.normalMatrix,u.normalMatrix),a.setUniformMatrix3x3("normalMatrix",c)}}a.isUniformUsed("cameraParallel")&&e.getProgram().setUniformi("cameraParallel",i.getParallelProjection())},e.getOpenGLMode=function(e,n){return t.context.TRIANGLES},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){t.renderable.mapScalars(r,1);var a=t.renderable.getColorMapColors(),i=t.primitives[t.primTypes.Tris].getCABO(),o=r.getPointData(),u=r.getPoints(),l=u.getNumberOfPoints(),c=u.getData(),f=3;f+=4;var m=null,g=0;i.setColorBOStride(4),i.getColorBO()||i.setColorBO(d.default.newInstance()),i.getColorBO().setOpenGLRenderWindow(t.openGLRenderWindow),a&&(g=a.getNumberOfComponents(),i.setColorOffset(4),m=a.getData(),i.setColorBOStride(8)),i.setColorComponents(g),i.setStride(4*f);var p=new Float32Array(f*l*12),v=new Uint8Array(12*l*(m?8:4)),h=null,y=null;null!=t.renderable.getScaleArray()&&o.hasArray(t.renderable.getScaleArray())&&(h=o.getArray(t.renderable.getScaleArray()).getData()),null!=t.renderable.getOrientationArray()&&o.hasArray(t.renderable.getOrientationArray())?y=o.getArray(t.renderable.getOrientationArray()).getData():S(["Error setting orientationArray.\n","You have to specify the stick orientation"]);for(var A=[0,1,3,0,3,2,2,3,5,2,5,4],T=0,M=0,b=0,D=0,I=0;I<l;++I){var w=t.renderable.getLength(),C=t.renderable.getRadius();h&&(w=h[2*I],C=h[2*I+1]);for(var N=0;N<A.length;++N)T=3*I,p[b++]=c[T++],p[b++]=c[T++],p[b++]=c[T++],T=3*I,p[b++]=y[T++]*w,p[b++]=y[T++]*w,p[b++]=y[T++]*w,p[b++]=C,v[D++]=A[N]%2*255,v[D++]=A[N]>=4?255:0,v[D++]=A[N]>=2?255:0,v[D++]=255,M=I*g,m&&(v[D++]=m[M],v[D++]=m[M+1],v[D++]=m[M+2],v[D++]=m[M+3])}i.setElementCount(b/f),i.upload(p,s.ObjectType.ARRAY_BUFFER),i.getColorBO().upload(v,s.ObjectType.ARRAY_BUFFER),t.VBOBuildTime.modified()}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),A.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(43),u=n(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(54),d=r(c),f=n(399),m=r(f),g=n(55),p=r(g),v=n(13),h=r(v),y=n(90),A=r(y),S=l.vtkErrorMacro,T={},M=t.newInstance=l.newInstance(i,"vtkOpenGLStickMapper");t.default={newInstance:M,extend:i}},function(e,t){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkStickMapperVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n// this shader implements imposters in OpenGL for Sticks\n\nattribute vec4 vertexMC;\nattribute vec3 orientMC;\nattribute vec4 offsetMC;\nattribute float radiusMC;\n\n// optional normal declaration\n//VTK::Normal::Dec\n\n//VTK::Picking::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\nuniform mat3 normalMatrix; // transform model coordinate directions to view coordinates\n\n// material property values\n//VTK::Color::Dec\n\n// clipping plane vars\n//VTK::Clip::Dec\n\n// camera and actor matrix values\n//VTK::Camera::Dec\n\nvarying vec4 vertexVCVSOutput;\nvarying float radiusVCVSOutput;\nvarying float lengthVCVSOutput;\nvarying vec3 centerVCVSOutput;\nvarying vec3 orientVCVSOutput;\n\nuniform int cameraParallel;\n\nvoid main()\n{\n  //VTK::Picking::Impl\n\n  //VTK::Color::Impl\n\n  //VTK::Normal::Impl\n\n  //VTK::TCoord::Impl\n\n  //VTK::Clip::Impl\n\n  vertexVCVSOutput = MCVCMatrix * vertexMC;\n  centerVCVSOutput = vertexVCVSOutput.xyz;\n  radiusVCVSOutput = radiusMC;\n  lengthVCVSOutput = length(orientMC);\n  orientVCVSOutput = normalMatrix * normalize(orientMC);\n\n  // make sure it is pointing out of the screen\n  if (orientVCVSOutput.z < 0.0)\n    {\n    orientVCVSOutput = -orientVCVSOutput;\n    }\n\n  // make the basis\n  vec3 xbase;\n  vec3 ybase;\n  vec3 dir = vec3(0.0,0.0,1.0);\n  if (cameraParallel == 0)\n    {\n    dir = normalize(-vertexVCVSOutput.xyz);\n    }\n  if (abs(dot(dir,orientVCVSOutput)) == 1.0)\n    {\n    xbase = normalize(cross(vec3(0.0,1.0,0.0),orientVCVSOutput));\n    ybase = cross(xbase,orientVCVSOutput);\n    }\n  else\n    {\n    xbase = normalize(cross(orientVCVSOutput,dir));\n    ybase = cross(orientVCVSOutput,xbase);\n    }\n\n  vec3 offsets = offsetMC.xyz*2.0-1.0;\n  vertexVCVSOutput.xyz = vertexVCVSOutput.xyz +\n    radiusVCVSOutput*offsets.x*xbase +\n    radiusVCVSOutput*offsets.y*ybase +\n    0.5*lengthVCVSOutput*offsets.z*orientVCVSOutput;\n\n  gl_Position = VCDCMatrix * vertexVCVSOutput;\n}\n"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLVolume"),e.buildPass=function(n){t.renderable&&t.renderable.getVisibility()&&n&&(t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"),e.prepareNodes(),e.addMissingNode(t.renderable.getMapper()),e.removeUnusedNodes())},e.queryPass=function(e,n){if(e){if(!t.renderable||!t.renderable.getVisibility())return;n.incrementVolumeCount()}},e.traverseVolumePass=function(n){t.renderable&&t.renderable.getVisibility()&&(!t.openGLRenderer.getSelector()||t.renderable.getPickable())&&(e.apply(n,!0),t.children[0].traverse(n),e.apply(n,!1))},e.volumePass=function(n){t.renderable&&t.renderable.getVisibility()&&(n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(!1)):t.context.depthMask(!0))},e.getKeyMatrices=function(){return t.renderable.getMTime()>t.keyMatrixTime.getMTime()&&(t.renderable.computeMatrix(),o.mat4.copy(t.MCWCMatrix,t.renderable.getMatrix()),o.mat4.transpose(t.MCWCMatrix,t.MCWCMatrix),t.renderable.getIsIdentity()?o.mat3.identity(t.normalMatrix):(o.mat3.fromMat4(t.normalMatrix,t.MCWCMatrix),o.mat3.invert(t.normalMatrix,t.normalMatrix)),t.keyMatrixTime.modified()),{mcwc:t.MCWCMatrix,normalMatrix:t.normalMatrix}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),c.default.extend(e,t,n),t.keyMatrixTime={},u.default.obj(t.keyMatrixTime,{mtime:0}),t.normalMatrix=o.mat3.create(),t.MCWCMatrix=o.mat4.create(),u.default.setGet(e,t,["context"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(9),c=r(l),d={},f=t.newInstance=u.default.newInstance(i,"vtkOpenGLVolume");t.default={newInstance:f,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLVolumeMapper"),e.buildPass=function(){t.zBufferTexture=null},e.opaqueZBufferPass=function(e,n){if(e){var r=n.getZBufferTexture();r!==t.zBufferTexture&&(t.zBufferTexture=r)}},e.volumePass=function(n,r){if(n){t.openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t.context=t.openGLRenderWindow.getContext(),t.tris.setOpenGLRenderWindow(t.openGLRenderWindow),t.jitterTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.framebuffer.setOpenGLRenderWindow(t.openGLRenderWindow),t.scalarTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.colorTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.opacityTexture.setOpenGLRenderWindow(t.openGLRenderWindow),t.openGLVolume=e.getFirstAncestorOfType("vtkOpenGLVolume");var a=t.openGLVolume.getRenderable();t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer");var i=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(i.getActiveCamera()),e.renderPiece(i,a)}},e.buildShaders=function(t,n,r){e.getShaderTemplate(t,n,r),e.replaceShaderValues(t,n,r)},e.getShaderTemplate=function(e,t,n){e.Vertex=E.default,e.Fragment=L.default,e.Geometry=""},e.replaceShaderValues=function(n,r,a){var i=n.Fragment;a.getProperty().getInterpolationType()===N.InterpolationType.LINEAR&&(i=T.default.substitute(i,"//VTK::TrilinearOn","#define vtkTrilinearOn").result),!0===a.getProperty().getUseLabelOutline()&&(i=T.default.substitute(i,"//VTK::ImageLabelOutlineOn","#define vtkImageLabelOutlineOn").result);var o=t.scalarTexture.getComponents();i=T.default.substitute(i,"//VTK::NumComponents","#define vtkNumComponents "+o).result;var s=a.getProperty().getIndependentComponents();s&&(i=T.default.substitute(i,"//VTK::IndependentComponentsOn","#define vtkIndependentComponentsOn").result);var l=t.currentInput.getExtent(),c=t.currentInput.getSpacing(),d=u.vec3.create();u.vec3.set(d,(l[1]-l[0])*c[0],(l[3]-l[2])*c[1],(l[5]-l[4])*c[2]);var f=u.vec3.length(d)/t.renderable.getSampleDistance();i=T.default.substitute(i,"//VTK::MaximumSamplesValue",""+Math.ceil(f)).result,i=T.default.substitute(i,"//VTK::LightComplexity","#define vtkLightComplexity "+t.lastLightComplexity).result,t.gopacity=a.getProperty().getUseGradientOpacity(0);for(var m=1;s&&!t.gopacity&&m<o;++m)a.getProperty().getUseGradientOpacity(m)&&(t.gopacity=!0);t.gopacity&&(i=T.default.substitute(i,"//VTK::GradientOpacityOn","#define vtkGradientOpacityOn").result),null!==t.zBufferTexture&&(i=T.default.substitute(i,"//VTK::ZBuffer::Dec",["uniform sampler2D zBufferTexture;","uniform float vpWidth;","uniform float vpHeight;"]).result,i=T.default.substitute(i,"//VTK::ZBuffer::Impl",["vec4 depthVec = texture2D(zBufferTexture, vec2(gl_FragCoord.x / vpWidth, gl_FragCoord.y/vpHeight));","float zdepth = (depthVec.r*256.0 + depthVec.g)/257.0;","zdepth = zdepth * 2.0 - 1.0;","zdepth = -2.0 * camFar * camNear / (zdepth*(camFar-camNear)-(camFar+camNear)) - camNear;","zdepth = -zdepth/rayDir.z;","dists.y = min(zdepth,dists.y);"]).result),i=T.default.substitute(i,"//VTK::BlendMode",""+t.renderable.getBlendMode()).result;var g=t.renderable.getAverageIPScalarRange();i=T.default.substitute(i,"//VTK::AverageIPScalarRangeMin",g[0]+".0").result,i=T.default.substitute(i,"//VTK::AverageIPScalarRangeMax",g[1]+".0").result,n.Fragment=i,e.replaceShaderLight(n,r,a)},e.replaceShaderLight=function(e,n,r){var a=e.Fragment;switch(t.lastLightComplexity){default:case 0:break;case 1:case 2:case 3:var i=0;n.getLights().forEach(function(e){e.getSwitch()>0&&(a=T.default.substitute(a,"//VTK::Light::Dec",["uniform vec3 lightColor"+i+";","uniform vec3 lightDirectionVC"+i+"; // normalized","uniform vec3 lightHalfAngleVC"+i+"; // normalized","//VTK::Light::Dec"],!1).result,a=T.default.substitute(a,"//VTK::Light::Impl",["  "+(i>0?"":"float")+" df = abs(dot(normal.rgb, -lightDirectionVC"+i+"));","  diffuse += ((df) * lightColor"+i+");","    "+(i>0?"":"float")+" sf = pow( abs(dot(lightHalfAngleVC"+i+",normal.rgb)), vSpecularPower);","    specular += ((sf) * lightColor"+i+");","  //VTK::Light::Impl"],!1).result,i++)})}e.Fragment=a},e.getNeedToRebuildShaders=function(n,r,a){var i=0;a.getProperty().getShade()&&t.renderable.getBlendMode()===P.BlendMode.COMPOSITE_BLEND&&(i=0,t.numberOfLights=0,r.getLights().forEach(function(e){e.getSwitch()>0&&(t.numberOfLights++,0===i&&(i=1)),1===i&&(t.numberOfLights>1||1!==e.getIntensity()||!e.lightTypeIsHeadLight())&&(i=2),i<3&&e.getPositional()&&(i=3)}));var o=!1;return t.lastLightComplexity!==i&&(t.lastLightComplexity=i,o=!0),!!(0===n.getProgram()||o||t.lastHaveSeenDepthRequest!==t.haveSeenDepthRequest||!!t.lastZBufferTexture!=!!t.zBufferTexture||n.getShaderSourceTime().getMTime()<e.getMTime()||n.getShaderSourceTime().getMTime()<a.getMTime()||n.getShaderSourceTime().getMTime()<t.renderable.getMTime()||n.getShaderSourceTime().getMTime()<t.currentInput.getMTime())&&(t.lastZBufferTexture=t.zBufferTexture,!0)},e.updateShaders=function(n,r,a){if(t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,a);var o=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);o!==n.getProgram()&&(n.setProgram(o),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());n.getVAO().bind(),e.setMapperShaderParameters(n,r,a),e.setCameraShaderParameters(n,r,a),e.setPropertyShaderParameters(n,r,a)},e.setMapperShaderParameters=function(n,r,a){var i=n.getProgram();if(n.getCABO().getElementCount()&&(t.VBOBuildTime.getMTime()>n.getAttributeUpdateTime().getMTime()||n.getShaderSourceTime().getMTime()>n.getAttributeUpdateTime().getMTime())&&(i.isAttributeUsed("vertexDC")&&(n.getVAO().addAttributeArray(i,n.getCABO(),"vertexDC",n.getCABO().getVertexOffset(),n.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||R("Error setting vertexDC in shader VAO.")),n.getAttributeUpdateTime().modified()),i.setUniformi("texture1",t.scalarTexture.getTextureUnit()),i.setUniformf("sampleDistance",t.renderable.getSampleDistance()),null!==t.zBufferTexture){i.setUniformi("zBufferTexture",t.zBufferTexture.getTextureUnit());var o=e.getRenderTargetSize();i.setUniformf("vpWidth",o[0]),i.setUniformf("vpHeight",o[1])}},e.setCameraShaderParameters=function(n,r,a){var i=t.openGLCamera.getKeyMatrices(r),o=t.openGLVolume.getKeyMatrices();u.mat4.multiply(t.modelToView,i.wcvc,o.mcwc);var s=n.getProgram(),l=t.openGLCamera.getRenderable(),c=l.getClippingRange();s.setUniformf("camThick",c[1]-c[0]),s.setUniformf("camNear",c[0]),s.setUniformf("camFar",c[1]);for(var d=t.currentInput.getBounds(),f=t.currentInput.getDimensions(),m=u.vec3.create(),g=u.vec3.create(),p=1,v=-1,h=1,y=-1,A=0;A<8;++A){if(u.vec3.set(m,d[A%2],d[2+Math.floor(A/2)%2],d[4+Math.floor(A/4)]),u.vec3.transformMat4(m,m,t.modelToView),!l.getParallelProjection()){u.vec3.normalize(g,m);var S=-c[0]/m[2];u.vec3.scale(m,g,S)}u.vec3.transformMat4(m,m,i.vcdc),p=Math.min(m[0],p),v=Math.max(m[0],v),h=Math.min(m[1],h),y=Math.max(m[1],y)}s.setUniformf("dcxmin",p),s.setUniformf("dcxmax",v),s.setUniformf("dcymin",h),s.setUniformf("dcymax",y),s.isUniformUsed("cameraParallel")&&s.setUniformi("cameraParallel",l.getParallelProjection());var T=t.currentInput.getExtent(),M=t.currentInput.getSpacing(),b=u.vec3.create();u.vec3.set(b,(T[1]-T[0]+1)*M[0],(T[3]-T[2]+1)*M[1],(T[5]-T[4]+1)*M[2]),s.setUniform3f("vSpacing",M[0],M[1],M[2]),u.vec3.set(m,T[0],T[2],T[4]),t.currentInput.indexToWorldVec3(m,m),u.vec3.transformMat4(m,m,t.modelToView),s.setUniform3f("vOriginVC",m[0],m[1],m[2]);var D=t.currentInput.getIndexToWorld();u.mat4.multiply(t.idxToView,t.modelToView,D),u.mat3.multiply(t.idxNormalMatrix,i.normalMatrix,o.normalMatrix),u.mat3.multiply(t.idxNormalMatrix,t.idxNormalMatrix,t.currentInput.getDirection());var I=u.vec3.length(b)/t.renderable.getSampleDistance();I>t.renderable.getMaximumSamplesPerRay()&&_("The number of steps required "+Math.ceil(I)+" is larger than the\n        specified maximum number of steps "+t.renderable.getMaximumSamplesPerRay()+".\n        Please either change the\n        volumeMapper sampleDistance or its maximum number of samples.");var w=u.vec3.create();if(u.vec3.set(w,1,1,1),u.vec3.divide(w,w,b),s.setUniform3f("vVCToIJK",w[0],w[1],w[2]),s.setUniform3i("volumeDimensions",f[0],f[1],f[2]),!t.openGLRenderWindow.getWebgl2()){var C=t.scalarTexture.getVolumeInfo();s.setUniformf("texWidth",t.scalarTexture.getWidth()),s.setUniformf("texHeight",t.scalarTexture.getHeight()),s.setUniformi("xreps",C.xreps),s.setUniformf("xstride",C.xstride),s.setUniformf("ystride",C.ystride)}for(var N=u.vec3.create(),P=u.vec3.create(),x=0;x<6;++x){switch(x){default:case 0:u.vec3.set(N,1,0,0),u.vec3.set(P,T[1],T[3],T[5]);break;case 1:u.vec3.set(N,-1,0,0),u.vec3.set(P,T[0],T[2],T[4]);break;case 2:u.vec3.set(N,0,1,0),u.vec3.set(P,T[1],T[3],T[5]);break;case 3:u.vec3.set(N,0,-1,0),u.vec3.set(P,T[0],T[2],T[4]);break;case 4:u.vec3.set(N,0,0,1),u.vec3.set(P,T[1],T[3],T[5]);break;case 5:u.vec3.set(N,0,0,-1),u.vec3.set(P,T[0],T[2],T[4])}u.vec3.transformMat3(N,N,t.idxNormalMatrix),u.vec3.transformMat4(P,P,t.idxToView);var E=-1*u.vec3.dot(P,N);if(s.setUniform3f("vPlaneNormal"+x,N[0],N[1],N[2]),s.setUniformf("vPlaneDistance"+x,E),a.getProperty().getUseLabelOutline()){var O=t.currentInput,L=O.getWorldToIndex();s.setUniformMatrix("vWCtoIDX",L),u.mat4.invert(t.displayToWorld,i.wcdc),s.setUniformMatrix("DCWCMatrix",t.displayToWorld);var R=e.getRenderTargetSize();s.setUniformf("vpWidth",R[0]),s.setUniformf("vpHeight",R[1])}}switch(u.mat4.invert(t.displayToView,i.vcdc),s.setUniformMatrix("DCVCMatrix",t.displayToView),t.lastLightComplexity){default:case 0:break;case 1:case 2:case 3:var k=0,B=[];r.getLights().forEach(function(e){if(e.getSwitch()>0){var t=e.getColor(),n=e.getIntensity();B[0]=t[0]*n,B[1]=t[1]*n,B[2]=t[2]*n,s.setUniform3fArray("lightColor"+k,B);var r=e.getDirection();u.vec3.set(N,r[0],r[1],r[2]),u.vec3.transformMat3(N,N,i.normalMatrix),s.setUniform3f("lightDirectionVC"+k,N[0],N[1],N[2]);var a=[-.5*N[0],-.5*N[1],-.5*(N[2]-1)];s.setUniform3fArray("lightHalfAngleVC"+k,a),k++}})}},e.setPropertyShaderParameters=function(e,n,r){var a=e.getProgram();a.setUniformi("ctexture",t.colorTexture.getTextureUnit()),a.setUniformi("otexture",t.opacityTexture.getTextureUnit()),a.setUniformi("jtexture",t.jitterTexture.getTextureUnit());var i=t.scalarTexture.getVolumeInfo(),o=r.getProperty(),s=t.scalarTexture.getComponents(),u=r.getProperty().getIndependentComponents();if(u&&s>=2){for(var l=0,c=0;c<s;++c)l+=r.getProperty().getComponentWeight(c);for(var d=0;d<s;++d)a.setUniformf("mix"+d,r.getProperty().getComponentWeight(d)/l)}for(var f=0;f<s;++f){var m=u?f:0,g=i.scale[f],p=o.getScalarOpacity(m),v=p.getRange(),h=g/(v[1]-v[0]),y=(i.offset[f]-v[0])/(v[1]-v[0]);a.setUniformf("oshift"+f,y),a.setUniformf("oscale"+f,h);var A=o.getRGBTransferFunction(m),S=A.getRange();a.setUniformf("cshift"+f,(i.offset[f]-S[0])/(S[1]-S[0])),a.setUniformf("cscale"+f,g/(S[1]-S[0]))}if(t.gopacity)if(u)for(var T=0;T<s;++T){var M=i.scale[T],b=o.getUseGradientOpacity(T);if(b){var D=o.getGradientOpacityMinimumOpacity(T),I=o.getGradientOpacityMaximumOpacity(T);a.setUniformf("gomin"+T,D),a.setUniformf("gomax"+T,I);var w=[o.getGradientOpacityMinimumValue(T),o.getGradientOpacityMaximumValue(T)];a.setUniformf("goscale"+T,M*(I-D)/(w[1]-w[0])),a.setUniformf("goshift"+T,-w[0]*(I-D)/(w[1]-w[0])+D)}else a.setUniformf("gomin"+T,1),a.setUniformf("gomax"+T,1),a.setUniformf("goscale"+T,0),a.setUniformf("goshift"+T,1)}else{var C=i.scale[s-1],N=o.getGradientOpacityMinimumOpacity(0),P=o.getGradientOpacityMaximumOpacity(0);a.setUniformf("gomin0",N),a.setUniformf("gomax0",P);var x=[o.getGradientOpacityMinimumValue(0),o.getGradientOpacityMaximumValue(0)];a.setUniformf("goscale0",C*(P-N)/(x[1]-x[0])),a.setUniformf("goshift0",-x[0]*(P-N)/(x[1]-x[0])+N)}if(!0===r.getProperty().getUseLabelOutline()){var E=r.getProperty().getLabelOutlineThickness();a.setUniformi("outlineThickness",E)}t.lastLightComplexity>0&&(a.setUniformf("vAmbient",o.getAmbient()),a.setUniformf("vDiffuse",o.getDiffuse()),a.setUniformf("vSpecular",o.getSpecular()),a.setUniformf("vSpecularPower",o.getSpecularPower()))},e.getRenderTargetSize=function(){if(t.lastXYF>1.43){var e=t.framebuffer.getSize();return[t.fvp[0]*e[0],t.fvp[1]*e[1]]}return t.openGLRenderWindow.getFramebufferSize()},e.renderPieceStart=function(n,r){if(t.renderable.getAutoAdjustSampleDistances()){var a=n.getVTKWindow().getInteractor(),i=a.getLastFrameTime();if(t.avgFrameTime=.97*t.avgFrameTime+.03*i,t.avgWindowArea=.97*t.avgWindowArea+.03/(t.lastXYF*t.lastXYF),n.getVTKWindow().getInteractor().isAnimating()){var o=Math.sqrt(t.avgFrameTime*a.getDesiredUpdateRate()/t.avgWindowArea);o>10&&(o=10),t.targetXYF=o}else t.targetXYF=Math.sqrt(t.avgFrameTime*a.getStillUpdateRate()/t.avgWindowArea);t.targetXYF<1.53&&t.targetXYF>1.33&&(t.targetXYF=t.lastXYF),Math.abs(1-t.targetXYF/t.lastXYF)<.1&&(t.targetXYF=t.lastXYF),t.lastXYF=t.targetXYF}else t.lastXYF=t.renderable.getImageSampleDistance();t.lastXYF<=1.43&&(t.lastXYF=1);var s=t.lastXYF,u=t.openGLRenderWindow.getFramebufferSize();if(s>1.43){if(t.framebuffer.saveCurrentBindingsAndBuffers(),null===t.framebuffer.getGLFramebuffer())t.framebuffer.create(Math.floor(.7*u[0]),Math.floor(.7*u[1])),t.framebuffer.populateFramebuffer();else{var l=t.framebuffer.getSize();l[0]===Math.floor(.7*u[0])&&l[1]===Math.floor(.7*u[1])||(t.framebuffer.create(Math.floor(.7*u[0]),Math.floor(.7*u[1])),t.framebuffer.populateFramebuffer())}t.framebuffer.bind();var c=t.context;c.clearColor(0,0,0,0),c.colorMask(!0,!0,!0,!0),c.clear(c.COLOR_BUFFER_BIT),c.viewport(0,0,u[0]/s,u[1]/s),t.fvp=[Math.floor(u[0]/s)/Math.floor(.7*u[0]),Math.floor(u[1]/s)/Math.floor(.7*u[1])]}t.context.disable(t.context.DEPTH_TEST),e.updateBufferObjects(n,r),r.getProperty().getInterpolationType()===N.InterpolationType.NEAREST?(t.scalarTexture.setMinificationFilter(C.Filter.NEAREST),t.scalarTexture.setMagnificationFilter(C.Filter.NEAREST)):(t.scalarTexture.setMinificationFilter(C.Filter.LINEAR),t.scalarTexture.setMagnificationFilter(C.Filter.LINEAR)),t.lastBoundBO=null,null!==t.zBufferTexture&&t.zBufferTexture.activate()},e.renderPieceDraw=function(n,r){var a=t.context;t.scalarTexture.activate(),t.opacityTexture.activate(),t.colorTexture.activate(),t.jitterTexture.activate(),e.updateShaders(t.tris,n,r),a.drawArrays(a.TRIANGLES,0,t.tris.getCABO().getElementCount()),t.tris.getVAO().release(),t.scalarTexture.deactivate(),t.colorTexture.deactivate(),t.opacityTexture.deactivate(),t.jitterTexture.deactivate()},e.renderPieceFinish=function(e,n){if(null!==t.zBufferTexture&&t.zBufferTexture.deactivate(),t.lastXYF>1.43){if(t.framebuffer.restorePreviousBindingsAndBuffers(),null===t.copyShader){t.copyShader=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(["//VTK::System::Dec","attribute vec4 vertexDC;","uniform vec2 tfactor;","varying vec2 tcoord;","void main() { tcoord = vec2(vertexDC.x*0.5 + 0.5, vertexDC.y*0.5 + 0.5) * tfactor; gl_Position = vertexDC; }"].join("\n"),["//VTK::System::Dec","//VTK::Output::Dec","uniform sampler2D texture1;","varying vec2 tcoord;","void main() { gl_FragData[0] = texture2D(texture1,tcoord); }"].join("\n"),"");var r=t.copyShader;t.copyVAO=b.default.newInstance(),t.copyVAO.setOpenGLRenderWindow(t.openGLRenderWindow),t.tris.getCABO().bind(),t.copyVAO.addAttributeArray(r,t.tris.getCABO(),"vertexDC",t.tris.getCABO().getVertexOffset(),t.tris.getCABO().getStride(),t.context.FLOAT,3,t.context.FALSE)||R("Error setting vertexDC in copy shader VAO.")}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(t.copyShader);var a=t.openGLRenderWindow.getFramebufferSize();t.context.viewport(0,0,a[0],a[1]);var i=t.framebuffer.getColorTexture();i.activate(),t.copyShader.setUniformi("texture",i.getTextureUnit()),t.copyShader.setUniform2f("tfactor",t.fvp[0],t.fvp[1]);var o=t.context;o.blendFuncSeparate(o.ONE,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),t.context.drawArrays(t.context.TRIANGLES,0,t.tris.getCABO().getElementCount()),i.deactivate(),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA)}},e.renderPiece=function(n,r){if(e.invokeEvent({type:"StartEvent"}),t.renderable.update(),t.currentInput=t.renderable.getInputData(),e.invokeEvent({type:"EndEvent"}),!t.currentInput)return void R("No input!");e.renderPieceStart(n,r),e.renderPieceDraw(n,r),e.renderPieceFinish(n,r)},e.computeBounds=function(n,r){if(!e.getInput())return void p.uninitializeBounds(t.Bounds);t.bounds=e.getInput().getBounds()},e.updateBufferObjects=function(t,n){e.getNeedToRebuildBufferObjects(t,n)&&e.buildBufferObjects(t,n)},e.getNeedToRebuildBufferObjects=function(n,r){return t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.renderable.getMTime()||t.VBOBuildTime.getMTime()<r.getProperty().getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime()},e.buildBufferObjects=function(e,n){var r=t.currentInput;if(null!==r){var a=n.getProperty();if(!t.jitterTexture.getHandle()){for(var i=new Uint8Array(1024),o=0;o<1024;++o)i[o]=255*Math.random();t.jitterTexture.setMinificationFilter(C.Filter.LINEAR),t.jitterTexture.setMagnificationFilter(C.Filter.LINEAR),t.jitterTexture.create2DFromRaw(32,32,1,d.VtkDataTypes.UNSIGNED_CHAR,i)}var s=r.getPointData().getScalars().getNumberOfComponents(),u=a.getIndependentComponents(),l=u?s:1,f=""+a.getMTime();if(t.opacityTextureString!==f){for(var m=2048*l,g=new Float32Array(m),p=new Float32Array(1024),v=0;v<l;++v){var h=a.getScalarOpacity(v),y=t.renderable.getSampleDistance()/a.getScalarOpacityUnitDistance(v),A=h.getRange();h.getTable(A[0],A[1],1024,p,1);for(var S=0;S<1024;++S)g[1024*v*2+S]=1-Math.pow(1-p[S],y),g[1024*v*2+S+1024]=g[1024*v*2+S]}if(t.opacityTexture.releaseGraphicsResources(t.openGLRenderWindow),t.opacityTexture.setMinificationFilter(C.Filter.LINEAR),t.opacityTexture.setMagnificationFilter(C.Filter.LINEAR),t.openGLRenderWindow.getWebgl2()||t.context.getExtension("OES_texture_float")&&t.context.getExtension("OES_texture_float_linear"))t.opacityTexture.create2DFromRaw(1024,2*l,1,d.VtkDataTypes.FLOAT,g);else{for(var T=new Uint8Array(m),M=0;M<m;++M)T[M]=255*g[M];t.opacityTexture.create2DFromRaw(1024,2*l,1,d.VtkDataTypes.UNSIGNED_CHAR,T)}t.opacityTextureString=f}if(f=""+a.getMTime(),t.colorTextureString!==f){for(var b=2048*l*3,D=new Uint8Array(b),I=new Float32Array(3072),N=0;N<l;++N){var P=a.getRGBTransferFunction(N),x=P.getRange();P.getTable(x[0],x[1],1024,I,1);for(var E=0;E<3072;++E)D[1024*N*6+E]=255*I[E],D[1024*N*6+E+3072]=255*I[E]}t.colorTexture.releaseGraphicsResources(t.openGLRenderWindow),t.colorTexture.setMinificationFilter(C.Filter.LINEAR),t.colorTexture.setMagnificationFilter(C.Filter.LINEAR),t.colorTexture.create2DFromRaw(1024,2*l,3,d.VtkDataTypes.UNSIGNED_CHAR,D),t.colorTextureString=f}if(f=""+r.getMTime(),t.scalarTextureString!==f){var O=r.getDimensions();t.scalarTexture.releaseGraphicsResources(t.openGLRenderWindow),t.scalarTexture.resetFormatAndType(),t.scalarTexture.create3DFilterableFromRaw(O[0],O[1],O[2],s,r.getPointData().getScalars().getDataType(),r.getPointData().getScalars().getData()),t.scalarTextureString=f}if(!t.tris.getCABO().getElementCount()){for(var L=new Float32Array(12),_=0;_<4;_++)L[3*_]=_%2*2-1,L[3*_+1]=_>1?1:-1,L[3*_+2]=-1;var R=new Uint16Array(8);R[0]=3,R[1]=0,R[2]=1,R[3]=3,R[4]=3,R[5]=0,R[6]=3,R[7]=2;var k=c.default.newInstance({numberOfComponents:3,values:L});k.setName("points");var B=c.default.newInstance({numberOfComponents:1,values:R});t.tris.getCABO().createVBO(B,"polys",w.Representation.SURFACE,{points:k,cellOffset:0})}t.VBOBuildTime.modified()}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,k,n),I.default.extend(e,t,n),t.VBOBuildTime={},s.default.obj(t.VBOBuildTime,{mtime:0}),t.tris=m.default.newInstance(),t.scalarTexture=A.default.newInstance(),t.opacityTexture=A.default.newInstance(),t.colorTexture=A.default.newInstance(),t.jitterTexture=A.default.newInstance(),t.jitterTexture.setWrapS(C.Wrap.REPEAT),t.jitterTexture.setWrapT(C.Wrap.REPEAT),t.framebuffer=h.default.newInstance(),t.idxToView=u.mat4.create(),t.idxNormalMatrix=u.mat3.create(),t.modelToView=u.mat4.create(),t.displayToView=u.mat4.create(),t.displayToWorld=u.mat4.create(),s.default.setGet(e,t,["context"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(3),l=n(2),c=r(l),d=n(5),f=n(32),m=r(f),g=n(1),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(g),v=n(89),h=r(v),y=n(25),A=r(y),S=n(13),T=r(S),M=n(219),b=r(M),D=n(9),I=r(D),w=n(52),C=n(31),N=n(223),P=n(224),x=n(402),E=r(x),O=n(403),L=r(O),_=s.default.vtkWarningMacro,R=s.default.vtkErrorMacro,k={context:null,VBOBuildTime:null,scalarTexture:null,scalarTextureString:null,opacityTexture:null,opacityTextureString:null,colorTexture:null,colorTextureString:null,jitterTexture:null,tris:null,framebuffer:null,copyShader:null,copyVAO:null,lastXYF:1,targetXYF:1,zBufferTexture:null,lastZBufferTexture:null,lastLightComplexity:0,fullViewportTime:1,idxToView:null,idxNormalMatrix:null,modelToView:null,displayToView:null,avgWindowArea:0,avgFrameTime:0},B=t.newInstance=s.default.newInstance(i,"vtkOpenGLVolumeMapper");t.default={newInstance:B,extend:i}},function(e,t){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyDataVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\nattribute vec4 vertexDC;\n\nvarying vec3 vertexVCVSOutput;\nuniform mat4 DCVCMatrix;\n\nuniform float dcxmin;\nuniform float dcxmax;\nuniform float dcymin;\nuniform float dcymax;\n\nvoid main()\n{\n  // dcsmall is the device coords reduced to the\n  // x y area covered by the volume\n  vec4 dcsmall = vec4(\n    dcxmin + 0.5 * (vertexDC.x + 1.0) * (dcxmax - dcxmin),\n    dcymin + 0.5 * (vertexDC.y + 1.0) * (dcymax - dcymin),\n    vertexDC.z,\n    vertexDC.w);\n  vec4 vcpos = DCVCMatrix * dcsmall;\n  vertexVCVSOutput = vcpos.xyz/vcpos.w;\n  gl_Position = dcsmall;\n}\n"},function(e,t){e.exports="//VTK::System::Dec\r\n\r\n/*=========================================================================\r\n\r\n  Program:   Visualization Toolkit\r\n  Module:    vtkVolumeFS.glsl\r\n\r\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\r\n  All rights reserved.\r\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\r\n\r\n     This software is distributed WITHOUT ANY WARRANTY; without even\r\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\r\n     PURPOSE.  See the above copyright notice for more information.\r\n\r\n=========================================================================*/\r\n// Template for the polydata mappers fragment shader\r\n\r\n// the output of this shader\r\n//VTK::Output::Dec\r\n\r\nvarying vec3 vertexVCVSOutput;\r\n\r\n// first declare the settings from the mapper\r\n// that impact the code paths in here\r\n\r\n// always set vtkNumComponents 1,2,3,4\r\n//VTK::NumComponents\r\n\r\n// possibly define vtkUseTriliear\r\n//VTK::TrilinearOn\r\n\r\n// possibly define vtkIndependentComponents\r\n//VTK::IndependentComponentsOn\r\n\r\n// Define the blend mode to use\r\n#define vtkBlendMode //VTK::BlendMode\r\n\r\n// Possibly define vtkImageLabelOutlineOn\r\n//VTK::ImageLabelOutlineOn\r\n\r\n#ifdef vtkImageLabelOutlineOn\r\nuniform int outlineThickness;\r\nuniform float vpWidth;\r\nuniform float vpHeight;\r\nuniform mat4 DCWCMatrix;\r\nuniform mat4 vWCtoIDX;\r\n#endif\r\n\r\n// define vtkLightComplexity\r\n//VTK::LightComplexity\r\n#if vtkLightComplexity > 0\r\nuniform float vSpecularPower;\r\nuniform float vAmbient;\r\nuniform float vDiffuse;\r\nuniform float vSpecular;\r\n//VTK::Light::Dec\r\n#endif\r\n\r\n// possibly define vtkGradientOpacityOn\r\n//VTK::GradientOpacityOn\r\n#ifdef vtkGradientOpacityOn\r\nuniform float goscale0;\r\nuniform float goshift0;\r\nuniform float gomin0;\r\nuniform float gomax0;\r\n#if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)\r\nuniform float goscale1;\r\nuniform float goshift1;\r\nuniform float gomin1;\r\nuniform float gomax1;\r\n#if vtkNumComponents >= 3\r\nuniform float goscale2;\r\nuniform float goshift2;\r\nuniform float gomin2;\r\nuniform float gomax2;\r\n#endif\r\n#if vtkNumComponents >= 4\r\nuniform float goscale3;\r\nuniform float goshift3;\r\nuniform float gomin3;\r\nuniform float gomax3;\r\n#endif\r\n#endif\r\n#endif\r\n\r\n// camera values\r\nuniform float camThick;\r\nuniform float camNear;\r\nuniform float camFar;\r\nuniform int cameraParallel;\r\n\r\n// values describing the volume geometry\r\nuniform vec3 vOriginVC;\r\nuniform vec3 vSpacing;\r\nuniform ivec3 volumeDimensions; // 3d texture dimensions\r\nuniform vec3 vPlaneNormal0;\r\nuniform float vPlaneDistance0;\r\nuniform vec3 vPlaneNormal1;\r\nuniform float vPlaneDistance1;\r\nuniform vec3 vPlaneNormal2;\r\nuniform float vPlaneDistance2;\r\nuniform vec3 vPlaneNormal3;\r\nuniform float vPlaneDistance3;\r\nuniform vec3 vPlaneNormal4;\r\nuniform float vPlaneDistance4;\r\nuniform vec3 vPlaneNormal5;\r\nuniform float vPlaneDistance5;\r\n\r\n// opacity and color textures\r\nuniform sampler2D otexture;\r\nuniform float oshift0;\r\nuniform float oscale0;\r\nuniform sampler2D ctexture;\r\nuniform float cshift0;\r\nuniform float cscale0;\r\n\r\n// jitter texture\r\nuniform sampler2D jtexture;\r\n\r\n// some 3D texture values\r\nuniform float sampleDistance;\r\nuniform vec3 vVCToIJK;\r\n\r\n// the heights defined below are the locations\r\n// for the up to four components of the tfuns\r\n// the tfuns have a height of 2XnumComps pixels so the\r\n// values are computed to hit the middle of the two rows\r\n// for that component\r\n#ifdef vtkIndependentComponentsOn\r\n#if vtkNumComponents == 2\r\nuniform float mix0;\r\nuniform float mix1;\r\n#define height0 0.25\r\n#define height1 0.75\r\n#endif\r\n#if vtkNumComponents == 3\r\nuniform float mix0;\r\nuniform float mix1;\r\nuniform float mix2;\r\n#define height0 0.17\r\n#define height1 0.5\r\n#define height2 0.83\r\n#endif\r\n#if vtkNumComponents == 4\r\nuniform float mix0;\r\nuniform float mix1;\r\nuniform float mix2;\r\nuniform float mix3;\r\n#define height0 0.125\r\n#define height1 0.375\r\n#define height2 0.625\r\n#define height3 0.875\r\n#endif\r\n#endif\r\n\r\n#if vtkNumComponents >= 2\r\nuniform float oshift1;\r\nuniform float oscale1;\r\nuniform float cshift1;\r\nuniform float cscale1;\r\n#endif\r\n#if vtkNumComponents >= 3\r\nuniform float oshift2;\r\nuniform float oscale2;\r\nuniform float cshift2;\r\nuniform float cscale2;\r\n#endif\r\n#if vtkNumComponents >= 4\r\nuniform float oshift3;\r\nuniform float oscale3;\r\nuniform float cshift3;\r\nuniform float cscale3;\r\n#endif\r\n\r\n// declaration for intermixed geometry\r\n//VTK::ZBuffer::Dec\r\n\r\n// Lighting values\r\n//VTK::Light::Dec\r\n\r\n//=======================================================================\r\n// Webgl2 specific version of functions\r\n#if __VERSION__ == 300\r\n\r\nuniform highp sampler3D texture1;\r\n\r\nvec4 getTextureValue(vec3 pos)\r\n{\r\n  vec4 tmp = texture(texture1, pos);\r\n#if vtkNumComponents == 1\r\n  tmp.a = tmp.r;\r\n#endif\r\n#if vtkNumComponents == 2\r\n  tmp.a = tmp.g;\r\n#endif\r\n#if vtkNumComponents == 3\r\n  tmp.a = length(tmp.rgb);\r\n#endif\r\n  return tmp;\r\n}\r\n\r\n//=======================================================================\r\n// WebGL1 specific version of functions\r\n#else\r\n\r\nuniform sampler2D texture1;\r\n\r\nuniform float texWidth;\r\nuniform float texHeight;\r\nuniform int xreps;\r\nuniform float xstride;\r\nuniform float ystride;\r\n\r\n// if computing triliear values from multiple z slices\r\n#ifdef vtkTriliearOn\r\nvec4 getTextureValue(vec3 ijk)\r\n{\r\n  float zoff = 1.0/float(volumeDimensions.z);\r\n  vec4 val1 = getOneTextureValue(ijk);\r\n  vec4 val2 = getOneTextureValue(vec3(ijk.xy, ijk.z + zoff));\r\n\r\n  float indexZ = float(volumeDimensions)*ijk.z;\r\n  float zmix =  indexZ - floor(indexZ);\r\n\r\n  return mix(val1, val2, zmix);\r\n}\r\n\r\nvec4 getOneTextureValue(vec3 ijk)\r\n#else // nearest or fast linear\r\nvec4 getTextureValue(vec3 ijk)\r\n#endif\r\n{\r\n  vec3 tdims = vec3(volumeDimensions);\r\n\r\n  int z = int(ijk.z * tdims.z);\r\n  int yz = z / xreps;\r\n  int xz = z - yz*xreps;\r\n\r\n  float ni = (ijk.x + float(xz)) * tdims.x/xstride;\r\n  float nj = (ijk.y + float(yz)) * tdims.y/ystride;\r\n\r\n  vec2 tpos = vec2(ni/texWidth, nj/texHeight);\r\n\r\n  vec4 tmp = texture2D(texture1, tpos);\r\n\r\n#if vtkNumComponents == 1\r\n  tmp.a = tmp.r;\r\n#endif\r\n#if vtkNumComponents == 2\r\n  tmp.g = tmp.a;\r\n#endif\r\n#if vtkNumComponents == 3\r\n  tmp.a = length(tmp.rgb);\r\n#endif\r\n  return tmp;\r\n}\r\n\r\n// End of Webgl1 specific code\r\n//=======================================================================\r\n#endif\r\n\r\n//=======================================================================\r\n// compute the normal and gradient magnitude for a position\r\nvec4 computeNormal(vec3 pos, float scalar, vec3 tstep)\r\n{\r\n  vec4 result;\r\n\r\n  result.x = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)).a - scalar;\r\n  result.y = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)).a - scalar;\r\n  result.z = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)).a - scalar;\r\n\r\n  // divide by spacing\r\n  result.xyz /= vSpacing;\r\n\r\n  result.w = length(result.xyz);\r\n\r\n  // rotate to View Coords\r\n  result.xyz =\r\n    result.x * vPlaneNormal0 +\r\n    result.y * vPlaneNormal2 +\r\n    result.z * vPlaneNormal4;\r\n\r\n  if (result.w > 0.0)\r\n  {\r\n    result.xyz /= result.w;\r\n  }\r\n  return result;\r\n}\r\n\r\n#ifdef vtkImageLabelOutlineOn\r\nvec3 fragCoordToIndexSpace(vec4 fragCoord) {\r\n  vec4 ndcPos = vec4(\r\n    (fragCoord.x / vpWidth - 0.5) * 2.0,\r\n    (fragCoord.y / vpHeight - 0.5) * 2.0,\r\n    (fragCoord.z - 0.5) * 2.0,\r\n    1.0);\r\n\r\n  vec4 worldCoord = DCWCMatrix * ndcPos;\r\n  vec4 vertex = (worldCoord/worldCoord.w);\r\n\r\n  return (vWCtoIDX * vertex).xyz / vec3(volumeDimensions);\r\n}\r\n#endif\r\n\r\n//=======================================================================\r\n// compute the normals and gradient magnitudes for a position\r\n// for independent components\r\nmat4 computeMat4Normal(vec3 pos, vec4 tValue, vec3 tstep)\r\n{\r\n  mat4 result;\r\n  vec4 distX = getTextureValue(pos + vec3(tstep.x, 0.0, 0.0)) - tValue;\r\n  vec4 distY = getTextureValue(pos + vec3(0.0, tstep.y, 0.0)) - tValue;\r\n  vec4 distZ = getTextureValue(pos + vec3(0.0, 0.0, tstep.z)) - tValue;\r\n\r\n  // divide by spacing\r\n  distX /= vSpacing.x;\r\n  distY /= vSpacing.y;\r\n  distZ /= vSpacing.z;\r\n\r\n  mat3 rot;\r\n  rot[0] = vPlaneNormal0;\r\n  rot[1] = vPlaneNormal2;\r\n  rot[2] = vPlaneNormal4;\r\n\r\n  result[0].xyz = vec3(distX.r, distY.r, distZ.r);\r\n  result[0].a = length(result[0].xyz);\r\n  result[0].xyz *= rot;\r\n  if (result[0].w > 0.0)\r\n  {\r\n    result[0].xyz /= result[0].w;\r\n  }\r\n\r\n  result[1].xyz = vec3(distX.g, distY.g, distZ.g);\r\n  result[1].a = length(result[1].xyz);\r\n  result[1].xyz *= rot;\r\n  if (result[1].w > 0.0)\r\n  {\r\n    result[1].xyz /= result[1].w;\r\n  }\r\n\r\n// optionally compute the 3rd component\r\n#if vtkNumComponents >= 3\r\n  result[2].xyz = vec3(distX.b, distY.b, distZ.b);\r\n  result[2].a = length(result[2].xyz);\r\n  result[2].xyz *= rot;\r\n  if (result[2].w > 0.0)\r\n  {\r\n    result[2].xyz /= result[2].w;\r\n  }\r\n#endif\r\n\r\n// optionally compute the 4th component\r\n#if vtkNumComponents >= 4\r\n  result[3].xyz = vec3(distX.a, distY.a, distZ.a);\r\n  result[3].a = length(result[3].xyz);\r\n  result[3].xyz *= rot;\r\n  if (result[3].w > 0.0)\r\n  {\r\n    result[3].xyz /= result[3].w;\r\n  }\r\n#endif\r\n\r\n  return result;\r\n}\r\n\r\n//=======================================================================\r\n// Given a normal compute the gradient opacity factors\r\n//\r\nfloat computeGradientOpacityFactor(\r\n  vec4 normal, float goscale, float goshift, float gomin, float gomax)\r\n{\r\n#if defined(vtkGradientOpacityOn)\r\n  return clamp(normal.a*goscale + goshift, gomin, gomax);\r\n#else\r\n  return 1.0;\r\n#endif\r\n}\r\n\r\n#if vtkLightComplexity > 0\r\nvoid applyLighting(inout vec3 tColor, vec4 normal)\r\n{\r\n  vec3 diffuse = vec3(0.0, 0.0, 0.0);\r\n  vec3 specular = vec3(0.0, 0.0, 0.0);\r\n  //VTK::Light::Impl\r\n  tColor.rgb = tColor.rgb*(diffuse*vDiffuse + vAmbient) + specular*vSpecular;\r\n}\r\n#endif\r\n\r\n//=======================================================================\r\n// Given a texture value compute the color and opacity\r\n//\r\nvec4 getColorForValue(vec4 tValue, vec3 posIS, vec3 tstep)\r\n{\r\n#ifdef vtkImageLabelOutlineOn\r\n  vec3 centerPosIS = fragCoordToIndexSpace(gl_FragCoord); // pos in texture space\r\n  vec4 centerValue = getTextureValue(centerPosIS);\r\n  bool pixelOnBorder = false;\r\n  vec4 tColor = texture2D(ctexture, vec2(centerValue.r * cscale0 + cshift0, 0.5));\r\n\r\n  // Get alpha of segment from opacity function.\r\n  tColor.a = texture2D(otexture, vec2(centerValue.r * oscale0 + oshift0, 0.5)).r;\r\n\r\n  // Only perform outline check on fragments rendering voxels that aren't invisible.\r\n  // Saves a bunch of needless checks on the background.\r\n  // TODO define epsilon when building shader?\r\n  if (float(tColor.a) > 0.01) {\r\n    for (int i = -outlineThickness; i <= outlineThickness; i++) {\r\n      for (int j = -outlineThickness; j <= outlineThickness; j++) {\r\n        if (i == 0 || j == 0) {\r\n          continue;\r\n        }\r\n\r\n        vec4 neighborPixelCoord = vec4(gl_FragCoord.x + float(i),\r\n          gl_FragCoord.y + float(j),\r\n          gl_FragCoord.z, gl_FragCoord.w);\r\n\r\n        vec3 neighborPosIS = fragCoordToIndexSpace(neighborPixelCoord);\r\n        vec4 value = getTextureValue(neighborPosIS);\r\n\r\n        // If any of my neighbours are not the same value as I\r\n        // am, this means I am on the border of the segment.\r\n        // We can break the loops\r\n        if (any(notEqual(value, centerValue))) {\r\n          pixelOnBorder = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (pixelOnBorder == true) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    // If I am on the border, I am displayed at full opacity\r\n    if (pixelOnBorder == true) {\r\n      tColor.a = 1.0;\r\n    }\r\n  }\r\n  \r\n#else\r\n  // compute the normal and gradient magnitude if needed\r\n  // We compute it as a vec4 if possible otherwise a mat4\r\n  //\r\n  vec4 goFactor = vec4(1.0,1.0,1.0,1.0);\r\n\r\n  // compute the normal vectors as needed\r\n  #if (vtkLightComplexity > 0) || defined(vtkGradientOpacityOn)\r\n  #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)\r\n    mat4 normalMat = computeMat4Normal(posIS, tValue, tstep);\r\n    vec4 normal0 = normalMat[0];\r\n    vec4 normal1 = normalMat[1];\r\n  #if vtkNumComponents > 2\r\n    vec4 normal2 = normalMat[2];\r\n  #endif\r\n  #if vtkNumComponents > 3\r\n    vec4 normal3 = normalMat[3];\r\n  #endif\r\n  #else\r\n    vec4 normal0 = computeNormal(posIS, tValue.a, tstep);\r\n  #endif\r\n  #endif\r\n\r\n  // compute gradient opacity factors as needed\r\n  #if defined(vtkGradientOpacityOn)\r\n    goFactor.x =\r\n      computeGradientOpacityFactor(normal0, goscale0, goshift0, gomin0, gomax0);\r\n  #if defined(vtkIndependentComponentsOn) && (vtkNumComponents > 1)\r\n    goFactor.y =\r\n      computeGradientOpacityFactor(normal1, goscale1, goshift1, gomin1, gomax1);\r\n  #if vtkNumComponents > 2\r\n    goFactor.z =\r\n      computeGradientOpacityFactor(normal2, goscale2, goshift2, gomin2, gomax2);\r\n  #if vtkNumComponents > 3\r\n    goFactor.w =\r\n      computeGradientOpacityFactor(normal3, goscale3, goshift3, gomin3, gomax3);\r\n  #endif\r\n  #endif\r\n  #endif\r\n  #endif\r\n\r\n  // single component is always independent\r\n  #if vtkNumComponents == 1\r\n    vec4 tColor = texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, 0.5));\r\n    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, 0.5)).r;\r\n  #endif\r\n\r\n  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2\r\n    vec4 tColor = mix0*texture2D(ctexture, vec2(tValue.r * cscale0 + cshift0, height0));\r\n    tColor.a = goFactor.x*mix0*texture2D(otexture, vec2(tValue.r * oscale0 + oshift0, height0)).r;\r\n    vec3 tColor1 = mix1*texture2D(ctexture, vec2(tValue.g * cscale1 + cshift1, height1)).rgb;\r\n    tColor.a += goFactor.y*mix1*texture2D(otexture, vec2(tValue.g * oscale1 + oshift1, height1)).r;\r\n  #if vtkNumComponents >= 3\r\n    vec3 tColor2 = mix2*texture2D(ctexture, vec2(tValue.b * cscale2 + cshift2, height2)).rgb;\r\n    tColor.a += goFactor.z*mix2*texture2D(otexture, vec2(tValue.b * oscale2 + oshift2, height2)).r;\r\n  #if vtkNumComponents >= 4\r\n    vec3 tColor3 = mix3*texture2D(ctexture, vec2(tValue.a * cscale3 + cshift3, height3)).rgb;\r\n    tColor.a += goFactor.w*mix3*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, height3)).r;\r\n  #endif\r\n  #endif\r\n\r\n  #else // then not independent\r\n\r\n  #if vtkNumComponents == 2\r\n    float lum = tValue.r * cscale0 + cshift0;\r\n    float alpha = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale1 + oshift1, 0.5)).r;\r\n    vec4 tColor = vec4(lum, lum, lum, alpha);\r\n  #endif\r\n  #if vtkNumComponents == 3\r\n    vec4 tColor;\r\n    tColor.r = tValue.r * cscale0 + cshift0;\r\n    tColor.g = tValue.g * cscale1 + cshift1;\r\n    tColor.b = tValue.b * cscale2 + cshift2;\r\n    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale0 + oshift0, 0.5)).r;\r\n  #endif\r\n  #if vtkNumComponents == 4\r\n    vec4 tColor;\r\n    tColor.r = tValue.r * cscale0 + cshift0;\r\n    tColor.g = tValue.g * cscale1 + cshift1;\r\n    tColor.b = tValue.b * cscale2 + cshift2;\r\n    tColor.a = goFactor.x*texture2D(otexture, vec2(tValue.a * oscale3 + oshift3, 0.5)).r;\r\n  #endif\r\n  #endif // dependent\r\n\r\n  // apply lighting if requested as appropriate\r\n  #if vtkLightComplexity > 0\r\n    applyLighting(tColor.rgb, normal0);\r\n  #if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2\r\n    applyLighting(tColor1, normal1);\r\n  #if vtkNumComponents >= 3\r\n    applyLighting(tColor2, normal2);\r\n  #if vtkNumComponents >= 4\r\n    applyLighting(tColor3, normal3);\r\n  #endif\r\n  #endif\r\n  #endif\r\n#endif\r\n\r\n// perform final independent blend as needed\r\n#if defined(vtkIndependentComponentsOn) && vtkNumComponents >= 2\r\n  tColor.rgb += tColor1;\r\n#if vtkNumComponents >= 3\r\n  tColor.rgb += tColor2;\r\n#if vtkNumComponents >= 4\r\n  tColor.rgb += tColor3;\r\n#endif\r\n#endif\r\n#endif\r\n\r\n#endif\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nreturn tColor;\r\n}\r\n\r\n\r\n\r\n//=======================================================================\r\n// Apply the specified blend mode operation along the ray's path.\r\n//\r\nvoid applyBlend(vec3 posIS, vec3 endIS, float sampleDistanceIS, vec3 tdims)\r\n{\r\n  vec3 tstep = 1.0/tdims;\r\n\r\n  // start slightly inside and apply some jitter\r\n  vec3 delta = endIS - posIS;\r\n  vec3 stepIS = normalize(delta)*sampleDistanceIS;\r\n  float raySteps = length(delta)/sampleDistanceIS;\r\n\r\n  // avoid 0.0 jitter\r\n  float jitter = 0.01 + 0.99*texture2D(jtexture, gl_FragCoord.xy/32.0).r;\r\n  float stepsTraveled = jitter;\r\n\r\n  // local vars for the loop\r\n  vec4 color = vec4(0.0, 0.0, 0.0, 0.0);\r\n  vec4 tValue;\r\n  vec4 tColor;\r\n\r\n  // if we have less than one step then pick the middle point\r\n  // as our value\r\n  // if (raySteps <= 1.0)\r\n  // {\r\n  //   posIS = (posIS + endIS)*0.5;\r\n  // }\r\n\r\n  // Perform initial step at the volume boundary\r\n  // compute the scalar\r\n  tValue = getTextureValue(posIS);\r\n\r\n  #if vtkBlendMode == 0 // COMPOSITE_BLEND\r\n    // now map through opacity and color\r\n    tColor = getColorForValue(tValue, posIS, tstep);\r\n\r\n    // handle very thin volumes\r\n    if (raySteps <= 1.0)\r\n    {\r\n      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps);\r\n      gl_FragData[0] = tColor;\r\n      return;\r\n    }\r\n\r\n    tColor.a = 1.0 - pow(1.0 - tColor.a, jitter);\r\n    color = vec4(tColor.rgb*tColor.a, tColor.a);\r\n    posIS += (jitter*stepIS);\r\n\r\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\r\n    {\r\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\r\n\r\n      // compute the scalar\r\n      tValue = getTextureValue(posIS);\r\n\r\n      // now map through opacity and color\r\n      tColor = getColorForValue(tValue, posIS, tstep);\r\n\r\n      float mix = (1.0 - color.a);\r\n\r\n      // this line should not be needed but nvidia seems to not handle\r\n      // the break correctly on windows/chrome 58 angle\r\n      //mix = mix * sign(max(raySteps - stepsTraveled - 1.0, 0.0));\r\n\r\n      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;\r\n      stepsTraveled++;\r\n      posIS += stepIS;\r\n      if (color.a > 0.99) { color.a = 1.0; break; }\r\n    }\r\n\r\n    if (color.a < 0.99 && (raySteps - stepsTraveled) > 0.0)\r\n    {\r\n      posIS = endIS;\r\n\r\n      // compute the scalar\r\n      tValue = getTextureValue(posIS);\r\n\r\n      // now map through opacity and color\r\n      tColor = getColorForValue(tValue, posIS, tstep);\r\n      tColor.a = 1.0 - pow(1.0 - tColor.a, raySteps - stepsTraveled);\r\n\r\n      float mix = (1.0 - color.a);\r\n      color = color + vec4(tColor.rgb*tColor.a, tColor.a)*mix;\r\n    }\r\n\r\n    gl_FragData[0] = vec4(color.rgb/color.a, color.a);\r\n  #endif\r\n  #if vtkBlendMode == 1 || vtkBlendMode == 2\r\n    // MAXIMUM_INTENSITY_BLEND || MINIMUM_INTENSITY_BLEND\r\n    // Find maximum/minimum intensity along the ray.\r\n\r\n    // Define the operation we will use (min or max)\r\n    #if vtkBlendMode == 1\r\n    #define OP max\r\n    #else\r\n    #define OP min\r\n    #endif\r\n\r\n    // If the clipping range is shorter than the sample distance\r\n    // we can skip the sampling loop along the ray.\r\n    if (raySteps <= 1.0)\r\n    {\r\n      gl_FragData[0] = getColorForValue(tValue, posIS, tstep);\r\n      return;\r\n    }\r\n\r\n    vec4 value = tValue;\r\n    posIS += (jitter*stepIS);\r\n\r\n    // Sample along the ray until MaximumSamplesValue,\r\n    // ending slightly inside the total distance\r\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\r\n    {\r\n      // If we have reached the last step, break\r\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\r\n\r\n      // compute the scalar\r\n      tValue = getTextureValue(posIS);\r\n\r\n      // Update the maximum value if necessary\r\n      value = OP(tValue, value);\r\n\r\n      // Otherwise, continue along the ray\r\n      stepsTraveled++;\r\n      posIS += stepIS;\r\n    }\r\n\r\n    // Perform the last step along the ray using the\r\n    // residual distance\r\n    posIS = endIS;\r\n    tValue = getTextureValue(posIS);\r\n    value = OP(tValue, value);\r\n\r\n    // Now map through opacity and color\r\n    gl_FragData[0] = getColorForValue(value, posIS, tstep);\r\n  #endif\r\n  #if vtkBlendMode == 3 //AVERAGE_INTENSITY_BLEND\r\n    vec4 averageIPScalarRangeMin = vec4 (\r\n      //VTK::AverageIPScalarRangeMin,\r\n      //VTK::AverageIPScalarRangeMin,\r\n      //VTK::AverageIPScalarRangeMin,\r\n      1.0);\r\n    vec4 averageIPScalarRangeMax = vec4(\r\n      //VTK::AverageIPScalarRangeMax,\r\n      //VTK::AverageIPScalarRangeMax,\r\n      //VTK::AverageIPScalarRangeMax,\r\n      1.0);\r\n\r\n    vec4 sum = vec4(0.);\r\n\r\n    averageIPScalarRangeMin.a = tValue.a;\r\n    averageIPScalarRangeMax.a = tValue.a;\r\n\r\n    if (all(greaterThanEqual(tValue, averageIPScalarRangeMin)) &&\r\n    all(lessThanEqual(tValue, averageIPScalarRangeMax))) {\r\n      sum += tValue;\r\n    }\r\n\r\n    if (raySteps <= 1.0) {\r\n      gl_FragData[0] = getColorForValue(sum, posIS, tstep);\r\n      return;\r\n    }\r\n\r\n    posIS += (jitter*stepIS);\r\n\r\n    // Sample along the ray until MaximumSamplesValue,\r\n    // ending slightly inside the total distance\r\n    for (int i = 0; i < //VTK::MaximumSamplesValue ; ++i)\r\n    {\r\n      // If we have reached the last step, break\r\n      if (stepsTraveled + 1.0 >= raySteps) { break; }\r\n\r\n      // compute the scalar\r\n      tValue = getTextureValue(posIS);\r\n\r\n      // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation.\r\n      // Notes:\r\n      // - We are comparing all values in the texture to see if any of them\r\n      //   are outside of the scalar range. In the future we might want to allow\r\n      //   scalar ranges for each component.\r\n      // - We are setting the alpha channel for averageIPScalarRangeMin and\r\n      //   averageIPScalarRangeMax so that we do not trigger this 'continue'\r\n      //   based on the alpha channel comparison.\r\n      // - There might be a better way to do this. I'm not sure if there is an\r\n      //   equivalent of 'any' which only operates on RGB, though I suppose\r\n      //   we could write an 'anyRGB' function and see if that is faster.\r\n      averageIPScalarRangeMin.a = tValue.a;\r\n      averageIPScalarRangeMax.a = tValue.a;\r\n      if (any(lessThan(tValue, averageIPScalarRangeMin)) ||\r\n          any(greaterThan(tValue, averageIPScalarRangeMax))) {\r\n        continue;\r\n      }\r\n\r\n      // Sum the values across each step in the path\r\n      sum += tValue;\r\n\r\n      // Otherwise, continue along the ray\r\n      stepsTraveled++;\r\n      posIS += stepIS;\r\n    }\r\n\r\n    // Perform the last step along the ray using the\r\n    // residual distance\r\n    posIS = endIS;\r\n\r\n    // compute the scalar\r\n    tValue = getTextureValue(posIS);\r\n\r\n    // One can control the scalar range by setting the AverageIPScalarRange to disregard scalar values, not in the range of interest, from the average computation\r\n    if (all(greaterThanEqual(tValue, averageIPScalarRangeMin)) &&\r\n        all(lessThanEqual(tValue, averageIPScalarRangeMax))) {\r\n      sum += tValue;\r\n\r\n      stepsTraveled++;\r\n    }\r\n\r\n    sum /= vec4(stepsTraveled, stepsTraveled, stepsTraveled, 1.0);\r\n\r\n    gl_FragData[0] = getColorForValue(sum, posIS, tstep);\r\n  #endif\r\n}\r\n\r\n//=======================================================================\r\n// Compute a new start and end point for a given ray based\r\n// on the provided bounded clipping plane (aka a rectangle)\r\nvoid getRayPointIntersectionBounds(\r\n  vec3 rayPos, vec3 rayDir,\r\n  vec3 planeDir, float planeDist,\r\n  inout vec2 tbounds, vec3 vPlaneX, vec3 vPlaneY,\r\n  float vSize1, float vSize2)\r\n{\r\n  float result = dot(rayDir, planeDir);\r\n  if (result == 0.0)\r\n  {\r\n    return;\r\n  }\r\n  result = -1.0 * (dot(rayPos, planeDir) + planeDist) / result;\r\n  vec3 xposVC = rayPos + rayDir*result;\r\n  vec3 vxpos = xposVC - vOriginVC;\r\n  vec2 vpos = vec2(\r\n    dot(vxpos, vPlaneX),\r\n    dot(vxpos, vPlaneY));\r\n\r\n  // on some apple nvidia systems this does not work\r\n  // if (vpos.x < 0.0 || vpos.x > vSize1 ||\r\n  //     vpos.y < 0.0 || vpos.y > vSize2)\r\n  // even just\r\n  // if (vpos.x < 0.0 || vpos.y < 0.0)\r\n  // fails\r\n  // so instead we compute a value that represents in and out\r\n  //and then compute the return using this value\r\n  float xcheck = max(0.0, vpos.x * (vpos.x - vSize1)); //  0 means in bounds\r\n  float check = sign(max(xcheck, vpos.y * (vpos.y - vSize2))); //  0 means in bounds, 1 = out\r\n\r\n  tbounds = mix(\r\n   vec2(min(tbounds.x, result), max(tbounds.y, result)), // in value\r\n   tbounds, // out value\r\n   check);  // 0 in 1 out\r\n}\r\n\r\n//=======================================================================\r\n// given a\r\n// - ray direction (rayDir)\r\n// - starting point (vertexVCVSOutput)\r\n// - bounding planes of the volume\r\n// - optionally depth buffer values\r\n// - far clipping plane\r\n// compute the start/end distances of the ray we need to cast\r\nvec2 computeRayDistances(vec3 rayDir, vec3 tdims)\r\n{\r\n  vec2 dists = vec2(100.0*camFar, -1.0);\r\n\r\n  vec3 vSize = vSpacing*(tdims - 1.0);\r\n\r\n  // all this is in View Coordinates\r\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\r\n    vPlaneNormal0, vPlaneDistance0, dists, vPlaneNormal2, vPlaneNormal4,\r\n    vSize.y, vSize.z);\r\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\r\n    vPlaneNormal1, vPlaneDistance1, dists, vPlaneNormal2, vPlaneNormal4,\r\n    vSize.y, vSize.z);\r\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\r\n    vPlaneNormal2, vPlaneDistance2, dists, vPlaneNormal0, vPlaneNormal4,\r\n    vSize.x, vSize.z);\r\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\r\n    vPlaneNormal3, vPlaneDistance3, dists, vPlaneNormal0, vPlaneNormal4,\r\n    vSize.x, vSize.z);\r\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\r\n    vPlaneNormal4, vPlaneDistance4, dists, vPlaneNormal0, vPlaneNormal2,\r\n    vSize.x, vSize.y);\r\n  getRayPointIntersectionBounds(vertexVCVSOutput, rayDir,\r\n    vPlaneNormal5, vPlaneDistance5, dists, vPlaneNormal0, vPlaneNormal2,\r\n    vSize.x, vSize.y);\r\n\r\n  // do not go behind front clipping plane\r\n  dists.x = max(0.0,dists.x);\r\n\r\n  // do not go PAST far clipping plane\r\n  float farDist = -camThick/rayDir.z;\r\n  dists.y = min(farDist,dists.y);\r\n\r\n  // Do not go past the zbuffer value if set\r\n  // This is used for intermixing opaque geometry\r\n  //VTK::ZBuffer::Impl\r\n\r\n  return dists;\r\n}\r\n\r\n//=======================================================================\r\n// Compute the index space starting position (pos) and end\r\n// position\r\n//\r\nvoid computeIndexSpaceValues(out vec3 pos, out vec3 endPos, out float sampleDistanceIS, vec3 rayDir, vec2 dists)\r\n{\r\n  // compute starting and ending values in volume space\r\n  pos = vertexVCVSOutput + dists.x*rayDir;\r\n  pos = pos - vOriginVC;\r\n  // convert to volume basis and origin\r\n  pos = vec3(\r\n    dot(pos, vPlaneNormal0),\r\n    dot(pos, vPlaneNormal2),\r\n    dot(pos, vPlaneNormal4));\r\n\r\n  endPos = vertexVCVSOutput + dists.y*rayDir;\r\n  endPos = endPos - vOriginVC;\r\n  endPos = vec3(\r\n    dot(endPos, vPlaneNormal0),\r\n    dot(endPos, vPlaneNormal2),\r\n    dot(endPos, vPlaneNormal4));\r\n\r\n  float delta = length(endPos - pos);\r\n\r\n  pos *= vVCToIJK;\r\n  endPos *= vVCToIJK;\r\n\r\n  float delta2 = length(endPos - pos);\r\n  sampleDistanceIS = sampleDistance*delta2/delta;\r\n}\r\n\r\nvoid main()\r\n{\r\n\r\n  vec3 rayDirVC;\r\n\r\n  if (cameraParallel == 1)\r\n  {\r\n    // Camera is parallel, so the rayDir is just the direction of the camera.\r\n    rayDirVC = vec3(0.0, 0.0, -1.0);\r\n  } else {\r\n    // camera is at 0,0,0 so rayDir for perspective is just the vc coord\r\n    rayDirVC = normalize(vertexVCVSOutput);\r\n  }\r\n\r\n  vec3 tdims = vec3(volumeDimensions);\r\n\r\n  // compute the start and end points for the ray\r\n  vec2 rayStartEndDistancesVC = computeRayDistances(rayDirVC, tdims);\r\n\r\n  // do we need to composite? aka does the ray have any length\r\n  // If not, bail out early\r\n  if (rayStartEndDistancesVC.y <= rayStartEndDistancesVC.x)\r\n  {\r\n    discard;\r\n  }\r\n\r\n  // IS = Index Space\r\n  vec3 posIS;\r\n  vec3 endIS;\r\n  float sampleDistanceIS;\r\n  computeIndexSpaceValues(posIS, endIS, sampleDistanceIS, rayDirVC, rayStartEndDistancesVC);\r\n\r\n  // Perform the blending operation along the ray\r\n  applyBlend(posIS, endIS, sampleDistanceIS, tdims);\r\n}\r\n"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLTextMapper"),e.render=function(){var n=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),r=e.getFirstAncestorOfType("vtkOpenGLActor2D").getRenderable();if(r.getVisibility()){if(t.shaderProgram)n.getShaderCache().readyShaderProgram(t.shaderProgram.getProgram());else{t.shaderProgram=p.default.newInstance(),t.shaderProgram.setOpenGLRenderWindow(n);var a=h.default,i=A.default,o=n.getShaderCache().readyShaderProgramArray(a,i,"");t.shaderProgram.setProgram(o)}var s=t.shaderProgram.getProgram(),u=t.renderable.getInput();if(u&&u.length>0){t.renderable.updateImage(0),t.renderable.updateQuad(r,0);var l=r.getPosition(),c=t.renderable.getScaledBBox(),d=t.renderable.getImage();t.texture.setOpenGLRenderWindow(n),t.renderable.getMTime()>t.texture.getMTime()&&(t.texture.create2DFromCanvas(d.width,d.height,4,m.VtkDataTypes.UNSIGNED_CHAR,d),t.texture.modified()),t.texture.activate(),s.setUniformi("source",t.texture.getTextureUnit()),t.texture.copyToFrameBuffer1(0,0,d.width-1,d.height-1,l[0]+c[0],l[1]+c[2],l[0]+c[1]-1,l[1]+c[3]-1,s,t.shaderProgram.getVAO(),!0),t.texture.deactivate()}}},e.overlayPass=function(t){t&&e.render()},e.opaquePass=function(e){}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,S,n),l.default.extend(e,t,n),t.texture=d.default.newInstance(),t.texture.setMinificationFilter(f.Filter.NEAREST),t.texture.setMagnificationFilter(f.Filter.NEAREST),t.texture.setWrapS(f.Wrap.CLAMP_TO_EDGE),t.texture.setWrapT(f.Wrap.CLAMP_TO_EDGE),t.texture.setWrapR(f.Wrap.CLAMP_TO_EDGE),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(9),l=r(u),c=n(25),d=r(c),f=n(31),m=n(5),g=n(32),p=r(g),v=n(135),h=r(v),y=n(220),A=r(y),S={texture:null,shaderProgram:null},T=t.newInstance=s.default.newInstance(i,"vtkOpenGLTextMapper");t.default={newInstance:T,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLCornerAnnotation"),e.buildPass=function(n){if(t.renderable.getVisibility()&&n){var r=e.getFirstAncestorOfType("vtkOpenGLRenderer");t.renderable.build(r),e.prepareNodes(),e.addMissingNodes(t.renderable.getTextActor()),e.removeUnusedNodes()}},e.traversePass=function(n){t.renderable.getVisibility()&&(t.renderable.getFontSize()<t.renderable.getMinimumFontSize()||(e.apply(n,!0),t.children.forEach(function(e){e.traverse(n)}),e.apply(n,!1)))},e.traverseOpaquePass=function(e){},e.traverseOverlayPass=function(t){e.traversePass(t)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(9),l=r(u),c={},d=t.newInstance=s.default.newInstance(i,"vtkOpenGLCornerAnnotation");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLLogoRepresentation"),e.overlayPass=function(n){if(n&&t.renderable.getVisibility()&&t.renderable.getScaledData().data){var r=e.getFirstAncestorOfType("vtkOpenGLRenderWindow");t.context=r.getContext();var a=t.context,i=a.getParameter(a.CURRENT_PROGRAM);if(!t.logoShaderProgram){var o=d.default.newInstance();o.getVertexShader().setSource("attribute vec2 a_position;attribute vec2 a_texCoord;varying vec2 v_texCoord;void main() {gl_Position = vec4(a_position, 1.0, 1.0);v_texCoord = a_texCoord;}"),o.getFragmentShader().setSource("precision mediump float;uniform float u_opacity;uniform sampler2D u_sampler;varying vec2 v_texCoord;void main() {gl_FragColor = texture2D(u_sampler, v_texCoord) * vec4(1.0, 1.0, 1.0, u_opacity);}"),o.setContext(a),o.compileShader(),t.logoShaderProgram=o}var s=t.logoShaderProgram,u=s.getHandle();if(u){s.bind();var l=a.getAttribLocation(u,"a_position"),c=a.getAttribLocation(u,"a_texCoord"),f=t.renderable.getOpacity(),m=t.renderable.getPosition(),g=t.renderable.getPosition2(),p=t.renderable.getScaledData(),v=t.renderable.getImage().getDimensions(),h=a.getParameter(a.VIEWPORT),y=[g[0]*h[2],g[1]*h[3]];if(y[0]/y[1]>v[0]/v[1]){var A=y[1]/v[1]*v[0]/h[2];m[0]+=(g[0]-A)/2,g[0]=A}else{var S=y[0]/v[0]*v[1]/h[3];m[1]+=(g[1]-S)/2,g[1]=S}var T=function(e){return 2*e-1},M=new Float32Array([T(m[0]),T(m[1]+g[1]),0,1,T(m[0]+g[0]),T(m[1]+g[1]),1,1,T(m[0]),T(m[1]),0,0,T(m[0]+g[0]),T(m[1]),1,0]),b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b),a.bufferData(a.ARRAY_BUFFER,M,a.STATIC_DRAW);var D=M.BYTES_PER_ELEMENT;a.vertexAttribPointer(l,2,a.FLOAT,!1,4*D,0),a.vertexAttribPointer(c,2,a.FLOAT,!1,4*D,2*D),a.enableVertexAttribArray(l),a.enableVertexAttribArray(c);var I=a.getUniformLocation(u,"u_opacity");a.uniform1f(I,f);var w=a.getUniformLocation(u,"u_sampler"),C=a.createTexture();a.pixelStorei(a.UNPACK_ALIGNMENT,1),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,C),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,p.width,p.height,0,a.RGBA,a.UNSIGNED_BYTE,p.data[0]),a.uniform1i(w,0),a.drawArrays(a.TRIANGLE_STRIP,0,M.length/4),a.disableVertexAttribArray(l),a.disableVertexAttribArray(c),s.release(),a.useProgram(i)}}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(9),l=r(u),c=n(13),d=r(c),f={logoShaderProgram:null},m=t.newInstance=s.default.newInstance(i,"vtkOpenGLLogoRepresentation");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkOpenGLPolyDataMapper2D"),e.translucentPass=function(t){t&&e.render()},e.opaqueZBufferPass=function(t){t&&e.render()},e.opaquePass=function(t){t&&e.render()},e.render=function(){t.openGLRenderWindow=e.getFirstAncestorOfType("vtkOpenGLRenderWindow"),t.context=t.openGLRenderWindow.getContext();for(var n=b.Start;n<b.End;n++)t.primitives[n].setOpenGLRenderWindow(t.openGLRenderWindow);t.openGLActor=e.getFirstAncestorOfType("vtkOpenGLActor2D");var r=t.openGLActor.getRenderable();t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer");var a=t.openGLRenderer.getRenderable();t.openGLCamera=t.openGLRenderer.getViewNodeFor(a.getActiveCamera()),e.renderOverlay(a,r)},e.renderOverlay=function(n,r){var a=t.renderable.getInputData();if(a&&(t.currentInput=a,a)){t.renderable.update(),t.renderable.getLookupTable()||t.renderable.createDefaultLookupTable();var i=t.openGLRenderer.getSelector()?1:0;i!==t.renderable.getLastPickState()&&(t.renderable.setLastPickState(i),t.pickStateChanged.modified());var o=t.context;o.enable(o.DEPTH_TEST),(t.VBOBuildTime.getMTime()<e.getMTime()||t.VBOBuildTime.getMTime()<r.getMTime()||t.VBOBuildTime.getMTime()<t.currentInput.getMTime())&&(e.updateVBO(r,n),t.VBOBuildTime.modified()),t.lastBoundBO=null,t.primitiveIDOffset=0;for(var s=b.Start;s<b.End;s++){var u=t.primitives[s].getCABO();if(u.getElementCount()){if(e.updateShaders(t.primitives[s],n,r),t.primitives[s].getProgram()&&t.primitives[s].getProgram().setUniformi("PrimitiveIDOffset",t.primitiveIDOffset),s===b.Lines){var l=r.getProperty(),c=1;l&&(c=l.getLineWidth()),t.context.lineWidth(c)}var d=e.getOpenGLMode(s);o.drawArrays(d,0,u.getElementCount());var f=0;f=d===o.POINTS?1:d===o.LINES?2:3,t.primitiveIDOffset+=u.getElementCount()/f}}t.lastBoundBO&&(t.lastBoundBO=null)}},e.getOpenGLMode=function(e){return e===b.Points?t.context.POINTS:e===b.Lines?t.context.LINES:t.context.TRIANGLES},e.updateVBO=function(e,n){var r=t.renderable.getInputData();if(r){if(t.haveCellScalars=0,t.renderable.getScalarVisibility()){t.renderable.mapScalars(e.getProperty().getOpacity());var a=t.renderable.getScalarMode();a!==h.ScalarMode.USE_CELL_DATA&&a!==h.ScalarMode.USE_CELL_FIELD_DATA&&a!==h.ScalarMode.USE_FIELD_DATA&&r.getPointData().getScalars()||a===h.ScalarMode.USE_POINT_FIELD_DATA||!t.renderable.getColorMapColors()||(t.haveCellScalars=1)}var i=r.getPointData().getTCoords();if(t.renderable.getColorCoordinates()){i=t.renderable.getColorCoordinates(),t.internalColorTexture||(t.internalColorTexture=g.default.newInstance());var o=t.internalColorTexture;o.setMinificationFilter(y.Filter.NEAREST),o.setMagnificationFilter(y.Filter.NEAREST),o.setWrapS(y.Wrap.CLAMP_TO_EDGE),o.setWrapT(y.Wrap.CLAMP_TO_EDGE),o.setWindow(t.openGLRenderWindow),o.setContext(t.openGLRenderWindow.getContext());var s=t.renderable.getColorTextureMap(),u=s.getExtent(),l=s.getPointData().getScalars();o.create2DFromRaw(u[1]-u[0]+1,u[3]-u[2]+1,l.getNumberOfComponents(),l.getDataType(),l.getData()),o.activate(),o.sendParameters(),o.deactivate()}var c=t.renderable.getColorMapColors(),d=r.getPoints(),f={points:d,normals:null,tcoords:i,colors:c,cellOffset:0,haveCellScalars:t.haveCellScalars,haveCellNormals:0};f.cellOffset+=t.primitives[b.Points].getCABO().createVBO(r.getVerts(),"verts",0,f),f.cellOffset+=t.primitives[b.Lines].getCABO().createVBO(r.getLines(),"lines",0,f),f.cellOffset+=t.primitives[b.Tris].getCABO().createVBO(r.getPolys(),"polys",0,f),f.cellOffset+=t.primitives[b.TriStrips].getCABO().createVBO(r.getStrips(),"strips",0,f),t.VBOBuildTime.modified()}},e.buildShaders=function(n,r,a){var i=S.default,o=M.default,s="";if(t.haveCellScalars)o=f.default.substitute(o,"//VTK::Color::Dec",["uniform samplerBuffer textureC;"]).result,o=f.default.substitute(o,"//VTK::Color::Impl",["gl_FragData[0] = texelFetchBuffer(textureC, gl_PrimitiveID + PrimitiveIDOffset);"]).result,s=f.default.substitute(s,"//VTK::PrimID::Impl",["gl_PrimitiveID = gl_PrimitiveIDIn;"]).result;else{var u=t.renderable.getColorMapColors();u&&u.getNumberOfComponents()?(i=f.default.substitute(i,"//VTK::Color::Dec",["attribute vec4 diffuseColor;","varying vec4 fcolorVSOutput;"]).result,i=f.default.substitute(i,"//VTK::Color::Impl",["fcolorVSOutput = diffuseColor;"]).result,s=f.default.substitute(s,"//VTK::Color::Dec",["in vec4 fcolorVSOutput[];","out vec4 fcolorGSOutput;"]).result,s=f.default.substitute(s,"//VTK::Color::Impl",["fcolorGSOutput = fcolorVSOutput[i];"]).result,o=f.default.substitute(o,"//VTK::Color::Dec",["varying vec4 fcolorVSOutput;"]).result,o=f.default.substitute(o,"//VTK::Color::Impl",["gl_FragData[0] = fcolorVSOutput;"]).result):(o=f.default.substitute(o,"//VTK::Color::Dec",["uniform vec4 diffuseColor;"]).result,o=f.default.substitute(o,"//VTK::Color::Impl",["gl_FragData[0] = diffuseColor;"]).result)}var l=2;if(t.renderable.getInputData()){var c=t.renderable.getInputData().getPointData().getTCoords();l=c&&c.getNumberOfComponents()>0?c.getNumberOfComponents():0}1!==l&&2!==l||(1===l?(i=f.default.substitute(i,"//VTK::TCoord::Dec",["attribute float tcoordMC; varying float tcoordVCVSOutput;"]).result,i=f.default.substitute(i,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,s=f.default.substitute(s,"//VTK::TCoord::Dec",["in float tcoordVCVSOutput[]; out float tcoordVCGSOutput;"]).result,s=f.default.substitute(s,"//VTK::TCoord::Impl",["tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,o=f.default.substitute(o,"//VTK::TCoord::Dec",["varying float tcoordVCVSOutput; uniform sampler2D texture1;"]).result,o=f.default.substitute(o,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, vec2(tcoordVCVSOutput,0));"]).result):(i=f.default.substitute(i,"//VTK::TCoord::Dec",["attribute vec2 tcoordMC; varying vec2 tcoordVCVSOutput;"]).result,i=f.default.substitute(i,"//VTK::TCoord::Impl",["tcoordVCVSOutput = tcoordMC;"]).result,s=f.default.substitute(s,"//VTK::TCoord::Dec",["in vec2 tcoordVCVSOutput[]; out vec2 tcoordVCGSOutput;"]).result,s=f.default.substitute(s,"//VTK::TCoord::Impl",["tcoordVCGSOutput = tcoordVCVSOutput[i];"]).result,o=f.default.substitute(o,"//VTK::TCoord::Dec",["varying vec2 tcoordVCVSOutput; uniform sampler2D texture1;"]).result,o=f.default.substitute(o,"//VTK::TCoord::Impl",["gl_FragData[0] = gl_FragData[0]*texture2D(texture1, tcoordVCVSOutput.st);"]).result)),t.haveCellScalars&&(s=f.default.substitute(s,"//VTK::PrimID::Impl",["gl_PrimitiveID = gl_PrimitiveIDIn;"]).result),n.Vertex=i,n.Geometry=s,n.Fragment=o,e.replaceShaderPicking(n,r,a)},e.replaceShaderPicking=function(e,n,r){var a=e.Fragment;t.openGLRenderer.getSelector()&&(a=f.default.substitute(a,"//VTK::Picking::Dec","uniform vec3 mapperIndex;").result,a=f.default.substitute(a,"//VTK::Picking::Impl","  gl_FragData[0] = vec4(mapperIndex,1.0);").result,e.Fragment=a)},e.getNeedToRebuildShaders=function(n,r,a){return 0===n.getProgram()||n.getShaderSourceTime().getMTime()<e.getMTime()||n.getShaderSourceTime().getMTime()<a.getMTime()||n.getShaderSourceTime().getMTime()<t.renderable.getMTime()||n.getShaderSourceTime().getMTime()<t.currentInput.getMTime()},e.updateShaders=function(n,r,a){if(n.getVAO().bind(),t.lastBoundBO=n,e.getNeedToRebuildShaders(n,r,a)){var i={Vertex:null,Fragment:null,Geometry:null};e.buildShaders(i,r,a);var o=t.openGLRenderWindow.getShaderCache().readyShaderProgramArray(i.Vertex,i.Fragment,i.Geometry);o!==n.getProgram()&&(n.setProgram(o),n.getVAO().releaseGraphicsResources()),n.getShaderSourceTime().modified()}else t.openGLRenderWindow.getShaderCache().readyShaderProgram(n.getProgram());e.setMapperShaderParameters(n,r,a),e.setPropertyShaderParameters(n,r,a),e.setCameraShaderParameters(n,r,a)},e.setMapperShaderParameters=function(e,n,r){if(t.VBOBuildTime.getMTime()>e.getAttributeUpdateTime().getMTime()||e.getShaderSourceTime().getMTime()>e.getAttributeUpdateTime().getMTime()){e.getCABO().bind(),e.getProgram().isAttributeUsed("tcoordMC")&&e.getCABO().getTCoordOffset()&&e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"tcoordMC",e.getCABO().getTCoordOffset(),e.getCABO().getStride(),t.context.FLOAT,e.getCABO().getTCoordComponents(),!1),e.getProgram().isAttributeUsed("vertexWC")&&e.getVAO().addAttributeArray(e.getProgram(),e.getCABO(),"vertexWC",e.getCABO().getVertexOffset(),e.getCABO().getStride(),t.context.FLOAT,3,!1),t.haveCellScalars&&e.getProgram().setUniformi("textureC",0),t.internalColorTexture&&e.getTCoordComponents()&&e.getProgram().setUniformi("texture1",t.internalColorTexture.getTextureUnit());var a=t.openGLRenderer.getSelector();a&&e.getProgram().isUniformUsed("mapperIndex")&&e.getProgram().setUniform3f("mapperIndex",a.getPropColorValue())}},e.setCameraShaderParameters=function(e,t,n){var r=e.getProgram(),a=t.getRenderWindow().getViews()[0].getSize(),i=t.getViewport(),s=[0,0],u=[0,0,1,1],l=new Array(4);if(l[0]=i[0]>=u[0]?i[0]:u[0],l[1]=i[1]>=u[1]?i[1]:u[1],l[2]=i[2]<=u[2]?i[2]:u[2],l[3]=i[3]<=u[3]?i[3]:u[3],!(l[0]>=l[2]||l[1]>=l[3])){a[0]=Math.round(a[0]*(l[2]-l[0])/(i[2]-i[0])),a[1]=Math.round(a[1]*(l[3]-l[1])/(i[3]-i[1]));var c=t.getRenderWindow().getViews()[0].getSize(),d=s[0]-(l[0]-i[0])*c[0],f=s[1]-(l[1]-i[1])*c[1],m=-d,g=-d+a[0],p=-f,v=-f+a[1];m===g&&(g=m+1),p===v&&(v=p+1);var h=0,y=1e38;"Foreground"!==n.getProperty().getDisplayLocation()&&(h=-1e38,y=0);var A=o.mat4.create();A[0]=2/(g-m),A[5]=2/(v-p),A[10]=-2/(y-h),A[15]=1,A[3]=-1*(g+m)/(g-m),A[7]=-1*(v+p)/(v-p),A[11]=-1*(y+h)/(y-h),A=o.mat4.transpose(A,A),r.setUniformMatrix("WCVCMatrix",A)}},e.setPropertyShaderParameters=function(e,n,r){var a=t.renderable.getColorMapColors();if(!a||!a.getNumberOfComponents()){var i=e.getProgram(),o=r.getProperty(),s=o.getOpacity(),u=o.getColor(),l=[u[0],u[1],u[2],s];i.setUniform4f("diffuseColor",l)}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,D,n),v.default.extend(e,t,n),t.primitives=[],t.primTypes=b;for(var r=b.Start;r<b.End;r++)t.primitives[r]=c.default.newInstance(),t.primitives[r].setPrimitiveType(r),t.primitives[r].set({lastSelectionPass:-1},!0);u.default.setGet(e,t,["context"]),t.VBOBuildTime={},u.default.obj(t.VBOBuildTime,{mtime:0}),t.pickStateChanged={},u.default.obj(t.pickStateChanged,{mtime:0}),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(32),c=r(l),d=n(13),f=r(d),m=n(25),g=r(m),p=n(9),v=r(p),h=n(87),y=n(31),A=n(408),S=r(A),T=n(409),M=r(T),b={Start:0,Points:0,Lines:1,Tris:2,TriStrips:3,End:4},D={context:null,VBOBuildTime:0,VBOBuildString:null,primitives:null,primTypes:null,shaderRebuildString:null,pickStateChanged:0},I=t.newInstance=u.default.newInstance(i,"vtkOpenGLPolyDataMapper2D");t.default={newInstance:I,extend:i}},function(e,t){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyData2DVS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\n// all variables that represent positions or directions have a suffix\n// indicating the coordinate system they are in. The possible values are\n// MC - Model Coordinates\n// WC - WC world coordinates\n// VC - View Coordinates\n// DC - Display Coordinates\n\nattribute vec4 vertexWC;\n\n// material property values\n//VTK::Color::Dec\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\nuniform mat4 WCVCMatrix;  // World to view matrix\n\nvoid main()\n{\n  // Apple Bug\n  //VTK::PrimID::Impl\n\n  gl_Position = WCVCMatrix*vertexWC;\n  //VTK::TCoord::Impl\n  //VTK::Color::Impl\n}\n"},function(e,t){e.exports="//VTK::System::Dec\n\n/*=========================================================================\n\n  Program:   Visualization Toolkit\n  Module:    vtkPolyData2DFS.glsl\n\n  Copyright (c) Ken Martin, Will Schroeder, Bill Lorensen\n  All rights reserved.\n  See Copyright.txt or http://www.kitware.com/Copyright.htm for details.\n\n     This software is distributed WITHOUT ANY WARRANTY; without even\n     the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\n     PURPOSE.  See the above copyright notice for more information.\n\n=========================================================================*/\n\nuniform int PrimitiveIDOffset;\n\n// Texture coordinates\n//VTK::TCoord::Dec\n\n// Scalar coloring\n//VTK::Color::Dec\n\n// Depth Peeling\n//VTK::DepthPeeling::Dec\n\n// picking support\n//VTK::Picking::Dec\n\n// the output of this shader\n//VTK::Output::Dec\n\n// Apple Bug\n//VTK::PrimID::Dec\n\nvoid main()\n{\n  // Apple Bug\n  //VTK::PrimID::Impl\n\n  //VTK::Color::Impl\n  //VTK::TCoord::Impl\n\n  //VTK::DepthPeeling::Impl\n  //VTK::Picking::Impl\n\n  if (gl_FragData[0].a <= 0.0)\n    {\n    discard;\n    }\n}\n"},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkOpenGLAxisActor2D"),e.buildPass=function(n){if(n){if(!t.renderable)return;e.prepareNodes(),t.renderable.getActors().forEach(function(t){e.addMissingNode(t)}),e.removeUnusedNodes()}},e.traverseOpaquePass=function(n){t.renderable&&t.renderable.getVisibility()&&t.renderable.getIsOpaque()&&(e.apply(n,!0),t.children.forEach(function(e){e.isA("vtkOpenGLTexture")||e.traverse(n)}),e.apply(n,!1))},e.traverseTranslucentPass=function(n){t.renderable&&t.renderable.getVisibility()&&!t.renderable.getIsOpaque()&&(e.apply(n,!0),t.children.forEach(function(e){e.isA("vtkOpenGLTexture")||e.traverse(n)}),e.apply(n,!1))},e.opaquePass=function(n,r){if(n){t.openGLRenderer||(t.openGLRenderer=e.getFirstAncestorOfType("vtkOpenGLRenderer"));var a=t.openGLRenderer.getRenderable();t.renderable.buildAxis(a)}},e.translucentPass=function(n,r){n?(t.context=e.getFirstAncestorOfType("vtkOpenGLRenderWindow").getContext(),t.context.depthMask(!1),e.activateTextures()):(t.activeTextures.forEach(function(e){e.deactivate()}),t.context.depthMask(!0))}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),u.default.extend(e,t,n),o.setGet(e,t,["context"]),o.get(e,t,["activeTextures"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),s=n(9),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l={context:null,activeTextures:[]},c=t.newInstance=o.newInstance(a);t.default={newInstance:c,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkShaderCache"),e.replaceShaderValues=function(e,n,r){var a=n;r.length>0&&(a=d.default.substitute(a,"VSOut","GSOut").result);var i=t.openGLRenderWindow.getWebgl2(),o="\n",s="#version 100\n";i?s="#version 300 es\n#define attribute in\n#define textureCube texture\n#define texture2D texture\n#define textureCubeLod textureLod\n#define texture2DLod textureLod\n":(t.context.getExtension("OES_standard_derivatives"),t.context.getExtension("EXT_frag_depth")&&(o="#extension GL_EXT_frag_depth : enable\n"),t.context.getExtension("EXT_shader_texture_lod")&&(o+="#extension GL_EXT_shader_texture_lod : enable\n#define textureCubeLod textureCubeLodEXT\n#define texture2DLod texture2DLodEXT")),a=d.default.substitute(a,"//VTK::System::Dec",[s+"\n",i?"":"#extension GL_OES_standard_derivatives : enable\n",o,"#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;var u=d.default.substitute(e,"//VTK::System::Dec",[s+"\n","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","precision highp int;","#else","precision mediump float;","precision mediump int;","#endif"]).result;return i&&(u=d.default.substitute(u,"varying","out").result,a=d.default.substitute(a,"varying","in").result,a=d.default.substitute(a,"gl_FragData\\[0\\]","fragOutput0").result,a=d.default.substitute(a,"//VTK::Output::Dec","layout(location = 0) out vec4 fragOutput0;").result),{VSSource:u,FSSource:a,GSSource:d.default.substitute(r,"//VTK::System::Dec",s).result}},e.readyShaderProgramArray=function(t,n,r){var a=e.replaceShaderValues(t,n,r),i=e.getShaderProgram(a.VSSource,a.FSSource,a.GSSource);return e.readyShaderProgram(i)},e.readyShaderProgram=function(t){return t&&(t.getCompiled()||t.compileShader())&&e.bindShader(t)?t:null},e.getShaderProgram=function(e,n,r){var a=""+e+n+r,i=(0,s.default)(a);if(-1===Object.keys(t.shaderPrograms).indexOf(i)){var o=d.default.newInstance();return o.setContext(t.context),o.getVertexShader().setSource(e),o.getFragmentShader().setSource(n),r&&o.getGeometryShader().setSource(r),o.setMd5Hash(i),t.shaderPrograms[i]=o,o}return t.shaderPrograms[i]},e.releaseGraphicsResources=function(n){e.releaseCurrentShader(),Object.keys(t.shaderPrograms).map(function(e){return t.shaderPrograms[e]}).forEach(function(e){return e.releaseGraphicsResources(n)})},e.releaseGraphicsResources=function(){t.astShaderBound&&(t.lastShaderBound.release(),t.lastShaderBound=null)},e.bindShader=function(e){return t.lastShaderBound===e?1:(t.lastShaderBound&&t.lastShaderBound.release(),e.bind(),t.lastShaderBound=e,1)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.assign(t,m,n),t.shaderPrograms={},l.default.obj(e,t),l.default.setGet(e,t,f),a(e,t),Object.freeze(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(412),s=r(o),u=n(0),l=r(u),c=n(13),d=r(c),f=["lastShaderBound","context","openGLRenderWindow"],m={lastShaderBound:null,shaderPrograms:null,context:null,openGLRenderWindow:null},g=t.newInstance=l.default.newInstance(i,"vtkShaderCache");t.default={newInstance:g,extend:i}},function(e,t,n){"use strict";var r;"function"==typeof Symbol&&Symbol.iterator,function(a){function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function o(e,t){return e<<t|e>>>32-t}function s(e,t,n,r,a,s){return i(o(i(i(t,e),i(r,s)),a),n)}function u(e,t,n,r,a,i,o){return s(t&n|~t&r,e,t,a,i,o)}function l(e,t,n,r,a,i,o){return s(t&r|n&~r,e,t,a,i,o)}function c(e,t,n,r,a,i,o){return s(t^n^r,e,t,a,i,o)}function d(e,t,n,r,a,i,o){return s(n^(t|~r),e,t,a,i,o)}function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,r,a,o,s,f=1732584193,m=-271733879,g=-1732584194,p=271733878;for(n=0;n<e.length;n+=16)r=f,a=m,o=g,s=p,f=u(f,m,g,p,e[n],7,-680876936),p=u(p,f,m,g,e[n+1],12,-389564586),g=u(g,p,f,m,e[n+2],17,606105819),m=u(m,g,p,f,e[n+3],22,-1044525330),f=u(f,m,g,p,e[n+4],7,-176418897),p=u(p,f,m,g,e[n+5],12,1200080426),g=u(g,p,f,m,e[n+6],17,-1473231341),m=u(m,g,p,f,e[n+7],22,-45705983),f=u(f,m,g,p,e[n+8],7,1770035416),p=u(p,f,m,g,e[n+9],12,-1958414417),g=u(g,p,f,m,e[n+10],17,-42063),m=u(m,g,p,f,e[n+11],22,-1990404162),f=u(f,m,g,p,e[n+12],7,1804603682),p=u(p,f,m,g,e[n+13],12,-40341101),g=u(g,p,f,m,e[n+14],17,-1502002290),m=u(m,g,p,f,e[n+15],22,1236535329),f=l(f,m,g,p,e[n+1],5,-165796510),p=l(p,f,m,g,e[n+6],9,-1069501632),g=l(g,p,f,m,e[n+11],14,643717713),m=l(m,g,p,f,e[n],20,-373897302),f=l(f,m,g,p,e[n+5],5,-701558691),p=l(p,f,m,g,e[n+10],9,38016083),g=l(g,p,f,m,e[n+15],14,-660478335),m=l(m,g,p,f,e[n+4],20,-405537848),f=l(f,m,g,p,e[n+9],5,568446438),p=l(p,f,m,g,e[n+14],9,-1019803690),g=l(g,p,f,m,e[n+3],14,-187363961),m=l(m,g,p,f,e[n+8],20,1163531501),f=l(f,m,g,p,e[n+13],5,-1444681467),p=l(p,f,m,g,e[n+2],9,-51403784),g=l(g,p,f,m,e[n+7],14,1735328473),m=l(m,g,p,f,e[n+12],20,-1926607734),f=c(f,m,g,p,e[n+5],4,-378558),p=c(p,f,m,g,e[n+8],11,-2022574463),g=c(g,p,f,m,e[n+11],16,1839030562),m=c(m,g,p,f,e[n+14],23,-35309556),f=c(f,m,g,p,e[n+1],4,-1530992060),p=c(p,f,m,g,e[n+4],11,1272893353),g=c(g,p,f,m,e[n+7],16,-155497632),m=c(m,g,p,f,e[n+10],23,-1094730640),f=c(f,m,g,p,e[n+13],4,681279174),p=c(p,f,m,g,e[n],11,-358537222),g=c(g,p,f,m,e[n+3],16,-722521979),m=c(m,g,p,f,e[n+6],23,76029189),f=c(f,m,g,p,e[n+9],4,-640364487),p=c(p,f,m,g,e[n+12],11,-421815835),g=c(g,p,f,m,e[n+15],16,530742520),m=c(m,g,p,f,e[n+2],23,-995338651),f=d(f,m,g,p,e[n],6,-198630844),p=d(p,f,m,g,e[n+7],10,1126891415),g=d(g,p,f,m,e[n+14],15,-1416354905),m=d(m,g,p,f,e[n+5],21,-57434055),f=d(f,m,g,p,e[n+12],6,1700485571),p=d(p,f,m,g,e[n+3],10,-1894986606),g=d(g,p,f,m,e[n+10],15,-1051523),m=d(m,g,p,f,e[n+1],21,-2054922799),f=d(f,m,g,p,e[n+8],6,1873313359),p=d(p,f,m,g,e[n+15],10,-30611744),g=d(g,p,f,m,e[n+6],15,-1560198380),m=d(m,g,p,f,e[n+13],21,1309151649),f=d(f,m,g,p,e[n+4],6,-145523070),p=d(p,f,m,g,e[n+11],10,-1120210379),g=d(g,p,f,m,e[n+2],15,718787259),m=d(m,g,p,f,e[n+9],21,-343485551),f=i(f,r),m=i(m,a),g=i(g,o),p=i(p,s);return[f,m,g,p]}function m(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function g(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function p(e){return m(f(g(e),8*e.length))}function v(e,t){var n,r,a=g(e),i=[],o=[];for(i[15]=o[15]=void 0,a.length>16&&(a=f(a,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^a[n],o[n]=1549556828^a[n];return r=f(i.concat(g(t)),512+8*t.length),m(f(o.concat(r),640))}function h(e){var t,n,r="0123456789abcdef",a="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),a+=r.charAt(t>>>4&15)+r.charAt(15&t);return a}function y(e){return unescape(encodeURIComponent(e))}function A(e){return p(y(e))}function S(e){return h(A(e))}function T(e,t){return v(y(e),y(t))}function M(e,t){return h(T(e,t))}function b(e,t,n){return t?n?T(t,e):M(t,e):n?A(e):S(e)}void 0!==(r=function(){return b}.call(t,n,t,e))&&(e.exports=r)}()},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkOpenGLTextureUnitManager"),e.deleteTable=function(){for(var e=0;e<t.numberOfTextureUnits;++e)!0===t.textureUnits[e]&&s("some texture units  were not properly released");t.textureUnits=[],t.numberOfTextureUnits=0},e.setContext=function(n){if(t.context!==n){if(0!==t.context&&e.deleteTable(),t.context=n,t.context){t.numberOfTextureUnits=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS);for(var r=0;r<t.numberOfTextureUnits;++r)t.textureUnits[r]=!1}e.modified()}},e.allocate=function(){for(var n=0;n<t.numberOfTextureUnits;n++)if(!e.isAllocated(n))return t.textureUnits[n]=!0,n;return-1},e.allocateUnit=function(n){return e.isAllocated(n)?-1:(t.textureUnits[n]=!0,n)},e.isAllocated=function(e){return t.textureUnits[e]},e.free=function(e){t.textureUnits[e]=!1}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,u,n),o.default.obj(e,t),t.textureUnits=[],o.default.get(e,t,["numberOfTextureUnits"]),o.default.setGet(e,t,["context"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o.default.vtkErrorMacro,u={context:null,numberOfTextureUnits:0,textureUnits:0},l=t.newInstance=o.default.newInstance(a,"vtkOpenGLTextureUnitManager");t.default={newInstance:l,extend:a}},function(e,t,n){"use strict";(function(r){var a,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,s){"object"===o(t)&&void 0!==e?e.exports=s():(a=s,void 0!==(i="function"==typeof a?a.call(t,n,t,e):a)&&(e.exports=i))}(0,function(){function e(e){this.config=o(o({},l),e),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&a())&&(this.enable(),this.getVRDisplays().then(function(e){e&&e[0]&&e[0].fireVRDisplayConnect_&&e[0].fireVRDisplayConnect_()}))}var t="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{},n=function(e){return Promise.race?Promise.race(e):new Promise(function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)})},a=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},i=function(e,t){for(var n=0,r=e.length;n<r;n++)t[n]=e[n]},o=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},s=function(e,t){return t={exports:{}},function(e,n){!function(n,r){e.exports=function(){function e(e,t,n){if(!t)return void n(e);for(var r=[],a=null,i=0;i<t.length;++i){var o=t[i];switch(o){case e.TEXTURE_BINDING_2D:case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++i];if(s<e.TEXTURE0||s>e.TEXTURE31){r.push(null,null);break}a||(a=e.getParameter(e.ACTIVE_TEXTURE)),e.activeTexture(s),r.push(e.getParameter(o),null);break;case e.ACTIVE_TEXTURE:a=e.getParameter(e.ACTIVE_TEXTURE),r.push(null);break;default:r.push(e.getParameter(o))}}n(e);for(var i=0;i<t.length;++i){var o=t[i],u=r[i];switch(o){case e.ACTIVE_TEXTURE:break;case e.ARRAY_BUFFER_BINDING:e.bindBuffer(e.ARRAY_BUFFER,u);break;case e.COLOR_CLEAR_VALUE:e.clearColor(u[0],u[1],u[2],u[3]);break;case e.COLOR_WRITEMASK:e.colorMask(u[0],u[1],u[2],u[3]);break;case e.CURRENT_PROGRAM:e.useProgram(u);break;case e.ELEMENT_ARRAY_BUFFER_BINDING:e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,u);break;case e.FRAMEBUFFER_BINDING:e.bindFramebuffer(e.FRAMEBUFFER,u);break;case e.RENDERBUFFER_BINDING:e.bindRenderbuffer(e.RENDERBUFFER,u);break;case e.TEXTURE_BINDING_2D:var s=t[++i];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_2D,u);break;case e.TEXTURE_BINDING_CUBE_MAP:var s=t[++i];if(s<e.TEXTURE0||s>e.TEXTURE31)break;e.activeTexture(s),e.bindTexture(e.TEXTURE_CUBE_MAP,u);break;case e.VIEWPORT:e.viewport(u[0],u[1],u[2],u[3]);break;case e.BLEND:case e.CULL_FACE:case e.DEPTH_TEST:case e.SCISSOR_TEST:case e.STENCIL_TEST:u?e.enable(o):e.disable(o)}a&&e.activeTexture(a)}}function n(e,t,n,r){this.gl=e,this.cardboardUI=t,this.bufferScale=n,this.dirtySubmitFrameBindings=r,this.ctxAttribs=e.getContextAttributes(),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=e.drawingBufferWidth,this.bufferHeight=e.drawingBufferHeight,this.realBindFramebuffer=e.bindFramebuffer,this.realEnable=e.enable,this.realDisable=e.disable,this.realColorMask=e.colorMask,this.realClearColor=e.clearColor,this.realViewport=e.viewport,I()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(e.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=V(e,K,X,this.attribs),this.uniforms=F(e,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=e.createBuffer(),this.indexBuffer=e.createBuffer(),this.indexCount=0,this.renderTarget=e.createTexture(),this.framebuffer=e.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=e.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=e.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=e.createRenderbuffer()),this.patch(),this.onResize()}function r(e){this.gl=e,this.attribs={position:0},this.program=V(e,J,$,this.attribs),this.uniforms=F(e,this.program),this.vertexBuffer=e.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}function a(e){this.coefficients=e}function i(e){this.width=e.width||L(),this.height=e.height||_(),this.widthMeters=e.widthMeters,this.heightMeters=e.heightMeters,this.bevelMeters=e.bevelMeters}function o(e,t){this.viewer=ue.CardboardV2,this.updateDeviceParams(e),this.distortion=new a(this.viewer.distortionCoefficients);for(var n=0;n<t.length;n++){var r=t[n];ue[r.id]=new s(r)}}function s(e){this.id=e.id,this.label=e.label,this.fov=e.fov,this.interLensDistance=e.interLensDistance,this.baselineLensDistance=e.baselineLensDistance,this.screenLensDistance=e.screenLensDistance,this.distortionCoefficients=e.distortionCoefficients,this.inverseCoefficients=e.inverseCoefficients}function u(e,t){if(this.dpdb=ce,this.recalculateDeviceParams_(),e){this.onDeviceParamsUpdated=t;var n=new XMLHttpRequest,r=this;n.open("GET",e,!0),n.addEventListener("load",function(){r.loading=!1,n.status>=200&&n.status<=299&&(r.dpdb=JSON.parse(n.response),r.recalculateDeviceParams_())}),n.send()}}function l(e){this.xdpi=e.xdpi,this.ydpi=e.ydpi,this.bevelMm=e.bevelMm}function c(e,t){this.set(e,t)}function d(e,t){this.kFilter=e,this.isDebug=t,this.currentAccelMeasurement=new c,this.currentGyroMeasurement=new c,this.previousGyroMeasurement=new c,I()?this.filterQ=new ie(-1,0,0,1):this.filterQ=new ie(1,0,0,1),this.previousFilterQ=new ie,this.previousFilterQ.copy(this.filterQ),this.accelQ=new ie,this.isOrientationInitialized=!1,this.estimatedGravity=new ae,this.measuredGravity=new ae,this.gyroIntegralQ=new ie}function f(e,t){this.predictionTimeS=e,this.isDebug=t,this.previousQ=new ie,this.previousTimestampS=null,this.deltaQ=new ie,this.outQ=new ie}function m(e,t,n,r){this.yawOnly=n,this.accelerometer=new ae,this.gyroscope=new ae,this.filter=new d(e,r),this.posePredictor=new f(t,r),this.isFirefoxAndroid=C(),this.isIOS=I();var a=N();this.isDeviceMotionInRadians=!this.isIOS&&a&&a<66,this.isWithoutDeviceMotion=P(),this.filterToWorldQ=new ie,I()?this.filterToWorldQ.setFromAxisAngle(new ae(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new ae(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new ie,this.worldToScreenQ=new ie,this.originalPoseAdjustQ=new ie,this.originalPoseAdjustQ.setFromAxisAngle(new ae(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),E()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new ie,this.orientationOut_=new Float32Array(4),this.start()}function g(){this.loadIcon_();var e=document.createElement("div"),t=e.style;t.position="fixed",t.top=0,t.right=0,t.bottom=0,t.left=0,t.backgroundColor="gray",t.fontFamily="sans-serif",t.zIndex=1e6;var n=document.createElement("img");n.src=this.icon;var t=n.style;t.marginLeft="25%",t.marginTop="25%",t.width="50%",e.appendChild(n);var r=document.createElement("div"),t=r.style;t.textAlign="center",t.fontSize="16px",t.lineHeight="24px",t.margin="24px 25%",t.width="50%",r.innerHTML="Place your phone into your Cardboard viewer.",e.appendChild(r);var a=document.createElement("div"),t=a.style;t.backgroundColor="#CFD8DC",t.position="fixed",t.bottom=0,t.width="100%",t.height="48px",t.padding="14px 24px",t.boxSizing="border-box",t.color="#656A6B",e.appendChild(a);var i=document.createElement("div");i.style.float="left",i.innerHTML="No Cardboard viewer?";var o=document.createElement("a");o.href="https://www.google.com/get/cardboard/get-cardboard/",o.innerHTML="get one",o.target="_blank";var t=o.style;t.float="right",t.fontWeight=600,t.textTransform="uppercase",t.borderLeft="1px solid gray",t.paddingLeft="24px",t.textDecoration="none",t.color="#656A6B",a.appendChild(i),a.appendChild(o),this.overlay=e,this.text=r,this.hide()}function p(e){try{this.selectedKey=localStorage.getItem(ve)}catch(e){}this.selectedKey||(this.selectedKey=e||pe),this.dialog=this.createDialog_(o.Viewers),this.root=null,this.onChangeCallbacks_=[]}function v(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function h(e){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:e.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:e.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:e.canPresent},maxLayers:{writable:!1,enumerable:!0,value:e.maxLayers},hasOrientation:{enumerable:!0,get:function(){return H("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),e.hasOrientation}}})}function y(e){e=e||{};var t=!("wakelock"in e)||e.wakelock;this.isPolyfilled=!0,this.displayId=Ae++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return H("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new h({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,t&&U()&&(this.wakelock_=new ye)}function A(e){var t=z({},De);e=z(t,e||{}),y.call(this,{wakelock:e.MOBILE_WAKE_LOCK}),this.config=e,this.displayName="Cardboard VRDisplay",this.capabilities=new h({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new ge(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new u(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new o(this.dpdb_.getDeviceParams(),e.ADDITIONAL_VIEWERS),this.viewerSelector_=new p(e.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new g),I()&&window.addEventListener("resize",this.onResize_.bind(this))}var S=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=function(e,t){return"data:"+e+";base64,"+t},D=function(e,t,n){return e+(t-e)*n},I=function(){var e=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return e}}(),w=function(){var e=-1!==navigator.userAgent.indexOf("Version")&&-1!==navigator.userAgent.indexOf("Android")&&-1!==navigator.userAgent.indexOf("Chrome");return function(){return e}}(),C=(function(){/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}(),function(){var e=-1!==navigator.userAgent.indexOf("Firefox")&&-1!==navigator.userAgent.indexOf("Android");return function(){return e}}()),N=function(){var e=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),t=e?parseInt(e[1],10):null;return function(){return t}}(),P=function(){var e=!1;if(65===N()){var t=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(t){var n=t[1].split("."),r=M(n,4),a=(r[0],r[1],r[2]),i=r[3];e=3325===parseInt(a,10)&&parseInt(i,10)<148}}return function(){return e}}(),x=function(){var e=-1!==navigator.userAgent.indexOf("R7 Build");return function(){return e}}(),E=function(){var e=90==window.orientation||-90==window.orientation;return x()?!e:e},O=function(e){return!(isNaN(e)||e<=.001||e>1)},L=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},_=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},R=function(e){if(w())return!1;if(e.requestFullscreen)e.requestFullscreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},k=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},B=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},V=function(e,t,n,r){var a=e.createShader(e.VERTEX_SHADER);e.shaderSource(a,t),e.compileShader(a);var i=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(i,n),e.compileShader(i);var o=e.createProgram();e.attachShader(o,a),e.attachShader(o,i);for(var s in r)e.bindAttribLocation(o,r[s],s);return e.linkProgram(o),e.deleteShader(a),e.deleteShader(i),o},F=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),a="",i=0;i<r;i++)a=e.getActiveUniform(t,i).name.replace("[0]",""),n[a]=e.getUniformLocation(t,a);return n},j=function(e,t,n,r,a,i,o){var s=1/(t-n),u=1/(r-a),l=1/(i-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(a+r)*u,e[14]=(o+i)*l,e[15]=1,e},U=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e},z=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},G=function(e){if(I()){var t=e.style.width,n=e.style.height;e.style.width=parseInt(t)+1+"px",e.style.height=parseInt(n)+"px",setTimeout(function(){e.style.width=t,e.style.height=n},100)}window.canvas=e},W=function(){function e(e,t,n,r){var a=Math.tan(t?t.upDegrees*i:o),s=Math.tan(t?t.downDegrees*i:o),u=Math.tan(t?t.leftDegrees*i:o),l=Math.tan(t?t.rightDegrees*i:o),c=2/(u+l),d=2/(a+s);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=d,e[6]=0,e[7]=0,e[8]=-(u-l)*c*.5,e[9]=(a-s)*d*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}function t(e,t,n){var r=t[0],a=t[1],i=t[2],o=t[3],s=r+r,u=a+a,l=i+i,c=r*s,d=r*u,f=r*l,m=a*u,g=a*l,p=i*l,v=o*s,h=o*u,y=o*l;return e[0]=1-(m+p),e[1]=d+y,e[2]=f-h,e[3]=0,e[4]=d-y,e[5]=1-(c+p),e[6]=g+v,e[7]=0,e[8]=f+h,e[9]=g-v,e[10]=1-(c+m),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}function n(e,t,n){var r,a,i,o,s,u,l,c,d,f,m,g,p=n[0],v=n[1],h=n[2];return t===e?(e[12]=t[0]*p+t[4]*v+t[8]*h+t[12],e[13]=t[1]*p+t[5]*v+t[9]*h+t[13],e[14]=t[2]*p+t[6]*v+t[10]*h+t[14],e[15]=t[3]*p+t[7]*v+t[11]*h+t[15]):(r=t[0],a=t[1],i=t[2],o=t[3],s=t[4],u=t[5],l=t[6],c=t[7],d=t[8],f=t[9],m=t[10],g=t[11],e[0]=r,e[1]=a,e[2]=i,e[3]=o,e[4]=s,e[5]=u,e[6]=l,e[7]=c,e[8]=d,e[9]=f,e[10]=m,e[11]=g,e[12]=r*p+s*v+d*h+t[12],e[13]=a*p+u*v+f*h+t[13],e[14]=i*p+l*v+m*h+t[14],e[15]=o*p+c*v+g*h+t[15]),e}function r(e,t){var n=t[0],r=t[1],a=t[2],i=t[3],o=t[4],s=t[5],u=t[6],l=t[7],c=t[8],d=t[9],f=t[10],m=t[11],g=t[12],p=t[13],v=t[14],h=t[15],y=n*s-r*o,A=n*u-a*o,S=n*l-i*o,T=r*u-a*s,M=r*l-i*s,b=a*l-i*u,D=c*p-d*g,I=c*v-f*g,w=c*h-m*g,C=d*v-f*p,N=d*h-m*p,P=f*h-m*v,x=y*P-A*N+S*C+T*w-M*I+b*D;return x?(x=1/x,e[0]=(s*P-u*N+l*C)*x,e[1]=(a*N-r*P-i*C)*x,e[2]=(p*b-v*M+h*T)*x,e[3]=(f*M-d*b-m*T)*x,e[4]=(u*w-o*P-l*I)*x,e[5]=(n*P-a*w+i*I)*x,e[6]=(v*S-g*b-h*A)*x,e[7]=(c*b-f*S+m*A)*x,e[8]=(o*N-s*w+l*D)*x,e[9]=(r*w-n*N-i*D)*x,e[10]=(g*M-p*S+h*y)*x,e[11]=(d*S-c*M-m*y)*x,e[12]=(s*I-o*C-u*D)*x,e[13]=(n*C-r*I+a*D)*x,e[14]=(p*A-g*T-v*y)*x,e[15]=(c*T-d*A+f*y)*x,e):null}function a(a,i,o,l,c,d){e(a,l||null,d.depthNear,d.depthFar),t(i,o.orientation||s,o.position||u),c&&n(i,i,c),r(i,i)}var i=Math.PI/180,o=.25*Math.PI,s=new Float32Array([0,0,0,1]),u=new Float32Array([0,0,0]);return function(e,t,n){return!(!e||!t||(e.pose=t,e.timestamp=t.timestamp,a(e.leftProjectionMatrix,e.leftViewMatrix,t,n._getFieldOfView("left"),n._getEyeOffset("left"),n),a(e.rightProjectionMatrix,e.rightViewMatrix,t,n._getFieldOfView("right"),n._getEyeOffset("right"),n),0))}}(),Q=function(){var e=window.self!==window.top,t=Y(document.referrer),n=Y(window.location.href);return e&&t!==n},Y=function(e){var t,n=e.indexOf("://");t=-1!==n?n+3:0;var r=e.indexOf("/",t);return-1===r&&(r=e.length),e.substring(0,r)},q=function(){var e={};return function(t,n){void 0===e[t]&&(e[t]=!0)}}(),H=function(e,t){q(e,e+" has been deprecated. This may not work on native WebVR displays. "+(t?"Please use "+t+" instead.":""))},Z=e,K=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join("\n"),X=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join("\n");n.prototype.destroy=function(){var e=this.gl;this.unpatch(),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteTexture(this.renderTarget),e.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&e.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&e.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&e.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},n.prototype.onResize=function(){var e=this.gl,t=this,n=[e.RENDERBUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0];Z(e,n,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.framebuffer),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.texImage2D(e.TEXTURE_2D,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,t.bufferWidth,t.bufferHeight,0,t.ctxAttribs.alpha?e.RGBA:e.RGB,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.renderTarget,0),t.ctxAttribs.depth&&t.ctxAttribs.stencil?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthStencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t.depthStencilBuffer)):t.ctxAttribs.depth?(e.bindRenderbuffer(e.RENDERBUFFER,t.depthBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t.depthBuffer)):t.ctxAttribs.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,t.stencilBuffer),e.renderbufferStorage(e.RENDERBUFFER,e.STENCIL_INDEX8,t.bufferWidth,t.bufferHeight),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.STENCIL_ATTACHMENT,e.RENDERBUFFER,t.stencilBuffer)),e.checkFramebufferStatus(e.FRAMEBUFFER),e.FRAMEBUFFER_COMPLETE,t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),t.realClearColor.apply(e,t.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},n.prototype.patch=function(){if(!this.isPatched){var e=this,t=this.gl.canvas,n=this.gl;I()||(t.width=L()*this.bufferScale,t.height=_()*this.bufferScale,Object.defineProperty(t,"width",{configurable:!0,enumerable:!0,get:function(){return e.bufferWidth},set:function(n){e.bufferWidth=n,e.realCanvasWidth.set.call(t,n),e.onResize()}}),Object.defineProperty(t,"height",{configurable:!0,enumerable:!0,get:function(){return e.bufferHeight},set:function(n){e.bufferHeight=n,e.realCanvasHeight.set.call(t,n),e.onResize()}})),this.lastBoundFramebuffer=n.getParameter(n.FRAMEBUFFER_BINDING),null==this.lastBoundFramebuffer&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(n.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(t,r){e.lastBoundFramebuffer=r||e.framebuffer,e.realBindFramebuffer.call(n,t,e.lastBoundFramebuffer)},this.cullFace=n.getParameter(n.CULL_FACE),this.depthTest=n.getParameter(n.DEPTH_TEST),this.blend=n.getParameter(n.BLEND),this.scissorTest=n.getParameter(n.SCISSOR_TEST),this.stencilTest=n.getParameter(n.STENCIL_TEST),n.enable=function(t){switch(t){case n.CULL_FACE:e.cullFace=!0;break;case n.DEPTH_TEST:e.depthTest=!0;break;case n.BLEND:e.blend=!0;break;case n.SCISSOR_TEST:e.scissorTest=!0;break;case n.STENCIL_TEST:e.stencilTest=!0}e.realEnable.call(n,t)},n.disable=function(t){switch(t){case n.CULL_FACE:e.cullFace=!1;break;case n.DEPTH_TEST:e.depthTest=!1;break;case n.BLEND:e.blend=!1;break;case n.SCISSOR_TEST:e.scissorTest=!1;break;case n.STENCIL_TEST:e.stencilTest=!1}e.realDisable.call(n,t)},this.colorMask=n.getParameter(n.COLOR_WRITEMASK),n.colorMask=function(t,r,a,i){e.colorMask[0]=t,e.colorMask[1]=r,e.colorMask[2]=a,e.colorMask[3]=i,e.realColorMask.call(n,t,r,a,i)},this.clearColor=n.getParameter(n.COLOR_CLEAR_VALUE),n.clearColor=function(t,r,a,i){e.clearColor[0]=t,e.clearColor[1]=r,e.clearColor[2]=a,e.clearColor[3]=i,e.realClearColor.call(n,t,r,a,i)},this.viewport=n.getParameter(n.VIEWPORT),n.viewport=function(t,r,a,i){e.viewport[0]=t,e.viewport[1]=r,e.viewport[2]=a,e.viewport[3]=i,e.realViewport.call(n,t,r,a,i)},this.isPatched=!0,G(t)}},n.prototype.unpatch=function(){if(this.isPatched){var e=this.gl,t=this.gl.canvas;I()||(Object.defineProperty(t,"width",this.realCanvasWidth),Object.defineProperty(t,"height",this.realCanvasHeight)),t.width=this.bufferWidth,t.height=this.bufferHeight,e.bindFramebuffer=this.realBindFramebuffer,e.enable=this.realEnable,e.disable=this.realDisable,e.colorMask=this.realColorMask,e.clearColor=this.realClearColor,e.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&e.bindFramebuffer(e.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){G(t)},1)}},n.prototype.setTextureBounds=function(e,t){e||(e=[0,0,.5,1]),t||(t=[.5,0,.5,1]),this.viewportOffsetScale[0]=e[0],this.viewportOffsetScale[1]=e[1],this.viewportOffsetScale[2]=e[2],this.viewportOffsetScale[3]=e[3],this.viewportOffsetScale[4]=t[0],this.viewportOffsetScale[5]=t[1],this.viewportOffsetScale[6]=t[2],this.viewportOffsetScale[7]=t[3]},n.prototype.submitFrame=function(){var e=this.gl,t=this,n=[];if(this.dirtySubmitFrameBindings||n.push(e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING,e.ELEMENT_ARRAY_BUFFER_BINDING,e.TEXTURE_BINDING_2D,e.TEXTURE0),Z(e,n,function(e){t.realBindFramebuffer.call(e,e.FRAMEBUFFER,null),t.cullFace&&t.realDisable.call(e,e.CULL_FACE),t.depthTest&&t.realDisable.call(e,e.DEPTH_TEST),t.blend&&t.realDisable.call(e,e.BLEND),t.scissorTest&&t.realDisable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realDisable.call(e,e.STENCIL_TEST),t.realColorMask.call(e,!0,!0,!0,!0),t.realViewport.call(e,0,0,e.drawingBufferWidth,e.drawingBufferHeight),(t.ctxAttribs.alpha||I())&&(t.realClearColor.call(e,0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)),e.useProgram(t.program),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.indexBuffer),e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.enableVertexAttribArray(t.attribs.position),e.enableVertexAttribArray(t.attribs.texCoord),e.vertexAttribPointer(t.attribs.position,2,e.FLOAT,!1,20,0),e.vertexAttribPointer(t.attribs.texCoord,3,e.FLOAT,!1,20,8),e.activeTexture(e.TEXTURE0),e.uniform1i(t.uniforms.diffuse,0),e.bindTexture(e.TEXTURE_2D,t.renderTarget),e.uniform4fv(t.uniforms.viewportOffsetScale,t.viewportOffsetScale),e.drawElements(e.TRIANGLES,t.indexCount,e.UNSIGNED_SHORT,0),t.cardboardUI&&t.cardboardUI.renderNoState(),t.realBindFramebuffer.call(t.gl,e.FRAMEBUFFER,t.framebuffer),t.ctxAttribs.preserveDrawingBuffer||(t.realClearColor.call(e,0,0,0,0),e.clear(e.COLOR_BUFFER_BIT)),t.dirtySubmitFrameBindings||t.realBindFramebuffer.call(e,e.FRAMEBUFFER,t.lastBoundFramebuffer),t.cullFace&&t.realEnable.call(e,e.CULL_FACE),t.depthTest&&t.realEnable.call(e,e.DEPTH_TEST),t.blend&&t.realEnable.call(e,e.BLEND),t.scissorTest&&t.realEnable.call(e,e.SCISSOR_TEST),t.stencilTest&&t.realEnable.call(e,e.STENCIL_TEST),t.realColorMask.apply(e,t.colorMask),t.realViewport.apply(e,t.viewport),!t.ctxAttribs.alpha&&t.ctxAttribs.preserveDrawingBuffer||t.realClearColor.apply(e,t.clearColor)}),I()){var r=e.canvas;r.width==t.bufferWidth&&r.height==t.bufferHeight||(t.bufferWidth=r.width,t.bufferHeight=r.height,t.onResize())}},n.prototype.updateDeviceInfo=function(e){var t=this.gl,n=this,r=[t.ARRAY_BUFFER_BINDING,t.ELEMENT_ARRAY_BUFFER_BINDING];Z(t,r,function(t){var r=n.computeMeshVertices_(n.meshWidth,n.meshHeight,e);if(t.bindBuffer(t.ARRAY_BUFFER,n.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW),!n.indexCount){var a=n.computeMeshIndices_(n.meshWidth,n.meshHeight);t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,a,t.STATIC_DRAW),n.indexCount=a.length}})},n.prototype.computeMeshVertices_=function(e,t,n){for(var r=new Float32Array(2*e*t*5),a=n.getLeftEyeVisibleTanAngles(),i=n.getLeftEyeNoLensTanAngles(),o=n.getLeftEyeVisibleScreenRect(i),s=0,u=0;u<2;u++){for(var l=0;l<t;l++)for(var c=0;c<e;c++,s++){var d=c/(e-1),f=l/(t-1),m=d,g=f,p=D(a[0],a[2],d),v=D(a[3],a[1],f),h=Math.sqrt(p*p+v*v),y=n.distortion.distortInverse(h),A=p*y/h,S=v*y/h;d=(A-i[0])/(i[2]-i[0]),f=(S-i[3])/(i[1]-i[3]),d=2*(o.x+d*o.width-.5),f=2*(o.y+f*o.height-.5),r[5*s+0]=d,r[5*s+1]=f,r[5*s+2]=m,r[5*s+3]=g,r[5*s+4]=u}var T=a[2]-a[0];a[0]=-(T+a[0]),a[2]=T-a[2],T=i[2]-i[0],i[0]=-(T+i[0]),i[2]=T-i[2],o.x=1-(o.x+o.width)}return r},n.prototype.computeMeshIndices_=function(e,t){for(var n=new Uint16Array(2*(e-1)*(t-1)*6),r=e/2,a=t/2,i=0,o=0,s=0;s<2;s++)for(var u=0;u<t;u++)for(var l=0;l<e;l++,i++)0!=l&&0!=u&&(l<=r==u<=a?(n[o++]=i,n[o++]=i-e-1,n[o++]=i-e,n[o++]=i-e-1,n[o++]=i,n[o++]=i-1):(n[o++]=i-1,n[o++]=i-e,n[o++]=i,n[o++]=i-e,n[o++]=i-1,n[o++]=i-e-1));return n},n.prototype.getOwnPropertyDescriptor_=function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return void 0!==n.get&&void 0!==n.set||(n.configurable=!0,n.enumerable=!0,n.get=function(){return this.getAttribute(t)},n.set=function(e){this.setAttribute(t,e)}),n};var J=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join("\n"),$=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join("\n"),ee=Math.PI/180,te=.3125;r.prototype.destroy=function(){var e=this.gl;this.listener&&e.canvas.removeEventListener("click",this.listener,!1),e.deleteProgram(this.program),e.deleteBuffer(this.vertexBuffer)},r.prototype.listen=function(e,t){var n=this.gl.canvas;this.listener=function(r){var a=n.clientWidth/2;r.clientX>a-42&&r.clientX<a+42&&r.clientY>n.clientHeight-42?e(r):r.clientX<42&&r.clientY<42&&t(r)},n.addEventListener("click",this.listener,!1)},r.prototype.onResize=function(){var e=this.gl,t=this,n=[e.ARRAY_BUFFER_BINDING];Z(e,n,function(e){function n(e,t){var n=(90-e)*ee,r=Math.cos(n),o=Math.sin(n);a.push(te*r*d+i,te*o*d+d),a.push(t*r*d+i,t*o*d+d)}function r(t,n){a.push(f+t,e.drawingBufferHeight-f-n)}var a=[],i=e.drawingBufferWidth/2,o=Math.max(screen.width,screen.height)*window.devicePixelRatio,s=e.drawingBufferWidth/o,u=s*window.devicePixelRatio,l=4*u/2,c=42*u,d=28*u/2,f=14*u;a.push(i-l,c),a.push(i-l,e.drawingBufferHeight),a.push(i+l,c),a.push(i+l,e.drawingBufferHeight),t.gearOffset=a.length/2;for(var m=0;m<=6;m++){var g=60*m;n(g,1),n(g+12,1),n(g+20,.75),n(g+40,.75),n(g+48,1)}t.gearVertexCount=a.length/2-t.gearOffset,t.arrowOffset=a.length/2;var p=l/Math.sin(45*ee);r(0,d),r(d,0),r(d+p,p),r(p,d+p),r(p,d-p),r(0,d),r(d,2*d),r(d+p,2*d-p),r(p,d-p),r(0,d),r(p,d-l),r(28*u,d-l),r(p,d+l),r(28*u,d+l),t.arrowVertexCount=a.length/2-t.arrowOffset,e.bindBuffer(e.ARRAY_BUFFER,t.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW)})},r.prototype.render=function(){var e=this.gl,t=this,n=[e.CULL_FACE,e.DEPTH_TEST,e.BLEND,e.SCISSOR_TEST,e.STENCIL_TEST,e.COLOR_WRITEMASK,e.VIEWPORT,e.CURRENT_PROGRAM,e.ARRAY_BUFFER_BINDING];Z(e,n,function(e){e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.BLEND),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.colorMask(!0,!0,!0,!0),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),t.renderNoState()})},r.prototype.renderNoState=function(){var e=this.gl;e.useProgram(this.program),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.enableVertexAttribArray(this.attribs.position),e.vertexAttribPointer(this.attribs.position,2,e.FLOAT,!1,8,0),e.uniform4f(this.uniforms.color,1,1,1,1),j(this.projMat,0,e.drawingBufferWidth,0,e.drawingBufferHeight,.1,1024),e.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),e.drawArrays(e.TRIANGLE_STRIP,0,4),e.drawArrays(e.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),e.drawArrays(e.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)},a.prototype.distortInverse=function(e){for(var t=0,n=1,r=e-this.distort(t);Math.abs(n-t)>1e-4;){var a=e-this.distort(n),i=n-a*((n-t)/(a-r));t=n,n=i,r=a}return n},a.prototype.distort=function(e){for(var t=e*e,n=0,r=0;r<this.coefficients.length;r++)n=t*(n+this.coefficients[r]);return(n+1)*e};var ne=Math.PI/180,re=180/Math.PI,ae=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0};ae.prototype={constructor:ae,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var e=this.length();if(0!==e){var t=1/e;this.multiplyScalar(t)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(e){this.x*=e,this.y*=e,this.z*=e},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,a=e.x,i=e.y,o=e.z,s=e.w,u=s*t+i*r-o*n,l=s*n+o*t-a*r,c=s*r+a*n-i*t,d=-a*t-i*n-o*r;return this.x=u*s+d*-a+l*-o-c*-i,this.y=l*s+d*-i+c*-a-u*-o,this.z=c*s+d*-o+u*-i-l*-a,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},crossVectors:function(e,t){var n=e.x,r=e.y,a=e.z,i=t.x,o=t.y,s=t.z;return this.x=r*s-a*o,this.y=a*i-n*s,this.z=n*o-r*i,this}};var ie=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1};ie.prototype={constructor:ie,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEulerXYZ:function(e,t,n){var r=Math.cos(e/2),a=Math.cos(t/2),i=Math.cos(n/2),o=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=o*a*i+r*s*u,this.y=r*s*i-o*a*u,this.z=r*a*u+o*s*i,this.w=r*a*i-o*s*u,this},setFromEulerYXZ:function(e,t,n){var r=Math.cos(e/2),a=Math.cos(t/2),i=Math.cos(n/2),o=Math.sin(e/2),s=Math.sin(t/2),u=Math.sin(n/2);return this.x=o*a*i+r*s*u,this.y=r*s*i-o*a*u,this.z=r*a*u-o*s*i,this.w=r*a*i+o*s*u,this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(n),this},multiply:function(e){return this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var n=e.x,r=e.y,a=e.z,i=e.w,o=t.x,s=t.y,u=t.z,l=t.w;return this.x=n*l+i*o+r*u-a*s,this.y=r*l+i*s+a*o-n*u,this.z=a*l+i*u+n*s-r*o,this.w=i*l-n*o-r*s-a*u,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x=this.x*e,this.y=this.y*e,this.z=this.z*e,this.w=this.w*e),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this.x,r=this.y,a=this.z,i=this.w,o=i*e.w+n*e.x+r*e.y+a*e.z;if(o<0?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,o=-o):this.copy(e),o>=1)return this.w=i,this.x=n,this.y=r,this.z=a,this;var s=Math.acos(o),u=Math.sqrt(1-o*o);if(Math.abs(u)<.001)return this.w=.5*(i+this.w),this.x=.5*(n+this.x),this.y=.5*(r+this.y),this.z=.5*(a+this.z),this;var l=Math.sin((1-t)*s)/u,c=Math.sin(t*s)/u;return this.w=i*l+this.w*c,this.x=n*l+this.x*c,this.y=r*l+this.y*c,this.z=a*l+this.z*c,this},setFromUnitVectors:function(){var e,t;return function(n,r){return void 0===e&&(e=new ae),t=n.dot(r)+1,t<1e-6?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,r),this.x=e.x,this.y=e.y,this.z=e.z,this.w=t,this.normalize(),this}}()};var oe=new i({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),se=new i({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),ue={CardboardV1:new s({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new s({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};o.prototype.updateDeviceParams=function(e){this.device=this.determineDevice_(e)||this.device},o.prototype.getDevice=function(){return this.device},o.prototype.setViewer=function(e){this.viewer=e,this.distortion=new a(this.viewer.distortionCoefficients)},o.prototype.determineDevice_=function(e){if(!e)return I()?se:oe;var t=.0254/e.xdpi,n=.0254/e.ydpi;return new i({widthMeters:t*L(),heightMeters:n*_(),bevelMeters:.001*e.bevelMm})},o.prototype.getDistortedFieldOfViewLeftEye=function(){var e=this.viewer,t=this.device,n=this.distortion,r=e.screenLensDistance,a=(t.widthMeters-e.interLensDistance)/2,i=e.interLensDistance/2,o=e.baselineLensDistance-t.bevelMeters,s=t.heightMeters-o,u=re*Math.atan(n.distort(a/r)),l=re*Math.atan(n.distort(i/r)),c=re*Math.atan(n.distort(o/r)),d=re*Math.atan(n.distort(s/r));return{leftDegrees:Math.min(u,e.fov),rightDegrees:Math.min(l,e.fov),downDegrees:Math.min(c,e.fov),upDegrees:Math.min(d,e.fov)}},o.prototype.getLeftEyeVisibleTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,r=Math.tan(-ne*e.fov),a=Math.tan(ne*e.fov),i=Math.tan(ne*e.fov),o=Math.tan(-ne*e.fov),s=t.widthMeters/4,u=t.heightMeters/2,l=e.baselineLensDistance-t.bevelMeters-u,c=e.interLensDistance/2-s,d=-l,f=e.screenLensDistance,m=n.distort((c-s)/f),g=n.distort((d+u)/f),p=n.distort((c+s)/f),v=n.distort((d-u)/f),h=new Float32Array(4);return h[0]=Math.max(r,m),h[1]=Math.min(a,g),h[2]=Math.min(i,p),h[3]=Math.max(o,v),h},o.prototype.getLeftEyeNoLensTanAngles=function(){var e=this.viewer,t=this.device,n=this.distortion,r=new Float32Array(4),a=n.distortInverse(Math.tan(-ne*e.fov)),i=n.distortInverse(Math.tan(ne*e.fov)),o=n.distortInverse(Math.tan(ne*e.fov)),s=n.distortInverse(Math.tan(-ne*e.fov)),u=t.widthMeters/4,l=t.heightMeters/2,c=e.baselineLensDistance-t.bevelMeters-l,d=e.interLensDistance/2-u,f=-c,m=e.screenLensDistance,g=(d-u)/m,p=(f+l)/m,v=(d+u)/m,h=(f-l)/m;return r[0]=Math.max(a,g),r[1]=Math.min(i,p),r[2]=Math.min(o,v),r[3]=Math.max(s,h),r},o.prototype.getLeftEyeVisibleScreenRect=function(e){var t=this.viewer,n=this.device,r=t.screenLensDistance,a=(n.widthMeters-t.interLensDistance)/2,i=t.baselineLensDistance-n.bevelMeters,o=(e[0]*r+a)/n.widthMeters,s=(e[1]*r+i)/n.heightMeters,u=(e[2]*r+a)/n.widthMeters,l=(e[3]*r+i)/n.heightMeters;return{x:o,y:l,width:u-o,height:s-l}},o.prototype.getFieldOfViewLeftEye=function(e){return e?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},o.prototype.getFieldOfViewRightEye=function(e){var t=this.getFieldOfViewLeftEye(e);return{leftDegrees:t.rightDegrees,rightDegrees:t.leftDegrees,upDegrees:t.upDegrees,downDegrees:t.downDegrees}},o.prototype.getUndistortedFieldOfViewLeftEye=function(){var e=this.getUndistortedParams_();return{leftDegrees:re*Math.atan(e.outerDist),rightDegrees:re*Math.atan(e.innerDist),downDegrees:re*Math.atan(e.bottomDist),upDegrees:re*Math.atan(e.topDist)}},o.prototype.getUndistortedViewportLeftEye=function(){var e=this.getUndistortedParams_(),t=this.viewer,n=this.device,r=t.screenLensDistance,a=n.widthMeters/r,i=n.heightMeters/r,o=n.width/a,s=n.height/i,u=Math.round((e.eyePosX-e.outerDist)*o),l=Math.round((e.eyePosY-e.bottomDist)*s);return{x:u,y:l,width:Math.round((e.eyePosX+e.innerDist)*o)-u,height:Math.round((e.eyePosY+e.topDist)*s)-l}},o.prototype.getUndistortedParams_=function(){var e=this.viewer,t=this.device,n=this.distortion,r=e.screenLensDistance,a=e.interLensDistance/2/r,i=t.widthMeters/r,o=t.heightMeters/r,s=i/2-a,u=(e.baselineLensDistance-t.bevelMeters)/r,l=e.fov,c=n.distortInverse(Math.tan(ne*l)),d=Math.min(s,c),f=Math.min(a,c),m=Math.min(u,c);return{outerDist:d,innerDist:f,topDist:Math.min(o-u,c),bottomDist:m,eyePosX:s,eyePosY:u}},o.Viewers=ue;var le=[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3}],ce={format:1,last_updated:"2018-10-17T15:31:16Z",devices:le};u.prototype.getDeviceParams=function(){return this.deviceParams},u.prototype.recalculateDeviceParams_=function(){var e=this.calcDeviceParams_();e&&(this.deviceParams=e,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams))},u.prototype.calcDeviceParams_=function(){var e=this.dpdb;if(!e)return null;if(1!=e.format)return null;if(!e.devices||!e.devices.length)return null;var t=navigator.userAgent||navigator.vendor||window.opera,n=L(),r=_();if(!e.devices)return null;for(var a=0;a<e.devices.length;a++){var i=e.devices[a];if(i.rules&&("ios"==i.type||"android"==i.type)&&I()==("ios"==i.type)){for(var o=!1,s=0;s<i.rules.length;s++){var u=i.rules[s];if(this.matchRule_(u,t,n,r)){o=!0;break}}if(o)return new l({xdpi:i.dpi[0]||i.dpi,ydpi:i.dpi[1]||i.dpi,bevelMm:i.bw})}}return null},u.prototype.matchRule_=function(e,t,n,r){if(!e.ua&&!e.res)return!1;if(e.ua&&"SM"===e.ua.substring(0,2)&&(e.ua=e.ua.substring(0,7)),e.ua&&t.indexOf(e.ua)<0)return!1;if(e.res){if(!e.res[0]||!e.res[1])return!1;var a=e.res[0],i=e.res[1];if(Math.min(n,r)!=Math.min(a,i)||Math.max(n,r)!=Math.max(a,i))return!1}return!0},c.prototype.set=function(e,t){this.sample=e,this.timestampS=t},c.prototype.copy=function(e){this.set(e.sample,e.timestampS)},d.prototype.addAccelMeasurement=function(e,t){this.currentAccelMeasurement.set(e,t)},d.prototype.addGyroMeasurement=function(e,t){this.currentGyroMeasurement.set(e,t);var n=t-this.previousGyroMeasurement.timestampS;O(n)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},d.prototype.run_=function(){if(!this.isOrientationInitialized)return this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),void(this.isOrientationInitialized=!0);var e=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,t=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,e);this.gyroIntegralQ.multiply(t),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(t);var n=new ie;n.copy(this.filterQ),n.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(n),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var r=new ie;r.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),r.inverse(),this.isDebug;var a=new ie;a.copy(this.filterQ),a.multiply(r),this.filterQ.slerp(a,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},d.prototype.getOrientation=function(){return this.filterQ},d.prototype.accelToQuaternion_=function(e){var t=new ae;t.copy(e),t.normalize();var n=new ie;return n.setFromUnitVectors(new ae(0,0,-1),t),n.inverse(),n},d.prototype.gyroToQuaternionDelta_=function(e,t){var n=new ie,r=new ae;return r.copy(e),r.normalize(),n.setFromAxisAngle(r,e.length()*t),n},f.prototype.getPrediction=function(e,t,n){if(!this.previousTimestampS)return this.previousQ.copy(e),this.previousTimestampS=n,e;var r=new ae;r.copy(t),r.normalize();var a=t.length();if(a<20*ne)return this.isDebug,this.outQ.copy(e),this.previousQ.copy(e),this.outQ;var i=a*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(r,i),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(e),this.previousTimestampS=n,this.outQ},m.prototype.getPosition=function(){return null},m.prototype.getOrientation=function(){var e=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var e=(new ie).setFromAxisAngle(new ae(0,0,-1),0),t=new ie;return-90===window.orientation?t.setFromAxisAngle(new ae(0,1,0),Math.PI/-2):t.setFromAxisAngle(new ae(0,1,0),Math.PI/2),e.multiply(t)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var e=new ie;return e.setFromAxisAngle(new ae(1,0,0),-Math.PI/2),e}(),e=this._deviceOrientationQ;var t=new ie;return t.copy(e),t.multiply(this.deviceOrientationFilterToWorldQ),t.multiply(this.resetQ),t.multiply(this.worldToScreenQ),t.multiplyQuaternions(this.deviceOrientationFixQ,t),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_}var n=this.filter.getOrientation();e=this.posePredictor.getPrediction(n,this.gyroscope,this.previousTimestampS);var t=new ie;return t.copy(this.filterToWorldQ),t.multiply(this.resetQ),t.multiply(e),t.multiply(this.worldToScreenQ),this.yawOnly&&(t.x=0,t.z=0,t.normalize()),this.orientationOut_[0]=t.x,this.orientationOut_[1]=t.y,this.orientationOut_[2]=t.z,this.orientationOut_[3]=t.w,this.orientationOut_},m.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),E()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},m.prototype.onDeviceOrientation_=function(e){this._deviceOrientationQ=this._deviceOrientationQ||new ie;var t=e.alpha,n=e.beta,r=e.gamma;t=(t||0)*Math.PI/180,n=(n||0)*Math.PI/180,r=(r||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(n,t,-r)},m.prototype.onDeviceMotion_=function(e){this.updateDeviceMotion_(e)},m.prototype.updateDeviceMotion_=function(e){var t=e.accelerationIncludingGravity,n=e.rotationRate,r=e.timeStamp/1e3,a=r-this.previousTimestampS;return a<0?(q("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),void(this.previousTimestampS=r)):a<=.001||a>1?(q("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),void(this.previousTimestampS=r)):(this.accelerometer.set(-t.x,-t.y,-t.z),x()?this.gyroscope.set(-n.beta,n.alpha,n.gamma):this.gyroscope.set(n.alpha,n.beta,n.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addAccelMeasurement(this.accelerometer,r),this.filter.addGyroMeasurement(this.gyroscope,r),void(this.previousTimestampS=r))},m.prototype.onOrientationChange_=function(e){this.setScreenTransform_()},m.prototype.onMessage_=function(e){var t=e.data;t&&t.type&&"devicemotion"===t.type.toLowerCase()&&this.updateDeviceMotion_(t.deviceMotionEvent)},m.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new ae(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new ae(0,0,1),Math.PI/2)}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},m.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),I()&&Q()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},m.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var de=new ae(1,0,0),fe=new ae(0,0,1),me=new ie;me.setFromAxisAngle(de,-Math.PI/2),me.multiply((new ie).setFromAxisAngle(fe,Math.PI/2));var ge=function(){function e(t){S(this,e),this.config=t,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new ie,this._outQ=new ie,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return T(e,[{key:"init",value:function(){var e=null;try{e=new RelativeOrientationSensor({frequency:60,referenceFrame:"screen"}),e.addEventListener("error",this._onSensorError)}catch(e){this.errors.push(e),"SecurityError"===e.name?this.useDeviceMotion():"ReferenceError"===e.name&&this.useDeviceMotion()}e&&(this.api="sensor",this.sensor=e,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new m(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var e=this.sensor.quaternion;this._sensorQ.set(e[0],e[1],e[2],e[3]);var t=this._outQ;return t.copy(me),t.multiply(this._sensorQ),this.config.YAW_ONLY&&(t.x=t.z=0,t.normalize()),this._out[0]=t.x,this._out[1]=t.y,this._out[2]=t.z,this._out[3]=t.w,this._out}},{key:"_onSensorError",value:function(e){this.errors.push(e.error),"NotAllowedError"===e.error.name||e.error.name,this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),e}();g.prototype.show=function(e){e||this.overlay.parentElement?e&&(this.overlay.parentElement&&this.overlay.parentElement!=e&&this.overlay.parentElement.removeChild(this.overlay),e.appendChild(this.overlay)):document.body.appendChild(this.overlay),this.overlay.style.display="block";var t=this.overlay.querySelector("img"),n=t.style;E()?(n.width="20%",n.marginLeft="40%",n.marginTop="3%"):(n.width="50%",n.marginLeft="25%",n.marginTop="25%")},g.prototype.hide=function(){this.overlay.style.display="none"},g.prototype.showTemporarily=function(e,t){this.show(t),this.timer=setTimeout(this.hide.bind(this),e)},g.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},g.prototype.update=function(){this.disableShowTemporarily(),!E()&&U()?this.show():this.hide()},g.prototype.loadIcon_=function(){this.icon=b("image/svg+xml","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjE5OHB4IiBoZWlnaHQ9IjI0MHB4IiB2aWV3Qm94PSIwIDAgMTk4IDI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWxuczpza2V0Y2g9Imh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaC9ucyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDMuMy4zICgxMjA4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+dHJhbnNpdGlvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHNrZXRjaDp0eXBlPSJNU1BhZ2UiPgogICAgICAgIDxnIGlkPSJ0cmFuc2l0aW9uIiBza2V0Y2g6dHlwZT0iTVNBcnRib2FyZEdyb3VwIj4KICAgICAgICAgICAgPGcgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTQtKy1JbXBvcnRlZC1MYXllcnMtQ29weS0rLUltcG9ydGVkLUxheWVycy1Db3B5LTItQ29weSIgc2tldGNoOnR5cGU9Ik1TTGF5ZXJHcm91cCI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEwNy4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjYyNSwyLjUyNyBDMTQ5LjYyNSwyLjUyNyAxNTUuODA1LDYuMDk2IDE1Ni4zNjIsNi40MTggTDE1Ni4zNjIsNy4zMDQgQzE1Ni4zNjIsNy40ODEgMTU2LjM3NSw3LjY2NCAxNTYuNCw3Ljg1MyBDMTU2LjQxLDcuOTM0IDE1Ni40Miw4LjAxNSAxNTYuNDI3LDguMDk1IEMxNTYuNTY3LDkuNTEgMTU3LjQwMSwxMS4wOTMgMTU4LjUzMiwxMi4wOTQgTDE2NC4yNTIsMTcuMTU2IEwxNjQuMzMzLDE3LjA2NiBDMTY0LjMzMywxNy4wNjYgMTY4LjcxNSwxNC41MzYgMTY5LjU2OCwxNC4wNDIgQzE3MS4wMjUsMTQuODgzIDE5NS41MzgsMjkuMDM1IDE5NS41MzgsMjkuMDM1IEwxOTUuNTM4LDgzLjAzNiBDMTk1LjUzOCw4My44MDcgMTk1LjE1Miw4NC4yNTMgMTk0LjU5LDg0LjI1MyBDMTk0LjM1Nyw4NC4yNTMgMTk0LjA5NSw4NC4xNzcgMTkzLjgxOCw4NC4wMTcgTDE2OS44NTEsNzAuMTc5IEwxNjkuODM3LDcwLjIwMyBMMTQyLjUxNSw4NS45NzggTDE0MS42NjUsODQuNjU1IEMxMzYuOTM0LDgzLjEyNiAxMzEuOTE3LDgxLjkxNSAxMjYuNzE0LDgxLjA0NSBDMTI2LjcwOSw4MS4wNiAxMjYuNzA3LDgxLjA2OSAxMjYuNzA3LDgxLjA2OSBMMTIxLjY0LDk4LjAzIEwxMTMuNzQ5LDEwMi41ODYgTDExMy43MTIsMTAyLjUyMyBMMTEzLjcxMiwxMzAuMTEzIEMxMTMuNzEyLDEzMC44ODUgMTEzLjMyNiwxMzEuMzMgMTEyLjc2NCwxMzEuMzMgQzExMi41MzIsMTMxLjMzIDExMi4yNjksMTMxLjI1NCAxMTEuOTkyLDEzMS4wOTQgTDY5LjUxOSwxMDYuNTcyIEM2OC41NjksMTA2LjAyMyA2Ny43OTksMTA0LjY5NSA2Ny43OTksMTAzLjYwNSBMNjcuNzk5LDEwMi41NyBMNjcuNzc4LDEwMi42MTcgQzY3LjI3LDEwMi4zOTMgNjYuNjQ4LDEwMi4yNDkgNjUuOTYyLDEwMi4yMTggQzY1Ljg3NSwxMDIuMjE0IDY1Ljc4OCwxMDIuMjEyIDY1LjcwMSwxMDIuMjEyIEM2NS42MDYsMTAyLjIxMiA2NS41MTEsMTAyLjIxNSA2NS40MTYsMTAyLjIxOSBDNjUuMTk1LDEwMi4yMjkgNjQuOTc0LDEwMi4yMzUgNjQuNzU0LDEwMi4yMzUgQzY0LjMzMSwxMDIuMjM1IDYzLjkxMSwxMDIuMjE2IDYzLjQ5OCwxMDIuMTc4IEM2MS44NDMsMTAyLjAyNSA2MC4yOTgsMTAxLjU3OCA1OS4wOTQsMTAwLjg4MiBMMTIuNTE4LDczLjk5MiBMMTIuNTIzLDc0LjAwNCBMMi4yNDUsNTUuMjU0IEMxLjI0NCw1My40MjcgMi4wMDQsNTEuMDM4IDMuOTQzLDQ5LjkxOCBMNTkuOTU0LDE3LjU3MyBDNjAuNjI2LDE3LjE4NSA2MS4zNSwxNy4wMDEgNjIuMDUzLDE3LjAwMSBDNjMuMzc5LDE3LjAwMSA2NC42MjUsMTcuNjYgNjUuMjgsMTguODU0IEw2NS4yODUsMTguODUxIEw2NS41MTIsMTkuMjY0IEw2NS41MDYsMTkuMjY4IEM2NS45MDksMjAuMDAzIDY2LjQwNSwyMC42OCA2Ni45ODMsMjEuMjg2IEw2Ny4yNiwyMS41NTYgQzY5LjE3NCwyMy40MDYgNzEuNzI4LDI0LjM1NyA3NC4zNzMsMjQuMzU3IEM3Ni4zMjIsMjQuMzU3IDc4LjMyMSwyMy44NCA4MC4xNDgsMjIuNzg1IEM4MC4xNjEsMjIuNzg1IDg3LjQ2NywxOC41NjYgODcuNDY3LDE4LjU2NiBDODguMTM5LDE4LjE3OCA4OC44NjMsMTcuOTk0IDg5LjU2NiwxNy45OTQgQzkwLjg5MiwxNy45OTQgOTIuMTM4LDE4LjY1MiA5Mi43OTIsMTkuODQ3IEw5Ni4wNDIsMjUuNzc1IEw5Ni4wNjQsMjUuNzU3IEwxMDIuODQ5LDI5LjY3NCBMMTAyLjc0NCwyOS40OTIgTDE0OS42MjUsMi41MjcgTTE0OS42MjUsMC44OTIgQzE0OS4zNDMsMC44OTIgMTQ5LjA2MiwwLjk2NSAxNDguODEsMS4xMSBMMTAyLjY0MSwyNy42NjYgTDk3LjIzMSwyNC41NDIgTDk0LjIyNiwxOS4wNjEgQzkzLjMxMywxNy4zOTQgOTEuNTI3LDE2LjM1OSA4OS41NjYsMTYuMzU4IEM4OC41NTUsMTYuMzU4IDg3LjU0NiwxNi42MzIgODYuNjQ5LDE3LjE1IEM4My44NzgsMTguNzUgNzkuNjg3LDIxLjE2OSA3OS4zNzQsMjEuMzQ1IEM3OS4zNTksMjEuMzUzIDc5LjM0NSwyMS4zNjEgNzkuMzMsMjEuMzY5IEM3Ny43OTgsMjIuMjU0IDc2LjA4NCwyMi43MjIgNzQuMzczLDIyLjcyMiBDNzIuMDgxLDIyLjcyMiA2OS45NTksMjEuODkgNjguMzk3LDIwLjM4IEw2OC4xNDUsMjAuMTM1IEM2Ny43MDYsMTkuNjcyIDY3LjMyMywxOS4xNTYgNjcuMDA2LDE4LjYwMSBDNjYuOTg4LDE4LjU1OSA2Ni45NjgsMTguNTE5IDY2Ljk0NiwxOC40NzkgTDY2LjcxOSwxOC4wNjUgQzY2LjY5LDE4LjAxMiA2Ni42NTgsMTcuOTYgNjYuNjI0LDE3LjkxMSBDNjUuNjg2LDE2LjMzNyA2My45NTEsMTUuMzY2IDYyLjA1MywxNS4zNjYgQzYxLjA0MiwxNS4zNjYgNjAuMDMzLDE1LjY0IDU5LjEzNiwxNi4xNTggTDMuMTI1LDQ4LjUwMiBDMC40MjYsNTAuMDYxIC0wLjYxMyw1My40NDIgMC44MTEsNTYuMDQgTDExLjA4OSw3NC43OSBDMTEuMjY2LDc1LjExMyAxMS41MzcsNzUuMzUzIDExLjg1LDc1LjQ5NCBMNTguMjc2LDEwMi4yOTggQzU5LjY3OSwxMDMuMTA4IDYxLjQzMywxMDMuNjMgNjMuMzQ4LDEwMy44MDYgQzYzLjgxMiwxMDMuODQ4IDY0LjI4NSwxMDMuODcgNjQuNzU0LDEwMy44NyBDNjUsMTAzLjg3IDY1LjI0OSwxMDMuODY0IDY1LjQ5NCwxMDMuODUyIEM2NS41NjMsMTAzLjg0OSA2NS42MzIsMTAzLjg0NyA2NS43MDEsMTAzLjg0NyBDNjUuNzY0LDEwMy44NDcgNjUuODI4LDEwMy44NDkgNjUuODksMTAzLjg1MiBDNjUuOTg2LDEwMy44NTYgNjYuMDgsMTAzLjg2MyA2Ni4xNzMsMTAzLjg3NCBDNjYuMjgyLDEwNS40NjcgNjcuMzMyLDEwNy4xOTcgNjguNzAyLDEwNy45ODggTDExMS4xNzQsMTMyLjUxIEMxMTEuNjk4LDEzMi44MTIgMTEyLjIzMiwxMzIuOTY1IDExMi43NjQsMTMyLjk2NSBDMTE0LjI2MSwxMzIuOTY1IDExNS4zNDcsMTMxLjc2NSAxMTUuMzQ3LDEzMC4xMTMgTDExNS4zNDcsMTAzLjU1MSBMMTIyLjQ1OCw5OS40NDYgQzEyMi44MTksOTkuMjM3IDEyMy4wODcsOTguODk4IDEyMy4yMDcsOTguNDk4IEwxMjcuODY1LDgyLjkwNSBDMTMyLjI3OSw4My43MDIgMTM2LjU1Nyw4NC43NTMgMTQwLjYwNyw4Ni4wMzMgTDE0MS4xNCw4Ni44NjIgQzE0MS40NTEsODcuMzQ2IDE0MS45NzcsODcuNjEzIDE0Mi41MTYsODcuNjEzIEMxNDIuNzk0LDg3LjYxMyAxNDMuMDc2LDg3LjU0MiAxNDMuMzMzLDg3LjM5MyBMMTY5Ljg2NSw3Mi4wNzYgTDE5Myw4NS40MzMgQzE5My41MjMsODUuNzM1IDE5NC4wNTgsODUuODg4IDE5NC41OSw4NS44ODggQzE5Ni4wODcsODUuODg4IDE5Ny4xNzMsODQuNjg5IDE5Ny4xNzMsODMuMDM2IEwxOTcuMTczLDI5LjAzNSBDMTk3LjE3MywyOC40NTEgMTk2Ljg2MSwyNy45MTEgMTk2LjM1NSwyNy42MTkgQzE5Ni4zNTUsMjcuNjE5IDE3MS44NDMsMTMuNDY3IDE3MC4zODUsMTIuNjI2IEMxNzAuMTMyLDEyLjQ4IDE2OS44NSwxMi40MDcgMTY5LjU2OCwxMi40MDcgQzE2OS4yODUsMTIuNDA3IDE2OS4wMDIsMTIuNDgxIDE2OC43NDksMTIuNjI3IEMxNjguMTQzLDEyLjk3OCAxNjUuNzU2LDE0LjM1NyAxNjQuNDI0LDE1LjEyNSBMMTU5LjYxNSwxMC44NyBDMTU4Ljc5NiwxMC4xNDUgMTU4LjE1NCw4LjkzNyAxNTguMDU0LDcuOTM0IEMxNTguMDQ1LDcuODM3IDE1OC4wMzQsNy43MzkgMTU4LjAyMSw3LjY0IEMxNTguMDA1LDcuNTIzIDE1Ny45OTgsNy40MSAxNTcuOTk4LDcuMzA0IEwxNTcuOTk4LDYuNDE4IEMxNTcuOTk4LDUuODM0IDE1Ny42ODYsNS4yOTUgMTU3LjE4MSw1LjAwMiBDMTU2LjYyNCw0LjY4IDE1MC40NDIsMS4xMTEgMTUwLjQ0MiwxLjExMSBDMTUwLjE4OSwwLjk2NSAxNDkuOTA3LDAuODkyIDE0OS42MjUsMC44OTIiIGlkPSJGaWxsLTEiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTYuMDI3LDI1LjYzNiBMMTQyLjYwMyw1Mi41MjcgQzE0My44MDcsNTMuMjIyIDE0NC41ODIsNTQuMTE0IDE0NC44NDUsNTUuMDY4IEwxNDQuODM1LDU1LjA3NSBMNjMuNDYxLDEwMi4wNTcgTDYzLjQ2LDEwMi4wNTcgQzYxLjgwNiwxMDEuOTA1IDYwLjI2MSwxMDEuNDU3IDU5LjA1NywxMDAuNzYyIEwxMi40ODEsNzMuODcxIEw5Ni4wMjcsMjUuNjM2IiBpZD0iRmlsbC0yIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYzLjQ2MSwxMDIuMTc0IEM2My40NTMsMTAyLjE3NCA2My40NDYsMTAyLjE3NCA2My40MzksMTAyLjE3MiBDNjEuNzQ2LDEwMi4wMTYgNjAuMjExLDEwMS41NjMgNTguOTk4LDEwMC44NjMgTDEyLjQyMiw3My45NzMgQzEyLjM4Niw3My45NTIgMTIuMzY0LDczLjkxNCAxMi4zNjQsNzMuODcxIEMxMi4zNjQsNzMuODMgMTIuMzg2LDczLjc5MSAxMi40MjIsNzMuNzcgTDk1Ljk2OCwyNS41MzUgQzk2LjAwNCwyNS41MTQgOTYuMDQ5LDI1LjUxNCA5Ni4wODUsMjUuNTM1IEwxNDIuNjYxLDUyLjQyNiBDMTQzLjg4OCw1My4xMzQgMTQ0LjY4Miw1NC4wMzggMTQ0Ljk1Nyw1NS4wMzcgQzE0NC45Nyw1NS4wODMgMTQ0Ljk1Myw1NS4xMzMgMTQ0LjkxNSw1NS4xNjEgQzE0NC45MTEsNTUuMTY1IDE0NC44OTgsNTUuMTc0IDE0NC44OTQsNTUuMTc3IEw2My41MTksMTAyLjE1OCBDNjMuNTAxLDEwMi4xNjkgNjMuNDgxLDEwMi4xNzQgNjMuNDYxLDEwMi4xNzQgTDYzLjQ2MSwxMDIuMTc0IFogTTEyLjcxNCw3My44NzEgTDU5LjExNSwxMDAuNjYxIEM2MC4yOTMsMTAxLjM0MSA2MS43ODYsMTAxLjc4MiA2My40MzUsMTAxLjkzNyBMMTQ0LjcwNyw1NS4wMTUgQzE0NC40MjgsNTQuMTA4IDE0My42ODIsNTMuMjg1IDE0Mi41NDQsNTIuNjI4IEw5Ni4wMjcsMjUuNzcxIEwxMi43MTQsNzMuODcxIEwxMi43MTQsNzMuODcxIFoiIGlkPSJGaWxsLTMiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ4LjMyNyw1OC40NzEgQzE0OC4xNDUsNTguNDggMTQ3Ljk2Miw1OC40OCAxNDcuNzgxLDU4LjQ3MiBDMTQ1Ljg4Nyw1OC4zODkgMTQ0LjQ3OSw1Ny40MzQgMTQ0LjYzNiw1Ni4zNCBDMTQ0LjY4OSw1NS45NjcgMTQ0LjY2NCw1NS41OTcgMTQ0LjU2NCw1NS4yMzUgTDYzLjQ2MSwxMDIuMDU3IEM2NC4wODksMTAyLjExNSA2NC43MzMsMTAyLjEzIDY1LjM3OSwxMDIuMDk5IEM2NS41NjEsMTAyLjA5IDY1Ljc0MywxMDIuMDkgNjUuOTI1LDEwMi4wOTggQzY3LjgxOSwxMDIuMTgxIDY5LjIyNywxMDMuMTM2IDY5LjA3LDEwNC4yMyBMMTQ4LjMyNyw1OC40NzEiIGlkPSJGaWxsLTQiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNjkuMDcsMTA0LjM0NyBDNjkuMDQ4LDEwNC4zNDcgNjkuMDI1LDEwNC4zNCA2OS4wMDUsMTA0LjMyNyBDNjguOTY4LDEwNC4zMDEgNjguOTQ4LDEwNC4yNTcgNjguOTU1LDEwNC4yMTMgQzY5LDEwMy44OTYgNjguODk4LDEwMy41NzYgNjguNjU4LDEwMy4yODggQzY4LjE1MywxMDIuNjc4IDY3LjEwMywxMDIuMjY2IDY1LjkyLDEwMi4yMTQgQzY1Ljc0MiwxMDIuMjA2IDY1LjU2MywxMDIuMjA3IDY1LjM4NSwxMDIuMjE1IEM2NC43NDIsMTAyLjI0NiA2NC4wODcsMTAyLjIzMiA2My40NSwxMDIuMTc0IEM2My4zOTksMTAyLjE2OSA2My4zNTgsMTAyLjEzMiA2My4zNDcsMTAyLjA4MiBDNjMuMzM2LDEwMi4wMzMgNjMuMzU4LDEwMS45ODEgNjMuNDAyLDEwMS45NTYgTDE0NC41MDYsNTUuMTM0IEMxNDQuNTM3LDU1LjExNiAxNDQuNTc1LDU1LjExMyAxNDQuNjA5LDU1LjEyNyBDMTQ0LjY0Miw1NS4xNDEgMTQ0LjY2OCw1NS4xNyAxNDQuNjc3LDU1LjIwNCBDMTQ0Ljc4MSw1NS41ODUgMTQ0LjgwNiw1NS45NzIgMTQ0Ljc1MSw1Ni4zNTcgQzE0NC43MDYsNTYuNjczIDE0NC44MDgsNTYuOTk0IDE0NS4wNDcsNTcuMjgyIEMxNDUuNTUzLDU3Ljg5MiAxNDYuNjAyLDU4LjMwMyAxNDcuNzg2LDU4LjM1NSBDMTQ3Ljk2NCw1OC4zNjMgMTQ4LjE0Myw1OC4zNjMgMTQ4LjMyMSw1OC4zNTQgQzE0OC4zNzcsNTguMzUyIDE0OC40MjQsNTguMzg3IDE0OC40MzksNTguNDM4IEMxNDguNDU0LDU4LjQ5IDE0OC40MzIsNTguNTQ1IDE0OC4zODUsNTguNTcyIEw2OS4xMjksMTA0LjMzMSBDNjkuMTExLDEwNC4zNDIgNjkuMDksMTA0LjM0NyA2OS4wNywxMDQuMzQ3IEw2OS4wNywxMDQuMzQ3IFogTTY1LjY2NSwxMDEuOTc1IEM2NS43NTQsMTAxLjk3NSA2NS44NDIsMTAxLjk3NyA2NS45MywxMDEuOTgxIEM2Ny4xOTYsMTAyLjAzNyA2OC4yODMsMTAyLjQ2OSA2OC44MzgsMTAzLjEzOSBDNjkuMDY1LDEwMy40MTMgNjkuMTg4LDEwMy43MTQgNjkuMTk4LDEwNC4wMjEgTDE0Ny44ODMsNTguNTkyIEMxNDcuODQ3LDU4LjU5MiAxNDcuODExLDU4LjU5MSAxNDcuNzc2LDU4LjU4OSBDMTQ2LjUwOSw1OC41MzMgMTQ1LjQyMiw1OC4xIDE0NC44NjcsNTcuNDMxIEMxNDQuNTg1LDU3LjA5MSAxNDQuNDY1LDU2LjcwNyAxNDQuNTIsNTYuMzI0IEMxNDQuNTYzLDU2LjAyMSAxNDQuNTUyLDU1LjcxNiAxNDQuNDg4LDU1LjQxNCBMNjMuODQ2LDEwMS45NyBDNjQuMzUzLDEwMi4wMDIgNjQuODY3LDEwMi4wMDYgNjUuMzc0LDEwMS45ODIgQzY1LjQ3MSwxMDEuOTc3IDY1LjU2OCwxMDEuOTc1IDY1LjY2NSwxMDEuOTc1IEw2NS42NjUsMTAxLjk3NSBaIiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIuMjA4LDU1LjEzNCBDMS4yMDcsNTMuMzA3IDEuOTY3LDUwLjkxNyAzLjkwNiw0OS43OTcgTDU5LjkxNywxNy40NTMgQzYxLjg1NiwxNi4zMzMgNjQuMjQxLDE2LjkwNyA2NS4yNDMsMTguNzM0IEw2NS40NzUsMTkuMTQ0IEM2NS44NzIsMTkuODgyIDY2LjM2OCwyMC41NiA2Ni45NDUsMjEuMTY1IEw2Ny4yMjMsMjEuNDM1IEM3MC41NDgsMjQuNjQ5IDc1LjgwNiwyNS4xNTEgODAuMTExLDIyLjY2NSBMODcuNDMsMTguNDQ1IEM4OS4zNywxNy4zMjYgOTEuNzU0LDE3Ljg5OSA5Mi43NTUsMTkuNzI3IEw5Ni4wMDUsMjUuNjU1IEwxMi40ODYsNzMuODg0IEwyLjIwOCw1NS4xMzQgWiIgaWQ9IkZpbGwtNiIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMi40ODYsNzQuMDAxIEMxMi40NzYsNzQuMDAxIDEyLjQ2NSw3My45OTkgMTIuNDU1LDczLjk5NiBDMTIuNDI0LDczLjk4OCAxMi4zOTksNzMuOTY3IDEyLjM4NCw3My45NCBMMi4xMDYsNTUuMTkgQzEuMDc1LDUzLjMxIDEuODU3LDUwLjg0NSAzLjg0OCw0OS42OTYgTDU5Ljg1OCwxNy4zNTIgQzYwLjUyNSwxNi45NjcgNjEuMjcxLDE2Ljc2NCA2Mi4wMTYsMTYuNzY0IEM2My40MzEsMTYuNzY0IDY0LjY2NiwxNy40NjYgNjUuMzI3LDE4LjY0NiBDNjUuMzM3LDE4LjY1NCA2NS4zNDUsMTguNjYzIDY1LjM1MSwxOC42NzQgTDY1LjU3OCwxOS4wODggQzY1LjU4NCwxOS4xIDY1LjU4OSwxOS4xMTIgNjUuNTkxLDE5LjEyNiBDNjUuOTg1LDE5LjgzOCA2Ni40NjksMjAuNDk3IDY3LjAzLDIxLjA4NSBMNjcuMzA1LDIxLjM1MSBDNjkuMTUxLDIzLjEzNyA3MS42NDksMjQuMTIgNzQuMzM2LDI0LjEyIEM3Ni4zMTMsMjQuMTIgNzguMjksMjMuNTgyIDgwLjA1MywyMi41NjMgQzgwLjA2NCwyMi41NTcgODAuMDc2LDIyLjU1MyA4MC4wODgsMjIuNTUgTDg3LjM3MiwxOC4zNDQgQzg4LjAzOCwxNy45NTkgODguNzg0LDE3Ljc1NiA4OS41MjksMTcuNzU2IEM5MC45NTYsMTcuNzU2IDkyLjIwMSwxOC40NzIgOTIuODU4LDE5LjY3IEw5Ni4xMDcsMjUuNTk5IEM5Ni4xMzgsMjUuNjU0IDk2LjExOCwyNS43MjQgOTYuMDYzLDI1Ljc1NiBMMTIuNTQ1LDczLjk4NSBDMTIuNTI2LDczLjk5NiAxMi41MDYsNzQuMDAxIDEyLjQ4Niw3NC4wMDEgTDEyLjQ4Niw3NC4wMDEgWiBNNjIuMDE2LDE2Ljk5NyBDNjEuMzEyLDE2Ljk5NyA2MC42MDYsMTcuMTkgNTkuOTc1LDE3LjU1NCBMMy45NjUsNDkuODk5IEMyLjA4Myw1MC45ODUgMS4zNDEsNTMuMzA4IDIuMzEsNTUuMDc4IEwxMi41MzEsNzMuNzIzIEw5NS44NDgsMjUuNjExIEw5Mi42NTMsMTkuNzgyIEM5Mi4wMzgsMTguNjYgOTAuODcsMTcuOTkgODkuNTI5LDE3Ljk5IEM4OC44MjUsMTcuOTkgODguMTE5LDE4LjE4MiA4Ny40ODksMTguNTQ3IEw4MC4xNzIsMjIuNzcyIEM4MC4xNjEsMjIuNzc4IDgwLjE0OSwyMi43ODIgODAuMTM3LDIyLjc4NSBDNzguMzQ2LDIzLjgxMSA3Ni4zNDEsMjQuMzU0IDc0LjMzNiwyNC4zNTQgQzcxLjU4OCwyNC4zNTQgNjkuMDMzLDIzLjM0NyA2Ny4xNDIsMjEuNTE5IEw2Ni44NjQsMjEuMjQ5IEM2Ni4yNzcsMjAuNjM0IDY1Ljc3NCwxOS45NDcgNjUuMzY3LDE5LjIwMyBDNjUuMzYsMTkuMTkyIDY1LjM1NiwxOS4xNzkgNjUuMzU0LDE5LjE2NiBMNjUuMTYzLDE4LjgxOSBDNjUuMTU0LDE4LjgxMSA2NS4xNDYsMTguODAxIDY1LjE0LDE4Ljc5IEM2NC41MjUsMTcuNjY3IDYzLjM1NywxNi45OTcgNjIuMDE2LDE2Ljk5NyBMNjIuMDE2LDE2Ljk5NyBaIiBpZD0iRmlsbC03IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTQyLjQzNCw0OC44MDggTDQyLjQzNCw0OC44MDggQzM5LjkyNCw0OC44MDcgMzcuNzM3LDQ3LjU1IDM2LjU4Miw0NS40NDMgQzM0Ljc3MSw0Mi4xMzkgMzYuMTQ0LDM3LjgwOSAzOS42NDEsMzUuNzg5IEw1MS45MzIsMjguNjkxIEM1My4xMDMsMjguMDE1IDU0LjQxMywyNy42NTggNTUuNzIxLDI3LjY1OCBDNTguMjMxLDI3LjY1OCA2MC40MTgsMjguOTE2IDYxLjU3MywzMS4wMjMgQzYzLjM4NCwzNC4zMjcgNjIuMDEyLDM4LjY1NyA1OC41MTQsNDAuNjc3IEw0Ni4yMjMsNDcuNzc1IEM0NS4wNTMsNDguNDUgNDMuNzQyLDQ4LjgwOCA0Mi40MzQsNDguODA4IEw0Mi40MzQsNDguODA4IFogTTU1LjcyMSwyOC4xMjUgQzU0LjQ5NSwyOC4xMjUgNTMuMjY1LDI4LjQ2MSA1Mi4xNjYsMjkuMDk2IEwzOS44NzUsMzYuMTk0IEMzNi41OTYsMzguMDg3IDM1LjMwMiw0Mi4xMzYgMzYuOTkyLDQ1LjIxOCBDMzguMDYzLDQ3LjE3MyA0MC4wOTgsNDguMzQgNDIuNDM0LDQ4LjM0IEM0My42NjEsNDguMzQgNDQuODksNDguMDA1IDQ1Ljk5LDQ3LjM3IEw1OC4yODEsNDAuMjcyIEM2MS41NiwzOC4zNzkgNjIuODUzLDM0LjMzIDYxLjE2NCwzMS4yNDggQzYwLjA5MiwyOS4yOTMgNTguMDU4LDI4LjEyNSA1NS43MjEsMjguMTI1IEw1NS43MjEsMjguMTI1IFoiIGlkPSJGaWxsLTgiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQ5LjU4OCwyLjQwNyBDMTQ5LjU4OCwyLjQwNyAxNTUuNzY4LDUuOTc1IDE1Ni4zMjUsNi4yOTcgTDE1Ni4zMjUsNy4xODQgQzE1Ni4zMjUsNy4zNiAxNTYuMzM4LDcuNTQ0IDE1Ni4zNjIsNy43MzMgQzE1Ni4zNzMsNy44MTQgMTU2LjM4Miw3Ljg5NCAxNTYuMzksNy45NzUgQzE1Ni41Myw5LjM5IDE1Ny4zNjMsMTAuOTczIDE1OC40OTUsMTEuOTc0IEwxNjUuODkxLDE4LjUxOSBDMTY2LjA2OCwxOC42NzUgMTY2LjI0OSwxOC44MTQgMTY2LjQzMiwxOC45MzQgQzE2OC4wMTEsMTkuOTc0IDE2OS4zODIsMTkuNCAxNjkuNDk0LDE3LjY1MiBDMTY5LjU0MywxNi44NjggMTY5LjU1MSwxNi4wNTcgMTY5LjUxNywxNS4yMjMgTDE2OS41MTQsMTUuMDYzIEwxNjkuNTE0LDEzLjkxMiBDMTcwLjc4LDE0LjY0MiAxOTUuNTAxLDI4LjkxNSAxOTUuNTAxLDI4LjkxNSBMMTk1LjUwMSw4Mi45MTUgQzE5NS41MDEsODQuMDA1IDE5NC43MzEsODQuNDQ1IDE5My43ODEsODMuODk3IEwxNTEuMzA4LDU5LjM3NCBDMTUwLjM1OCw1OC44MjYgMTQ5LjU4OCw1Ny40OTcgMTQ5LjU4OCw1Ni40MDggTDE0OS41ODgsMjIuMzc1IiBpZD0iRmlsbC05IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5NC41NTMsODQuMjUgQzE5NC4yOTYsODQuMjUgMTk0LjAxMyw4NC4xNjUgMTkzLjcyMiw4My45OTcgTDE1MS4yNSw1OS40NzYgQzE1MC4yNjksNTguOTA5IDE0OS40NzEsNTcuNTMzIDE0OS40NzEsNTYuNDA4IEwxNDkuNDcxLDIyLjM3NSBMMTQ5LjcwNSwyMi4zNzUgTDE0OS43MDUsNTYuNDA4IEMxNDkuNzA1LDU3LjQ1OSAxNTAuNDUsNTguNzQ0IDE1MS4zNjYsNTkuMjc0IEwxOTMuODM5LDgzLjc5NSBDMTk0LjI2Myw4NC4wNCAxOTQuNjU1LDg0LjA4MyAxOTQuOTQyLDgzLjkxNyBDMTk1LjIyNyw4My43NTMgMTk1LjM4NCw4My4zOTcgMTk1LjM4NCw4Mi45MTUgTDE5NS4zODQsMjguOTgyIEMxOTQuMTAyLDI4LjI0MiAxNzIuMTA0LDE1LjU0MiAxNjkuNjMxLDE0LjExNCBMMTY5LjYzNCwxNS4yMiBDMTY5LjY2OCwxNi4wNTIgMTY5LjY2LDE2Ljg3NCAxNjkuNjEsMTcuNjU5IEMxNjkuNTU2LDE4LjUwMyAxNjkuMjE0LDE5LjEyMyAxNjguNjQ3LDE5LjQwNSBDMTY4LjAyOCwxOS43MTQgMTY3LjE5NywxOS41NzggMTY2LjM2NywxOS4wMzIgQzE2Ni4xODEsMTguOTA5IDE2NS45OTUsMTguNzY2IDE2NS44MTQsMTguNjA2IEwxNTguNDE3LDEyLjA2MiBDMTU3LjI1OSwxMS4wMzYgMTU2LjQxOCw5LjQzNyAxNTYuMjc0LDcuOTg2IEMxNTYuMjY2LDcuOTA3IDE1Ni4yNTcsNy44MjcgMTU2LjI0Nyw3Ljc0OCBDMTU2LjIyMSw3LjU1NSAxNTYuMjA5LDcuMzY1IDE1Ni4yMDksNy4xODQgTDE1Ni4yMDksNi4zNjQgQzE1NS4zNzUsNS44ODMgMTQ5LjUyOSwyLjUwOCAxNDkuNTI5LDIuNTA4IEwxNDkuNjQ2LDIuMzA2IEMxNDkuNjQ2LDIuMzA2IDE1NS44MjcsNS44NzQgMTU2LjM4NCw2LjE5NiBMMTU2LjQ0Miw2LjIzIEwxNTYuNDQyLDcuMTg0IEMxNTYuNDQyLDcuMzU1IDE1Ni40NTQsNy41MzUgMTU2LjQ3OCw3LjcxNyBDMTU2LjQ4OSw3LjggMTU2LjQ5OSw3Ljg4MiAxNTYuNTA3LDcuOTYzIEMxNTYuNjQ1LDkuMzU4IDE1Ny40NTUsMTAuODk4IDE1OC41NzIsMTEuODg2IEwxNjUuOTY5LDE4LjQzMSBDMTY2LjE0MiwxOC41ODQgMTY2LjMxOSwxOC43MiAxNjYuNDk2LDE4LjgzNyBDMTY3LjI1NCwxOS4zMzYgMTY4LDE5LjQ2NyAxNjguNTQzLDE5LjE5NiBDMTY5LjAzMywxOC45NTMgMTY5LjMyOSwxOC40MDEgMTY5LjM3NywxNy42NDUgQzE2OS40MjcsMTYuODY3IDE2OS40MzQsMTYuMDU0IDE2OS40MDEsMTUuMjI4IEwxNjkuMzk3LDE1LjA2NSBMMTY5LjM5NywxMy43MSBMMTY5LjU3MiwxMy44MSBDMTcwLjgzOSwxNC41NDEgMTk1LjU1OSwyOC44MTQgMTk1LjU1OSwyOC44MTQgTDE5NS42MTgsMjguODQ3IEwxOTUuNjE4LDgyLjkxNSBDMTk1LjYxOCw4My40ODQgMTk1LjQyLDgzLjkxMSAxOTUuMDU5LDg0LjExOSBDMTk0LjkwOCw4NC4yMDYgMTk0LjczNyw4NC4yNSAxOTQuNTUzLDg0LjI1IiBpZD0iRmlsbC0xMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDUuNjg1LDU2LjE2MSBMMTY5LjgsNzAuMDgzIEwxNDMuODIyLDg1LjA4MSBMMTQyLjM2LDg0Ljc3NCBDMTM1LjgyNiw4Mi42MDQgMTI4LjczMiw4MS4wNDYgMTIxLjM0MSw4MC4xNTggQzExNi45NzYsNzkuNjM0IDExMi42NzgsODEuMjU0IDExMS43NDMsODMuNzc4IEMxMTEuNTA2LDg0LjQxNCAxMTEuNTAzLDg1LjA3MSAxMTEuNzMyLDg1LjcwNiBDMTEzLjI3LDg5Ljk3MyAxMTUuOTY4LDk0LjA2OSAxMTkuNzI3LDk3Ljg0MSBMMTIwLjI1OSw5OC42ODYgQzEyMC4yNiw5OC42ODUgOTQuMjgyLDExMy42ODMgOTQuMjgyLDExMy42ODMgTDcwLjE2Nyw5OS43NjEgTDE0NS42ODUsNTYuMTYxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik05NC4yODIsMTEzLjgxOCBMOTQuMjIzLDExMy43ODUgTDY5LjkzMyw5OS43NjEgTDcwLjEwOCw5OS42NiBMMTQ1LjY4NSw1Ni4wMjYgTDE0NS43NDMsNTYuMDU5IEwxNzAuMDMzLDcwLjA4MyBMMTQzLjg0Miw4NS4yMDUgTDE0My43OTcsODUuMTk1IEMxNDMuNzcyLDg1LjE5IDE0Mi4zMzYsODQuODg4IDE0Mi4zMzYsODQuODg4IEMxMzUuNzg3LDgyLjcxNCAxMjguNzIzLDgxLjE2MyAxMjEuMzI3LDgwLjI3NCBDMTIwLjc4OCw4MC4yMDkgMTIwLjIzNiw4MC4xNzcgMTE5LjY4OSw4MC4xNzcgQzExNS45MzEsODAuMTc3IDExMi42MzUsODEuNzA4IDExMS44NTIsODMuODE5IEMxMTEuNjI0LDg0LjQzMiAxMTEuNjIxLDg1LjA1MyAxMTEuODQyLDg1LjY2NyBDMTEzLjM3Nyw4OS45MjUgMTE2LjA1OCw5My45OTMgMTE5LjgxLDk3Ljc1OCBMMTE5LjgyNiw5Ny43NzkgTDEyMC4zNTIsOTguNjE0IEMxMjAuMzU0LDk4LjYxNyAxMjAuMzU2LDk4LjYyIDEyMC4zNTgsOTguNjI0IEwxMjAuNDIyLDk4LjcyNiBMMTIwLjMxNyw5OC43ODcgQzEyMC4yNjQsOTguODE4IDk0LjU5OSwxMTMuNjM1IDk0LjM0LDExMy43ODUgTDk0LjI4MiwxMTMuODE4IEw5NC4yODIsMTEzLjgxOCBaIE03MC40MDEsOTkuNzYxIEw5NC4yODIsMTEzLjU0OSBMMTE5LjA4NCw5OS4yMjkgQzExOS42Myw5OC45MTQgMTE5LjkzLDk4Ljc0IDEyMC4xMDEsOTguNjU0IEwxMTkuNjM1LDk3LjkxNCBDMTE1Ljg2NCw5NC4xMjcgMTEzLjE2OCw5MC4wMzMgMTExLjYyMiw4NS43NDYgQzExMS4zODIsODUuMDc5IDExMS4zODYsODQuNDA0IDExMS42MzMsODMuNzM4IEMxMTIuNDQ4LDgxLjUzOSAxMTUuODM2LDc5Ljk0MyAxMTkuNjg5LDc5Ljk0MyBDMTIwLjI0Niw3OS45NDMgMTIwLjgwNiw3OS45NzYgMTIxLjM1NSw4MC4wNDIgQzEyOC43NjcsODAuOTMzIDEzNS44NDYsODIuNDg3IDE0Mi4zOTYsODQuNjYzIEMxNDMuMjMyLDg0LjgzOCAxNDMuNjExLDg0LjkxNyAxNDMuNzg2LDg0Ljk2NyBMMTY5LjU2Niw3MC4wODMgTDE0NS42ODUsNTYuMjk1IEw3MC40MDEsOTkuNzYxIEw3MC40MDEsOTkuNzYxIFoiIGlkPSJGaWxsLTEyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2Ny4yMywxOC45NzkgTDE2Ny4yMyw2OS44NSBMMTM5LjkwOSw4NS42MjMgTDEzMy40NDgsNzEuNDU2IEMxMzIuNTM4LDY5LjQ2IDEzMC4wMiw2OS43MTggMTI3LjgyNCw3Mi4wMyBDMTI2Ljc2OSw3My4xNCAxMjUuOTMxLDc0LjU4NSAxMjUuNDk0LDc2LjA0OCBMMTE5LjAzNCw5Ny42NzYgTDkxLjcxMiwxMTMuNDUgTDkxLjcxMiw2Mi41NzkgTDE2Ny4yMywxOC45NzkiIGlkPSJGaWxsLTEzIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkxLjcxMiwxMTMuNTY3IEM5MS42OTIsMTEzLjU2NyA5MS42NzIsMTEzLjU2MSA5MS42NTMsMTEzLjU1MSBDOTEuNjE4LDExMy41MyA5MS41OTUsMTEzLjQ5MiA5MS41OTUsMTEzLjQ1IEw5MS41OTUsNjIuNTc5IEM5MS41OTUsNjIuNTM3IDkxLjYxOCw2Mi40OTkgOTEuNjUzLDYyLjQ3OCBMMTY3LjE3MiwxOC44NzggQzE2Ny4yMDgsMTguODU3IDE2Ny4yNTIsMTguODU3IDE2Ny4yODgsMTguODc4IEMxNjcuMzI0LDE4Ljg5OSAxNjcuMzQ3LDE4LjkzNyAxNjcuMzQ3LDE4Ljk3OSBMMTY3LjM0Nyw2OS44NSBDMTY3LjM0Nyw2OS44OTEgMTY3LjMyNCw2OS45MyAxNjcuMjg4LDY5Ljk1IEwxMzkuOTY3LDg1LjcyNSBDMTM5LjkzOSw4NS43NDEgMTM5LjkwNSw4NS43NDUgMTM5Ljg3Myw4NS43MzUgQzEzOS44NDIsODUuNzI1IDEzOS44MTYsODUuNzAyIDEzOS44MDIsODUuNjcyIEwxMzMuMzQyLDcxLjUwNCBDMTMyLjk2Nyw3MC42ODIgMTMyLjI4LDcwLjIyOSAxMzEuNDA4LDcwLjIyOSBDMTMwLjMxOSw3MC4yMjkgMTI5LjA0NCw3MC45MTUgMTI3LjkwOCw3Mi4xMSBDMTI2Ljg3NCw3My4yIDEyNi4wMzQsNzQuNjQ3IDEyNS42MDYsNzYuMDgyIEwxMTkuMTQ2LDk3LjcwOSBDMTE5LjEzNyw5Ny43MzggMTE5LjExOCw5Ny43NjIgMTE5LjA5Miw5Ny43NzcgTDkxLjc3LDExMy41NTEgQzkxLjc1MiwxMTMuNTYxIDkxLjczMiwxMTMuNTY3IDkxLjcxMiwxMTMuNTY3IEw5MS43MTIsMTEzLjU2NyBaIE05MS44MjksNjIuNjQ3IEw5MS44MjksMTEzLjI0OCBMMTE4LjkzNSw5Ny41OTggTDEyNS4zODIsNzYuMDE1IEMxMjUuODI3LDc0LjUyNSAxMjYuNjY0LDczLjA4MSAxMjcuNzM5LDcxLjk1IEMxMjguOTE5LDcwLjcwOCAxMzAuMjU2LDY5Ljk5NiAxMzEuNDA4LDY5Ljk5NiBDMTMyLjM3Nyw2OS45OTYgMTMzLjEzOSw3MC40OTcgMTMzLjU1NCw3MS40MDcgTDEzOS45NjEsODUuNDU4IEwxNjcuMTEzLDY5Ljc4MiBMMTY3LjExMywxOS4xODEgTDkxLjgyOSw2Mi42NDcgTDkxLjgyOSw2Mi42NDcgWiIgaWQ9IkZpbGwtMTQiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTY4LjU0MywxOS4yMTMgTDE2OC41NDMsNzAuMDgzIEwxNDEuMjIxLDg1Ljg1NyBMMTM0Ljc2MSw3MS42ODkgQzEzMy44NTEsNjkuNjk0IDEzMS4zMzMsNjkuOTUxIDEyOS4xMzcsNzIuMjYzIEMxMjguMDgyLDczLjM3NCAxMjcuMjQ0LDc0LjgxOSAxMjYuODA3LDc2LjI4MiBMMTIwLjM0Niw5Ny45MDkgTDkzLjAyNSwxMTMuNjgzIEw5My4wMjUsNjIuODEzIEwxNjguNTQzLDE5LjIxMyIgaWQ9IkZpbGwtMTUiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTMuMDI1LDExMy44IEM5My4wMDUsMTEzLjggOTIuOTg0LDExMy43OTUgOTIuOTY2LDExMy43ODUgQzkyLjkzMSwxMTMuNzY0IDkyLjkwOCwxMTMuNzI1IDkyLjkwOCwxMTMuNjg0IEw5Mi45MDgsNjIuODEzIEM5Mi45MDgsNjIuNzcxIDkyLjkzMSw2Mi43MzMgOTIuOTY2LDYyLjcxMiBMMTY4LjQ4NCwxOS4xMTIgQzE2OC41MiwxOS4wOSAxNjguNTY1LDE5LjA5IDE2OC42MDEsMTkuMTEyIEMxNjguNjM3LDE5LjEzMiAxNjguNjYsMTkuMTcxIDE2OC42NiwxOS4yMTIgTDE2OC42Niw3MC4wODMgQzE2OC42Niw3MC4xMjUgMTY4LjYzNyw3MC4xNjQgMTY4LjYwMSw3MC4xODQgTDE0MS4yOCw4NS45NTggQzE0MS4yNTEsODUuOTc1IDE0MS4yMTcsODUuOTc5IDE0MS4xODYsODUuOTY4IEMxNDEuMTU0LDg1Ljk1OCAxNDEuMTI5LDg1LjkzNiAxNDEuMTE1LDg1LjkwNiBMMTM0LjY1NSw3MS43MzggQzEzNC4yOCw3MC45MTUgMTMzLjU5Myw3MC40NjMgMTMyLjcyLDcwLjQ2MyBDMTMxLjYzMiw3MC40NjMgMTMwLjM1Nyw3MS4xNDggMTI5LjIyMSw3Mi4zNDQgQzEyOC4xODYsNzMuNDMzIDEyNy4zNDcsNzQuODgxIDEyNi45MTksNzYuMzE1IEwxMjAuNDU4LDk3Ljk0MyBDMTIwLjQ1LDk3Ljk3MiAxMjAuNDMxLDk3Ljk5NiAxMjAuNDA1LDk4LjAxIEw5My4wODMsMTEzLjc4NSBDOTMuMDY1LDExMy43OTUgOTMuMDQ1LDExMy44IDkzLjAyNSwxMTMuOCBMOTMuMDI1LDExMy44IFogTTkzLjE0Miw2Mi44ODEgTDkzLjE0MiwxMTMuNDgxIEwxMjAuMjQ4LDk3LjgzMiBMMTI2LjY5NSw3Ni4yNDggQzEyNy4xNCw3NC43NTggMTI3Ljk3Nyw3My4zMTUgMTI5LjA1Miw3Mi4xODMgQzEzMC4yMzEsNzAuOTQyIDEzMS41NjgsNzAuMjI5IDEzMi43Miw3MC4yMjkgQzEzMy42ODksNzAuMjI5IDEzNC40NTIsNzAuNzMxIDEzNC44NjcsNzEuNjQxIEwxNDEuMjc0LDg1LjY5MiBMMTY4LjQyNiw3MC4wMTYgTDE2OC40MjYsMTkuNDE1IEw5My4xNDIsNjIuODgxIEw5My4xNDIsNjIuODgxIFoiIGlkPSJGaWxsLTE2IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS44LDcwLjA4MyBMMTQyLjQ3OCw4NS44NTcgTDEzNi4wMTgsNzEuNjg5IEMxMzUuMTA4LDY5LjY5NCAxMzIuNTksNjkuOTUxIDEzMC4zOTMsNzIuMjYzIEMxMjkuMzM5LDczLjM3NCAxMjguNSw3NC44MTkgMTI4LjA2NCw3Ni4yODIgTDEyMS42MDMsOTcuOTA5IEw5NC4yODIsMTEzLjY4MyBMOTQuMjgyLDYyLjgxMyBMMTY5LjgsMTkuMjEzIEwxNjkuOCw3MC4wODMgWiIgaWQ9IkZpbGwtMTciIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOTQuMjgyLDExMy45MTcgQzk0LjI0MSwxMTMuOTE3IDk0LjIwMSwxMTMuOTA3IDk0LjE2NSwxMTMuODg2IEM5NC4wOTMsMTEzLjg0NSA5NC4wNDgsMTEzLjc2NyA5NC4wNDgsMTEzLjY4NCBMOTQuMDQ4LDYyLjgxMyBDOTQuMDQ4LDYyLjczIDk0LjA5Myw2Mi42NTIgOTQuMTY1LDYyLjYxMSBMMTY5LjY4MywxOS4wMSBDMTY5Ljc1NSwxOC45NjkgMTY5Ljg0NCwxOC45NjkgMTY5LjkxNywxOS4wMSBDMTY5Ljk4OSwxOS4wNTIgMTcwLjAzMywxOS4xMjkgMTcwLjAzMywxOS4yMTIgTDE3MC4wMzMsNzAuMDgzIEMxNzAuMDMzLDcwLjE2NiAxNjkuOTg5LDcwLjI0NCAxNjkuOTE3LDcwLjI4NSBMMTQyLjU5NSw4Ni4wNiBDMTQyLjUzOCw4Ni4wOTIgMTQyLjQ2OSw4Ni4xIDE0Mi40MDcsODYuMDggQzE0Mi4zNDQsODYuMDYgMTQyLjI5Myw4Ni4wMTQgMTQyLjI2Niw4NS45NTQgTDEzNS44MDUsNzEuNzg2IEMxMzUuNDQ1LDcwLjk5NyAxMzQuODEzLDcwLjU4IDEzMy45NzcsNzAuNTggQzEzMi45MjEsNzAuNTggMTMxLjY3Niw3MS4yNTIgMTMwLjU2Miw3Mi40MjQgQzEyOS41NCw3My41MDEgMTI4LjcxMSw3NC45MzEgMTI4LjI4Nyw3Ni4zNDggTDEyMS44MjcsOTcuOTc2IEMxMjEuODEsOTguMDM0IDEyMS43NzEsOTguMDgyIDEyMS43Miw5OC4xMTIgTDk0LjM5OCwxMTMuODg2IEM5NC4zNjIsMTEzLjkwNyA5NC4zMjIsMTEzLjkxNyA5NC4yODIsMTEzLjkxNyBMOTQuMjgyLDExMy45MTcgWiBNOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDExMy4yNzkgTDEyMS40MDYsOTcuNzU0IEwxMjcuODQsNzYuMjE1IEMxMjguMjksNzQuNzA4IDEyOS4xMzcsNzMuMjQ3IDEzMC4yMjQsNzIuMTAzIEMxMzEuNDI1LDcwLjgzOCAxMzIuNzkzLDcwLjExMiAxMzMuOTc3LDcwLjExMiBDMTM0Ljk5NSw3MC4xMTIgMTM1Ljc5NSw3MC42MzggMTM2LjIzLDcxLjU5MiBMMTQyLjU4NCw4NS41MjYgTDE2OS41NjYsNjkuOTQ4IEwxNjkuNTY2LDE5LjYxNyBMOTQuNTE1LDYyLjk0OCBMOTQuNTE1LDYyLjk0OCBaIiBpZD0iRmlsbC0xOCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMDkuODk0LDkyLjk0MyBMMTA5Ljg5NCw5Mi45NDMgQzEwOC4xMiw5Mi45NDMgMTA2LjY1Myw5Mi4yMTggMTA1LjY1LDkwLjgyMyBDMTA1LjU4Myw5MC43MzEgMTA1LjU5Myw5MC42MSAxMDUuNjczLDkwLjUyOSBDMTA1Ljc1Myw5MC40NDggMTA1Ljg4LDkwLjQ0IDEwNS45NzQsOTAuNTA2IEMxMDYuNzU0LDkxLjA1MyAxMDcuNjc5LDkxLjMzMyAxMDguNzI0LDkxLjMzMyBDMTEwLjA0Nyw5MS4zMzMgMTExLjQ3OCw5MC44OTQgMTEyLjk4LDkwLjAyNyBDMTE4LjI5MSw4Ni45NiAxMjIuNjExLDc5LjUwOSAxMjIuNjExLDczLjQxNiBDMTIyLjYxMSw3MS40ODkgMTIyLjE2OSw2OS44NTYgMTIxLjMzMyw2OC42OTIgQzEyMS4yNjYsNjguNiAxMjEuMjc2LDY4LjQ3MyAxMjEuMzU2LDY4LjM5MiBDMTIxLjQzNiw2OC4zMTEgMTIxLjU2Myw2OC4yOTkgMTIxLjY1Niw2OC4zNjUgQzEyMy4zMjcsNjkuNTM3IDEyNC4yNDcsNzEuNzQ2IDEyNC4yNDcsNzQuNTg0IEMxMjQuMjQ3LDgwLjgyNiAxMTkuODIxLDg4LjQ0NyAxMTQuMzgyLDkxLjU4NyBDMTEyLjgwOCw5Mi40OTUgMTExLjI5OCw5Mi45NDMgMTA5Ljg5NCw5Mi45NDMgTDEwOS44OTQsOTIuOTQzIFogTTEwNi45MjUsOTEuNDAxIEMxMDcuNzM4LDkyLjA1MiAxMDguNzQ1LDkyLjI3OCAxMDkuODkzLDkyLjI3OCBMMTA5Ljg5NCw5Mi4yNzggQzExMS4yMTUsOTIuMjc4IDExMi42NDcsOTEuOTUxIDExNC4xNDgsOTEuMDg0IEMxMTkuNDU5LDg4LjAxNyAxMjMuNzgsODAuNjIxIDEyMy43OCw3NC41MjggQzEyMy43OCw3Mi41NDkgMTIzLjMxNyw3MC45MjkgMTIyLjQ1NCw2OS43NjcgQzEyMi44NjUsNzAuODAyIDEyMy4wNzksNzIuMDQyIDEyMy4wNzksNzMuNDAyIEMxMjMuMDc5LDc5LjY0NSAxMTguNjUzLDg3LjI4NSAxMTMuMjE0LDkwLjQyNSBDMTExLjY0LDkxLjMzNCAxMTAuMTMsOTEuNzQyIDEwOC43MjQsOTEuNzQyIEMxMDguMDgzLDkxLjc0MiAxMDcuNDgxLDkxLjU5MyAxMDYuOTI1LDkxLjQwMSBMMTA2LjkyNSw5MS40MDEgWiIgaWQ9IkZpbGwtMTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjA5Nyw5MC4yMyBDMTE4LjQ4MSw4Ny4xMjIgMTIyLjg0NSw3OS41OTQgMTIyLjg0NSw3My40MTYgQzEyMi44NDUsNzEuMzY1IDEyMi4zNjIsNjkuNzI0IDEyMS41MjIsNjguNTU2IEMxMTkuNzM4LDY3LjMwNCAxMTcuMTQ4LDY3LjM2MiAxMTQuMjY1LDY5LjAyNiBDMTA4Ljg4MSw3Mi4xMzQgMTA0LjUxNyw3OS42NjIgMTA0LjUxNyw4NS44NCBDMTA0LjUxNyw4Ny44OTEgMTA1LDg5LjUzMiAxMDUuODQsOTAuNyBDMTA3LjYyNCw5MS45NTIgMTEwLjIxNCw5MS44OTQgMTEzLjA5Nyw5MC4yMyIgaWQ9IkZpbGwtMjAiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTA4LjcyNCw5MS42MTQgTDEwOC43MjQsOTEuNjE0IEMxMDcuNTgyLDkxLjYxNCAxMDYuNTY2LDkxLjQwMSAxMDUuNzA1LDkwLjc5NyBDMTA1LjY4NCw5MC43ODMgMTA1LjY2NSw5MC44MTEgMTA1LjY1LDkwLjc5IEMxMDQuNzU2LDg5LjU0NiAxMDQuMjgzLDg3Ljg0MiAxMDQuMjgzLDg1LjgxNyBDMTA0LjI4Myw3OS41NzUgMTA4LjcwOSw3MS45NTMgMTE0LjE0OCw2OC44MTIgQzExNS43MjIsNjcuOTA0IDExNy4yMzIsNjcuNDQ5IDExOC42MzgsNjcuNDQ5IEMxMTkuNzgsNjcuNDQ5IDEyMC43OTYsNjcuNzU4IDEyMS42NTYsNjguMzYyIEMxMjEuNjc4LDY4LjM3NyAxMjEuNjk3LDY4LjM5NyAxMjEuNzEyLDY4LjQxOCBDMTIyLjYwNiw2OS42NjIgMTIzLjA3OSw3MS4zOSAxMjMuMDc5LDczLjQxNSBDMTIzLjA3OSw3OS42NTggMTE4LjY1Myw4Ny4xOTggMTEzLjIxNCw5MC4zMzggQzExMS42NCw5MS4yNDcgMTEwLjEzLDkxLjYxNCAxMDguNzI0LDkxLjYxNCBMMTA4LjcyNCw5MS42MTQgWiBNMTA2LjAwNiw5MC41MDUgQzEwNi43OCw5MS4wMzcgMTA3LjY5NCw5MS4yODEgMTA4LjcyNCw5MS4yODEgQzExMC4wNDcsOTEuMjgxIDExMS40NzgsOTAuODY4IDExMi45OCw5MC4wMDEgQzExOC4yOTEsODYuOTM1IDEyMi42MTEsNzkuNDk2IDEyMi42MTEsNzMuNDAzIEMxMjIuNjExLDcxLjQ5NCAxMjIuMTc3LDY5Ljg4IDEyMS4zNTYsNjguNzE4IEMxMjAuNTgyLDY4LjE4NSAxMTkuNjY4LDY3LjkxOSAxMTguNjM4LDY3LjkxOSBDMTE3LjMxNSw2Ny45MTkgMTE1Ljg4Myw2OC4zNiAxMTQuMzgyLDY5LjIyNyBDMTA5LjA3MSw3Mi4yOTMgMTA0Ljc1MSw3OS43MzMgMTA0Ljc1MSw4NS44MjYgQzEwNC43NTEsODcuNzM1IDEwNS4xODUsODkuMzQzIDEwNi4wMDYsOTAuNTA1IEwxMDYuMDA2LDkwLjUwNSBaIiBpZD0iRmlsbC0yMSIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNDkuMzE4LDcuMjYyIEwxMzkuMzM0LDE2LjE0IEwxNTUuMjI3LDI3LjE3MSBMMTYwLjgxNiwyMS4wNTkgTDE0OS4zMTgsNy4yNjIiIGlkPSJGaWxsLTIyIiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2OS42NzYsMTMuODQgTDE1OS45MjgsMTkuNDY3IEMxNTYuMjg2LDIxLjU3IDE1MC40LDIxLjU4IDE0Ni43ODEsMTkuNDkxIEMxNDMuMTYxLDE3LjQwMiAxNDMuMTgsMTQuMDAzIDE0Ni44MjIsMTEuOSBMMTU2LjMxNyw2LjI5MiBMMTQ5LjU4OCwyLjQwNyBMNjcuNzUyLDQ5LjQ3OCBMMTEzLjY3NSw3NS45OTIgTDExNi43NTYsNzQuMjEzIEMxMTcuMzg3LDczLjg0OCAxMTcuNjI1LDczLjMxNSAxMTcuMzc0LDcyLjgyMyBDMTE1LjAxNyw2OC4xOTEgMTE0Ljc4MSw2My4yNzcgMTE2LjY5MSw1OC41NjEgQzEyMi4zMjksNDQuNjQxIDE0MS4yLDMzLjc0NiAxNjUuMzA5LDMwLjQ5MSBDMTczLjQ3OCwyOS4zODggMTgxLjk4OSwyOS41MjQgMTkwLjAxMywzMC44ODUgQzE5MC44NjUsMzEuMDMgMTkxLjc4OSwzMC44OTMgMTkyLjQyLDMwLjUyOCBMMTk1LjUwMSwyOC43NSBMMTY5LjY3NiwxMy44NCIgaWQ9IkZpbGwtMjMiIGZpbGw9IiNGQUZBRkEiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3Ni40NTkgQzExMy41OTQsNzYuNDU5IDExMy41MTQsNzYuNDM4IDExMy40NDIsNzYuMzk3IEw2Ny41MTgsNDkuODgyIEM2Ny4zNzQsNDkuNzk5IDY3LjI4NCw0OS42NDUgNjcuMjg1LDQ5LjQ3OCBDNjcuMjg1LDQ5LjMxMSA2Ny4zNzQsNDkuMTU3IDY3LjUxOSw0OS4wNzMgTDE0OS4zNTUsMi4wMDIgQzE0OS40OTksMS45MTkgMTQ5LjY3NywxLjkxOSAxNDkuODIxLDIuMDAyIEwxNTYuNTUsNS44ODcgQzE1Ni43NzQsNi4wMTcgMTU2Ljg1LDYuMzAyIDE1Ni43MjIsNi41MjYgQzE1Ni41OTIsNi43NDkgMTU2LjMwNyw2LjgyNiAxNTYuMDgzLDYuNjk2IEwxNDkuNTg3LDIuOTQ2IEw2OC42ODcsNDkuNDc5IEwxMTMuNjc1LDc1LjQ1MiBMMTE2LjUyMyw3My44MDggQzExNi43MTUsNzMuNjk3IDExNy4xNDMsNzMuMzk5IDExNi45NTgsNzMuMDM1IEMxMTQuNTQyLDY4LjI4NyAxMTQuMyw2My4yMjEgMTE2LjI1OCw1OC4zODUgQzExOS4wNjQsNTEuNDU4IDEyNS4xNDMsNDUuMTQzIDEzMy44NCw0MC4xMjIgQzE0Mi40OTcsMzUuMTI0IDE1My4zNTgsMzEuNjMzIDE2NS4yNDcsMzAuMDI4IEMxNzMuNDQ1LDI4LjkyMSAxODIuMDM3LDI5LjA1OCAxOTAuMDkxLDMwLjQyNSBDMTkwLjgzLDMwLjU1IDE5MS42NTIsMzAuNDMyIDE5Mi4xODYsMzAuMTI0IEwxOTQuNTY3LDI4Ljc1IEwxNjkuNDQyLDE0LjI0NCBDMTY5LjIxOSwxNC4xMTUgMTY5LjE0MiwxMy44MjkgMTY5LjI3MSwxMy42MDYgQzE2OS40LDEzLjM4MiAxNjkuNjg1LDEzLjMwNiAxNjkuOTA5LDEzLjQzNSBMMTk1LjczNCwyOC4zNDUgQzE5NS44NzksMjguNDI4IDE5NS45NjgsMjguNTgzIDE5NS45NjgsMjguNzUgQzE5NS45NjgsMjguOTE2IDE5NS44NzksMjkuMDcxIDE5NS43MzQsMjkuMTU0IEwxOTIuNjUzLDMwLjkzMyBDMTkxLjkzMiwzMS4zNSAxOTAuODksMzEuNTA4IDE4OS45MzUsMzEuMzQ2IEMxODEuOTcyLDI5Ljk5NSAxNzMuNDc4LDI5Ljg2IDE2NS4zNzIsMzAuOTU0IEMxNTMuNjAyLDMyLjU0MyAxNDIuODYsMzUuOTkzIDEzNC4zMDcsNDAuOTMxIEMxMjUuNzkzLDQ1Ljg0NyAxMTkuODUxLDUyLjAwNCAxMTcuMTI0LDU4LjczNiBDMTE1LjI3LDYzLjMxNCAxMTUuNTAxLDY4LjExMiAxMTcuNzksNzIuNjExIEMxMTguMTYsNzMuMzM2IDExNy44NDUsNzQuMTI0IDExNi45OSw3NC42MTcgTDExMy45MDksNzYuMzk3IEMxMTMuODM2LDc2LjQzOCAxMTMuNzU2LDc2LjQ1OSAxMTMuNjc1LDc2LjQ1OSIgaWQ9IkZpbGwtMjQiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUzLjMxNiwyMS4yNzkgQzE1MC45MDMsMjEuMjc5IDE0OC40OTUsMjAuNzUxIDE0Ni42NjQsMTkuNjkzIEMxNDQuODQ2LDE4LjY0NCAxNDMuODQ0LDE3LjIzMiAxNDMuODQ0LDE1LjcxOCBDMTQzLjg0NCwxNC4xOTEgMTQ0Ljg2LDEyLjc2MyAxNDYuNzA1LDExLjY5OCBMMTU2LjE5OCw2LjA5MSBDMTU2LjMwOSw2LjAyNSAxNTYuNDUyLDYuMDYyIDE1Ni41MTgsNi4xNzMgQzE1Ni41ODMsNi4yODQgMTU2LjU0Nyw2LjQyNyAxNTYuNDM2LDYuNDkzIEwxNDYuOTQsMTIuMTAyIEMxNDUuMjQ0LDEzLjA4MSAxNDQuMzEyLDE0LjM2NSAxNDQuMzEyLDE1LjcxOCBDMTQ0LjMxMiwxNy4wNTggMTQ1LjIzLDE4LjMyNiAxNDYuODk3LDE5LjI4OSBDMTUwLjQ0NiwyMS4zMzggMTU2LjI0LDIxLjMyNyAxNTkuODExLDE5LjI2NSBMMTY5LjU1OSwxMy42MzcgQzE2OS42NywxMy41NzMgMTY5LjgxMywxMy42MTEgMTY5Ljg3OCwxMy43MjMgQzE2OS45NDMsMTMuODM0IDE2OS45MDQsMTMuOTc3IDE2OS43OTMsMTQuMDQyIEwxNjAuMDQ1LDE5LjY3IEMxNTguMTg3LDIwLjc0MiAxNTUuNzQ5LDIxLjI3OSAxNTMuMzE2LDIxLjI3OSIgaWQ9IkZpbGwtMjUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEzLjY3NSw3NS45OTIgTDY3Ljc2Miw0OS40ODQiIGlkPSJGaWxsLTI2IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMy42NzUsNzYuMzQyIEMxMTMuNjE1LDc2LjM0MiAxMTMuNTU1LDc2LjMyNyAxMTMuNSw3Ni4yOTUgTDY3LjU4Nyw0OS43ODcgQzY3LjQxOSw0OS42OSA2Ny4zNjIsNDkuNDc2IDY3LjQ1OSw0OS4zMDkgQzY3LjU1Niw0OS4xNDEgNjcuNzcsNDkuMDgzIDY3LjkzNyw0OS4xOCBMMTEzLjg1LDc1LjY4OCBDMTE0LjAxOCw3NS43ODUgMTE0LjA3NSw3NiAxMTMuOTc4LDc2LjE2NyBDMTEzLjkxNCw3Ni4yNzkgMTEzLjc5Niw3Ni4zNDIgMTEzLjY3NSw3Ni4zNDIiIGlkPSJGaWxsLTI3IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY3Ljc2Miw0OS40ODQgTDY3Ljc2MiwxMDMuNDg1IEM2Ny43NjIsMTA0LjU3NSA2OC41MzIsMTA1LjkwMyA2OS40ODIsMTA2LjQ1MiBMMTExLjk1NSwxMzAuOTczIEMxMTIuOTA1LDEzMS41MjIgMTEzLjY3NSwxMzEuMDgzIDExMy42NzUsMTI5Ljk5MyBMMTEzLjY3NSw3NS45OTIiIGlkPSJGaWxsLTI4IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExMi43MjcsMTMxLjU2MSBDMTEyLjQzLDEzMS41NjEgMTEyLjEwNywxMzEuNDY2IDExMS43OCwxMzEuMjc2IEw2OS4zMDcsMTA2Ljc1NSBDNjguMjQ0LDEwNi4xNDIgNjcuNDEyLDEwNC43MDUgNjcuNDEyLDEwMy40ODUgTDY3LjQxMiw0OS40ODQgQzY3LjQxMiw0OS4yOSA2Ny41NjksNDkuMTM0IDY3Ljc2Miw0OS4xMzQgQzY3Ljk1Niw0OS4xMzQgNjguMTEzLDQ5LjI5IDY4LjExMyw0OS40ODQgTDY4LjExMywxMDMuNDg1IEM2OC4xMTMsMTA0LjQ0NSA2OC44MiwxMDUuNjY1IDY5LjY1NywxMDYuMTQ4IEwxMTIuMTMsMTMwLjY3IEMxMTIuNDc0LDEzMC44NjggMTEyLjc5MSwxMzAuOTEzIDExMywxMzAuNzkyIEMxMTMuMjA2LDEzMC42NzMgMTEzLjMyNSwxMzAuMzgxIDExMy4zMjUsMTI5Ljk5MyBMMTEzLjMyNSw3NS45OTIgQzExMy4zMjUsNzUuNzk4IDExMy40ODIsNzUuNjQxIDExMy42NzUsNzUuNjQxIEMxMTMuODY5LDc1LjY0MSAxMTQuMDI1LDc1Ljc5OCAxMTQuMDI1LDc1Ljk5MiBMMTE0LjAyNSwxMjkuOTkzIEMxMTQuMDI1LDEzMC42NDggMTEzLjc4NiwxMzEuMTQ3IDExMy4zNSwxMzEuMzk5IEMxMTMuMTYyLDEzMS41MDcgMTEyLjk1MiwxMzEuNTYxIDExMi43MjcsMTMxLjU2MSIgaWQ9IkZpbGwtMjkiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTEyLjg2LDQwLjUxMiBDMTEyLjg2LDQwLjUxMiAxMTIuODYsNDAuNTEyIDExMi44NTksNDAuNTEyIEMxMTAuNTQxLDQwLjUxMiAxMDguMzYsMzkuOTkgMTA2LjcxNywzOS4wNDEgQzEwNS4wMTIsMzguMDU3IDEwNC4wNzQsMzYuNzI2IDEwNC4wNzQsMzUuMjkyIEMxMDQuMDc0LDMzLjg0NyAxMDUuMDI2LDMyLjUwMSAxMDYuNzU0LDMxLjUwNCBMMTE4Ljc5NSwyNC41NTEgQzEyMC40NjMsMjMuNTg5IDEyMi42NjksMjMuMDU4IDEyNS4wMDcsMjMuMDU4IEMxMjcuMzI1LDIzLjA1OCAxMjkuNTA2LDIzLjU4MSAxMzEuMTUsMjQuNTMgQzEzMi44NTQsMjUuNTE0IDEzMy43OTMsMjYuODQ1IDEzMy43OTMsMjguMjc4IEMxMzMuNzkzLDI5LjcyNCAxMzIuODQxLDMxLjA2OSAxMzEuMTEzLDMyLjA2NyBMMTE5LjA3MSwzOS4wMTkgQzExNy40MDMsMzkuOTgyIDExNS4xOTcsNDAuNTEyIDExMi44Niw0MC41MTIgTDExMi44Niw0MC41MTIgWiBNMTI1LjAwNywyMy43NTkgQzEyMi43OSwyMy43NTkgMTIwLjcwOSwyNC4yNTYgMTE5LjE0NiwyNS4xNTggTDEwNy4xMDQsMzIuMTEgQzEwNS42MDIsMzIuOTc4IDEwNC43NzQsMzQuMTA4IDEwNC43NzQsMzUuMjkyIEMxMDQuNzc0LDM2LjQ2NSAxMDUuNTg5LDM3LjU4MSAxMDcuMDY3LDM4LjQzNCBDMTA4LjYwNSwzOS4zMjMgMTEwLjY2MywzOS44MTIgMTEyLjg1OSwzOS44MTIgTDExMi44NiwzOS44MTIgQzExNS4wNzYsMzkuODEyIDExNy4xNTgsMzkuMzE1IDExOC43MjEsMzguNDEzIEwxMzAuNzYyLDMxLjQ2IEMxMzIuMjY0LDMwLjU5MyAxMzMuMDkyLDI5LjQ2MyAxMzMuMDkyLDI4LjI3OCBDMTMzLjA5MiwyNy4xMDYgMTMyLjI3OCwyNS45OSAxMzAuOCwyNS4xMzYgQzEyOS4yNjEsMjQuMjQ4IDEyNy4yMDQsMjMuNzU5IDEyNS4wMDcsMjMuNzU5IEwxMjUuMDA3LDIzLjc1OSBaIiBpZD0iRmlsbC0zMCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNjUuNjMsMTYuMjE5IEwxNTkuODk2LDE5LjUzIEMxNTYuNzI5LDIxLjM1OCAxNTEuNjEsMjEuMzY3IDE0OC40NjMsMTkuNTUgQzE0NS4zMTYsMTcuNzMzIDE0NS4zMzIsMTQuNzc4IDE0OC40OTksMTIuOTQ5IEwxNTQuMjMzLDkuNjM5IEwxNjUuNjMsMTYuMjE5IiBpZD0iRmlsbC0zMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNTQuMjMzLDEwLjQ0OCBMMTY0LjIyOCwxNi4yMTkgTDE1OS41NDYsMTguOTIzIEMxNTguMTEyLDE5Ljc1IDE1Ni4xOTQsMjAuMjA2IDE1NC4xNDcsMjAuMjA2IEMxNTIuMTE4LDIwLjIwNiAxNTAuMjI0LDE5Ljc1NyAxNDguODE0LDE4Ljk0MyBDMTQ3LjUyNCwxOC4xOTkgMTQ2LjgxNCwxNy4yNDkgMTQ2LjgxNCwxNi4yNjkgQzE0Ni44MTQsMTUuMjc4IDE0Ny41MzcsMTQuMzE0IDE0OC44NSwxMy41NTYgTDE1NC4yMzMsMTAuNDQ4IE0xNTQuMjMzLDkuNjM5IEwxNDguNDk5LDEyLjk0OSBDMTQ1LjMzMiwxNC43NzggMTQ1LjMxNiwxNy43MzMgMTQ4LjQ2MywxOS41NSBDMTUwLjAzMSwyMC40NTUgMTUyLjA4NiwyMC45MDcgMTU0LjE0NywyMC45MDcgQzE1Ni4yMjQsMjAuOTA3IDE1OC4zMDYsMjAuNDQ3IDE1OS44OTYsMTkuNTMgTDE2NS42MywxNi4yMTkgTDE1NC4yMzMsOS42MzkiIGlkPSJGaWxsLTMyIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NS40NDUsNzIuNjY3IEwxNDUuNDQ1LDcyLjY2NyBDMTQzLjY3Miw3Mi42NjcgMTQyLjIwNCw3MS44MTcgMTQxLjIwMiw3MC40MjIgQzE0MS4xMzUsNzAuMzMgMTQxLjE0NSw3MC4xNDcgMTQxLjIyNSw3MC4wNjYgQzE0MS4zMDUsNjkuOTg1IDE0MS40MzIsNjkuOTQ2IDE0MS41MjUsNzAuMDExIEMxNDIuMzA2LDcwLjU1OSAxNDMuMjMxLDcwLjgyMyAxNDQuMjc2LDcwLjgyMiBDMTQ1LjU5OCw3MC44MjIgMTQ3LjAzLDcwLjM3NiAxNDguNTMyLDY5LjUwOSBDMTUzLjg0Miw2Ni40NDMgMTU4LjE2Myw1OC45ODcgMTU4LjE2Myw1Mi44OTQgQzE1OC4xNjMsNTAuOTY3IDE1Ny43MjEsNDkuMzMyIDE1Ni44ODQsNDguMTY4IEMxNTYuODE4LDQ4LjA3NiAxNTYuODI4LDQ3Ljk0OCAxNTYuOTA4LDQ3Ljg2NyBDMTU2Ljk4OCw0Ny43ODYgMTU3LjExNCw0Ny43NzQgMTU3LjIwOCw0Ny44NCBDMTU4Ljg3OCw0OS4wMTIgMTU5Ljc5OCw1MS4yMiAxNTkuNzk4LDU0LjA1OSBDMTU5Ljc5OCw2MC4zMDEgMTU1LjM3Myw2OC4wNDYgMTQ5LjkzMyw3MS4xODYgQzE0OC4zNiw3Mi4wOTQgMTQ2Ljg1LDcyLjY2NyAxNDUuNDQ1LDcyLjY2NyBMMTQ1LjQ0NSw3Mi42NjcgWiBNMTQyLjQ3Niw3MSBDMTQzLjI5LDcxLjY1MSAxNDQuMjk2LDcyLjAwMiAxNDUuNDQ1LDcyLjAwMiBDMTQ2Ljc2Nyw3Mi4wMDIgMTQ4LjE5OCw3MS41NSAxNDkuNyw3MC42ODIgQzE1NS4wMSw2Ny42MTcgMTU5LjMzMSw2MC4xNTkgMTU5LjMzMSw1NC4wNjUgQzE1OS4zMzEsNTIuMDg1IDE1OC44NjgsNTAuNDM1IDE1OC4wMDYsNDkuMjcyIEMxNTguNDE3LDUwLjMwNyAxNTguNjMsNTEuNTMyIDE1OC42Myw1Mi44OTIgQzE1OC42Myw1OS4xMzQgMTU0LjIwNSw2Ni43NjcgMTQ4Ljc2NSw2OS45MDcgQzE0Ny4xOTIsNzAuODE2IDE0NS42ODEsNzEuMjgzIDE0NC4yNzYsNzEuMjgzIEMxNDMuNjM0LDcxLjI4MyAxNDMuMDMzLDcxLjE5MiAxNDIuNDc2LDcxIEwxNDIuNDc2LDcxIFoiIGlkPSJGaWxsLTMzIiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0OC42NDgsNjkuNzA0IEMxNTQuMDMyLDY2LjU5NiAxNTguMzk2LDU5LjA2OCAxNTguMzk2LDUyLjg5MSBDMTU4LjM5Niw1MC44MzkgMTU3LjkxMyw0OS4xOTggMTU3LjA3NCw0OC4wMyBDMTU1LjI4OSw0Ni43NzggMTUyLjY5OSw0Ni44MzYgMTQ5LjgxNiw0OC41MDEgQzE0NC40MzMsNTEuNjA5IDE0MC4wNjgsNTkuMTM3IDE0MC4wNjgsNjUuMzE0IEMxNDAuMDY4LDY3LjM2NSAxNDAuNTUyLDY5LjAwNiAxNDEuMzkxLDcwLjE3NCBDMTQzLjE3Niw3MS40MjcgMTQ1Ljc2NSw3MS4zNjkgMTQ4LjY0OCw2OS43MDQiIGlkPSJGaWxsLTM0IiBmaWxsPSIjRkFGQUZBIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0NC4yNzYsNzEuMjc2IEwxNDQuMjc2LDcxLjI3NiBDMTQzLjEzMyw3MS4yNzYgMTQyLjExOCw3MC45NjkgMTQxLjI1Nyw3MC4zNjUgQzE0MS4yMzYsNzAuMzUxIDE0MS4yMTcsNzAuMzMyIDE0MS4yMDIsNzAuMzExIEMxNDAuMzA3LDY5LjA2NyAxMzkuODM1LDY3LjMzOSAxMzkuODM1LDY1LjMxNCBDMTM5LjgzNSw1OS4wNzMgMTQ0LjI2LDUxLjQzOSAxNDkuNyw0OC4yOTggQzE1MS4yNzMsNDcuMzkgMTUyLjc4NCw0Ni45MjkgMTU0LjE4OSw0Ni45MjkgQzE1NS4zMzIsNDYuOTI5IDE1Ni4zNDcsNDcuMjM2IDE1Ny4yMDgsNDcuODM5IEMxNTcuMjI5LDQ3Ljg1NCAxNTcuMjQ4LDQ3Ljg3MyAxNTcuMjYzLDQ3Ljg5NCBDMTU4LjE1Nyw0OS4xMzggMTU4LjYzLDUwLjg2NSAxNTguNjMsNTIuODkxIEMxNTguNjMsNTkuMTMyIDE1NC4yMDUsNjYuNzY2IDE0OC43NjUsNjkuOTA3IEMxNDcuMTkyLDcwLjgxNSAxNDUuNjgxLDcxLjI3NiAxNDQuMjc2LDcxLjI3NiBMMTQ0LjI3Niw3MS4yNzYgWiBNMTQxLjU1OCw3MC4xMDQgQzE0Mi4zMzEsNzAuNjM3IDE0My4yNDUsNzEuMDA1IDE0NC4yNzYsNzEuMDA1IEMxNDUuNTk4LDcxLjAwNSAxNDcuMDMsNzAuNDY3IDE0OC41MzIsNjkuNiBDMTUzLjg0Miw2Ni41MzQgMTU4LjE2Myw1OS4wMzMgMTU4LjE2Myw1Mi45MzkgQzE1OC4xNjMsNTEuMDMxIDE1Ny43MjksNDkuMzg1IDE1Ni45MDcsNDguMjIzIEMxNTYuMTMzLDQ3LjY5MSAxNTUuMjE5LDQ3LjQwOSAxNTQuMTg5LDQ3LjQwOSBDMTUyLjg2Nyw0Ny40MDkgMTUxLjQzNSw0Ny44NDIgMTQ5LjkzMyw0OC43MDkgQzE0NC42MjMsNTEuNzc1IDE0MC4zMDIsNTkuMjczIDE0MC4zMDIsNjUuMzY2IEMxNDAuMzAyLDY3LjI3NiAxNDAuNzM2LDY4Ljk0MiAxNDEuNTU4LDcwLjEwNCBMMTQxLjU1OCw3MC4xMDQgWiIgaWQ9IkZpbGwtMzUiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUwLjcyLDY1LjM2MSBMMTUwLjM1Nyw2NS4wNjYgQzE1MS4xNDcsNjQuMDkyIDE1MS44NjksNjMuMDQgMTUyLjUwNSw2MS45MzggQzE1My4zMTMsNjAuNTM5IDE1My45NzgsNTkuMDY3IDE1NC40ODIsNTcuNTYzIEwxNTQuOTI1LDU3LjcxMiBDMTU0LjQxMiw1OS4yNDUgMTUzLjczMyw2MC43NDUgMTUyLjkxLDYyLjE3MiBDMTUyLjI2Miw2My4yOTUgMTUxLjUyNSw2NC4zNjggMTUwLjcyLDY1LjM2MSIgaWQ9IkZpbGwtMzYiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE1LjkxNyw4NC41MTQgTDExNS41NTQsODQuMjIgQzExNi4zNDQsODMuMjQ1IDExNy4wNjYsODIuMTk0IDExNy43MDIsODEuMDkyIEMxMTguNTEsNzkuNjkyIDExOS4xNzUsNzguMjIgMTE5LjY3OCw3Ni43MTcgTDEyMC4xMjEsNzYuODY1IEMxMTkuNjA4LDc4LjM5OCAxMTguOTMsNzkuODk5IDExOC4xMDYsODEuMzI2IEMxMTcuNDU4LDgyLjQ0OCAxMTYuNzIyLDgzLjUyMSAxMTUuOTE3LDg0LjUxNCIgaWQ9IkZpbGwtMzciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTE0LDEzMC40NzYgTDExNCwxMzAuMDA4IEwxMTQsNzYuMDUyIEwxMTQsNzUuNTg0IEwxMTQsNzYuMDUyIEwxMTQsMTMwLjAwOCBMMTE0LDEzMC40NzYiIGlkPSJGaWxsLTM4IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8ZyBpZD0iSW1wb3J0ZWQtTGF5ZXJzLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYyLjAwMDAwMCwgMC4wMDAwMDApIiBza2V0Y2g6dHlwZT0iTVNTaGFwZUdyb3VwIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuODIyLDM3LjQ3NCBDMTkuODM5LDM3LjMzOSAxOS43NDcsMzcuMTk0IDE5LjU1NSwzNy4wODIgQzE5LjIyOCwzNi44OTQgMTguNzI5LDM2Ljg3MiAxOC40NDYsMzcuMDM3IEwxMi40MzQsNDAuNTA4IEMxMi4zMDMsNDAuNTg0IDEyLjI0LDQwLjY4NiAxMi4yNDMsNDAuNzkzIEMxMi4yNDUsNDAuOTI1IDEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQxLjM3MSBMMTIuMjQ1LDQxLjQxNCBMMTIuMjM4LDQxLjU0MiBDOC4xNDgsNDMuODg3IDUuNjQ3LDQ1LjMyMSA1LjY0Nyw0NS4zMjEgQzUuNjQ2LDQ1LjMyMSAzLjU3LDQ2LjM2NyAyLjg2LDUwLjUxMyBDMi44Niw1MC41MTMgMS45NDgsNTcuNDc0IDEuOTYyLDcwLjI1OCBDMS45NzcsODIuODI4IDIuNTY4LDg3LjMyOCAzLjEyOSw5MS42MDkgQzMuMzQ5LDkzLjI5MyA2LjEzLDkzLjczNCA2LjEzLDkzLjczNCBDNi40NjEsOTMuNzc0IDYuODI4LDkzLjcwNyA3LjIxLDkzLjQ4NiBMODIuNDgzLDQ5LjkzNSBDODQuMjkxLDQ4Ljg2NiA4NS4xNSw0Ni4yMTYgODUuNTM5LDQzLjY1MSBDODYuNzUyLDM1LjY2MSA4Ny4yMTQsMTAuNjczIDg1LjI2NCwzLjc3MyBDODUuMDY4LDMuMDggODQuNzU0LDIuNjkgODQuMzk2LDIuNDkxIEw4Mi4zMSwxLjcwMSBDODEuNTgzLDEuNzI5IDgwLjg5NCwyLjE2OCA4MC43NzYsMi4yMzYgQzgwLjYzNiwyLjMxNyA0MS44MDcsMjQuNTg1IDIwLjAzMiwzNy4wNzIgTDE5LjgyMiwzNy40NzQiIGlkPSJGaWxsLTEiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNODIuMzExLDEuNzAxIEw4NC4zOTYsMi40OTEgQzg0Ljc1NCwyLjY5IDg1LjA2OCwzLjA4IDg1LjI2NCwzLjc3MyBDODcuMjEzLDEwLjY3MyA4Ni43NTEsMzUuNjYgODUuNTM5LDQzLjY1MSBDODUuMTQ5LDQ2LjIxNiA4NC4yOSw0OC44NjYgODIuNDgzLDQ5LjkzNSBMNy4yMSw5My40ODYgQzYuODk3LDkzLjY2NyA2LjU5NSw5My43NDQgNi4zMTQsOTMuNzQ0IEw2LjEzMSw5My43MzMgQzYuMTMxLDkzLjczNCAzLjM0OSw5My4yOTMgMy4xMjgsOTEuNjA5IEMyLjU2OCw4Ny4zMjcgMS45NzcsODIuODI4IDEuOTYzLDcwLjI1OCBDMS45NDgsNTcuNDc0IDIuODYsNTAuNTEzIDIuODYsNTAuNTEzIEMzLjU3LDQ2LjM2NyA1LjY0Nyw0NS4zMjEgNS42NDcsNDUuMzIxIEM1LjY0Nyw0NS4zMjEgOC4xNDgsNDMuODg3IDEyLjIzOCw0MS41NDIgTDEyLjI0NSw0MS40MTQgTDEyLjI0NSw0MS4zNzEgQzEyLjI0NSw0MS4yNTQgMTIuMjQ1LDQwLjkyNSAxMi4yNDMsNDAuNzkzIEMxMi4yNCw0MC42ODYgMTIuMzAyLDQwLjU4MyAxMi40MzQsNDAuNTA4IEwxOC40NDYsMzcuMDM2IEMxOC41NzQsMzYuOTYyIDE4Ljc0NiwzNi45MjYgMTguOTI3LDM2LjkyNiBDMTkuMTQ1LDM2LjkyNiAxOS4zNzYsMzYuOTc5IDE5LjU1NCwzNy4wODIgQzE5Ljc0NywzNy4xOTQgMTkuODM5LDM3LjM0IDE5LjgyMiwzNy40NzQgTDIwLjAzMywzNy4wNzIgQzQxLjgwNiwyNC41ODUgODAuNjM2LDIuMzE4IDgwLjc3NywyLjIzNiBDODAuODk0LDIuMTY4IDgxLjU4MywxLjcyOSA4Mi4zMTEsMS43MDEgTTgyLjMxMSwwLjcwNCBMODIuMjcyLDAuNzA1IEM4MS42NTQsMC43MjggODAuOTg5LDAuOTQ5IDgwLjI5OCwxLjM2MSBMODAuMjc3LDEuMzczIEM4MC4xMjksMS40NTggNTkuNzY4LDEzLjEzNSAxOS43NTgsMzYuMDc5IEMxOS41LDM1Ljk4MSAxOS4yMTQsMzUuOTI5IDE4LjkyNywzNS45MjkgQzE4LjU2MiwzNS45MjkgMTguMjIzLDM2LjAxMyAxNy45NDcsMzYuMTczIEwxMS45MzUsMzkuNjQ0IEMxMS40OTMsMzkuODk5IDExLjIzNiw0MC4zMzQgMTEuMjQ2LDQwLjgxIEwxMS4yNDcsNDAuOTYgTDUuMTY3LDQ0LjQ0NyBDNC43OTQsNDQuNjQ2IDIuNjI1LDQ1Ljk3OCAxLjg3Nyw1MC4zNDUgTDEuODcxLDUwLjM4NCBDMS44NjIsNTAuNDU0IDAuOTUxLDU3LjU1NyAwLjk2NSw3MC4yNTkgQzAuOTc5LDgyLjg3OSAxLjU2OCw4Ny4zNzUgMi4xMzcsOTEuNzI0IEwyLjEzOSw5MS43MzkgQzIuNDQ3LDk0LjA5NCA1LjYxNCw5NC42NjIgNS45NzUsOTQuNzE5IEw2LjAwOSw5NC43MjMgQzYuMTEsOTQuNzM2IDYuMjEzLDk0Ljc0MiA2LjMxNCw5NC43NDIgQzYuNzksOTQuNzQyIDcuMjYsOTQuNjEgNy43MSw5NC4zNSBMODIuOTgzLDUwLjc5OCBDODQuNzk0LDQ5LjcyNyA4NS45ODIsNDcuMzc1IDg2LjUyNSw0My44MDEgQzg3LjcxMSwzNS45ODcgODguMjU5LDEwLjcwNSA4Ni4yMjQsMy41MDIgQzg1Ljk3MSwyLjYwOSA4NS41MiwxLjk3NSA4NC44ODEsMS42MiBMODQuNzQ5LDEuNTU4IEw4Mi42NjQsMC43NjkgQzgyLjU1MSwwLjcyNSA4Mi40MzEsMC43MDQgODIuMzExLDAuNzA0IiBpZD0iRmlsbC0yIiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTY2LjI2NywxMS41NjUgTDY3Ljc2MiwxMS45OTkgTDExLjQyMyw0NC4zMjUiIGlkPSJGaWxsLTMiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMjAyLDkwLjU0NSBDMTIuMDI5LDkwLjU0NSAxMS44NjIsOTAuNDU1IDExLjc2OSw5MC4yOTUgQzExLjYzMiw5MC4wNTcgMTEuNzEzLDg5Ljc1MiAxMS45NTIsODkuNjE0IEwzMC4zODksNzguOTY5IEMzMC42MjgsNzguODMxIDMwLjkzMyw3OC45MTMgMzEuMDcxLDc5LjE1MiBDMzEuMjA4LDc5LjM5IDMxLjEyNyw3OS42OTYgMzAuODg4LDc5LjgzMyBMMTIuNDUxLDkwLjQ3OCBMMTIuMjAyLDkwLjU0NSIgaWQ9IkZpbGwtNCIgZmlsbD0iIzYwN0Q4QiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMy43NjQsNDIuNjU0IEwxMy42NTYsNDIuNTkyIEwxMy43MDIsNDIuNDIxIEwxOC44MzcsMzkuNDU3IEwxOS4wMDcsMzkuNTAyIEwxOC45NjIsMzkuNjczIEwxMy44MjcsNDIuNjM3IEwxMy43NjQsNDIuNjU0IiBpZD0iRmlsbC01IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTguNTIsOTAuMzc1IEw4LjUyLDQ2LjQyMSBMOC41ODMsNDYuMzg1IEw3NS44NCw3LjU1NCBMNzUuODQsNTEuNTA4IEw3NS43NzgsNTEuNTQ0IEw4LjUyLDkwLjM3NSBMOC41Miw5MC4zNzUgWiBNOC43Nyw0Ni41NjQgTDguNzcsODkuOTQ0IEw3NS41OTEsNTEuMzY1IEw3NS41OTEsNy45ODUgTDguNzcsNDYuNTY0IEw4Ljc3LDQ2LjU2NCBaIiBpZD0iRmlsbC02IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI0Ljk4Niw4My4xODIgQzI0Ljc1Niw4My4zMzEgMjQuMzc0LDgzLjU2NiAyNC4xMzcsODMuNzA1IEwxMi42MzIsOTAuNDA2IEMxMi4zOTUsOTAuNTQ1IDEyLjQyNiw5MC42NTggMTIuNyw5MC42NTggTDEzLjI2NSw5MC42NTggQzEzLjU0LDkwLjY1OCAxMy45NTgsOTAuNTQ1IDE0LjE5NSw5MC40MDYgTDI1LjcsODMuNzA1IEMyNS45MzcsODMuNTY2IDI2LjEyOCw4My40NTIgMjYuMTI1LDgzLjQ0OSBDMjYuMTIyLDgzLjQ0NyAyNi4xMTksODMuMjIgMjYuMTE5LDgyLjk0NiBDMjYuMTE5LDgyLjY3MiAyNS45MzEsODIuNTY5IDI1LjcwMSw4Mi43MTkgTDI0Ljk4Niw4My4xODIiIGlkPSJGaWxsLTciIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTMuMjY2LDkwLjc4MiBMMTIuNyw5MC43ODIgQzEyLjUsOTAuNzgyIDEyLjM4NCw5MC43MjYgMTIuMzU0LDkwLjYxNiBDMTIuMzI0LDkwLjUwNiAxMi4zOTcsOTAuMzk5IDEyLjU2OSw5MC4yOTkgTDI0LjA3NCw4My41OTcgQzI0LjMxLDgzLjQ1OSAyNC42ODksODMuMjI2IDI0LjkxOCw4My4wNzggTDI1LjYzMyw4Mi42MTQgQzI1LjcyMyw4Mi41NTUgMjUuODEzLDgyLjUyNSAyNS44OTksODIuNTI1IEMyNi4wNzEsODIuNTI1IDI2LjI0NCw4Mi42NTUgMjYuMjQ0LDgyLjk0NiBDMjYuMjQ0LDgzLjE2IDI2LjI0NSw4My4zMDkgMjYuMjQ3LDgzLjM4MyBMMjYuMjUzLDgzLjM4NyBMMjYuMjQ5LDgzLjQ1NiBDMjYuMjQ2LDgzLjUzMSAyNi4yNDYsODMuNTMxIDI1Ljc2Myw4My44MTIgTDE0LjI1OCw5MC41MTQgQzE0LDkwLjY2NSAxMy41NjQsOTAuNzgyIDEzLjI2Niw5MC43ODIgTDEzLjI2Niw5MC43ODIgWiBNMTIuNjY2LDkwLjUzMiBMMTIuNyw5MC41MzMgTDEzLjI2Niw5MC41MzMgQzEzLjUxOCw5MC41MzMgMTMuOTE1LDkwLjQyNSAxNC4xMzIsOTAuMjk5IEwyNS42MzcsODMuNTk3IEMyNS44MDUsODMuNDk5IDI1LjkzMSw4My40MjQgMjUuOTk4LDgzLjM4MyBDMjUuOTk0LDgzLjI5OSAyNS45OTQsODMuMTY1IDI1Ljk5NCw4Mi45NDYgTDI1Ljg5OSw4Mi43NzUgTDI1Ljc2OCw4Mi44MjQgTDI1LjA1NCw4My4yODcgQzI0LjgyMiw4My40MzcgMjQuNDM4LDgzLjY3MyAyNC4yLDgzLjgxMiBMMTIuNjk1LDkwLjUxNCBMMTIuNjY2LDkwLjUzMiBMMTIuNjY2LDkwLjUzMiBaIiBpZD0iRmlsbC04IiBmaWxsPSIjNjA3RDhCIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEzLjI2Niw4OS44NzEgTDEyLjcsODkuODcxIEMxMi41LDg5Ljg3MSAxMi4zODQsODkuODE1IDEyLjM1NCw4OS43MDUgQzEyLjMyNCw4OS41OTUgMTIuMzk3LDg5LjQ4OCAxMi41NjksODkuMzg4IEwyNC4wNzQsODIuNjg2IEMyNC4zMzIsODIuNTM1IDI0Ljc2OCw4Mi40MTggMjUuMDY3LDgyLjQxOCBMMjUuNjMyLDgyLjQxOCBDMjUuODMyLDgyLjQxOCAyNS45NDgsODIuNDc0IDI1Ljk3OCw4Mi41ODQgQzI2LjAwOCw4Mi42OTQgMjUuOTM1LDgyLjgwMSAyNS43NjMsODIuOTAxIEwxNC4yNTgsODkuNjAzIEMxNCw4OS43NTQgMTMuNTY0LDg5Ljg3MSAxMy4yNjYsODkuODcxIEwxMy4yNjYsODkuODcxIFogTTEyLjY2Niw4OS42MjEgTDEyLjcsODkuNjIyIEwxMy4yNjYsODkuNjIyIEMxMy41MTgsODkuNjIyIDEzLjkxNSw4OS41MTUgMTQuMTMyLDg5LjM4OCBMMjUuNjM3LDgyLjY4NiBMMjUuNjY3LDgyLjY2OCBMMjUuNjMyLDgyLjY2NyBMMjUuMDY3LDgyLjY2NyBDMjQuODE1LDgyLjY2NyAyNC40MTgsODIuNzc1IDI0LjIsODIuOTAxIEwxMi42OTUsODkuNjAzIEwxMi42NjYsODkuNjIxIEwxMi42NjYsODkuNjIxIFoiIGlkPSJGaWxsLTkiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzcsOTAuODAxIEwxMi4zNyw4OS41NTQgTDEyLjM3LDkwLjgwMSIgaWQ9IkZpbGwtMTAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNi4xMyw5My45MDEgQzUuMzc5LDkzLjgwOCA0LjgxNiw5My4xNjQgNC42OTEsOTIuNTI1IEMzLjg2LDg4LjI4NyAzLjU0LDgzLjc0MyAzLjUyNiw3MS4xNzMgQzMuNTExLDU4LjM4OSA0LjQyMyw1MS40MjggNC40MjMsNTEuNDI4IEM1LjEzNCw0Ny4yODIgNy4yMSw0Ni4yMzYgNy4yMSw0Ni4yMzYgQzcuMjEsNDYuMjM2IDgxLjY2NywzLjI1IDgyLjA2OSwzLjAxNyBDODIuMjkyLDIuODg4IDg0LjU1NiwxLjQzMyA4NS4yNjQsMy45NCBDODcuMjE0LDEwLjg0IDg2Ljc1MiwzNS44MjcgODUuNTM5LDQzLjgxOCBDODUuMTUsNDYuMzgzIDg0LjI5MSw0OS4wMzMgODIuNDgzLDUwLjEwMSBMNy4yMSw5My42NTMgQzYuODI4LDkzLjg3NCA2LjQ2MSw5My45NDEgNi4xMyw5My45MDEgQzYuMTMsOTMuOTAxIDMuMzQ5LDkzLjQ2IDMuMTI5LDkxLjc3NiBDMi41NjgsODcuNDk1IDEuOTc3LDgyLjk5NSAxLjk2Miw3MC40MjUgQzEuOTQ4LDU3LjY0MSAyLjg2LDUwLjY4IDIuODYsNTAuNjggQzMuNTcsNDYuNTM0IDUuNjQ3LDQ1LjQ4OSA1LjY0Nyw0NS40ODkgQzUuNjQ2LDQ1LjQ4OSA4LjA2NSw0NC4wOTIgMTIuMjQ1LDQxLjY3OSBMMTMuMTE2LDQxLjU2IEwxOS43MTUsMzcuNzMgTDE5Ljc2MSwzNy4yNjkgTDYuMTMsOTMuOTAxIiBpZD0iRmlsbC0xMSIgZmlsbD0iI0ZBRkFGQSI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjMxNyw5NC4xNjEgTDYuMTAyLDk0LjE0OCBMNi4xMDEsOTQuMTQ4IEw1Ljg1Nyw5NC4xMDEgQzUuMTM4LDkzLjk0NSAzLjA4NSw5My4zNjUgMi44ODEsOTEuODA5IEMyLjMxMyw4Ny40NjkgMS43MjcsODIuOTk2IDEuNzEzLDcwLjQyNSBDMS42OTksNTcuNzcxIDIuNjA0LDUwLjcxOCAyLjYxMyw1MC42NDggQzMuMzM4LDQ2LjQxNyA1LjQ0NSw0NS4zMSA1LjUzNSw0NS4yNjYgTDEyLjE2Myw0MS40MzkgTDEzLjAzMyw0MS4zMiBMMTkuNDc5LDM3LjU3OCBMMTkuNTEzLDM3LjI0NCBDMTkuNTI2LDM3LjEwNyAxOS42NDcsMzcuMDA4IDE5Ljc4NiwzNy4wMjEgQzE5LjkyMiwzNy4wMzQgMjAuMDIzLDM3LjE1NiAyMC4wMDksMzcuMjkzIEwxOS45NSwzNy44ODIgTDEzLjE5OCw0MS44MDEgTDEyLjMyOCw0MS45MTkgTDUuNzcyLDQ1LjcwNCBDNS43NDEsNDUuNzIgMy43ODIsNDYuNzcyIDMuMTA2LDUwLjcyMiBDMy4wOTksNTAuNzgyIDIuMTk4LDU3LjgwOCAyLjIxMiw3MC40MjQgQzIuMjI2LDgyLjk2MyAyLjgwOSw4Ny40MiAzLjM3Myw5MS43MjkgQzMuNDY0LDkyLjQyIDQuMDYyLDkyLjg4MyA0LjY4Miw5My4xODEgQzQuNTY2LDkyLjk4NCA0LjQ4Niw5Mi43NzYgNC40NDYsOTIuNTcyIEMzLjY2NSw4OC41ODggMy4yOTEsODQuMzcgMy4yNzYsNzEuMTczIEMzLjI2Miw1OC41MiA0LjE2Nyw1MS40NjYgNC4xNzYsNTEuMzk2IEM0LjkwMSw0Ny4xNjUgNy4wMDgsNDYuMDU5IDcuMDk4LDQ2LjAxNCBDNy4wOTQsNDYuMDE1IDgxLjU0MiwzLjAzNCA4MS45NDQsMi44MDIgTDgxLjk3MiwyLjc4NSBDODIuODc2LDIuMjQ3IDgzLjY5MiwyLjA5NyA4NC4zMzIsMi4zNTIgQzg0Ljg4NywyLjU3MyA4NS4yODEsMy4wODUgODUuNTA0LDMuODcyIEM4Ny41MTgsMTEgODYuOTY0LDM2LjA5MSA4NS43ODUsNDMuODU1IEM4NS4yNzgsNDcuMTk2IDg0LjIxLDQ5LjM3IDgyLjYxLDUwLjMxNyBMNy4zMzUsOTMuODY5IEM2Ljk5OSw5NC4wNjMgNi42NTgsOTQuMTYxIDYuMzE3LDk0LjE2MSBMNi4zMTcsOTQuMTYxIFogTTYuMTcsOTMuNjU0IEM2LjQ2Myw5My42OSA2Ljc3NCw5My42MTcgNy4wODUsOTMuNDM3IEw4Mi4zNTgsNDkuODg2IEM4NC4xODEsNDguODA4IDg0Ljk2LDQ1Ljk3MSA4NS4yOTIsNDMuNzggQzg2LjQ2NiwzNi4wNDkgODcuMDIzLDExLjA4NSA4NS4wMjQsNC4wMDggQzg0Ljg0NiwzLjM3NyA4NC41NTEsMi45NzYgODQuMTQ4LDIuODE2IEM4My42NjQsMi42MjMgODIuOTgyLDIuNzY0IDgyLjIyNywzLjIxMyBMODIuMTkzLDMuMjM0IEM4MS43OTEsMy40NjYgNy4zMzUsNDYuNDUyIDcuMzM1LDQ2LjQ1MiBDNy4zMDQsNDYuNDY5IDUuMzQ2LDQ3LjUyMSA0LjY2OSw1MS40NzEgQzQuNjYyLDUxLjUzIDMuNzYxLDU4LjU1NiAzLjc3NSw3MS4xNzMgQzMuNzksODQuMzI4IDQuMTYxLDg4LjUyNCA0LjkzNiw5Mi40NzYgQzUuMDI2LDkyLjkzNyA1LjQxMiw5My40NTkgNS45NzMsOTMuNjE1IEM2LjA4Nyw5My42NCA2LjE1OCw5My42NTIgNi4xNjksOTMuNjU0IEw2LjE3LDkzLjY1NCBMNi4xNyw5My42NTQgWiIgaWQ9IkZpbGwtMTIiIGZpbGw9IiM0NTVBNjQiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4zMTcsNjguOTgyIEM3LjgwNiw2OC43MDEgOC4yMDIsNjguOTI2IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNi44MjksNzEuMjk0IDYuNDMzLDcxLjA2OSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIiBpZD0iRmlsbC0xMyIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjkyLDcxLjEzMyBDNi42MzEsNzEuMTMzIDYuNDMzLDcwLjkwNSA2LjQzMyw3MC41MDggQzYuNDMzLDY5Ljk0OCA2LjgyOSw2OS4yNjUgNy4zMTcsNjguOTgyIEM3LjQ2LDY4LjkgNy41OTUsNjguODYxIDcuNzE0LDY4Ljg2MSBDOC4wMDMsNjguODYxIDguMjAyLDY5LjA5IDguMjAyLDY5LjQ4NyBDOC4yMDIsNzAuMDQ3IDcuODA2LDcwLjczIDcuMzE3LDcxLjAxMiBDNy4xNzQsNzEuMDk0IDcuMDM5LDcxLjEzMyA2LjkyLDcxLjEzMyBNNy43MTQsNjguNjc0IEM3LjU1Nyw2OC42NzQgNy4zOTIsNjguNzIzIDcuMjI0LDY4LjgyMSBDNi42NzYsNjkuMTM4IDYuMjQ2LDY5Ljg3OSA2LjI0Niw3MC41MDggQzYuMjQ2LDcwLjk5NCA2LjUxNyw3MS4zMiA2LjkyLDcxLjMyIEM3LjA3OCw3MS4zMiA3LjI0Myw3MS4yNzEgNy40MTEsNzEuMTc0IEM3Ljk1OSw3MC44NTcgOC4zODksNzAuMTE3IDguMzg5LDY5LjQ4NyBDOC4zODksNjkuMDAxIDguMTE3LDY4LjY3NCA3LjcxNCw2OC42NzQiIGlkPSJGaWxsLTE0IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYuOTIsNzAuOTQ3IEM2LjY0OSw3MC45NDcgNi42MjEsNzAuNjQgNi42MjEsNzAuNTA4IEM2LjYyMSw3MC4wMTcgNi45ODIsNjkuMzkyIDcuNDExLDY5LjE0NSBDNy41MjEsNjkuMDgyIDcuNjI1LDY5LjA0OSA3LjcxNCw2OS4wNDkgQzcuOTg2LDY5LjA0OSA4LjAxNSw2OS4zNTUgOC4wMTUsNjkuNDg3IEM4LjAxNSw2OS45NzggNy42NTIsNzAuNjAzIDcuMjI0LDcwLjg1MSBDNy4xMTUsNzAuOTE0IDcuMDEsNzAuOTQ3IDYuOTIsNzAuOTQ3IE03LjcxNCw2OC44NjEgQzcuNTk1LDY4Ljg2MSA3LjQ2LDY4LjkgNy4zMTcsNjguOTgyIEM2LjgyOSw2OS4yNjUgNi40MzMsNjkuOTQ4IDYuNDMzLDcwLjUwOCBDNi40MzMsNzAuOTA1IDYuNjMxLDcxLjEzMyA2LjkyLDcxLjEzMyBDNy4wMzksNzEuMTMzIDcuMTc0LDcxLjA5NCA3LjMxNyw3MS4wMTIgQzcuODA2LDcwLjczIDguMjAyLDcwLjA0NyA4LjIwMiw2OS40ODcgQzguMjAyLDY5LjA5IDguMDAzLDY4Ljg2MSA3LjcxNCw2OC44NjEiIGlkPSJGaWxsLTE1IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuNDQ0LDg1LjM1IEM3LjcwOCw4NS4xOTggNy45MjEsODUuMzE5IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuOTI1IDcuNzA4LDg2LjI5MiA3LjQ0NCw4Ni40NDQgQzcuMTgxLDg2LjU5NyA2Ljk2Nyw4Ni40NzUgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IiBpZD0iRmlsbC0xNiIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LjIzLDg2LjUxIEM3LjA3NCw4Ni41MSA2Ljk2Nyw4Ni4zODcgNi45NjcsODYuMTczIEM2Ljk2Nyw4NS44NzEgNy4xODEsODUuNTAyIDcuNDQ0LDg1LjM1IEM3LjUyMSw4NS4zMDUgNy41OTQsODUuMjg0IDcuNjU4LDg1LjI4NCBDNy44MTQsODUuMjg0IDcuOTIxLDg1LjQwOCA3LjkyMSw4NS42MjIgQzcuOTIxLDg1LjkyNSA3LjcwOCw4Ni4yOTIgNy40NDQsODYuNDQ0IEM3LjM2Nyw4Ni40ODkgNy4yOTQsODYuNTEgNy4yMyw4Ni41MSBNNy42NTgsODUuMDk4IEM3LjU1OCw4NS4wOTggNy40NTUsODUuMTI3IDcuMzUxLDg1LjE4OCBDNy4wMzEsODUuMzczIDYuNzgxLDg1LjgwNiA2Ljc4MSw4Ni4xNzMgQzYuNzgxLDg2LjQ4MiA2Ljk2Niw4Ni42OTcgNy4yMyw4Ni42OTcgQzcuMzMsODYuNjk3IDcuNDMzLDg2LjY2NiA3LjUzOCw4Ni42MDcgQzcuODU4LDg2LjQyMiA4LjEwOCw4NS45ODkgOC4xMDgsODUuNjIyIEM4LjEwOCw4NS4zMTMgNy45MjMsODUuMDk4IDcuNjU4LDg1LjA5OCIgaWQ9IkZpbGwtMTciIGZpbGw9IiM4MDk3QTIiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNy4yMyw4Ni4zMjIgTDcuMTU0LDg2LjE3MyBDNy4xNTQsODUuOTM4IDcuMzMzLDg1LjYyOSA3LjUzOCw4NS41MTIgTDcuNjU4LDg1LjQ3MSBMNy43MzQsODUuNjIyIEM3LjczNCw4NS44NTYgNy41NTUsODYuMTY0IDcuMzUxLDg2LjI4MiBMNy4yMyw4Ni4zMjIgTTcuNjU4LDg1LjI4NCBDNy41OTQsODUuMjg0IDcuNTIxLDg1LjMwNSA3LjQ0NCw4NS4zNSBDNy4xODEsODUuNTAyIDYuOTY3LDg1Ljg3MSA2Ljk2Nyw4Ni4xNzMgQzYuOTY3LDg2LjM4NyA3LjA3NCw4Ni41MSA3LjIzLDg2LjUxIEM3LjI5NCw4Ni41MSA3LjM2Nyw4Ni40ODkgNy40NDQsODYuNDQ0IEM3LjcwOCw4Ni4yOTIgNy45MjEsODUuOTI1IDcuOTIxLDg1LjYyMiBDNy45MjEsODUuNDA4IDcuODE0LDg1LjI4NCA3LjY1OCw4NS4yODQiIGlkPSJGaWxsLTE4IiBmaWxsPSIjODA5N0EyIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTc3LjI3OCw3Ljc2OSBMNzcuMjc4LDUxLjQzNiBMMTAuMjA4LDkwLjE2IEwxMC4yMDgsNDYuNDkzIEw3Ny4yNzgsNy43NjkiIGlkPSJGaWxsLTE5IiBmaWxsPSIjNDU1QTY0Ij48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjA4Myw5MC4zNzUgTDEwLjA4Myw0Ni40MjEgTDEwLjE0Niw0Ni4zODUgTDc3LjQwMyw3LjU1NCBMNzcuNDAzLDUxLjUwOCBMNzcuMzQxLDUxLjU0NCBMMTAuMDgzLDkwLjM3NSBMMTAuMDgzLDkwLjM3NSBaIE0xMC4zMzMsNDYuNTY0IEwxMC4zMzMsODkuOTQ0IEw3Ny4xNTQsNTEuMzY1IEw3Ny4xNTQsNy45ODUgTDEwLjMzMyw0Ni41NjQgTDEwLjMzMyw0Ni41NjQgWiIgaWQ9IkZpbGwtMjAiIGZpbGw9IiM2MDdEOEIiPjwvcGF0aD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xMjUuNzM3LDg4LjY0NyBMMTE4LjA5OCw5MS45ODEgTDExOC4wOTgsODQgTDEwNi42MzksODguNzEzIEwxMDYuNjM5LDk2Ljk4MiBMOTksMTAwLjMxNSBMMTEyLjM2OSwxMDMuOTYxIEwxMjUuNzM3LDg4LjY0NyIgaWQ9IkltcG9ydGVkLUxheWVycy1Db3B5LTIiIGZpbGw9IiM0NTVBNjQiIHNrZXRjaDp0eXBlPSJNU1NoYXBlR3JvdXAiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+")};var pe="CardboardV1",ve="WEBVR_CARDBOARD_VIEWER";p.prototype.show=function(e){this.root=e,e.appendChild(this.dialog),this.dialog.querySelector("#"+this.selectedKey).checked=!0,this.dialog.style.display="block"},p.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},p.prototype.getCurrentViewer=function(){return o.Viewers[this.selectedKey]},p.prototype.getSelectedKey_=function(){var e=this.dialog.querySelector("input[name=field]:checked");return e?e.id:null},p.prototype.onChange=function(e){this.onChangeCallbacks_.push(e)},p.prototype.fireOnChange_=function(e){for(var t=0;t<this.onChangeCallbacks_.length;t++)this.onChangeCallbacks_[t](e)},p.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),this.selectedKey&&o.Viewers[this.selectedKey]){this.fireOnChange_(o.Viewers[this.selectedKey]);try{localStorage.setItem(ve,this.selectedKey)}catch(e){}this.hide()}},p.prototype.createDialog_=function(e){var t=document.createElement("div");t.classList.add("webvr-polyfill-viewer-selector"),t.style.display="none";var n=document.createElement("div"),r=n.style;r.position="fixed",r.left=0,r.top=0,r.width="100%",r.height="100%",r.background="rgba(0, 0, 0, 0.3)",n.addEventListener("click",this.hide.bind(this));var a=document.createElement("div"),r=a.style;r.boxSizing="border-box",r.position="fixed",r.top="24px",r.left="50%",r.marginLeft="-140px",r.width="280px",r.padding="24px",r.overflow="hidden",r.background="#fafafa",r.fontFamily="'Roboto', sans-serif",r.boxShadow="0px 5px 20px #666",a.appendChild(this.createH1_("Select your viewer"));for(var i in e)a.appendChild(this.createChoice_(i,e[i].label));return a.appendChild(this.createButton_("Save",this.onSave_.bind(this))),t.appendChild(n),t.appendChild(a),t},p.prototype.createH1_=function(e){var t=document.createElement("h1"),n=t.style;return n.color="black",n.fontSize="20px",n.fontWeight="bold",n.marginTop=0,n.marginBottom="24px",t.innerHTML=e,t},p.prototype.createChoice_=function(e,t){var n=document.createElement("div");n.style.marginTop="8px",n.style.color="black";var r=document.createElement("input");r.style.fontSize="30px",r.setAttribute("id",e),r.setAttribute("type","radio"),r.setAttribute("value",e),r.setAttribute("name","field");var a=document.createElement("label");return a.style.marginLeft="4px",a.setAttribute("for",e),a.innerHTML=t,n.appendChild(r),n.appendChild(a),n},p.prototype.createButton_=function(e,t){var n=document.createElement("button");n.innerHTML=e;var r=n.style;return r.float="right",r.textTransform="uppercase",r.color="#1094f7",r.fontSize="14px",r.letterSpacing=0,r.border=0,r.background="none",r.marginTop="16px",n.addEventListener("click",t),n};var he=("undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self,function(e,t){return t={exports:{}},function(e,t){!function(t,n){e.exports=function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o="undefined"!=typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,s=function(){function e(){r(this,e),o?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",i),this.noSleepVideo.addEventListener("timeupdate",function(e){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}.bind(this)))}return a(e,[{key:"enable",value:function(){o?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){o?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),e}();e.exports=s},function(e,t,n){e.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])}()}()}(t,t.exports),t.exports}()),ye=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(he),Ae=1e3,Se=[0,0,.5,1],Te=[.5,0,.5,1],Me=window.requestAnimationFrame,be=window.cancelAnimationFrame;y.prototype.getFrameData=function(e){return W(e,this._getPose(),this)},y.prototype.getPose=function(){return H("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},y.prototype.resetPose=function(){return H("VRDisplay.prototype.resetPose"),this._resetPose()},y.prototype.getImmediatePose=function(){return H("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},y.prototype.requestAnimationFrame=function(e){return Me(e)},y.prototype.cancelAnimationFrame=function(e){return be(e)},y.prototype.wrapForFullscreen=function(e){if(I())return e;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var t=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",t.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==e)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=e,this.originalParent_=e.parentElement,this.originalParent_||document.body.appendChild(e),!this.fullscreenWrapper_.parentElement){var n=this.fullscreenElement_.parentElement;n.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),n.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var r=this;return function(){if(r.fullscreenElement_){var e=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];r.fullscreenElement_.setAttribute("style",e.join("; ")+";")}}(),this.fullscreenWrapper_},y.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var e=this.fullscreenElement_;this.fullscreenElementCachedStyle_?e.setAttribute("style",this.fullscreenElementCachedStyle_):e.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var t=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(e),this.originalParent_===t?t.insertBefore(e,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(e),t.removeChild(this.fullscreenWrapper_),e}},y.prototype.requestPresent=function(e){var t=this.isPresenting,n=this;return e instanceof Array||(H("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),e=[e]),new Promise(function(r,a){if(!n.capabilities.canPresent)return void a(new Error("VRDisplay is not capable of presenting."));if(0==e.length||e.length>n.capabilities.maxLayers)return void a(new Error("Invalid number of layers."));var i=e[0];if(!i.source)return void r();var o=i.leftBounds||Se,s=i.rightBounds||Te;if(t){var u=n.layer_;u.source!==i.source&&(u.source=i.source);for(var l=0;l<4;l++)u.leftBounds[l]=o[l],u.rightBounds[l]=s[l];return n.wrapForFullscreen(n.layer_.source),n.updatePresent_(),void r()}if(n.layer_={predistorted:i.predistorted,source:i.source,leftBounds:o.slice(0),rightBounds:s.slice(0)},n.waitingForPresent_=!1,n.layer_&&n.layer_.source){var c=n.wrapForFullscreen(n.layer_.source),d=function(){var e=B();n.isPresenting=c===e,n.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(e){}),n.waitingForPresent_=!1,n.beginPresent_(),r()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),n.removeFullscreenWrapper(),n.disableWakeLock(),n.endPresent_(),n.removeFullscreenListeners_()),n.fireVRDisplayPresentChange_()},f=function(){n.waitingForPresent_&&(n.removeFullscreenWrapper(),n.removeFullscreenListeners_(),n.disableWakeLock(),n.waitingForPresent_=!1,n.isPresenting=!1,a(new Error("Unable to present.")))};n.addFullscreenListeners_(c,d,f),R(c)?(n.enableWakeLock(),n.waitingForPresent_=!0):(I()||w())&&(n.enableWakeLock(),n.isPresenting=!0,n.beginPresent_(),n.fireVRDisplayPresentChange_(),r())}n.waitingForPresent_||I()||(k(),a(new Error("Unable to present.")))})},y.prototype.exitPresent=function(){var e=this.isPresenting,t=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(n,r){e?(!k()&&I()&&(t.endPresent_(),t.fireVRDisplayPresentChange_()),w()&&(t.removeFullscreenWrapper(),t.removeFullscreenListeners_(),t.endPresent_(),t.fireVRDisplayPresentChange_()),n()):r(new Error("Was not presenting to VRDisplay."))})},y.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},y.prototype.fireVRDisplayPresentChange_=function(){var e=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(e)},y.prototype.fireVRDisplayConnect_=function(){var e=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(e)},y.prototype.addFullscreenListeners_=function(e,t,n){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=e,this.fullscreenChangeHandler_=t,this.fullscreenErrorHandler_=n,t&&(document.fullscreenEnabled?e.addEventListener("fullscreenchange",t,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenchange",t,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",t,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenchange",t,!1)),n&&(document.fullscreenEnabled?e.addEventListener("fullscreenerror",n,!1):document.webkitFullscreenEnabled?e.addEventListener("webkitfullscreenerror",n,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",n,!1):document.msFullscreenEnabled&&e.addEventListener("msfullscreenerror",n,!1))},y.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var e=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var t=this.fullscreenChangeHandler_;e.removeEventListener("fullscreenchange",t,!1),e.removeEventListener("webkitfullscreenchange",t,!1),document.removeEventListener("mozfullscreenchange",t,!1),e.removeEventListener("msfullscreenchange",t,!1)}if(this.fullscreenErrorHandler_){var n=this.fullscreenErrorHandler_;e.removeEventListener("fullscreenerror",n,!1),e.removeEventListener("webkitfullscreenerror",n,!1),document.removeEventListener("mozfullscreenerror",n,!1),e.removeEventListener("msfullscreenerror",n,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},y.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},y.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},y.prototype.beginPresent_=function(){},y.prototype.endPresent_=function(){},y.prototype.submitFrame=function(e){},y.prototype.getEyeParameters=function(e){return null};var De={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},Ie={LEFT:"left",RIGHT:"right"};return A.prototype=Object.create(y.prototype),A.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},A.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},A.prototype._getFieldOfView=function(e){var t;if(e==Ie.LEFT)t=this.deviceInfo_.getFieldOfViewLeftEye();else{if(e!=Ie.RIGHT)return null;t=this.deviceInfo_.getFieldOfViewRightEye()}return t},A.prototype._getEyeOffset=function(e){var t;if(e==Ie.LEFT)t=[.5*-this.deviceInfo_.viewer.interLensDistance,0,0];else{if(e!=Ie.RIGHT)return null;t=[.5*this.deviceInfo_.viewer.interLensDistance,0,0]}return t},A.prototype.getEyeParameters=function(e){var t=this._getEyeOffset(e),n=this._getFieldOfView(e),r={offset:t,renderWidth:.5*this.deviceInfo_.device.width*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(r,"fieldOfView",{enumerable:!0,get:function(){return H("VRFieldOfView","VRFrameData's projection matrices"),n}}),r},A.prototype.onDeviceParamsUpdated_=function(e){this.config.DEBUG,this.deviceInfo_.updateDeviceParams(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},A.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},A.prototype.beginPresent_=function(){var e=this.layer_.source.getContext("webgl");e||(e=this.layer_.source.getContext("experimental-webgl")),e||(e=this.layer_.source.getContext("webgl2")),e&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(e.canvas.width=L()*this.bufferScale_,e.canvas.height=_()*this.bufferScale_,this.cardboardUI_=new r(e)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new r(e)),this.distorter_=new n(e,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen(function(e){this.viewerSelector_.show(this.layer_.source.parentElement),e.stopPropagation(),e.preventDefault()}.bind(this),function(e){this.exitPresent(),e.stopPropagation(),e.preventDefault()}.bind(this)),this.rotateInstructions_&&(E()&&U()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},A.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},A.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},A.prototype.submitFrame=function(e){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var t=this.layer_.source.getContext("webgl").canvas;t.width==this.lastWidth&&t.height==this.lastHeight||this.cardboardUI_.onResize(),this.lastWidth=t.width,this.lastHeight=t.height,this.cardboardUI_.render()}},A.prototype.onOrientationChange_=function(e){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},A.prototype.onResize_=function(e){if(this.layer_){var t=this.layer_.source.getContext("webgl"),n=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];t.canvas.setAttribute("style",n.join("; ")+";"),G(t.canvas)}},A.prototype.onViewerChanged_=function(e){this.deviceInfo_.setViewer(e),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},A.prototype.fireVRDisplayDeviceParamsChange_=function(){var e=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(e)},A.VRFrameData=v,A.VRDisplay=y,A}()}()}(t,t.exports),t.exports}(),u=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(s),l={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,GET_VR_DISPLAYS_TIMEOUT:1e3,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};e.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(a()){var e=new u({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(e)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},e.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var e=this.native.VRFrameData,t=new this.native.VRFrameData,n=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(r){if(r instanceof e)return void n.call(this,r);n.call(this,t),r.pose=t.pose,i(t.leftProjectionMatrix,r.leftProjectionMatrix),i(t.rightProjectionMatrix,r.rightProjectionMatrix),i(t.leftViewMatrix,r.leftViewMatrix),i(t.rightViewMatrix,r.rightViewMatrix)}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=u.VRDisplay,window.VRFrameData=u.VRFrameData},e.prototype.getVRDisplays=function(){var e=this,t=this.config;if(!this.hasNative)return Promise.resolve(this.getPolyfillDisplays());var r,a=this.native.getVRDisplays.call(navigator),i=new Promise(function(e){r=setTimeout(function(){e([])},t.GET_VR_DISPLAYS_TIMEOUT)});return n([a,i]).then(function(t){return clearTimeout(r),t.length>0?t:e.getPolyfillDisplays()})},e.version="0.10.8",e.VRFrameData=u.VRFrameData,e.VRDisplay=u.VRDisplay;var c=Object.freeze({default:e}),d=c&&e||c;return void 0!==t&&t.window&&(t.document||(t.document=t.window.document),t.navigator||(t.navigator=t.window.navigator)),d})}).call(t,n(14))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return function(){return M("vtkRenderer::"+e+" - NOT IMPLEMENTED")}}function o(e,t){for(t.classHierarchy.push("vtkRenderer"),t.background||(t.background=[0,0,0,1]);t.background.length<3;)t.background.push(0);3===t.background.length&&t.background.push(1);var n={type:"ComputeVisiblePropBoundsEvent",renderer:e},r={type:"ResetCameraClippingRangeEvent",renderer:e},a={type:"ResetCameraEvent",renderer:e};e.updateCamera=function(){return t.activeCamera||(T("No cameras are on, creating one."),e.getActiveCameraAndResetIfCreated()),t.activeCamera.render(e),!0},e.updateLightsGeometryToFollowCamera=function(){var n=e.getActiveCameraAndResetIfCreated();t.lights.forEach(function(e){e.lightTypeIsSceneLight()||e.lightTypeIsCameraLight()||(e.lightTypeIsHeadLight()?(e.setPositionFrom(n.getPositionByReference()),e.setFocalPointFrom(n.getFocalPointByReference()),e.modified(n.getMTime())):M("light has unknown light type",e.get()))})},e.updateLightGeometry=function(){return!t.lightFollowCamera||e.updateLightsGeometryToFollowCamera()},e.allocateTime=i("allocateTime"),e.updateGeometry=i("updateGeometry"),e.getVTKWindow=function(){return t.renderWindow},e.setLayer=function(n){T(e.getClassName(),e,"setting Layer to ",n),t.layer!==n&&(t.layer=n,e.modified()),e.setPreserveColorBuffer(!!n)},e.setActiveCamera=function(n){return t.activeCamera!==n&&(t.activeCamera=n,e.modified(),e.invokeEvent({type:"ActiveCameraEvent",camera:n}),!0)},e.makeCamera=function(){var t=f.default.newInstance();return e.invokeEvent({type:"CreateCameraEvent",camera:t}),t},e.getActiveCamera=function(){return t.activeCamera||(t.activeCamera=e.makeCamera()),t.activeCamera},e.getActiveCameraAndResetIfCreated=function(){return t.activeCamera||(e.getActiveCamera(),e.resetCamera()),t.activeCamera},e.getActors=function(){return t.actors=[],t.props.forEach(function(e){t.actors=t.actors.concat(e.getActors())}),t.actors},e.addActor=e.addViewProp,e.removeActor=function(n){t.actors=t.actors.filter(function(e){return e!==n}),e.removeViewProp(n),e.modified()},e.removeAllActors=function(){t.actors.forEach(function(t){e.removeViewProp(t)}),e.modified()},e.getVolumes=function(){return t.volumes=[],t.props.forEach(function(e){t.volumes=t.volumes.concat(e.getVolumes())}),t.volumes},e.addVolume=e.addViewProp,e.removeVolume=function(n){t.volumes=t.volumes.filter(function(e){return e!==n}),e.removeViewProp(n),e.modified()},e.removeAllVolumes=function(){t.volumes.forEach(function(t){e.removeViewProp(t)}),e.modified()},e.addLight=function(n){t.lights=[].concat(t.lights,n),e.modified()},e.removeLight=function(n){t.lights=t.lights.filter(function(e){return e!==n}),e.modified()},e.removeAllLights=function(){t.lights=[],e.modified()},e.setLightCollection=function(n){t.lights=n,e.modified()},e.makeLight=g.default.newInstance,e.createLight=function(){t.automaticLightCreation&&(t.createdLight&&(e.removeLight(t.createdLight),t.createdLight.delete(),t.createdLight=null),t.createdLight=e.makeLight(),e.addLight(t.createdLight),t.createdLight.setLightTypeToHeadLight(),t.createdLight.setPosition(e.getActiveCamera().getPosition()),t.createdLight.setFocalPoint(e.getActiveCamera().getFocalPoint()))},e.normalizedDisplayToWorld=function(t,n,r,a){var i=e.normalizedDisplayToView(t,n,r);return e.viewToWorld(i[0],i[1],i[2],a)},e.worldToNormalizedDisplay=function(t,n,r,a){var i=e.worldToView(t,n,r);return e.viewToNormalizedDisplay(i[0],i[1],i[2],a)},e.viewToWorld=function(e,n,r,a){if(null===t.activeCamera)return M("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var i=t.activeCamera.getCompositeProjectionMatrix(a,-1,1);u.mat4.invert(i,i),u.mat4.transpose(i,i);var o=u.vec3.fromValues(e,n,r);return u.vec3.transformMat4(o,o,i),[o[0],o[1],o[2]]},e.worldToView=function(e,n,r,a){if(null===t.activeCamera)return M("ViewToWorld: no active camera, cannot compute view to world, returning 0,0,0"),[0,0,0];var i=t.activeCamera.getCompositeProjectionMatrix(a,-1,1);u.mat4.transpose(i,i);var o=u.vec3.fromValues(e,n,r);return u.vec3.transformMat4(o,o,i),[o[0],o[1],o[2]]},e.computeVisiblePropBounds=function(){t.allBounds[0]=S.default.INIT_BOUNDS[0],t.allBounds[1]=S.default.INIT_BOUNDS[1],t.allBounds[2]=S.default.INIT_BOUNDS[2],t.allBounds[3]=S.default.INIT_BOUNDS[3],t.allBounds[4]=S.default.INIT_BOUNDS[4],t.allBounds[5]=S.default.INIT_BOUNDS[5];var r=!0;e.invokeEvent(n);for(var a=0;a<t.props.length;++a){var i=t.props[a];if(i.getVisibility()&&i.getUseBounds()){var o=i.getBounds();o&&v.areBoundsInitialized(o)&&(r=!1,o[0]<t.allBounds[0]&&(t.allBounds[0]=o[0]),o[1]>t.allBounds[1]&&(t.allBounds[1]=o[1]),o[2]<t.allBounds[2]&&(t.allBounds[2]=o[2]),o[3]>t.allBounds[3]&&(t.allBounds[3]=o[3]),o[4]<t.allBounds[4]&&(t.allBounds[4]=o[4]),o[5]>t.allBounds[5]&&(t.allBounds[5]=o[5]))}}return r&&(v.uninitializeBounds(t.allBounds),T("Can't compute bounds, no 3D props are visible")),t.allBounds},e.showStandardView=function(t){var n=String(t).toLowerCase();if(-1===D.indexOf(n))return M("Unknown mode "+t),!1;var r=e.getActiveCamera();if(!r)return M("Trying to reset non-existant camera"),!1;switch(n){case"left":r.setPosition(0,0,0),r.setFocalPoint(-1,0,0),r.setViewUp(0,0,1);break;case"right":r.setPosition(0,0,0),r.setFocalPoint(1,0,0),r.setViewUp(0,0,1);break;case"anterior":r.setPosition(0,0,0),r.setFocalPoint(0,1,0),r.setViewUp(0,0,1);break;case"posterior":r.setPosition(0,0,0),r.setFocalPoint(0,-1,0),r.setViewUp(0,0,1);break;case"superior":r.setPosition(0,0,0),r.setFocalPoint(0,0,-1),r.setViewUp(0,-1,0);break;default:r.setPosition(0,0,0),r.setFocalPoint(0,0,1),r.setViewUp(0,-1,0)}return e.resetCamera(),!0},e.resetCamera=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=n||e.computeVisiblePropBounds(),i=[0,0,0];if(!v.areBoundsInitialized(r))return T("Cannot reset camera!"),!1;var o=null;if(!e.getActiveCamera())return M("Trying to reset non-existant camera"),!1;o=t.activeCamera.getViewPlaneNormal(),t.activeCamera.setViewAngle(30),i[0]=(r[0]+r[1])/2,i[1]=(r[2]+r[3])/2,i[2]=(r[4]+r[5])/2;var s=r[1]-r[0],u=r[3]-r[2],l=r[5]-r[4];s*=s,u*=u,l*=l;var c=s+u+l;c=0===c?1:c,c=.5*Math.sqrt(c);var d=v.radiansFromDegrees(t.activeCamera.getViewAngle()),f=c,m=c/Math.sin(.5*d),g=e.getRenderWindow().getInteractor();g&&g.getInteractorStyle()&&g.getInteractorStyle().setCenterOfRotation(i[0],i[1],i[2]);var p=t.activeCamera.getViewUp();return Math.abs(v.dot(p,o))>.999&&(b("Resetting view-up since view plane normal is parallel"),t.activeCamera.setViewUp(-p[2],p[0],p[1])),t.activeCamera.setFocalPoint(i[0],i[1],i[2]),t.activeCamera.setPosition(i[0]+m*o[0],i[1]+m*o[1],i[2]+m*o[2]),e.resetCameraClippingRange(r),t.activeCamera.setParallelScale(f),t.activeCamera.setPhysicalScale(c),t.activeCamera.setPhysicalTranslation(-i[0],-i[1],-i[2]),e.invokeEvent(a),!0},e.resetCameraClippingRange=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=n||e.computeVisiblePropBounds();if(!v.areBoundsInitialized(a))return T("Cannot reset camera clipping range!"),!1;if(e.getActiveCameraAndResetIfCreated(),!t.activeCamera)return M("Trying to reset clipping range of non-existant camera"),!1;var i=t.activeCamera.computeClippingRange(a),o=0;if(t.activeCamera.getParallelProjection())o=.1*t.activeCamera.getParallelScale();else{var s=v.radiansFromDegrees(t.activeCamera.getViewAngle());o=.2*Math.tan(s/2)*i[1]}return i[1]-i[0]<o&&(o=o-i[1]+i[0],i[1]+=o/2,i[0]-=o/2),i[0]<0&&(i[0]=0),i[0]=.99*i[0]-(i[1]-i[0])*t.clippingRangeExpansion,i[1]=1.01*i[1]+(i[1]-i[0])*t.clippingRangeExpansion,i[0]=i[0]>=i[1]?.01*i[1]:i[0],t.nearClippingPlaneTolerance||(t.nearClippingPlaneTolerance=.01),i[0]<t.nearClippingPlaneTolerance*i[1]&&(i[0]=t.nearClippingPlaneTolerance*i[1]),t.activeCamera.setClippingRange(i[0],i[1]),e.invokeEvent(r),!1},e.setRenderWindow=function(e){e!==t.renderWindow&&(t.vtkWindow=e,t.renderWindow=e)},e.visibleActorCount=function(){return t.props.filter(function(e){return e.getVisibility()}).length},e.visibleVolumeCount=e.visibleActorCount,e.getMTime=function(){var e=t.mtime,n=t.activeCamera?t.activeCamera.getMTime():0;n>e&&(e=n);var r=t.createdLight?t.createdLight.getMTime():0;return r>e&&(e=r),e},e.getTransparent=function(){return!!t.preserveColorBuffer},e.isActiveCameraCreated=function(){return!!t.activeCamera}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,I,n),y.default.extend(e,t,n),c.get(e,t,["renderWindow","allocatedRenderTime","timeFactor","lastRenderTimeInSeconds","numberOfPropsRendered","lastRenderingUsedDepthPeeling","selector"]),c.setGet(e,t,["twoSidedLighting","lightFollowCamera","automaticLightCreation","erase","draw","nearClippingPlaneTolerance","clippingRangeExpansion","backingStore","interactive","layer","preserveColorBuffer","preserveDepthBuffer","useDepthPeeling","occlusionRatio","maximumNumberOfPeels","delegate","backgroundTexture","texturedBackground","useShadows","pass"]),c.getArray(e,t,["actors","volumes","lights"]),c.setGetArray(e,t,["background"],4,1),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=s;var u=n(3),l=n(0),c=a(l),d=n(416),f=r(d),m=n(417),g=r(m),p=n(1),v=a(p),h=n(418),y=r(h),A=n(35),S=r(A),T=c.vtkDebugMacro,M=c.vtkErrorMacro,b=c.vtkWarningMacro,D=["left","right","anterior","posterior","superior","inferior"],I={pickedProp:null,activeCamera:null,allBounds:[],ambient:[1,1,1],allocatedRenderTime:100,timeFactor:1,createdLight:null,automaticLightCreation:!0,twoSidedLighting:!0,lastRenderTimeInSeconds:-1,renderWindow:null,lights:[],actors:[],volumes:[],lightFollowCamera:!0,numberOfPropsRendered:0,propArray:null,pathArray:null,layer:0,preserveColorBuffer:!1,preserveDepthBuffer:!1,computeVisiblePropBounds:v.createUninitializedBounds(),interactive:!0,nearClippingPlaneTolerance:0,clippingRangeExpansion:.05,erase:!0,draw:!0,useShadows:!1,useDepthPeeling:!0,occlusionRatio:0,maximumNumberOfPeels:4,selector:null,delegate:null,texturedBackground:!1,backgroundTexture:null,pass:0},w=t.newInstance=c.newInstance(s,"vtkRenderer");t.default={newInstance:w,extend:s}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){function n(){t.viewPlaneNormal[0]=-t.directionOfProjection[0],t.viewPlaneNormal[1]=-t.directionOfProjection[1],t.viewPlaneNormal[2]=-t.directionOfProjection[2]}t.classHierarchy.push("vtkCamera");var a=o.vec3.create(),i=o.vec3.fromValues(0,0,-1),s=o.vec3.fromValues(0,1,0),u=o.mat4.create(),l=o.vec3.create(),f=o.vec3.create(),m=o.vec3.create(),g=o.mat4.create(),p=o.mat4.create(),v=o.vec3.create(),h=o.vec3.create();e.orthogonalizeViewUp=function(){var n=e.getViewMatrix();t.viewUp[0]=n[4],t.viewUp[1]=n[5],t.viewUp[2]=n[6],e.modified()},e.setPosition=function(n,r,a){n===t.position[0]&&r===t.position[1]&&a===t.position[2]||(t.position[0]=n,t.position[1]=r,t.position[2]=a,e.computeDistance(),e.modified())},e.setFocalPoint=function(n,r,a){n===t.focalPoint[0]&&r===t.focalPoint[1]&&a===t.focalPoint[2]||(t.focalPoint[0]=n,t.focalPoint[1]=r,t.focalPoint[2]=a,e.computeDistance(),e.modified())},e.setDistance=function(n){if(t.distance!==n){t.distance=n,t.distance<1e-20&&(t.distance=1e-20,d("Distance is set to minimum."));var r=t.directionOfProjection;t.focalPoint[0]=t.position[0]+r[0]*t.distance,t.focalPoint[1]=t.position[1]+r[1]*t.distance,t.focalPoint[2]=t.position[2]+r[2]*t.distance,e.modified()}},e.computeDistance=function(){var e=t.focalPoint[0]-t.position[0],r=t.focalPoint[1]-t.position[1],a=t.focalPoint[2]-t.position[2];if(t.distance=Math.sqrt(e*e+r*r+a*a),t.distance<1e-20){t.distance=1e-20,d("Distance is set to minimum.");var i=t.directionOfProjection;t.focalPoint[0]=t.position[0]+i[0]*t.distance,t.focalPoint[1]=t.position[1]+i[1]*t.distance,t.focalPoint[2]=t.position[2]+i[2]*t.distance}t.directionOfProjection[0]=e/t.distance,t.directionOfProjection[1]=r/t.distance,t.directionOfProjection[2]=a/t.distance,n()},e.dolly=function(n){if(!(n<=0)){var r=t.distance/n;e.setPosition(t.focalPoint[0]-r*t.directionOfProjection[0],t.focalPoint[1]-r*t.directionOfProjection[1],t.focalPoint[2]-r*t.directionOfProjection[2])}},e.roll=function(n){var r=t.position,a=t.focalPoint,i=t.viewUp,s=o.vec4.fromValues(i[0],i[1],i[2],0);o.mat4.identity(g);var u=o.vec3.fromValues(a[0]-r[0],a[1]-r[1],a[2]-r[2]);o.mat4.rotate(g,g,c.radiansFromDegrees(n),u),o.vec4.transformMat4(s,s,g),t.viewUp[0]=s[0],t.viewUp[1]=s[1],t.viewUp[2]=s[2],e.modified()},e.azimuth=function(n){var r=t.focalPoint;o.mat4.identity(p),o.mat4.translate(p,p,o.vec3.fromValues(r[0],r[1],r[2])),o.mat4.rotate(p,p,c.radiansFromDegrees(n),o.vec3.fromValues(t.viewUp[0],t.viewUp[1],t.viewUp[2])),o.mat4.translate(p,p,o.vec3.fromValues(-r[0],-r[1],-r[2])),o.vec3.transformMat4(v,o.vec3.fromValues(t.position[0],t.position[1],t.position[2]),p),e.setPosition(v[0],v[1],v[2])},e.yaw=function(n){var r=t.position;o.mat4.identity(p),o.mat4.translate(p,p,o.vec3.fromValues(r[0],r[1],r[2])),o.mat4.rotate(p,p,c.radiansFromDegrees(n),o.vec3.fromValues(t.viewUp[0],t.viewUp[1],t.viewUp[2])),o.mat4.translate(p,p,o.vec3.fromValues(-r[0],-r[1],-r[2])),o.vec3.transformMat4(h,o.vec3.fromValues(t.focalPoint[0],t.focalPoint[1],t.focalPoint[2]),p),e.setFocalPoint(h[0],h[1],h[2])},e.elevation=function(n){var r=t.focalPoint,a=e.getViewMatrix(),i=[-a[0],-a[1],-a[2]];o.mat4.identity(p),o.mat4.translate(p,p,o.vec3.fromValues(r[0],r[1],r[2])),o.mat4.rotate(p,p,c.radiansFromDegrees(n),o.vec3.fromValues(i[0],i[1],i[2])),o.mat4.translate(p,p,o.vec3.fromValues(-r[0],-r[1],-r[2])),o.vec3.transformMat4(v,o.vec3.fromValues(t.position[0],t.position[1],t.position[2]),p),e.setPosition(v[0],v[1],v[2])},e.pitch=function(n){var a=t.position,i=e.getViewMatrix(),s=[i[0],i[1],i[2]];o.mat4.identity(p),o.mat4.translate(p,p,o.vec3.fromValues(a[0],a[1],a[2])),o.mat4.rotate(p,p,c.radiansFromDegrees(n),o.vec3.fromValues(s[0],s[1],s[2])),o.mat4.translate(p,p,o.vec3.fromValues(-a[0],-a[1],-a[2])),o.vec3.transformMat4(h,o.vec3.fromValues.apply(o.vec3,r(t.focalPoint)),p),e.setFocalPoint.apply(e,r(h))},e.zoom=function(n){n<=0||(t.parallelProjection?t.parallelScale/=n:t.viewAngle/=n,e.modified())},e.applyTransform=function(n){var a=[].concat(r(t.viewUp),[1]),i=[],s=[],u=[];a[0]+=t.position[0],a[1]+=t.position[1],a[2]+=t.position[2],o.vec4.transformMat4(i,[].concat(r(t.position),[1]),n),o.vec4.transformMat4(s,[].concat(r(t.focalPoint),[1]),n),o.vec4.transformMat4(u,a,n),u[0]-=i[0],u[1]-=i[1],u[2]-=i[2],e.setPosition.apply(e,r(i.slice(0,3))),e.setFocalPoint.apply(e,r(s.slice(0,3))),e.setViewUp.apply(e,r(u.slice(0,3)))},e.setRoll=function(e){},e.getRoll=function(){},e.setThickness=function(e){},e.setObliqueAngles=function(e,t){},e.getOrientation=function(){},e.getOrientationWXYZ=function(){},e.getFrustumPlanes=function(e){},e.getCameraLightTransformMatrix=function(){},e.deepCopy=function(e){},e.physicalOrientationToWorldDirection=function(e){var t=o.quat.fromValues(e[0],e[1],e[2],e[3]),n=o.quat.create(),r=o.quat.fromValues(0,0,1,0);return o.quat.conjugate(n,t),o.quat.multiply(r,t,r),o.quat.multiply(r,r,n),[r[0],r[1],r[2]]},e.getPhysicalToWorldMatrix=function(t){e.getWorldToPhysicalMatrix(t),o.mat4.invert(t,t)},e.getWorldToPhysicalMatrix=function(e){o.mat4.identity(e);var n=[3];c.cross(t.physicalViewNorth,t.physicalViewUp,n),e[0]=n[0],e[1]=n[1],e[2]=n[2],e[4]=t.physicalViewUp[0],e[5]=t.physicalViewUp[1],e[6]=t.physicalViewUp[2],e[8]=-t.physicalViewNorth[0],e[9]=-t.physicalViewNorth[1],e[10]=-t.physicalViewNorth[2],o.mat4.transpose(e,e),o.vec3.set(l,1/t.physicalScale,1/t.physicalScale,1/t.physicalScale),o.mat4.scale(e,e,l),o.mat4.translate(e,e,t.physicalTranslation)},e.computeViewParametersFromViewMatrix=function(n){o.mat4.invert(u,n),o.vec3.transformMat4(l,a,u),e.computeDistance();var r=t.distance;e.setPosition(l[0],l[1],l[2]),o.vec3.transformMat4(f,i,u),o.vec3.subtract(f,f,l),o.vec3.normalize(f,f),e.setDirectionOfProjection(f[0],f[1],f[2]),o.vec3.transformMat4(m,s,u),o.vec3.subtract(m,m,l),o.vec3.normalize(m,m),e.setViewUp(m[0],m[1],m[2]),e.setDistance(r)},e.computeViewParametersFromPhysicalMatrix=function(t){e.getWorldToPhysicalMatrix(u),o.mat4.multiply(u,t,u),e.computeViewParametersFromViewMatrix(u)},e.setViewMatrix=function(n){t.viewMatrix=n,t.viewMatrix&&(o.mat4.copy(u,t.viewMatrix),e.computeViewParametersFromViewMatrix(u),o.mat4.transpose(t.viewMatrix,t.viewMatrix))},e.getViewMatrix=function(){if(t.viewMatrix)return t.viewMatrix;var e=o.mat4.create();return o.mat4.lookAt(u,o.vec3.fromValues.apply(o.vec3,r(t.position)),o.vec3.fromValues.apply(o.vec3,r(t.focalPoint)),o.vec3.fromValues.apply(o.vec3,r(t.viewUp))),o.mat4.transpose(u,u),o.mat4.copy(e,u),e},e.setProjectionMatrix=function(e){t.projectionMatrix=e},e.getProjectionMatrix=function(e,n,r){var a=o.mat4.create();if(t.projectionMatrix){var i=1/t.physicalScale;return o.vec3.set(l,i,i,i),o.mat4.copy(a,t.projectionMatrix),o.mat4.scale(a,a,l),o.mat4.transpose(a,a),a}o.mat4.identity(u);var s=t.clippingRange[1]-t.clippingRange[0],d=[t.clippingRange[0]+(n+1)*s/2,t.clippingRange[0]+(r+1)*s/2];if(t.parallelProjection){var f=t.parallelScale*e,m=t.parallelScale,g=(t.windowCenter[0]-1)*f,p=(t.windowCenter[0]+1)*f,v=(t.windowCenter[1]-1)*m,h=(t.windowCenter[1]+1)*m;o.mat4.ortho(u,g,p,v,h,d[0],d[1]),o.mat4.transpose(u,u)}else{if(t.useOffAxisProjection)throw new Error("Off-Axis projection is not supported at this time");var y=Math.tan(c.radiansFromDegrees(t.viewAngle)/2),A=void 0,S=void 0;!0===t.useHorizontalViewAngle?(A=t.clippingRange[0]*y,S=t.clippingRange[0]*y/e):(A=t.clippingRange[0]*y*e,S=t.clippingRange[0]*y);var T=(t.windowCenter[0]-1)*A,M=(t.windowCenter[0]+1)*A,b=(t.windowCenter[1]-1)*S,D=(t.windowCenter[1]+1)*S,I=d[0],w=d[1];u[0]=2*I/(M-T),u[5]=2*I/(D-b),u[2]=(T+M)/(M-T),u[6]=(b+D)/(D-b),u[10]=-(I+w)/(w-I),u[14]=-1,u[11]=-2*I*w/(w-I),u[15]=0}return o.mat4.copy(a,u),a},e.getCompositeProjectionMatrix=function(t,n,r){var a=e.getViewMatrix(),i=e.getProjectionMatrix(t,n,r),s=o.mat4.create();return o.mat4.multiply(s,a,i),s},e.setDirectionOfProjection=function(e,r,a){if(t.directionOfProjection[0]!==e||t.directionOfProjection[1]!==r||t.directionOfProjection[2]!==a){t.directionOfProjection[0]=e,t.directionOfProjection[1]=r,t.directionOfProjection[2]=a;var i=t.directionOfProjection;t.focalPoint[0]=t.position[0]+i[0]*t.distance,t.focalPoint[1]=t.position[1]+i[1]*t.distance,t.focalPoint[2]=t.position[2]+i[2]*t.distance,n()}},e.setDeviceAngles=function(n,r,a,i){var s=[3];c.cross(t.physicalViewNorth,t.physicalViewUp,s);var u=o.mat4.create();o.mat4.rotate(u,u,c.radiansFromDegrees(n),t.physicalViewUp),o.mat4.rotate(u,u,c.radiansFromDegrees(r),s),o.mat4.rotate(u,u,c.radiansFromDegrees(a),t.physicalViewNorth),o.mat4.rotate(u,u,c.radiansFromDegrees(-i),t.physicalViewUp);var l=o.vec3.fromValues(-t.physicalViewUp[0],-t.physicalViewUp[1],-t.physicalViewUp[2]),d=o.vec3.fromValues(t.physicalViewNorth[0],t.physicalViewNorth[1],t.physicalViewNorth[2]);o.vec3.transformMat4(l,l,u),o.vec3.transformMat4(d,d,u),e.setDirectionOfProjection(l[0],l[1],l[2]),e.setViewUp(d[0],d[1],d[2]),e.modified()},e.setOrientationWXYZ=function(t,n,a,i){var s=o.mat4.create();if(0!==t&&(0!==n||0!==a||0!==i)){var u=c.radiansFromDegrees(t),l=o.quat.create();o.quat.setAxisAngle(l,[n,a,i],u),o.quat.toMat4(l,s)}var d=o.vec3.fromValues(0,0,-1),f=o.vec3.create();o.vec3.transformMat4(f,d,s);var m=o.vec3.fromValues(0,1,0),g=o.vec3.create();o.vec3.transformMat4(g,m,s),e.setDirectionOfProjection.apply(e,r(f)),e.setViewUp.apply(e,r(g)),e.modified()},e.computeClippingRange=function(e){var n=null,r=null;n=t.viewPlaneNormal,r=t.position;for(var a=-n[0],i=-n[1],o=-n[2],s=-(a*r[0]+i*r[1]+o*r[2]),u=[a*e[0]+i*e[2]+o*e[4]+s,1e-18],l=0;l<2;l++)for(var c=0;c<2;c++)for(var d=0;d<2;d++){var f=a*e[d]+i*e[2+c]+o*e[4+l]+s;u[0]=f<u[0]?f:u[0],u[1]=f>u[1]?f:u[1]}return u}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),u.default.obj(e,t),u.default.get(e,t,["distance","thickness"]),u.default.setGet(e,t,["parallelProjection","useHorizontalViewAngle","viewAngle","parallelScale","useOffAxisProjection","freezeFocalPoint","physicalScale"]),u.default.getArray(e,t,["directionOfProjection","viewPlaneNormal","position","focalPoint"]),u.default.setGetArray(e,t,["clippingRange","windowCenter"],2),u.default.setGetArray(e,t,["viewUp","screenBottomLeft","screenBottomRight","screenTopRight","physicalTranslation","physicalViewUp","physicalViewNorth"],3),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.DEFAULT_VALUES=void 0,t.extend=i;var o=n(3),s=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(1),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),d=u.default.vtkDebugMacro,f=t.DEFAULT_VALUES={position:[0,0,1],focalPoint:[0,0,0],viewUp:[0,1,0],directionOfProjection:[0,0,-1],parallelProjection:!1,useHorizontalViewAngle:!1,viewAngle:30,parallelScale:1,clippingRange:[.01,1000.01],thickness:1e3,windowCenter:[0,0],viewPlaneNormal:[0,0,1],useOffAxisProjection:!1,screenBottomLeft:[-.5,-.5,-.5],screenBottomRight:[.5,-.5,-.5],screenTopRight:[.5,.5,-.5],freezeFocalPoint:!1,projectionMatrix:null,viewMatrix:null,physicalTranslation:[0,0,0],physicalScale:1,physicalViewUp:[0,1,0],physicalViewNorth:[0,0,-1]},m=t.newInstance=u.default.newInstance(i,"vtkCamera");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkLight"),e.getTransformedPosition=function(){return t.transformMatrix?[]:[].concat(t.position)},e.getTransformedFocalPoint=function(){return t.transformMatrix?[]:[].concat(t.focalPoint)},e.getDirection=function(){return t.directionMTime<t.mtime&&(t.direction[0]=t.focalPoint[0]-t.position[0],t.direction[1]=t.focalPoint[1]-t.position[1],t.direction[2]=t.focalPoint[2]-t.position[2],l.default.normalize(t.direction),t.directionMTime=t.mtime),t.direction},e.setDirectionAngle=function(t,n){var r=l.default.radiansFromDegrees(t),a=l.default.radiansFromDegrees(n);e.setPosition(Math.cos(r)*Math.sin(a),Math.sin(r),Math.cos(r)*Math.cos(a)),e.setFocalPoint(0,0,0),e.setPositional(0)},e.setLightTypeToHeadLight=function(){e.setLightType("HeadLight")},e.setLightTypeToCameraLight=function(){e.setLightType("CameraLight")},e.setLightTypeToSceneLight=function(){e.setTransformMatrix(null),e.setLightType("SceneLight")},e.lightTypeIsHeadLight=function(){return"HeadLight"===t.lightType},e.lightTypeIsSceneLight=function(){return"SceneLight"===t.lightType},e.lightTypeIsCameraLight=function(){return"CameraLight"===t.lightType}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),s.default.obj(e,t),s.default.setGet(e,t,["intensity","switch","positional","exponent","coneAngle","transformMatrix","lightType","shadowAttenuation"]),s.default.setGetArray(e,t,["color","position","focalPoint","attenuationValues"],3),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.LIGHT_TYPES=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=r(u),c=t.LIGHT_TYPES=["HeadLight","CameraLight","SceneLight"],d={switch:!0,intensity:1,color:[1,1,1],position:[0,0,1],focalPoint:[0,0,0],positional:!1,exponent:1,coneAngle:30,attenuationValues:[1,0,0],transformMatrix:null,lightType:"SceneLight",shadowAttenuation:1,direction:[0,0,0],directionMTime:0},f=t.newInstance=s.default.newInstance(i,"vtkLight");t.default={newInstance:f,extend:i,LIGHT_TYPES:c}},function(e,t,n){"use strict";function r(e){return function(){return u("vtkViewport::"+e+" - NOT IMPLEMENTED")}}function a(e,t){t.classHierarchy.push("vtkViewport"),e.getViewProps=function(){return t.props},e.hasViewProp=function(e){return!!t.props.filter(function(t){return t===e}).length},e.addViewProp=function(n){n&&!e.hasViewProp(n)&&(t.props=t.props.concat(n))},e.removeViewProp=function(e){var n=t.props.filter(function(t){return t!==e});t.props.length!==n.length&&(t.props=n)},e.removeAllViewProps=function(){t.props=[]},e.getViewPropsWithNestedProps=function(){t.allprops=t.props;for(var e=0;e<t.props.length;++e){var n=t.props[e];n.getNestedProps()&&(t.allprops=t.allprops.concat(n.getNestedProps()))}return t.allprops},e.addActor2D=e.addViewProp,e.removeActor2D=function(t){e.removeViewProp(t)},e.getActors2D=function(){return t.actors2D=[],t.props.forEach(function(e){var n=e.getActors2D();n&&(t.actors2D=t.actors2D.concat(n))}),t.actors2D},e.displayToView=function(){return u("call displayToView on your view instead")},e.viewToDisplay=function(){return u("callviewtodisplay on your view instead")},e.getSize=function(){return u("call getSize on your View instead")},e.normalizedDisplayToView=function(t,n,r){var a=e.normalizedDisplayToNormalizedViewport(t,n,r);return e.normalizedViewportToView(a[0],a[1],a[2])},e.normalizedDisplayToNormalizedViewport=function(e,n,r){var a=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[(e-t.viewport[0])/a[0],(n-t.viewport[1])/a[1],r]},e.normalizedViewportToView=function(e,t,n){return[2*e-1,2*t-1,2*n-1]},e.viewToNormalizedDisplay=function(t,n,r){var a=e.viewToNormalizedViewport(t,n,r);return e.normalizedViewportToNormalizedDisplay(a[0],a[1],a[2])},e.normalizedViewportToNormalizedDisplay=function(e,n,r){var a=[t.viewport[2]-t.viewport[0],t.viewport[3]-t.viewport[1]];return[e*a[0]+t.viewport[0],n*a[1]+t.viewport[1],r]},e.viewToNormalizedViewport=function(e,t,n){return[.5*(e+1),.5*(t+1),.5*(n+1)]},e.pickPropFrom=r("PickPropFrom")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),s.default.obj(e,t),s.default.event(e,t,"event"),s.default.setGetArray(e,t,["viewport"],4),s.default.setGetArray(e,t,["background","background2"],3),s.default.setGet(e,t,["gradientBackground"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=s.default.vtkErrorMacro,l={vtkWindow:null,background:[0,0,0],background2:[.2,.2,.2],gradientBackground:!1,viewport:[0,0,1,1],aspect:[1,1],pixelAspect:[1,1],props:[],actors2D:[]},c=t.newInstance=s.default.newInstance(i,"vtkViewport");t.default={newInstance:c,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkRenderWindow"),e.addRenderer=function(n){e.hasRenderer(n)||(n.setRenderWindow(e),t.renderers.push(n),e.modified())},e.removeRenderer=function(n){t.renderers=t.renderers.filter(function(e){return e!==n}),e.modified()},e.hasRenderer=function(e){return-1!==t.renderers.indexOf(e)},e.addView=function(n){e.hasView(n)||(n.setRenderable(e),t.views.push(n),e.modified())},e.removeView=function(n){t.views=t.views.filter(function(e){return e!==n}),e.modified()},e.hasView=function(e){return-1!==t.views.indexOf(e)},e.render=function(){t.interactor?t.interactor.render():t.views.forEach(function(e){return e.traverseAllPasses()})},e.getStatistics=function(){var e={propCount:0,invisiblePropCount:0};return t.renderers.forEach(function(t){t.getViewProps().forEach(function(t){if(t.getVisibility()){e.propCount+=1;var n=t.getMapper&&t.getMapper();if(n&&n.getPrimitiveCount){var r=n.getPrimitiveCount();Object.keys(r).forEach(function(t){e[t]||(e[t]=0),e[t]+=r[t]})}}else e.invisiblePropCount+=1})}),e.str=Object.keys(e).map(function(t){return t+": "+e[t]}).join("\n"),e},e.captureImages=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png";return s.default.setImmediate(e.render),t.views.map(function(e){return e.captureNextImage?e.captureNextImage(n):void 0}).filter(function(e){return!!e})},e.initCurveSurface=function(){t.curveSurfaceActor=l.default.newInstance();var e=m.default.newInstance();t.curveSurfaceActor.setMapper(e),t.curveSurface=p.default.newInstance();var n=d.default.newInstance();t.curveSurface.setInputData(n)},e.getCurveSurfaceActor=function(){return t.curveSurface||e.initCurveSurface(),t.curveSurfaceActor},e.getCurveSurface=function(){return t.curveSurface||e.initCurveSurface(),t.curveSurface}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,v,n),s.default.obj(e,t),s.default.setGet(e,t,["interactor","numberOfLayers","views","vtkPVView"]),s.default.get(e,t,["neverRendered","curveSurfaceActor","curveSurface"]),s.default.getArray(e,t,["renderers","widgets"]),s.default.event(e,t,"completion"),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.DEFAULT_VALUES=void 0,t.extend=i;var o=n(0),s=r(o),u=n(24),l=r(u),c=n(4),d=r(c),f=n(20),m=r(f),g=n(420),p=r(g),v=t.DEFAULT_VALUES={renderers:[],views:[],interactor:null,neverRendered:!0,numberOfLayers:1,widgets:[],vtkPVView:null,curveSurfaceActor:null,curveSurface:null},h=t.newInstance=s.default.newInstance(i,"vtkRenderWindow");t.default={newInstance:h,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yVtkPolyCurveSurface"),e.getInput=function(t){return t<0||t>=2?(y("Index "+t+" is out of range in GetInput. Only two inputs allowed!"),null):e.getInputData(t)},e.getCtrlPoints=function(){return t.ctrlPoints},e.setCtrlPoints=function(e){t.ctrlPoints.deepCopy(e)},e.setLineNum=function(e){t.nLineNum=e},e.requestData=function(e,n){A("Beginning execution...");var r=d.default.newInstance(),a=t.ctrlPoints.getNumberOfPoints();if(0===a||0===t.nLineNum)return 1;for(var i=Math.floor(a/t.nLineNum),o=0;o<t.nLineNum;o++){var s=l.default.newInstance();s.setNumberOfPoints(i);for(var u=[],c=0;c<i;c++)t.ctrlPoints.getPoint(i*o+c,u),s.setPoint(c,u[0],u[1],u[2]);var f=m.default.newInstance();f.setPoints(s);var g=p.default.newInstance();g.setParametricFunction(f),g.setUResolution(10),g.update(),0===o?r.setInputData(g.getOutputData()):r.addInputData(g.getOutputData())}r.update();var v=h.default.newInstance();return v.setInputData(r.getOutputData()),v.setResolution(10,10),v.setRuledModeToResample(),v.update(),n[0]=v.getOutputData(),1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,S,n),s.default.obj(e,t),t.ctrlPoints=l.default.newInstance(),s.default.algo(e,t,1,1),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(6),l=r(u),c=n(421),d=r(c),f=n(422),m=r(f),g=n(426),p=r(g),v=n(429),h=r(v),y=s.default.vtkErrorMacro,A=s.default.vtkDebugMacro,S={ctrlPoints:null,nLineNum:0},T=t.newInstance=s.default.newInstance(i,"yVtkPolyCurveSurface");t.default=Object.assign({newInstance:T,extend:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=0;return e.map(function(e,r){return r===n?(n+=e+1,e):e+t})}function i(e,t,n,r){e.set(a(t,n),r)}function o(e,t){t.classHierarchy.push("vtkAppendPolyData"),e.requestData=function(n,r){var a=e.getNumberOfInputPorts();if(!a)return void y("No input specified.");if(1===a)return void(r[0]=n[0]);for(var o=p.default.newInstance(),s=0,u=0,l=1,c=1,f=0,g=0,A=0,S=0,T=!0,M=!0,b=!0,D=0;D<a;D++){var I=n[D];if(!I)return void y("Invalid or missing input");var w=I.getPoints().getNumberOfPoints();s+=w,f+=I.getVerts().getNumberOfValues(),g+=I.getLines().getNumberOfValues(),A+=I.getStrips().getNumberOfValues(),S+=I.getPolys().getNumberOfValues(),w&&(c&&(c=0,u=I.getPoints().getDataType()),l=I.getPoints().getDataType(),u=u>l?u:l);var C=I.getPointData();C?(T=T&&null!==C.getNormals(),M=M&&null!==C.getTCoords(),b=b&&null!==C.getScalars()):(T=!1,M=!1,b=!1)}t.outputPointsPrecision===v.DesiredOutputPrecision.SINGLE?u=h.VtkDataTypes.FLOAT:t.outputPointsPrecision===v.DesiredOutputPrecision.DOUBLE&&(u=h.VtkDataTypes.DOUBLE);var N=m.default.newInstance({dataType:u});N.setNumberOfPoints(s);var P=N.getData(),x=new Uint32Array(f),E=new Uint32Array(g),O=new Uint32Array(A),L=new Uint32Array(S),_=null,R=null,k=null,B=n[a-1];if(T){var V=B.getPointData().getNormals();_=d.default.newInstance({numberOfComponents:3,numberOfTuples:s,size:3*s,dataType:V.getDataType(),name:V.getName()})}if(M){var F=B.getPointData().getTCoords();R=d.default.newInstance({numberOfComponents:2,numberOfTuples:s,size:2*s,dataType:F.getDataType(),name:F.getName()})}if(b){var j=B.getPointData().getScalars();k=d.default.newInstance({numberOfComponents:j.getNumberOfComponents(),numberOfTuples:s,size:s*j.getNumberOfComponents(),dataType:j.getDataType(),name:j.getName()})}s=0,f=0,g=0,A=0,S=0;for(var U=0;U<a;U++){var z=n[U];P.set(z.getPoints().getData(),3*s),i(x,z.getVerts().getData(),s,f),f+=z.getVerts().getNumberOfValues(),i(E,z.getLines().getData(),s,g),g+=z.getLines().getNumberOfValues(),i(O,z.getStrips().getData(),s,A),A+=z.getStrips().getNumberOfValues(),i(L,z.getPolys().getData(),s,S),S+=z.getPolys().getNumberOfValues();var G=z.getPointData();if(T){var W=G.getNormals();_.getData().set(W.getData(),3*s)}if(M){var Q=G.getTCoords();R.getData().set(Q.getData(),2*s)}if(b){var Y=G.getScalars();k.getData().set(Y.getData(),s*k.getNumberOfComponents())}s+=z.getPoints().getNumberOfPoints()}o.setPoints(N),o.getVerts().setData(x),o.getLines().setData(E),o.getStrips().setData(O),o.getPolys().setData(L),_&&o.getPointData().setNormals(_),R&&o.getPointData().setTCoords(R),k&&o.getPointData().setScalars(k),r[0]=o}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),l.default.setGet(e,t,["outputPointsPrecision"]),l.default.obj(e,t),l.default.algo(e,t,1,1),o(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=s;var u=n(0),l=r(u),c=n(2),d=r(c),f=n(6),m=r(f),g=n(4),p=r(g),v=n(40),h=n(5),y=l.default.vtkErrorMacro,A={outputPointsPrecision:v.DesiredOutputPrecision.DEFAULT},S=t.newInstance=l.default.newInstance(s,"vtkAppendPolyData");t.default=Object.assign({newInstance:S,extend:s})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkParametricSpline"),e.setLeftConstraint=function(n){return t.leftConstraint!==n&&(t.leftConstraint=l.default.clampValue(n,0,3),e.modified(),!0)},e.setRightConstraint=function(n){return t.rightConstraint!==n&&(t.rightConstraint=l.default.clampValue(n,0,3),e.modified(),!0)},e.getDimension=function(){return 1},e.evaluate=function(n,r,a){if(!(t.initializeTime<e.getMTime())||e.initialize()){var i=n[0];if(i<0?i=0:i>1&&(i=1),t.closed?i*=t.closedLength:i*=t.length,0===t.length&&t.points&&t.points.getNumberOfPoints()>0)return void t.points.getPoint(0,r);r[0]=t.xSpline.evaluate(i),r[1]=t.ySpline.evaluate(i),r[2]=t.zSpline.evaluate(i)}},e.evaluateScalar=function(n,r,a){return t.initializeTime<e.getMTime()&&!e.initialize()?0:n[0]},e.setNumberOfPoints=function(n){if(!t.points){var r=p.default.newInstance();e.setPoints(r)}t.points.setNumberOfPoints(n),e.modified()},e.setPoint=function(n,r,a,i){t.points&&(t.points.setPoint(n,r,a,i),e.modified())},e.initialize=function(){if(!t.xSpline||!t.ySpline||!t.zSpline)return v("Please specify splines"),0;if(!t.points)return v("Please specify points"),0;t.xSpline.setClosed(e.getClosed()),t.xSpline.setLeftConstraint(e.getLeftConstraint()),t.xSpline.setRightConstraint(e.getRightConstraint()),t.xSpline.setLeftValue(e.getLeftValue()),t.xSpline.setRightValue(e.getRightValue()),t.ySpline.setClosed(e.getClosed()),t.ySpline.setLeftConstraint(e.getLeftConstraint()),t.ySpline.setRightConstraint(e.getRightConstraint()),t.ySpline.setLeftValue(e.getLeftValue()),t.ySpline.setRightValue(e.getRightValue()),t.zSpline.setClosed(e.getClosed()),t.zSpline.setLeftConstraint(e.getLeftConstraint()),t.zSpline.setRightConstraint(e.getRightConstraint()),t.zSpline.setLeftValue(e.getLeftValue()),t.zSpline.setRightValue(e.getRightValue());var n=[0,0,0],r=[0,0,0],a=t.points.getNumberOfPoints();if(a<1)return v("Please specify at least one point."),0;if(a<2)return t.length=0,t.closedLength=0,1;if(t.parameterizeByLength){t.points.getPoint(0,n),t.length=0;for(var i=1;i<a;++i){t.points.getPoint(i,r);var o=Math.sqrt(l.default.distance2BetweenPoints(r,n));t.length+=o,n[0]=r[0],n[1]=r[1],n[2]=r[2]}if(t.length<=0)return t.closedLength=0,1;t.closed&&(t.points.getPoint(0,r),t.closedLength=t.length+Math.sqrt(l.default.distance2BetweenPoints(r,n)))}else t.length=a-1,t.closed&&(t.closedLength=a);if(t.xSpline.removeAllPoints(),t.ySpline.removeAllPoints(),t.zSpline.removeAllPoints(),t.closed?(t.xSpline.setParametricRange(0,t.closedLength),t.ySpline.setParametricRange(0,t.closedLength),t.zSpline.setParametricRange(0,t.closedLength)):(t.xSpline.setParametricRange(0,t.length),t.ySpline.setParametricRange(0,t.length),t.zSpline.setParametricRange(0,t.length)),t.parameterizeByLength){t.points.getPoint(0,n);for(var s=0,u=0;u<a;++u)t.points.getPoint(u,r),s+=Math.sqrt(l.default.distance2BetweenPoints(r,n)),t.xSpline.addPoint(s,r[0]),t.ySpline.addPoint(s,r[1]),t.zSpline.addPoint(s,r[2]),n[0]=r[0],n[1]=r[1],n[2]=r[2]}else for(var c=0;c<a;++c)t.points.getPoint(c,r),t.xSpline.addPoint(c,r[0]),t.ySpline.addPoint(c,r[1]),t.zSpline.addPoint(c,r[2]);return t.initializeTime=e.getMTime(),1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,h,n),d.default.extend(e,t,n),s.default.setGet(e,t,["xSpline","ySpline","zSpline","points","closed","parameterizeByLength","leftConstraint","rightConstraint","leftValue","rightValue"]),t.minimumU=0,t.maximumU=1,t.joinU=0,t.xSpline=m.default.newInstance(),t.ySpline=m.default.newInstance(),t.zSpline=m.default.newInstance(),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=r(u),c=n(423),d=r(c),f=n(424),m=r(f),g=n(6),p=r(g),v=s.default.vtkErrorMacro,h={points:null,xSpline:null,ySpline:null,zSpline:null,closed:0,leftConstraint:1,rightConstraint:1,leftValue:0,rightValue:0,parameterizeByLength:1,initializeTime:0,length:0,closedLength:0},y=t.newInstance=s.default.newInstance(i,"vtkParametricSpline");t.default=Object.assign({newInstance:y,extend:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkParametricFunction"),e.getDimension=function(){c("Pure Virtual Method Called.")},e.evaluate=function(e,t,n){c("Pure Virtual Method Called.")},e.evaluateScalar=function(e,t,n){c("Pure Virtual Method Called.")},e.setJoinU=function(n){return t.joinU!==n&&(t.joinU=l.default.clampValue(n,0,1),e.modified(),!0)},e.setJoinV=function(n){return t.joinV!==n&&(t.joinV=l.default.clampValue(n,0,1),e.modified(),!0)},e.setJoinW=function(n){return t.joinW!==n&&(t.joinW=l.default.clampValue(n,0,1),e.modified(),!0)},e.setTwistU=function(n){return t.twistU!==n&&(t.twistU=l.default.clampValue(n,0,1),e.modified(),!0)},e.setTwistV=function(n){return t.twistV!==n&&(t.twistV=l.default.clampValue(n,0,1),e.modified(),!0)},e.setTwistW=function(n){return t.twistW!==n&&(t.twistW=l.default.clampValue(n,0,1),e.modified(),!0)},e.setClockwiseOrdering=function(n){return t.clockwiseOrdering!==n&&(t.clockwiseOrdering=l.default.clampValue(n,0,1),e.modified(),!0)},e.setDerivativesAvailable=function(n){return t.derivativesAvailable!==n&&(t.derivativesAvailable=l.default.clampValue(n,0,1),e.modified(),!0)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),s.default.obj(e,t),s.default.setGet(e,t,["minimumU","maximumU","minimumV","maximumV","minimumW","maximumW","joinU","joinV","joinW","twistU","twistV","twistW","clockwiseOrdering","derivativesAvailable"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=r(u),c=s.default.vtkErrorMacro,d={minimumU:0,maximumU:1,minimumV:0,maximumV:1,minimumW:0,maximumW:1,joinU:0,joinV:0,joinW:0,twistU:0,twistV:0,twistW:0,clockwiseOrdering:1,derivativesAvailable:1},f=t.newInstance=s.default.newInstance(i,"vtkParametricFunction");t.default=Object.assign({newInstance:f,extend:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkCardinalSpline"),e.compute=function(){var n=t.piecewiseFunction.getSize();if(n<2)return void c("Cannot compute a spline with less than 2 points. # of points is: "+n);if(t.intervals=null,t.closed){n+=1,t.intervals=Array(n);for(var r=t.piecewiseFunction.getDataPointer(),a=0;a<n-1;a++)t.intervals[a]=r[2*a];t.parametricRange[0]!==t.parametricRange[1]?t.intervals[n-1]=t.parametricRange[1]:t.intervals[n-1]=t.intervals[n-2]+1;var i=Array(n);t.coefficients=Array(n);for(var o=0;o<n;o++)t.coefficients[o]=Array(4);for(var s=Array(n),u=t.coefficients,l=0;l<n-1;l++)s[l]=r[2*l+1];s[n-1]=r[1],e.fitClosed1D(n,t.intervals,s,i,u)}else{t.intervals=Array(n);for(var d=t.piecewiseFunction.getDataPointer(),f=0;f<n;f++)t.intervals[f]=d[2*f];var m=Array(n);t.coefficients=Array(n);for(var g=0;g<n;g++)t.coefficients[g]=Array(4);for(var p=Array(n),v=t.coefficients,h=0;h<n;h++)p[h]=d[2*h+1];e.fit1D(n,t.intervals,p,m,v,t.leftConstraint,t.leftValue,t.rightConstraint,t.rightValue)}t.computeTime=e.getMTime()},e.evaluate=function(n){t.computeTime<e.getMTime()&&e.compute();var r=t.piecewiseFunction.getSize();if(r<2)return 0;var a=t.intervals,i=t.coefficients;t.closed&&(r+=1);var o=n;o<a[0]&&(o=a[0]),o>a[r-1]&&(o=a[r-1]);var s=e.findIndex(r,o);return(o-=a[s])*(o*(o*i[s][3]+i[s][2])+i[s][1])+i[s][0]},e.fit1D=function(t,n,r,a,i,o,s,u,l){switch(o){case 0:i[0][1]=1,i[0][2]=0,a[0]=e.computeLeftDerivative();break;case 1:i[0][1]=1,i[0][2]=0,a[0]=s;break;case 2:i[0][1]=2,i[0][2]=1,a[0]=(r[1]-r[0])/(n[1]-n[0])*3-.5*(n[1]-n[0])*s;break;case 3:i[0][1]=2,i[0][2]=(.5+s)/(2+s)*4,a[0]=(1+s)/(2+s)*6*((r[1]-r[0])/(n[1]-n[0]));break;default:c("check: impossible case.")}for(var d=void 0,f=void 0,m=1;m<t-1;m++)d=n[m]-n[m-1],f=n[m+1]-n[m],i[m][0]=f,i[m][1]=2*(f+d),i[m][2]=d,a[m]=3*(f*(r[m]-r[m-1])/d+d*(r[m+1]-r[m])/f);switch(u){case 0:i[t-1][0]=0,i[t-1][1]=1,a[t-1]=e.computeRightDerivative();break;case 1:i[t-1][0]=0,i[t-1][1]=1,a[t-1]=l;break;case 2:i[t-1][0]=1,i[t-1][1]=2,a[t-1]=(r[t-1]-r[t-2])/(n[t-1]-n[t-2])*3+.5*(n[t-1]-n[t-2])*l;break;case 3:i[t-1][0]=(.5+l)/(2+l)*4,i[t-1][1]=2,a[t-1]=(1+l)/(2+l)*6*((r[t-1]-r[t-2])/(n[t-1]-n[t-2]));break;default:c("check: impossible case.")}i[0][2]/=i[0][1],a[0]/=i[0][1],i[t-1][2]=0;for(var g=1;g<t;g++)i[g][1]-=i[g][0]*i[g-1][2],i[g][2]/=i[g][1],a[g]=(a[g]-i[g][0]*a[g-1])/i[g][1];for(var p=t-2;p>=0;p--)a[p]-=i[p][2]*a[p+1];for(var v=0,h=0;h<t-1;h++)v=n[h+1]-n[h],i[h][0]=r[h],i[h][1]=a[h],i[h][2]=3*(r[h+1]-r[h])/(v*v)-(a[h+1]+2*a[h])/v,i[h][3]=2*(r[h]-r[h+1])/(v*v*v)+(a[h+1]+a[h])/(v*v);i[t-1][0]=r[t-1],i[t-1][1]=a[t-1],i[t-1][2]=i[t-2][2]+3*i[t-2][3]*v,i[t-1][3]=i[t-2][3]},e.fitClosed1D=function(e,t,n,r,a){for(var i=e-1,o=void 0,s=void 0,u=1;u<i;u++)o=t[u]-t[u-1],s=t[u+1]-t[u],a[u][0]=s,a[u][1]=2*(s+o),a[u][2]=o,r[u]=3*(s*(n[u]-n[u-1])/o+o*(n[u+1]-n[u])/s);o=t[i]-t[i-1],s=t[1]-t[0];var l=s;a[i][0]=l;var c=2*(s+o);a[i][1]=c;var d=o;a[i][2]=d;var f=3*(s*(n[i]-n[i-1])/o+o*(n[1]-n[0])/s);r[i]=f,a[0][2]=0,r[0]=0,a[0][3]=1;for(var m=1;m<=i;m++)a[m][1]-=a[m][0]*a[m-1][2],a[m][2]/=a[m][1],r[m]=(r[m]-a[m][0]*r[m-1])/a[m][1],a[m][3]=-1*a[m][0]*a[m-1][3]/a[m][1];a[i][0]=1,a[i][1]=0;for(var g=i-1;g>0;g--)a[g][0]=a[g][3]-a[g][2]*a[g+1][0],a[g][1]=r[g]-a[g][2]*a[g+1][1];r[0]=(f-d*a[1][1]-l*a[i-1][1])/(c+d*a[1][0]+l*a[i-1][0]),r[i]=r[0];for(var p=1;p<i;p++)r[p]=a[p][0]*r[i]+a[p][1];for(var v=0;v<i;v++){var h=t[v+1]-t[v];a[v][0]=n[v],a[v][1]=r[v],a[v][2]=3*(n[v+1]-n[v])/(h*h)-(r[v+1]+2*r[v])/h,a[v][3]=2*(n[v]-n[v+1])/(h*h*h)+(r[v+1]+r[v])/(h*h)}a[i][0]=n[i],a[i][1]=r[i],a[i][2]=a[0][2],a[i][3]=a[0][3]}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(425),l=r(u),c=s.default.vtkErrorMacro,d={},f=t.newInstance=s.default.newInstance(i,"vtkCardinalSpline");t.default=Object.assign({newInstance:f,extend:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkSpline"),e.setLeftConstraint=function(n){return t.leftConstraint!==n&&(t.leftConstraint=l.default.clampValue(n,0,3),e.modified(),!0)},e.setRightConstraint=function(n){return t.rightConstraint!==n&&(t.rightConstraint=l.default.clampValue(n,0,3),e.modified(),!0)},e.setParametricRange=function(n,r){if(n!==t.parametricRange[0]||r!==t.parametricRange[1]){var a=n>=r?n+1:r;t.parametricRange[0]=n,t.parametricRange[1]=a,e.modified()}},e.setParametricRangeA=function(t){e.setParametricRange(t[0],t[1])},e.getParametricRange=function(e){t.parametricRange[0]!==t.parametricRange[1]?(e[0]=t.parametricRange[0],e[1]=t.parametricRange[1]):(e[0]=t.piecewiseFunction.getRange()[0],e[1]=t.piecewiseFunction.getRange()[1])},e.compute=function(){f("Pure Virtual Method Called.")},e.evaluate=function(e){f("Pure Virtual Method Called.")},e.getNumberOfPoints=function(){return t.piecewiseFunction.getSize()},e.addPoint=function(e,n){var r=e;t.parametricRange[0]!==t.parametricRange[1]&&(e<t.parametricRange[0]?r=t.parametricRange[0]:e>t.parametricRange[1]&&(r=t.parametricRange[1])),t.piecewiseFunction.addPoint(r,n)},e.removePoint=function(e){var n=e;t.parametricRange[0]!==t.parametricRange[1]&&(e<t.parametricRange[0]?n=t.parametricRange[0]:e>t.parametricRange[1]&&(n=t.parametricRange[1])),t.piecewiseFunction.removePoint(n)},e.removeAllPoints=function(){t.piecewiseFunction.removeAllPoints()},e.getMTime=function(){var e=t.mtime;if(null!==t.piecewiseFunction){var n=t.piecewiseFunction.getMTime();e=n>e?n:e}return e},e.computeLeftDerivative=function(){var e=t.piecewiseFunction.getDataPointer(),n=t.piecewiseFunction.getSize();return null===e||n<2?0:e[2]-e[0]},e.computeRightDerivative=function(){var e=t.piecewiseFunction.getDataPointer(),n=t.piecewiseFunction.getSize();return null===e||n<2?0:e[2*(n-1)]-e[2*(n-2)]},e.findIndex=function(e,n){var r=0;if(e>2)for(var a=e-1,i=a-Math.floor(e/2),o=0;!o;)t.intervals[r]<=n&&n<=t.intervals[i]?a=i:r=i,r+1===a?o=1:i=r+Math.floor((a-r)/2);return r}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),s.default.obj(e,t),s.default.setGet(e,t,["clampValue","closed","leftConstraint","rightConstraint","leftValue","rightValue"]),t.piecewiseFunction=d.default.newInstance(),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=r(u),c=n(138),d=r(c),f=s.default.vtkErrorMacro,m={computeTime:0,clampValue:0,intervals:null,coefficients:null,leftConstraint:1,leftValue:0,rightConstraint:1,rightValue:0,piecewiseFunction:null,closed:0,parametricRange:[-1,-1]},g=t.newInstance=s.default.newInstance(i,"vtkSpline");t.default=Object.assign({newInstance:g,extend:i})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,a,i){var o=e.length;e.length=o+8,e[o]=3,i?(e[o+1]=t,e[o+2]=n,e[o+3]=r,e[o+4]=3,e[o+5]=t,e[o+6]=r,e[o+7]=a):(e[o+1]=t,e[o+2]=r,e[o+3]=n,e[o+4]=3,e[o+5]=t,e[o+6]=a,e[o+7]=r)}function i(e,t){t.classHierarchy.push("vtkParametricFunctionSource"),e.setUResolution=function(n){return t.uResolution!==n&&(t.uResolution=c.default.clampValue(n,2,Number.MAX_SAFE_INTEGER),e.modified(),!0)},e.setVResolution=function(n){return t.vResolution!==n&&(t.vResolution=c.default.clampValue(n,2,Number.MAX_SAFE_INTEGER),e.modified(),!0)},e.setWResolution=function(n){return t.wResolution!==n&&(t.wResolution=c.default.clampValue(n,2,Number.MAX_SAFE_INTEGER),e.modified(),!0)},e.setGenerateTextureCoordinates=function(n){return t.generateTextureCoordinates!==n&&(t.generateTextureCoordinates=c.default.clampValue(n,0,1),e.modified(),!0)},e.setGenerateNormals=function(n){return t.generateNormals!==n&&(t.generateNormals=c.default.clampValue(n,0,1),e.modified(),!0)},e.setScalarMode=function(n){return t.scalarMode!==n&&(t.scalarMode=c.default.clampValue(n,M.ScalarMode.SCALAR_NONE,M.ScalarMode.SCALAR_FUNCTION_DEFINED),e.modified(),!0)},e.setScalarModeToNone=function(){e.setScalarMode(M.ScalarMode.SCALAR_NONE)},e.setScalarModeToU=function(){e.setScalarMode(M.ScalarMode.SCALAR_U)},e.setScalarModeToV=function(){e.setScalarMode(M.ScalarMode.SCALAR_V)},e.setScalarModeToU0=function(){e.setScalarMode(M.ScalarMode.SCALAR_U0)},e.setScalarModeToV0=function(){e.setScalarMode(M.ScalarMode.SCALAR_V0)},e.setScalarModeToU0V0=function(){e.setScalarMode(M.ScalarMode.SCALAR_U0V0)},e.setScalarModeToModulus=function(){e.setScalarMode(M.ScalarMode.SCALAR_MODULUS)},e.setScalarModeToPhase=function(){e.setScalarMode(M.ScalarMode.SCALAR_PHASE)},e.setScalarModeToQuadrant=function(){e.setScalarMode(M.ScalarMode.SCALAR_QUADRANT)},e.setScalarModeToX=function(){e.setScalarMode(M.ScalarMode.SCALAR_X)},e.setScalarModeToY=function(){e.setScalarMode(M.ScalarMode.SCALAR_Y)},e.setScalarModeToZ=function(){e.setScalarMode(M.ScalarMode.SCALAR_Z)},e.setScalarModeToDistance=function(){e.setScalarMode(M.ScalarMode.SCALAR_DISTANCE)},e.setScalarModeToFunctionDefined=function(){e.setScalarMode(M.ScalarMode.SCALAR_FUNCTION_DEFINED)},e.getMTime=function(){var e=t.mtime;if(null!==t.parametricFunction){var n=t.parametricFunction.getMTime();e=n>e?n:e}return e},e.requestData=function(n,r){if(b("Executing"),!t.parametricFunction)return I("Parametric function not defined"),1;switch(t.parametricFunction.getDimension()){case 1:e.produce1DOutput(r);break;case 2:e.produce2DOutput(r);break;default:I("Functions of dimension "+t.parametricFunction.getDimension()+" are not supported.")}return 1},e.produce1DOutput=function(e){var n=t.uResolution+1,r=g.default.newInstance(),a=null;a=1===t.outputPointsPrecision?f.default.newInstance({dataType:A.VtkDataTypes.DOUBLE}):f.default.newInstance({dataType:A.VtkDataTypes.FLOAT}),a.setNumberOfPoints(n);for(var i=[0,0,0],o=[0,0,0],s=[0,0,0],u=[n],l=0;l<n;l++)s[0]=l/t.uResolution,t.parametricFunction.evaluate(s,i,o),a.setPoint(l,i[0],i[1],i[2]),u.push(l);r.setData(new Int32Array(u),1);var c=y.default.newInstance();c.setPoints(a),c.setLines(r),e[0]=c},e.produce2DOutput=function(n){var r=t.parametricFunction.getMaximumU()+(t.parametricFunction.getMaximumU()-t.parametricFunction.getMinimumU())/(t.uResolution-1),a=t.uResolution,i=t.parametricFunction.getMaximumV()+(t.parametricFunction.getMaximumV()-t.parametricFunction.getMinimumV())/(t.vResolution-1),o=t.vResolution,s=a*o,u=v.default.newInstance({numberOfComponents:1,dataType:A.VtkDataTypes.FLOAT,size:s});t.scalarMode!==M.ScalarMode.SCALAR_NONE&&u.setName("Scalars");var l=v.default.newInstance({numberOfComponents:3,dataType:A.VtkDataTypes.FLOAT,size:3*s});t.generateNormals&&l.setName("Normals");var d=v.default.newInstance({numberOfComponents:2,dataType:A.VtkDataTypes.FLOAT,size:2*s});0!==t.generateTextureCoordinates&&d.setName("Textures");var m=[],p=null;p=1===t.outputPointsPrecision?f.default.newInstance({dataType:A.VtkDataTypes.DOUBLE}):f.default.newInstance({dataType:A.VtkDataTypes.FLOAT}),p.setNumberOfPoints(s);for(var h=(r-t.parametricFunction.getMinimumU())/a,S=(i-t.parametricFunction.getMinimumV())/o,b=t.parametricFunction.getMinimumU(),D=(r-b)/2+b-h;b<D;)b+=h;for(var I=t.parametricFunction.getMinimumV(),w=(i-I)/2+I-S;I<w;)I+=S;D+=h,w+=S;var C=0,N=0,P=0,x=[0,0,0];x[0]=t.parametricFunction.getMinimumU()-h;for(var E=a-1,O=o-1,L=0;L<a;++L){x[0]+=h,x[1]=t.parametricFunction.getMinimumV()-S;var _=[0,0];0!==t.generateTextureCoordinates&&(_[0]=L/E);for(var R=0;R<o;++R){x[1]+=S,0!==t.generateTextureCoordinates&&(_[1]=1-R/O,m.push(_[0],_[1]));var k=[0,0,0],B=[0,0,0,0,0,0,0,0,0];t.parametricFunction.evaluate(x,k,B),p.setPoint(P,k[0],k[1],k[2]);var V=void 0;if(t.scalarMode!==M.ScalarMode.SCALAR_NONE){switch(t.scalarMode){case M.ScalarMode.SCALAR_U:V=x[0];break;case M.ScalarMode.SCALAR_V:V=x[1];break;case M.ScalarMode.SCALAR_U0:V=x[0]===b?1:0;break;case M.ScalarMode.SCALAR_V0:V=x[1]===I?1:0;break;case M.ScalarMode.SCALAR_U0V0:V=0,x[0]===b&&x[1]===I?V=3:x[0]===b?V=1:x[1]===I&&(V=2);break;case M.ScalarMode.SCALAR_MODULUS:C=x[0]-D,N=x[1]-w,V=Math.sqrt(C*C+N*N);break;case M.ScalarMode.SCALAR_PHASE:C=x[0]-D,N=x[1]-w,0===N&&0===C?V=0:(V=c.default.degreesFromRadians(Math.atan2(N,C)))<0&&(V+=360);break;case M.ScalarMode.SCALAR_QUADRANT:if(x[0]>=b&&x[1]>=I){V=1;break}if(x[0]<b&&x[1]>=I){V=2;break}V=x[0]<b&&x[1]<I?3:4;break;case M.ScalarMode.SCALAR_X:V=k[0];break;case M.ScalarMode.SCALAR_Y:V=k[1];break;case M.ScalarMode.SCALAR_Z:V=k[2];break;case M.ScalarMode.SCALAR_DISTANCE:V=Math.sqrt(k[0]*k[0]+k[1]*k[1]+k[2]*k[2]);break;case M.ScalarMode.SCALAR_FUNCTION_DEFINED:V=t.parametricFunction.evaluateScalar(x,k,B);break;case M.ScalarMode.SCALAR_NONE:default:V=0}u.getData()[P]=V}if(t.parametricFunction.getDerivativesAvailable()&&t.generateNormals){var F=[0,0,0],j=[B[3],B[4],B[5]];0===t.parametricFunction.getClockwiseOrdering()?c.default.cross(j,B,F):c.default.cross(B,j,F),l.setTuple(P,F)}++P}}var U=y.default.newInstance(),z=g.default.newInstance();if(e.makeTriangles(z,a,o),U.setPoints(p),U.setPolys(z),t.generateNormals)if(t.parametricFunction.getDerivativesAvailable())U.getPointData().setNormals(l);else{var G=y.default.newInstance();G.setPoints(p),G.setPolys(z);var W=T.default.newInstance();W.setSplitting(0),W.setInputData(G),W.update(),U.deepCopy(W.getOutputData())}t.scalarMode!==M.ScalarMode.SCALAR_NONE&&U.getPointData().setScalars(u),0!==t.generateTextureCoordinates&&(d.setData(new Float32Array(m),2),U.getPointData().setTCoords(d)),U.modified(),n[0]=U},e.makeTriangles=function(e,n,r){var i=0,o=0,s=0,u=0;b("Executing MakeTriangles()");for(var l=0!==t.parametricFunction.getClockwiseOrdering(),c=(n+t.parametricFunction.getJoinU()-1)*(r+t.parametricFunction.getJoinV()-1)*2,d=[],f=0;f<n-1;++f){for(var m=0;m<r-1;++m)i=m+f*r,o=i+r,s=o+1,u=i+1,a(d,i,o,s,u,l);t.parametricFunction.getJoinV()&&(i=u,o=s,t.parametricFunction.getTwistV()?(s=(f+1)*r,u=f*r):(s=f*r,u=(f+1)*r),a(d,i,o,s,u,l))}if(t.parametricFunction.getJoinU()){for(var g=0;g<r-1;++g)i=g+(n-1)*r,s=i+1,t.parametricFunction.getTwistU()?(o=r-1-g,u=o-1):(o=g,u=o+1),a(d,i,o,s,u,l);t.parametricFunction.getJoinV()&&(i=s,o=u,t.parametricFunction.getTwistU()?t.parametricFunction.getTwistV()?(s=r-1,u=(n-1)*r):(s=(n-1)*r,u=r-1):t.parametricFunction.getTwistV()?(s=0,u=(n-1)*r):(s=(n-1)*r,u=0),a(d,i,o,s,u,l))}d.length!==c&&D("Number of Cells not equal: "+d.length+", "+c),e.setData(new Int32Array(d),1),e.modified(),b("MakeTriangles() finished.")}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,w,n),u.default.obj(e,t),u.default.algo(e,t,0,1),u.default.setGet(e,t,["parametricFunction","uResolution","vResolution","wResolution","generateTextureCoordinates","generateNormals","scalarMode","outputPointsPrecision"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(1),c=r(l),d=n(6),f=r(d),m=n(11),g=r(m),p=n(2),v=r(p),h=n(4),y=r(h),A=n(5),S=n(56),T=r(S),M=n(428),b=u.default.vtkDebugMacro,D=u.default.vtkWarningMacro,I=u.default.vtkErrorMacro,w={parametricFunction:null,uResolution:50,vResolution:50,wResolution:50,generateTextureCoordinates:0,generateNormals:1,scalarMode:M.ScalarMode.SCALAR_NONE,outputPointsPrecision:0},C=t.newInstance=u.default.newInstance(o,"vtkParametricFunctionSource");t.default=Object.assign({newInstance:C,extend:o})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPriorityQueue"),e.allocate=function(e,n){var r=Array(e);r.fill(-1),t.itemLocation.setData(r,1),t.size=e>0?e:1,t.array=Array(e);for(var a=0;a<e;a++)t.array[a]={priority:0,id:0};t.extend=n>0?n:1,t.maxId=-1},e.insert=function(n,r){if(!(r<=t.itemLocation.getNumberOfComponents()&&-1!==t.itemLocation.getComponent(r))){if(++t.maxId>=t.array.length&&e.resize(t.maxId+1),t.array[t.maxId].priority=n,t.array[t.maxId].id=r,r>=t.itemLocation.getSize()){var a=t.itemLocation.getSize(),i=Array.from(t.itemLocation.getData());i[r]=t.maxId;for(var o=a;o<i.length;o++)i[o]=-1;i[r]=t.maxId,t.itemLocation.setData(i,1)}t.itemLocation.setComponent(r,0,t.maxId);for(var s=t.maxId,u=(s-1)/2;s>0&&t.array[s].priority<t.array[u].priority;s=u){var l=t.array[s];t.itemLocation.setComponent(l.id,0,u),t.array[s]=t.array[u],t.itemLocation.setComponent(t.array[u].id,0,s),t.array[u]=l,u=(s-1)/2}}},e.pop=function(e,n){if(t.maxId<0)return-1;var r=t.array[e].id;if(n[0]=t.array[e].priority,t.array[e].id=t.array[t.maxId].id,t.array[e].priority=t.array[t.maxId].priority,t.itemLocation.setComponent(t.array[e].id,0,e),t.itemLocation.setComponent(r,0,-1),--t.maxId<=0)return r;for(var a=(t.maxId-1)/2,i=0,o=0,s=e;s<=a&&(i=2*s+1,o=t.array[i].priority<t.array[i+1].priority||i===t.maxId?i:i+1,t.array[s].priority>t.array[o].priority);s=o){var u=t.array[s];t.itemLocation.setComponent(u.id,0,o),t.array[s]=t.array[o],t.itemLocation.setComponent(t.array[o].id,0,s),t.array[o]=u}for(var l=e;l>0&&(i=(l-1)/2,t.array[l].priority<t.array[i].priority);l=i){var c=t.array[l];t.itemLocation.setComponent(c.id,0,i),t.array[l]=t.array[i],t.itemLocation.setComponent(t.array[i].id,0,l),t.array[i]=c}return r},e.pop2=function(t){var n=[0];return e.pop(t,n)},e.peek=function(e,n){return t.maxId<0?-1:(n[0]=t.array[e].priority,t.array[e].id)},e.peek2=function(e){return t.maxId<0?-1:t.array[e].id},e.deleteId=function(n){var r=[Number.MAX_VALUE];if(n<=t.itemLocation.getNumberOfComponents()){var a=t.itemLocation.getComponent(n);-1!==a&&e.pop(a,r)}return r[0]},e.getPriority=function(e){if(e<=t.itemLocation.getNumberOfComponents()){var n=t.itemLocation.getComponent(e);if(-1!==n)return t.array[n].priority}return Number.MAX_VALUE},e.getNumberOfItems=function(){return t.maxId+1},e.reset=function(){t.maxId=-1;for(var e=0;e<=t.itemLocation.getNumberOfComponents();e++)t.itemLocation.setComponent(e,0,-1)},e.resize=function(e){var n=0;(n=e>=t.array.length?t.array.length+e:e)<=0&&(n=1);var r=0;t.array?(r=t.array.length,t.array.length=n):(r=0,t.array=Array(n));for(var a=r;a<n;a++)t.array[a]={priority:0,id:0};return t.array}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),s.default.obj(e,t),t.itemLocation=l.default.newInstance({size:0,values:new Int32Array,numberOfComponents:1,dataType:c.VtkDataTypes.INT}),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(2),l=r(u),c=n(5),d={itemLocation:null,array:null,size:0,maxId:-1,extend:1e3},f=t.newInstance=s.default.newInstance(i,"vtkPriorityQueue");t.default={newInstance:f,extend:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ScalarMode={SCALAR_NONE:0,SCALAR_U:1,SCALAR_V:2,SCALAR_U0:3,SCALAR_V0:4,SCALAR_U0V0:5,SCALAR_MODULUS:6,SCALAR_PHASE:7,SCALAR_QUADRANT:8,SCALAR_X:9,SCALAR_Y:10,SCALAR_Z:11,SCALAR_DISTANCE:12,SCALAR_FUNCTION_DEFINED:13};t.default={ScalarMode:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkRuledSurfaceFilter"),e.setDistanceFactor=function(n){return t.distanceFactor!==n&&(t.distanceFactor=d.default.clampValue(n,1,Number.MAX_VALUE),e.modified(),!0)},e.setOnRatio=function(n){return t.onRatio!==n&&(t.onRatio=d.default.clampValue(n,1,Number.MAX_SAFE_INTEGER),e.modified(),!0)},e.setOffset=function(n){return t.offset!==n&&(t.offset=d.default.clampValue(n,0,Number.MAX_SAFE_INTEGER),e.modified(),!0)},e.setRuledMode=function(n){return t.ruledMode!==n&&(t.ruledMode=d.default.clampValue(n,y.VTKRuledMode.RESAMPLE,y.VTKRuledMode.POINT_WALK),e.modified(),!0)},e.setRuledModeToResample=function(){e.setRuledMode(y.VTKRuledMode.RESAMPLE)},e.setRuledModeToPointWalk=function(){e.setRuledMode(y.VTKRuledMode.POINT_WALK)},e.getRuledModeAsString=function(){return t.ruledMode===y.VTKRuledMode.RESAMPLE?"Resample":"PointWalk"},e.requestData=function(n,r){var a=n[0];S("Creating a ruled surface");var i=a.getPoints(),o=a.getLines();if(!i||!o)return 1;var s=o.getNumberOfCells(),u=i.getNumberOfPoints();if(u<1||s<2)return 1;var l=m.default.newInstance(),c=a.getPointData(),d=l.getPointData(),f=null,g=null,v=null,A=null;if(t.passLines&&l.setLines(o),t.ruledMode===y.VTKRuledMode.RESAMPLE){if(f=p.default.newInstance(),g=[],l.setPoints(f),d.interpolateAllocate(c,u),t.passLines){g=Array.from(i.getData());for(var T=0;T<u;T++)d.copyData(c,T,T)}var M=h.default.newInstance();v=[],l.setStrips(M)}else{l.setPoints(i),l.getPointData().passData(a.getPointData());var b=h.default.newInstance();A=[],l.setPolys(b)}var D=[],I=[],w=0,C=0,N=0;o.getCell(N,D),w=D.length,N+=w+1;for(var P=0;P<s;P++){if(o.getCell(N,I),C=I.length,N+=C+1,P-t.offset>=0&&!((P-t.offset)%t.onRatio)&&w>=2&&C>=2)switch(t.ruledMode){case y.VTKRuledMode.RESAMPLE:e.resample(l,a,i,g,w,D,C,I,v);break;case y.VTKRuledMode.POINT_WALK:e.pointWalk(l,i,w,D,C,I,A)}w=C;var x=D;D=I,I=x,P===s-2&&(t.closeSurface?N=0:P++)}return f&&f.setData(new Float32Array(g),3),v&&l.getStrips().setData(new Int32Array(v),1),A&&l.getPolys().setData(new Int32Array(A),1),r[0]=l,1},e.resample=function(e,n,r,a,i,o,s,u,l){var c=n.getPointData(),f=e.getPointData();if(t.resolution[0]<1)return void A("Resolution[0] must be greater than 0");if(t.resolution[1]<1)return void A("Resolution[1] must be greater than 0");for(var m=0,g=[0,0,0],p=[0,0,0],v=0;v<i-1;v++)r.getPoint(o[v],g),r.getPoint(o[v+1],p),m+=Math.sqrt(d.default.distance2BetweenPoints(g,p));for(var h=0,y=0;y<s-1;y++)r.getPoint(u[y],g),r.getPoint(u[y+1],p),h+=Math.sqrt(d.default.distance2BetweenPoints(g,p));var S=Math.floor(a.length/3),T=3*(S+(t.resolution[0]+1)*(t.resolution[1]+1)-1);a[T]=0,a[T+1]=0,a[T+2]=0;for(var M=0;M<t.resolution[0];M++){l.push(2*(t.resolution[1]+1));for(var b=0;b<t.resolution[1]+1;b++)l.push(S+M*(t.resolution[1]+1)+b),l.push(S+(M+1)*(t.resolution[1]+1)+b)}var D=1/t.resolution[1],I=m/t.resolution[0],w=h/t.resolution[0],C=0,N=0,P=0,x=0,E=0,O=1,L=0,_=1,R=[0,0,0],k=[0,0,0],B=[0,0,0],V=[0,0,0],F=[0,0,0];r.getPoint(o[0],g),r.getPoint(o[1],p),r.getPoint(u[0],R),r.getPoint(u[1],k);for(var j=0;j<t.resolution[0]+1;j++){for(var U=j*I,z=j*w;U>P&&E<i-1&&(r.getPoint(o[E],g),r.getPoint(o[O],p),C=Math.sqrt(d.default.distance2BetweenPoints(g,p)),U>P+C&&U<=m);)P+=C,E++,O++;O>i-1&&(E--,O--),t.ids.setId(0,o[E]),t.ids.setId(1,o[O]);var G=0;for(G=0===C?0:(U-P)/C,U>=m&&(G=1),B[0]=(1-G)*g[0]+G*p[0],B[1]=(1-G)*g[1]+G*p[1],B[2]=(1-G)*g[2]+G*p[2];z>x&&L<s-1&&(r.getPoint(u[L],R),r.getPoint(u[_],k),N=Math.sqrt(d.default.distance2BetweenPoints(R,k)),z>x+N&&z<=h);)x+=N,L++,_++;_>s-1&&(L--,_--),t.ids.setId(2,u[L]),t.ids.setId(3,u[_]);var W=0;W=0===N?0:(z-x)/N,z>=h&&(W=1),V[0]=(1-W)*R[0]+W*k[0],V[1]=(1-W)*R[1]+W*k[1],V[2]=(1-W)*R[2]+W*k[2];for(var Q=0;Q<t.resolution[1]+1;Q++){var Y=Q*D;F[0]=(1-Y)*B[0]+Y*V[0],F[1]=(1-Y)*B[1]+Y*V[1],F[2]=(1-Y)*B[2]+Y*V[2];var q=S+j*(t.resolution[1]+1)+Q;T=3*q,a[T]=F[0],a[T+1]=F[1],a[T+2]=F[2],t.weights[0]=(1-Y)*(1-G),t.weights[1]=(1-Y)*G,t.weights[2]=Y*(1-W),t.weights[3]=Y*W,f.interpolatePoint(c,q,t.ids,t.weights)}}},e.pointWalk=function(e,n,r,a,i,o,s){var u=0,l=0,c=0,f=[0,0,0],m=[0,0,0],g=[0,0,0],p=[0,0,0];if(t.orientLoops){var v=void 0;u=0,n.getPoint(a[0],f),n.getPoint(o[0],m),v=d.default.distance2BetweenPoints(f,m);for(var h=1;h!==i;h++)n.getPoint(o[h],m),(c=d.default.distance2BetweenPoints(f,m))<v&&(v=c,u=h);l=u?u-1:i-1,c=v*t.distanceFactor*t.distanceFactor}else l=i-1,u=0,n.getPoint(a[0],f),n.getPoint(o[0],m),c=d.default.distance2BetweenPoints(f,m)*t.distanceFactor*t.distanceFactor;for(var y=0,A=u,S=0,T=!1;y<r-1||!T;)if(S=A+1,u||S!==l?S===u?T=!0:S===i&&(S=1):T=!0,y>=r-1){n.getPoint(a[y],f),n.getPoint(o[A],g),n.getPoint(o[S],p);var M=d.default.distance2BetweenPoints(f,g),b=d.default.distance2BetweenPoints(f,p);M<=c&&b<=c&&(s.push(3),s.push(a[y]),s.push(o[S]),s.push(o[A])),A=S}else if(A===l){n.getPoint(a[y],f),n.getPoint(a[y+1],m),n.getPoint(o[A],g);var D=d.default.distance2BetweenPoints(f,g),I=d.default.distance2BetweenPoints(m,g);D<=c&&I<=c&&(s.push(3),s.push(a[y]),s.push(a[y+1]),s.push(o[A])),y++}else{n.getPoint(a[y],f),n.getPoint(a[y+1],m),n.getPoint(o[A],g),n.getPoint(o[S],p);var w=d.default.distance2BetweenPoints(f,g),C=d.default.distance2BetweenPoints(f,p),N=d.default.distance2BetweenPoints(g,m);C<=N?(C<=c&&w<=c&&(s.push(3),s.push(a[y]),s.push(o[S]),s.push(o[A])),A=S):(N<=c&&w<=c&&(s.push(3),s.push(a[y]),s.push(a[y+1]),s.push(o[A])),y++)}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),s.default.obj(e,t),s.default.algo(e,t,1,1),s.default.setGet(e,t,["distanceFactor","onRatio","offset","closeSurface","ruledMode","passLines","orientLoops"]),s.default.setGetArray(e,t,["resolution"],2),t.ids=l.default.newInstance(),t.ids.setNumberOfIds(4),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(18),l=r(u),c=n(1),d=r(c),f=n(4),m=r(f),g=n(6),p=r(g),v=n(11),h=r(v),y=n(430),A=s.default.vtkErrorMacro,S=s.default.vtkDebugMacro,T={distanceFactor:3,onRatio:1,offset:0,closeSurface:0,ruledMode:y.VTKRuledMode.RESAMPLE,resolution:[1,1],passLines:0,orientLoops:0,ids:null,weights:[0,0,0,0]},M=t.newInstance=s.default.newInstance(i,"vtkRuledSurfaceFilter");t.default=Object.assign({newInstance:M,extend:i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VTKRuledMode={RESAMPLE:0,POINT_WALK:1};t.default={VTKRuledMode:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){function n(e,n){var r;if(!t.deleted){var i=n[0],o=2*Math.PI/t.resolution,s=-t.height/2,u=t.resolution+1,l=4*t.resolution+1+t.resolution,d=0,m=new window[t.pointType](3*u),g=0,p=new Uint32Array(l);m[0]=t.height/2,m[1]=0,m[2]=0,t.capping&&(p[g++]=t.resolution);for(var v=0;v<t.resolution;v++)d++,m[3*d+0]=s,m[3*d+1]=t.radius*Math.cos(v*o),m[3*d+2]=t.radius*Math.sin(v*o),t.capping&&(p[t.resolution-g+++1]=d);for(var h=0;h<t.resolution;h++)p[g++]=3,p[g++]=0,p[g++]=h+1,p[g++]=h+2>t.resolution?1:h+2;(r=f.default.buildFromRadian()).translate.apply(r,a(t.center)).rotateFromDirections([1,0,0],t.direction).apply(m),i=c.default.newInstance(),i.getPoints().setData(m,3),i.getPolys().setData(p,1),n[0]=i}}t.classHierarchy.push("vtkConeSource"),e.requestData=n}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),u.default.obj(e,t),u.default.setGet(e,t,["height","radius","resolution","capping"]),u.default.setGetArray(e,t,["center","direction"],3),u.default.algo(e,t,0,1),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(4),c=r(l),d=n(226),f=r(d),m={height:1,radius:.5,resolution:6,center:[0,0,0],direction:[1,0,0],capping:!0,pointType:"Float32Array"},g=t.newInstance=u.default.newInstance(o,"vtkConeSource");t.default={newInstance:g,extend:o}},function(e,t){e.exports=[{Name:"KAAMS",IndexedColors:[1,1,1,1,0,0,0,1,0,0,0,1,1,1,0,1,0,1,0,1,1,.63,.63,1,.67,.5,.33,1,.5,.75,.53,.35,.7,1,.75,.5],Annotations:[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11]},{ColorSpace:"Diverging",Name:"Cool to Warm",NanColor:[1,1,0],RGBPoints:[0,.23137254902,.298039215686,.752941176471,.5,.865,.865,.865,1,.705882352941,.0156862745098,.149019607843]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Cool to Warm (Extended)",NanColor:[.25,0,0],RGBPoints:[0,0,0,.34902,.03125,.039216,.062745,.380392,.0625,.062745,.117647,.411765,.09375,.090196,.184314,.45098,.125,.12549,.262745,.501961,.15625,.160784,.337255,.541176,.1875,.2,.396078,.568627,.21875,.239216,.454902,.6,.25,.286275,.521569,.65098,.28125,.337255,.592157,.701961,.3125,.388235,.654902,.74902,.34375,.466667,.737255,.819608,.375,.572549,.819608,.878431,.40625,.654902,.866667,.909804,.4375,.752941,.917647,.941176,.46875,.823529,.956863,.968627,.5,.988235,.960784,.901961,.5,.941176,.984314,.988235,.52,.988235,.945098,.85098,.54,.980392,.898039,.784314,.5625,.968627,.835294,.698039,.59375,.94902,.733333,.588235,.625,.929412,.65098,.509804,.65625,.909804,.564706,.435294,.6875,.878431,.458824,.352941,.71875,.839216,.388235,.286275,.75,.760784,.294118,.211765,.78125,.701961,.211765,.168627,.8125,.65098,.156863,.129412,.84375,.6,.094118,.094118,.875,.54902,.066667,.098039,.90625,.501961,.05098,.12549,.9375,.45098,.054902,.172549,.96875,.4,.054902,.192157,1,.34902,.070588,.211765]},{ColorSpace:"Diverging",Name:"Warm to Cool",NanColor:[1,1,0],RGBPoints:[0,.705882352941,.0156862745098,.149019607843,.5,.865,.865,.865,1,.23137254902,.298039215686,.752941176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Warm to Cool (Extended)",NanColor:[.250004,0,0],RGBPoints:[0,.34902,0,.129412,.025,.4,.00392157,.101961,.05,.470588,.0156863,.0901961,.075,.54902,.027451,.0705882,.1,.619608,.0627451,.0431373,.125,.690196,.12549,.0627451,.15,.741176,.184314,.0745098,.175,.788235,.266667,.0941176,.2,.811765,.345098,.113725,.225,.831373,.411765,.133333,.25,.85098,.47451,.145098,.275,.870588,.54902,.156863,.3,.878431,.619608,.168627,.325,.890196,.658824,.196078,.35,.909804,.717647,.235294,.375,.929412,.776471,.278431,.395522,.94902,.823529,.321569,.418905,.968627,.87451,.407843,.444278,.980392,.917647,.509804,.470149,.988235,.956863,.643137,.483582,.992157,.964706,.713725,.499,.988235,.980392,.870588,.5,1,1,1,.501,.913725,.988235,.937255,.516418,.827451,.980392,.886275,.531343,.764706,.980392,.866667,.546766,.658824,.980392,.843137,.564179,.572549,.964706,.835294,.587562,.423529,.941176,.87451,.60597,.262745,.901961,.862745,.629851,.0705882,.854902,.870588,.651741,.0509804,.8,.85098,.681592,.0235294,.709804,.831373,.712935,.0313725,.615686,.811765,.75,.0313725,.537255,.788235,.775,.0392157,.466667,.768627,.8,.0509804,.396078,.741176,.825,.054902,.317647,.709804,.85,.054902,.243137,.678431,.875,.0431373,.164706,.639216,.9,.0313725,.0980392,.6,.925,.0392157,.0392157,.560784,.95,.105882,.0509804,.509804,.975,.113725,.0235294,.45098,1,.12549,0,.380392]},{ColorSpace:"RGB",Name:"Rainbow Desaturated",NanColor:[1,1,0],RGBPoints:[0,.278431372549,.278431372549,.858823529412,.143,0,0,.360784313725,.285,0,1,1,.429,0,.501960784314,0,.571,1,1,0,.714,1,.380392156863,0,.857,.419607843137,0,0,1,.878431372549,.301960784314,.301960784314]},{ColorSpace:"RGB",Name:"Cold and Hot",NanColor:[1,1,0],RGBPoints:[0,0,1,1,.45,0,0,1,.5,0,0,.501960784314,.55,1,0,0,1,1,1,0]},{ColorSpace:"RGB",Name:"Black-Body Radiation",NanColor:[0,.498039215686,1],RGBPoints:[0,0,0,0,.4,.901960784314,0,0,.8,.901960784314,.901960784314,0,1,1,1,1]},{ColorSpace:"RGB",Name:"X Ray",NanColor:[1,0,0],RGBPoints:[0,1,1,1,1,0,0,0]},{ColorSpace:"RGB",Name:"Grayscale",NanColor:[1,0,0],RGBPoints:[0,0,0,0,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Blue and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,0,0,.501960784314,.666,0,.501960784314,1,1,1,1,1]},{ColorSpace:"RGB",Name:"Black, Orange and White",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.333,.501960784314,0,0,.666,1,.501960784314,0,1,1,1,1]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear YGB 1211g",NanColor:[.25,0,0],RGBPoints:[0,1,.988235,.968627,.02,1,.952941,.878431,.05,.968627,.905882,.776471,.1,.94902,.898039,.647059,.15,.901961,.878431,.556863,.2,.847059,.858824,.482353,.25,.690196,.819608,.435294,.3,.513725,.768627,.384314,.35,.337255,.721569,.337255,.4,.278431,.658824,.392157,.45,.231373,.639216,.435294,.5,.203922,.6,.486275,.55,.172549,.568627,.537255,.6,.141176,.517647,.54902,.65,.133333,.458824,.541176,.7,.12549,.396078,.529412,.75,.117647,.321569,.521569,.8,.121569,.258824,.509804,.85,.133333,.227451,.501961,.9,.145098,.192157,.490196,.95,.188235,.164706,.470588,1,.258824,.196078,.439216]},{ColorSpace:"CIELAB",Creator:"Francesca Samsel",Name:"Linear Green (Gr4L)",NanColor:[.25,0,0],RGBPoints:[0,.054902,.109804,.121569,.05,.07451,.172549,.180392,.1,.086275,.231373,.219608,.15,.094118,.278431,.25098,.2,.109804,.34902,.278431,.25,.113725,.4,.278431,.3,.117647,.45098,.270588,.35,.117647,.490196,.243137,.4,.113725,.521569,.203922,.45,.109804,.54902,.152941,.5,.082353,.588235,.082353,.55,.109804,.631373,.05098,.6,.211765,.678431,.082353,.65,.317647,.721569,.113725,.7,.431373,.760784,.160784,.75,.556863,.8,.239216,.8,.666667,.839216,.294118,.85,.784314,.878431,.396078,.9,.886275,.921569,.533333,.95,.960784,.94902,.670588,1,1,.984314,.901961]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Linear Blue (8_31f)",NanColor:[.25,0,0],RGBPoints:[0,.960784,1,.980392,.05,.815686,.960784,.913725,.1,.670588,.929412,.870588,.15,.556863,.901961,.843137,.2,.478431,.870588,.823529,.25,.439216,.831373,.803922,.3,.4,.8,.788235,.35,.376471,.768627,.768627,.4,.34902,.709804,.729412,.45,.32549,.654902,.690196,.5,.301961,.607843,.658824,.55,.247059,.545098,.619608,.6,.239216,.494118,.580392,.65,.227451,.439216,.541176,.7,.227451,.403922,.521569,.75,.231373,.368627,.501961,.8,.227451,.321569,.470588,.85,.219608,.282353,.439216,.9,.192157,.235294,.4,.95,.160784,.184314,.34902,1,.133333,.12549,.301961]},{ColorSpace:"HSV",Name:"Blue to Red Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,0,0,1,1,1,0,0]},{ColorSpace:"HSV",Name:"Red to Blue Rainbow",NanColor:[.498039215686,.498039215686,.498039215686],RGBPoints:[0,1,0,0,1,0,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended White",NanColor:[1,1,0],RGBPoints:[0,1,1,1,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Grey",NanColor:[1,1,0],RGBPoints:[0,.317647058824,.341176470588,.43137254902,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Rainbow Blended Black",NanColor:[1,1,0],RGBPoints:[0,0,0,0,.17,0,0,1,.34,0,1,1,.5,0,1,0,.67,1,1,0,.84,1,0,0,1,.878431372549,0,1]},{ColorSpace:"RGB",Name:"Blue to Yellow",NanColor:[1,0,0],RGBPoints:[0,.0392156862745,.0392156862745,.949019607843,1,.949019607843,.949019607843,.0392156862745]},{ColorSpace:"HSV",Name:"blot",RGBPoints:[0,0,0,1,.166,0,0,1,.167,1,0,1,.332,1,0,1,.333,0,1,1,.5,0,1,1,.501,0,1,0,.666,0,1,0,.667,1,1,0,.832,1,1,0,.833,1,0,0,1,1,0,0]},{ColorSpace:"Lab",Name:"CIELab Blue to Red",NanColor:[1,1,0],RGBPoints:[0,0,.6,.749019607843,1,.76862745098,.466666666667,.341176470588]},{ColorSpace:"RGB",Name:"jet",RGBPoints:[-1,0,0,.5625,-.777778,0,0,1,-.269841,0,1,1,-.015873,.5,1,.5,.238095,1,1,0,.746032,1,0,0,1,.5,0,0]},{ColorSpace:"RGB",Name:"rainbow",RGBPoints:[-1,0,0,1,-.5,0,1,1,0,0,1,0,.5,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"nic_CubicL",RGBPoints:[-1,.479965,.0118108,.5307,-.87451,.522213,.0551282,.706919,-.74902,.50839,.237278,.867764,-.623529,.451617,.373834,.987255,-.498039,.39365,.497255,.97506,-.372549,.328631,.599639,.891843,-.247059,.250043,.690286,.778553,-.121569,.249656,.764905,.645857,.00392157,.297954,.821466,.50449,.129412,.337509,.872595,.358447,.254902,.430011,.913789,.297079,.380392,.587191,.931381,.333353,.505882,.727937,.93591,.353742,.631373,.826403,.921081,.365066,.756863,.893201,.846317,.372662,.882353,.965347,.73884,.378506,1,.983235,.597451,.366856]},{ColorSpace:"Lab",Name:"nic_CubicYF",RGBPoints:[-1,.5151,.0482,.6697,-.87451,.520711,.168955,.800574,-.74902,.493694,.278596,.911824,-.623529,.440026,.369475,.984978,-.498039,.398932,.457593,.987053,-.372549,.350651,.540644,.929608,-.247059,.298827,.615625,.857729,-.121569,.239928,.685061,.769531,.00392157,.228832,.739349,.673287,.129412,.263297,.78608,.569988,.254902,.298107,.828337,.460214,.380392,.33092,.864071,.352674,.505882,.38306,.898169,.287309,.631373,.49023,.917481,.307961,.756863,.62372,.926026,.332309,.882353,.717458,.92527,.342476,1,.8,.9255,.3529]},{ColorSpace:"Lab",Name:"gist_earth",RGBPoints:[-1,0,0,0,-.87451,.239216,.027451,.415686,-.74902,.0901961,.254902,.556863,-.623529,.0941176,.352941,.54902,-.498039,.105882,.435294,.533333,-.372549,.12549,.52549,.501961,-.247059,.156863,.596078,.443137,-.121569,.196078,.65098,.380392,.00392157,.282353,.717647,.301961,.129412,.466667,.772549,.27451,.254902,.678431,.784314,.309804,.380392,.901961,.756863,.376471,.505882,.992157,.705882,.521569,.631373,1,.721569,.701961,.756863,1,.784314,.784314,.882353,1,.866667,.866667,1,1,1,1]},{ColorSpace:"Lab",Name:"2hot",RGBPoints:[-1,.0416667,0,0,-.873016,.208333,0,0,-.746032,.375,0,0,-.619048,.541667,0,0,-.492063,.708333,0,0,-.365079,.854137,0,0,-.238095,.937488,.039062,0,-.111111,1,.208333,0,.015873,1,.375,0,.142857,1,.541667,0,.269841,1,.708333,0,.396825,1,.858805,.03125,.52381,1,.947392,.15625,.650794,1,1,.3125,.777778,1,1,.5625,.904762,1,1,.8125,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_red2yellow_BW",RGBPoints:[-1,7.54296e-7,0,109827e-10,-.87451,.18285,.0264094,0,-.74902,.3066,0,0,-.623529,.422841,0,0,-.498039,.522945,0,0,-.372549,.605721,0,0,-.247059,.672502,.14168,0,-.121569,.728167,.244025,0,.00392157,.781215,.333454,0,.129412,.825,.423586,0,.254902,.855893,.516793,0,.380392,.880491,.608846,0,.505882,.910305,.695505,0,.631373,.94109,.779067,.223528,.756863,.967873,.858572,.473521,.882353,.986815,.933211,.751583,1,1,1,.999997]},{ColorSpace:"Lab",Name:"erdc_marine2gold_BW",RGBPoints:[-1,1.11641e-7,0,162551e-11,-.87451,.0413146,.0619808,.209857,-.74902,.0185557,.101341,.350684,-.623529,.00486405,.149847,.461054,-.498039,.0836345,.210845,.517906,-.372549,.173222,.276134,.541793,-.247059,.259857,.343877,.535869,-.121569,.362299,.408124,.504293,.00392157,.468266,.468276,.468257,.129412,.582781,.527545,.374914,.254902,.691591,.585251,.274266,.380392,.784454,.645091,.247332,.505882,.862299,.710383,.27518,.631373,.920863,.782923,.351563,.756863,.955792,.859699,.533541,.882353,.976162,.93433,.780671,1,1,1,.999983]},{ColorSpace:"Lab",Name:"erdc_blue2gold_BW",RGBPoints:[-1,0,0,0,-.87451,.0742735,.0440331,.230013,-.74902,.125276,.0258685,.415826,-.623529,.143879,.0163031,.591346,-.498039,.212261,.0627855,.705239,-.372549,.306048,.141178,.763636,-.247059,.391537,.232286,.773263,-.121569,.461734,.336633,.708321,.00392157,.54209,.427581,.590007,.129412,.61704,.508623,.460978,.254902,.702703,.579586,.309117,.380392,.790336,.644811,.170397,.505882,.870173,.710733,.117134,.631373,.93656,.781991,.157144,.756863,.965672,.862068,.409836,.882353,.985751,.936296,.714162,1,1,1,.999999]},{ColorSpace:"Lab",Name:"erdc_sapphire2gold_BW",RGBPoints:[-1,.107704,.107708,.107694,-.87451,.1851,.112354,.308554,-.74902,.236782,.114233,.48788,-.623529,.28296,.126187,.639464,-.498039,.344787,.171643,.739713,-.372549,.413325,.242371,.76913,-.247059,.481863,.3131,.719841,-.121569,.550402,.383829,.612222,.00392157,.61894,.454558,.51126,.129412,.687478,.525287,.39993,.254902,.756017,.596016,.289923,.380392,.824555,.666745,.255498,.505882,.892979,.736822,.27696,.631373,.938851,.804966,.351734,.756863,.966491,.874853,.53572,.882353,.982105,.94153,.782579,1,1,1,.999986]},{ColorSpace:"Lab",Name:"erdc_red2purple_BW",RGBPoints:[-1,0,0,0,-.87451,.167793,.0166271,.0431278,-.74902,.262608,.0107595,.0791181,-.623529,.351902,.0101858,.100926,-.498039,.441257,.0160835,.131919,-.372549,.5221,.0555972,.195625,-.247059,.593852,.104294,.310234,-.121569,.654628,.158115,.448486,.00392157,.707443,.220914,.570253,.129412,.749504,.293268,.67897,.254902,.781587,.370517,.779269,.380392,.809951,.451099,.855831,.505882,.84424,.531462,.900451,.631373,.865174,.620901,.91606,.756863,.875041,.714054,.910284,.882353,.880764,.80554,.896276,1,.887572,.887591,.887556]},{ColorSpace:"Lab",Name:"erdc_purple2pink_BW",RGBPoints:[-1,0,0,0,-.87451,.117562,.0291202,.175876,-.74902,.178368,.0458476,.285454,-.623529,.237731,.0680173,.387717,-.498039,.300877,.0956291,.484802,-.372549,.370929,.136858,.554985,-.247059,.449033,.189273,.58863,-.121569,.529971,.245796,.598587,.00392157,.609914,.300643,.610244,.129412,.697079,.351286,.616371,.254902,.785858,.401991,.617376,.380392,.862517,.45745,.64463,.505882,.91359,.525462,.705336,.631373,.932583,.61064,.767412,.756863,.922478,.706966,.817522,.882353,.901302,.803071,.856311,1,.887571,.887591,.887549]},{ColorSpace:"Lab",Name:"erdc_pbj_lin",RGBPoints:[-1,0,0,0,-.87451,.091821,.0611476,.10617,-.74902,.160311,.0900022,.192713,-.623529,.22484,.12126,.272128,-.498039,.291263,.157469,.340828,-.372549,.360015,.200388,.388903,-.247059,.437497,.250058,.387201,-.121569,.512636,.304969,.355955,.00392157,.582603,.360874,.33488,.129412,.655126,.416374,.306351,.254902,.725889,.473329,.279051,.380392,.778125,.537928,.302697,.505882,.815894,.606931,.382431,.631373,.839159,.679308,.497608,.756863,.854748,.751666,.631792,.882353,.869483,.822508,.768592,1,.887572,.887589,.887565]},{ColorSpace:"Lab",Name:"erdc_blue2green_muted",RGBPoints:[-1,.107704,.107708,.107695,-.87451,.141522,.13066,.270741,-.74902,.180123,.146119,.42308,-.623529,.210161,.169674,.551795,-.498039,.239701,.212939,.634969,-.372549,.253916,.282947,.653641,-.247059,.242791,.366933,.608521,-.121569,.226302,.446776,.52693,.00392157,.236237,.514689,.458798,.129412,.274641,.577589,.376069,.254902,.349625,.633993,.288131,.380392,.4437,.683677,.260497,.505882,.536247,.731214,.285424,.631373,.628472,.777128,.349151,.756863,.718259,.819287,.496825,.882353,.804768,.856164,.703299,1,.887571,.887591,.887548]},{ColorSpace:"Lab",Name:"erdc_blue2green_BW",RGBPoints:[-1,3.63578e-7,0,529374e-11,-.87451,.0539915,.0577948,.212806,-.74902,.0620393,.0758942,.388959,-.623529,.0697499,.102032,.54177,-.498039,.113295,.156156,.64334,-.372549,.152047,.243196,.670283,-.247059,.158096,.344084,.622864,-.121569,.151142,.43922,.532767,.00392157,.17155,.521588,.457719,.129412,.225861,.599141,.363997,.254902,.32328,.67007,.259083,.380392,.442344,.733697,.223754,.505882,.558409,.794941,.257411,.631373,.673875,.854344,.340822,.756863,.787244,.909326,.524717,.882353,.896483,.958063,.775914,1,1,1,.999982]},{ColorSpace:"Lab",Name:"GREEN-WHITE_LINEAR",RGBPoints:[-1,0,0,0,-.87451,0,.062745,0,-.74902,0,.12549,0,-.623529,0,.188235,0,-.498039,0,.25098,0,-.372549,0,.313725,0,-.247059,0,.376471,0,-.121569,.094118,.439216,0,.00392157,.196078,.501961,0,.129412,.294118,.564706,0,.254902,.396078,.627451,0,.380392,.498039,.690196,0,.505882,.6,.752941,.145098,.631373,.701961,.815686,.364706,.756863,.8,.878431,.580392,.882353,.901961,.941176,.796078,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_green2yellow_BW",RGBPoints:[-1,0,0,0,-.87451,0,.105542,.0603919,-.74902,0,.159454,.104148,-.623529,0,.219502,.15542,-.498039,0,.282276,.203811,-.372549,0,.346331,.235652,-.247059,0,.411765,.235428,-.121569,0,.477177,.217977,.00392157,.0593644,.541635,.21361,.129412,.233081,.604722,.210591,.254902,.369803,.664942,.226536,.380392,.498446,.722367,.288237,.505882,.601929,.782244,.380815,.631373,.703207,.840497,.512134,.756863,.803186,.896433,.674462,.882353,.903834,.950266,.846715,1,1,1,.999981]},{ColorSpace:"Lab",Name:"blue2cyan",RGBPoints:[-1,0,0,0,-.87451,0,.152941,.364706,-.74902,0,.254902,.470588,-.623529,0,.34902,.572549,-.498039,0,.443137,.670588,-.372549,0,.537255,.772549,-.247059,0,.627451,.870588,-.121569,0,.717647,.964706,.00392157,.0784314,.772549,1,.129412,.207843,.858824,1,.254902,.32549,.941176,1,.380392,.45098,1,1,.505882,.560784,1,1,.631373,.662745,1,1,.756863,.760784,1,1,.882353,.870588,1,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_blue2cyan_BW",RGBPoints:[-1,4.05298e-7,0,59012e-10,-.87451,.0207526,.0740933,.18093,-.74902,0,.121033,.30343,-.623529,0,.166892,.416095,-.498039,0,.216768,.524796,-.372549,.0164769,.275471,.608585,-.247059,.0544527,.344824,.659267,-.121569,.0880643,.419118,.688675,.00392157,.127938,.492556,.720256,.129412,.149476,.566946,.756918,.254902,.188961,.641333,.792122,.380392,.245482,.715336,.827609,.505882,.329216,.786235,.874761,.631373,.453558,.852803,.918466,.756863,.626281,.910493,.954,.882353,.82257,.958709,.980146,1,1,1,.999989]},{ColorSpace:"Lab",Name:"erdc_blue_BW",RGBPoints:[-1,0,0,0,-.87451,.0425591,.0763529,.150682,-.74902,.0569472,.119154,.275403,-.623529,.0635978,.164772,.395427,-.498039,.0774342,.213851,.510014,-.372549,.106815,.267034,.615102,-.247059,.122093,.324649,.720068,-.121569,.160851,.387068,.806956,.00392157,.213754,.453516,.878012,.129412,.26722,.524656,.932436,.254902,.326844,.599279,.968038,.380392,.403403,.674712,.984784,.505882,.499703,.745519,1,.631373,.615055,.813983,1,.756863,.74405,.879228,1,.882353,.877909,.941913,1,1,1,1,.999996]},{ColorSpace:"Lab",Name:"BLUE-WHITE",RGBPoints:[-1,0,0,0,-.87451,0,0,.082353,-.74902,0,0,.168627,-.623529,0,0,.254902,-.498039,0,0,.337255,-.372549,0,0,.423529,-.247059,0,0,.509804,-.121569,0,.101961,.592157,.00392157,0,.203922,.678431,.129412,0,.301961,.764706,.254902,0,.403922,.85098,.380392,0,.505882,.933333,.505882,0,.603922,1,.631373,.254902,.705882,1,.756863,.509804,.807843,1,.882353,.764706,.905882,1,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_purple_BW",RGBPoints:[-1,4.264e-8,0,6.20844e-7,-.87451,.100579,.0593111,.145666,-.74902,.167794,.0889224,.254953,-.623529,.231446,.123339,.360511,-.498039,.296699,.163027,.461278,-.372549,.363211,.209286,.55306,-.247059,.431136,.260776,.637195,-.121569,.498202,.320012,.705799,.00392157,.567456,.380459,.778091,.129412,.629381,.445284,.8448,.254902,.688373,.517374,.895694,.380392,.74891,.590906,.93976,.505882,.805017,.667956,.977626,.631373,.850914,.752618,.992396,.756863,.89724,.838454,.994093,.882353,.948461,.922603,.994449,1,1,1,.999967]},{ColorSpace:"Lab",Name:"erdc_magenta_BW",RGBPoints:[-1,0,0,254023e-10,-.87451,.128696,.0456782,.11635,-.74902,.228133,.0476299,.201452,-.623529,.327273,.0374065,.282107,-.498039,.420953,.0408166,.35709,-.372549,.511562,.0642203,.430511,-.247059,.599552,.102686,.504257,-.121569,.684646,.150536,.579429,.00392157,.765817,.205978,.656062,.129412,.839176,.27229,.731807,.254902,.89536,.357594,.797309,.380392,.930238,.457825,.846984,.505882,.945921,.564536,.880571,.631373,.948995,.670753,.902279,.756863,.947124,.772819,.918171,.882353,.947265,.869424,.934352,1,.954719,.95475,.954726]},{ColorSpace:"Lab",Name:"magenta",RGBPoints:[-1,0,0,0,-.87451,.364706,0,.152941,-.74902,.470588,0,.254902,-.623529,.572549,0,.34902,-.498039,.670588,0,.443137,-.372549,.772549,0,.537255,-.247059,.870588,0,.627451,-.121569,.964706,0,.717647,.00392157,1,.0784314,.772549,.129412,1,.207843,.858824,.254902,1,.32549,.941176,.380392,1,.45098,1,.505882,1,.560784,1,.631373,1,.662745,1,.756863,1,.760784,1,.882353,1,.870588,1,1,1,1,1]},{ColorSpace:"Lab",Name:"RED-PURPLE",RGBPoints:[-1,0,0,0,-.87451,.188235,0,.007843,-.74902,.345098,0,.035294,-.623529,.439216,0,.098039,-.498039,.533333,0,.152941,-.372549,.627451,.015686,.211765,-.247059,.721569,.031373,.266667,-.121569,.8,.047059,.329412,.00392157,.862745,.047059,.403922,.129412,.941176,.062745,.466667,.254902,.988235,.078431,.54902,.380392,.988235,.141176,.643137,.505882,.988235,.25098,.729412,.631373,.988235,.376471,.811765,.756863,.988235,.54902,.886275,.882353,.988235,.752941,.952941,1,.996078,.996078,.996078]},{ColorSpace:"Lab",Name:"erdc_red_BW",RGBPoints:[-1,0,0,0,-.87451,.147204,.0480135,.0401815,-.74902,.253411,.0617478,.0301333,-.623529,.356059,.0746331,.0446897,-.498039,.457731,.0934935,.0636931,-.372549,.557199,.122714,.0860013,-.247059,.665179,.144238,.105585,-.121569,.763833,.187056,.138326,.00392157,.847035,.254558,.189407,.129412,.905663,.345937,.258215,.254902,.941431,.447111,.346277,.380392,.962608,.546927,.457571,.505882,.987833,.637276,.569944,.631373,.994202,.732176,.687958,.756863,.993304,.826268,.800567,.882353,.994413,.917205,.906393,1,1,1,.999979]},{ColorSpace:"Lab",Name:"RED_TEMPERATURE",RGBPoints:[-1,0,0,0,-.87451,.090196,0,0,-.74902,.180392,0,0,-.623529,.270588,0,0,-.498039,.360784,0,0,-.372549,.45098,0,0,-.247059,.545098,0,0,-.121569,.635294,0,0,.00392157,.72549,.058824,0,.129412,.815686,.176471,0,.254902,.905882,.294118,0,.380392,1,.411765,0,.505882,1,.533333,.027451,.631373,1,.65098,.27451,.756863,1,.768627,.521569,.882353,1,.886275,.768627,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_orange_BW",RGBPoints:[-1,0,0,253806e-10,-.87451,.135871,.0593824,0,-.74902,.224328,.0907216,0,-.623529,.318083,.119647,0,-.498039,.414443,.150246,0,-.372549,.511077,.184884,0,-.247059,.605501,.226033,0,-.121569,.695274,.275491,0,.00392157,.777826,.334445,0,.129412,.851498,.402441,0,.254902,.915899,.47759,602975e-9,.380392,.971984,.557882,.0361443,.505882,1,.641287,.135967,.631373,1,.725198,.27997,.756863,1,.808205,.438135,.882353,1,.89306,.587036,1,1,.977928,.721599]},{ColorSpace:"Lab",Name:"heated_object",RGBPoints:[-1,0,0,0,-.87451,.34902,.0862745,0,-.74902,.45098,.172549,0,-.623529,.52549,.231373,0,-.498039,.580392,.278431,0,-.372549,.623529,.313725,0,-.247059,.670588,.352941,0,-.121569,.717647,.392157,0,.00392157,.772549,.439216,0,.129412,.839216,.494118,0,.254902,.901961,.541176,0,.380392,.968627,.6,0,.505882,1,.658824,0,.631373,1,.721569,0,.756863,1,.827451,.298039,.882353,1,.976471,.72549,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_gold_BW",RGBPoints:[-1,0,0,190933e-10,-.87451,.128363,.0636265,0,-.74902,.193795,.111057,0,-.623529,.25976,.15987,0,-.498039,.328546,.210589,0,-.372549,.399726,.26332,0,-.247059,.472969,.318261,0,-.121569,.546245,.375827,0,.00392157,.61745,.436719,0,.129412,.685545,.501113,0,.254902,.749578,.568799,0,.380392,.80962,.6394,0,.505882,.865572,.712699,.10257,.631373,.917709,.787569,.233665,.756863,.966914,.863138,.369608,.882353,1,.939405,.496104,1,.999225,1,.612275]},{ColorSpace:"Lab",Name:"erdc_brown_BW",RGBPoints:[-1,3.3216e-7,0,483629e-11,-.87451,.14693,.0518172,0,-.74902,.225806,.0814996,0,-.623529,.301681,.111452,0,-.498039,.370487,.150664,0,-.372549,.43108,.199477,0,-.247059,.4849,.255107,0,-.121569,.536798,.313486,0,.00392157,.59286,.371167,0,.129412,.653119,.428135,0,.254902,.714589,.485917,.0379541,.380392,.774667,.54565,.116634,.505882,.831222,.608047,.183895,.631373,.880305,.674199,.260298,.756863,.922314,.742472,.367086,.882353,.959408,.811222,.497258,1,.993548,.875183,.622093]},{ColorSpace:"Lab",Name:"copper_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0784314,.0501961,.0313725,-.74902,.156863,.100392,.0627451,-.623529,.235294,.150588,.0941176,-.498039,.313725,.200784,.12549,-.372549,.392157,.25098,.156863,-.247059,.470588,.301176,.188235,-.121569,.54902,.351373,.219608,.00392157,.627451,.401569,.25098,.129412,.705882,.451765,.282353,.254902,.784314,.501961,.313725,.380392,.862745,.552157,.345098,.505882,.941176,.602353,.376471,.631373,1,.652549,.407843,.756863,1,.702745,.439216,.882353,1,.752941,.470588,1,1,.8,.5]},{ColorSpace:"Lab",Name:"pink_Matlab",RGBPoints:[-1,0,0,0,-.87451,.312416,.204524,.204524,-.74902,.441822,.289241,.289241,-.623529,.54112,.354246,.354246,-.498039,.624831,.409048,.409048,-.372549,.698582,.45733,.45733,-.247059,.764404,.502282,.500979,-.121569,.791292,.591516,.54112,.00392157,.817297,.66895,.578481,.129412,.842499,.738308,.613572,.254902,.866968,.801687,.646762,.380392,.890766,.86041,.678329,.505882,.913944,.913944,.711254,.631373,.936549,.936549,.79459,.756863,.958621,.958621,.869979,.882353,.980196,.980196,.939336,1,1,1,1]},{ColorSpace:"Lab",Name:"bone_Matlab",RGBPoints:[-1,0,0,0,-.87451,.054902,.054902,.075817,-.74902,.109804,.109804,.151634,-.623529,.164706,.164706,.227451,-.498039,.219608,.219608,.303268,-.372549,.27451,.27451,.379085,-.247059,.329412,.329902,.454412,-.121569,.384314,.405719,.509314,.00392157,.439216,.481536,.564216,.129412,.494118,.557353,.619118,.254902,.54902,.63317,.67402,.380392,.603922,.708987,.728922,.505882,.660294,.783824,.783824,.631373,.746569,.838725,.838725,.756863,.832843,.893627,.893627,.882353,.919118,.948529,.948529,1,1,1,1]},{ColorSpace:"Lab",Name:"gray_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0627451,.0627451,.0627451,-.74902,.12549,.12549,.12549,-.623529,.188235,.188235,.188235,-.498039,.25098,.25098,.25098,-.372549,.313725,.313725,.313725,-.247059,.376471,.376471,.376471,-.121569,.439216,.439216,.439216,.00392157,.501961,.501961,.501961,.129412,.564706,.564706,.564706,.254902,.627451,.627451,.627451,.380392,.690196,.690196,.690196,.505882,.752941,.752941,.752941,.631373,.815686,.815686,.815686,.756863,.878431,.878431,.878431,.882353,.941176,.941176,.941176,1,1,1,1]},{ColorSpace:"Lab",Name:"Purples",RGBPoints:[-1,.247059,0,.490196,-.87451,.288397,.07677,.525629,-.74902,.32975,.153587,.561092,-.623529,.373057,.236263,.600461,-.498039,.416363,.319,.639923,-.372549,.459669,.405613,.685198,-.247059,.503345,.491534,.730058,-.121569,.562399,.54862,.757616,.00392157,.621453,.606075,.785544,.129412,.680508,.674971,.824914,.254902,.739562,.743406,.863899,.380392,.798616,.800492,.893426,.505882,.85684,.856655,.922491,.631373,.898178,.894056,.942176,.756863,.938654,.930919,.961646,.882353,.964245,.958478,.977393,1,.988235,.984314,.992157]},{ColorSpace:"Lab",Name:"Blues",RGBPoints:[-1,.031373,.188235,.419608,-.87451,.031373,.253195,.516063,-.74902,.031757,.318139,.612149,-.623529,.080969,.38113,.661361,-.498039,.130427,.444152,.710327,-.372549,.195386,.509112,.743791,-.247059,.260715,.573841,.777209,-.121569,.341423,.628958,.808704,.00392157,.422745,.684075,.839892,.129412,.523137,.739193,.861546,.254902,.622684,.793464,.883429,.380392,.701423,.826928,.910988,.505882,.778685,.8603,.937993,.631373,.825928,.891795,.953741,.756863,.87328,.923291,.969489,.882353,.922491,.954787,.985236,1,.968627,.984314,1]},{ColorSpace:"Lab",Name:"Greens",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546082,.271326,-.372549,.197232,.609073,.31857,-.247059,.257255,.671742,.365859,-.121569,.357647,.720953,.415071,.00392157,.45767,.769919,.465021,.129412,.546251,.811257,.537855,.254902,.634295,.852211,.610688,.380392,.709097,.883706,.683522,.505882,.78316,.914833,.755894,.631373,.842215,.938454,.818885,.756863,.899977,.961538,.880692,.882353,.935409,.975317,.92203,1,.968627,.988235,.960784]},{ColorSpace:"Lab",Name:"PuBu",RGBPoints:[-1,.301961,0,.294118,-.87451,.404321,.029527,.390573,-.74902,.50599,.059592,.486782,-.623529,.519769,.158016,.551742,-.498039,.533456,.256194,.616301,-.372549,.54133,.33887,.655671,-.247059,.54902,.421592,.695087,-.121569,.54902,.506236,.736424,.00392157,.550127,.590573,.777701,.129412,.585559,.665375,.81707,.254902,.622145,.739023,.855825,.380392,.687105,.784298,.879446,.505882,.752065,.829758,.903253,.631373,.817024,.87897,.930811,.756863,.880907,.927213,.957832,.882353,.926182,.958708,.975548,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"BuPu",RGBPoints:[-1,.007843,.219608,.345098,-.87451,.01178,.286536,.449427,-.74902,.015702,.35328,.553479,-.623529,.01767,.396586,.622376,-.498039,.021115,.4402,.690688,-.372549,.11757,.503191,.722184,-.247059,.214625,.565859,.753633,-.121569,.336671,.615071,.78316,.00392157,.457978,.663975,.812503,.129412,.556401,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821638,.903068,.631373,.873387,.864944,.92669,.756863,.927536,.907605,.949988,.882353,.964937,.9391,.967705,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGn",RGBPoints:[-1,.031373,.25098,.505882,-.87451,.031373,.329719,.590527,-.74902,.031911,.408397,.674787,-.623529,.100807,.479262,.710219,-.498039,.169704,.550219,.745744,-.372549,.238601,.62699,.787082,-.247059,.307958,.703114,.826759,-.121569,.39654,.752326,.797232,.00392157,.485121,.801046,.767705,.129412,.573702,.83451,.738178,.254902,.661592,.867743,.711034,.380392,.732457,.895302,.74253,.505882,.801845,.922307,.774579,.631373,.841215,.938055,.817885,.756863,.880907,.95391,.861084,.882353,.926182,.971626,.902422,1,.968627,.988235,.941176]},{ColorSpace:"Lab",Name:"GnBu",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546175,.272095,-.372549,.197232,.615071,.368551,-.247059,.256609,.683276,.464867,-.121569,.329443,.722645,.555417,.00392157,.403137,.762138,.645413,.129412,.503529,.805444,.718247,.254902,.603922,.848597,.790465,.380392,.704314,.887966,.847551,.505882,.802307,.926321,.903714,.631373,.851519,.944037,.941115,.756863,.899977,.961538,.976901,.882353,.935409,.975317,.984775,1,.968627,.988235,.992157]},{ColorSpace:"Lab",Name:"GnBuPu",RGBPoints:[-1,.003922,.27451,.211765,-.87451,.003922,.349312,.280661,-.74902,.003937,.423852,.349773,-.623529,.005905,.46519,.446228,-.498039,.009443,.506344,.542837,-.372549,.111803,.535871,.649135,-.247059,.214025,.565859,.753633,-.121569,.310481,.615071,.78316,.00392157,.407797,.663975,.812503,.129412,.531811,.703345,.836125,.254902,.65421,.742714,.859669,.380392,.736886,.782084,.881323,.505882,.81827,.821176,.902884,.631373,.873387,.854641,.922568,.756863,.927536,.888535,.942361,.882353,.964937,.929873,.964014,1,1,.968627,.984314]},{ColorSpace:"Lab",Name:"BuGnYl",RGBPoints:[-1,.031373,.113725,.345098,-.87451,.088458,.159,.463206,-.74902,.145052,.204567,.5807,-.623529,.139146,.287243,.620069,-.498039,.13318,.370196,.659562,-.372549,.123337,.470588,.706805,-.247059,.115386,.570335,.753126,-.121569,.186251,.643168,.761,.00392157,.258716,.71514,.768074,.129412,.380761,.760415,.750358,.254902,.503576,.806075,.732795,.380392,.645306,.861192,.719016,.505882,.783899,.91511,.705606,.631373,.858701,.944637,.6997,.756863,.931349,.973303,.698424,.882353,.966782,.987082,.777163,1,1,1,.85098]},{ColorSpace:"Lab",Name:"PuRd",RGBPoints:[-1,.286275,0,.415686,-.87451,.38273,.001968,.441276,-.74902,.479231,.003922,.466774,-.623529,.581592,.003922,.480554,-.498039,.683799,.00549,.494887,-.372549,.776317,.105882,.544098,-.247059,.867866,.206321,.592618,-.121569,.919047,.308681,.612303,.00392157,.968812,.411226,.632603,.129412,.974717,.519493,.671972,.254902,.980546,.626451,.71065,.380392,.984483,.701253,.732303,.505882,.988328,.77504,.755617,.631373,.990296,.828189,.812703,.756863,.992372,.880907,.869035,.882353,.996309,.926182,.912341,1,1,.968627,.952941]},{ColorSpace:"Lab",Name:"RdPu",RGBPoints:[-1,.403922,0,.121569,-.87451,.500377,0,.192434,-.74902,.596909,277e-6,.263037,-.623529,.703206,.035709,.300438,-.498039,.808612,.071296,.338854,-.372549,.857824,.116571,.441215,-.247059,.905513,.163552,.54293,-.121569,.889765,.281661,.617732,.00392157,.873156,.39897,.691611,.129412,.82985,.491488,.736886,.254902,.789081,.583237,.781853,.380392,.810734,.656071,.819254,.505882,.833126,.729181,.85684,.631373,.870527,.80792,.898178,.756863,.907605,.884398,.938331,.882353,.9391,.921799,.958016,1,.968627,.956863,.976471]},{ColorSpace:"Lab",Name:"Oranges",RGBPoints:[-1,.498039,.152941,.015686,-.87451,.57481,.182468,.013718,-.74902,.651765,.212042,.011734,-.623529,.752157,.247474,.007797,-.498039,.851719,.283368,.004475,-.372549,.898962,.348328,.039908,-.247059,.945652,.413426,.076401,-.121569,.969273,.484291,.157109,.00392157,.992157,.554971,.238185,.129412,.992157,.619931,.330704,.254902,.992157,.684967,.423837,.380392,.992157,.751895,.532103,.505882,.992249,.817716,.639354,.631373,.994218,.861023,.725967,.756863,.996186,.903576,.810965,.882353,.998155,.933103,.868051,1,1,.960784,.921569]},{ColorSpace:"Lab",Name:"Reds",RGBPoints:[-1,.403922,0,.05098,-.87451,.525967,.029527,.066728,-.74902,.647643,.058962,.082476,-.623529,.722445,.076678,.098224,-.498039,.797186,.095194,.114187,-.372549,.868051,.164091,.143714,-.247059,.937809,.233541,.173933,-.121569,.96143,.326059,.232987,.00392157,.984375,.418147,.292657,.129412,.986344,.496886,.371396,.254902,.988235,.575702,.450673,.380392,.988235,.656409,.543191,.505882,.98842,.736747,.635894,.631373,.992357,.809581,.732349,.756863,.996186,.880692,.826759,.882353,.998155,.92203,.885813,1,1,.960784,.941176]},{ColorSpace:"Lab",Name:"RdOr",RGBPoints:[-1,.498039,0,0,-.87451,.6004,0,0,-.74902,.702514,738e-6,477e-6,-.623529,.773379,.095225,.061499,-.498039,.843875,.189865,.12283,-.372549,.891119,.294195,.203537,-.247059,.937855,.397924,.283137,-.121569,.963445,.476663,.316601,.00392157,.988297,.555771,.351665,.129412,.990265,.646321,.436309,.254902,.992157,.735256,.519646,.380392,.992157,.784468,.570827,.505882,.992249,.833218,.623483,.631373,.994218,.872587,.706159,.756863,.996186,.911419,.788189,.882353,.998155,.940946,.859054,1,1,.968627,.92549]},{ColorSpace:"Lab",Name:"BrOrYl",RGBPoints:[-1,.4,.145098,.023529,-.87451,.500392,.174625,.019592,-.74902,.600784,.204291,.015656,-.623529,.701176,.251534,.011719,-.498039,.800984,.299146,.008397,-.372549,.863975,.370012,.043829,-.247059,.926321,.441107,.0794,-.121569,.961753,.521815,.120738,.00392157,.996078,.602645,.163122,.129412,.996078,.68729,.237924,.254902,.996078,.771011,.314879,.380392,.996078,.832034,.444798,.505882,.996171,.892042,.572595,.631373,.998139,.931411,.65724,.756863,1,.969489,.741669,.882353,1,.985236,.822376,1,1,1,.898039]},{ColorSpace:"Lab",Name:"RdOrYl",RGBPoints:[-1,.501961,0,.14902,-.87451,.622038,0,.14902,-.74902,.741761,4e-4,.148866,-.623529,.816563,.05158,.129181,-.498039,.890965,.10356,.110235,-.372549,.940177,.205921,.137793,-.247059,.988281,.308789,.165536,-.121569,.99025,.432803,.200969,.00392157,.992218,.555217,.236278,.129412,.994187,.628051,.267774,.254902,.996078,.701038,.301269,.380392,.996078,.777809,.383945,.505882,.996171,.852826,.466621,.631373,.998139,.892195,.549296,.756863,1,.931349,.632188,.882353,1,.966782,.7188,1,1,1,.8]},{ColorSpace:"Lab",Name:"CIELab_blue2red",RGBPoints:[-1,0,.6,.74902,1,.76863,.46667,.34118]},{ColorSpace:"Lab",Name:"blue2yellow",RGBPoints:[-1,0,0,1,0,.5,.5,.5,1,1,1,0]},{ColorSpace:"Lab",Name:"erdc_blue2gold",RGBPoints:[-1,.175119,.0438468,1,-.874016,.22383,.159771,.94557,-.748031,.27254,.233611,.891216,-.622047,.321251,.296526,.836857,-.496063,.369962,.354296,.782359,-.370079,.418672,.409139,.72754,-.244094,.467383,.462152,.672148,-.11811,.51609,.51396,.615825,.00787402,.572863,.55452,.559172,.133858,.630269,.593822,.517729,.259843,.689588,.624668,.47446,.385827,.745394,.656113,.428638,.511811,.798624,.688104,.379105,.637795,.849926,.720593,.323834,.76378,.899765,.753543,.258657,.889764,.948487,.78692,.171778,1,.990413,.816451,.00729848]},{ColorSpace:"Lab",Name:"erdc_blue2yellow",RGBPoints:[-1,.0830122,0,.495617,-.87451,.141973,.0551288,.57363,-.74902,.193048,.110258,.604561,-.623529,.234231,.165386,.57643,-.498039,.275413,.220515,.548299,-.372549,.316596,.275644,.520169,-.247059,.357778,.330773,.492038,-.121569,.398961,.385901,.463908,.00392157,.449929,.438487,.426815,.129412,.511572,.488299,.379944,.254902,.581222,.53603,.325741,.380392,.650871,.583761,.271538,.505882,.720521,.631493,.217335,.631373,.79017,.679224,.163132,.756863,.85982,.726955,.108929,.882353,.910254,.774159,.14112,1,.927513,.81759,.306289]},{ColorSpace:"Lab",Name:"erdc_cyan2orange",RGBPoints:[-1,.0471513,.213874,.414329,-.87451,.0674702,.256648,.439027,-.74902,.0959957,.299331,.462089,-.623529,.132428,.341872,.483212,-.498039,.188743,.38277,.500597,-.372549,.268511,.420229,.512179,-.247059,.352945,.455602,.519101,-.121569,.43893,.489368,.521538,.00392157,.522445,.522495,.522436,.129412,.600089,.555682,.53205,.254902,.67988,.587981,.539163,.380392,.761011,.619586,.544439,.505882,.84278,.650741,.548567,.631373,.910713,.687347,.557822,.756863,.952232,.734972,.577775,.882353,.975642,.789858,.604868,1,.990752,.843643,.632857]},{ColorSpace:"Lab",Name:"erdc_purple2green",RGBPoints:[-1,.235006,.0483128,.530899,-.87451,.302968,.108419,.552391,-.74902,.360241,.166059,.569502,-.623529,.406746,.226782,.579373,-.498039,.444073,.28964,.582094,-.372549,.473648,.353774,.577947,-.247059,.497636,.418154,.567911,-.121569,.519086,.481741,.553968,.00392157,.542884,.542914,.542875,.129412,.566303,.603989,.527499,.254902,.595218,.662965,.516857,.380392,.628641,.720701,.510673,.505882,.665373,.777849,.508165,.631373,.704182,.834921,.508303,.756863,.743846,.892328,.50999,.882353,.783158,.950422,.512181,1,.818617,1,.513888]},{ColorSpace:"Lab",Name:"erdc_purple2green_dark",RGBPoints:[-1,.107656,0,.428682,-.87451,.1924,0,.449799,-.74902,.255118,.0648939,.466726,-.623529,.304256,.133066,.476703,-.498039,.343202,.19716,.479793,-.372549,.373876,.260353,.476241,-.247059,.398497,.322872,.466953,-.121569,.420016,.384252,.453785,.00392157,.44319,.443216,.443186,.129412,.465553,.502139,.428233,.254902,.492959,.559151,.417591,.380392,.524654,.615092,.411016,.505882,.55959,.670583,.40779,.631373,.596614,.726102,.406948,.756863,.634544,.782032,.407439,.882353,.672183,.838703,.408237,1,.706131,.892759,.408452]},{ColorSpace:"Lab",Name:"coolwarm",RGBPoints:[-1,.229806,.298718,.753683,-.875,.303869,.406535,.844959,-.75,.383013,.509419,.917388,-.625,.466667,.604563,.968155,-.5,.552953,.688929,.995376,-.375,.639176,.7596,.998151,-.25,.722193,.813953,.976575,-.125,.798692,.849786,.931689,0,.865395,.86541,.865396,.125,.924128,.827385,.774508,.25,.958853,.769768,.678008,.375,.969954,.694267,.579375,.5,.958003,.602842,.481776,.625,.923945,.497309,.38797,.75,.869187,.378313,.300267,.875,.795632,.241284,.220526,1,.705673,.0155562,.150233]},{ColorSpace:"Lab",Name:"BuRd",RGBPoints:[-1,.019608,.188235,.380392,-.87451,.088504,.321107,.564937,-.74902,.163399,.444983,.697501,-.623529,.247059,.555709,.754095,-.498039,.420684,.676432,.818685,-.372549,.606459,.789773,.880277,-.247059,.761476,.868512,.924567,-.121569,.878047,.925721,.951942,.00392157,.969089,.966474,.964937,.129412,.983852,.897578,.846828,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"Spectral_lowBlue",RGBPoints:[-1,.368627,.309804,.635294,-.87451,.260361,.450058,.70173,-.74902,.248058,.591311,.717186,-.623529,.376009,.734025,.658132,-.498039,.537947,.814764,.64506,-.372549,.702345,.879585,.636678,-.247059,.84752,.938639,.607151,-.121569,.940408,.976163,.656055,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.937793,.398539,.270127,.756863,.861515,.282891,.299654,.882353,.746482,.144637,.288812,1,.619608,.003922,.258824]},{ColorSpace:"Lab",Name:"GnRP",RGBPoints:[-1,0,.266667,.105882,-.87451,.066436,.394617,.174779,-.74902,.168858,.524567,.25767,-.623529,.323875,.657439,.361015,-.498039,.504883,.772318,.506344,-.372549,.678431,.870127,.654902,-.247059,.803922,.921799,.780392,-.121569,.897116,.951942,.882814,.00392157,.967397,.965936,.967474,.129412,.928028,.879815,.930565,.254902,.866052,.780777,.882891,.380392,.77501,.665129,.821376,.505882,.675663,.537024,.737024,.631373,.57847,.396155,.645982,.756863,.492349,.223914,.547559,.882353,.375548,.096886,.423299,1,.25098,0,.294118]},{ColorSpace:"Lab",Name:"GYPi",RGBPoints:[-1,.152941,.392157,.098039,-.87451,.246444,.505344,.117724,-.74902,.351942,.614533,.161399,-.623529,.474971,.717878,.240138,-.498039,.611995,.811226,.392849,-.372549,.746328,.893118,.565321,-.247059,.859516,.94233,.747405,-.121569,.928105,.96386,.875663,.00392157,.969089,.966859,.968012,.129412,.983852,.910265,.948328,.254902,.979239,.833218,.914648,.380392,.949712,.729873,.862976,.505882,.905652,.58293,.763552,.631373,.85521,.410073,.652211,.756863,.793695,.183699,.531642,.882353,.683737,.063899,.420761,1,.556863,.003922,.321569]},{ColorSpace:"Lab",Name:"GnYlRd",RGBPoints:[-1,0,.407843,.215686,-.87451,.063975,.525952,.277201,-.74902,.177932,.633064,.332718,-.623529,.364937,.724106,.379469,-.498039,.527951,.797155,.40223,-.372549,.678431,.862822,.433449,-.247059,.803922,.916955,.514648,-.121569,.909419,.961861,.625067,.00392157,.999923,.997616,.745021,.129412,.997463,.921338,.61707,.254902,.995002,.824606,.499885,.380392,.992541,.701576,.39654,.505882,.973472,.547405,.318108,.631373,.939023,.389927,.245521,.756863,.867666,.239831,.176624,.882353,.762399,.110727,.151326,1,.647059,0,.14902]},{ColorSpace:"Lab",Name:"GBBr",RGBPoints:[-1,0,.235294,.188235,-.87451,.002461,.338639,.301423,-.74902,.055902,.448981,.417609,-.623529,.183852,.56955,.538178,-.498039,.357785,.700115,.660746,-.372549,.540177,.819531,.77624,-.247059,.714879,.890888,.864821,-.121569,.851134,.934564,.922645,.00392157,.960861,.959785,.95694,.129412,.963322,.927797,.83391,.254902,.939946,.868897,.68935,.380392,.883353,.775394,.517109,.505882,.808074,.625836,.324106,.631373,.717647,.476355,.15494,.756863,.592157,.358247,.06882,.882353,.458593,.26436,.031142,1,.329412,.188235,.019608]},{ColorSpace:"Lab",Name:"PuOr",RGBPoints:[-1,.498039,.231373,.031373,-.87451,.62599,.30273,.026451,-.74902,.746943,.387082,.037524,-.623529,.85767,.490427,.071972,-.498039,.936409,.617762,.236371,-.372549,.992695,.743099,.43291,-.247059,.995156,.841523,.63714,-.121569,.985313,.913802,.813687,.00392157,.966244,.966398,.967705,.129412,.889965,.89504,.938178,.254902,.806151,.804306,.894656,.380392,.712649,.688658,.833141,.505882,.594233,.554325,.744637,.631373,.474894,.404229,.652364,.756863,.366628,.217224,.563783,.882353,.266436,.089965,.434833,1,.176471,0,.294118]},{ColorSpace:"Lab",Name:"PRGn",RGBPoints:[-1,.25098,0,.294118,-.87451,.383852,.103345,.431911,-.74902,.497732,.234679,.55371,-.623529,.583852,.40692,.652134,-.498039,.681968,.545175,.742561,-.372549,.7807,.672357,.825221,-.247059,.871742,.788005,.886736,-.121569,.930488,.885198,.932872,.00392157,.966321,.968089,.965859,.129412,.892503,.950865,.877278,.254902,.796078,.91857,.772549,.380392,.670588,.866897,.647059,.505882,.493195,.765398,.496655,.631373,.314187,.649135,.354556,.756863,.15917,.516263,.251211,.882353,.062284,.386621,.170473,1,0,.266667,.105882]},{ColorSpace:"Lab",Name:"PiYG",RGBPoints:[-1,.556863,.003922,.321569,-.87451,.692195,.067897,.427374,-.74902,.797539,.197847,.539177,-.623529,.859054,.424221,.659746,-.498039,.908574,.592618,.770319,-.372549,.951557,.736332,.866205,-.247059,.981084,.839677,.917878,-.121569,.98293,.913802,.949558,.00392157,.96732,.968474,.965629,.129412,.92549,.963552,.869666,.254902,.852441,.939254,.736025,.380392,.739254,.890042,.553941,.505882,.60323,.805536,.382238,.631373,.467282,.711419,.235217,.756863,.344252,.608074,.156478,.882353,.2406,.49827,.116494,1,.152941,.392157,.098039]},{ColorSpace:"Lab",Name:"OrPu",RGBPoints:[-1,.176471,0,.294118,-.87451,.272434,.095963,.444214,-.74902,.373395,.228912,.56932,-.623529,.481661,.415917,.657901,-.498039,.601922,.562937,.750481,-.372549,.718493,.695886,.836986,-.247059,.811995,.811534,.898501,-.121569,.894733,.8995,.940023,.00392157,.969166,.966859,.963629,.129412,.98639,.910265,.803691,.254902,.995002,.835371,.624375,.380392,.992541,.736947,.420146,.505882,.931949,.609458,.224221,.631373,.85075,.483968,.069819,.756863,.740023,.380623,.035371,.882353,.617993,.29827,.026759,1,.498039,.231373,.031373]},{ColorSpace:"Lab",Name:"BrBG",RGBPoints:[-1,.329412,.188235,.019608,-.87451,.467205,.269435,.031911,-.74902,.6,.365629,.074202,-.623529,.72549,.483737,.160323,-.498039,.812995,.635832,.336409,-.372549,.88689,.781238,.527874,-.247059,.943483,.87474,.700115,-.121569,.963168,.929796,.841599,.00392157,.957247,.959938,.959554,.129412,.84406,.932872,.920185,.254902,.70396,.886428,.859285,.380392,.529258,.815071,.770704,.505882,.346251,.691811,.653057,.631373,.175855,.562015,.530642,.756863,.047905,.441446,.410073,.882353,.002307,.33218,.294348,1,0,.235294,.188235]},{ColorSpace:"Lab",Name:"GyRd",RGBPoints:[-1,.101961,.101961,.101961,-.87451,.227451,.227451,.227451,-.74902,.359939,.359939,.359939,-.623529,.502653,.502653,.502653,-.498039,.631373,.631373,.631373,-.372549,.749865,.749865,.749865,-.247059,.843368,.843368,.843368,-.121569,.926105,.926105,.926105,.00392157,.999846,.997232,.995694,.129412,.994925,.908651,.857901,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen",RGBPoints:[-1,.297553,0,.489074,-.87451,.40259,.151146,.567754,-.74902,.516038,.284843,.658231,-.623529,.629783,.423646,.750938,-.498039,.735198,.563697,.835956,-.372549,.82408,.695541,.903582,-.247059,.889091,.807454,.944862,-.121569,.92334,.886917,.951839,.00392157,.921045,.921084,.921003,.129412,.877324,.907455,.845381,.254902,.797649,.849713,.734695,.380392,.691646,.75964,.600532,.505882,.568981,.649159,.453807,.631373,.438945,.529756,.304259,.756863,.30973,.412001,.158303,.882353,.187078,.305111,.00251458,1,.101655,.220836,0]},{ColorSpace:"Lab",Name:"erdc_divHi_purpleGreen_dim",RGBPoints:[-1,.404088,.131038,.592767,-.87451,.486469,.230957,.651243,-.74902,.575165,.339335,.717723,-.623529,.662741,.454332,.784263,-.498039,.742071,.570213,.842918,-.372549,.806935,.678992,.886227,-.247059,.852219,.771315,.90763,-.121569,.873345,.837327,.901572,.00392157,.866783,.86682,.866745,.129412,.82839,.858225,.796812,.254902,.762578,.814287,.700202,.380392,.676429,.744229,.585735,.505882,.577033,.65732,.461526,.631373,.47128,.562476,.33476,.756863,.365461,.467957,.21076,.882353,.264758,.381138,.0878313,1,.182591,.312249,0]},{ColorSpace:"Lab",Name:"erdc_divLow_icePeach",RGBPoints:[-1,.480048,.817441,.998056,-.87451,.425898,.726921,.883187,-.74902,.366682,.629445,.761936,-.623529,.308756,.531002,.640217,-.498039,.258021,.43705,.523433,-.372549,.219244,.352381,.416348,-.247059,.195127,.281032,.322979,-.121569,.186286,.22627,.246525,.00392157,.192352,.19236,.192364,.129412,.255927,.214469,.191756,.254902,.340459,.254426,.206666,.380392,.444655,.309315,.234029,.505882,.565353,.376004,.270969,.631373,.697917,.450748,.314293,.756863,.836657,.529064,.360227,.882353,.972695,.614884,.413123,1,1,.705904,.472699]},{ColorSpace:"Lab",Name:"erdc_divLow_purpleGreen",RGBPoints:[-1,.956034,.666487,.952663,-.87451,.874457,.572698,.936352,-.74902,.753465,.488253,.909063,-.623529,.63309,.413507,.763833,-.498039,.514491,.345878,.620015,-.372549,.405008,.288141,.484376,-.247059,.311388,.241986,.363556,-.121569,.238722,.209044,.263449,.00392157,.192352,.192366,.192362,.129412,.200379,.233201,.168618,.254902,.230151,.291737,.165227,.380392,.279481,.366076,.178607,.505882,.344927,.453267,.205703,.631373,.421554,.549449,.242643,.756863,.503334,.649999,.284377,.882353,.583497,.749672,.324969,1,.650705,.837228,.356264]},{ColorSpace:"Lab",Name:"Haze_green",RGBPoints:[-1,1,.835294,.886275,-.87451,.937255,.756863,.870443,-.74902,.875817,.666376,.857807,-.623529,.778359,.583007,.808134,-.498039,.676253,.494118,.745098,-.372549,.561365,.390123,.682353,-.247059,.438344,.262745,.621496,-.121569,.321133,.141031,.558751,.00392157,.203922,.0217865,.495861,.129412,.265505,.129412,.433261,.254902,.311692,.255338,.37008,.380392,.356282,.377342,.310821,.505882,.39971,.488889,.258243,.631373,.442556,.604357,.205519,.756863,.48671,.71968,.152941,.882353,.529847,.830356,.100944,1,.572549,.933333,.054902]},{ColorSpace:"Lab",Name:"Haze_lime",RGBPoints:[-1,.704034,.784196,1,-.87451,.633111,.691418,.956078,-.74902,.564021,.600606,.912157,-.623529,.496827,.51189,.868235,-.498039,.43157,.425416,.824314,-.372549,.368248,.341347,.780392,-.247059,.306767,.259855,.736471,-.121569,.246862,.181069,.692549,.00392157,.191619,.109542,.648627,.129412,.257404,.194031,.604706,.254902,.321794,.278775,.560784,.380392,.387909,.364617,.516863,.505882,.456569,.451881,.472941,.631373,.527424,.540773,.42902,.756863,.599759,.631427,.385098,.882353,.673065,.723898,.341176,1,.742751,.812252,.3]},{ColorSpace:"RGB",Name:"Haze",RGBPoints:[-1,1,.835294,.996078,-.00392157,.023529,.141176,.498039,.00392157,.015686,.137255,.494118,1,.984314,.764706,0]},{ColorSpace:"Lab",Name:"Haze_cyan",RGBPoints:[-1,.956863,1,.835294,-.87451,.933188,.921714,.760784,-.74902,.870588,.803486,.671605,-.623529,.807843,.684096,.583297,-.498039,.745098,.569208,.494118,-.372549,.682353,.437763,.390123,-.247059,.621496,.288163,.262745,-.121569,.558751,.144517,.141031,.00392157,.495861,.0217865,.0413943,.129412,.433261,.137255,.129412,.254902,.37008,.263181,.255338,.380392,.306318,.381845,.372694,.505882,.243137,.503994,.494263,.631373,.180392,.629484,.619753,.756863,.117647,.754975,.747131,.882353,.054902,.876398,.866812,1,0,.988235,.976471]},{ColorSpace:"Lab",Name:"nic_Edge",RGBPoints:[-1,.191208,.191208,.191208,-.87451,.239484,.00545035,.614821,-.74902,.220593,.0617459,.863547,-.623529,.17509,.278988,.97794,-.498039,.143526,.576069,.998553,-.372549,.166456,.871883,.96594,-.247059,.376202,.993555,.981833,-.121569,.681996,.991297,.999239,.00392157,.954172,.952734,.94374,.129412,.999735,.99301,.662896,.254902,.979399,.991466,.357973,.380392,.968771,.854967,.162659,.505882,.999245,.556697,.144323,.631373,.973959,.26223,.177946,.756863,.852358,.0526707,.222974,.882353,.593889,.00912724,.238855,1,.191208,.191208,.191208]},{ColorSpace:"Lab",Name:"erdc_iceFire_H",RGBPoints:[-1,4.05432e-7,0,590122e-11,-.87451,0,.120401,.302675,-.74902,0,.216583,.524574,-.623529,.0552475,.345025,.6595,-.498039,.128047,.492588,.720288,-.372549,.188955,.641309,.792092,-.247059,.327673,.784935,.873434,-.121569,.60824,.892164,.935547,.00392157,.881371,.912178,.818099,.129412,.951407,.835621,.449279,.254902,.904481,.690489,0,.380392,.85407,.510864,0,.505882,.777093,.33018,88199e-8,.631373,.672862,.139087,.00269398,.756863,.508815,0,0,.882353,.299417,366289e-9,547829e-9,1,.0157519,.00332021,4.55569e-8]},{ColorSpace:"Lab",Name:"erdc_iceFire_L",RGBPoints:[-1,.870485,.913768,.832905,-.87451,.586919,.887865,.934003,-.74902,.31583,.776442,.867858,-.623529,.18302,.632034,.787722,-.498039,.117909,.484134,.713825,-.372549,.0507239,.335979,.654741,-.247059,0,.209874,.511832,-.121569,0,.114689,.28935,.00392157,.0157519,.00332021,4.55569e-8,.129412,.312914,0,0,.254902,.520865,0,0,.380392,.680105,.15255,.0025996,.505882,.785109,.339479,797922e-9,.631373,.857354,.522494,0,.756863,.910974,.699774,0,.882353,.951921,.842817,.478545,1,.881371,.912178,.818099]},{ColorSpace:"RGB",Name:"hsv",RGBPoints:[-1,1,0,0,-.666666,1,0,1,-.333333,0,0,1,0,0,1,1,.33333,0,1,0,.66666,1,1,0,1,1,0,0]},{ColorSpace:"Lab",Name:"hue_L60",RGBPoints:[-1,.964784,.400592,.349549,-.87451,.964915,.372498,.53785,-.74902,.892353,.401039,.759569,-.623529,.79263,.446956,.903017,-.498039,.682208,.49954,.966673,-.372549,.56392,.553082,.968836,-.247059,.442031,.606396,.901601,-.121569,.305499,.65701,.765784,.00392157,.197251,.687914,.620914,.129412,.193882,.701887,.472654,.254902,.249866,.706123,.320005,.380392,.35132,.697417,.202919,.505882,.498097,.669467,.125232,.631373,.637477,.626239,.107431,.756863,.762115,.56872,.155812,.882353,.889434,.481116,.240445,1,.964784,.400592,.349549]},{ColorSpace:"Lab",Name:"erdc_rainbow_bright",RGBPoints:[-1,.32549,.14902,.960784,-.866221,.297047,.375586,.963836,-.732441,.180302,.536818,.964627,-.598662,.1302,.649207,.929647,-.464883,.0445143,.749654,.855998,-.331104,.0271325,.830713,.721527,-.197324,.259504,.866145,.543555,-.0635452,.428364,.890725,.329819,.0702341,.568503,.898508,.187623,.204013,.738259,.890317,.0825461,.337793,.84546,.86136,.0147555,.471572,.912191,.808018,0,.605351,.962848,.710445,0,.73913,.999469,.600258,.0176284,.87291,.994156,.445975,.193912,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"erdc_rainbow_dark",RGBPoints:[-1,0,0,.423499,-.866221,0,.119346,.529237,-.732441,0,.238691,.634976,-.598662,0,.346852,.68788,-.464883,0,.45022,.718141,-.331104,0,.553554,.664839,-.197324,0,.651082,.519303,-.0635452,.115841,.72479,.352857,.0702341,.326771,.781195,.140187,.204013,.522765,.798524,.0284624,.337793,.703162,.788685,.00885756,.471572,.845118,.751133,0,.605351,.955734,.690825,0,.73913,.995402,.567916,.0618524,.87291,.987712,.403398,.164851,1,.980407,.247105,.262699]},{ColorSpace:"Lab",Name:"nic_CubicL",RGBPoints:[-1,.479965,.0118108,.5307,-.87451,.522213,.0551282,.706919,-.74902,.50839,.237278,.867764,-.623529,.451617,.373834,.987255,-.498039,.39365,.497255,.97506,-.372549,.328631,.599639,.891843,-.247059,.250043,.690286,.778553,-.121569,.249656,.764905,.645857,.00392157,.297954,.821466,.50449,.129412,.337509,.872595,.358447,.254902,.430011,.913789,.297079,.380392,.587191,.931381,.333353,.505882,.727937,.93591,.353742,.631373,.826403,.921081,.365066,.756863,.893201,.846317,.372662,.882353,.965347,.73884,.378506,1,.983235,.597451,.366856]},{ColorSpace:"Lab",Name:"gray_Matlab",RGBPoints:[-1,0,0,0,-.87451,.0627451,.0627451,.0627451,-.74902,.12549,.12549,.12549,-.623529,.188235,.188235,.188235,-.498039,.25098,.25098,.25098,-.372549,.313725,.313725,.313725,-.247059,.376471,.376471,.376471,-.121569,.439216,.439216,.439216,.00392157,.501961,.501961,.501961,.129412,.564706,.564706,.564706,.254902,.627451,.627451,.627451,.380392,.690196,.690196,.690196,.505882,.752941,.752941,.752941,.631373,.815686,.815686,.815686,.756863,.878431,.878431,.878431,.882353,.941176,.941176,.941176,1,1,1,1]},{ColorSpace:"Lab",Name:"erdc_red2yellow_BW",RGBPoints:[-1,7.54296e-7,0,109827e-10,-.87451,.18285,.0264094,0,-.74902,.3066,0,0,-.623529,.422841,0,0,-.498039,.522945,0,0,-.372549,.605721,0,0,-.247059,.672502,.14168,0,-.121569,.728167,.244025,0,.00392157,.781215,.333454,0,.129412,.825,.423586,0,.254902,.855893,.516793,0,.380392,.880491,.608846,0,.505882,.910305,.695505,0,.631373,.94109,.779067,.223528,.756863,.967873,.858572,.473521,.882353,.986815,.933211,.751583,1,1,1,.999997]},{ColorSpace:"Lab",Name:"erdc_blue2cyan_BW",RGBPoints:[-1,4.05298e-7,0,59012e-10,-.87451,.0207526,.0740933,.18093,-.74902,0,.121033,.30343,-.623529,0,.166892,.416095,-.498039,0,.216768,.524796,-.372549,.0164769,.275471,.608585,-.247059,.0544527,.344824,.659267,-.121569,.0880643,.419118,.688675,.00392157,.127938,.492556,.720256,.129412,.149476,.566946,.756918,.254902,.188961,.641333,.792122,.380392,.245482,.715336,.827609,.505882,.329216,.786235,.874761,.631373,.453558,.852803,.918466,.756863,.626281,.910493,.954,.882353,.82257,.958709,.980146,1,1,1,.999989]},{ColorSpace:"Lab",Name:"erdc_gold_BW",RGBPoints:[-1,0,0,190933e-10,-.87451,.128363,.0636265,0,-.74902,.193795,.111057,0,-.623529,.25976,.15987,0,-.498039,.328546,.210589,0,-.372549,.399726,.26332,0,-.247059,.472969,.318261,0,-.121569,.546245,.375827,0,.00392157,.61745,.436719,0,.129412,.685545,.501113,0,.254902,.749578,.568799,0,.380392,.80962,.6394,0,.505882,.865572,.712699,.10257,.631373,.917709,.787569,.233665,.756863,.966914,.863138,.369608,.882353,1,.939405,.496104,1,.999225,1,.612275]},{ColorSpace:"Lab",Name:"GREEN-WHITE_LINEAR",RGBPoints:[-1,0,0,0,-.87451,0,.062745,0,-.74902,0,.12549,0,-.623529,0,.188235,0,-.498039,0,.25098,0,-.372549,0,.313725,0,-.247059,0,.376471,0,-.121569,.094118,.439216,0,.00392157,.196078,.501961,0,.129412,.294118,.564706,0,.254902,.396078,.627451,0,.380392,.498039,.690196,0,.505882,.6,.752941,.145098,.631373,.701961,.815686,.364706,.756863,.8,.878431,.580392,.882353,.901961,.941176,.796078,1,1,1,1]},{ColorSpace:"Lab",Name:"Blues",RGBPoints:[-1,.031373,.188235,.419608,-.87451,.031373,.253195,.516063,-.74902,.031757,.318139,.612149,-.623529,.080969,.38113,.661361,-.498039,.130427,.444152,.710327,-.372549,.195386,.509112,.743791,-.247059,.260715,.573841,.777209,-.121569,.341423,.628958,.808704,.00392157,.422745,.684075,.839892,.129412,.523137,.739193,.861546,.254902,.622684,.793464,.883429,.380392,.701423,.826928,.910988,.505882,.778685,.8603,.937993,.631373,.825928,.891795,.953741,.756863,.87328,.923291,.969489,.882353,.922491,.954787,.985236,1,.968627,.984314,1]},{ColorSpace:"Lab",Name:"Greens",RGBPoints:[-1,0,.266667,.105882,-.87451,0,.347374,.139346,-.74902,538e-6,.427912,.172933,-.623529,.069435,.486967,.222145,-.498039,.138178,.546082,.271326,-.372549,.197232,.609073,.31857,-.247059,.257255,.671742,.365859,-.121569,.357647,.720953,.415071,.00392157,.45767,.769919,.465021,.129412,.546251,.811257,.537855,.254902,.634295,.852211,.610688,.380392,.709097,.883706,.683522,.505882,.78316,.914833,.755894,.631373,.842215,.938454,.818885,.756863,.899977,.961538,.880692,.882353,.935409,.975317,.92203,1,.968627,.988235,.960784]},{ColorSpace:"Lab",Name:"Reds",RGBPoints:[-1,.403922,0,.05098,-.87451,.525967,.029527,.066728,-.74902,.647643,.058962,.082476,-.623529,.722445,.076678,.098224,-.498039,.797186,.095194,.114187,-.372549,.868051,.164091,.143714,-.247059,.937809,.233541,.173933,-.121569,.96143,.326059,.232987,.00392157,.984375,.418147,.292657,.129412,.986344,.496886,.371396,.254902,.988235,.575702,.450673,.380392,.988235,.656409,.543191,.505882,.98842,.736747,.635894,.631373,.992357,.809581,.732349,.756863,.996186,.880692,.826759,.882353,.998155,.92203,.885813,1,1,.960784,.941176]},{ColorSpace:"Lab",Name:"BrOrYl",RGBPoints:[-1,.4,.145098,.023529,-.87451,.500392,.174625,.019592,-.74902,.600784,.204291,.015656,-.623529,.701176,.251534,.011719,-.498039,.800984,.299146,.008397,-.372549,.863975,.370012,.043829,-.247059,.926321,.441107,.0794,-.121569,.961753,.521815,.120738,.00392157,.996078,.602645,.163122,.129412,.996078,.68729,.237924,.254902,.996078,.771011,.314879,.380392,.996078,.832034,.444798,.505882,.996171,.892042,.572595,.631373,.998139,.931411,.65724,.756863,1,.969489,.741669,.882353,1,.985236,.822376,1,1,1,.898039]},{ColorSpace:"Lab",Name:"blue2yellow",RGBPoints:[-1,0,0,1,0,.5,.5,.5,1,1,1,0]},{ColorSpace:"Lab",Name:"erdc_cyan2orange",RGBPoints:[-1,.0471513,.213874,.414329,-.87451,.0674702,.256648,.439027,-.74902,.0959957,.299331,.462089,-.623529,.132428,.341872,.483212,-.498039,.188743,.38277,.500597,-.372549,.268511,.420229,.512179,-.247059,.352945,.455602,.519101,-.121569,.43893,.489368,.521538,.00392157,.522445,.522495,.522436,.129412,.600089,.555682,.53205,.254902,.67988,.587981,.539163,.380392,.761011,.619586,.544439,.505882,.84278,.650741,.548567,.631373,.910713,.687347,.557822,.756863,.952232,.734972,.577775,.882353,.975642,.789858,.604868,1,.990752,.843643,.632857]},{ColorSpace:"Lab",Name:"coolwarm",RGBPoints:[-1,.229806,.298718,.753683,-.875,.303869,.406535,.844959,-.75,.383013,.509419,.917388,-.625,.466667,.604563,.968155,-.5,.552953,.688929,.995376,-.375,.639176,.7596,.998151,-.25,.722193,.813953,.976575,-.125,.798692,.849786,.931689,0,.865395,.86541,.865396,.125,.924128,.827385,.774508,.25,.958853,.769768,.678008,.375,.969954,.694267,.579375,.5,.958003,.602842,.481776,.625,.923945,.497309,.38797,.75,.869187,.378313,.300267,.875,.795632,.241284,.220526,1,.705673,.0155562,.150233]},{ColorSpace:"Lab",Name:"BuRd",RGBPoints:[-1,.019608,.188235,.380392,-.87451,.088504,.321107,.564937,-.74902,.163399,.444983,.697501,-.623529,.247059,.555709,.754095,-.498039,.420684,.676432,.818685,-.372549,.606459,.789773,.880277,-.247059,.761476,.868512,.924567,-.121569,.878047,.925721,.951942,.00392157,.969089,.966474,.964937,.129412,.983852,.897578,.846828,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"GyRd",RGBPoints:[-1,.101961,.101961,.101961,-.87451,.227451,.227451,.227451,-.74902,.359939,.359939,.359939,-.623529,.502653,.502653,.502653,-.498039,.631373,.631373,.631373,-.372549,.749865,.749865,.749865,-.247059,.843368,.843368,.843368,-.121569,.926105,.926105,.926105,.00392157,.999846,.997232,.995694,.129412,.994925,.908651,.857901,.254902,.982468,.800692,.706113,.380392,.960323,.66782,.536332,.505882,.894579,.503806,.399769,.631373,.81707,.33218,.281046,.756863,.728489,.155017,.197386,.882353,.576932,.055363,.14925,1,.403922,0,.121569]},{ColorSpace:"Lab",Name:"GBBr",RGBPoints:[-1,0,.235294,.188235,-.87451,.002461,.338639,.301423,-.74902,.055902,.448981,.417609,-.623529,.183852,.56955,.538178,-.498039,.357785,.700115,.660746,-.372549,.540177,.819531,.77624,-.247059,.714879,.890888,.864821,-.121569,.851134,.934564,.922645,.00392157,.960861,.959785,.95694,.129412,.963322,.927797,.83391,.254902,.939946,.868897,.68935,.380392,.883353,.775394,.517109,.505882,.808074,.625836,.324106,.631373,.717647,.476355,.15494,.756863,.592157,.358247,.06882,.882353,.458593,.26436,.031142,1,.329412,.188235,.019608]},{ColorSpace:"Lab",Name:"erdc_divLow_icePeach",RGBPoints:[-1,.480048,.817441,.998056,-.87451,.425898,.726921,.883187,-.74902,.366682,.629445,.761936,-.623529,.308756,.531002,.640217,-.498039,.258021,.43705,.523433,-.372549,.219244,.352381,.416348,-.247059,.195127,.281032,.322979,-.121569,.186286,.22627,.246525,.00392157,.192352,.19236,.192364,.129412,.255927,.214469,.191756,.254902,.340459,.254426,.206666,.380392,.444655,.309315,.234029,.505882,.565353,.376004,.270969,.631373,.697917,.450748,.314293,.756863,.836657,.529064,.360227,.882353,.972695,.614884,.413123,1,1,.705904,.472699]},{ColorSpace:"RGB",Name:"Haze",RGBPoints:[-1,1,.835294,.996078,-.00392157,.023529,.141176,.498039,.00392157,.015686,.137255,.494118,1,.984314,.764706,0]},{ColorSpace:"Lab",Name:"erdc_iceFire_L",RGBPoints:[-1,.870485,.913768,.832905,-.87451,.586919,.887865,.934003,-.74902,.31583,.776442,.867858,-.623529,.18302,.632034,.787722,-.498039,.117909,.484134,.713825,-.372549,.0507239,.335979,.654741,-.247059,0,.209874,.511832,-.121569,0,.114689,.28935,.00392157,.0157519,.00332021,4.55569e-8,.129412,.312914,0,0,.254902,.520865,0,0,.380392,.680105,.15255,.0025996,.505882,.785109,.339479,797922e-9,.631373,.857354,.522494,0,.756863,.910974,.699774,0,.882353,.951921,.842817,.478545,1,.881371,.912178,.818099]},{IndexedColors:[0,0,0,.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,.6509803921568628,.3372549019607843,.1568627450980392],Name:"Spectrum",NanColor:[.6509803921568628,.3372549019607843,.1568627450980392]},{IndexedColors:[.4745098039215686,.09019607843137255,.09019607843137255,.7098039215686275,.00392156862745098,.00392156862745098,.9372549019607843,.2784313725490196,.09803921568627451,.9764705882352941,.5137254901960784,.1411764705882353,1,.7058823529411765,0,1,.8980392156862745,.02352941176470588],Name:"Warm",NanColor:[1,.8980392156862745,.02352941176470588]},{IndexedColors:[.4588235294117647,.6941176470588235,.00392156862745098,.3450980392156863,.5019607843137255,.1607843137254902,.3137254901960784,.8431372549019608,.7490196078431373,.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.6039215686274509,.407843137254902,1,.3725490196078431,.2,.5019607843137255],Name:"Cool",NanColor:[.3725490196078431,.2,.5019607843137255]},{IndexedColors:[.2313725490196079,.407843137254902,.6705882352941176,.1098039215686274,.5843137254901961,.803921568627451,.3058823529411765,.8509803921568627,.9176470588235294,.4509803921568628,.6039215686274509,.8352941176470589,.2588235294117647,.2392156862745098,.6627450980392157,.3137254901960784,.3294117647058823,.5294117647058824,.06274509803921569,.1647058823529412,.3215686274509804],Name:"Blues",NanColor:[.06274509803921569,.1647058823529412,.3215686274509804]},{IndexedColors:[.1098039215686274,.5843137254901961,.803921568627451,.2313725490196079,.407843137254902,.6705882352941176,.4,.2431372549019608,.7176470588235294,.6352941176470588,.3294117647058823,.8117647058823529,.8705882352941177,.3803921568627451,.807843137254902,.8627450980392157,.3803921568627451,.5843137254901961,.2392156862745098,.06274509803921569,.3215686274509804],Name:"Wild Flower",NanColor:[.2392156862745098,.06274509803921569,.3215686274509804]},{IndexedColors:[.396078431372549,.4862745098039216,.2156862745098039,.4588235294117647,.6941176470588235,.00392156862745098,.6980392156862745,.7294117647058823,.1882352941176471,1,.8980392156862745,.02352941176470588,1,.7058823529411765,0,.9764705882352941,.5137254901960784,.1411764705882353],Name:"Citrus",NanColor:[.9764705882352941,.5137254901960784,.1411764705882353]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (11)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.4980392156862745,.2313725490196079,.03137254901960784,.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333,.1764705882352941,0,.2941176470588235],Name:"Brewer Diverging Purple-Orange (10)",NanColor:[.1764705882352941,0,.2941176470588235]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (9)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.8784313725490196,.5098039215686274,.0784313725490196,.9921568627450981,.7215686274509804,.3882352941176471,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6980392156862745,.6705882352941176,.8235294117647058,.5019607843137255,.4509803921568628,.6745098039215687,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (8)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.9686274509803922,.9686274509803922,.9686274509803922,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (7)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.7019607843137254,.3450980392156863,.02352941176470588,.9450980392156862,.6392156862745098,.2509803921568627,.996078431372549,.8784313725490196,.7137254901960784,.8470588235294118,.8549019607843137,.9215686274509803,.6,.5568627450980392,.7647058823529411,.3294117647058823,.1529411764705882,.5333333333333333],Name:"Brewer Diverging Purple-Orange (6)",NanColor:[.3294117647058823,.1529411764705882,.5333333333333333]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.9686274509803922,.9686274509803922,.9686274509803922,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (5)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9019607843137255,.3803921568627451,.00392156862745098,.9921568627450981,.7215686274509804,.3882352941176471,.6980392156862745,.6705882352941176,.8235294117647058,.3686274509803922,.2352941176470588,.6],Name:"Brewer Diverging Purple-Orange (4)",NanColor:[.3686274509803922,.2352941176470588,.6]},{IndexedColors:[.9450980392156862,.6392156862745098,.2509803921568627,.9686274509803922,.9686274509803922,.9686274509803922,.6,.5568627450980392,.7647058823529411],Name:"Brewer Diverging Purple-Orange (3)",NanColor:[.6,.5568627450980392,.7647058823529411]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (11)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.6196078431372549,.00392156862745098,.2588235294117647,.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353,.3686274509803922,.3098039215686275,.6352941176470588],Name:"Brewer Diverging Spectral (10)",NanColor:[.3686274509803922,.3098039215686275,.6352941176470588]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (9)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9568627450980393,.4274509803921568,.2627450980392157,.9921568627450981,.6823529411764706,.3803921568627451,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6705882352941176,.8666666666666667,.6431372549019608,.4,.7607843137254902,.6470588235294118,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (8)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,1,1,.7490196078431373,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (7)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8352941176470589,.2431372549019608,.3098039215686275,.9882352941176471,.5529411764705883,.3490196078431372,.996078431372549,.8784313725490196,.5450980392156862,.9019607843137255,.9607843137254902,.596078431372549,.6,.8352941176470589,.5803921568627451,.196078431372549,.5333333333333333,.7411764705882353],Name:"Brewer Diverging Spectral (6)",NanColor:[.196078431372549,.5333333333333333,.7411764705882353]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,1,1,.7490196078431373,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (5)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.8431372549019608,.09803921568627451,.1098039215686274,.9921568627450981,.6823529411764706,.3803921568627451,.6705882352941176,.8666666666666667,.6431372549019608,.1686274509803922,.5137254901960784,.7294117647058823],Name:"Brewer Diverging Spectral (4)",NanColor:[.1686274509803922,.5137254901960784,.7294117647058823]},{IndexedColors:[.9882352941176471,.5529411764705883,.3490196078431372,1,1,.7490196078431373,.6,.8352941176470589,.5803921568627451],Name:"Brewer Diverging Spectral (3)",NanColor:[.6,.8352941176470589,.5803921568627451]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (11)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.3294117647058823,.1882352941176471,.0196078431372549,.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922,0,.2352941176470588,.1882352941176471],Name:"Brewer Diverging Brown-Blue-Green (10)",NanColor:[0,.2352941176470588,.1882352941176471]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (9)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.7490196078431373,.5058823529411764,.1764705882352941,.8745098039215686,.7607843137254902,.4901960784313725,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.5019607843137255,.803921568627451,.7568627450980392,.207843137254902,.592156862745098,.5607843137254902,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (8)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.9607843137254902,.9607843137254902,.9607843137254902,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (7)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.5490196078431373,.3176470588235294,.0392156862745098,.8470588235294118,.7019607843137254,.396078431372549,.9647058823529412,.9098039215686274,.7647058823529411,.7803921568627451,.9176470588235294,.8980392156862745,.3529411764705883,.7058823529411765,.6745098039215687,.00392156862745098,.4,.3686274509803922],Name:"Brewer Diverging Brown-Blue-Green (6)",NanColor:[.00392156862745098,.4,.3686274509803922]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.9607843137254902,.9607843137254902,.9607843137254902,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (5)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.6509803921568628,.3803921568627451,.1019607843137255,.8745098039215686,.7607843137254902,.4901960784313725,.5019607843137255,.803921568627451,.7568627450980392,.00392156862745098,.5215686274509804,.4431372549019608],Name:"Brewer Diverging Brown-Blue-Green (4)",NanColor:[.00392156862745098,.5215686274509804,.4431372549019608]},{IndexedColors:[.8470588235294118,.7019607843137254,.396078431372549,.9607843137254902,.9607843137254902,.9607843137254902,.3529411764705883,.7058823529411765,.6745098039215687],Name:"Brewer Diverging Brown-Blue-Green (3)",NanColor:[.3529411764705883,.7058823529411765,.6745098039215687]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.4274509803921568,.1725490196078431,0,.2666666666666667,.1058823529411765],Name:"Brewer Sequential Blue-Green (9)",NanColor:[0,.2666666666666667,.1058823529411765]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8980392156862745,.9607843137254902,.9764705882352941,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (8)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.8,.9254901960784314,.9019607843137255,.4,.7607843137254902,.6431372549019608,.2549019607843137,.6823529411764706,.4627450980392157,.1372549019607843,.5450980392156862,.2705882352941176,0,.3450980392156863,.1411764705882353],Name:"Brewer Sequential Blue-Green (7)",NanColor:[0,.3450980392156863,.1411764705882353]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.8,.9254901960784314,.9019607843137255,.6,.8470588235294118,.788235294117647,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (6)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1725490196078431,.6352941176470588,.3725490196078431,0,.4274509803921568,.1725490196078431],Name:"Brewer Sequential Blue-Green (5)",NanColor:[0,.4274509803921568,.1725490196078431]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.6980392156862745,.8862745098039215,.8862745098039215,.4,.7607843137254902,.6431372549019608,.1372549019607843,.5450980392156862,.2705882352941176],Name:"Brewer Sequential Blue-Green (4)",NanColor:[.1372549019607843,.5450980392156862,.2705882352941176]},{IndexedColors:[.8980392156862745,.9607843137254902,.9764705882352941,.6,.8470588235294118,.788235294117647,.1725490196078431,.6352941176470588,.3725490196078431],Name:"Brewer Sequential Blue-Green (3)",NanColor:[.1725490196078431,.6352941176470588,.3725490196078431]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.6,.203921568627451,.01568627450980392,.4,.1450980392156863,.02352941176470588],Name:"Brewer Sequential Yellow-Orange-Brown (9)",NanColor:[.4,.1450980392156863,.02352941176470588]},{IndexedColors:[1,1,.8980392156862745,1,.9686274509803922,.7372549019607844,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (8)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.9254901960784314,.4392156862745098,.0784313725490196,.8,.2980392156862745,.00784313725490196,.5490196078431373,.1764705882352941,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (7)",NanColor:[.5490196078431373,.1764705882352941,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8901960784313725,.5686274509803921,.996078431372549,.7686274509803922,.3098039215686275,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (6)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8509803921568627,.3725490196078431,.05490196078431372,.6,.203921568627451,.01568627450980392],Name:"Brewer Sequential Yellow-Orange-Brown (5)",NanColor:[.6,.203921568627451,.01568627450980392]},{IndexedColors:[1,1,.8313725490196079,.996078431372549,.8509803921568627,.5568627450980392,.996078431372549,.6,.1607843137254902,.8,.2980392156862745,.00784313725490196],Name:"Brewer Sequential Yellow-Orange-Brown (4)",NanColor:[.8,.2980392156862745,.00784313725490196]},{IndexedColors:[1,.9686274509803922,.7372549019607844,.996078431372549,.7686274509803922,.3098039215686275,.8509803921568627,.3725490196078431,.05490196078431372],Name:"Brewer Sequential Yellow-Orange-Brown (3)",NanColor:[.8509803921568627,.3725490196078431,.05490196078431372]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.5058823529411764,.05882352941176471,.4862745098039216,.3019607843137255,0,.2941176470588235],Name:"Brewer Sequential Blue-Purple (9)",NanColor:[.3019607843137255,0,.2941176470588235]},{IndexedColors:[.9686274509803922,.9882352941176471,.9921568627450981,.8784313725490196,.9254901960784314,.9568627450980393,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (8)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5490196078431373,.4196078431372549,.6941176470588235,.5333333333333333,.2549019607843137,.615686274509804,.4313725490196079,.00392156862745098,.4196078431372549],Name:"Brewer Sequential Blue-Purple (7)",NanColor:[.4313725490196079,.00392156862745098,.4196078431372549]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7490196078431373,.8274509803921568,.9019607843137255,.6196078431372549,.7372549019607844,.8549019607843137,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (6)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.3372549019607843,.6549019607843137,.5058823529411764,.05882352941176471,.4862745098039216],Name:"Brewer Sequential Blue-Purple (5)",NanColor:[.5058823529411764,.05882352941176471,.4862745098039216]},{IndexedColors:[.9294117647058824,.9725490196078431,.984313725490196,.7019607843137254,.803921568627451,.8901960784313725,.5490196078431373,.5882352941176471,.7764705882352941,.5333333333333333,.2549019607843137,.615686274509804],Name:"Brewer Sequential Blue-Purple (4)",NanColor:[.5333333333333333,.2549019607843137,.615686274509804]},{IndexedColors:[.8784313725490196,.9254901960784314,.9568627450980393,.6196078431372549,.7372549019607844,.8549019607843137,.5333333333333333,.3372549019607843,.6549019607843137],Name:"Brewer Sequential Blue-Purple (3)",NanColor:[.5333333333333333,.3372549019607843,.6549019607843137]},{IndexedColors:[.4980392156862745,.788235294117647,.4980392156862745,.7450980392156863,.6823529411764706,.8313725490196079,.9921568627450981,.7529411764705882,.5254901960784314,1,1,.6,.2196078431372549,.4235294117647059,.6901960784313725,.9411764705882353,.00784313725490196,.4980392156862745,.7490196078431373,.3568627450980392,.09019607843137255,.4,.4,.4],Name:"Brewer Qualitative Accent",NanColor:[.4,.4,.4]},{IndexedColors:[.1058823529411765,.6196078431372549,.4666666666666667,.8509803921568627,.3725490196078431,.00784313725490196,.4588235294117647,.4392156862745098,.7019607843137254,.9058823529411765,.1607843137254902,.5411764705882353,.4,.6509803921568628,.1176470588235294,.9019607843137255,.6705882352941176,.00784313725490196,.6509803921568628,.4627450980392157,.1137254901960784,.4,.4,.4],Name:"Brewer Qualitative Dark2",NanColor:[.4,.4,.4]},{IndexedColors:[.4,.7607843137254902,.6470588235294118,.9882352941176471,.5529411764705883,.3843137254901961,.5529411764705883,.6274509803921569,.796078431372549,.9058823529411765,.5411764705882353,.7647058823529411,.6509803921568628,.8470588235294118,.3294117647058823,1,.8509803921568627,.1843137254901961,.8980392156862745,.7686274509803922,.5803921568627451,.7019607843137254,.7019607843137254,.7019607843137254],Name:"Brewer Qualitative Set2",NanColor:[.7019607843137254,.7019607843137254,.7019607843137254]},{IndexedColors:[.7019607843137254,.8862745098039215,.803921568627451,.9921568627450981,.803921568627451,.6745098039215687,.796078431372549,.8352941176470589,.9098039215686274,.9568627450980393,.792156862745098,.8941176470588236,.9019607843137255,.9607843137254902,.788235294117647,1,.9490196078431372,.6823529411764706,.9450980392156862,.8862745098039215,.8,.8,.8,.8],Name:"Brewer Qualitative Pastel2",NanColor:[.8,.8,.8]},{IndexedColors:[.984313725490196,.7058823529411765,.6823529411764706,.7019607843137254,.803921568627451,.8901960784313725,.8,.9215686274509803,.7725490196078432,.8705882352941177,.796078431372549,.8941176470588236,.996078431372549,.8509803921568627,.6509803921568628,1,1,.8,.8980392156862745,.8470588235294118,.7411764705882353,.9921568627450981,.8549019607843137,.9254901960784314,.9490196078431372,.9490196078431372,.9490196078431372],Name:"Brewer Qualitative Pastel1",NanColor:[.9490196078431372,.9490196078431372,.9490196078431372]},{IndexedColors:[.8941176470588236,.1019607843137255,.1098039215686274,.2156862745098039,.4941176470588236,.7215686274509804,.3019607843137255,.6862745098039216,.2901960784313726,.596078431372549,.3058823529411765,.6392156862745098,1,.4980392156862745,0,1,1,.2,.6509803921568628,.3372549019607843,.1568627450980392,.9686274509803922,.5058823529411764,.7490196078431373,.6,.6,.6],Name:"Brewer Qualitative Set1",NanColor:[.6,.6,.6]},{IndexedColors:[.6509803921568628,.807843137254902,.8901960784313725,.1215686274509804,.4705882352941176,.7058823529411765,.6980392156862745,.8745098039215686,.5411764705882353,.2,.6274509803921569,.1725490196078431,.984313725490196,.6039215686274509,.6,.8901960784313725,.1019607843137255,.1098039215686274,.9921568627450981,.7490196078431373,.4352941176470588,1,.4980392156862745,0,.792156862745098,.6980392156862745,.8392156862745098,.4156862745098039,.2392156862745098,.6039215686274509,1,1,.6],Name:"Brewer Qualitative Paired",NanColor:[1,1,.6]},{IndexedColors:[.5529411764705883,.8274509803921568,.7803921568627451,1,1,.7019607843137254,.7450980392156863,.7294117647058823,.8549019607843137,.984313725490196,.5019607843137255,.4470588235294118,.5019607843137255,.6941176470588235,.8274509803921568,.9921568627450981,.7058823529411765,.3843137254901961,.7019607843137254,.8705882352941177,.4117647058823529,.9882352941176471,.803921568627451,.8980392156862745,.8509803921568627,.8509803921568627,.8509803921568627,.7372549019607844,.5019607843137255,.7411764705882353,.8,.9215686274509803,.7725490196078432,1,.9294117647058824,.4352941176470588],Name:"Brewer Qualitative Set3",NanColor:[1,.9294117647058824,.4352941176470588]},{IndexedColors:[1,0,0,1,.862745,0,0,.695201,0],Name:"Traffic Lights",NanColor:[.803922,0,.803922]},{IndexedColors:[.908659,.604013,.581857,1,.862745,0,0,.695201,0],Name:"Traffic Lights For Deuteranopes",NanColor:[.803922,0,.803922]},{IndexedColors:[.4196078431372549,0,.07058823529411765,.9019607843137255,.9411764705882353,.0196078431372549,.01568627450980392,.6196078431372549,.00784313725490196],Name:"Traffic Lights For Deuteranopes 2",NanColor:[.803922,0,.803922]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Muted Blue-Green",NanColor:[.25,0,0],RGBPoints:[0,.109804,.27451,.301961,.02,.129412,.309804,.341176,.05,.14902,.341176,.380392,.1,.188235,.403922,.458824,.15,.227451,.447059,.521569,.2,.290196,.494118,.588235,.25,.368627,.552941,.670588,.3,.458824,.619608,.74902,.35,.588235,.713725,.85098,.4,.72549,.815686,.941176,.45,.831373,.882353,.980392,.475,.909804,.933333,1,.5,.980392,.984314,1,.5,.996078,1,.94902,.5,1,1,.980392,.5,.980392,.984314,1,.525,.972549,.988235,.890196,.55,.917647,.960784,.835294,.6,.835294,.921569,.772549,.65,.768627,.901961,.737255,.7,.670588,.831373,.654902,.75,.576471,.760784,.584314,.8,.498039,.678431,.521569,.85,.392157,.560784,.427451,.9,.294118,.45098,.333333,.95,.211765,.34902,.254902,1,.152941,.278431,.196078]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Green-Blue Asymmetric Divergent (62Blbc)",NanColor:[.25,0,0],RGBPoints:[0,.121569,.2,.145098,.05,.196078,.301961,.223529,.1,.258824,.4,.278431,.2,.341176,.54902,.341176,.25,.419608,.619608,.376471,.3,.545098,.701961,.392157,.35,.643137,.780392,.403922,.4,.729412,.819608,.45098,.45,.811765,.870588,.521569,.5,.898039,.909804,.564706,.55,.941176,.92549,.686275,.6,.960784,.94902,.776471,.64,1,1,1,.65,.890196,.988235,.972549,.7,.721569,.894118,.901961,.75,.631373,.823529,.839216,.8,.517647,.662745,.701961,.85,.384314,.494118,.54902,.9,.298039,.360784,.45098,.95,.223529,.25098,.34902,.99,.156863,.172549,.25098,1,.137255,.137255,.188235]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Asymmtrical Earth Tones (6_21b)",NanColor:[.25,0,0],RGBPoints:[0,.141176,.14902,.2,.05,.215686,.258824,.321569,.1,.243137,.368627,.380392,.15,.27451,.439216,.4,.2,.32549,.501961,.384314,.25,.403922,.6,.419608,.3,.486275,.701961,.454902,.35,.556863,.74902,.494118,.4,.670588,.8,.545098,.5,.854902,.901961,.631373,.55,.92549,.941176,.694118,.6,.960784,.94902,.776471,.65,.988235,.968627,.909804,.7,.839216,.815686,.772549,.75,.701961,.662745,.615686,.8,.6,.529412,.478431,.85,.501961,.403922,.360784,.9,.439216,.313725,.290196,1,.301961,.164706,.176471]},{ColorSpace:"Lab",Creator:"Francesca Samsel",Name:"Yellow 15",NanColor:[.25,0,0],RGBPoints:[0,1,1,.988235,.002,1,1,.988235,.05,.984314,.988235,.843137,.1,.988235,.988235,.741176,.15,.980392,.968627,.654902,.2,.980392,.945098,.576471,.25,.968627,.905882,.486275,.3,.968627,.862745,.388235,.35,.960784,.803922,.286275,.4,.94902,.741176,.219608,.45,.941176,.678431,.14902,.5,.929412,.607843,.094118,.55,.921569,.545098,.054902,.6,.909804,.486275,.035294,.65,.890196,.411765,.019608,.7,.8,.305882,0,.75,.760784,.239216,0,.8,.678431,.180392,.011765,.85,.6,.121569,.023529,.9,.501961,.054902,.031373,.95,.4,.039216,.058824,1,.301961,.047059,.090196]},{ColorSpace:"Diverging",Name:"Magma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002258,.001295,.018331,.007843,.003279,.002305,.023708,.011765,.004512,.00349,.029965,.015686,.00595,.004843,.03713,.019608,.007588,.006356,.044973,.023529,.009426,.008022,.052844,.027451,.011465,.009828,.06075,.031373,.013708,.011771,.068667,.035294,.016156,.01384,.076603,.039216,.018815,.016026,.084584,.043137,.021692,.01832,.09261,.047059,.024792,.020715,.100676,.05098,.028123,.023201,.108787,.054902,.031696,.025765,.116965,.058824,.03552,.028397,.125209,.062745,.039608,.03109,.133515,.066667,.04383,.03383,.141886,.070588,.048062,.036607,.150327,.07451,.05232,.039407,.158841,.078431,.056615,.04216,.167446,.082353,.060949,.044794,.176129,.086275,.06533,.047318,.184892,.090196,.069764,.049726,.193735,.094118,.074257,.052017,.20266,.098039,.078815,.054184,.211667,.101961,.083446,.056225,.220755,.105882,.088155,.058133,.229922,.109804,.092949,.059904,.239164,.113725,.097833,.061531,.248477,.117647,.102815,.06301,.257854,.121569,.107899,.064335,.267289,.12549,.113094,.065492,.276784,.129412,.118405,.066479,.286321,.133333,.123833,.067295,.295879,.137255,.12938,.067935,.305443,.141176,.135053,.068391,.315,.145098,.140858,.068654,.324538,.14902,.146785,.068738,.334011,.152941,.152839,.068637,.343404,.156863,.159018,.068354,.352688,.160784,.165308,.067911,.361816,.164706,.171713,.067305,.370771,.168627,.178212,.066576,.379497,.172549,.184801,.065732,.387973,.176471,.19146,.064818,.396152,.180392,.198177,.063862,.404009,.184314,.204935,.062907,.411514,.188235,.211718,.061992,.418647,.192157,.218512,.061158,.425392,.196078,.225302,.060445,.431742,.2,.232077,.059889,.437695,.203922,.238826,.059517,.443256,.207843,.245543,.059352,.448436,.211765,.25222,.059415,.453248,.215686,.258857,.059706,.45771,.219608,.265447,.060237,.46184,.223529,.271994,.060994,.46566,.227451,.278493,.061978,.46919,.231373,.284951,.063168,.472451,.235294,.291366,.064553,.475462,.239216,.29774,.066117,.478243,.243137,.304081,.067835,.480812,.247059,.310382,.069702,.483186,.25098,.316654,.07169,.48538,.254902,.322899,.073782,.487408,.258824,.329114,.075972,.489287,.262745,.335308,.078236,.491024,.266667,.341482,.080564,.492631,.270588,.347636,.082946,.494121,.27451,.353773,.085373,.495501,.278431,.359898,.087831,.496778,.282353,.366012,.090314,.49796,.286275,.372116,.092816,.499053,.290196,.378211,.095332,.500067,.294118,.384299,.097855,.501002,.298039,.390384,.100379,.501864,.301961,.396467,.102902,.502658,.305882,.402548,.10542,.503386,.309804,.408629,.10793,.504052,.313725,.414709,.110431,.504662,.317647,.420791,.11292,.505215,.321569,.426877,.115395,.505714,.32549,.432967,.117855,.50616,.329412,.439062,.120298,.506555,.333333,.445163,.122724,.506901,.337255,.451271,.125132,.507198,.341176,.457386,.127522,.507448,.345098,.463508,.129893,.507652,.34902,.46964,.132245,.507809,.352941,.47578,.134577,.507921,.356863,.481929,.136891,.507989,.360784,.488088,.139186,.508011,.364706,.494258,.141462,.507988,.368627,.500438,.143719,.50792,.372549,.506629,.145958,.507806,.376471,.512831,.148179,.507648,.380392,.519045,.150383,.507443,.384314,.52527,.152569,.507192,.388235,.531507,.154739,.506895,.392157,.537755,.156894,.506551,.396078,.544015,.159033,.506159,.4,.550287,.161158,.505719,.403922,.556571,.163269,.50523,.407843,.562866,.165368,.504692,.411765,.569172,.167454,.504105,.415686,.57549,.16953,.503466,.419608,.581819,.171596,.502777,.423529,.588158,.173652,.502035,.427451,.594508,.175701,.501241,.431373,.600868,.177743,.500394,.435294,.607238,.179779,.499492,.439216,.613617,.181811,.498536,.443137,.620005,.18384,.497524,.447059,.626401,.185867,.496456,.45098,.632805,.187893,.495332,.454902,.639216,.189921,.49415,.458824,.645633,.191952,.49291,.462745,.652056,.193986,.491611,.466667,.658483,.196027,.490253,.470588,.664915,.198075,.488836,.47451,.671349,.200133,.487358,.478431,.677786,.202203,.485819,.482353,.684224,.204286,.484219,.486275,.690661,.206384,.482558,.490196,.697098,.208501,.480835,.494118,.703532,.210638,.479049,.498039,.709962,.212797,.477201,.501961,.716387,.214982,.47529,.505882,.722805,.217194,.473316,.509804,.729216,.219437,.471279,.513725,.735616,.221713,.46918,.517647,.742004,.224025,.467018,.521569,.748378,.226377,.464794,.52549,.754737,.228772,.462509,.529412,.761077,.231214,.460162,.533333,.767398,.233705,.457755,.537255,.773695,.236249,.455289,.541176,.779968,.238851,.452765,.545098,.786212,.241514,.450184,.54902,.792427,.244242,.447543,.552941,.798608,.24704,.444848,.556863,.804752,.249911,.442102,.560784,.810855,.252861,.439305,.564706,.816914,.255895,.436461,.568627,.822926,.259016,.433573,.572549,.828886,.262229,.430644,.576471,.834791,.26554,.427671,.580392,.840636,.268953,.424666,.584314,.846416,.272473,.421631,.588235,.852126,.276106,.418573,.592157,.857763,.279857,.415496,.596078,.86332,.283729,.412403,.6,.868793,.287728,.409303,.603922,.874176,.291859,.406205,.607843,.879464,.296125,.403118,.611765,.884651,.30053,.400047,.615686,.889731,.305079,.397002,.619608,.8947,.309773,.393995,.623529,.899552,.314616,.391037,.627451,.904281,.31961,.388137,.631373,.908884,.324755,.385308,.635294,.913354,.330052,.382563,.639216,.917689,.3355,.379915,.643137,.921884,.341098,.377376,.647059,.925937,.346844,.374959,.65098,.929845,.352734,.372677,.654902,.933606,.358764,.370541,.658824,.937221,.364929,.368567,.662745,.940687,.371224,.366762,.666667,.944006,.377643,.365136,.670588,.94718,.384178,.363701,.67451,.95021,.39082,.362468,.678431,.953099,.397563,.361438,.682353,.955849,.4044,.360619,.686275,.958464,.411324,.360014,.690196,.960949,.418323,.35963,.694118,.96331,.42539,.359469,.698039,.965549,.432519,.359529,.701961,.967671,.439703,.35981,.705882,.96968,.446936,.360311,.709804,.971582,.45421,.36103,.713725,.973381,.46152,.361965,.717647,.975082,.468861,.363111,.721569,.97669,.476226,.364466,.72549,.97821,.483612,.366025,.729412,.979645,.491014,.367783,.733333,.981,.498428,.369734,.737255,.982279,.505851,.371874,.741176,.983485,.51328,.374198,.745098,.984622,.520713,.376698,.74902,.985693,.528148,.379371,.752941,.9867,.535582,.38221,.756863,.987646,.543015,.38521,.760784,.988533,.550446,.388365,.764706,.989363,.557873,.391671,.768627,.990138,.565296,.395122,.772549,.990871,.572706,.398714,.776471,.991558,.580107,.402441,.780392,.992196,.587502,.406299,.784314,.992785,.594891,.410283,.788235,.993326,.602275,.41439,.792157,.993834,.609644,.418613,.796078,.994309,.616999,.42295,.8,.994738,.62435,.427397,.803922,.995122,.631696,.431951,.807843,.99548,.639027,.436607,.811765,.99581,.646344,.441361,.815686,.996096,.653659,.446213,.819608,.996341,.660969,.45116,.823529,.99658,.668256,.456192,.827451,.996775,.675541,.461314,.831373,.996925,.682828,.466526,.835294,.997077,.690088,.471811,.839216,.997186,.697349,.477182,.843137,.997254,.704611,.482635,.847059,.997325,.711848,.488154,.85098,.997351,.719089,.493755,.854902,.997351,.726324,.499428,.858824,.997341,.733545,.505167,.862745,.997285,.740772,.510983,.866667,.997228,.747981,.516859,.870588,.997138,.75519,.522806,.87451,.997019,.762398,.528821,.878431,.996898,.769591,.534892,.882353,.996727,.776795,.541039,.886275,.996571,.783977,.547233,.890196,.996369,.791167,.553499,.894118,.996162,.798348,.55982,.898039,.995932,.805527,.566202,.901961,.99568,.812706,.572645,.905882,.995424,.819875,.57914,.909804,.995131,.827052,.585701,.913725,.994851,.834213,.592307,.917647,.994524,.841387,.598983,.921569,.994222,.84854,.605696,.92549,.993866,.855711,.612482,.929412,.993545,.862859,.619299,.933333,.99317,.870024,.626189,.937255,.992831,.877168,.633109,.941176,.99244,.88433,.640099,.945098,.992089,.89147,.647116,.94902,.991688,.898627,.654202,.952941,.991332,.905763,.661309,.956863,.99093,.912915,.668481,.960784,.99057,.920049,.675675,.964706,.990175,.927196,.682926,.968627,.989815,.934329,.690198,.972549,.989434,.94147,.697519,.976471,.989077,.948604,.704863,.980392,.988717,.955742,.712242,.984314,.988367,.962878,.719649,.988235,.988033,.970012,.727077,.992157,.987691,.977154,.734536,.996078,.987387,.984288,.742002,1,.987053,.991438,.749504]},{ColorSpace:"Diverging",Name:"Inferno (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.001462,466e-6,.013866,.003922,.002267,.00127,.01857,.007843,.003299,.002249,.024239,.011765,.004547,.003392,.030909,.015686,.006006,.004692,.038558,.019608,.007676,.006136,.046836,.023529,.009561,.007713,.055143,.027451,.011663,.009417,.06346,.031373,.013995,.011225,.071862,.035294,.016561,.013136,.080282,.039216,.019373,.015133,.088767,.043137,.022447,.017199,.097327,.047059,.025793,.019331,.10593,.05098,.029432,.021503,.114621,.054902,.033385,.023702,.123397,.058824,.037668,.025921,.132232,.062745,.042253,.028139,.141141,.066667,.046915,.030324,.150164,.070588,.051644,.032474,.159254,.07451,.056449,.034569,.168414,.078431,.06134,.03659,.177642,.082353,.066331,.038504,.186962,.086275,.071429,.040294,.196354,.090196,.076637,.041905,.205799,.094118,.081962,.043328,.215289,.098039,.087411,.044556,.224813,.101961,.09299,.045583,.234358,.105882,.098702,.046402,.243904,.109804,.104551,.047008,.25343,.113725,.110536,.047399,.262912,.117647,.116656,.047574,.272321,.121569,.122908,.047536,.281624,.12549,.129285,.047293,.290788,.129412,.135778,.046856,.299776,.133333,.142378,.046242,.308553,.137255,.149073,.045468,.317085,.141176,.15585,.044559,.325338,.145098,.162689,.043554,.333277,.14902,.169575,.042489,.340874,.152941,.176493,.041402,.348111,.156863,.183429,.040329,.354971,.160784,.190367,.039309,.361447,.164706,.197297,.0384,.367535,.168627,.204209,.037632,.373238,.172549,.211095,.03703,.378563,.176471,.217949,.036615,.383522,.180392,.224763,.036405,.388129,.184314,.231538,.036405,.3924,.188235,.238273,.036621,.396353,.192157,.244967,.037055,.400007,.196078,.25162,.037705,.403378,.2,.258234,.038571,.406485,.203922,.26481,.039647,.409345,.207843,.271347,.040922,.411976,.211765,.27785,.042353,.414392,.215686,.284321,.043933,.416608,.219608,.290763,.045644,.418637,.223529,.297178,.04747,.420491,.227451,.303568,.049396,.422182,.231373,.309935,.051407,.423721,.235294,.316282,.05349,.425116,.239216,.32261,.055634,.426377,.243137,.328921,.057827,.427511,.247059,.335217,.06006,.428524,.25098,.3415,.062325,.429425,.254902,.347771,.064616,.430217,.258824,.354032,.066925,.430906,.262745,.360284,.069247,.431497,.266667,.366529,.071579,.431994,.270588,.372768,.073915,.4324,.27451,.379001,.076253,.432719,.278431,.385228,.078591,.432955,.282353,.391453,.080927,.433109,.286275,.397674,.083257,.433183,.290196,.403894,.08558,.433179,.294118,.410113,.087896,.433098,.298039,.416331,.090203,.432943,.301961,.422549,.092501,.432714,.305882,.428768,.09479,.432412,.309804,.434987,.097069,.432039,.313725,.441207,.099338,.431594,.317647,.447428,.101597,.43108,.321569,.453651,.103848,.430498,.32549,.459875,.106089,.429846,.329412,.4661,.108322,.429125,.333333,.472328,.110547,.428334,.337255,.478558,.112764,.427475,.341176,.484789,.114974,.426548,.345098,.491022,.117179,.425552,.34902,.497257,.119379,.424488,.352941,.503493,.121575,.423356,.356863,.50973,.123769,.422156,.360784,.515967,.12596,.420887,.364706,.522206,.12815,.419549,.368627,.528444,.130341,.418142,.372549,.534683,.132534,.416667,.376471,.54092,.134729,.415123,.380392,.547157,.136929,.413511,.384314,.553392,.139134,.411829,.388235,.559624,.141346,.410078,.392157,.565854,.143567,.408258,.396078,.572081,.145797,.406369,.4,.578304,.148039,.404411,.403922,.584521,.150294,.402385,.407843,.590734,.152563,.40029,.411765,.59694,.154848,.398125,.415686,.603139,.157151,.395891,.419608,.60933,.159474,.393589,.423529,.615513,.161817,.391219,.427451,.621685,.164184,.388781,.431373,.627847,.166575,.386276,.435294,.633998,.168992,.383704,.439216,.640135,.171438,.381065,.443137,.64626,.173914,.378359,.447059,.652369,.176421,.375586,.45098,.658463,.178962,.372748,.454902,.66454,.181539,.369846,.458824,.670599,.184153,.366879,.462745,.676638,.186807,.363849,.466667,.682656,.189501,.360757,.470588,.688653,.192239,.357603,.47451,.694627,.195021,.354388,.478431,.700576,.197851,.351113,.482353,.7065,.200728,.347777,.486275,.712396,.203656,.344383,.490196,.718264,.206636,.340931,.494118,.724103,.20967,.337424,.498039,.729909,.212759,.333861,.501961,.735683,.215906,.330245,.505882,.741423,.219112,.326576,.509804,.747127,.222378,.322856,.513725,.752794,.225706,.319085,.517647,.758422,.229097,.315266,.521569,.76401,.232554,.311399,.52549,.769556,.236077,.307485,.529412,.775059,.239667,.303526,.533333,.780517,.243327,.299523,.537255,.785929,.247056,.295477,.541176,.791293,.250856,.29139,.545098,.796607,.254728,.287264,.54902,.801871,.258674,.283099,.552941,.807082,.262692,.278898,.556863,.812239,.266786,.274661,.560784,.817341,.270954,.27039,.564706,.822386,.275197,.266085,.568627,.827372,.279517,.26175,.572549,.832299,.283913,.257383,.576471,.837165,.288385,.252988,.580392,.841969,.292933,.248564,.584314,.846709,.297559,.244113,.588235,.851384,.30226,.239636,.592157,.855992,.307038,.235133,.596078,.860533,.311892,.230606,.6,.865006,.316822,.226055,.603922,.869409,.321827,.221482,.607843,.873741,.326906,.216886,.611765,.878001,.33206,.212268,.615686,.882188,.337287,.207628,.619608,.886302,.342586,.202968,.623529,.890341,.347957,.198286,.627451,.894305,.353399,.193584,.631373,.898192,.358911,.18886,.635294,.902003,.364492,.184116,.639216,.905735,.37014,.17935,.643137,.90939,.375856,.174563,.647059,.912966,.381636,.169755,.65098,.916462,.387481,.164924,.654902,.919879,.393389,.16007,.658824,.923215,.399359,.155193,.662745,.92647,.405389,.150292,.666667,.929644,.411479,.145367,.670588,.932737,.417627,.140417,.67451,.935747,.423831,.13544,.678431,.938675,.430091,.130438,.682353,.941521,.436405,.125409,.686275,.944285,.442772,.120354,.690196,.946965,.449191,.115272,.694118,.949562,.45566,.110164,.698039,.952075,.462178,.105031,.701961,.954506,.468744,.099874,.705882,.956852,.475356,.094695,.709804,.959114,.482014,.089499,.713725,.961293,.488716,.084289,.717647,.963387,.495462,.079073,.721569,.965397,.502249,.073859,.72549,.967322,.509078,.068659,.729412,.969163,.515946,.063488,.733333,.970919,.522853,.058367,.737255,.97259,.529798,.053324,.741176,.974176,.53678,.048392,.745098,.975677,.543798,.043618,.74902,.977092,.55085,.03905,.752941,.978422,.557937,.034931,.756863,.979666,.565057,.031409,.760784,.980824,.572209,.028508,.764706,.981895,.579392,.02625,.768627,.982881,.586606,.024661,.772549,.983779,.593849,.02377,.776471,.984591,.601122,.023606,.780392,.985315,.608422,.024202,.784314,.985952,.61575,.025592,.788235,.986502,.623105,.027814,.792157,.986964,.630485,.030908,.796078,.987337,.63789,.034916,.8,.987622,.64532,.039886,.803922,.987819,.652773,.045581,.807843,.987926,.66025,.05175,.811765,.987945,.667748,.058329,.815686,.987874,.675267,.065257,.819608,.987714,.682807,.072489,.823529,.987464,.690366,.07999,.827451,.987124,.697944,.087731,.831373,.986694,.70554,.095694,.835294,.986175,.713153,.103863,.839216,.985566,.720782,.112229,.843137,.984865,.728427,.120785,.847059,.984075,.736087,.129527,.85098,.983196,.743758,.138453,.854902,.982228,.751442,.147565,.858824,.981173,.759135,.156863,.862745,.980032,.766837,.166353,.866667,.978806,.774545,.176037,.870588,.977497,.782258,.185923,.87451,.976108,.789974,.196018,.878431,.974638,.797692,.206332,.882353,.973088,.805409,.216877,.886275,.971468,.813122,.227658,.890196,.969783,.820825,.238686,.894118,.968041,.828515,.249972,.898039,.966243,.836191,.261534,.901961,.964394,.843848,.273391,.905882,.962517,.851476,.285546,.909804,.960626,.859069,.29801,.913725,.95872,.866624,.31082,.917647,.956834,.874129,.323974,.921569,.954997,.881569,.337475,.92549,.953215,.888942,.351369,.929412,.951546,.896226,.365627,.933333,.950018,.903409,.380271,.937255,.948683,.910473,.395289,.941176,.947594,.917399,.410665,.945098,.946809,.924168,.426373,.94902,.946392,.930761,.442367,.952941,.946403,.937159,.458592,.956863,.946903,.943348,.47497,.960784,.947937,.949318,.491426,.964706,.949545,.955063,.50786,.968627,.95174,.960587,.524203,.972549,.954529,.965896,.540361,.976471,.957896,.971003,.556275,.980392,.961812,.975924,.571925,.984314,.966249,.980678,.587206,.988235,.971162,.985282,.602154,.992157,.976511,.989753,.61676,.996078,.982257,.994109,.631017,1,.988362,.998364,.644924]},{ColorSpace:"Diverging",Name:"Plasma (matplotlib)",NanColor:[0,1,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Nathaniel J. Smith & Stefan van der Walt",RGBPoints:[0,.050383,.029803,.527975,.003922,.063536,.028426,.533124,.007843,.075353,.027206,.538007,.011765,.086222,.026125,.542658,.015686,.096379,.025165,.547103,.019608,.10598,.024309,.551368,.023529,.115124,.023556,.555468,.027451,.123903,.022878,.559423,.031373,.132381,.022258,.56325,.035294,.140603,.021687,.566959,.039216,.148607,.021154,.570562,.043137,.156421,.020651,.574065,.047059,.16407,.020171,.577478,.05098,.171574,.019706,.580806,.054902,.17895,.019252,.584054,.058824,.186213,.018803,.587228,.062745,.193374,.018354,.59033,.066667,.200445,.017902,.593364,.070588,.207435,.017442,.596333,.07451,.21435,.016973,.599239,.078431,.221197,.016497,.602083,.082353,.227983,.016007,.604867,.086275,.234715,.015502,.607592,.090196,.241396,.014979,.610259,.094118,.248032,.014439,.612868,.098039,.254627,.013882,.615419,.101961,.261183,.013308,.617911,.105882,.267703,.012716,.620346,.109804,.274191,.012109,.622722,.113725,.280648,.011488,.625038,.117647,.287076,.010855,.627295,.121569,.293478,.010213,.62949,.12549,.299855,.009561,.631624,.129412,.30621,.008902,.633694,.133333,.312543,.008239,.6357,.137255,.318856,.007576,.63764,.141176,.32515,.006915,.639512,.145098,.331426,.006261,.641316,.14902,.337683,.005618,.643049,.152941,.343925,.004991,.64471,.156863,.35015,.004382,.646298,.160784,.356359,.003798,.64781,.164706,.362553,.003243,.649245,.168627,.368733,.002724,.650601,.172549,.374897,.002245,.651876,.176471,.381047,.001814,.653068,.180392,.387183,.001434,.654177,.184314,.393304,.001114,.655199,.188235,.399411,859e-6,.656133,.192157,.405503,678e-6,.656977,.196078,.41158,577e-6,.65773,.2,.417642,564e-6,.65839,.203922,.423689,646e-6,.658956,.207843,.429719,831e-6,.659425,.211765,.435734,.001127,.659797,.215686,.441732,.00154,.660069,.219608,.447714,.00208,.66024,.223529,.453677,.002755,.66031,.227451,.459623,.003574,.660277,.231373,.46555,.004545,.660139,.235294,.471457,.005678,.659897,.239216,.477344,.00698,.659549,.243137,.48321,.00846,.659095,.247059,.489055,.010127,.658534,.25098,.494877,.01199,.657865,.254902,.500678,.014055,.657088,.258824,.506454,.016333,.656202,.262745,.512206,.018833,.655209,.266667,.517933,.021563,.654109,.270588,.523633,.024532,.652901,.27451,.529306,.027747,.651586,.278431,.534952,.031217,.650165,.282353,.54057,.03495,.64864,.286275,.546157,.038954,.64701,.290196,.551715,.043136,.645277,.294118,.557243,.047331,.643443,.298039,.562738,.051545,.641509,.301961,.568201,.055778,.639477,.305882,.573632,.060028,.637349,.309804,.579029,.064296,.635126,.313725,.584391,.068579,.632812,.317647,.589719,.072878,.630408,.321569,.595011,.07719,.627917,.32549,.600266,.081516,.625342,.329412,.605485,.085854,.622686,.333333,.610667,.090204,.619951,.337255,.615812,.094564,.61714,.341176,.620919,.098934,.614257,.345098,.625987,.103312,.611305,.34902,.631017,.107699,.608287,.352941,.636008,.112092,.605205,.356863,.640959,.116492,.602065,.360784,.645872,.120898,.598867,.364706,.650746,.125309,.595617,.368627,.65558,.129725,.592317,.372549,.660374,.134144,.588971,.376471,.665129,.138566,.585582,.380392,.669845,.142992,.582154,.384314,.674522,.147419,.578688,.388235,.67916,.151848,.575189,.392157,.683758,.156278,.57166,.396078,.688318,.160709,.568103,.4,.69284,.165141,.564522,.403922,.697324,.169573,.560919,.407843,.701769,.174005,.557296,.411765,.706178,.178437,.553657,.415686,.710549,.182868,.550004,.419608,.714883,.187299,.546338,.423529,.719181,.191729,.542663,.427451,.723444,.196158,.538981,.431373,.72767,.200586,.535293,.435294,.731862,.205013,.531601,.439216,.736019,.209439,.527908,.443137,.740143,.213864,.524216,.447059,.744232,.218288,.520524,.45098,.748289,.222711,.516834,.454902,.752312,.227133,.513149,.458824,.756304,.231555,.509468,.462745,.760264,.235976,.505794,.466667,.764193,.240396,.502126,.470588,.76809,.244817,.498465,.47451,.771958,.249237,.494813,.478431,.775796,.253658,.491171,.482353,.779604,.258078,.487539,.486275,.783383,.2625,.483918,.490196,.787133,.266922,.480307,.494118,.790855,.271345,.476706,.498039,.794549,.27577,.473117,.501961,.798216,.280197,.469538,.505882,.801855,.284626,.465971,.509804,.805467,.289057,.462415,.513725,.809052,.293491,.45887,.517647,.812612,.297928,.455338,.521569,.816144,.302368,.451816,.52549,.819651,.306812,.448306,.529412,.823132,.311261,.444806,.533333,.826588,.315714,.441316,.537255,.830018,.320172,.437836,.541176,.833422,.324635,.434366,.545098,.836801,.329105,.430905,.54902,.840155,.33358,.427455,.552941,.843484,.338062,.424013,.556863,.846788,.342551,.420579,.560784,.850066,.347048,.417153,.564706,.853319,.351553,.413734,.568627,.856547,.356066,.410322,.572549,.85975,.360588,.406917,.576471,.862927,.365119,.403519,.580392,.866078,.36966,.400126,.584314,.869203,.374212,.396738,.588235,.872303,.378774,.393355,.592157,.875376,.383347,.389976,.596078,.878423,.387932,.3866,.6,.881443,.392529,.383229,.603922,.884436,.397139,.37986,.607843,.887402,.401762,.376494,.611765,.89034,.406398,.37313,.615686,.89325,.411048,.369768,.619608,.896131,.415712,.366407,.623529,.898984,.420392,.363047,.627451,.901807,.425087,.359688,.631373,.904601,.429797,.356329,.635294,.907365,.434524,.35297,.639216,.910098,.439268,.34961,.643137,.9128,.444029,.346251,.647059,.915471,.448807,.34289,.65098,.918109,.453603,.339529,.654902,.920714,.458417,.336166,.658824,.923287,.463251,.332801,.662745,.925825,.468103,.329435,.666667,.928329,.472975,.326067,.670588,.930798,.477867,.322697,.67451,.933232,.48278,.319325,.678431,.93563,.487712,.315952,.682353,.93799,.492667,.312575,.686275,.940313,.497642,.309197,.690196,.942598,.502639,.305816,.694118,.944844,.507658,.302433,.698039,.947051,.512699,.299049,.701961,.949217,.517763,.295662,.705882,.951344,.52285,.292275,.709804,.953428,.52796,.288883,.713725,.95547,.533093,.28549,.717647,.957469,.53825,.282096,.721569,.959424,.543431,.278701,.72549,.961336,.548636,.275305,.729412,.963203,.553865,.271909,.733333,.965024,.559118,.268513,.737255,.966798,.564396,.265118,.741176,.968526,.5697,.261721,.745098,.970205,.575028,.258325,.74902,.971835,.580382,.254931,.752941,.973416,.585761,.25154,.756863,.974947,.591165,.248151,.760784,.976428,.596595,.244767,.764706,.977856,.602051,.241387,.768627,.979233,.607532,.238013,.772549,.980556,.613039,.234646,.776471,.981826,.618572,.231287,.780392,.983041,.624131,.227937,.784314,.984199,.629718,.224595,.788235,.985301,.63533,.221265,.792157,.986345,.640969,.217948,.796078,.987332,.646633,.214648,.8,.98826,.652325,.211364,.803922,.989128,.658043,.2081,.807843,.989935,.663787,.204859,.811765,.990681,.669558,.201642,.815686,.991365,.675355,.198453,.819608,.991985,.681179,.195295,.823529,.992541,.68703,.19217,.827451,.993032,.692907,.189084,.831373,.993456,.69881,.186041,.835294,.993814,.704741,.183043,.839216,.994103,.710698,.180097,.843137,.994324,.716681,.177208,.847059,.994474,.722691,.174381,.85098,.994553,.728728,.171622,.854902,.994561,.734791,.168938,.858824,.994495,.74088,.166335,.862745,.994355,.746995,.163821,.866667,.994141,.753137,.161404,.870588,.993851,.759304,.159092,.87451,.993482,.765499,.156891,.878431,.993033,.77172,.154808,.882353,.992505,.777967,.152855,.886275,.991897,.784239,.151042,.890196,.991209,.790537,.149377,.894118,.990439,.796859,.14787,.898039,.989587,.803205,.146529,.901961,.988648,.809579,.145357,.905882,.987621,.815978,.144363,.909804,.986509,.822401,.143557,.913725,.985314,.828846,.142945,.917647,.984031,.835315,.142528,.921569,.982653,.841812,.142303,.92549,.98119,.848329,.142279,.929412,.979644,.854866,.142453,.933333,.977995,.861432,.142808,.937255,.976265,.868016,.143351,.941176,.974443,.874622,.144061,.945098,.97253,.88125,.144923,.94902,.970533,.887896,.145919,.952941,.968443,.894564,.147014,.956863,.966271,.901249,.14818,.960784,.964021,.90795,.14937,.964706,.961681,.914672,.15052,.968627,.959276,.921407,.151566,.972549,.956808,.928152,.152409,.976471,.954287,.934908,.152921,.980392,.951726,.941671,.152925,.984314,.949151,.948435,.152178,.988235,.946602,.95519,.150328,.992157,.944152,.961916,.146861,.996078,.941896,.96859,.140956,1,.940015,.975158,.131326]},{ColorSpace:"Diverging",Name:"Viridis (matplotlib)",NanColor:[1,0,0],Source:"https://github.com/BIDS/colormap/blob/master/colormaps.py",License:"CC0",Creator:"Eric Firing",RGBPoints:[0,.267004,.004874,.329415,.003922,.26851,.009605,.335427,.007843,.269944,.014625,.341379,.011765,.271305,.019942,.347269,.015686,.272594,.025563,.353093,.019608,.273809,.031497,.358853,.023529,.274952,.037752,.364543,.027451,.276022,.044167,.370164,.031373,.277018,.050344,.375715,.035294,.277941,.056324,.381191,.039216,.278791,.062145,.386592,.043137,.279566,.067836,.391917,.047059,.280267,.073417,.397163,.05098,.280894,.078907,.402329,.054902,.281446,.08432,.407414,.058824,.281924,.089666,.412415,.062745,.282327,.094955,.417331,.066667,.282656,.100196,.42216,.070588,.28291,.105393,.426902,.07451,.283091,.110553,.431554,.078431,.283197,.11568,.436115,.082353,.283229,.120777,.440584,.086275,.283187,.125848,.44496,.090196,.283072,.130895,.449241,.094118,.282884,.13592,.453427,.098039,.282623,.140926,.457517,.101961,.28229,.145912,.46151,.105882,.281887,.150881,.465405,.109804,.281412,.155834,.469201,.113725,.280868,.160771,.472899,.117647,.280255,.165693,.476498,.121569,.279574,.170599,.479997,.12549,.278826,.17549,.483397,.129412,.278012,.180367,.486697,.133333,.277134,.185228,.489898,.137255,.276194,.190074,.493001,.141176,.275191,.194905,.496005,.145098,.274128,.199721,.498911,.14902,.273006,.20452,.501721,.152941,.271828,.209303,.504434,.156863,.270595,.214069,.507052,.160784,.269308,.218818,.509577,.164706,.267968,.223549,.512008,.168627,.26658,.228262,.514349,.172549,.265145,.232956,.516599,.176471,.263663,.237631,.518762,.180392,.262138,.242286,.520837,.184314,.260571,.246922,.522828,.188235,.258965,.251537,.524736,.192157,.257322,.25613,.526563,.196078,.255645,.260703,.528312,.2,.253935,.265254,.529983,.203922,.252194,.269783,.531579,.207843,.250425,.27429,.533103,.211765,.248629,.278775,.534556,.215686,.246811,.283237,.535941,.219608,.244972,.287675,.53726,.223529,.243113,.292092,.538516,.227451,.241237,.296485,.539709,.231373,.239346,.300855,.540844,.235294,.237441,.305202,.541921,.239216,.235526,.309527,.542944,.243137,.233603,.313828,.543914,.247059,.231674,.318106,.544834,.25098,.229739,.322361,.545706,.254902,.227802,.326594,.546532,.258824,.225863,.330805,.547314,.262745,.223925,.334994,.548053,.266667,.221989,.339161,.548752,.270588,.220057,.343307,.549413,.27451,.21813,.347432,.550038,.278431,.21621,.351535,.550627,.282353,.214298,.355619,.551184,.286275,.212395,.359683,.55171,.290196,.210503,.363727,.552206,.294118,.208623,.367752,.552675,.298039,.206756,.371758,.553117,.301961,.204903,.375746,.553533,.305882,.203063,.379716,.553925,.309804,.201239,.38367,.554294,.313725,.19943,.387607,.554642,.317647,.197636,.391528,.554969,.321569,.19586,.395433,.555276,.32549,.1941,.399323,.555565,.329412,.192357,.403199,.555836,.333333,.190631,.407061,.556089,.337255,.188923,.41091,.556326,.341176,.187231,.414746,.556547,.345098,.185556,.41857,.556753,.34902,.183898,.422383,.556944,.352941,.182256,.426184,.55712,.356863,.180629,.429975,.557282,.360784,.179019,.433756,.55743,.364706,.177423,.437527,.557565,.368627,.175841,.44129,.557685,.372549,.174274,.445044,.557792,.376471,.172719,.448791,.557885,.380392,.171176,.45253,.557965,.384314,.169646,.456262,.55803,.388235,.168126,.459988,.558082,.392157,.166617,.463708,.558119,.396078,.165117,.467423,.558141,.4,.163625,.471133,.558148,.403922,.162142,.474838,.55814,.407843,.160665,.47854,.558115,.411765,.159194,.482237,.558073,.415686,.157729,.485932,.558013,.419608,.15627,.489624,.557936,.423529,.154815,.493313,.55784,.427451,.153364,.497,.557724,.431373,.151918,.500685,.557587,.435294,.150476,.504369,.55743,.439216,.149039,.508051,.55725,.443137,.147607,.511733,.557049,.447059,.14618,.515413,.556823,.45098,.144759,.519093,.556572,.454902,.143343,.522773,.556295,.458824,.141935,.526453,.555991,.462745,.140536,.530132,.555659,.466667,.139147,.533812,.555298,.470588,.13777,.537492,.554906,.47451,.136408,.541173,.554483,.478431,.135066,.544853,.554029,.482353,.133743,.548535,.553541,.486275,.132444,.552216,.553018,.490196,.131172,.555899,.552459,.494118,.129933,.559582,.551864,.498039,.128729,.563265,.551229,.501961,.127568,.566949,.550556,.505882,.126453,.570633,.549841,.509804,.125394,.574318,.549086,.513725,.124395,.578002,.548287,.517647,.123463,.581687,.547445,.521569,.122606,.585371,.546557,.52549,.121831,.589055,.545623,.529412,.121148,.592739,.544641,.533333,.120565,.596422,.543611,.537255,.120092,.600104,.54253,.541176,.119738,.603785,.5414,.545098,.119512,.607464,.540218,.54902,.119423,.611141,.538982,.552941,.119483,.614817,.537692,.556863,.119699,.61849,.536347,.560784,.120081,.622161,.534946,.564706,.120638,.625828,.533488,.568627,.12138,.629492,.531973,.572549,.122312,.633153,.530398,.576471,.123444,.636809,.528763,.580392,.12478,.640461,.527068,.584314,.126326,.644107,.525311,.588235,.128087,.647749,.523491,.592157,.130067,.651384,.521608,.596078,.132268,.655014,.519661,.6,.134692,.658636,.517649,.603922,.137339,.662252,.515571,.607843,.14021,.665859,.513427,.611765,.143303,.669459,.511215,.615686,.146616,.67305,.508936,.619608,.150148,.676631,.506589,.623529,.153894,.680203,.504172,.627451,.157851,.683765,.501686,.631373,.162016,.687316,.499129,.635294,.166383,.690856,.496502,.639216,.170948,.694384,.493803,.643137,.175707,.6979,.491033,.647059,.180653,.701402,.488189,.65098,.185783,.704891,.485273,.654902,.19109,.708366,.482284,.658824,.196571,.711827,.479221,.662745,.202219,.715272,.476084,.666667,.20803,.718701,.472873,.670588,.214,.722114,.469588,.67451,.220124,.725509,.466226,.678431,.226397,.728888,.462789,.682353,.232815,.732247,.459277,.686275,.239374,.735588,.455688,.690196,.24607,.73891,.452024,.694118,.252899,.742211,.448284,.698039,.259857,.745492,.444467,.701961,.266941,.748751,.440573,.705882,.274149,.751988,.436601,.709804,.281477,.755203,.432552,.713725,.288921,.758394,.428426,.717647,.296479,.761561,.424223,.721569,.304148,.764704,.419943,.72549,.311925,.767822,.415586,.729412,.319809,.770914,.411152,.733333,.327796,.77398,.40664,.737255,.335885,.777018,.402049,.741176,.344074,.780029,.397381,.745098,.35236,.783011,.392636,.74902,.360741,.785964,.387814,.752941,.369214,.788888,.382914,.756863,.377779,.791781,.377939,.760784,.386433,.794644,.372886,.764706,.395174,.797475,.367757,.768627,.404001,.800275,.362552,.772549,.412913,.803041,.357269,.776471,.421908,.805774,.35191,.780392,.430983,.808473,.346476,.784314,.440137,.811138,.340967,.788235,.449368,.813768,.335384,.792157,.458674,.816363,.329727,.796078,.468053,.818921,.323998,.8,.477504,.821444,.318195,.803922,.487026,.823929,.312321,.807843,.496615,.826376,.306377,.811765,.506271,.828786,.300362,.815686,.515992,.831158,.294279,.819608,.525776,.833491,.288127,.823529,.535621,.835785,.281908,.827451,.545524,.838039,.275626,.831373,.555484,.840254,.269281,.835294,.565498,.84243,.262877,.839216,.575563,.844566,.256415,.843137,.585678,.846661,.249897,.847059,.595839,.848717,.243329,.85098,.606045,.850733,.236712,.854902,.616293,.852709,.230052,.858824,.626579,.854645,.223353,.862745,.636902,.856542,.21662,.866667,.647257,.8584,.209861,.870588,.657642,.860219,.203082,.87451,.668054,.861999,.196293,.878431,.678489,.863742,.189503,.882353,.688944,.865448,.182725,.886275,.699415,.867117,.175971,.890196,.709898,.868751,.169257,.894118,.720391,.87035,.162603,.898039,.730889,.871916,.156029,.901961,.741388,.873449,.149561,.905882,.751884,.874951,.143228,.909804,.762373,.876424,.137064,.913725,.772852,.877868,.131109,.917647,.783315,.879285,.125405,.921569,.79376,.880678,.120005,.92549,.804182,.882046,.114965,.929412,.814576,.883393,.110347,.933333,.82494,.88472,.106217,.937255,.83527,.886029,.102646,.941176,.845561,.887322,.099702,.945098,.85581,.888601,.097452,.94902,.866013,.889868,.095953,.952941,.876168,.891125,.09525,.956863,.886271,.892374,.095374,.960784,.89632,.893616,.096335,.964706,.906311,.894855,.098125,.968627,.916242,.896091,.100717,.972549,.926106,.89733,.104071,.976471,.935904,.89857,.108131,.980392,.945636,.899815,.112838,.984314,.9553,.901065,.118128,.988235,.964894,.902323,.123941,.992157,.974417,.90359,.130215,.996078,.983868,.904867,.136897,1,.993248,.906157,.143936]},{ShowIndexedColorActiveValues:1,IndexedColors:[.07,.5,.7,1,1,1,.85,1,1,.8,.5,1,.76,1,0,1,.71,.71,.5,.5,.5,.05,.05,1,1,.05,.05,.7,1,1,.7,.89,.96,.67,.36,.95,.54,1,0,.75,.65,.65,.5,.6,.6,1,.5,0,1,1,.19,.12,.94,.12,.5,.82,.89,.56,.25,.83,.24,1,0,.9,.9,.9,.75,.76,.78,.65,.65,.67,.54,.6,.78,.61,.48,.78,.5,.48,.78,.44,.48,.78,.36,.48,.76,1,.48,.38,.49,.5,.69,.76,.56,.56,.4,.56,.56,.74,.5,.89,1,.63,0,.65,.16,.16,.36,.72,.82,.44,.18,.69,0,1,0,.58,1,1,.58,.88,.88,.45,.76,.79,.33,.71,.71,.23,.62,.62,.14,.56,.56,.04,.49,.55,0,.41,.52,.88,.88,1,1,.85,.56,.65,.46,.45,.4,.5,.5,.62,.39,.71,.83,.48,0,.58,0,.58,.26,.62,.69,.34,.09,.56,0,.79,0,.44,.83,1,1,1,.78,.85,1,.78,.78,1,.78,.64,1,.78,.56,1,.78,.38,1,.78,.27,1,.78,.19,1,.78,.12,1,.78,0,1,.61,0,.9,.46,0,.83,.32,0,.75,.22,0,.67,.14,.3,.76,1,.3,.65,1,.13,.58,.84,.15,.49,.67,.15,.4,.59,.09,.33,.53,.96,.93,.82,.8,.82,.12,.71,.71,.76,.65,.33,.3,.34,.35,.38,.62,.31,.71,.67,.36,0,.46,.31,.27,.26,.51,.59,.26,0,.4,0,.49,0,.44,.67,.98,0,.73,1,0,.63,1,0,.56,1,0,.5,1,0,.42,1,.33,.36,.95,.47,.36,.89,.54,.31,.89,.63,.21,.83,.7,.12,.83,.7,.12,.73,.7,.05,.65,.74,.05,.53,.78,0,.4,.8,0,.35,.82,0,.31,.85,0,.27,.88,0,.22,.9,0,.18,.91,0,.15,.92,0,.14,.93,0,.13,.94,0,.12,.95,0,.11,.96,0,.1,.97,0,.09,.98,0,.08,.99,0,.07,1,0,.06],Annotations:[0,"Xx",1,"H",2,"He",3,"Li",4,"Be",5,"B",6,"C",7,"N",8,"O",9,"F",10,"Ne",11,"Na",12,"Mg",13,"Al",14,"Si",15,"P",16,"S",17,"Cl",18,"Ar",19,"K",20,"Ca",21,"Sc",22,"Ti",23,"V",24,"Cr",25,"Mn",26,"Fe",27,"Co",28,"Ni",29,"Cu",30,"Zn",31,"Ga",32,"Ge",33,"As",34,"Se",35,"Br",36,"Kr",37,"Rb",38,"Sr",39,"Y",40,"Zr",41,"Nb",42,"Mo",43,"Tc",44,"Ru",45,"Rh",46,"Pd",47,"Ag",48,"Cd",49,"In",50,"Sn",51,"Sb",52,"Te",53,"I",54,"Xe",55,"Cs",56,"Ba",57,"La",58,"Ce",59,"Pr",60,"Nd",61,"Pm",62,"Sm",63,"Eu",64,"Gd",65,"Tb",66,"Dy",67,"Ho",68,"Er",69,"Tm",70,"Yb",71,"Lu",72,"Hf",73,"Ta",74,"W",75,"Re",76,"Os",77,"Ir",78,"Pt",79,"Au",80,"Hg",81,"Tl",82,"Pb",83,"Bi",84,"Po",85,"At",86,"Rn",87,"Fr",88,"Ra",89,"Ac",90,"Th",91,"Pa",92,"U",93,"Np",94,"Pu",95,"Am",96,"Cm",97,"Bk",98,"Cf",99,"Es",100,"Fm",101,"Md",102,"No",103,"Lr",104,"Rf",105,"Db",106,"Sg",107,"Bh",108,"Hs",109,"Mt",110,"Ds",111,"Rg",112,"Cn",113,"Uut",114,"Uuq",115,"Uup",116,"Uuh",117,"Uus",118,"Uuo"],Name:"BlueObeliskElements"}]},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkTexture"),e.imageLoaded=function(){t.image.removeEventListener("load",e.imageLoaded),t.imageLoaded=!0,e.modified()},e.setImage=function(n){t.image!==n&&(null!==n&&(e.setInputData(null),e.setInputConnection(null)),t.image=n,t.imageLoaded=!1,n.complete?e.imageLoaded():n.addEventListener("load",e.imageLoaded),e.modified())}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.algo(e,t,6,0),o.default.get(e,t,["imageLoaded"]),o.default.setGet(e,t,["repeat","edgeClamp","interpolate","image"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={repeat:!1,interpolate:!1,edgeClamp:!1,image:null,imageLoaded:!1},u=t.newInstance=o.default.newInstance(a,"vtkTexture");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkCallbacks"),e.registerCallback=function(e,n){if("function"==typeof n){if(!t.callbacks[e])return void(t.callbacks[e]=[n]);var r=t.callbacks[e];r.indexOf(n)<0&&r.push(n)}},e.unregisterCallback=function(e,n){if(t.callbacks[e]){if(!n)return void delete t.callbacks[e];var r=t.callbacks[e],a=r.indexOf(n);a>=0&&r.splice(a,1)}},e.getCallback=function(e){return t.callbacks[e]},e.onCallback=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=t.callbacks[e];if(i)for(var o=0;o<i.length;o++){var s=i[o];"function"==typeof s&&s.apply(void 0,r)}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={callbacks:{}},u=t.newInstance=o.default.newInstance(a,"vtkCallbacks");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkVolume"),e.getVolumes=function(){return e},e.makeProperty=f.default.newInstance,e.getProperty=function(){return null===t.property&&(t.property=e.makeProperty()),t.property},e.getBounds=function(){if(null===t.mapper)return t.bounds;var n=t.mapper.getBounds();if(!n||6!==n.length)return n;if(n[0]>n[1])return t.mapperBounds=n.concat(),t.bounds=[1,-1,1,-1,1,-1],t.boundsMTime.modified(),n;if(!t.mapperBounds||!function(e){return e[0].map(function(t,n){return e.map(function(e){return e[n]})})}([n,t.mapperBounds]).reduce(function(e,t){return e&&t[0]===t[1]},!0)||e.getMTime()>t.boundsMTime.getMTime()){m("Recomputing bounds..."),t.mapperBounds=n.map(function(e){return e});var r=[o.vec3.fromValues(n[1],n[3],n[5]),o.vec3.fromValues(n[1],n[2],n[5]),o.vec3.fromValues(n[0],n[2],n[5]),o.vec3.fromValues(n[0],n[3],n[5]),o.vec3.fromValues(n[1],n[3],n[4]),o.vec3.fromValues(n[1],n[2],n[4]),o.vec3.fromValues(n[0],n[2],n[4]),o.vec3.fromValues(n[0],n[3],n[4])];e.computeMatrix();var a=o.mat4.create();o.mat4.transpose(a,t.matrix),r.forEach(function(e){return o.vec3.transformMat4(e,e,a)}),t.bounds[0]=t.bounds[2]=t.bounds[4]=Number.MAX_VALUE,t.bounds[1]=t.bounds[3]=t.bounds[5]=-Number.MAX_VALUE,t.bounds=t.bounds.map(function(e,t){return t%2==0?r.reduce(function(e,n){return e>n[t/2]?n[t/2]:e},e):r.reduce(function(e,n){return e<n[(t-1)/2]?n[(t-1)/2]:e},e)}),t.boundsMTime.modified()}return t.bounds},e.getMTime=function(){var e=t.mtime;if(null!==t.property){var n=t.property.getMTime();e=n>e?n:e}return e},e.getRedrawMTime=function(){var e=t.mtime;if(null!==t.mapper){var n=t.mapper.getMTime();e=n>e?n:e,null!==t.mapper.getInput()&&(t.mapper.getInputAlgorithm().update(),n=t.mapper.getInput().getMTime(),e=n>e?n:e)}return e}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,g,n),c.default.extend(e,t,n),t.boundsMTime={},u.default.obj(t.boundsMTime),u.default.set(e,t,["property"]),u.default.setGet(e,t,["mapper"]),u.default.getArray(e,t,["bounds"],6),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(126),c=r(l),d=n(436),f=r(d),m=u.default.vtkDebugMacro,g={mapper:null,property:null,bounds:[1,-1,1,-1,1,-1]},p=t.newInstance=u.default.newInstance(i,"vtkVolume");t.default={newInstance:p,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkVolumeProperty"),e.getMTime=function(){for(var e=t.mtime,n=void 0,r=0;r<v;r++)1===t.componentData[r].colorChannels?t.componentData[r].grayTransferFunction&&(n=t.componentData[r].grayTransferFunction.getMTime(),e=e>n?e:n):3===t.componentData[r].colorChannels&&t.componentData[r].rGBTransferFunction&&(n=t.componentData[r].rGBTransferFunction.getMTime(),e=e>n?e:n),t.componentData[r].scalarOpacity&&(n=t.componentData[r].scalarOpacity.getMTime(),e=e>n?e:n),t.componentData[r].gradientOpacity&&(t.componentData[r].disableGradientOpacity||(n=t.componentData[r].gradientOpacity.getMTime(),e=e>n?e:n));return e},e.getColorChannels=function(e){return e<0||e>3?(p("Bad index - must be between 0 and 3"),0):t.componentData[e].colorChannels},e.setGrayTransferFunction=function(n,r){t.componentData[n].grayTransferFunction!==r&&(t.componentData[n].grayTransferFunction=r,e.modified()),1!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=1,e.modified())},e.getGrayTransferFunction=function(n){return null===t.componentData[n].grayTransferFunction&&(t.componentData[n].grayTransferFunction=d.default.newInstance(),t.componentData[n].grayTransferFunction.addPoint(0,0),t.componentData[n].grayTransferFunction.addPoint(1024,1),1!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=1),e.modified()),t.componentData[n].grayTransferFunction},e.setRGBTransferFunction=function(n,r){t.componentData[n].rGBTransferFunction!==r&&(t.componentData[n].rGBTransferFunction=r,e.modified()),3!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=3,e.modified())},e.getRGBTransferFunction=function(n){return null===t.componentData[n].rGBTransferFunction&&(t.componentData[n].rGBTransferFunction=l.default.newInstance(),t.componentData[n].rGBTransferFunction.addRGBPoint(0,0,0,0),t.componentData[n].rGBTransferFunction.addRGBPoint(1024,1,1,1),3!==t.componentData[n].colorChannels&&(t.componentData[n].colorChannels=3),e.modified()),t.componentData[n].rGBTransferFunction},e.setScalarOpacity=function(n,r){t.componentData[n].scalarOpacity!==r&&(t.componentData[n].scalarOpacity=r,e.modified())},e.getScalarOpacity=function(n){return null===t.componentData[n].scalarOpacity&&(t.componentData[n].scalarOpacity=d.default.newInstance(),t.componentData[n].scalarOpacity.addPoint(0,1),t.componentData[n].scalarOpacity.addPoint(1024,1),e.modified()),t.componentData[n].scalarOpacity},e.setComponentWeight=function(n,r){if(n<0||n>=v)return void p("Invalid index");var a=Math.min(1,Math.max(0,r));t.componentData[n].componentWeight!==a&&(t.componentData[n].componentWeight=a,e.modified())},e.getComponentWeight=function(e){return e<0||e>=v?(p("Invalid index"),0):t.componentData[e].componentWeight},e.setInterpolationTypeToNearest=function(){e.setInterpolationType(g.NEAREST)},e.setInterpolationTypeToLinear=function(){e.setInterpolationType(g.LINEAR)},e.setInterpolationTypeToFastLinear=function(){e.setInterpolationType(g.FAST_LINEAR)},e.getInterpolationTypeAsString=function(){return s.default.enumToString(g,t.interpolationType)},["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity"].forEach(function(n){var r=s.default.capitalize(n);e["set"+r]=function(r,a){t.componentData[r][""+n]!==a&&(t.componentData[r][""+n]=a,e.modified())}}),["useGradientOpacity","scalarOpacityUnitDistance","gradientOpacityMinimumValue","gradientOpacityMinimumOpacity","gradientOpacityMaximumValue","gradientOpacityMaximumOpacity"].forEach(function(n){var r=s.default.capitalize(n);e["get"+r]=function(e){return t.componentData[e][""+n]}})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object.assign(t,h,n),s.default.obj(e,t),!t.componentData){t.componentData=[];for(var r=0;r<v;++r)t.componentData.push({colorChannels:1,grayTransferFunction:null,rGBTransferFunction:null,scalarOpacity:null,scalarOpacityUnitDistance:1,gradientOpacityMinimumValue:0,gradientOpacityMinimumOpacity:0,gradientOpacityMaximumValue:1,gradientOpacityMaximumOpacity:1,useGradientOpacity:!1,componentWeight:1})}s.default.setGet(e,t,["independentComponents","interpolationType","shade","ambient","diffuse","specular","specularPower","useLabelOutline","labelOutlineThickness"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(143),l=r(u),c=n(138),d=r(c),f=n(223),m=r(f),g=m.default.InterpolationType,p=s.default.vtkErrorMacro,v=4,h={independentComponents:1,interpolationType:g.FAST_LINEAR,shade:0,ambient:.1,diffuse:.7,specular:.2,specularPower:10,useLabelOutline:!1,labelOutlineThickness:1},y=t.newInstance=s.default.newInstance(i,"vtkVolumeProperty");t.default=Object.assign({newInstance:y,extend:i},m.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ColorSpace={RGB:0,HSV:1,LAB:2,DIVERGING:3},a=t.Scale={LINEAR:0,LOG10:1};t.default={ColorSpace:r,Scale:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkVolumeMapper"),e.getBounds=function(){var n=e.getInputData();return n?(t.static||e.update(),t.bounds=n.getBounds()):t.bounds=l.createUninitializedBounds(),t.bounds},e.update=function(){e.getInputData()},e.setBlendModeToComposite=function(){e.setBlendMode(f.COMPOSITE_BLEND)},e.setBlendModeToMaximumIntensity=function(){e.setBlendMode(f.MAXIMUM_INTENSITY_BLEND)},e.setBlendModeToMinimumIntensity=function(){e.setBlendMode(f.MINIMUM_INTENSITY_BLEND)},e.setBlendModeToAverageIntensity=function(){e.setBlendMode(f.AVERAGE_INTENSITY_BLEND)},e.getBlendModeAsString=function(){return s.default.enumToString(f,t.blendMode)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),s.default.obj(e,t),s.default.algo(e,t,1,0),s.default.setGet(e,t,["sampleDistance","imageSampleDistance","maximumSamplesPerRay","autoAdjustSampleDistances","blendMode"]),s.default.setGetArray(e,t,["averageIPScalarRange"],2),s.default.event(e,t,"lightingActivated"),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(224),d=r(c),f=d.default.BlendMode,m={bounds:[1,-1,1,-1,1,-1],sampleDistance:1,imageSampleDistance:1,maximumSamplesPerRay:1600,autoAdjustSampleDistances:!0,blendMode:f.COMPOSITE_BLEND,averageIPScalarRange:[-1e6,1e6]},g=t.newInstance=s.default.newInstance(i,"vtkVolumeMapper");t.default={newInstance:g,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){function n(){var e=!!Number(t.el.querySelector(".js-shadow").value);t.actor.getProperty().setShade(e),t.renderWindow.render()}function r(){var e=t.actor.getMapper().getInputData(),n=e.getPointData().getScalars()||e.getPointData().getArrays()[0],r=t.rescaleColorMap?t.colorDataRange:n.getRange(),i=c.default.getPresetByName(t.el.querySelector(".js-color-preset").value);if(i){var o=t.actor.getProperty().getRGBTransferFunction(0);o.applyColorMap(i),o.setMappingRange.apply(o,a(r)),o.updateRange(),t.renderWindow.render()}}function i(){var e=Number(t.el.querySelector(".js-spacing").value),n=t.actor.getMapper().getInputData(),r=.7*Math.sqrt(n.getSpacing().map(function(e){return e*e}).reduce(function(e,t){return e+t},0));t.actor.getMapper().setSampleDistance(r*Math.pow(2,3*e-1.5)),t.renderWindow.render()}function o(){var e=Number(t.el.querySelector(".js-edge").value);if(0===e)t.actor.getProperty().setUseGradientOpacity(0,!1);else{var n=t.actor.getMapper().getInputData(),r=n.getPointData().getScalars()||n.getPointData().getArrays()[0],a=r.getRange();t.actor.getProperty().setUseGradientOpacity(0,!0);var i=Math.max(0,e-.3)/.7;t.actor.getProperty().setGradientOpacityMinimumValue(0,.2*(a[1]-a[0])*i*i),t.actor.getProperty().setGradientOpacityMaximumValue(0,1*(a[1]-a[0])*e*e),t.actor.getProperty().setGradientOpacityMinimumOpacity(0,0),t.actor.getProperty().setGradientOpacityMaximumOpacity(0,1)}t.renderWindow.render()}t.classHierarchy.push("vtkVolumeController"),t.el=document.createElement("div"),t.el.setAttribute("class",S.default.container),t.widget=f.default.newInstance({numberOfBins:256,size:t.size}),e.setupContent=function(a,s,u){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"erdc_rainbow_bright";e.setActor(s),e.setRenderWindow(a);var d=t.actor.getMapper().getInputData(),f=d.getPointData().getScalars()||d.getPointData().getArrays()[0],m=t.actor.getProperty().getRGBTransferFunction(0),p=t.actor.getProperty().getScalarOpacity(0),h=u?"DarkBG":"BrightBG",A={};["button","presets","shadow"].forEach(function(e){A[e]=S.default[""+e+h]}),t.el.innerHTML='\n      <div class="'+S.default.line+'">\n        <div class="'+A.button+' js-button">'+g.default+'</div>\n        <select class="'+A.shadow+' js-shadow js-toggle">\n          <option value="1">Use Shadow</option>\n          <option value="0">No Shadow</option>\n        </select>\n        <select class="'+A.presets+' js-color-preset js-toggle">\n          '+T+'\n        </select>\n      </div>\n      <div class="'+S.default.line+' js-toggle">\n        <div class="'+S.default.sliderEntry+'">\n          <div class="'+S.default.sliderIcon+'">'+y.default+'</div>\n          <input type="range" min="0" max="1" value="0.4" step="0.01" class="'+S.default.slider+' js-spacing" />\n        </div>\n        <div class="'+S.default.sliderEntry+'">\n          <div class="'+S.default.sliderIcon+'">'+v.default+'</div>\n          <input type="range" min="0" max="1" value="0.2" step="0.01" class="'+S.default.slider+' js-edge" />\n        </div>\n      </div>\n      <div class="'+S.default.piecewiseEditor+' js-pwf js-toggle"></div>\n    ';var M=t.el.querySelector(".js-button"),b=t.el.querySelector(".js-shadow"),D=t.el.querySelector(".js-color-preset"),I=t.el.querySelector(".js-spacing"),w=t.el.querySelector(".js-edge"),C=t.el.querySelector(".js-pwf");t.widget.updateStyle({backgroundColor:"rgba(255, 255, 255, 0.6)",histogramColor:"rgba(100, 100, 100, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(255, 255, 255)",handleColor:"rgb(50, 150, 50)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:0,padding:10}),t.widget.addGaussian(.5,1,.5,.5,.4),t.widget.setDataArray(f.getData()),t.widget.setColorTransferFunction(m),t.widget.applyOpacity(p),t.widget.setContainer(C),t.widget.bindMouseListeners(),t.colorDataRange=t.widget.getOpacityRange(),M.addEventListener("click",e.toggleVisibility),b.addEventListener("change",n),D.addEventListener("change",r),I.addEventListener("input",i),w.addEventListener("input",o),t.widget.onOpacityChange(function(){t.widget.applyOpacity(p),t.colorDataRange=t.widget.getOpacityRange(),t.rescaleColorMap&&r(),t.renderWindow.getInteractor().isAnimating()||t.renderWindow.render()}),t.widget.onAnimation(function(e){e?t.renderWindow.getInteractor().requestAnimation(t.widget):(t.renderWindow.getInteractor().cancelAnimation(t.widget),t.renderWindow.render())}),m.onModified(function(){t.widget.render(),t.renderWindow.getInteractor().isAnimating()||t.renderWindow.render()}),b.value=Number(l)?"1":"0";for(var N=0;N<D.options.length&&D.options[N].value!==c;N++);if(N===D.options.length){var P=document.createElement("option");P.setAttribute("value",c),P.appendChild(document.createTextNode(c)),D.appendChild(P)}D.value=c,n(),r(),i(),o()},e.setContainer=function(n){t.container&&t.container!==n&&t.container.removeChild(t.el),t.container!==n&&(t.container=n,t.container&&t.container.appendChild(t.el),e.modified())};var s=e.setRescaleColorMap;e.setRescaleColorMap=function(e){return!!s(e)&&(r(),!0)},e.toggleVisibility=function(){e.setExpanded(!e.getExpanded())},e.setExpanded=function(e){var n=t.el.querySelectorAll(".js-toggle"),r=n.length;if(t.expanded=e,t.expanded)for(;r--;)n[r].style.display="flex";else for(;r--;)n[r].style.display="none"},e.getExpanded=function(){return t.expanded},e.setSize=t.widget.setSize,e.render=t.widget.render,e.onAnimation=t.widget.onAnimation,e.onModified(e.render),e.setSize.apply(e,a(t.size)),e.updateUI=function(e,n,r){var a=t.el.querySelector(".js-shadow"),i=t.actor.getProperty().getShade();a.value=Number(i)?"1":"0";for(var o=t.el.querySelector(".js-color-preset"),s=0;s<o.options.length&&o.options[s].value!==e;s++);if(s===o.options.length){var u=document.createElement("option");u.setAttribute("value",e),u.appendChild(document.createTextNode(e)),o.appendChild(u)}o.value=e,t.el.querySelector(".js-spacing").value=n,t.el.querySelector(".js-edge").value=r},e.render()}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,M,n),u.default.obj(e,t),u.default.setGet(e,t,["actor","renderWindow","rescaleColorMap"]),u.default.get(e,t,["widget"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(91),c=r(l),d=n(440),f=r(d),m=n(442),g=r(m),p=n(443),v=r(p),h=n(444),y=r(h),A=n(445),S=r(A),T=c.default.rgbPresetNames.map(function(e){return'<option value="'+e+'">'+e+"</option>"}),M={size:[600,300],expanded:!0,rescaleColorMap:!1},b=t.newInstance=u.default.newInstance(o,"vtkVolumeController");t.default={newInstance:b,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n=[];n.length<t;)n.push(0);for(var r=e.length;r--;)for(var a=e[r],i=a.position,o=a.height,s=a.width,u=a.xBias,l=a.yBias,c=0;c<t;c++){var d=c/(t-1);if(d>i+s||d<i-s)n[c]<0&&(n[c]=0);else{var f=s<x?x:s,m=0;m=0===u||d===i+u?d:d>i+u?f===u?i:i+f/(f-u)*(d-i-u):-f===u?i:i-f/(f+u)*(d-i-u);var g=(m-i)/f,p=Math.exp(-4*g*g),v=1-g*g,h=void 0;h=l<1?l*v+(1-l)*p:(2-l)*v+1*(l-1);var y=o*h;y>n[c]&&(n[c]=y)}}return n}function o(e,t,n,r){for(var a=i(e,t),o=[],s=(n[1]-n[0])/(a.length-1),u=0;u<a.length;u++){var l=n[0]+s*u,c=a[u];o.push({x:l,y:c,midpoint:.5,sharpness:0})}r.setNodes(o)}function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{lineWidth:1,strokeStyle:"#000"},a=t[3],i=t[2]/(n.length-1),o=!!r.fillStyle,s=a+t[1];e.lineWidth=r.lineWidth,e.strokeStyle=r.strokeStyle,e.beginPath(),e.moveTo(t[0],t[1]+t[3]);for(var u=0;u<n.length;u++)e.lineTo(t[0]+u*i,Math.max(t[1],s-n[u]*a));if(o){if(e.fillStyle=r.fillStyle,e.lineTo(t[0]+t[2],t[1]+t[3]),r.clip)return void e.clip();e.fill()}e.stroke()}function u(e,t,n,r){var a=r||document.createElement("canvas");a.setAttribute("width",t),a.setAttribute("height",256);for(var i=a.getContext("2d"),o=e.getUint8Table(n[0],n[1],t,4),s=i.getImageData(0,0,t,256),u=0;u<256;u++)s.data.set(o,4*u*t);for(var l=256*t*4,c=4*t,d=3;d<l;d+=4)s.data[d]=255-Math.floor(d/c);return i.putImageData(s,0,0),a}function l(e,t,n){var r=n||document.createElement("canvas");return r.setAttribute("width",t),r.setAttribute("height",256),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,256),r}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,1];return[r[0]+(e-n[0])/n[2]*(r[1]-r[0]),(t-n[1])/n[3]]}function d(e,t){var n=t.map(function(t){return Math.abs(t.position-e)}),r=Math.min.apply(Math,a(n));return n.indexOf(r)}function f(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n){var r=n.offsetX,a=n.offsetY;t&&n.preventDefault(),e(r,a)}}function m(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=O.length;return O.push({callbacks:t,timeout:0,deltaT:200,count:0,ready:!1}),r}function g(){O.filter(function(e){return e.ready}).forEach(function(e){e.callbacks.forEach(function(t){t.touches===e.touches&&t.clicks===e.count&&t.action.apply(t,a(e.singleTouche))}),e.ts=0,e.count=0,e.touches=0,e.ready=!1})}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(i){var o=i.target.getBoundingClientRect(),s=Array.prototype.map.call(i.touches,function(e){return[e.pageX-o.left,e.pageY-o.top]}),u=s.reduce(function(e,t){return[e[0]+t[0],e[1]+t[1]]},[0,0]).map(function(e){return e/i.touches.length});"touchstart"===i.type?(clearTimeout(O[e].timeout),O[e].ts=i.timeStamp,O[e].singleTouche=u,O[e].touches=i.touches.length):"touchmove"===i.type?(O[e].ts=0,O[e].count=0,O[e].ready=!1):"touchend"===i.type&&(i.timeStamp-O[e].ts<O[e].deltaT?(O[e].count+=1,O[e].ready=!0,r&&i.preventDefault(),O[e].timeout=setTimeout(g,O[e].deltaT)):O[e].ready=!1),i.touches.length===n&&(t.apply(void 0,a(u)),r&&i.preventDefault())}}function v(e,t,n){return function(r){return e()?t(r):n(r)}}function h(e,t){if(!t)return e;var n=e.length-1,r=t.map(function(e){return Math.round(e*n)});return e.slice(r[0],r[1]+1)}function y(e,t){return t?(e-t[0])/(t[1]-t[0]):e}function A(e,t){t.classHierarchy.push("vtkPiecewiseGaussianWidget"),t.canvas||(t.canvas=document.createElement("canvas")),e.setContainer=function(n){t.container&&t.container!==n&&t.container.removeChild(t.canvas),t.container!==n&&(t.container=n,t.container&&t.container.appendChild(t.canvas),e.modified())},e.setGaussians=function(n){t.gaussians!==n&&(t.gaussians=n,t.opacities=i(t.gaussians,t.piecewiseSize),e.invokeOpacityChange(e),e.modified())},e.addGaussian=function(n,r,a,o,s){var u=t.gaussians.length;return t.gaussians.push({position:n,height:r,width:a,xBias:o,yBias:s}),t.opacities=i(t.gaussians,t.piecewiseSize),e.invokeOpacityChange(e),e.modified(),u},e.removeGaussian=function(n){t.gaussians.splice(n,1),t.opacities=i(t.gaussians,t.piecewiseSize),e.invokeOpacityChange(e),e.modified()},e.setSize=function(n,r){t.canvas.setAttribute("width",n),t.canvas.setAttribute("height",r),t.size[0]===n&&t.size[1]===r||(t.size=[n,r],t.colorCanvasMTime=0,e.modified())},e.updateStyle=function(n){t.style=Object.assign({},t.style,n),e.modified()},e.setDataArray=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.numberOfBinToConsiders,i=void 0===a?1:a,o=r.numberOfBinsToSkip,s=void 0===o?1:o,u=r.numberOfComponents,l=void 0===u?1:u,c=r.component,d=void 0===c?0:c;t.histogram=null,t.histogramArray=n,t.dataRange=I.arrayRange(n,d,l);var f=T(t.dataRange,2),m=f[0],g=f[1],p=Math.floor(n.length/4)||1;p+=p%l;for(var v=0,h=[];v<n.length;){var y=new P.default,A=new C.default(y),S=v,M=Math.min(v+p,n.length-1),b=new n.constructor(n.slice(S,M+1));h.push(A.postMessage({array:b,component:d,numberOfComponents:l,min:m,max:g,numberOfBins:t.numberOfBins},[b.buffer])),v+=p}Promise.all(h).then(function(n){t.histogram=new Float32Array(t.numberOfBins),t.histogram.fill(0),n.forEach(function(e){for(var n=0,r=e.length;n<r;++n)t.histogram[n]+=e[n]});var r=Math.min(i,t.histogram.length-s),a=Array.from(t.histogram);a.sort(function(e,t){return Number(e)-Number(t)});for(var o=0;o<s;o++)a.pop();for(;a.length>r;)a.shift();for(var u=a.reduce(function(e,t){return e+t},0)/r,l=0,c=t.histogram.length;l<c;++l)t.histogram[l]/=u;e.modified(),setTimeout(e.render,0)}),e.modified()},e.onClick=function(n,r){var a=c(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null),i=T(a,2),o=i[0],s=i[1];if(o<0&&t.style.iconSize>1){for(var u=t.style.iconSize+t.style.padding,l=u,f=0;r>l;)f+=1,l+=u;switch(f){case 0:var m=e.addGaussian(0,1,.1,0,0),g=t.gaussians[m],p=Object.assign({},g),v=L.adjustPosition;t.activeGaussian=m,t.selectedGaussian=m,b.default.setImmediate(function(){e.onDown(n,r),t.dragAction={originalXY:[0,0],action:v,gaussian:g,originalGaussian:p}});break;case 1:-1!==t.selectedGaussian&&e.removeGaussian(t.selectedGaussian);break;default:t.selectedGaussian=-1,t.dragAction=null}}else if(o<0||o>1||s<0||s>1)t.selectedGaussian=-1,t.dragAction=null;else{var h=d(o,t.gaussians);h!==t.selectedGaussian&&(t.selectedGaussian=h,e.modified())}return!0},e.onHover=function(n,r){var a=10/t.canvas.height,i=c(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null),o=T(i,2),s=o[0],u=o[1],l=c(n,r,t.graphArea),f=T(l,1),m=f[0],g=s<0?t.selectedGaussian:d(s,t.gaussians);t.canvas.style.cursor="default";var p=t.gaussians[g];if(t.enableRangeZoom&&m>=0&&r<t.graphArea[1]-6){var v=(t.rangeZoom[1]-t.rangeZoom[0])/3;m<t.rangeZoom[0]+v||m>t.rangeZoom[1]-v?t.canvas.style.cursor=E.adjustZoom:t.canvas.style.cursor=E.adjustPosition,t.dragAction={rangeZoom:t.rangeZoom,action:L.adjustZoom}}else if(p&&m>=0){var h=1-u,y=null;y=h>p.height+a?"adjustPosition":h>p.height-a?Math.abs(s-p.position)<a?"adjustHeight":"adjustPosition":h>.5*p.height+a?"adjustPosition":h>.5*p.height-a?Math.abs(s-p.position)<a?"adjustBias":"adjustPosition":h>a?"adjustPosition":"adjustWidth",t.canvas.style.cursor=E[y];var A=L[y],S=Object.assign({},p);t.dragAction={originalXY:[s,u],action:A,gaussian:p,originalGaussian:S}}return g!==t.activeGaussian&&(t.activeGaussian=g,e.modified()),!0},e.onDown=function(n,r){t.mouseIsDown||e.invokeAnimation(!0),t.mouseIsDown=!0;var a=c(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null)[0],i=d(a,t.gaussians);t.gaussianSide=0;var o=t.gaussians[i];return o&&(t.gaussianSide=o.position-a),i!==t.selectedGaussian&&a>0&&(t.selectedGaussian=i,e.modified()),!0},e.onDrag=function(n,r){if(t.dragAction){var a=c(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null),o=T(a,2),s=o[0],u=o[1];(0,t.dragAction.action)(s,u,Object.assign({gaussianSide:t.gaussianSide,model:t,publicAPI:e},t.dragAction))&&(t.opacities=i(t.gaussians,t.piecewiseSize),e.invokeOpacityChange(e,!0)),e.modified()}return!0},e.onUp=function(n,r){return t.mouseIsDown&&e.invokeAnimation(!1),t.mouseIsDown=!1,!0},e.onLeave=function(n,r){return e.onUp(n,r),t.canvas.style.cursor="default",t.activeGaussian=-1,e.modified(),!0},e.onAddGaussian=function(n,r){var a=c(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null),i=T(a,2),o=i[0],s=i[1];return o>=0&&e.addGaussian(o,1-s,.1,0,0),!0},e.onRemoveGaussian=function(n,r){var a=c(n,r,t.graphArea,t.enableRangeZoom?t.rangeZoom:null)[0],i=d(a,t.gaussians);return a>=0&&-1!==i&&e.removeGaussian(i),!0},e.bindMouseListeners=function(){if(!t.listeners){var n=function(){return!!t.mouseIsDown},r=m({clicks:1,touches:1,action:e.onClick},{clicks:2,touches:1,action:e.onAddGaussian},{clicks:2,touches:2,action:e.onRemoveGaussian});t.listeners={mousemove:v(n,f(e.onDrag),f(e.onHover)),dblclick:f(e.onAddGaussian),contextmenu:f(e.onRemoveGaussian),click:f(e.onClick),mouseup:f(e.onUp),mousedown:f(e.onDown),mouseout:f(e.onLeave),touchstart:p(r,b.default.chain(e.onHover,e.onDown)),touchmove:v(n,p(r,e.onDrag),p(r,e.onHover)),touchend:p(r,e.onUp,0)},Object.keys(t.listeners).forEach(function(e){t.canvas.addEventListener(e,t.listeners[e],!1)})}},e.unbindMouseListeners=function(){t.listeners&&(Object.keys(t.listeners).forEach(function(e){t.canvas.removeEventListener(e,t.listeners[e])}),delete t.listeners)},e.render=function(){var e=t.canvas.getContext("2d");e.imageSmoothingEnabled=!0;var n=T(t.size,2),r=n[0],a=n[1],o=t.style.padding,c=[Math.floor(t.style.iconSize+o),Math.floor(o),Math.ceil(r-2*o-t.style.iconSize),Math.ceil(a-2*o)],d=t.style.zoomControlHeight;if(t.enableRangeZoom&&(c[1]+=Math.floor(d),c[3]-=Math.floor(d)),t.graphArea=c,e.clearRect(0,0,r,a),e.lineJoin="round",e.fillStyle=t.style.backgroundColor,e.fillRect.apply(e,c),t.style.iconSize>1){var f=Math.round(t.style.iconSize/2-t.style.strokeWidth),m=Math.round(f+o+t.style.strokeWidth);e.beginPath(),e.lineWidth=t.style.buttonStrokeWidth,e.strokeStyle=t.style.buttonStrokeColor,e.arc(m-o/2,m,f,0,2*Math.PI,!1),e.fillStyle=t.style.buttonFillColor,e.fill(),e.stroke(),e.moveTo(m-f+t.style.strokeWidth+2-o/2,m),e.lineTo(m+f-t.style.strokeWidth-2-o/2,m),e.stroke(),e.moveTo(m-o/2,m-f+t.style.strokeWidth+2),e.lineTo(m-o/2,m+f-t.style.strokeWidth-2),e.stroke(),-1===t.selectedGaussian?(e.fillStyle=t.style.buttonDisableFillColor,e.lineWidth=t.style.buttonDisableStrokeWidth,e.strokeStyle=t.style.buttonDisableStrokeColor):(e.fillStyle=t.style.buttonFillColor,e.lineWidth=t.style.buttonStrokeWidth,e.strokeStyle=t.style.buttonStrokeColor),e.beginPath(),e.arc(m-o/2,m+o/2+t.style.iconSize,f,0,2*Math.PI,!1),e.fill(),e.stroke(),e.moveTo(m-f+t.style.strokeWidth+2-o/2,m+o/2+t.style.iconSize),e.lineTo(m+f-t.style.strokeWidth-2-o/2,m+o/2+t.style.iconSize),e.stroke()}if(t.histogram&&s(e,c,h(t.histogram,t.rangeZoom),{lineWidth:1,strokeStyle:t.style.histogramColor,fillStyle:t.style.histogramColor}),s(e,c,h(t.opacities,t.enableRangeZoom&&t.rangeZoom),{lineWidth:t.style.strokeWidth,strokeStyle:t.style.strokeColor}),t.colorTransferFunction&&t.colorTransferFunction.getSize()){var g=t.dataRange||t.colorTransferFunction.getMappingRange();t.colorCanvas&&t.colorCanvasMTime===t.colorTransferFunction.getMTime()||(t.colorCanvasMTime=t.colorTransferFunction.getMTime(),t.colorCanvas=u(t.colorTransferFunction,c[2],g,t.colorCanvas)),e.save(),s(e,c,h(t.opacities,t.enableRangeZoom&&t.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),t.enableRangeZoom?e.drawImage(t.colorCanvas,t.rangeZoom[0]*c[2],0,c[2],c[3],c[0],c[1],c[2]/(t.rangeZoom[1]-t.rangeZoom[0]),c[3]):e.drawImage(t.colorCanvas,c[0],c[1]),e.restore()}else t.backgroundImage&&(t.colorCanvas=l(t.backgroundImage,c[2],t.colorCanvas),e.save(),s(e,c,h(t.opacities,t.enableRangeZoom&&t.rangeZoom),{lineWidth:1,strokeStyle:"rgba(0,0,0,0)",fillStyle:"rgba(0,0,0,1)",clip:!0}),e.drawImage(t.colorCanvas,c[0],c[1]),e.restore());t.enableRangeZoom&&(e.fillStyle=t.style.zoomControlColor,e.beginPath(),e.rect(c[0]+t.rangeZoom[0]*c[2],0,(t.rangeZoom[1]-t.rangeZoom[0])*c[2],d),e.fill());var p=t.gaussians[t.activeGaussian]||t.gaussians[t.selectedGaussian];if(p){s(e,c,h(i([p],c[2]),t.enableRangeZoom&&t.rangeZoom),{lineWidth:t.style.activeStrokeWidth,strokeStyle:t.style.activeColor});var v=c[0]+y(p.position,t.enableRangeZoom&&t.rangeZoom)*c[2],A=c[1]+(1-p.height)*c[3],S=c[1]+(1-.5*p.height)*c[3],M=c[1]+c[3],b=p.width*c[2];t.enableRangeZoom&&(b/=t.rangeZoom[1]-t.rangeZoom[0]),e.lineWidth=t.style.handleWidth,e.strokeStyle=t.style.handleColor,e.fillStyle=t.style.backgroundColor,e.beginPath(),e.moveTo(v,c[1]+(1-p.height)*c[3]),e.lineTo(v,c[1]+c[3]),e.stroke(),e.beginPath(),e.arc(v,A,6,0,2*Math.PI),e.fill(),e.stroke();var D=Math.min(.1*b,p.height*c[3]*.2);e.beginPath(),e.rect(v-D,S-D,2*D,2*D),e.fill(),e.stroke(),e.beginPath();var I=.8*b;e.rect(v-I,M-5,2*I,10),e.fill(),e.stroke()}},e.getOpacityNodes=function(e){for(var n=e||t.dataRange,r=(n[1]-n[0])/(t.opacities.length-1),a=[],i=0;i<t.opacities.length;i++){var o=n[0]+r*i,s=t.opacities[i];a.push({x:o,y:s,midpoint:.5,sharpness:0})}return a},e.applyOpacity=function(t,n){var r=e.getOpacityNodes(n);t.setNodes(r)},e.getOpacityRange=function(e){for(var n=e||t.dataRange,r=(n[1]-n[0])/(t.opacities.length-1),a=t.opacities.length-1,i=0,o=0;o<t.opacities.length;o++)t.opacities[o]>0&&(a=Math.min(a,o)),t.opacities[o]>0&&(i=Math.max(i,o));return[n[0]+a*r,n[0]+i*r]};var n=e.setEnableRangeZoom;e.setEnableRangeZoom=function(e){var r=n(e);return r&&(t.colorCanvasMTime=0,t.rangeZoom=[0,1]),r};var r=e.setRangeZoom;e.setRangeZoom=function(){var e=r.apply(void 0,arguments);return e&&(t.colorCanvasMTime=0),e},e.onModified(e.render),e.setSize.apply(e,a(t.size))}function S(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,R,n),b.default.obj(e,t),b.default.setGet(e,t,["piecewiseSize","numberOfBins","colorTransferFunction","backgroundImage","enableRangeZoom"]),b.default.setGetArray(e,t,["rangeZoom"],2),b.default.get(e,t,["size","canvas","gaussians"]),b.default.event(e,t,"opacityChange"),b.default.event(e,t,"animation"),b.default.event(e,t,"zoomChange"),A(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0;var T=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.extend=S;var M=n(0),b=r(M),D=n(1),I=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(D),w=n(132),C=r(w),N=n(441),P=r(N),x=.001,E={adjustPosition:"-webkit-grab",adjustHeight:"row-resize",adjustBias:"crosshair",adjustWidth:"col-resize",adjustZoom:"col-resize"},O=[],L={adjustPosition:function(e,t,n){var r=n.originalXY,a=n.gaussian,i=n.originalGaussian,o=i.position-r[0];return a.position=e+o,!0},adjustHeight:function(e,t,n){var r=(n.originalXY,n.gaussian);return n.originalGaussian,r.height=1-t,r.height=Math.min(1,Math.max(0,r.height)),!0},adjustBias:function(e,t,n){var r=n.originalXY,a=n.gaussian,i=n.originalGaussian;return a.xBias=i.xBias-(r[0]-e)/a.height,a.yBias=i.yBias+4*(r[1]-t)/a.height,a.xBias=Math.max(-1,Math.min(1,a.xBias)),a.yBias=Math.max(0,Math.min(2,a.yBias)),!0},adjustWidth:function(e,t,n){var r=n.originalXY,a=n.gaussian,i=n.originalGaussian,o=n.gaussianSide;return a.width=o<0?i.width-(r[0]-e):i.width+(r[0]-e),a.width<x&&(a.width=x),!0},adjustZoom:function(e,t,n){var r=n.rangeZoom,a=n.publicAPI,i=r[1]-r[0],o=(e-r[0])/i,s=Math.abs(o-r[0]),u=Math.abs(o-r[1]);if(Math.abs(o-.5*(r[0]+r[1]))<Math.min(s,u)){var l=.5*i;r[0]=Math.min(Math.max(o-l,0),r[1]-.1),r[1]=Math.max(Math.min(o+l,1),r[0]+.1)}else s<u?r[0]=Math.min(Math.max(o,0),r[1]-.1):r[1]=Math.max(Math.min(o,1),r[0]+.1);return a.invokeZoomChange(r),!1}},_=t.STATIC={applyGaussianToPiecewiseFunction:o,computeOpacities:i,createListener:f,drawChart:s,findGaussian:d,listenerSelector:v,normalizeCoordinates:c},R={histogram:[],numberOfBins:256,histogramArray:null,dataRange:[0,1],gaussians:[],opacities:[],size:[600,300],piecewiseSize:256,colorCanvasMTime:0,style:{backgroundColor:"rgba(255, 255, 255, 1)",histogramColor:"rgba(200, 200, 200, 0.5)",strokeColor:"rgb(0, 0, 0)",activeColor:"rgb(0, 0, 150)",buttonDisableFillColor:"rgba(255, 255, 255, 0.5)",buttonDisableStrokeColor:"rgba(0, 0, 0, 0.5)",buttonStrokeColor:"rgba(0, 0, 0, 1)",buttonFillColor:"rgba(255, 255, 255, 1)",handleColor:"rgb(0, 150, 0)",strokeWidth:2,activeStrokeWidth:3,buttonStrokeWidth:1.5,handleWidth:3,iconSize:20,padding:10,zoomControlHeight:10,zoomControlColor:"#999"},activeGaussian:-1,selectedGaussian:-1,enableRangeZoom:!0,rangeZoom:[0,1]},k=t.newInstance=b.default.newInstance(S,"vtkPiecewiseGaussianWidget");t.default=Object.assign({newInstance:k,extend:S},_)},function(e,t,n){"use strict";e.exports=function(){return n(133)('!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n.n(r);o()(function(e,t){var n=e.array,r=e.min,i=e.max,u=e.component||0,a=e.numberOfComponents||1,f=e.numberOfBins,l=i-r,c=new Float32Array(f);c.fill(0);for(var s=n.length,y=u;y<s;y+=a)c[Math.floor((f-1)*(Number(n[y])-r)/l)]+=1;return Promise.resolve(new o.a.TransferableResponse(c,[c.buffer]))})},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!==(void 0===t?"undefined":l(t))&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":l(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=a({},m,e),n=self.postMessage.bind(self),f=new(function(e){function r(){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return u(r,e),c(r,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var t,n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=s(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"emit",this)).call.apply(t,[this,e].concat(o))}},{key:"operation",value:function(e,n){return t[e]=n,this}}]),r}(p)),l=function(e,t,n){var r=function(t){t&&t instanceof g?w(e,d,t.payload,t.transferable):w(e,d,t)},o=function(t){w(e,h,{message:t.message,stack:t.stack})};try{var i=y(e,t,n);_(i)?i.then(r).catch(o):r(i)}catch(e){o(e)}},y=function(e,n,r){var o=t[r||m];if(!o)throw new Error("Not found handler for this request");return o(n,O.bind(null,e))},w=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n([v,e,t,r],o)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");n([b,e,t,r])};return self.addEventListener("message",function(e){var t=e.data;Array.isArray(t)?l.apply(void 0,r(t)):t&&t.eventName&&f.emitLocally.apply(f,[t.eventName].concat(r(t.args)))}),f}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0},y="function"==typeof Symbol&&"symbol"===l(Symbol.iterator)?function(e){return void 0===e?"undefined":l(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":l(e)},p=n(2),v=0,b=1,h=0,d=1,m="main",_=function(e){return"object"===(void 0===e?"undefined":y(e))&&"function"==typeof e.then&&"function"==typeof e.catch},g=function e(t,n){o(this,e),this.payload=t,this.transferable=n};e.exports=f,e.exports.TransferableResponse=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return o(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=!0,i=!1,u=void 0;try{for(var a,f=this.__listeners[e][Symbol.iterator]();!(o=(a=f.next()).done);o=!0)a.value.apply(void 0,n)}catch(e){i=!0,u=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw u}}return this}},{key:"once",value:function(e,t){var n=this,r=function r(){n.off(e,r),t.apply(void 0,arguments)};return this.on(e,r)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter(function(e){return e!==t}):[],this}}]),e}();e.exports=i}]);',null)}},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\r\n<svg width="196px" height="196px" viewBox="0 0 196 196" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n    \x3c!-- Generator: Sketch 43.1 (39012) - http://www.bohemiancoding.com/sketch --\x3e\r\n    <title>VTK-js favicon-logo</title>\r\n    <desc>Created with Sketch.</desc>\r\n    <defs></defs>\r\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r\n        <g id="VTK-js-favicon">\r\n            <path d="M67.769437,157.024129 C67.2117935,160.021463 66.4450451,163.123308 65.4691689,166.329759 C64.4932927,169.536209 63.0295004,172.446368 61.077748,175.060322 C59.1259956,177.674276 56.5469329,179.817686 53.3404826,181.490617 C50.1340322,183.163547 46.056325,184 41.1072386,184 C34.7640434,184 29.605918,182.449077 25.6327078,179.347185 C21.6594976,176.245293 19.1152871,172.045603 18,166.747989 L34.1018767,161.520107 C34.3806984,163.402154 35.1125946,165.005355 36.2975871,166.329759 C37.4825797,167.654162 39.0509286,168.316354 41.002681,168.316354 C44.0697204,168.316354 46.2654089,167.235936 47.5898123,165.075067 C48.9142157,162.914198 49.8552251,160.195727 50.4128686,156.919571 L58.9865952,107.986595 L76.5522788,107.986595 L67.769437,157.024129 Z M125.798928,125.970509 C124.404819,124.088462 122.662209,122.659522 120.571046,121.683646 C118.479882,120.70777 116.144785,120.219839 113.565684,120.219839 C112.380691,120.219839 111.126012,120.376674 109.801609,120.690349 C108.477205,121.004023 107.274804,121.526806 106.19437,122.258713 C105.113936,122.99062 104.207778,123.914204 103.475871,125.029491 C102.743964,126.144778 102.378016,127.504013 102.378016,129.107239 C102.378016,131.198402 103.197043,132.853881 104.835121,134.073727 C106.473199,135.293572 108.756018,136.426268 111.683646,137.47185 C114.890096,138.587137 117.747977,139.82439 120.257373,141.183646 C122.766769,142.542902 124.892753,144.093825 126.635389,145.836461 C128.378025,147.579097 129.702408,149.548246 130.608579,151.743968 C131.51475,153.939689 131.967828,156.431621 131.967828,159.219839 C131.967828,163.680987 131.044245,167.479877 129.197051,170.616622 C127.349857,173.753367 124.962481,176.315003 122.034853,178.301609 C119.107224,180.288214 115.831117,181.73458 112.206434,182.640751 C108.581751,183.546921 104.991975,184 101.436997,184 C98.7881905,184 96.1394234,183.756035 93.4906166,183.268097 C90.8418098,182.780158 88.2975993,182.065688 85.8579088,181.124665 C83.4182184,180.183641 81.1528255,178.981241 79.0616622,177.517426 C76.9704989,176.053612 75.1930368,174.380706 73.7292225,172.49866 L86.5898123,162.042895 C88.0536266,164.27347 90.2144629,166.085784 93.0723861,167.479893 C95.9303092,168.874002 98.8230417,169.571046 101.75067,169.571046 C103.28419,169.571046 104.765408,169.414211 106.19437,169.100536 C107.623332,168.786862 108.895437,168.264079 110.010724,167.532172 C111.126011,166.800264 112.014742,165.859255 112.676944,164.709115 C113.339145,163.558975 113.670241,162.182314 113.670241,160.579088 C113.670241,157.999987 112.624675,155.961133 110.533512,154.462466 C108.442349,152.963799 105.654173,151.62199 102.168901,150.436997 C99.7292103,149.600532 97.4463913,148.659523 95.3203753,147.613941 C93.1943593,146.568359 91.3471928,145.278828 89.7788204,143.745308 C88.2104479,142.211789 86.9557688,140.382048 86.0147453,138.256032 C85.0737218,136.130016 84.6032172,133.56838 84.6032172,130.571046 C84.6032172,126.806952 85.3873916,123.408862 86.9557641,120.376676 C88.5241365,117.344489 90.6675467,114.765426 93.386059,112.63941 C96.1045712,110.513394 99.2761213,108.875341 102.900804,107.725201 C106.525487,106.575061 110.394081,106 114.506702,106 C116.667571,106 118.86326,106.209113 121.093834,106.627346 C123.324408,107.045578 125.467818,107.655492 127.524129,108.457105 C129.580439,109.258717 131.479884,110.252005 133.22252,111.436997 C134.965156,112.62199 136.428948,113.981226 137.613941,115.514745 L125.798928,125.970509 Z" id="JS" fill="#8A8B8A"></path>\r\n            <rect id="Rectangle-134" fill="#1C4678" transform="translate(169.748737, 159.748737) rotate(-315.000000) translate(-169.748737, -159.748737) " x="152.248737" y="142.248737" width="35" height="35" rx="17.5"></rect>\r\n            <g id="Group" transform="translate(3.000000, 11.000000)">\r\n                <polygon id="Path-94" fill="#1C4678" points="4.775 2.08166817e-17 25.2581621 86.0686648 47.787502 86.0686648 82.02727 14.6613142 60.8423667 14.6613142 39.9088237 59.0295346 25.2581621 2.08166817e-17"></polygon>\r\n                <polygon id="Path-95" fill="#1C4678" points="85.6632012 14.34375 136.139081 14.34375 128.046342 30.9059381 110.800052 30.8572018 101.147921 85.4767478 82.6093142 85.476745 92.1809484 30.9415527 77.9916667 30.941553"></polygon>\r\n                <polygon id="Path-96" fill="#1C4678" points="138.366196 14.34375 154.438082 14.4095874 150.024108 39.3972074 152.411743 39.3972071 169.267998 14.34375 190.243337 14.34375 167.800877 47.7472529 181.003613 101.809731 160.064138 101.809731 149.412421 57.3801274 147.116438 57.3801274 141.991155 85.515305 120.966667 85.5153071 130.730408 30.4719174"></polygon>\r\n                <polygon id="Path-99" fill="#8A8B8A" points="0 0 3.18219711 0 24.0460481 85.9443963 20.8593586 85.9443963"></polygon>\r\n                <polygon id="Path-100" fill="#8A8B8A" points="55.1015241 14.34375 57.8898582 14.34375 40.7465157 50.155281 39.7916667 46.2891617"></polygon>\r\n                <polygon id="Path-101" fill="#8A8B8A" points="85.6083812 33.46875 88.4914675 33.46875 79.3341428 85.5648665 76.4 85.5648665"></polygon>\r\n                <polygon id="Path-102" fill="#8A8B8A" points="123.785174 33.46875 126.709319 33.46875 117.522718 85.5149889 114.6 85.5149889"></polygon>\r\n                <polygon id="Path-103" fill="#8A8B8A" points="163.380379 14.34375 166.974353 14.34375 154.391667 33.1982334 155.708346 25.6525344"></polygon>\r\n                <polygon id="Path-104" fill="#8A8B8A" points="147.901937 63.75 156.818933 101.362589 153.508047 101.36259 146.433333 72.2903275"></polygon>\r\n            </g>\r\n        </g>\r\n    </g>\r\n</svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\r\n<svg width="180px" height="180px" viewBox="0 0 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n    \x3c!-- Generator: Sketch 43.1 (39012) - http://www.bohemiancoding.com/sketch --\x3e\r\n    <title>Contrast</title>\r\n    <desc>Created with Sketch.</desc>\r\n    <defs>\r\n        <linearGradient x1="100%" y1="50%" x2="0%" y2="50%" id="linearGradient-1">\r\n            <stop stop-color="#FFFFFF" offset="0%"></stop>\r\n            <stop stop-color="#FFFFFF" offset="49.4160555%"></stop>\r\n            <stop stop-color="#000000" offset="49.6771365%"></stop>\r\n            <stop stop-color="#000000" offset="100%"></stop>\r\n        </linearGradient>\r\n    </defs>\r\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\r\n        <g id="Contrast" stroke-width="10" stroke="#000000" fill="url(#linearGradient-1)">\r\n            <circle id="Oval" cx="90" cy="90" r="80"></circle>\r\n        </g>\r\n    </g>\r\n</svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\r\n<svg width="180px" height="180px" viewBox="0 0 180 180" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n    \x3c!-- Generator: Sketch 43.1 (39012) - http://www.bohemiancoding.com/sketch --\x3e\r\n    <title>Spacing</title>\r\n    <desc>Created with Sketch.</desc>\r\n    <defs></defs>\r\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square">\r\n        <g id="Spacing" stroke="#000000" stroke-width="10">\r\n            <path d="M10,90 L170,90" id="Line"></path>\r\n            <path d="M10,133.488074 L10,47" id="Line"></path>\r\n            <path d="M170,133.488074 L170,47" id="Line"></path>\r\n            <path d="M90,133.488074 L90,47" id="Line"></path>\r\n        </g>\r\n    </g>\r\n</svg>'},function(e,t,n){var r=n(446);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0};a.transform=void 0,n(448)(r,a),r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(447)(void 0),t.push([e.i,".VolumeController-module-container_3Gs4Q{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;position:absolute;top:5px;left:5px;background:hsla(0,0%,50%,.5);border-radius:5px;padding:2px;border:.5px solid #000;-webkit-box-sizing:border-box;box-sizing:border-box}.VolumeController-module-container_3Gs4Q,.VolumeController-module-line_3MRS8{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-pack:justify;justify-content:space-between}.VolumeController-module-line_3MRS8{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify}.VolumeController-module-button_vxz0n{cursor:pointer;width:1rem;margin-left:5px;margin-right:5px}.VolumeController-module-button_vxz0n svg{width:1rem;height:1rem}.VolumeController-module-sliderEntry_1cVKm{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.VolumeController-module-sliderIcon_n5754{height:1rem}.VolumeController-module-slider_27USV{-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:1rem;width:5px}.VolumeController-module-piecewiseEditor_3qegu{-webkit-box-flex:1;-ms-flex:1;flex:1}.VolumeController-module-select_3-yOg{-webkit-box-flex:1;-ms-flex:1;flex:1;background:transparent;color:#fff;border:none;-moz-appearance:none;width:5px}.VolumeController-module-select_3-yOg select:focus{outline:none;border:none}.VolumeController-module-presetsDarkBG_3G9IG{color:#fff}.VolumeController-module-presetsDarkBG_3G9IG option{color:#000}.VolumeController-module-shadowDarkBG_3CCeg{color:#fff}.VolumeController-module-shadowDarkBG_3CCeg option{color:#000}.VolumeController-module-presetsBrightBG_1qmyt{color:#000}.VolumeController-module-presetsBrightBG_1qmyt option{color:#fff}.VolumeController-module-shadowBrightBG_2UXI4{color:#000}.VolumeController-module-shadowBrightBG_2UXI4 option{color:#fff}",""]),t.locals={container:"VolumeController-module-container_3Gs4Q",line:"VolumeController-module-line_3MRS8",button:"VolumeController-module-button_vxz0n",sliderEntry:"VolumeController-module-sliderEntry_1cVKm",sliderIcon:"VolumeController-module-sliderIcon_n5754 VolumeController-module-button_vxz0n",slider:"VolumeController-module-slider_27USV",piecewiseEditor:"VolumeController-module-piecewiseEditor_3qegu",select:"VolumeController-module-select_3-yOg",presets:"VolumeController-module-presets_1UIqb VolumeController-module-select_3-yOg",shadow:"VolumeController-module-shadow_3KOWH VolumeController-module-select_3-yOg",buttonDarkBG:"VolumeController-module-buttonDarkBG_39za1 VolumeController-module-button_vxz0n",presetsDarkBG:"VolumeController-module-presetsDarkBG_3G9IG VolumeController-module-presets_1UIqb VolumeController-module-select_3-yOg",shadowDarkBG:"VolumeController-module-shadowDarkBG_3CCeg VolumeController-module-shadow_3KOWH VolumeController-module-select_3-yOg",buttonBrightBG:"VolumeController-module-buttonBrightBG_dtsUj VolumeController-module-button_vxz0n",presetsBrightBG:"VolumeController-module-presetsBrightBG_1qmyt VolumeController-module-presets_1UIqb VolumeController-module-select_3-yOg",shadowBrightBG:"VolumeController-module-shadowBrightBG_2UXI4 VolumeController-module-shadow_3KOWH VolumeController-module-select_3-yOg"}},function(e,t,n){"use strict";function r(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=a(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}function a(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=r(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=g[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(c(r.parts[i],t))}else{for(var o=[],i=0;i<r.parts.length;i++)o.push(c(r.parts[i],t));g[r.id]={id:r.id,refs:1,parts:o}}}}function a(e,t){for(var n=[],r={},a=0;a<e.length;a++){var i=e[a],o=t.base?i[0]+t.base:i[0],s=i[1],u=i[2],l=i[3],c={css:s,media:u,sourceMap:l};r[o]?r[o].parts.push(c):n.push(r[o]={id:o,parts:[c]})}return n}function i(e,t){var n=v(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=A[A.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),A.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=v(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,a)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=A.indexOf(e);t>=0&&A.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),i(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),i(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,r,a,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var l=y++;n=h||(h=s(t)),r=d.bind(null,n,l,!1),a=d.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),r=m.bind(null,n,t),a=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),r=f.bind(null,n),a=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}function d(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=T(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function m(e,t,n){var r=n.css,a=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&a;(t.convertToAbsoluteUrls||i)&&(r=S(r)),a&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var o=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var g={},p=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),v=function(e){var t={};return function(n){if(void 0===t[n]){var r=e.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[n]=r}return t[n]}}(function(e){return document.querySelector(e)}),h=null,y=0,A=[],S=n(449);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=p()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=a(e,t);return r(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=g[s.id];u.refs--,i.push(u)}e&&r(a(e,t),t);for(var o=0;o<i.length;o++){var u=i[o];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete g[u.id]}}}};var T=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a))return e;var i;return i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkYcmRenderer"),e.getRenderWindowXY=A.MultiView.getRenderWindowXY,e.getRenderWindowYZ=A.MultiView.getRenderWindowYZ,e.getRenderWindowXZ=A.MultiView.getRenderWindowXZ,e.getRenderWindow3D=A.MultiView.getRenderWindow3D,e.setServerUrl=A.RemoteData.setServerUrl,e.render=function(){if(!S.YCM_PATH)return y("null ycmPath"),A.RemoteData.onBeforeYcmData(),A.MultiView.initSceneAll(),void A.RemoteData.prepareYcmData();A.RemoteData.onBeforeYcmData(),A.MultiView.initSceneAll(),A.RemoteData.downloadYcmData()}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),s.default.obj(e,t),A.MultiView=d.default.newInstance(),A.RemoteData=m.default.newInstance(),A.AlgoServer=p.default.newInstance(),A.DataManagement=l.default.newInstance(),A.DataManagement.updateCallbacks(),A.ToolManager=h.default.newInstance(),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(27),l=r(u),c=n(140),d=r(c),f=n(232),m=r(f),g=n(191),p=r(g),v=n(46),h=r(v),y=s.default.vtkWarningMacro,A=s.default.GlobalObjects,S=s.default.GlobalOptions,T={},M=t.newInstance=s.default.newInstance(i,"vtkYcmRenderer");t.default={newInstance:M,extend:i}},function(e,t,n){"use strict";(function(e){function r(e){return e&&e.__esModule?e:{default:e}}function a(e){for(var t=e.split(" "),n=t.filter(function(e){return e.indexOf("=")>-1}),r={},a=0;a<n.length;++a){var i=n[a],o=i.split("=");2===o.length&&(r[o[0]]=o[1])}return r}function i(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function o(e,t,n,r,a){var o=e[t];if(void 0===o)return-1;if(-1!==o.indexOf("endfacet"))return t+1;if(-1===o.indexOf("facet"))return t+1;var s=0,u=2,l=n.length/3,c=o.split(/[ \t]+/).filter(function(e){return e}).slice(-3).map(Number);for(i(c,a);-1!==e[t+u].indexOf("vertex");)i(e[t+u].split(/[ \t]+/).filter(function(e){return e}).slice(-3).map(Number),n),s++,u++;r.push(s);for(var d=0;d<s;d++)r.push(l+d);for(;e[t+u]&&-1!==e[t+u].indexOf("endfacet");)u++;return t+u+2}function s(t,n){function r(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.compression,i=n.progressCallback;return r.binary?n.dataAccessHelper.fetchBinary(e,{compression:a,progressCallback:i}):n.dataAccessHelper.fetchText(t,e,{compression:a,progressCallback:i})}n.classHierarchy.push("vtkSTLReader"),n.dataAccessHelper||(n.dataAccessHelper=f.default.get("http")),t.setUrl=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{binary:!0};n.url=e;var a=e.split("/");return a.pop(),n.baseURL=a.join("/"),n.compression=r.compression,t.loadData({progressCallback:r.progressCallback,binary:!!r.binary})},t.loadData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r(n.url,e);return a.then(t.parse),a},t.parse=function(e){"string"==typeof e?t.parseAsText(e):t.parseAsArrayBuffer(e)},t.parseAsArrayBuffer=function(r){if(r&&r!==n.parseData){t.modified(),n.parseData=r;var i=null,o=null;ArrayBuffer.isView(r)?(i=r.buffer.slice(r.byteOffset,r.byteOffset+80),o=new DataView(r.buffer,r.byteOffset+84)):(i=r.slice(0,80),o=new DataView(r,84));var s=c.default.arrayBufferToString(i),u=a(s),l=s.indexOf("solid ");if(-1!==l&&l<10)return void t.parseAsText(c.default.arrayBufferToString(r));e.dataview=o;for(var d=(r.byteLength-84)/50,f=new Float32Array(9*d),m=new Float32Array(3*d),g=new Uint32Array(4*d),p=new Uint16Array(d),h=0,A=0;A<d;A++){var T=50*A;m[3*A+0]=o.getFloat32(T+0,!0),m[3*A+1]=o.getFloat32(T+4,!0),m[3*A+2]=o.getFloat32(T+8,!0),f[9*A+0]=o.getFloat32(T+12,!0),f[9*A+1]=o.getFloat32(T+16,!0),f[9*A+2]=o.getFloat32(T+20,!0),f[9*A+3]=o.getFloat32(T+24,!0),f[9*A+4]=o.getFloat32(T+28,!0),f[9*A+5]=o.getFloat32(T+32,!0),f[9*A+6]=o.getFloat32(T+36,!0),f[9*A+7]=o.getFloat32(T+40,!0),f[9*A+8]=o.getFloat32(T+44,!0),g[h++]=3,g[h++]=3*A+0,g[h++]=3*A+1,g[h++]=3*A+2,p[A]=o.getUint16(T+48,!0)}if("SPACE"in u&&"LPS"!==u.SPACE){var M=u.SPACE,D=new Float32Array(16);switch(D[15]=1,M[0]){case"L":D[0]=1;break;case"R":D[0]=-1;break;default:return void b("Can not convert STL file from "+M+" to LPS space: permutations not supported. Use itk.js STL reader instead.")}switch(M[1]){case"P":D[5]=1;break;case"A":D[5]=-1;break;default:return void b("Can not convert STL file from "+M+" to LPS space: permutations not supported. Use itk.js STL reader instead.")}switch(M[2]){case"S":D[10]=1;break;case"I":D[10]=-1;break;default:return void b("Can not convert STL file from "+M+" to LPS space: permutations not supported. Use itk.js STL reader instead.")}y.default.buildFromDegree().setMatrix(D).apply(f).apply(m)}var I=f,w=g,C=p,N=m;if(n.merging){I=[],w=[],C=[],N=[];for(var P=Math.pow(10,4),x={},E=[],O=[],L=void 0,_=void 0,R=void 0,k=void 0,B=0,V=f.length/3;B<V;B++)_=f[3*B],R=f[3*B+1],k=f[3*B+2],L=Math.round(_*P)+"_"+Math.round(R*P)+"_"+Math.round(k*P),void 0===x[L]?(x[L]=B,E.push([_,R,k]),O[B]=E.length-1):O[B]=O[x[L]];for(var F=0;F<E.length;F++){var j=E[F];I.push(j[0],j[1],j[2])}for(var U=0,z=g.length/4;U<z;U++)_=O[g[4*U+1]],R=O[g[4*U+2]],k=O[g[4*U+3]],_!==R&&R!==k&&_!==k&&(w.push(3,_,R,k),C.push(p[U]),N.push(m[3*U],m[3*U+1],m[3*U+2]));I=new Float32Array(I),w=new Uint32Array(w),C=new Uint16Array(C),N=new Float32Array(N)}var G=S.default.newInstance();G.getPoints().setData(I,3),G.getPolys().setData(w),G.getCellData().setScalars(v.default.newInstance({name:"Attribute",values:C})),G.getCellData().setNormals(v.default.newInstance({name:"Normals",values:N,numberOfComponents:3})),n.output[0]=G}},t.parseAsText=function(e){if(e&&e!==n.parseData){t.modified(),n.parseData=e;for(var r=e.split("\n"),a=1,i=[],s=[],u=[];-1!==a;)a=o(r,a,i,s,u);var l=S.default.newInstance();l.getPoints().setData(Float32Array.from(i),3),l.getPolys().setData(Uint32Array.from(s)),l.getCellData().setNormals(v.default.newInstance({name:"Normals",values:Float32Array.from(u),numberOfComponents:3})),n.output[0]=l}},t.requestData=function(e,r){t.parse(n.parseData)},t.newDefaultLocator=function(){return M.default.newInstance()}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,D,n),g.default.obj(e,t),g.default.get(e,t,["url","baseURL"]),g.default.setGet(e,t,["dataAccessHelper","merging"]),g.default.algo(e,t,0,1),s(e,t),t.compression||(t.compression=null),t.progressCallback||(t.progressCallback=null)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=u;var l=n(452),c=r(l),d=n(453),f=r(d),m=n(0),g=r(m),p=n(2),v=r(p),h=n(226),y=r(h),A=n(4),S=r(A),T=n(149),M=r(T),b=g.default.vtkErrorMacro,D={merging:0},I=t.newInstance=g.default.newInstance(u,"vtkSTLReader");t.default={extend:u,newInstance:I}}).call(t,n(14))},function(e,t,n){"use strict";function r(e){if("TextDecoder"in window)return new TextDecoder("latin1").decode(e);for(var t=new Uint8Array(e),n=[],r=0;r<t.length;++r)n[r]=String.fromCharCode(t[r]);return n.join("")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=r(e),i=t.exec(a);if(!i)return{text:a};var o=i.index+i[0].length,s=a.substring(0,o),u=n?n.exec(a):null;return u?{text:s+a.substr(u.index),binaryBuffer:e.slice(o,u.index)}:{text:s,binaryBuffer:e.slice(o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default={arrayBufferToString:r,extractBinary:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d[e](t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(454),o=r(i),s=n(455),u=r(s),l=n(456),c=r(l),d={http:function(e){return u.default},zip:function(e){return c.default.create(e)},html:function(e){return o.default}};t.default={get:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=document.querySelector('.webResource[data-url="'+e+'"]');return t?t.innerHTML:null}function i(e){return"/"===e[0]?e.substr(1):e}function o(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments[1]);return arguments.length>2&&void 0!==arguments[2]&&arguments[2],new Promise(function(t,n){var r=a(e);null===r?n(new Error("No such text "+e)):t(r)})}function s(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments[1]);return arguments.length>2&&void 0!==arguments[2]&&arguments[2],new Promise(function(t,n){var r=a(i(e));null===r?n(new Error("No such JSON "+e)):t(JSON.parse(r))})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(o,s){var u=i([t,n.ref.basepath,r.compression?n.ref.id+".gz":n.ref.id].join("/")),c=a(u);if(null===c)s(new Error("No such array "+u));else{if("string"===n.dataType){var f=atob(c);r.compression&&(f=d.default.inflate(f,{to:"string"})),n.values=JSON.parse(f)}else{var m=(0,l.toByteArray)(c);n.buffer=new ArrayBuffer(m.length),new Uint8Array(n.buffer).set(m),r.compression&&("string"===n.dataType||"JSON"===n.dataType?n.buffer=d.default.inflate(new Uint8Array(n.buffer),{to:"string"}):n.buffer=d.default.inflate(new Uint8Array(n.buffer)).buffer),"JSON"===n.ref.encode?n.values=JSON.parse(n.buffer):(p.default.ENDIANNESS!==n.ref.encode&&p.default.ENDIANNESS&&(y("Swap bytes of "+n.name),p.default.swapBytes(n.buffer,v.DataTypeByteSize[n.dataType])),n.values=new window[n.dataType](n.buffer)),n.values.length!==n.size&&h("Error in FetchArray: "+n.name+" does not have the proper array size. Got "+n.values.length+", instead of "+n.size)}delete n.ref,0==--A&&e.invokeBusy&&e.invokeBusy(!1),e.modified&&e.modified(),o(n)}})}Object.defineProperty(t,"__esModule",{value:!0});var l=n(177),c=n(26),d=r(c),f=n(0),m=r(f),g=n(144),p=r(g),v=n(5),h=m.default.vtkErrorMacro,y=m.default.vtkDebugMacro,A=0;t.default={fetchJSON:s,fetchText:o,fetchArray:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,r){var a=new XMLHttpRequest;a.onreadystatechange=function(e){4===a.readyState&&(200===a.status||0===a.status?n(a.response):r({xhr:a,e:e}))},t&&t.progressCallback&&a.addEventListener("progress",t.progressCallback),a.open("GET",e,!0),a.responseType="arraybuffer",a.send()})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return n.ref&&!n.ref.pending?new Promise(function(a,i){var o=new XMLHttpRequest,s=[t,n.ref.basepath,r.compression?n.ref.id+".gz":n.ref.id].join("/");o.onreadystatechange=function(t){1===o.readyState&&(n.ref.pending=!0,1==++h&&e.invokeBusy&&e.invokeBusy(!0)),4===o.readyState&&(n.ref.pending=!1,200===o.status||0===o.status?(n.buffer=o.response,r.compression&&("string"===n.dataType||"JSON"===n.dataType?n.buffer=l.default.inflate(new Uint8Array(n.buffer),{to:"string"}):n.buffer=l.default.inflate(new Uint8Array(n.buffer)).buffer),"JSON"===n.ref.encode?n.values=JSON.parse(n.buffer):(m.default.ENDIANNESS!==n.ref.encode&&m.default.ENDIANNESS&&(v("Swap bytes of "+n.name),m.default.swapBytes(n.buffer,g.DataTypeByteSize[n.dataType])),n.values=new window[n.dataType](n.buffer)),n.values.length!==n.size&&p("Error in FetchArray: "+n.name+", does not have the proper array size. Got "+n.values.length+", instead of "+n.size),delete n.ref,0==--h&&e.invokeBusy&&e.invokeBusy(!1),e.modified&&e.modified(),a(n)):i({xhr:o,e:t}))},r&&r.progressCallback&&o.addEventListener("progress",r.progressCallback),o.open("GET",s,!0),o.responseType=r.compression||"string"!==n.dataType?"arraybuffer":"text",o.send()}):Promise.resolve(n)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(r,a){var i=new XMLHttpRequest;i.onreadystatechange=function(t){1===i.readyState&&1==++h&&e.invokeBusy&&e.invokeBusy(!0),4===i.readyState&&(0==--h&&e.invokeBusy&&e.invokeBusy(!1),200===i.status||0===i.status?r(n.compression?JSON.parse(l.default.inflate(new Uint8Array(i.response),{to:"string"})):JSON.parse(i.responseText)):a({xhr:i,e:t}))},n&&n.progressCallback&&i.addEventListener("progress",n.progressCallback),i.open("GET",t,!0),i.responseType=n.compression?"arraybuffer":"text",i.send()})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n&&n.compression&&"gz"!==n.compression&&(p("Supported algorithms are: [gz]"),p("Unkown compression algorithm: "+n.compression)),new Promise(function(r,a){var i=new XMLHttpRequest;i.onreadystatechange=function(t){1===i.readyState&&1==++h&&e.invokeBusy&&e.invokeBusy(!0),4===i.readyState&&(0==--h&&e.invokeBusy&&e.invokeBusy(!1),200===i.status||0===i.status?r(n.compression?l.default.inflate(new Uint8Array(i.response),{to:"string"}):i.responseText):a({xhr:i,e:t}))},n.progressCallback&&i.addEventListener("progress",n.progressCallback),i.open("GET",t,!0),i.responseType=n.compression?"arraybuffer":"text",i.send()})}Object.defineProperty(t,"__esModule",{value:!0});var u=n(26),l=r(u),c=n(0),d=r(c),f=n(144),m=r(f),g=n(5),p=d.default.vtkErrorMacro,v=d.default.vtkDebugMacro,h=0;t.default={fetchArray:i,fetchJSON:o,fetchText:s,fetchBinary:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return function(r){e.buffer=new ArrayBuffer(r.length),new Uint8Array(e.buffer).set(r),t&&("string"===e.dataType||"JSON"===e.dataType?e.buffer=d.default.inflate(new Uint8Array(e.buffer),{to:"string"}):e.buffer=d.default.inflate(new Uint8Array(e.buffer)).buffer),"JSON"===e.ref.encode?e.values=JSON.parse(e.buffer):(p.default.ENDIANNESS!==e.ref.encode&&p.default.ENDIANNESS&&(y("Swap bytes of "+e.name),p.default.swapBytes(e.buffer,v.DataTypeByteSize[e.dataType])),e.values=new window[e.dataType](e.buffer)),e.values.length!==e.size&&h("Error in FetchArray: "+e.name+" does not have the proper array size. Got "+e.values.length+", instead of "+e.size),n()}}function i(e,t,n){return function(r){e.values=t?JSON.parse(d.default.inflate(r,{to:"string"})):JSON.parse(r),n()}}function o(e){return"/"===e[0]?e.substr(1):e}function s(e){var t=!1,n=0,r=new l.default,a=r;return r.loadAsync(e.zipContent).then(function(){t=!0;var n=[];r.forEach(function(e,t){-1!==e.indexOf("index.json")&&n.push(e)}),n.sort(function(e,t){return e.length-t.length});for(var i=n[0].split("/");i.length>1;){var o=i.shift();a=a.folder(o)}e.callback&&e.callback(r)}),{fetchArray:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],i=arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise(function(u,l){function c(){delete i.ref,0==--n&&e.invokeBusy&&e.invokeBusy(!1),e.modified&&e.modified(),u(i)}t||h("ERROR!!! zip not ready...");var d=o([r,i.ref.basepath,s.compression?i.ref.id+".gz":i.ref.id].join("/"));1==++n&&e.invokeBusy&&e.invokeBusy(!0);var f="string"!==i.dataType||s.compression?"uint8array":"string",m=A[f](i,s.compression,c);a.file(d).async(f).then(m)})},fetchJSON:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments[1]),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o(e);return t||h("ERROR!!! zip not ready..."),n.compression?"gz"===n.compression?a.file(r).async("uint8array").then(function(e){var t=d.default.inflate(e,{to:"string"});return Promise.resolve(JSON.parse(t))}):Promise.reject(new Error("Invalid compression")):a.file(r).async("string").then(function(e){return Promise.resolve(JSON.parse(e))})},fetchText:function(){var e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments[1]),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o(e);return t||h("ERROR!!! zip not ready..."),n.compression?"gz"===n.compression?a.file(r).async("uint8array").then(function(e){var t=d.default.inflate(e,{to:"string"});return Promise.resolve(t)}):Promise.reject(new Error("Invalid compression")):a.file(r).async("string").then(function(e){return Promise.resolve(e)})}}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(457),l=r(u),c=n(26),d=r(c),f=n(0),m=r(f),g=n(144),p=r(g),v=n(5),h=m.default.vtkErrorMacro,y=m.default.vtkDebugMacro,A={uint8array:a,string:i};t.default={create:s}},function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}r.prototype=n(458),r.prototype.loadAsync=n(482),r.support=n(33),r.defaults=n(242),r.version="3.1.4",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=n(58),e.exports=r},function(e,t,n){"use strict";function r(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var a=n(44),i=n(7),o=n(19),s=n(241),u=n(242),l=n(147),c=n(477),d=n(478),f=n(93),m=n(481),g=function(e,t,n){var r,a=i.getTypeOf(t),s=i.extend(n||{},u);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=v(e)),s.createFolders&&(r=p(e))&&h.call(this,r,!0);var d="string"===a&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!d),(t instanceof l&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",a="string");var g=null;g=t instanceof l||t instanceof o?t:f.isNode&&f.isStream(t)?new m(e,t):i.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new c(e,g,s);this.files[e]=y},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},v=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},h=function(e,t){return t=void 0!==t?t:u.createFolders,e=v(e),this.files[e]||g.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)this.files.hasOwnProperty(t)&&(r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r))},filter:function(e){var t=[];return this.forEach(function(n,r){e(n,r)&&t.push(r)}),t},file:function(e,t,n){if(1===arguments.length){if(r(e)){var a=e;return this.filter(function(e,t){return!t.dir&&a.test(e)})}var i=this.files[this.root+e];return i&&!i.dir?i:null}return e=this.root+e,g.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(r(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=h.call(this,t),a=this.clone();return a.root=n.name,a},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if(n=i.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode}),n.type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");i.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){t=new o("error"),t.error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return e=e||{},e.type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=y},function(e,t,n){"use strict";n(460),e.exports=n(237).setImmediate},function(e,t,n){"use strict";var r=n(461),a=n(469);r(r.G+r.B,{setImmediate:a.set,clearImmediate:a.clear})},function(e,t,n){"use strict";var r=n(94),a=n(237),i=n(238),o=n(463),s=function e(t,n,s){var u,l,c,d=t&e.F,f=t&e.G,m=t&e.S,g=t&e.P,p=t&e.B,v=t&e.W,h=f?a:a[n]||(a[n]={}),y=h.prototype,A=f?r:m?r[n]:(r[n]||{}).prototype;f&&(s=n);for(u in s)(l=!d&&A&&void 0!==A[u])&&u in h||(c=l?A[u]:s[u],h[u]=f&&"function"!=typeof A[u]?s[u]:p&&l?i(c,r):v&&A[u]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):g&&"function"==typeof c?i(Function.call,c):c,g&&((h.virtual||(h.virtual={}))[u]=c,t&e.R&&y&&!y[u]&&o(y,u,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(464),a=n(468);e.exports=n(146)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r=n(465),a=n(466),i=n(467),o=Object.defineProperty;t.f=n(146)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){"use strict";var r=n(145);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";e.exports=!n(146)&&!n(239)(function(){return 7!=Object.defineProperty(n(240)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(145);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r,a,i,o=n(238),s=n(470),u=n(471),l=n(240),c=n(94),d=c.process,f=c.setImmediate,m=c.clearImmediate,g=c.MessageChannel,p=0,v={},h=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){h.call(e.data)};f&&m||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++p]=function(){s("function"==typeof e?e:Function(e),t)},r(p),p},m=function(e){delete v[e]},"process"==n(472)(d)?r=function(e){d.nextTick(o(h,e,1))}:g?(a=new g,i=a.port2,a.port1.onmessage=y,r=o(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",y,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),h.call(e)}}:function(e){setTimeout(o(h,e,1),0)}),e.exports={set:f,clear:m}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";e.exports=n(94).document&&document.documentElement},function(e,t,n){"use strict";var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,n){"use strict";function r(){}function a(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function o(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return v.reject(e,t)}r===e?v.reject(e,new TypeError("Cannot resolve promise with itself")):v.resolve(e,r)})}function s(e){var t=e&&e.then;if(e&&("object"===(void 0===e?"undefined":g(e))||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){i||(i=!0,v.reject(e,t))}function r(t){i||(i=!0,v.resolve(e,t))}function a(){t(r,n)}var i=!1,o=l(a);"error"===o.status&&n(o.value)}function l(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function c(e){return e instanceof this?e:v.resolve(new this(r),e)}function d(e){var t=new this(r);return v.reject(t,e)}function f(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,a=!1;if(!n)return this.resolve([]);for(var i=new Array(n),o=0,s=-1,u=new this(r);++s<n;)!function(e,r){function s(e){i[r]=e,++o!==n||a||(a=!0,v.resolve(u,i))}t.resolve(e).then(s,function(e){a||(a=!0,v.reject(u,e))})}(e[s],s);return u}function m(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,a=!1;if(!n)return this.resolve([]);for(var i=-1,o=new this(r);++i<n;)!function(e){t.resolve(e).then(function(e){a||(a=!0,v.resolve(o,e))},function(e){a||(a=!0,v.reject(o,e))})}(e[i]);return o}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=n(474),v={},h=["REJECTED"],y=["FULFILLED"],A=["PENDING"];e.exports=a,a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){if("function"!=typeof e&&this.state===y||"function"!=typeof t&&this.state===h)return this;var n=new this.constructor(r);return this.state!==A?o(n,this.state===y?e:t,this.outcome):this.queue.push(new i(n,e,t)),n},i.prototype.callFulfilled=function(e){v.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){o(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){v.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){o(this.promise,this.onRejected,e)},v.resolve=function(e,t){var n=l(s,t);if("error"===n.status)return v.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=y,e.outcome=t;for(var a=-1,i=e.queue.length;++a<i;)e.queue[a].callFulfilled(t)}return e},v.reject=function(e,t){e.state=h,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},a.resolve=c,a.reject=d,a.all=f,a.race=m},function(e,t,n){"use strict";(function(t){function n(){c=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}c=!1}function r(e){1!==d.push(e)||c||a()}var a,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,s=new i(n),u=t.document.createTextNode("");s.observe(u,{characterData:!0}),a=function(){u.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)a="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var l=new t.MessageChannel;l.port1.onmessage=n,a=function(){l.port2.postMessage(0)}}var c,d=[];e.exports=r}).call(t,n(14))},function(e,t,n){"use strict";function r(e){a.call(this,"ConvertWorker to "+e),this.destType=e}var a=n(19),i=n(7);i.inherits(r,a),r.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){a.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),n&&n(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}var a=n(235).Readable;n(7).inherits(r,a),r.prototype._read=function(){this._helper.resume()},e.exports=r},function(e,t,n){"use strict";var r=n(241),a=n(243),i=n(44),o=n(147),s=n(19),u=function(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};u.prototype={internalStream:function(e){var t=e.toLowerCase(),n="string"===t||"text"===t;"binarystring"!==t&&"text"!==t||(t="string");var a=this._decompressWorker(),o=!this._dataBinary;return o&&!n&&(a=a.pipe(new i.Utf8EncodeWorker)),!o&&n&&(a=a.pipe(new i.Utf8DecodeWorker)),new r(a,t,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new i.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof s?this._data:new a(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)u.prototype[l[d]]=c;e.exports=u},function(e,t,n){"use strict";var r=n(246),a=n(480),i=function(e,t){var n=e||t,a=r[n];if(!a)throw new Error(n+" is not a valid compression method !");return a};t.generateWorker=function(e,t,n){var r=new a(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var a=i(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},u=n.dir,l=n.date;n._compressWorker(a,s).withStreamInfo("file",{name:e,dir:u,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(r)}),r.entriesCount=o}catch(e){r.error(e)}return r}},function(e,t,n){"use strict";function r(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}var a="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=n(26),o=n(7),s=n(19),u=a?"uint8array":"array";t.magic="\b\0",o.inherits(r,s),r.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(u,e.data),!1)},r.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new r("Deflate",e)},t.uncompressWorker=function(){return new r("Inflate",{})}},function(e,t,n){"use strict";function r(e,t,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var a=n(7),i=n(19),o=n(44),s=n(148),u=n(247),l=function(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r},c=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16},d=function(e,t){return 63&(e||0)},f=function(e,t,n,r,i,f){var m,g,p=e.file,v=e.compression,h=f!==o.utf8encode,y=a.transformTo("string",f(p.name)),A=a.transformTo("string",o.utf8encode(p.name)),S=p.comment,T=a.transformTo("string",f(S)),M=a.transformTo("string",o.utf8encode(S)),b=A.length!==p.name.length,D=M.length!==S.length,I="",w="",C="",N=p.dir,P=p.date,x={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(x.crc32=e.crc32,x.compressedSize=e.compressedSize,x.uncompressedSize=e.uncompressedSize);var E=0;t&&(E|=8),h||!b&&!D||(E|=2048);var O=0,L=0;N&&(O|=16),"UNIX"===i?(L=798,O|=c(p.unixPermissions,N)):(L=20,O|=d(p.dosPermissions)),m=P.getUTCHours(),m<<=6,m|=P.getUTCMinutes(),m<<=5,m|=P.getUTCSeconds()/2,g=P.getUTCFullYear()-1980,g<<=4,g|=P.getUTCMonth()+1,g<<=5,g|=P.getUTCDate(),b&&(w=l(1,1)+l(s(y),4)+A,I+="up"+l(w.length,2)+w),D&&(C=l(1,1)+l(s(T),4)+M,I+="uc"+l(C.length,2)+C);var _="";return _+="\n\0",_+=l(E,2),_+=v.magic,_+=l(m,2),_+=l(g,2),_+=l(x.crc32,4),_+=l(x.compressedSize,4),_+=l(x.uncompressedSize,4),_+=l(y.length,2),_+=l(I.length,2),{fileRecord:u.LOCAL_FILE_HEADER+_+y+I,dirRecord:u.CENTRAL_FILE_HEADER+l(L,2)+_+l(T.length,2)+"\0\0\0\0"+l(O,4)+l(r,4)+y+I+T}},m=function(e,t,n,r,i){var o=a.transformTo("string",i(r));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(e,2)+l(e,2)+l(t,4)+l(n,4)+l(o.length,2)+o},g=function(e){return u.DATA_DESCRIPTOR+l(e.crc32,4)+l(e.compressedSize,4)+l(e.uncompressedSize,4)};a.inherits(r,i),r.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,i.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},r.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=f(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=f(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:g(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=m(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},r.prototype.error=function(e){var t=this._sources;if(!i.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},r.prototype.lock=function(){i.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=r},function(e,t,n){"use strict";function r(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}var a=n(7),i=n(19);a.inherits(r,i),r.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},r.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=r},function(e,t,n){"use strict";function r(e){return new i.Promise(function(t,n){var r=e.decompressed.getContentWorker().pipe(new u);r.on("error",function(e){n(e)}).on("end",function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}var a=n(7),i=n(58),o=n(44),a=n(7),s=n(483),u=n(245),l=n(93);e.exports=function(e,t){var n=this;return t=a.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new s(t);return n.load(e),n}).then(function(e){var n=[i.Promise.resolve(e)],a=e.files;if(t.checkCRC32)for(var o=0;o<a.length;o++)n.push(r(a[o]));return i.Promise.all(n)}).then(function(e){for(var r=e.shift(),a=r.files,i=0;i<a.length;i++){var o=a[i];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n})}},function(e,t,n){"use strict";function r(e){this.files=[],this.loadOptions=e}var a=n(248),i=n(7),o=n(247),s=n(486),u=(n(44),n(33));r.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4),a=r===t;return this.reader.setIndex(n),a},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=u.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)e=new s({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(r>0)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=a(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=r},function(e,t,n){"use strict";function r(e){a.call(this,e)}var a=n(250);n(7).inherits(r,a),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";function r(e){a.call(this,e)}var a=n(251);n(7).inherits(r,a),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=r},function(e,t,n){"use strict";function r(e,t){this.options=e,this.loadOptions=t}var a=n(248),i=n(7),o=n(147),s=n(148),u=n(44),l=n(246),c=n(33),d=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null};r.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=d(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=a(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,a=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<a;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r}},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=a(e.value);return 1!==t.readInt(1)?null:s(this.fileName)!==t.readInt(4)?null:u.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=a(e.value);return 1!==t.readInt(1)?null:s(this.fileComment)!==t.readInt(4)?null:u.utf8decode(t.readData(e.length-5))}return null}},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkAbstractPointLocator")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),s.default.getArray(e,t,["bounds"],6),s.default.get(e,t,["numberOfBuckets"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(488),l=r(u),c={bounds:[0,0,0,0,0,0],numberOfBuckets:0},d=t.newInstance=s.default.newInstance(i,"vtkAbstractPointLocator");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkLocator"),e.setMaxLevel=function(n){return t.maxLevel!==n&&(t.maxLevel=l.default.clampValue(n,0,Number.MAX_SAFE_INTEGER),e.modified(),!0)},e.setTolerance=function(n){return t.tolerance!==n&&(t.tolerance=l.default.clampValue(n,0,Number.MAX_VALUE),e.modified(),!0)},e.initialize=function(){e.freeSearchStructure()},e.update=function(){if(!t.dataSet)return void c("Input not set!");(t.mtime>t.buildTime.getMTime()||t.dataSet.getMTime()>t.buildTime.getMTime())&&e.buildLocator()},e.initializePickList=function(){t.pickList=[]},e.addPickList=function(e){t.pickList.push(e)},e.deletePickList=function(e){var n=t.pickList.indexOf(e);-1!==n&&t.pickList.splice(n,1)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,d,n),s.default.obj(e,t),t.buildTime={},s.default.obj(t.buildTime,{mtime:0}),s.default.get(e,t,["buildTime","level"]),s.default.setGet(e,t,["dataSet","automatic","tolerance","maxLevel"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=r(u),c=s.default.vtkErrorMacro,d={dataSet:null,automatic:1,tolerance:.001,maxLevel:8,level:8,buildTime:null},f=t.newInstance=s.default.newInstance(i,"vtkLocator");t.default={newInstance:f,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkProgressData"),(e.updateTotalStartTime=function(){t.totalStartTime=performance.now(),t.totalEndTime=t.totalStartTime})(),e.updateTotalEndTime=function(){t.totalEndTime=performance.now()},(e.updateStlStartTime=function(){t.stlStartTime=performance.now(),t.stlEndTime=t.stlStartTime})(),e.updateStlEndTime=function(){t.stlEndTime=performance.now()},(e.updateNavigationTime=function(){t.navigationTime=performance.now()})(),e.onBeforeYcmData=function(){e.updateTotalStartTime(),e.updateStlStartTime(),e.updateNavigationTime()},e.onBeforeNodeData=function(){e.updateStlStartTime(),e.updateTotalEndTime(),e.updateNavigationTime()},e.onAfterNodeData=function(){e.updateStlEndTime(),e.updateTotalEndTime(),e.updateNavigationTime()},e.updateAndGetEndTime=function(){return e.onAfterNodeData(),{stlTime:Math.floor(t.stlEndTime-t.stlStartTime),totalTime:Math.floor(t.totalEndTime-t.totalStartTime),navigationTime:Math.floor(t.navigationTime)}},e.updateProgress=function(){var e=0,n=0,r=0;if(t.nodeDatas.forEach(function(t,a,i){t.total&&(e++,n+=t.total,r+=t.totalZip)}),t.stlDataLength=n,t.stlDataLengthZip=r,!n)return t.curProgress=0,0;var a=0,i=0,o=0;return t.nodeDatas.forEach(function(e,t,n){"error"===e.result?e.total?i+=e.total:a+=1/n.length:e.total&&(i+=e.loaded),e.result&&o++}),a+=i*e/(n*t.nodeDatas.length),a<t.curProgress/100&&(a=t.curProgress/100+15e-5),a=Math.floor(1e4*a)/100,o===t.nodeDatas.length&&(i<n?s("LESS DATA: loaded="+i+", dataLength="+n+", progress="+a):i>n&&s("TOO MUCH DATA: loaded="+i+", dataLength="+n+", progress="+a),a=100),t.curProgress=a,a},e.updateProgress2=function(){var e=0,n=0,r=0,a=0,i=!0;return t.nodeDatas.forEach(function(t,o,s){"error"===t.result?(e+=1/s.length,n+=t.total):t.loaded&&(e+=t.loaded/t.total/s.length,n+=t.loaded),r+=t.total,a+=t.totalZip,t.total||(i=!1)}),n/=r,i&&(e=n<t.curProgress/100?t.curProgress/100+15e-5:n),e=Math.floor(1e4*e)/100,t.curProgress=e,t.stlDataLength=r,t.stlDataLengthZip=a,e},e.updateProgress3=function(){var e=0,n=0,r=0;return t.nodeDatas.forEach(function(t,a,i){"error"===t.result?e+=1/i.length:t.loaded&&(e+=t.loaded/t.total/i.length),n+=t.total,r+=t.totalZip}),e=Math.floor(1e4*e)/100,t.curProgress=e,t.stlDataLength=n,t.stlDataLengthZip=r,e},e.getNode=function(e){return t.nodeDatas.find(function(t){return t.index===e})},e.onNodeChanged=function(t){return e.getNode(t)?(u.MultiView.updateNodeProperties(t),u.MultiView.render(),!0):(s("onNodeChanged(): invalid node index "+t),!1)},e.onProressGeneral=function(n,r,a){var i=e.getNode(r);i&&(i.total=n.total,i.loaded=n.loaded,i.totalZip=n.totalZip),e.updateProgress();var o=e.updateAndGetEndTime(),s=o.stlTime,l=o.totalTime,c=o.navigationTime,d=t.curProgress;d>.01&&(d-=.01),d=Math.floor(100*d)/100;var f={progress:d,stlTime:s,totalTime:l,navigationTime:c,totalData:t.stlDataLength,totalDataZip:t.stlDataLengthZip,mode:a.getMode()};u.MultiView.onCallback("YcmLoadOnProgress",f)},e.onErrorGeneral=function(n,r,a){var i=e.getNode(r);i&&(i.result="error");var o=i.url;s("load "+o+" error: "+n),e.updateProgress();var l=e.updateAndGetEndTime(),c=l.stlTime,d=l.totalTime,f=l.navigationTime,m={progress:t.curProgress,stlTime:c,totalTime:d,navigationTime:f,totalData:t.stlDataLength,totalDataZip:t.stlDataLengthZip,mode:a.getMode()};u.MultiView.onCallback("YcmLoadOnProgress",m);var g={url:o,reason:n};u.MultiView.onCallback("YcmLoadOnError",g)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),o.default.obj(e,t),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o.default.vtkErrorMacro,u=o.default.GlobalObjects,l={nodeDatas:[],stlDataLength:0,stlDataLengthZip:0,curProgress:0,totalStartTime:0,totalEndTime:0,stlStartTime:0,stlEndTime:0,navigationTime:0},c=t.newInstance=o.default.newInstance(a,"vtkProgressData");t.default={newInstance:c,extend:a}},function(e,t){e.exports='<?xml version="1.0" encoding="gb2312"?>\r\n<Project Name="">\r\n<NodeList NodeCount="0">\r\n</NodeList>\r\n<Scene ViewNumber="4" ActiveView="" LayoutIndex="">\r\n<View RenderType="0" ViewType="2" Caption="">\r\n<Camera Name="">\r\n<Point Name="FocalPoint">174.848007202148,174.848007202148,-0.25</Point>\r\n<Point Name="Position">174.848007202148,174.848007202148,-955.637766847063</Point>\r\n<Point Name="ViewUp">0,-1,0</Point>\r\n<Point Name="ClippingRange">945.336389178592,970.344833349769</Point>\r\n</Camera>\r\n<Lights LightCount="1"/>\r\n</View>\r\n<View RenderType="0" ViewType="0" Caption="">\r\n<Camera Name="">\r\n<Point Name="FocalPoint">174.848007202148,334.42041015625,0.25</Point>\r\n<Point Name="Position">174.848007202148,334.42041015625,1458.29971926783</Point>\r\n<Point Name="ViewUp">0,1,0</Point>\r\n<Point Name="ClippingRange">1442.97172207515,1480.54671505684</Point>\r\n</Camera>\r\n<Lights LightCount="1"/>\r\n</View>\r\n<View RenderType="0" ViewType="1" Caption="">\r\n<Camera Name="">\r\n<Point Name="FocalPoint">174.848007202148,334.42041015625,0.25</Point>\r\n<Point Name="Position">174.848007202148,334.42041015625,1458.29971926783</Point>\r\n<Point Name="ViewUp">0,1,0</Point>\r\n<Point Name="ClippingRange">1442.97172207515,1480.54671505684</Point>\r\n</Camera>\r\n<Lights LightCount="1"/>\r\n</View>\r\n<View RenderType="1" ViewType="-1" Caption="3D">\r\n<Camera Name="">\r\n<Point Name="FocalPoint">174.542055848986,188.139080047607,332.679235339165</Point>\r\n<Point Name="Position">174.542055848986,-1342.47549669539,332.679235339165</Point>\r\n<Point Name="ViewUp">0,0,1</Point>\r\n<Point Name="ClippingRange">1280.69171699394,1848.90790018007</Point>\r\n</Camera>\r\n<Lights LightCount="1"/>\r\n</View>\r\n</Scene>\r\n</Project>\r\n'},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(45).Buffer,i=n(492),o=e.exports;o.encodings=null,o.defaultCharUnicode="",o.defaultCharSingleByte="?",o.encode=function(e,t,n){e=""+(e||"");var r=o.getEncoder(t,n),i=r.write(e),s=r.end();return s&&s.length>0?a.concat([i,s]):i},o.decode=function(e,t,n){"string"==typeof e&&(o.skipDecodeWarning||(o.skipDecodeWarning=!0),e=a.from(""+(e||""),"binary"));var r=o.getDecoder(t,n),i=r.write(e),s=r.end();return s?i+s:i},o.encodingExists=function(e){try{return o.getCodec(e),!0}catch(e){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(e){o.encodings||(o.encodings=n(493));for(var t=o._canonicalizeEncoding(e),a={};;){var i=o._codecDataCache[t];if(i)return i;var s=o.encodings[t];switch(void 0===s?"undefined":r(s)){case"string":t=s;break;case"object":for(var u in s)a[u]=s[u];a.encodingName||(a.encodingName=t),t=s.type;break;case"function":return a.encodingName||(a.encodingName=t),i=new s(a,o),o._codecDataCache[a.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},o._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},o.getEncoder=function(e,t){var n=o.getCodec(e),r=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(r=new i.PrependBOM(r,t)),r},o.getDecoder=function(e,t){var n=o.getCodec(e),r=new n.decoder(t,n);return!n.bomAware||t&&!1===t.stripBOM||(r=new i.StripBOM(r,t)),r};var s=void 0!==t&&t.versions&&t.versions.node;if(s){var u=s.split(".").map(Number);(u[0]>0||u[1]>=10)&&n(507)(o),n(508)(o)}}).call(t,n(16))},function(e,t,n){"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function a(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=a,a.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t?t:("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,t)},a.prototype.end=function(){return this.decoder.end()}},function(e,t,n){"use strict";for(var r=[n(494),n(495),n(496),n(497),n(498),n(499),n(500),n(501)],a=0;a<r.length;a++){var i=r[a];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}},function(e,t,n){"use strict";function r(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=o:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=s,""!==l.from("eda0bdedb2a9","hex").toString()&&(this.decoder=u,this.defaultCharUnicode=t.defaultCharUnicode))}function a(e,t){c.call(this,t.enc)}function i(e,t){this.enc=t.enc}function o(e,t){this.prevStr=""}function s(e,t){}function u(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}var l=n(45).Buffer;e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:r},r.prototype.encoder=i,r.prototype.decoder=a;var c=n(67).StringDecoder;c.prototype.end||(c.prototype.end=function(){}),a.prototype=c.prototype,i.prototype.write=function(e){return l.from(e,this.enc)},i.prototype.end=function(){},o.prototype.write=function(e){e=this.prevStr+e;var t=e.length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),l.from(e,"base64")},o.prototype.end=function(){return l.from(this.prevStr,"base64")},s.prototype.write=function(e){for(var t=l.alloc(3*e.length),n=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=192+(a>>>6),t[n++]=128+(63&a)):(t[n++]=224+(a>>>12),t[n++]=128+(a>>>6&63),t[n++]=128+(63&a))}return t.slice(0,n)},s.prototype.end=function(){},u.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,r=this.accBytes,a="",i=0;i<e.length;i++){var o=e[i];128!=(192&o)?(n>0&&(a+=this.defaultCharUnicode,n=0),o<128?a+=String.fromCharCode(o):o<224?(t=31&o,n=1,r=1):o<240?(t=15&o,n=2,r=1):a+=this.defaultCharUnicode):n>0?(t=t<<6|63&o,n--,r++,0===n&&(a+=2===r&&t<128&&t>0?this.defaultCharUnicode:3===r&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):a+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=r,a},u.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},function(e,t,n){"use strict";function r(){}function a(){}function i(){this.overflowByte=-1}function o(e,t){this.iconv=t}function s(e,t){e=e||{},void 0===e.addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function u(e,t){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=e||{},this.iconv=t.iconv}function l(e,t){var n=t||"utf-16le";if(e.length>=2)if(254==e[0]&&255==e[1])n="utf-16be";else if(255==e[0]&&254==e[1])n="utf-16le";else{for(var r=0,a=0,i=Math.min(e.length-e.length%2,64),o=0;o<i;o+=2)0===e[o]&&0!==e[o+1]&&a++,0!==e[o]&&0===e[o+1]&&r++;a>r?n="utf-16be":a<r&&(n="utf-16le")}return n}var c=n(45).Buffer;t.utf16be=r,r.prototype.encoder=a,r.prototype.decoder=i,r.prototype.bomAware=!0,a.prototype.write=function(e){for(var t=c.from(e,"ucs2"),n=0;n<t.length;n+=2){var r=t[n];t[n]=t[n+1],t[n+1]=r}return t},a.prototype.end=function(){},i.prototype.write=function(e){if(0==e.length)return"";var t=c.alloc(e.length+1),n=0,r=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,n=1,r=2);n<e.length-1;n+=2,r+=2)t[r]=e[n+1],t[r+1]=e[n];return this.overflowByte=n==e.length-1?e[e.length-1]:-1,t.slice(0,r).toString("ucs2")},i.prototype.end=function(){},t.utf16=o,o.prototype.encoder=s,o.prototype.decoder=u,s.prototype.write=function(e){return this.encoder.write(e)},s.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBytes.push(e),this.initialBytesLen+=e.length,this.initialBytesLen<16)return"";var e=c.concat(this.initialBytes),t=l(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=c.concat(this.initialBytes),t=l(e,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);var n=this.decoder.write(e),r=this.decoder.end();return r?n+r:n}return this.decoder.end()}},function(e,t,n){"use strict";function r(e,t){this.iconv=t}function a(e,t){this.iconv=t.iconv}function i(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}function o(e,t){this.iconv=t}function s(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=l.alloc(6),this.base64AccumIdx=0}function u(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}var l=n(45).Buffer;t.utf7=r,t.unicode11utf7="utf7",r.prototype.encoder=a,r.prototype.decoder=i,r.prototype.bomAware=!0;var c=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;a.prototype.write=function(e){return l.from(e.replace(c,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},a.prototype.end=function(){};for(var d=/[A-Za-z0-9\/+]/,f=[],m=0;m<256;m++)f[m]=d.test(String.fromCharCode(m));var g="+".charCodeAt(0),p="-".charCodeAt(0),v="&".charCodeAt(0);i.prototype.write=function(e){for(var t="",n=0,r=this.inBase64,a=this.base64Accum,i=0;i<e.length;i++)if(r){if(!f[e[i]]){if(i==n&&e[i]==p)t+="+";else{var o=a+e.slice(n,i).toString();t+=this.iconv.decode(l.from(o,"base64"),"utf16-be")}e[i]!=p&&i--,n=i+1,r=!1,a=""}}else e[i]==g&&(t+=this.iconv.decode(e.slice(n,i),"ascii"),n=i+1,r=!0);if(r){var o=a+e.slice(n).toString(),s=o.length-o.length%8;a=o.slice(s),o=o.slice(0,s),t+=this.iconv.decode(l.from(o,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=r,this.base64Accum=a,t},i.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(l.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=o,o.prototype.encoder=s,o.prototype.decoder=u,o.prototype.bomAware=!0,s.prototype.write=function(e){for(var t=this.inBase64,n=this.base64Accum,r=this.base64AccumIdx,a=l.alloc(5*e.length+10),i=0,o=0;o<e.length;o++){var s=e.charCodeAt(o);32<=s&&s<=126?(t&&(r>0&&(i+=a.write(n.slice(0,r).toString("base64").replace(/\//g,",").replace(/=+$/,""),i),r=0),a[i++]=p,t=!1),t||(a[i++]=s,s===v&&(a[i++]=p))):(t||(a[i++]=v,t=!0),t&&(n[r++]=s>>8,n[r++]=255&s,r==n.length&&(i+=a.write(n.toString("base64").replace(/\//g,","),i),r=0)))}return this.inBase64=t,this.base64AccumIdx=r,a.slice(0,i)},s.prototype.end=function(){var e=l.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=p,this.inBase64=!1),e.slice(0,t)};var h=f.slice();h[",".charCodeAt(0)]=!0,u.prototype.write=function(e){for(var t="",n=0,r=this.inBase64,a=this.base64Accum,i=0;i<e.length;i++)if(r){if(!h[e[i]]){if(i==n&&e[i]==p)t+="&";else{var o=a+e.slice(n,i).toString().replace(/,/g,"/");t+=this.iconv.decode(l.from(o,"base64"),"utf16-be")}e[i]!=p&&i--,n=i+1,r=!1,a=""}}else e[i]==v&&(t+=this.iconv.decode(e.slice(n,i),"ascii"),n=i+1,r=!0);if(r){var o=a+e.slice(n).toString().replace(/,/g,"/"),s=o.length-o.length%8;a=o.slice(s),o=o.slice(0,s),t+=this.iconv.decode(l.from(o,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(n),"ascii");return this.inBase64=r,this.base64Accum=a,t},u.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(l.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var n="",r=0;r<128;r++)n+=String.fromCharCode(r);e.chars=n+e.chars}this.decodeBuf=o.from(e.chars,"ucs2");for(var a=o.alloc(65536,t.defaultCharSingleByte.charCodeAt(0)),r=0;r<e.chars.length;r++)a[e.chars.charCodeAt(r)]=r;this.encodeBuf=a}function a(e,t){this.encodeBuf=t.encodeBuf}function i(e,t){this.decodeBuf=t.decodeBuf}var o=n(45).Buffer;t._sbcs=r,r.prototype.encoder=a,r.prototype.decoder=i,a.prototype.write=function(e){for(var t=o.alloc(e.length),n=0;n<e.length;n++)t[n]=this.encodeBuf[e.charCodeAt(n)];return t},a.prototype.end=function(){},i.prototype.write=function(e){for(var t=this.decodeBuf,n=o.alloc(2*e.length),r=0,a=0,i=0;i<e.length;i++)r=2*e[i],a=2*i,n[a]=t[r],n[a+1]=t[r+1];return n.toString("ucs2")},i.prototype.end=function(){}},function(e,t,n){"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},function(e,t,n){"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},function(e,t,n){"use strict";function r(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var n=e.table();this.decodeTables=[],this.decodeTables[0]=f.slice(0),this.decodeTableSeq=[];for(var r=0;r<n.length;r++)this._addDecodeChunk(n[r]);this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var a={};if(e.encodeSkipVals)for(var r=0;r<e.encodeSkipVals.length;r++){var i=e.encodeSkipVals[r];if("number"==typeof i)a[i]=!0;else for(var o=i.from;o<=i.to;o++)a[o]=!0}if(this._fillEncodeTable(0,0,a),e.encodeAdd)for(var s in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,s)&&this._setEncodeChar(s.charCodeAt(0),e.encodeAdd[s]);if(this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===l&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===l&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof e.gb18030){this.gb18030=e.gb18030();for(var u=this.decodeTables.length,m=this.decodeTables[u]=f.slice(0),g=this.decodeTables.length,p=this.decodeTables[g]=f.slice(0),r=129;r<=254;r++)for(var v=d-this.decodeTables[0][r],h=this.decodeTables[v],o=48;o<=57;o++)h[o]=d-u;for(var r=129;r<=254;r++)m[r]=d-g;for(var r=48;r<=57;r++)p[r]=c}}function a(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function i(e,t){this.nodeIdx=0,this.prevBuf=u.alloc(0),this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function o(e,t){if(e[0]>t)return-1;for(var n=0,r=e.length;n<r-1;){var a=n+Math.floor((r-n+1)/2);e[a]<=t?n=a:r=a}return n}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(45).Buffer;t._dbcs=r;for(var l=-1,c=-2,d=-1e3,f=new Array(256),m=0;m<256;m++)f[m]=l;r.prototype.encoder=a,r.prototype.decoder=i,r.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>=8)t.push(255&e);0==t.length&&t.push(0);for(var n=this.decodeTables[0],r=t.length-1;r>0;r--){var a=n[t[r]];if(a==l)n[t[r]]=d-this.decodeTables.length,this.decodeTables.push(n=f.slice(0));else{if(!(a<=d))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));n=this.decodeTables[d-a]}}return n},r.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t&=255;for(var r=1;r<e.length;r++){var a=e[r];if("string"==typeof a)for(var i=0;i<a.length;){var o=a.charCodeAt(i++);if(55296<=o&&o<56320){var u=a.charCodeAt(i++);if(!(56320<=u&&u<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);n[t++]=65536+1024*(o-55296)+(u-56320)}else if(4080<o&&o<=4095){for(var l=4095-o+2,c=[],d=0;d<l;d++)c.push(a.charCodeAt(i++));n[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(c)}else n[t++]=o}else{if("number"!=typeof a)throw new Error("Incorrect type '"+(void 0===a?"undefined":s(a))+"' given in "+this.encodingName+" at chunk "+e[0]);for(var f=n[t-1]+1,i=0;i<a;i++)n[t++]=f++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},r.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=f.slice(0)),this.encodeTable[t]},r.prototype._setEncodeChar=function(e,t){var n=this._getEncodeBucket(e),r=255&e;n[r]<=-10?this.encodeTableSeq[-10-n[r]][-1]=t:n[r]==l&&(n[r]=t)},r.prototype._setEncodeSequence=function(e,t){var n,r=e[0],a=this._getEncodeBucket(r),i=255&r;a[i]<=-10?n=this.encodeTableSeq[-10-a[i]]:(n={},a[i]!==l&&(n[-1]=a[i]),a[i]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(n));for(var o=1;o<e.length-1;o++){var u=n[r];"object"===(void 0===u?"undefined":s(u))?n=u:(n=n[r]={},void 0!==u&&(n[-1]=u))}r=e[e.length-1],n[r]=t},r.prototype._fillEncodeTable=function(e,t,n){for(var r=this.decodeTables[e],a=0;a<256;a++){var i=r[a],o=t+a;n[o]||(i>=0?this._setEncodeChar(i,o):i<=d?this._fillEncodeTable(d-i,o<<8,n):i<=-10&&this._setEncodeSequence(this.decodeTableSeq[-10-i],o))}},a.prototype.write=function(e){for(var t=u.alloc(e.length*(this.gb18030?4:3)),n=this.leadSurrogate,r=this.seqObj,a=-1,i=0,c=0;;){if(-1===a){if(i==e.length)break;var d=e.charCodeAt(i++)}else{var d=a;a=-1}if(55296<=d&&d<57344)if(d<56320){if(-1===n){n=d;continue}n=d,d=l}else-1!==n?(d=65536+1024*(n-55296)+(d-56320),n=-1):d=l;else-1!==n&&(a=d,d=l,n=-1);var f=l;if(void 0!==r&&d!=l){var m=r[d];if("object"===(void 0===m?"undefined":s(m))){r=m;continue}"number"==typeof m?f=m:void 0==m&&void 0!==(m=r[-1])&&(f=m,a=d),r=void 0}else if(d>=0){var g=this.encodeTable[d>>8];if(void 0!==g&&(f=g[255&d]),f<=-10){r=this.encodeTableSeq[-10-f];continue}if(f==l&&this.gb18030){var p=o(this.gb18030.uChars,d);if(-1!=p){var f=this.gb18030.gbChars[p]+(d-this.gb18030.uChars[p]);t[c++]=129+Math.floor(f/12600),f%=12600,t[c++]=48+Math.floor(f/1260),f%=1260,t[c++]=129+Math.floor(f/10),f%=10,t[c++]=48+f;continue}}}f===l&&(f=this.defaultCharSingleByte),f<256?t[c++]=f:f<65536?(t[c++]=f>>8,t[c++]=255&f):(t[c++]=f>>16,t[c++]=f>>8&255,t[c++]=255&f)}return this.seqObj=r,this.leadSurrogate=n,t.slice(0,c)},a.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=u.alloc(10),t=0;if(this.seqObj){var n=this.seqObj[-1];void 0!==n&&(n<256?e[t++]=n:(e[t++]=n>>8,e[t++]=255&n)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},a.prototype.findIdx=o,i.prototype.write=function(e){var t,n=u.alloc(2*e.length),r=this.nodeIdx,a=this.prevBuf,i=this.prevBuf.length,s=-this.prevBuf.length;i>0&&(a=u.concat([a,e.slice(0,10)]));for(var f=0,m=0;f<e.length;f++){var g=f>=0?e[f]:a[f+i],t=this.decodeTables[r][g];if(t>=0);else if(t===l)f=s,t=this.defaultCharUnicode.charCodeAt(0);else if(t===c){var p=s>=0?e.slice(s,f+1):a.slice(s+i,f+1+i),v=12600*(p[0]-129)+1260*(p[1]-48)+10*(p[2]-129)+(p[3]-48),h=o(this.gb18030.gbChars,v);t=this.gb18030.uChars[h]+v-this.gb18030.gbChars[h]}else{if(t<=d){r=d-t;continue}if(!(t<=-10))throw new Error("iconv-lite internal error: invalid decoding table value "+t+" at "+r+"/"+g);for(var y=this.decodeTableSeq[-10-t],A=0;A<y.length-1;A++)t=y[A],n[m++]=255&t,n[m++]=t>>8;t=y[y.length-1]}if(t>65535){t-=65536;var S=55296+Math.floor(t/1024);n[m++]=255&S,n[m++]=S>>8,t=56320+t%1024}n[m++]=255&t,n[m++]=t>>8,r=0,s=f+1}return this.nodeIdx=r,this.prevBuf=s>=0?e.slice(s):a.slice(s+i),n.slice(0,m).toString("ucs2")},i.prototype.end=function(){for(var e="";this.prevBuf.length>0;){e+=this.defaultCharUnicode;var t=this.prevBuf.slice(1);this.prevBuf=u.alloc(0),this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.nodeIdx=0,e}},function(e,t,n){"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return n(502)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return n(503)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return n(151)}},gbk:{type:"_dbcs",table:function(){return n(151).concat(n(254))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return n(151).concat(n(254))},gb18030:function(){return n(504)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return n(505)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return n(255)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return n(255).concat(n(506))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},function(e,t){e.exports=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]},function(e,t){e.exports=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]},function(e,t){e.exports={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]}},function(e,t){e.exports=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]},function(e,t){e.exports=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkImageProperty"),e.setInterpolationTypeToNearest=function(){e.setInterpolationType(f.NEAREST)},e.setInterpolationTypeToLinear=function(){e.setInterpolationType(f.LINEAR)},e.getInterpolationTypeAsString=function(){return s.default.enumToString(f,t.interpolationType)},e.convertToTransferFunction=function(){if(t.lookupTable){t.lookupTable.build();for(var n=d.default.newInstance(),r=t.lookupTable.getNumberOfColors(),a=t.lookupTable.get().table,i=0;i<r;i++){var o=[a[4*(i+1)],a[4*(i+1)+1],a[4*(i+1)+2],a[4*(i+1)+3]];n.addRGBPoint(i,o[0],o[1],o[1],o[3])}e.setRGBTransferFunction(n)}},e.setLookupTable=function(n){t.lookupTable!==n&&(t.lookupTable=n,e.modified())}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,m,n),s.default.obj(e,t),s.default.setGet(e,t,["interpolationType","colorWindow","colorLevel","ambient","diffuse","opacity","rGBTransferFunction","scalarOpacity","useLookupTableScalarRange","lookupTable"]),e.getMTime=function(){var e=t.mtime;if(t.rGBTransferFunction){var n=t.rGBTransferFunction.getMTime();e=n>e?n:e}if(t.lookupTable){var r=t.lookupTable.getMTime();e=r>e?r:e}return e},a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(222),l=r(u),c=n(143),d=r(c),f=l.default.InterpolationType,m={interpolationType:f.LINEAR,colorWindow:255,colorLevel:127.5,ambient:1,diffuse:0,opacity:1,rGBTransferFunction:null,scalarOpacity:null,useLookupTableScalarRange:0,lookupTable:null},g=t.newInstance=s.default.newInstance(i,"vtkImageProperty");t.default={newInstance:g,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("MetaImage");var n=Object.assign({},e);e.MSetupReadFields=function(){n.MSetupReadFields();var e=p("NDims",t.fields),r=m("DimSize",A.MET_INT_ARRAY,!0,e);r.required=!0,t.fields.push(r),r=m("HeaderSize",A.MET_INT,!1),t.fields.push(r),r=m("Modality",A.MET_STRING,!1),t.fields.push(r),r=m("ImagePosition",A.MET_FLOAT_ARRAY,!1,e),t.fields.push(r),r=m("SequenceID",A.MET_INT_ARRAY,!1,e),t.fields.push(r),r=m("ElementMin",A.MET_FLOAT,!1),t.fields.push(r),r=m("ElementMax",A.MET_FLOAT,!1),t.fields.push(r),r=m("ElementNumberOfChannels",A.MET_INT,!1),t.fields.push(r),r=m("ElementSize",A.MET_FLOAT_ARRAY,!1,e),t.fields.push(r),r=m("ElementNBits",A.MET_INT,!1),t.fields.push(r),r=m("ElementToIntensityFunctionSlope",A.MET_FLOAT,!1),t.fields.push(r),r=m("ElementToIntensityFunctionOffset",A.MET_FLOAT,!1),t.fields.push(r),r=m("ElementType",A.MET_STRING,!0),r.required=!0,t.fields.push(r),r=m("ElementDataFile",A.MET_STRING,!0),r.required=!0,r.terminateRead=!0,t.fields.push(r)},e.MSetupWriteFields=function(){n.MSetupWriteFields()},e.MDestroy=function(){n.MDestroy()},e.Clear=function(){n.Clear()},e.MReadElementData=function(e,n,r){var a=0;if(t.binaryData)if(t.compressedData){for(var i=r,o=0;o<i;o++)n[o]=e.getUint8(e.ci++);a+=i}else{for(var s=v(t.elementType),u=s*t.elementNumberOfChannels,l=r*u,d=0;d<l;d++)n[d]=e.getUint8(e.ci++);a+=l,r*=u}else for(var f=0;f<r;f++){var m=y(e);h(m,t.elementType,n,f),e.ci++,a++}return a!==r?(c("MetaImage: M_ReadElementsData: data not read completely"),c("   ideal = "+r+" : actual = "+a),!1):!(e.ci>e.byteLength&&(c("MetaImage: M_ReadElementsData: file stream is fail after read"),1))},e.MReadElements=function(n){var r=t.quantity,a=n.byteLength;if(t.headerSize>0&&(n.ci=t.headerSize,n.ci<0||n.ci>=a))return c("MetaImage: Read: header not read correctly"),!1;var i=v(t.elementType),o=r*t.elementNumberOfChannels*i;if(-1===t.headerSize&&(n.ci=a-o),t.binaryData&&t.compressedData){var s=!1;0===t.compressedDataSize&&(s=!0,t.compressedDataSize=a,n.ci=0);var u=new Uint8Array(t.compressedDataSize);e.MReadElementData(n,u,t.compressedDataSize);var l=f.inflate(u);return t.elementData=l,l.length!==r&&d("length not match: "+l.length+", "+r),s&&(t.compressedDataSize=0),!0}t.elementData||(t.elementData=new Uint8Array(t.quantity*i*t.elementNumberOfChannels));var m=t.elementData;if(t.binaryData){if(!e.MReadElementData(n,m,r))return!1}else e.MReadElementData(n,m,r);return!0},e.InitializeEssential=function(){n.InitializeEssential(),t.quantity=1;for(var e=0;e<t.nDims;e++)t.quantity*=t.dimSize[e];return!0},e.ReadData=function(){return e.InitializeEssential(),"Local"===t.elementDataFileName||"LOCAL"===t.elementDataFileName||"local"===t.elementDataFileName?e.MReadElements(t.parseData):c("LIST"===t.elementDataFileName?"ReadData: unsupported elementDataFile (LIST)":"%"===t.elementDataFileName?"ReadData: unsupported elementDataFile (%)":"ReadData: unsupported elementDataFile (OTHER)"),!0},e.ReadStream=function(t){return n.ReadStream()?!t||e.ReadData():(c("MetaImage: Read: Cannot parse file"),!1)},e.MRead=function(){if(!n.MRead())return c("MetaImage: M_Read: Error parsing file"),!1;var e=g("DimSize",t.fields);if(e&&e.defined)for(var r=0;r<t.nDims;r++)t.dimSize[r]=e.value[r];if(e=g("HeaderSize",t.fields),e&&e.defined&&(t.headerSize=e.value[0]),e=g("Modality",t.fields),e&&e.defined&&("MET_MOD_CT"===e.value?t.modality=S.MET_MOD_CT:"MET_MOD_MR"===e.value?t.modality=S.MET_MOD_MR:"MET_MOD_NM"===e.value?t.modality=S.MET_MOD_NM:"MET_MOD_US"===e.value?t.modality=S.MET_MOD_US:"MET_MOD_OTHER"===e.value?t.modality=S.MET_MOD_OTHER:(e.value,t.modality=S.MET_MOD_UNKNOWN)),(e=g("SequenceID",t.fields))&&e.defined)for(var a=0;a<t.nDims;a++)t.sequenceID[a]=e.value[a];if((e=g("ImagePosition",t.fields))&&e.defined)for(var i=0;i<t.nDims;i++)t.offset[i]=e.value[i];if(e=g("ElementMin",t.fields),e&&e.defined&&(t.elementMin=e.value[0]),e=g("ElementMax",t.fields),e&&e.defined&&(t.elementMax=e.value[0]),e=g("ElementNumberOfChannels",t.fields),e&&e.defined&&(t.elementNumberOfChannels=e.value[0]),(e=g("ElementSize",t.fields))&&e.defined){t.elementSizeValid=!0;for(var o=0;o<t.nDims;o++)t.elementSize[o]=e.value[o];if((e=g("ElementSpacing",t.fields))&&!e.defined)for(var s=0;s<t.nDims;s++)t.elementSpacing[s]=t.elementSize[s]}else{t.elementSizeValid=!1;for(var u=0;u<t.nDims;u++)t.elementSize[u]=t.elementSpacing[u]}return t.elementToIntensityFunctionSlope=1,t.elementToIntensityFunctionOffset=0,e=g("ElementToIntensityFunctionSlope",t.fields),e&&e.defined&&(t.elementToIntensityFunctionSlope=e.value[0]),e=g("ElementToIntensityFunctionOffset",t.fields),e&&e.defined&&(t.elementToIntensityFunctionOffset=e.value[0]),e=g("ElementType",t.fields),e&&e.defined&&(e.value in A?t.elementType=A[e.value]:t.elementType=A.MET_OTHER),e=g("ElementDataFile",t.fields),e&&e.defined&&(t.elementDataFileName=e.value),!0},e.Read=function(n,r){return t.parseData=n,e.MDestroy(),e.Clear(),e.MSetupReadFields(),e.ReadStream(r)}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),l.default.extend(e,t,n),s.default.setGet(e,t,["elementType","headerSize","elementNumberOfChannels","elementToIntensityFunctionSlope","elementToIntensityFunctionOffset","modality","elementData"]),s.default.getArray(e,t,["dimSize"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(263),l=r(u),c=s.default.vtkErrorMacro,d=s.default.vtkWarningMacro,f=n(26),m=l.default.METInitReadField,g=l.default.METGetFieldRecord,p=l.default.METGetFieldRecordNumber,v=l.default.METSizeOfType,h=l.default.METDoubleToValue,y=l.default.getNumber,A=l.default.METValueEnumType,S=l.default.METImageModalityEnumType,T={dimSize:[],headerSize:0,modality:S.MET_MOD_UNKNOWN,sequenceID:[0,0,0,0],elementMin:0,elementMax:0,elementNumberOfChannels:1,elementSizeValid:!1,elementSize:[],elementToIntensityFunctionSlope:1,elementToIntensityFunctionOffset:0,elementType:A.MET_NONE,elementDataFileName:"",quantity:0,elementData:null},M=t.newInstance=s.default.newInstance(i,"MetaImage");t.default={newInstance:M,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkImageReslice");var n=null,r=null;e.setResliceAxes=function(n){t.resliceAxes||(t.resliceAxes=o.mat4.create()),o.mat4.exactEquals(t.resliceAxes,n)||(o.mat4.copy(t.resliceAxes,n),e.modified())},e.setResliceAxesOrigin=function(n){t.resliceAxes||(t.resliceAxes=o.mat4.create());for(var r=t.resliceAxes,a=e.getResliceAxesOrigin(),i=0;i<3;i++)if(a[i]!==n[i]){r[3]=n[0],r[7]=n[1],r[11]=n[2],r[15]=1,e.modified();break}},e.getResliceAxesOrigin=function(){if(!t.resliceAxes)return[0,0,0];var e=t.resliceAxes;return[e[3],e[7],e[11]]},e.setResliceAxesDirectionCosines=function(n){t.resliceAxes||(t.resliceAxes=o.mat4.create());for(var r=t.resliceAxes,a=e.getResliceAxesDirectionCosines(),i=0;i<9;i++)if(a[i]!==n[i]){r[0]=n[0],r[4]=n[1],r[8]=n[2],r[12]=0,r[1]=n[3],r[5]=n[4],r[9]=n[5],r[13]=0,r[2]=n[6],r[6]=n[7],r[10]=n[8],r[14]=0,e.modified();break}},e.getResliceAxesDirectionCosines=function(){if(!t.resliceAxes)return[0,0,0,0,0,0,0,0,0];var e=t.resliceAxes;return[e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]]},e.requestData=function(a,i){var s=a[0];if(!s)return void M("Invalid or missing input");var u=s.getOrigin(),l=s.getSpacing(),d=s.getDimensions(),f=s.getPointData().getScalars(),g=[0,d[0]-1,0,d[1]-1,0,d[2]-1],p=[0,0,0],v=[1,1,1],h=[0,0,0,0,0,0],A=[0,0,0],S=o.mat4.create();t.resliceAxes&&(S=t.resliceAxes);var T=o.mat4.create();o.mat4.invert(T,S);var D=[u[0]+.5*(g[0]+g[1])*l[0],u[1]+.5*(g[2]+g[3])*l[1],u[2]+.5*(g[4]+g[5])*l[2]],I=null;t.autoCropOutput&&(I=e.getAutoCroppedOutputBounds(s));for(var w=0;w<3;w++){var C=0,N=0,P=0,x=0;if(t.transformInputSampling){for(var E=0,O=0;O<3;O++){x+=T[4*O+w]*(D[O]-S[12+O]);var L=S[4*w+O]*S[4*w+O];C+=L*Math.abs(l[O]),N+=L*(g[2*O+1]-g[2*O])*Math.abs(l[O]),P+=L*g[2*O],E+=L}C/=E,N/=E*Math.sqrt(E),P/=E}else x=D[w],C=l[w],N=(g[2*w+1]-g[2*w])*C,P=g[2*w];null==t.outputSpacing?v[w]=C:v[w]=t.outputSpacing[w],w>=t.outputDimensionality?(h[2*w]=0,h[2*w+1]=0):null==t.outputExtent?(t.autoCropOutput&&(N=I[2*w+1]-I[2*w]),h[2*w]=Math.round(P),h[2*w+1]=Math.round(h[2*w]+Math.abs(N/v[w]))):(h[2*w]=t.outputExtent[2*w],h[2*w+1]=t.outputExtent[2*w+1]),w>=t.outputDimensionality?p[w]=0:null==t.outputOrigin?t.autoCropOutput?p[w]=I[2*w]-h[2*w]*v[w]:p[w]=x-.5*(h[2*w]+h[2*w+1])*v[w]:p[w]=t.outputOrigin[w],A[w]=h[2*w+1]-h[2*w]+1}var _=f.getDataType();t.outputScalarType&&(_=t.outputScalarType);var R=s.getPointData().getScalars().getNumberOfComponents(),k=new window[_](A[0]*A[1]*A[2]*R),B=c.default.newInstance({name:"Scalars",values:k,numberOfComponents:R}),V=m.default.newInstance();V.setDimensions(A),V.setOrigin(p),V.setSpacing(v),V.getPointData().setScalars(B),e.getIndexMatrix(s,V);var F=t.interpolationMode;t.usePermuteExecute=!1,t.optimization&&null==r&&1===t.slabSliceSpacingFraction&&t.interpolator.isSeparable()&&e.isPermutationMatrix(n)&&(t.usePermuteExecute=!0,e.canUseNearestNeighbor(n,h)&&(F=y.InterpolationMode.NEAREST)),t.interpolator.setInterpolationMode(F);var j=y.ImageBorderMode.CLAMP;j=t.wrap?y.ImageBorderMode.REPEAT:j,j=t.mirror?y.ImageBorderMode.MIRROR:j,t.interpolator.setBorderMode(j);var U=.5*t.border;U=j===y.ImageBorderMode.CLAMP?U:4294967294,U=U>762939453125e-17?U:762939453125e-17,t.interpolator.setTolerance(U),t.interpolator.initialize(s),e.vtkImageResliceExecute(s,V),t.interpolator.releaseData(),i[0]=V,b("Produced output")},e.vtkImageResliceExecute=function(a,i){var o=a.getPointData().getScalars(),s=i.getPointData().getScalars(),u=s.getData(),l=i.getExtent(),c=n,d=null,f=Math.min(t.slabNumberOfSlices,1),m=t.slabSliceSpacingFraction,g=e.isPerspectiveMatrix(c),p=o.getData(),v=o.getDataType(),S=o.getNumberOfComponents(),M=t.interpolator.getComponentOffset(),b=t.interpolator.getBorderMode(),D=a.getDimensions(),I=[0,D[0]-1,0,D[1]-1,0,D[2]-1],w=[0,0,0];w[0]=o.getNumberOfComponents(),w[1]=w[0]*D[0],w[2]=w[1]*D[1];var C=D[0]*D[1]*D[2];M>0&&M+S<w[0]&&(p=p.subarray(1*M));var N=y.InterpolationMode.NEAREST;t.interpolator.isA("vtkImageInterpolator")&&(N=t.interpolator.getInterpolationMode());for(var P=null,x=0!==t.scalarShift||1!==t.scalarScale,E=N===y.InterpolationMode.NEAREST&&b===y.ImageBorderMode.CLAMP&&!(null!=r||g||null!=P||x)&&v===s.getDataType()&&C===o.getNumberOfTuples()&&!0===t.border&&f<=1,O=s.getDataType(),L=s.getNumberOfComponents(),_=[0,0,0,0],R=[0,0,0,0],k=[0,0,0,0],B=[0,0,0,0],V=0;V<4;++V)_[V]=c[0+V],R[V]=c[4+V],k[V]=c[8+V],B[V]=c[12+V];var F=t.interpolator.getOrigin(),j=t.interpolator.getSpacing(),U=[1/j[0],1/j[1],1/j[2]],z=null;E||(z=new Float64Array(S*(l[1]-l[0]+f)));var G=window[v].from(t.backgroundColor),W=N>y.InterpolationMode.LINEAR||f>1&&t.slabMode===T.default.SUM,Q=e.getConversionFunc(v,O,t.scalarShift,t.scalarScale,W),Y=e.getSetPixelsFunc(O,1,L,u),q=e.getCompositeFunc(t.slabMode,t.slabTrapezoidIntegration),H=l[2]-1,Z=l[4]-1,K=[0,0,0,0],X=[0,0,0,0],J=h.default.newInstance();J.initialize(i,l,t.stencil,null);for(var $=J.getScalars(i,0);!J.isAtEnd();J.nextSpan()){var ee=J.spanEndId()-J.getId();if(u=$.subarray(1*J.getId()*L),J.isInStencil()){var te=J.getIndex();te[2]>Z&&(Z=te[2],K[0]=B[0]+Z*k[0],K[1]=B[1]+Z*k[1],K[2]=B[2]+Z*k[2],K[3]=B[3]+Z*k[3],H=l[2]-1),te[1]>H&&(H=te[1],X[0]=K[0]+H*R[0],X[1]=K[1]+H*R[1],X[2]=K[2]+H*R[2],X[3]=K[3]+H*R[3]);var ne=te[0],re=ne+ee-1;if(E){for(var ae=p,ie=u,oe=1*w[0],se=1*w[1],ue=1*w[2],le=I[1]-I[0]+1,ce=I[3]-I[2]+1,de=I[5]-I[4]+1,fe=ne,me=ne-1,ge=!1,pe=1*S,ve=ne;ve<=re;ve++){var he=[X[0]+ve*_[0],X[1]+ve*_[1],X[2]+ve*_[2]],ye=(0,A.vtkInterpolationMathRound)(he[0])-I[0],Ae=(0,A.vtkInterpolationMathRound)(he[1])-I[2],Se=(0,A.vtkInterpolationMathRound)(he[2])-I[4];if(ye>=0&&ye<le&&Ae>=0&&Ae<ce&&Se>=0&&Se<de){ge||(fe=ve,ge=!0,u=Y(u,G,L,fe-ne),ie=u),me=ve;var Te=ye*oe+Ae*se+Se*ue;switch(pe){case 1:ie[0]=ae[Te];break;case 2:case 3:case 4:case 8:case 12:case 16:ie.set(ae.subarray(Te,Te+pe));break;default:var Me=0;do{ie[Me]=ae[Te++]}while(++Me!==pe)}ie=ie.subarray(pe)}else if(ge)break}u=ie,u=Y(u,G,L,re-me),d&&me>=fe&&d.insertNextExtent(fe,me,H,Z)}else for(var be=1,De=1,Ie=ne,we=ne,Ce=z;Ie<=re;){for(;we<=re&&De===be;we++){var Ne=[X[0]+we*_[0],X[1]+we*_[1],X[2]+we*_[2],X[3]+we*_[3]],Pe=[0,0,0,0],xe=Ne;De=!1;for(var Ee=0,Oe=Ce,Le=0;Le<f;++Le){if(f>1){var _e=Le-.5*(f-1);_e*=m,Pe[0]=Ne[0]+_e*k[0],Pe[1]=Ne[1]+_e*k[1],Pe[2]=Ne[2]+_e*k[2],Pe[3]=Ne[3]+_e*k[3],xe=Pe}if(g){var Re=1/xe[3];xe[0]*=Re,xe[1]*=Re,xe[2]*=Re}null!==r&&e.applyTransform(r,xe,F,U),t.interpolator.checkBoundsIJK(xe)&&(Ee++,De=1,t.interpolator.interpolateIJK(xe,Oe),Oe=Oe.subarray(S))}Ee>1&&q(Ce,S,Ee),Ce=Ce.subarray(S),be=we>ne?be:De}var ke=we-1-(De!==be),Be=ke-Ie+1;be?(d&&d.insertNextExtent(Ie,ke,H,Z),x&&e.rescaleScalars(z,S,re-ne+1,t.scalarShift,t.scalarScale),P?(P(z.subarray(Ie*S),u,v,S,Be,Ie,H,Z),u=u.subarray(Be*L*1)):u=Q(u,z.subarray(Ie*S),L,Be)):u=Y(u,G,L,Be),Ie+=Be,be=De}}else u=Y(u,G,L,ee)}},e.getIndexMatrix=function(a,i){null===n&&(n=o.mat4.create());var s=a.getOrigin(),u=a.getSpacing(),l=i.getOrigin(),c=i.getSpacing(),d=o.mat4.create(),f=o.mat4.create(),m=o.mat4.create();r&&(r=null),t.resliceAxes&&o.mat4.copy(d,t.resliceAxes),t.resliceTransform;for(var g=e.isIdentityMatrix(d),p=0;p<3;p++)(null!==r||u[p]===c[p]&&s[p]===l[p])&&(null===r||1===c[p]&&0===l[p])||(g=!1),f[4*p+p]=1/u[p],f[12+p]=-s[p]/u[p],m[4*p+p]=c[p],m[12+p]=l[p];return g||(o.mat4.multiply(d,d,m),null==r&&o.mat4.multiply(d,f,d)),o.mat4.copy(n,d),n},e.getAutoCroppedOutputBounds=function(e){var n=e.getOrigin(),r=e.getSpacing(),a=e.getDimensions(),i=[0,a[0]-1,0,a[1]-1,0,a[2]-1],s=o.mat4.create();t.resliceAxes&&o.mat4.invert(s,t.resliceAxes);for(var u=[Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE],l=[0,0,0,0],c=0;c<8;++c){l[0]=n[0]+i[c%2]*r[0],l[1]=n[1]+i[2+Math.floor(c/2)%2]*r[1],l[2]=n[2]+i[4+Math.floor(c/4)%2]*r[2],l[3]=1,t.resliceTransform,o.vec4.transformMat4(l,l,s);var d=1/l[3];l[0]*=d,l[1]*=d,l[2]*=d;for(var f=0;f<3;++f)l[f]>u[2*f+1]&&(u[2*f+1]=l[f]),l[f]<u[2*f]&&(u[2*f]=l[f])}return u},e.getDataTypeMinMax=function(e){switch(e){case"Int8Array":return{min:-128,max:127};case"Uint8Array":case"Uint8ClampedArray":default:return{min:0,max:255};case"Int16Array":return{min:-32768,max:32767};case"Uint16Array":return{min:0,max:65535};case"Int32Array":return{min:-2147483648,max:2147483647};case"Uint32Array":return{min:0,max:4294967295};case"Float32Array":case"Float64Array":return{min:-1.2e38,max:1.2e38}}},e.clamp=function(e,t,n,r,a,i){for(var o=r*n,s=0;s<o;++s)e[s]=(0,A.vtkInterpolationMathClamp)(t[s],a,i);return e.subarray(r*n)},e.convert=function(e,t,n,r){for(var a=r*n,i=0;i<a;++i)e[i]=Math.round(t[i]);return e.subarray(r*n)},e.getConversionFunc=function(t,n,r,a,i){var o=i;if(n!==d.VtkDataTypes.FLOAT&&n!==d.VtkDataTypes.DOUBLE&&!i){var s=e.getDataTypeMinMax(t),u=(s.min+r)*a,l=(s.max+r)*a,c=e.getDataTypeMinMax(n),f=c.min,m=c.max;if(u>l){var g=l;l=u,u=g}o=u<f||l>m}if(o&&n!==d.VtkDataTypes.FLOAT&&n!==d.VtkDataTypes.DOUBLE){var p=e.getDataTypeMinMax(n);return function(t,n,r,a){return e.clamp(t,n,r,a,p.min,p.max)}}return e.convert},e.set=function(e,t,n,r){for(var a=t.subarray(0,n),i=0;i<r;++i)e.set(a,i*n);return e.subarray(n*r)},e.set1=function(e,t,n,r){return e.fill(t[0],0,r),e.subarray(r)},e.getSetPixelsFunc=function(t,n,r,a){return 1===r?e.set1:e.set},e.getCompositeFunc=function(e,t){return null},e.applyTransform=function(e,t,n,r){t[3]=1,o.vec4.transformMat4(t,t,e),t[0]-=n[0],t[1]-=n[1],t[2]-=n[2],t[0]*=r[0],t[1]*=r[1],t[2]*=r[2]},e.rescaleScalars=function(e,t,n,r,a){for(var i=n*t,o=0;o<i;++o)e[o]=(e[o]+r)*a},e.isPermutationMatrix=function(e){for(var t=0;t<3;t++)if(0!==e[4*t+3])return!1;if(1!==e[15])return!1;for(var n=0;n<3;n++){for(var r=0,a=0;a<3;a++)0!==e[4*n+a]&&r++;if(1!==r)return 0}return 1},e.isIdentityMatrix=function(e){for(var t=0;t<4;++t)for(var n=0;n<4;++n)if((t===n?1:0)!==e[4*n+t])return!1;return!0},e.isPerspectiveMatrix=function(e){return 0!==e[3]||0!==e[7]||0!==e[11]||1!==e[15]},e.canUseNearestNeighbor=function(e,t){for(var n=0;n<3;n++){var r=void 0;for(r=0;r<3&&0===e[4*r+n];r++);if(r>=3)return 0;var a=e[4*r+n],i=e[12+n];t[2*r]===t[2*r+1]&&(i+=a*t[2*n],a=0);var o=(0,A.vtkInterpolationMathFloor)(a,0).error,s=(0,A.vtkInterpolationMathFloor)(i,0).error;if(0!==o||0!==s)return 0}return 1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,D,n),u.default.obj(e,t),u.default.algo(e,t,1,1),u.default.setGet(e,t,["outputDimensionality","outputOrigin","outputSpacing","outputExtent","outputScalarType","scalarShift","scalarScale","transformInputSampling","autoCropOutput","wrap","mirror","border","backgroundColor"]),u.default.get(e,t,["resliceAxes"]),u.default.algo(e,t,1,1),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(3),s=n(0),u=r(s),l=n(2),c=r(l),d=n(5),f=n(22),m=r(f),g=n(512),p=r(g),v=n(514),h=r(v),y=n(95),A=n(152),S=n(515),T=r(S),M=u.default.vtkErrorMacro,b=u.default.vtkDebugMacro,D={transformInputSampling:!0,autoCropOutput:!1,outputDimensionality:3,outputSpacing:null,outputOrigin:null,outputExtent:null,outputScalarType:null,wrap:!1,mirror:!1,border:!0,interpolationMode:y.InterpolationMode.NEAREST,slabMode:T.default.MIN,slabTrapezoidIntegration:!1,slabNumberOfSlices:1,slabSliceSpacingFraction:1,optimization:!1,scalarShift:0,scalarScale:1,backgroundColor:[0,0,0,0],resliceAxes:null,resliceTransform:null,interpolator:p.default.newInstance(),usePermuteExecute:!1},I=t.newInstance=u.default.newInstance(i,"vtkImageReslice");t.default={newInstance:I,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkImageInterpolator"),e.computeSupportSize=function(e){var n=1;t.interpolationMode===d.InterpolationMode.LINEAR?n=2:t.interpolationMode===d.InterpolationMode.CUBIC&&(n=4);var r=[n,n,n];if(null==e)return r;if(0!==e[12]||0!==e[13]||0!==e[14]||1!==e[15])return r;for(var a=0;a<3;++a){for(var i=!0,o=0;o<3;++o)i=i&&Number.isInteger(e[4*a+o]);i&&(r[a]=1)}return r},e.internalUpdate=function(){t.interpolationInfo.interpolationMode=t.interpolationMode},e.isSeparable=function(){return!0},e.interpolateNearest=function(e,t,n){var r=e.extent,a=e.increments,i=e.numberOfComponents,o=(0,c.vtkInterpolationMathRound)(t[0]),s=(0,c.vtkInterpolationMathRound)(t[1]),u=(0,c.vtkInterpolationMathRound)(t[2]);switch(e.borderMode){case d.ImageBorderMode.REPEAT:o=(0,c.vtkInterpolationMathWrap)(o,r[0],r[1]),s=(0,c.vtkInterpolationMathWrap)(s,r[2],r[3]),u=(0,c.vtkInterpolationMathWrap)(u,r[4],r[5]);break;case d.ImageBorderMode.MIRROR:o=(0,c.vtkInterpolationMathMirror)(o,r[0],r[1]),s=(0,c.vtkInterpolationMathMirror)(s,r[2],r[3]),u=(0,c.vtkInterpolationMathMirror)(u,r[4],r[5]);break;default:o=(0,c.vtkInterpolationMathClamp)(o,r[0],r[1]),s=(0,c.vtkInterpolationMathClamp)(s,r[2],r[3]),u=(0,c.vtkInterpolationMathClamp)(u,r[4],r[5])}var l=o*a[0]+s*a[1]+u*a[2],f=e.pointer.subarray(l,l+i);n.set(f,0)},e.interpolatePoint=function(n,r,a){switch(t.interpolationMode){case d.InterpolationMode.NEAREST:default:e.interpolateNearest(n,r,a);break;case d.InterpolationMode.LINEAR:case d.InterpolationMode.CUBIC:}},e.interpolateRowNearest=function(e,t,n,r,a,i){for(var o=e.positions[0].subarray(t),s=e.positions[1].subarray(n),u=e.positions[2].subarray(r),l=e.pointer.subarray(s[0]+u[0]),c=e.numberOfComponents,d=0;d<i;++d)a.set(l.subarray(o[d],c),d*c)},e.interpolateRow=function(n,r,a,i,o,s){switch(t.interpolationMode){case d.InterpolationMode.NEAREST:default:e.interpolateRowNearest(n,r,a,i,o,s);break;case d.InterpolationMode.LINEAR:case d.InterpolationMode.CUBIC:}},e.vtkTricubicInterpWeights=function(e){var t=e-1,n=.5*e,r=3*e;return[-n*t*t,((r-2)*n-1)*t,-((r-4)*e-1)*n,e*n*t]},e.precomputeWeightsForExtent=function(n,r,a){var i=Object.assign({},c.vtkInterpolationWeights.newInstance(),t.interpolationInfo);i.weightType="Float32Array";for(var o=i.interpolationMode,s=!0,u=0;u<3;++u){var l=void 0;for(l=0;l<3&&0===n[4*u+l];++l);a[2*u]=r[2*u],a[2*u+1]=r[2*u+1];var f=i.extent[2*l],m=i.extent[2*l+1],g=t.structuredBounds[2*l],p=t.structuredBounds[2*l+1],v=1;v=o<d.InterpolationMode.LINEAR?v:2,v=o<d.InterpolationMode.CUBIC?v:4;var h=m-f+1;v=v<h?v:h,Number.isInteger(n[4*u+l])&&Number.isInteger(n[4*l+l])&&(v=1);var y=v*(r[2*u+1]-r[2*u]+1),A=new Int16Array(y),S=v*r[2*u],T=null;o!==d.InterpolationMode.NEAREST&&(T=new Int16Array(y)),i.kernelSize[u]=v,i.weightExtent[2*u]=r[2*u],i.weightExtent[2*u+1]=r[2*u+1],i.positions[u]=A,i.weights[u]=T;for(var M=0,b=r[2*u];b<=r[2*u+1];++b){var D=n[12+l]+b*n[4*u+l],I=v,w=0,C=0;if(o===d.InterpolationMode.NEAREST)w=Math.round(D);else{var N=(0,c.vtkInterpolationMathFloor)(D);w=N.integer,C=N.error,o===d.InterpolationMode.CUBIC&&1!==v&&(w--,I=4)}var P=[0,0,0,0],x=0;switch(i.borderMode){case d.ImageBorderMode.REPEAT:do{P[x]=(0,c.vtkInterpolationMathWrap)(w,f,m),w++}while(++x<I);break;case d.ImageBorderMode.MIRROR:do{P[x]=(0,c.vtkInterpolationMathMirror)(w,f,m),w++}while(++x<I);break;default:do{P[x]=(0,c.vtkInterpolationMathClamp)(w,f,m),w++}while(++x<I)}var E=i.increments[l];if(A[v*b-S]=P[0]*E,o!==d.InterpolationMode.NEAREST&&(T[v*b-S]=1),v>1)if(o===d.InterpolationMode.LINEAR)A[v*b+1-S]=P[1]*E,T[v*b-S]=1-C,T[v*b+1-S]=C;else if(o===d.InterpolationMode.CUBIC){var O=e.vtkTricubicInterpWeights(C);if(4===v)for(var L=0;L<4;L++)A[v*b+L-S]=P[L]*E,T[v*b+L-S]=O[L];else{for(var _=[0,0,0,0],R=0;R<4;R++){var k=P[R]-f;_[k]+=O[R]}for(var B=0;B<v;B++)A[v*b+B-S]=f+B,T[v*b+B-S]=_[B]}}D>=g&&D<=p?0===M&&(M=1,a[2*u]=b):1===M&&(M=2,a[2*u+1]=b-1)}(0===M||a[2*u]>a[2*u+1])&&(s=!1)}if(!s)for(var V=0;V<3;V++)a[2*V]=r[2*V],a[2*V+1]=r[2*V]-1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),l.default.extend(e,t,n),s.default.setGet(e,t,["interpolationMode"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(513),l=r(u),c=n(152),d=n(95),f={interpolationMode:d.InterpolationMode.NEAREST},m=t.newInstance=s.default.newInstance(i,"vtkImageInterpolator");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkAbstractImageInterpolator"),e.initialize=function(n){e.releaseData(),t.scalars=n.getPointData().getScalars(),t.spacing=n.getSpacing(),t.origin=n.getOrigin(),t.extent=n.getExtent(),e.update()},e.releaseData=function(){t.scalars=null},e.update=function(){if(!t.scalars)return t.interpolationInfo.pointer=null,void(t.interpolationInfo.numberOfComponents=1);t.interpolationInfo.extent=t.extent.slice();for(var n=e.computeSupportSize(null),r=Math.max(Math.max(n[0],n[1]),n[2]),a=Number.MIN_SAFE_INTEGER+r/2,i=Number.MAX_SAFE_INTEGER-r/2,o=0;o<3;++o){var s=Math.max(.5*(t.extent[2*o]===t.extent[2*o+1]),t.tolerance);t.structuredBounds[2*o]=Math.max(t.extent[2*o]-s,a),t.structuredBounds[2*o+1]=Math.min(t.extent[2*o+1]+s,i)}var u=t.extent[1]-t.extent[0]+1,l=t.extent[3]-t.extent[2]+1,c=t.scalars.getNumberOfComponents();t.interpolationInfo.increments[0]=c,t.interpolationInfo.increments[1]=t.interpolationInfo.increments[0]*u,t.interpolationInfo.increments[2]=t.interpolationInfo.increments[1]*l;var d=t.componentOffset;d=d>0?d:0,d=d<c?d:c-1;var f=t.scalars.getData();t.interpolationInfo.pointer=f.subarray(1*d),t.interpolationInfo.scalarType=t.scalars.dataType,t.interpolationInfo.dataTypeSize=1,t.interpolationInfo.numberOfComponents=e.computeNumberOfComponents(c),t.interpolationInfo.borderMode=t.borderMode,e.internalUpdate()},e.internalUpdate=function(){},e.interpolateXYZ=function(n,r,a,i){var o=t.outValue,s=[n,r,a],u=[(s[0]-t.origin[0])/t.spacing[0],(s[1]-t.origin[1])/t.spacing[1],(s[2]-t.origin[2])/t.spacing[2]];if(e.checkBoundsIJK(u)){var l=Object.assign({},t.interpolationInfo),c=l.increments[0]-t.componentOffset,d=i>0?i:0;d=d<c?d:c-1,l.pointer=t.interpolationInfo.pointer.subarray(1*d),l.numberOfComponents=1;var f=[o];e.interpolatePoint(l,u,f),o=f[0]}return o},e.interpolate=function(n,r){var a=[(n[0]-t.origin[0])/t.spacing[0],(n[1]-t.origin[1])/t.spacing[1],(n[2]-t.origin[2])/t.spacing[2]];if(e.checkBoundsIJK(a))return e.interpolatePoint(t.interpolationInfo,a,r),!0;for(var i=0;i<t.interpolationInfo.numberOfComponents;++i)r[i]=t.outValue;return!1},e.computeNumberOfComponents=function(e){var n=Math.min(Math.max(t.componentOffset,0),e-1),r=t.componentCount<e-n?t.componentCount:e-n;return r>0?r:e-n},e.getNumberOfComponents=function(){return t.interpolationInfo.numberOfComponents},e.interpolateIJK=function(n,r){e.interpolatePoint(t.interpolationInfo,n,r)},e.checkBoundsIJK=function(e){return!(e[0]<t.structuredBounds[0]||e[0]>t.structuredBounds[1]||e[1]<t.structuredBounds[2]||e[1]>t.structuredBounds[3]||e[2]<t.structuredBounds[4]||e[2]>t.structuredBounds[5])},e.computeSupportSize=null,e.isSeparable=null,e.precomputeWeightsForExtent=function(e,t,n){},e.FreePrecomputedWeights=function(e){},e.interpolatePoint=function(e,t,n){},e.interpolateRow=function(e,t,n,r,a,i){}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,l,n),o.default.obj(e,t),o.default.setGet(e,t,["outValue","tolerance","componentOffset","componentCount","borderMode","slidingWindow"]),o.default.get(e,t,["origin","spacing"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s=n(95),u=n(152),l={outValue:0,tolerance:Number.EPSILON,componentOffset:0,componentCount:-1,borderMode:s.ImageBorderMode.CLAMP,slidingWindow:!1,scalars:null,interpolationInfo:Object.assign({},u.vtkInterpolationInfo),interpolationFunc:null,rowInterpolationFunc:null,structuredBounds:[0,-1,0,-1,0,-1],spacing:null,origin:null,extent:null},c=t.newInstance=o.default.newInstance(a,"vtkAbstractImageInterpolator");t.default={newInstance:c,extend:a,ImageBorderMode:s.ImageBorderMode,InterpolationMode:s.InterpolationMode}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkImagePointDataIterator"),e.initialize=function(e,n,r,a){var i=e.getExtent(),o=n;null==o&&(o=i);for(var s=!1,u=0;u<6;u+=2)t.extent[u]=Math.max(o[u],i[u]),t.extent[u+1]=Math.min(o[u+1],i[u+1]),t.extent[u]>t.extent[u+1]&&(s=!0);t.rowIncrement=i[1]-i[0]+1,t.sliceIncrement=t.rowIncrement*(i[3]-i[2]+1);var l=void 0,c=void 0,d=void 0;if(s){l=0,c=0,d=0,t.id=0,t.rowEndIncrement=0,t.sliceEndIncrement=0;for(var f=0;f<6;f+=2)t.extent[f]=i[f],t.extent[f+1]=i[f]-1}else l=t.extent[1]-t.extent[0]+1,c=t.extent[3]-t.extent[2]+1,d=t.extent[5]-t.extent[4]+1,t.id=t.extent[0]-i[0]+(t.extent[2]-i[2])*t.rowIncrement+(t.extent[4]-i[4])*t.sliceIncrement,t.rowEndIncrement=t.rowIncrement-l,t.sliceEndIncrement=t.rowEndIncrement+t.sliceIncrement-t.rowIncrement*c;if(t.spanEnd=t.id+l,t.rowEnd=t.id+l,t.sliceEnd=t.id+(t.rowIncrement*c-t.rowEndIncrement),t.end=t.id+(t.sliceIncrement*d-t.sliceEndIncrement),t.index[0]=t.extent[0],t.index[1]=t.extent[2],t.index[2]=t.extent[4],t.startY=t.index[1],r){t.hasStencil=!0,t.inStencil=!1,t.spanIndex=0;var m=r.getExtent();if(t.spanSliceIncrement=0,t.spanSliceEndIncrement=0,m[3]>=m[2]&&m[5]>=m[4]){t.spanSliceIncrement=m[3]-m[2]+1;var g=t.extent[2]-m[2];g>=0&&(t.spanSliceEndIncrement+=g);var p=m[3]-t.extent[3];p>=0&&(t.spanSliceEndIncrement+=p)}var v=0,h=t.extent[2]-m[2];h<0?(t.extent[2]=m[2],v-=1):v+=h,m[3]<=t.extent[3]&&(t.extent[3]=m[3]);var y=t.extent[4]-m[4];y<0?(t.extent[4]=m[4],h>=0&&(v-=1+t.spanSliceEndIncrement)):v+=y*t.spanSliceIncrement,m[5]<=t.extent[5]&&(t.extent[5]=m[5]),t.extent[2]<=t.extent[3]&&t.extent[4]<=t.extent[5]?(t.spanCountPointer=r.extentListLengths.subarray(v),t.spanListPointer=r.extentLists.subarray(v),h>=0&&y>=0&&(t.inStencil=!0,t.setSpanState(t.extent[0]))):(t.spanCountPointer=null,t.spanListPointer=null,t.inStencil=!1)}else t.hasStencil=!1,t.inStencil=!0,t.spanSliceEndIncrement=0,t.spanSliceIncrement=0,t.spanIndex=0,t.spanCountPointer=null,t.spanListPointer=null;if(a){t.algorithm=a;var A=c*d;t.target=A/50+1,t.count=50*t.target-A/t.target*t.target+1}else t.algorithm=null,t.target=0,t.count=0},e.setSpanState=function(e){var n=!1,r=t.spanListPointer,a=t.spanCountPointer[0],i=void 0;for(i=0;i<a&&!(r[i]>e);++i)n=!n;t.spanIndex=i,t.inStencil=n;var o=t.extent[1]+1;i<a&&r[i]<=t.extent[1]&&(o=r[i]);var s=t.rowEnd-(t.rowIncrement-t.rowEndIncrement);t.id=s+(e-t.extent[0]),t.spanEnd=s+(o-t.extent[0])},e.nextSpan=function(){if(t.spanEnd===t.rowEnd){var n=1;if(t.spanEnd!==t.sliceEnd)t.id=t.rowEnd+t.rowEndIncrement,t.rowEnd+=t.rowIncrement,t.spanEnd=t.rowEnd,t.index[1]++;else{if(t.spanEnd===t.end)return void(t.id=t.end);t.id=t.sliceEnd+t.sliceEndIncrement,t.sliceEnd+=t.sliceIncrement,t.rowEnd=t.id+(t.rowIncrement-t.rowEndIncrement),t.spanEnd=t.rowEnd,t.index[1]=t.startY,t.index[2]++,n+=t.spanSliceEndIncrement}t.index[0]=t.extent[0],t.hasStencil&&(t.index[1]>=t.extent[2]&&t.index[1]<=t.extent[3]&&t.index[2]>=t.extent[4]&&t.index[2]<=t.extent[5]?(t.spanCountPointer=t.spanCountPointer.subarray(n),t.spanListPointer=t.spanListPointer.subarray(n),e.setSpanState(t.extent[0])):t.inStencil=!1),t.algorithm&&e.reportProgress()}else{t.id=t.spanEnd;var r=t.spanCountPointer[0],a=t.extent[1]+1;if(t.index[0]=a,t.spanIndex<r){var i=t.spanListPointer[t.spanIndex];i<a&&(t.index[0]=i)}if(++t.spanIndex<r){var o=t.spanListPointer[t.spanIndex];o<a&&(a=o)}t.spanEnd=t.rowEnd-(t.rowIncrement-t.rowEndIncrement)+(a-t.extent[0]),t.inStencil=!t.inStencil}},e.isAtEnd=function(){return t.id===t.end},e.isInStencil=function(){return t.inStencil},e.spanEndId=function(){return t.spanEnd},e.reportProgress=function(){},e.getArray=function(e,t){return e.getData().subarray(t*e.getNumberOfComponents())},e.getScalars=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.getArray(t.getPointData().getScalars(),n)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.get(e,t,["id","index"]),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={spanState:0,extent:[0,-1,0,-1,0,-1],end:0,spanEnd:0,rowEnd:0,sliceEnd:0,rowIncrement:0,rowEndIncrement:0,sliceIncrement:0,sliceEndIncrement:0,id:0,index:[0,0,0],startY:0,hasStencil:!1,inStencil:!0,spanIndex:0,spanSliceIncrement:0,spanSliceEndIncrement:0,spanCountPointer:null,spanListPointer:null,algorithm:null,target:0,count:0},u=t.newInstance=o.default.newInstance(a,"vtkImagePointDataIterator");t.default=Object.assign({newInstance:u,extend:a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.SlabMode={MIN:0,MAX:1,MEAN:2,SUM:3};t.default={SlabMode:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(e,n){var r=e;return t.sidesShareVertices?r+=t.numberOfSides*n:r+=2*t.numberOfSides*n,t.capping&&(r+=2*t.numberOfSides),r}function r(e,t,n){for(var r=t[n],a=e.slice(3*r,3*(r+1)),i=n+1;i<t.length;){var o=t[i];if(a!==e.slice(3*o,3*(o+1)))return i-1;++i}return t.length}function a(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[0,0,1],o=t,s=o[0],u=0;u<o.length;u+=s+1)if(1===(s=o[u]))n.setTuple(o[u+1],i);else if(s>1){var l=0,c=[0,0,0],d=[0,0,0],f=o.slice(u+1,u+1+s);if((l=r(e,f,0))!==s)!function(){var t=f[l],o=e.slice(3*t,3*(t+1)),u=f[l+1],g=e.slice(3*u,3*(u+1));if(c=g.map(function(e,t){return e-o[t]}),m.normalize(c),a)i=a;else{for(;++l<s;)if((l=r(e,f,l))!==s){t=f[l],o=e.slice(3*t,3*(t+1)),u=f[l+1],g=e.slice(3*u,3*(u+1));for(var p=0;p<3;++p)d[p]=g[p]-o[p];m.normalize(d);var v=[0,0,0];if(m.cross(c,d,v),m.norm(v)>.001){i=v,c=d;break}}if(l>=s)for(var h=0;h<3;++h)if(0!==c[h]){i[(h+2)%3]=0,i[(h+1)%3]=1,i[h]=-c[(h+1)%3]/c[h];break}}m.normalize(i);for(var y=0;++l<s&&(l=r(e,f,l))!==s;){t=f[l],o=e.slice(3*t,3*(t+1)),u=f[l+1],g=e.slice(3*u,3*(u+1));for(var A=0;A<3;++A)d[A]=g[A]-o[A];m.normalize(d);var S=[0,0,0];if(m.cross(c,i,S),0!==m.normalize(S)){var T=[0,0,0];if(m.cross(d,c,T),0!==m.normalize(T)){var M=m.dot(T,i),b=1-M*M;b=b>0?Math.sqrt(b):0;for(var D=[0,0,0],I=0;I<3;++I)D[I]=d[I]+c[I];m.normalize(D),m.cross(D,T,S),m.cross(c,T,D),m.dot(i,D)*m.dot(S,D)<0&&(b*=-1);for(var w=y;w<l;++w)n.setTuple(f[w],i);y=l,c=d,i=M*T+b*S}}}for(var C=y;C<s;++C)n.setTuple(f[C],i)}();else for(var g=0;g<s;++g)n.setTuple(f[g],i)}return 1}function i(e,n,r,a,i,o,s,u,l,c,d,f,g,p){for(var v=[0,0,0],h=[0,0,0],y=[0,0,0],A=[0,0,0],S=[0,0,0],T=[0,0,0],b=[0,0,0],I=[0,0,0],C=[0,0,0],N=[0,0,0],P=[0,0,0],x=1,E=e,O=0;O<n;++O){if(0===O){S=a.slice(3*r[0],3*(r[0]+1)),T=a.slice(3*r[1],3*(r[1]+1));for(var L=0;L<3;++L)v[L]=T[L]-S[L],h[L]=v[L],y[L]=-h[L];m.normalize(y)}else if(O===n-1){for(var _=0;_<3;++_)h[_]=v[_],S[_]=T[_],A[_]=v[_];m.normalize(A)}else{for(var R=0;R<3;++R)S[R]=T[R];T=a.slice(3*r[O+1],3*(r[O+1]+1));for(var k=0;k<3;++k)h[k]=v[k],v[k]=T[k]-S[k]}if(0===m.normalize(v))return w("Coincident points!"),0;for(var B=0;B<3;++B)b[B]=(h[B]+v[B])/2;if(I=g.slice(3*r[O],3*(r[O]+1)),0===m.normalize(b)&&(m.cross(h,I,b),0===m.normalize(b)&&D("Using alternate bevel vector")),m.cross(b,I,C),0===m.normalize(C)){var V="Bad normal: s = ";return V+=b[0]+",  "+b[1]+", "+b[2],V+=" n = "+I[0]+",  "+I[1]+", "+I[2],w(V),0}if(m.cross(C,b,N),m.normalize(N),l&&t.varyRadius===M.VARY_RADIUS_BY_SCALAR)x=1+(t.radiusFactor-1)*(l.getComponent(r[O],0)-c[0])/(c[1]-c[0]);else if(d&&t.varyRadius===M.VARY_RADIUS_BY_VECTOR)(x=Math.sqrt(f/m.norm(d.getTuple(r[O]))))>t.radiusFactor&&(x=t.radiusFactor);else if(l&&t.varyRadius===M.VARY_RADIUS_BY_ABSOLUTE_SCALAR&&(x=l.getComponent(r[O],0))<0)return w("Scalar value less than zero, skipping line"),0;if(t.sidesShareVertices)for(var F=0;F<t.numberOfSides;++F){for(var j=0;j<3;++j)P[j]=C[j]*Math.cos(F*p)+N[j]*Math.sin(F*p),b[j]=S[j]+t.radius*x*P[j],i[3*E+j]=b[j],u[3*E+j]=P[j];s.passData(o,r[O],E),E++}else for(var U=[0,0,0],z=[0,0,0],G=0;G<t.numberOfSides;++G){for(var W=0;W<3;++W)P[W]=C[W]*Math.cos(G*p)+N[W]*Math.sin(G*p),U[W]=C[W]*Math.cos((G-.5)*p)+N[W]*Math.sin((G-.5)*p),z[W]=C[W]*Math.cos((G+.5)*p)+N[W]*Math.sin((G+.5)*p),b[W]=S[W]+t.radius*x*P[W],i[3*E+W]=b[W],u[3*E+W]=U[W],i[3*(E+1)+W]=b[W],u[3*(E+1)+W]=z[W];s.passData(o,r[O],E+1),E+=2}}if(t.capping){var Q=t.numberOfSides,Y=1;t.sidesShareVertices||(Q=2*t.numberOfSides,Y=2);for(var q=0;q<Q;q+=Y){b=i.slice(3*(e+q),3*(e+q+1));for(var H=0;H<3;++H)i[3*E+H]=b[H],u[3*E+H]=y[H];s.passData(o,r[0],E),E++}var Z=e+(n-1)*t.numberOfSides;t.sidesShareVertices||(Z=e+2*(n-1)*t.numberOfSides);for(var K=0;K<Q;K+=Y){b=i.slice(3*(Z+K),3*(Z+K+1));for(var X=0;X<3;++X)i[3*E+X]=b[X],u[3*E+X]=A[X];s.passData(o,r[n-1],E),E++}}return 1}function o(e,n,r,a,i,o,s){for(var u=0,l=0,c=0,d=a,f=0,m=s.getData(),g=0;f<m.length&&g!==a;)f+=m[f]+1,g++;if(t.sidesShareVertices)for(var p=e;p<t.numberOfSides+e;p+=t.onRatio){u=p%t.numberOfSides,l=(p+1)%t.numberOfSides,m[f++]=2*n;for(var v=0;v<n;++v)c=v*t.numberOfSides,m[f++]=e+l+c,m[f++]=e+u+c;o.passData(i,r,d++)}else for(var h=e;h<t.numberOfSides+e;h+=t.onRatio){u=h%t.numberOfSides*2+1,l=(h+1)%t.numberOfSides*2,m[f]=2*n,f++;for(var y=0;y<n;++y)c=2*y*t.numberOfSides,m[f++]=e+l+c,m[f++]=e+u+c;o.passData(i,r,d++)}if(t.capping){var A=e+n*t.numberOfSides,S=0;t.sidesShareVertices||(A=e+2*n*t.numberOfSides),m[f++]=t.numberOfSides,m[f++]=A,m[f++]=A+1;var T=0;for(u=t.numberOfSides-1,l=2,T=0;T<t.numberOfSides-2;++T)T%2?(S=A+l,m[f++]=S,l++):(S=A+u,m[f++]=S,u--);for(o.passData(i,r,d++),A+=t.numberOfSides,m[f++]=t.numberOfSides,m[f++]=A,m[f++]=A+t.numberOfSides-1,u=t.numberOfSides-2,l=1,T=0;T<t.numberOfSides-2;++T)T%2?(S=A+u,m[f++]=S,u--):(S=A+l,m[f++]=S,l++);o.passData(i,r,d++)}return d}function s(e,n,r,a,i,o){var s=t.numberOfSides;t.sidesShareVertices||(s=2*t.numberOfSides);var u=0,l=0,c=0,d=i.getData();if(t.generateTCoords===b.TCOORDS_FROM_SCALARS){l=d[r[0]];for(var f=0;f<n;++f){c=d[r[f]],u=(c-l)/t.textureLength;for(var g=0;g<s;++g){var p=g/(s-1),v=2*(e+f*s+g);o[v]=u,o[v+1]=p}}}else if(t.generateTCoords===b.TCOORDS_FROM_LENGTH)for(var h=0,y=a.slice(3*r[0],3*(r[0]+1)),A=0;A<n;++A){var S=a.slice(3*r[A],3*(r[A]+1));h+=Math.sqrt(m.distance2BetweenPoints(S,y)),u=h/t.textureLength;for(var T=0;T<s;++T){var M=T/(s-1),D=2*(e+A*s+T);o[D]=u,o[D+1]=M}for(var I=0;I<3;++I)y[I]=S[I]}else if(t.generateTCoords===b.TCOORDS_FROM_NORMALIZED_LENGTH){for(var w=0,C=0,N=a.slice(3*r[0],3*(r[0]+1)),P=0;P<n;++P){var x=a.slice(3*r[P],3*(r[P]+1));C+=Math.sqrt(m.distance2BetweenPoints(x,N));for(var E=0;E<3;++E)N[E]=x[E]}N=a.slice(3*r[0],3*(r[0]+1));for(var O=0;O<n;++O){var L=a.slice(3*r[O],3*(r[O]+1));w+=Math.sqrt(m.distance2BetweenPoints(L,N)),u=w/C;for(var _=0;_<s;++_){var R=_/(s-1),k=2*(e+O*s+_);o[k]=u,o[k+1]=R}for(var B=0;B<3;++B)N[B]=L[B]}}if(t.capping){for(var V=e+n*s,F=0;F<t.numberOfSides;++F){var j=2*(V+F);o[j]=0,o[j+1]=0}for(var U=0;U<t.numberOfSides;++U){var z=2*(V+t.numberOfSides+U);o[z]=0,o[z+1]=0}}}t.classHierarchy.push("vtkTubeFilter"),e.requestData=function(r,u){var c=h.default.newInstance();u[0]=c;var f=r[0];if(!f)return void I("Invalid or missing input");var m=f.getPoints();if(m){var g=m.getNumberOfPoints();if(!(g<1)){var v=f.getLines();if(v){var S=v.getNumberOfCells();if(!(S<1)){var T=g*t.numberOfSides;t.capping&&(T=(g+2*S)*t.numberOfSides);var D=m.getDataType();t.outputPointsPrecision===y.DesiredOutputPrecision.SINGLE?D=A.VtkDataTypes.FLOAT:t.outputPointsPrecision===y.DesiredOutputPrecision.DOUBLE&&(D=A.VtkDataTypes.DOUBLE);var C=p.default.newInstance({dataType:D,size:3*T,numberOfComponents:3}),N=3*T;t.capping&&(N=3*(T+2*t.numberOfSides));for(var P=new Float32Array(N),x=d.default.newInstance({numberOfComponents:3,values:P,name:"TubeNormals"}),E=0,O=v.getData(),L=O[0],_=0;_<O.length;_+=L+1)L=O[_],E+=(2*L+1)*Math.ceil(t.numberOfSides/t.onRatio),t.capping&&(E+=2*(t.numberOfSides+1));var R=new Uint32Array(E),k=l.default.newInstance({values:R}),B=0,V=f.getPointData().getNormals(),F=null,j=!1;V&&!t.useDefaultNormal||(F=new Float32Array(3*g),V=d.default.newInstance({numberOfComponents:3,values:F,name:"Normals"}),t.useDefaultNormal?F=F.map(function(e,n){var r=n%3;return t.defaultNormal[r]}):j=!0);for(var U=f.getPointData().getNumberOfArrays(),z=null,G=null,W=0;W<U;W++)z=f.getPointData().getArrayByIndex(W),G=d.default.newInstance({name:z.getName(),dataType:z.getDataType(),numberOfComponents:z.getNumberOfComponents(),size:T*z.getNumberOfComponents()}),c.getPointData().removeArrayByIndex(0),c.getPointData().addArray(G);var Q=e.getInputArrayToProcess(0),Y=null,q=[];Q&&(Y=d.default.newInstance({name:Q.getName(),dataType:Q.getDataType(),numberOfComponents:Q.getNumberOfComponents(),size:T*Q.getNumberOfComponents()}),q=Q.getRange(),q[1]-q[0]==0&&(t.varyRadius===M.VARY_RADIUS_BY_SCALAR&&w("Scalar range is zero!"),q[1]=q[0]+1));var H=e.getInputArrayToProcess(1),Z=0;H&&(Z=H.getMaxNorm());var K=c.getCellData();K.copyNormalsOff(),K.passData(f.getCellData());var X=c.getPointData();null!==X.getNormals()&&X.copyNormalsOff(),Q&&Y&&X.setScalars(Y);var J=null;if(t.generateTCoords===b.TCOORDS_FROM_SCALARS&&Q||t.generateTCoords===b.TCOORDS_FROM_LENGTH||t.generateTCoords===b.TCOORDS_FROM_NORMALIZED_LENGTH){var $=new Float32Array(2*T);J=d.default.newInstance({numberOfComponents:2,values:$,name:"TCoords"}),X.copyTCoordsOff()}X.passData(f.getPointData());var ee=2*Math.PI/t.numberOfSides;L=O[0];for(var te=0,ne=f.getVerts().getNumberOfCells(),re=0;re<O.length;re+=L+1){L=O[re];var ae=O.slice(re+1,re+1+L);if(L>1&&j){var ie=O.slice(re,re+L+1);a(m.getData(),ie,V)}i(te,L,ae,m.getData(),C.getData(),f.getPointData(),X,P,Q,q,H,Z,F,ee)?(B=o(te,L,ne,B,f.getCellData(),K,k),J&&s(te,L,ae,m.getData(),Q,J.getData())):w("Could not generate points"),te=n(te,L),ne++}c.setPoints(C),c.setStrips(k),c.setPointData(X),X.setNormals(x),u[0]=c}}}}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,C,n),s.default.setGet(e,t,["outputPointsPrecision","radius","varyRadius","numberOfSides","radiusFactor","defaultNormal","useDefaultNormal","sidesShareVertices","capping","onRatio","offset","generateTCoords","textureLength"]),s.default.obj(e,t),s.default.algo(e,t,1,1),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(11),l=r(u),c=n(2),d=r(c),f=n(1),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),g=n(6),p=r(g),v=n(4),h=r(v),y=n(40),A=n(5),S=n(517),T=r(S),M=T.default.VaryRadius,b=T.default.GenerateTCoords,D=s.default.vtkDebugMacro,I=s.default.vtkErrorMacro,w=s.default.vtkWarningMacro,C={outputPointsPrecision:y.DesiredOutputPrecision.DEFAULT,radius:.5,varyRadius:M.VARY_RADIUS_OFF,numberOfSides:3,radiusFactor:10,defaultNormal:[0,0,1],useDefaultNormal:!1,sidesShareVertices:!0,capping:!1,onRatio:1,offset:0,generateTCoords:b.TCOORDS_OFF,textureLength:1},N=t.newInstance=s.default.newInstance(i,"vtkTubeFilter");t.default=Object.assign({newInstance:N,extend:i})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.VaryRadius={VARY_RADIUS_OFF:0,VARY_RADIUS_BY_SCALAR:1,VARY_RADIUS_BY_VECTOR:2,VARY_RADIUS_BY_ABSOLUTE_SCALAR:3},a=t.GenerateTCoords={TCOORDS_OFF:0,TCOORDS_FROM_NORMALIZED_LENGTH:1,TCOORDS_FROM_LENGTH:2,TCOORDS_FROM_SCALARS:3};t.default={VaryRadius:r,GenerateTCoords:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("ySurfaceCutting"),e.invokeToolDone=function(e,n,r){if(e){var a={toolId:B,toolCmd:t.toolCmd,result:"Success"};n&&(a.reason=n),r&&(a.detail=r),R.MultiView.onCallback("ToolDone",a)}else R.MultiView.onCallback("ToolDone",{toolId:B,toolCmd:t.toolCmd,result:"Error",reason:n,detail:r})},e.updateTool=function(n){if(t.toolCmd=n.cmd,t.nodeIndex<0&&"SelectNode"!==n.cmd)return e.invokeToolDone(!1,"NoSelectedNode","Please select a node before using the "+B+" Tool"),-1;var r=n.cmd;if("DrawCutLine"===r)t.nurbsSurface=b.default.newInstance(),e.uninstallContourWidget(),e.uninstallSeedWidget3D(),e.uninstallPlaneWidget(),e.installContourWidget();else if("CreatePlane"===r){var a=!1;if(t.contourWidget){var i=t.contourWidget.getWidgetRep().getContourRepresentationAsPolyData();if(i){var o=i.getPoints();o&&o.getNumberOfPoints()>1&&(a=!0)}}a&&e.generatePlaneFromContour()&&e.installSeedWidget3D(),e.uninstallContourWidget(),e.updateAndRender3D()}else if("SurfaceCut"===r)e.cutSurfaceWithPlane();else if("ActiveNurbs"===r)e.installPlaneWidget();else if("SelectNode"===r){var s=n.index;s>=0&&s!==t.nodeIndex&&(e.resetPipeline(),t.nodeIndex=s,R.DataManagement.setSelectedNode(s),e.setupPipeline())}else"SaveSTLData"===r&&e.saveSTLData();return 0},e.setupPipeline=function(){t.planeIndex=-1,t.nodeAIndex=-1,t.nodeBIndex=-1,t.nurbsSurface=b.default.newInstance(),e.setupNodeVisible(),e.updateAndRender3D()},e.resetPipeline=function(){t.nurbsSurface=null,e.uninstallContourWidget(),e.uninstallSeedWidget3D(),e.uninstallPlaneWidget(),e.resetNodeVisible(),e.updateAndRender3D()},e.installContourWidget=function(){var e=l.default.newInstance();t.contourWidget=e,e.setInteractor(t.interactor),e.createDefaultRepresentation();var n=e.getWidgetRep();n.getLinesProperty().setColor(1,0,0),n.getLinesProperty().setLineWidth(10);var r=R.DataManagement.getData(t.nodeIndex),a=m.default.newInstance();a.setInputData(r);var i=d.default.newInstance();i.setMapper(a);var o=h.default.newInstance();o.addProp(i),o.getPolys().push(r),n.setPointPlacer(o);var s=A.default.newInstance();s.getPolys().push(r),n.setLineInterpolator(s),e.setEnabled(1),t.renderWindow.render()},e.uninstallContourWidget=function(){t.contourWidget&&(t.contourWidget.setEnabled(0),t.contourWidget=null)},e.generatePlaneFromContour=function(){if(!t.contourWidget)return!1;var e=t.contourWidget.getWidgetRep().getContourRepresentationAsPolyData();if(!e)return!1;var n=e.getPoints().getNumberOfPoints();if(0===n)return!1;var r=[];e.getPoints().getPoint(0,r);var a=[];e.getPoints().getPoint(n-1,a),r[0]===a[0]&&r[1]===a[1]&&r[2]===a[2]||e.getPoints().setPoint(n-1,r[0],r[1],r[2]),t.nurbsSurface.setSurfacePoints(e.getPoints());var i=p.default.newInstance();i.setPoints(e.getPoints()),t.nurbsSurface.setInputData(i);var o=t.nurbsSurface.getDegree();t.nurbsSurface.setCtrlPoints(e.getPoints(),o[0],o[1]),t.nurbsSurface.update(),t.ctrlPoints=t.nurbsSurface.getCtrlPoints();var s=t.nurbsSurface.getOutputData();if(s.getNumberOfCells()<10)return!1;t.planeActor=d.default.newInstance();var u=m.default.newInstance();t.planeActor.setMapper(u);var l=I.default.newInstance();return l.setInputData(s),l.setComputeCellNormals(1),l.update(),t.planePolyData=l.getOutputData(),u.setInputData(t.planePolyData),!0},e.createCutTree=function(e,n){if(e&&n){var r=I.default.newInstance();r.setInputData(e),r.setComputeCellNormals(1),r.update();var a=r.getOutputData(),i=I.default.newInstance();i.setInputData(n),i.setComputeCellNormals(1),i.update();var o=i.getOutputData(),s=R.DataManagement,u=s.getNodeName(t.nodeIndex);u=u||"";var l=u.indexOf("[");l>=0&&(u=u.substring(0,l)),u+="A";var c=s.getNodeName(t.nodeIndex);c=c||"";var d=c.indexOf("[");d>=0&&(c=c.substring(0,d)),c+="B";for(var f=s.getAllNodeIndex()||[],m=0;m<f.length;m++){var g=f[m],p=s.getNodeName(g);p!==u&&p!==c||(u+="",c+="",m=0)}t.renderWindow.removeActor(t.planeActor);var v=s.getNodeParentIndex(t.nodeIndex);if(t.planeIndex<0){var h=s.getNodeName(t.nodeIndex);h+="",t.planeIndex=s.createSurfaceNode(h,v),s.setNodeColor(t.planeIndex,[1,1,1]),s.setNodeOpacity(t.planeIndex,1),s.setNodeProperty(t.planeIndex,"divide_parent",t.nodeIndex),s.setNodeProperty(t.planeIndex,"organ_name","divide_plane"),s.setData(t.planeIndex,t.planePolyData),t.renderWindow.createSurfaceMapper(t.planeIndex)}t.nodeAIndex=s.createSurfaceNode(u,v),s.setNodeColor(t.nodeAIndex,[.69,.92,.69]),s.setNodeOpacity(t.nodeAIndex,.5),s.setNodeProperty(t.nodeAIndex,"divide_parent",t.nodeIndex),s.setNodeProperty(t.nodeAIndex,"logic_parent",t.planeIndex),s.setData(t.nodeAIndex,a),t.renderWindow.createSurfaceMapper(t.nodeAIndex),t.nodeBIndex=s.createSurfaceNode(c,v),s.setNodeColor(t.nodeBIndex,[.88,.76,.7]),s.setNodeOpacity(t.nodeBIndex,.5),s.setNodeProperty(t.nodeBIndex,"divide_parent",t.nodeIndex),s.setNodeProperty(t.nodeBIndex,"logic_parent",t.planeIndex),s.setData(t.nodeBIndex,o),t.renderWindow.createSurfaceMapper(t.nodeBIndex,!0),s.setNodeProperty(t.nodeAIndex,"modify",1),s.setNodeProperty(t.nodeBIndex,"modify",1),s.setNodeProperty(t.planeIndex,"modify",1)}},e.updateCutTree=function(n,r){if(n&&r){t.renderWindow.removeActor(t.planeActor);var a=I.default.newInstance();a.setInputData(n),a.setComputeCellNormals(1),a.update();var i=a.getOutputData(),o=I.default.newInstance();o.setInputData(r),o.setComputeCellNormals(1),o.update();var s=o.getOutputData(),u=R.DataManagement;u.setData(t.planeIndex,t.planePolyData),u.setData(t.nodeAIndex,i),u.setData(t.nodeBIndex,s),u.setNodeProperty(t.nodeAIndex,"modify",1),u.setNodeProperty(t.nodeBIndex,"modify",1),u.setNodeProperty(t.planeIndex,"modify",1),e.updateAndRender3D()}},e.writeProperty=function(){var e=R.DataManagement,n=e.getData(t.nodeAIndex);if(n){var r=e.getData(t.nodeBIndex);if(r){var a=E.default.newInstance();a.setPolyData(n);var i=a.getPolyDataVolume();e.setNodeProperty(t.nodeAIndex,"volume",i),a.setPolyData(r);var o=a.getPolyDataVolume();e.setNodeProperty(t.nodeBIndex,"volume",o);var s=i+o,u=i/s,l=1-u;if(u=Math.round(1e4*u)/100,l=Math.round(1e4*l)/100,u<=1||l<=1)return e.setNodeProperty(t.nodeBIndex,"volume_str","\t\n\t\n"),void e.setNodeProperty(t.nodeBIndex,"volume_display",1);var c=e.getNodeProperty(t.nodeAIndex,"divide_parent");if(c=Number(c),e.isPropertyExist(c,"Percent")){var d=e.getNodeProperty(c,"Percent");d=Number(d),u=u*d/100,l=d-u,u=Math.round(100*u)/100,l=Math.round(100*l)/100}(e.getAllNodeIndex()||[]).forEach(function(t){e.getDataNodeType(t)===_.DataNodeTypes.SURFACE_DATA&&e.setNodeProperty(t,"volume_display",0)});var f="\t(ml)\t(%)\t\n";f+=e.getNodeName(t.nodeAIndex)+":\t"+i+"\t"+u+"\t\n",f+=e.getNodeName(t.nodeBIndex)+":\t"+o+"\t"+l+"\t\n",e.setNodeProperty(t.nodeAIndex,"volume_str",f),e.setNodeProperty(t.nodeAIndex,"volume_display",2),e.setNodeOpacity(t.planeIndex,1)}}},e.cutSurfaceWithPlane=function(){var n=R.DataManagement.getData(t.nodeIndex);if(n&&0!==n.getNumberOfCells()){t.planePolyData=t.planeActor.getMapper().getInputData();var r=t.planePolyData;if(r&&0!==r.getNumberOfCells()){R.MultiView.onCallback("WaitingLock",!0);var a=n.toJson(),i=r.toJson(),o={input:a,plane:i};R.AlgoServer.runAPI("SurfaceCut",o,function(n,r){if(!n||!n.resultA||!n.resultB)return R.MultiView.onCallback("WaitingLock",!1),void e.invokeToolDone(!1,"ReturnNone");var a=p.default.newInstance();if(a.fromJson(n.resultA),!a.getNumberOfCells())return R.MultiView.onCallback("WaitingLock",!1),void e.invokeToolDone(!1,"ResultANone");var i=p.default.newInstance();if(i.fromJson(n.resultB),!i.getNumberOfCells())return R.MultiView.onCallback("WaitingLock",!1),void e.invokeToolDone(!1,"ResultBNone");-1===t.nodeAIndex&&-1===t.nodeBIndex?e.createCutTree(a,i):e.updateCutTree(a,i),e.writeProperty(),e.uninstallContourWidget(),e.uninstallSeedWidget3D(),e.uninstallPlaneWidget(),R.DataManagement.setNodeVisible(t.planeIndex,0),R.DataManagement.setNodeOpacity(t.nodeIndex,.1),e.updateAndRender3D(),R.MultiView.onCallback("WaitingLock",!1),e.invokeToolDone(!0)},function(t){R.MultiView.onCallback("WaitingLock",!1),e.invokeToolDone(!1,t)})}}},e.installSeedWidget3D=function(){var e=C.default.newInstance();e.setMovePoint(!0),e.getWidgetRep().buildRepresentation(),e.setInteractor(t.interactor),e.setEnabled(1),e.initSurfaceActor(t.planeActor,t.nurbsSurface);for(var n=t.nurbsSurface.getCtrlPoints(),r=0;r<n.getNumberOfPoints();r++){var a=n.getPoint(r);e.getWidgetRep().addPoint(a)}t.seedWidget3D=e},e.uninstallSeedWidget3D=function(){t.seedWidget3D&&(t.seedWidget3D.setEnabled(0),t.seedWidget3D=null)},e.installPlaneWidget=function(){if(t.planePolyData){t.renderWindow.hasViewProp(t.planeActor)||t.renderWindow.addActor(t.planeActor);var e=t.extrudeWidget;e||(e=T.default.newInstance(),t.extrudeWidget=e),e.setInteractor(t.interactor),e.setInteractionMode(0),e.setSurfaceInterplator(t.nurbsSurface),e.setInputData(t.planePolyData),e.setZoomEnable(1),e.setPanEnable(1),e.initSurfaceActor(t.planeActor,t.nurbsSurface),e.updateCtrlPoints(t.ctrlPoints,!1),e.setEnabled(0),e.setEnabled(1)}},e.uninstallPlaneWidget=function(){t.planeActor&&t.renderWindow.removeActor(t.planeActor),t.extrudeWidget&&(t.extrudeWidget.setEnabled(0),t.extrudeWidget=null)},e.saveSTLData=function(){var n=R.DataManagement,r=n.getData(t.planeIndex),a=n.getData(t.nodeAIndex),i=n.getData(t.nodeBIndex);if(!r||!a||!i)return void e.invokeToolDone(!1,"NullData");R.MultiView.onCallback("WaitingLock",!0);var o=n.getNodeName(t.planeIndex),s=n.getNodeName(t.nodeAIndex),u=n.getNodeName(t.nodeBIndex),l=k.YCM_PATH,c=[r,a,i],d=[o+".stl",s+".stl",u+".stl"],f=0;c.forEach(function(t,n,r){var a=t.toJson(),i={ycmPath:l,fileName:d[n],fileType:"PolyData",fileData:a};R.AlgoServer.runAPI("SaveFile",i,function(t,a){++f===r.length&&(R.MultiView.onCallback("WaitingLock",!1),e.invokeToolDone(!0,"Success","Save "+d[n]+" OK"))},function(t){R.MultiView.onCallback("WaitingLock",!1),e.invokeToolDone(!1,t)})})}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,V,n),L.default.extend(e,t,n),t.toolId=B,a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(519),l=r(u),c=n(24),d=r(c),f=n(20),m=r(f),g=n(4),p=r(g),v=n(273),h=r(v),y=n(274),A=r(y),S=n(544),T=r(S),M=n(550),b=r(M),D=n(56),I=r(D),w=n(556),C=r(w),N=n(46),P=r(N),x=n(72),E=r(x),O=n(277),L=r(O),_=n(27),R=s.default.GlobalObjects,k=s.default.GlobalOptions,B="SurfaceCutting",V={contourWidget:null,seedWidget3D:null,extrudeWidget:null,planePolyData:null,planeActor:null,nurbsSurface:null,ctrlPoints:null,planeIndex:-1,nodeAIndex:-1,nodeBIndex:-1},F=t.newInstance=s.default.newInstance(i,"ySurfaceCutting");P.default.registerTool(B,{newInstance:F,toolName:"",toolId:B,toolType:"3D",toolUpdate:[{name:"",cmd:"DrawCutLine"},{name:"",cmd:"CreatePlane"},{name:"",cmd:"SurfaceCut"},{name:"",cmd:"ActiveNurbs"},{name:"",cmd:"SelectNode"},{name:"STL",cmd:"SaveSTLData"}]}),t.default={newInstance:F,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkContourWidget");var n=Object.assign({},e);e.setEnabled=function(e){e&&(t.widgetState===h.START?t.widgetRep.setVisibility(0):t.widgetRep.setVisibility(1)),n.setEnabled(e)},e.createDefaultRepresentation=function(){if(!t.widgetRep){var e=m.default.newInstance();t.widgetRep=e,e.setPixelTolerance(13);var n=p.default.newInstance();n.setRadius(.5),n.update(),e.setActiveCursorShape(n.getOutputData()),e.getProperty().setColor(.25,1,.25);var r=e.getActiveProperty();r&&(r.setRepresentationToSurface(),r.setAmbient(.1),r.setDiffuse(.9),r.setSpecular(0))}},e.closeLoop=function(){var n=t.widgetRep;!n.getClosedLoop()&&n.getNumberOfNodes()>1&&(t.widgetState=h.MANIPULATE,n.setClosedLoop(1),e.render())},e.initialize=function(){if(!t.enabled)return void y("Enable widget before initializing");if(t.widgetRep){for(var n=t.widgetRep;n.deleteLastNode(););n.setClosedLoop(0),e.render(),n.setNeedToRender(0),n.setVisibility(0),t.widgetState=h.START}},e.selectAction=function(r){var a=t.widgetRep,i=r.position.x,o=r.position.y,u=[i,o],l=s.default.VOID;switch(t.continuousDraw&&(t.continuousActive=0),t.widgetState){case h.START:case h.DEFINE:(t.followCursor||t.continuousDraw)&&0===a.getNumberOfNodes()&&(l=e.addNode(r)),e.addNode(r)===s.default.EVENT_ABORT&&(l=s.default.EVENT_ABORT),t.continuousDraw&&(t.continuousActive=1);break;case h.MANIPULATE:a.activateNode(i,o)?(n.startInteraction(),e.invokeStartInteractionEvent(),e.startInteraction(),a.setCurrentOperationToTranslate(),a.startWidgetInteraction(u),l=s.default.EVENT_ABORT):a.addNodeOnContour(i,o)?(a.activateNode(i,o)&&(a.setCurrentOperationToTranslate(),a.startWidgetInteraction(u)),l=s.default.EVENT_ABORT):a.getNeedToRender()||a.setRebuildLocator(!0)}return a.getNeedToRender()&&(e.render(),a.setNeedToRender(0)),l},e.addFinalPointAction=function(n){var r=t.widgetRep,a=s.default.VOID;return t.widgetState!==h.MANIPULATE&&r.getNumberOfNodes()>=1&&(t.followCursor||t.continuousDraw||e.addNode(n),t.continuousDraw&&(t.continuousActive=0),t.widgetState=h.MANIPULATE,e.invokeEndInteractionEvent(),a=s.default.EVENT_ABORT),r.getNeedToRender()&&(e.render(),r.setNeedToRender(0)),a},e.moveAction=function(n){if(t.widgetState===h.START)return s.default.VOID;var r=n.position.x,a=n.position.y,i=t.widgetRep;if(t.widgetState===h.DEFINE){if(!t.followCursor&&!t.continuousDraw)return s.default.VOID;var o=i.getNumberOfNodes();if(o>1){var u=[0,0],l=i.getPixelTolerance(),c=l*l;u=i.getNthNodeDisplayPosition(0);var d=(r-u[0])*(r-u[0])+(a-u[1])*(a-u[1]);if((d<c&&o>2||t.continuousDraw&&o>l&&d<c)!==(1===i.getClosedLoop()))if(i.getClosedLoop()){if(!i.addNodeAtDisplayPosition(r,a)){var f=[0,0,0];i.getNthNodeWorldPosition(0,f),i.addNodeAtDisplayPosition(f)}i.setClosedLoop(0)}else i.deleteLastNode(),i.setClosedLoop(1);else 0===i.getClosedLoop()&&(t.continuousDraw&&t.continuousActive?i.addNodeAtDisplayPosition(r,a):i.setNthNodeDisplayPosition(o-1,r,a))}}if(i.getCurrentOperation()===v.Operation.INACTIVE)i.computeInteractionState(r,a),i.activateNode(r,a);else{var m=[r,a];t.widgetRep.widgetInteraction(m),e.invokeInteractionEvent()}return i.getNeedToRender()&&(e.render(),i.setNeedToRender(0)),s.default.VOID},e.endSelectAction=function(r){var a=t.widgetRep;return t.continuousDraw&&(t.continuousActive=0),a.getCurrentOperation()===v.Operation.INACTIVE?(a.setRebuildLocator(!0),s.default.VOID):(a.setCurrentOperationToInactive(),n.endInteraction(),e.invokeEndInteractionEvent(),t.allowNodePicking&&r.ctrlKey&&t.widgetState===h.MANIPULATE&&a.toggleActiveNodeSelected(),a.getNeedToRender()&&(e.render(),a.setNeedToRender(0)),s.default.EVENT_ABORT)},e.deleteAction=function(n){if(t.widgetState===h.START)return s.default.VOID;var r=t.widgetRep;if(t.widgetState===h.DEFINE)r.deleteLastNode()&&e.invokeInteractionEvent();else{var a=n.position.x,i=n.position.y;r.activateNode(a,i),r.deleteActiveNode()&&e.invokeInteractionEvent(),r.activateNode(a,i);var o=r.getNumberOfNodes();o<3&&(r.setClosedLoop(0),o<2&&(t.widgetState=h.DEFINE))}return r.getNeedToRender()&&(e.render(),r.setNeedToRender(0)),s.default.VOID},e.translateContourAction=function(r){if(t.widgetState!==h.MANIPULATE)return s.default.VOID;var a=t.widgetRep,i=r.position.x,o=r.position.y,u=[i,o],l=s.default.VOID;if(a.activateNode(i,o))n.startInteraction(),e.invokeStartInteractionEvent(),e.startInteraction(),a.setCurrentOperationToShift(),a.startWidgetInteraction(u),l=s.default.EVENT_ABORT;else{var c=[0,0,0],d=[0];a.findClosestPointOnContour(i,o,c,d)&&(u=a.getNthNodeDisplayPosition(d[0]),a.activateNode(u),n.startInteraction(),e.invokeStartInteractionEvent(),e.startInteraction(),a.setCurrentOperationToShift(),a.startWidgetInteraction(u),l=s.default.EVENT_ABORT)}return a.getNeedToRender()&&(e.render(),a.setNeedToRender(0)),l},e.scaleContourAction=function(r){if(t.widgetState!==h.MANIPULATE)return s.default.VOID;var a=t.widgetRep,i=r.position.x,o=r.position.y,u=[i,o],l=s.default.VOID;if(a.activateNode(i,o))n.startInteraction(),e.invokeStartInteractionEvent(),e.startInteraction(),a.setCurrentOperationToScale(),a.startWidgetInteraction(u),l=s.default.EVENT_ABORT;else{var c=[0,0,0],d=[0];a.findClosestPointOnContour(i,o,c,d)&&(u=a.getNthNodeDisplayPosition(d[0]),a.activateNode(u),n.startInteraction(),e.invokeStartInteractionEvent(),e.startInteraction(),a.setCurrentOperationToScale(),a.startWidgetInteraction(u),l=s.default.EVENT_ABORT)}return a.getNeedToRender()&&(e.render(),a.setNeedToRender(0)),l},e.resetAction=function(t){return e.initialize(),s.default.EVENT_VOID},e.addNode=function(n){var r=n.position.x,a=n.position.y,i=t.widgetRep,o=i.getNumberOfNodes();if(o>1){var u=i.getPixelTolerance(),l=u*u,c=i.getNthNodeDisplayPosition(0);if(0===c.length)return y("Can't get first node display position!"),s.default.VOID;var d=(r-c[0])*(r-c[0])+(a-c[1])*(a-c[1]);if(d<l&&o>2||t.continuousDraw&&o>u&&d<l)return t.widgetState=h.MANIPULATE,i.setClosedLoop(1),e.render(),e.invokeEndInteractionEvent(),s.default.EVENT_ABORT}return i.addNodeAtDisplayPosition(r,a)?(t.widgetState===h.START&&e.invokeStartInteractionEvent(),t.widgetState=h.DEFINE,i.setVisibility(1),e.invokeInteractionEvent(),s.default.EVENT_ABORT):s.default.VOID},e.setAllowNodePicking=function(e){t.allowNodePicking!==e&&(t.allowNodePicking=e,t.allowNodePicking)&&t.widgetRep.setShowSelectedNodes(t.allowNodePicking)},e.handleLeftButtonPress=function(t){return e.selectAction(t)},e.handleRightButtonPress=function(t){return e.addFinalPointAction(t)},e.handleMouseMove=function(t){return e.moveAction(t)},e.handleLeftButtonRelease=function(t){return e.endSelectAction(t)},e.handleKeyPress=function(t){return"r"===t.key||"R"===t.key?e.resetAction(t):"d"===t.key||"D"===t.key?e.deleteAction(t):s.default.VOID},e.handleMiddleButtonPress=function(t){return e.translateContourAction(t)},e.handleMiddleButtonRelease=function(t){return e.endSelectAction(t)},e.handleRightButtonRelease=function(t){return e.endSelectAction(t)},e.destroy=function(){t.widgetRep.setVisibility(0);var n=t.widgetRep.getRenderer();n&&(t.widgetRep.getActors().forEach(function(e){n.removeViewProp(e)}),n.removeViewProp(t.widgetRep)),e.setEnabled(0),e.setInteractor(null)},e.getWidgetParams=function(r){var a=e.getWidgetRep(),i=n.getWidgetParams(r);return i.representation=a.getSerialData(),i.widgetState=t.widgetState,i.allowNodePicking=t.allowNodePicking,i.followCursor=t.followCursor,i.continuousDraw=t.continuousDraw,i.continuousActive=t.continuousActive,i},e.setWidgetParams=function(n){var r=e.getWidgetRep();return r.setSerialData(n.representation),t.widgetState=n.widgetState,t.allowNodePicking=n.allowNodePicking,t.followCursor=n.followCursor,t.continuousDraw=n.continuousDraw,t.continuousActive=n.continuousActive,r.buildRepresentation(),e.render(),n},e.callbackEndInteractionEvent=function(){if(!t.widgetRep.getPointPlacer().isA("vtkPolygonalSurfacePointPlacer")){var n=t.interactor.getView().getRenderable(),r=n.getVtkPVView();r&&r.updateRemoteWidgets(!1,[e])}},e.onEndInteractionEvent(e.callbackEndInteractionEvent)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),l.default.extend(e,t,n),s.default.setGet(e,t,["widgetState","allowNodePicking","followCursor","continuousDraw","continuousActive"]),a(e,t),e.createDefaultRepresentation()}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(153),l=r(u),c=n(520),d=r(c),f=n(521),m=r(f),g=n(97),p=r(g),v=n(154),h=d.default.WidgetState,y=s.default.vtkErrorMacro,A={widgetState:h.START,currentHandle:0,allowNodePicking:0,followCursor:0,continuousDraw:0,continuousActive:0},S=t.newInstance=s.default.newInstance(i,"vtkContourWidget");t.default=Object.assign({newInstance:S,extend:i},d.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.WidgetState={START:0,DEFINE:1,MANIPULATE:2};t.default={WidgetState:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("vtkOrientedGlyphContourRepresentation");var n=Object.assign({},e);e.setCursorShape=function(n){n!==t.cursorShape&&(t.cursorShape=n,t.cursorShape&&t.glypher.setSourceData(t.cursorShape),e.modified())},e.setActiveCursorShape=function(n){n!==t.activeCursorShape&&(t.activeCursorShape=n,t.activeCursorShape&&t.activeGlypher.setSourceData(t.activeCursorShape),e.modified())},e.setRenderer=function(e){n.setRenderer(e)},e.buildRepresentation=function(){e.updateContour(),t.alwaysOnTop?(t.linesMapper.setRelativeCoincidentTopologyLineOffsetParameters(0,-66e3),t.linesMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(0,-66e3),t.linesMapper.setRelativeCoincidentTopologyPointOffsetParameters(0,-66e3),t.mapper.setRelativeCoincidentTopologyLineOffsetParameters(0,-66e3),t.mapper.setRelativeCoincidentTopologyPolygonOffsetParameters(0,-66e3),t.mapper.setRelativeCoincidentTopologyPointOffsetParameters(0,-66e3),t.activeMapper.setRelativeCoincidentTopologyLineOffsetParameters(0,-66e3),t.activeMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(0,-66e3),t.activeMapper.setRelativeCoincidentTopologyPointOffsetParameters(0,-66e3)):(t.linesMapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.linesMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.linesMapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1),t.mapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.mapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.mapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1),t.activeMapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.activeMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.activeMapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1));var n=[0,0,0,0],r=t.renderer.getActiveCamera().getFocalPoint();r[3]=1,r=F.default.computeWorldToView(t.renderer,r[0],r[1],r[2]);var i=r[2],o=F.default.getAspectRatio(t.renderer);r[0]=-o[0],r[1]=-o[1],r=F.default.computeViewToWorld(t.renderer,r[0],r[1],r[2]),n[0]=o[0],n[1]=o[1],n[2]=i,n[3]=1,n=F.default.computeViewToWorld(t.renderer,n[0],n[1],n[2]);var s=Math.sqrt(U.default.distance2BetweenPoints(r,n)),u=t.renderer.getRenderWindow().getViews()[0].getSize(),l=t.renderer.getViewport(),c=u[0]*(l[2]-l[0]),d=u[1]*(l[3]-l[1]);s=1e3*s/Math.sqrt(c*c+d*d),t.glypher.setScaleFactor(s*t.handleSize),t.activeGlypher.setScaleFactor(s*t.handleSize);var f=e.getNumberOfNodes(),m=void 0;if(t.showSelectedNodes&&t.selectedNodesGlypher){for(t.selectedNodesGlypher.setScaleFactor(s*t.handleSize),t.focalPoint.reset(),t.focalPoint.setNumberOfPoints(0),t.focalData.getPointData().getNormals().setNumberOfTuples(0),t.selectedNodesPoints.reset(),t.selectedNodesPoints.setNumberOfPoints(0),t.selectedNodesData.getPointData().getNormals().setNumberOfTuples(0),m=0;m<f;m++)if(m!==t.activeNode){var g=e.getNthNodeWorldPosition(m),p=e.getNthNodeWorldOrientation(m);e.getNthNodeSelected(m)?(t.selectedNodesPoints.insertNextPoint(g),t.selectedNodesData.getPointData().getNormals().insertNextTuple([p[6],p[7],p[8]])):(t.focalPoint.insertNextPoint(g),t.focalData.getPointData().getNormals().insertNextTuple([p[6],p[7],p[8]]))}t.selectedNodesPoints.modified(),t.selectedNodesData.getPointData().getNormals().modified(),t.selectedNodesData.modified()}else{t.activeNode>=0&&t.activeNode<e.getNumberOfNodes()?(t.focalPoint.setNumberOfPoints(f-1),t.focalData.getPointData().getNormals().setNumberOfTuples(f-1)):(t.focalPoint.setNumberOfPoints(f),t.focalData.getPointData().getNormals().setNumberOfTuples(f));var v=0;for(m=0;m<f;m++)if(m!==t.activeNode){var h,y=e.getNthNodeWorldPosition(m),A=e.getNthNodeWorldOrientation(m);(h=t.focalPoint).setPoint.apply(h,[v].concat(a(y))),t.focalData.getPointData().getNormals().setTuple(v,[A[6],A[7],A[8]]),v++}}if(t.focalPoint.modified(),t.focalData.getPointData().getNormals().modified(),t.focalData.modified(),t.activeNode>=0&&t.activeNode<e.getNumberOfNodes()){var S,T=e.getNthNodeWorldPosition(t.activeNode),M=e.getNthNodeWorldOrientation(t.activeNode);(S=t.activeFocalPoint).setPoint.apply(S,[0].concat(a(T))),t.activeFocalData.getPointData().getNormals().setTuple(0,[M[6],M[7],M[8]]),t.activeFocalPoint.modified(),t.activeFocalData.getPointData().getNormals().modified(),t.activeFocalData.modified(),t.activeActor.setVisibility(1)}else t.activeActor.setVisibility(0)},e.startWidgetInteraction=function(n){t.startEventPosition=[n[0],n[1],0],t.lastEventPosition=[n[0],n[1]];var r=e.getNthNodeDisplayPosition(t.activeNode);t.interactionOffset[0]=r[0]-n[0],t.interactionOffset[1]=r[1]-n[1]},e.widgetInteraction=function(n){t.currentOperation===d.Operation.TRANSLATE&&e.translate(n),t.currentOperation===d.Operation.SHIFT&&e.shiftContour(n),t.currentOperation===d.Operation.SCALE&&e.scaleContour(n),t.lastEventPosition[0]=n[0],t.lastEventPosition[1]=n[1]},e.computeInteractionState=function(n,r,a){var i=[0,0,0,0];t.focalPoint.getPoint(0,i),i[3]=1,i=F.default.computeWorldToDisplay(t.renderer,i[0],i[1],i[2],i[3]);var o=[n,r,i[2]];e.setVisibility(1);var s=t.pixelTolerance*t.pixelTolerance;return U.default.distance2BetweenPoints(o,i)<=s?(t.interactionState=d.State.NEARBY,t.activeCursorShape||e.setVisibility(0)):(t.interactionState=d.State.OUTSIDE,t.cursorShape||e.setVisibility(0)),t.interactionState},e.getActors=function(){var e=t.actor.getActors(),n=t.activeActor.getActors(),r=t.linesActor.getActors(),a=[];return t.showSelectedNodes&&t.selectedNodesActor&&(a=t.selectedNodesActor.getActors()),[].concat(e,n,r,a)},e.releaseGraphicsResources=function(e){t.actor.releaseGraphicsResources(e),t.activeActor.releaseGraphicsResources(e),t.linesActor.releaseGraphicsResources(e)},e.renderOverlay=function(e){t.linesActor.renderOverlay(e),t.actor.getVisibility()&&t.actor.renderOverlay(e),t.activeActor.getVisibility()&&t.activeActor.renderOverlay(e)},e.renderOpaqueGeometry=function(n){e.buildRepresentation(),t.linesActor.renderOpaqueGeometry(n),t.actor.getVisibility()&&t.actor.renderOpaqueGeometry(n),t.activeActor.getVisibility()&&t.activeActor.renderOpaqueGeometry(n),t.showSelectedNodes&&t.selectedNodesActor&&t.selectedNodesActor.getVisibility()&&t.selectedNodesActor.renderOpaqueGeometry(n)},e.renderTranslucentPolygonalGeometry=function(e){t.linesActor.renderTranslucentPolygonalGeometry(e),t.actor.getVisibility()&&t.actor.renderTranslucentPolygonalGeometry(e),t.activeActor.getVisibility()&&t.activeActor.renderTranslucentPolygonalGeometry(e)},e.hasTranslucentPolygonalGeometry=function(){var e=0;return e+=t.linesActor.hasTranslucentPolygonalGeometry(),t.actor.getVisibility()&&(e+=t.actor.hasTranslucentPolygonalGeometry()),t.activeActor.getVisibility()&&(e+=t.activeActor.hasTranslucentPolygonalGeometry()),e},e.getContourRepresentationAsPolyData=function(){return t.lines},e.setLineColor=function(t,n,r){var a=e.getLinesProperty();a&&a.setColor(t,n,r)},e.setShowSelectedNodes=function(n){$(e.getClassName()+": setting ShowSelectedNodes to "+n),t.showSelectedNodes!==n&&(t.showSelectedNodes=n,e.modified(),t.showSelectedNodes?t.selectedNodesActor?t.selectedNodesActor.setVisibility(1):e.createSelectedNodesRepresentation():t.selectedNodesActor&&t.selectedNodesActor.setVisibility(0))},e.getBounds=function(){return t.lines.getPoints()?t.lines.getPoints().getBounds():null},e.createSelectedNodesRepresentation=function(){var e=Q.default.newInstance();e.setThetaResolution(12),e.setRadius(.3),t.selectedNodesCursorShape=e.getOutputData(),t.selectedNodesPoints=h.default.newInstance(),t.selectedNodesPoints.setNumberOfPoints(100);var n=b.default.newInstance({numberOfComponents:3,size:300,dataType:H.VtkDataTypes.FLOAT});n.setNumberOfTuples(1);var r=[0,0,0];n.setTuple(0,r),t.selectedNodesData=T.default.newInstance(),t.selectedNodesData.setPoints(t.selectedNodesPoints),t.selectedNodesData.getPointData().setNormals(n),t.selectedNodesGlypher=q.default.newInstance(),t.selectedNodesGlypher.setInputData(t.selectedNodesData),t.selectedNodesGlypher.setVectorModeToUseNormal(),t.selectedNodesGlypher.setOrient(1),t.selectedNodesGlypher.setScaling(1),t.selectedNodesGlypher.setScaleModeToDataScalingOff(),t.selectedNodesGlypher.setScaleFactor(1),t.selectedNodesGlypher.setSourceData(t.selectedNodesCursorShape),t.selectedNodesMapper=R.default.newInstance(),t.selectedNodesMapper.setInputData(t.selectedNodesGlypher.getOutputData()),t.selectedNodesMapper.setResolveCoincidentTopologyToPolygonOffset(),t.selectedNodesMapper.setScalarVisibility(0);var a=G.default.newInstance();a.setColor(0,1,0),a.setLineWidth(.5),a.setPointSize(3),t.selectedNodesActor=B.default.newInstance(),t.selectedNodesActor.setMapper(t.selectedNodesMapper),t.selectedNodesActor.setProperty(a)},e.translate=function(n){var r=e.getActiveNodeWorldPosition();if(r&&0!==r.length){var a=[0,0];a[0]=n[0]+t.interactionOffset[0],a[1]=n[1]+t.interactionOffset[1];var i=[0,0,0],o=[1,0,0,0,1,0,0,0,1];t.pointPlacer.computeWorldPositionWithRef(t.renderer,a,r,i,o)&&e.setActiveNodeToWorldPosition(i,o)}},e.scale=function(e){var n=t.glypher.getScaleFactor(),r=t.renderer.getRenderWindow().getViews()[0].getSize();n*=1+(e[1]-t.lastEventPosition[1])/r[1]*2,t.glypher.setScaleFactor(n),t.showSelectedNodes&&t.selectedNodesGlypher&&t.selectedNodesGlypher.setScaleFactor(n)},e.shiftContour=function(n){var r=e.getActiveNodeWorldPosition();if(r&&0!==r.length){var a=[0,0];a[0]=n[0]+t.interactionOffset[0],a[1]=n[1]+t.interactionOffset[1];var i=[0,0,0],o=[1,0,0,0,1,0,0,0,1];if(t.pointPlacer.computeWorldPositionWithRef(t.renderer,a,r,i,o)){e.setActiveNodeToWorldPosition(i,o);var s=[0,0,0];s[0]=i[0]-r[0],s[1]=i[1]-r[1],s[2]=i[2]-r[2];for(var u=0;u<t.getNumberOfNodes();u++)u!==t.activeNode&&(r=e.getNthNodeWorldPosition(u),i[0]=r[0]+s[0],i[1]=r[1]+s[1],i[2]=r[2]+s[2],e.setNthNodeWorldPosition(u,i,o))}}},e.scaleContour=function(n){var r=e.getActiveNodeWorldPosition();if(r&&0!==r.length){var a=[0,0,0];e.computeCentroid(a);var i=U.default.distance2BetweenPoints(r,a),o=[0,0];o[0]=n[0]+t.interactionOffset[0],o[1]=n[1]+t.interactionOffset[1];var s=[0,0,0],u=[1,0,0,0,1,0,0,0,1];if(t.pointPlacer.computeWorldPositionWithRef(t.renderer,o,r,s,u)){var l=U.default.distance2BetweenPoints(s,a);if(0!==l)for(var c=Math.sqrt(l/i),d=0;d<t.getNumberOfNodes();d++)r=e.getNthNodeWorldPosition(d),s[0]=a[0]+c*(r[0]-a[0]),s[1]=a[0]+c*(r[1]-a[1]),s[2]=a[0]+c*(r[2]-a[2]),e.setNthNodeWorldPosition(d,s,u)}}},e.computeCentroid=function(t){var n=[0,0,0];t[0]=0,t[1]=0,t[2]=0;for(var r=0;r<e.getNumberOfNodes();r++)n=e.getNthNodeWorldPosition(r),t[0]+=n[0],t[1]+=n[1],t[2]+=n[2];var a=1/e.getNumberOfNodes();t[0]*=a,t[1]*=a,t[2]*=a},e.createDefaultProperties=function(){t.property=G.default.newInstance(),t.property.setColor(1,1,1),t.property.setLineWidth(.5),t.property.setPointSize(3),t.activeProperty=G.default.newInstance(),t.activeProperty.setColor(0,1,0),t.activeProperty.setRepresentationToWireframe(),t.activeProperty.setAmbient(1),t.activeProperty.setDiffuse(0),t.activeProperty.setSpecular(0),t.activeProperty.setLineWidth(1),t.linesProperty=G.default.newInstance(),t.linesProperty.setAmbient(1),t.linesProperty.setDiffuse(0),t.linesProperty.setSpecular(0),t.linesProperty.setColor(1,1,1),t.linesProperty.setLineWidth(1)},e.buildLines=function(){for(var n=h.default.newInstance(),r=A.default.newInstance(),i=0,o=0,s=e.getNumberOfNodes(),u=0;u<e.getNumberOfNodes();u++)s+=e.getNumberOfIntermediatePoints(u);if(n.setNumberOfPoints(s),(o=t.closedLoop&&s>0?s+1:s)>0){for(var l=new Array(o),c=void 0,d=0;d<e.getNumberOfNodes();d++){c=e.getNthNodeWorldPosition(d),n.setPoint.apply(n,[i].concat(a(c))),l[i]=i,i++;for(var f=e.getNumberOfIntermediatePoints(d),m=0;m<f;m++)c=[],e.getIntermediatePointWorldPosition(d,m,c),n.setPoint.apply(n,[i].concat(a(c))),l[i]=i,i++}t.closedLoop&&(l[i]=0),l.unshift(o);var g=new Int32Array(l);r.setData(g)}t.lines.setPoints(n),t.lines.setLines(r)},e.getNestedProps=function(){return e.buildRepresentation(),e.getActors()},e.setSufaceCuttingPointPlacerAndLineInterpolator=function(n){if(n){if(!t.pointPlacer||!t.pointPlacer.isA("vtkPolygonalSurfacePointPlacer")){var r=R.default.newInstance();r.setInputData(n);var a=B.default.newInstance();a.setMapper(r);var i=K.default.newInstance();i.addProp(a),i.getPolys().push(n),e.setPointPlacer(i)}if(!t.lineInterpolator||!t.lineInterpolator.isA("vtkPolygonalSurfaceContourLineInterpolator")){var o=J.default.newInstance();o.getPolys().push(n),e.setLineInterpolator(o)}e.modified()}},e.getSerialData=function(){var e={};return e.visibility=t.visibility,e.pickable=t.pickable,e.dragable=t.dragable,e.useBounds=t.useBounds,e.needToRender=t.needToRender,e.placeFactor=t.placeFactor,e.pixelTolerance=t.pixelTolerance,e.worldTolerance=t.worldTolerance,e.currentOperation=t.currentOperation,e.closedLoop=t.closedLoop,e.showSelectedNodes=t.showSelectedNodes,e.alwaysOnTop=t.alwaysOnTop,e.nodes=t.internal.nodes,e.pointPlacer={},e.pointPlacer.pixelTolerance=t.pointPlacer.getPixelTolerance(),e.pointPlacer.worldTolerance=t.pointPlacer.getWorldTolerance(),e.pointPlacer.nodes=[],t.pointPlacer.isA("vtkPolygonalSurfacePointPlacer")?(t.pointPlacer.get("internals").internals.nodes.forEach(function(t){var n={};n.worldPosition=t.worldPosition,n.surfaceWorldPosition=t.surfaceWorldPosition,n.parametricCoords=t.parametricCoords,n.pointId=t.pointId,n.cellId=t.cellId,e.pointPlacer.nodes.push(n)}),e):e},e.setSerialData=function(n){t.visibility=n.visibility,t.pickable=n.pickable,t.dragable=n.dragable,t.useBounds=n.useBounds,t.needToRender=n.needToRender,t.placeFactor=n.placeFactor,t.pixelTolerance=n.pixelTolerance,t.worldTolerance=n.worldTolerance,t.currentOperation=n.currentOperation,t.closedLoop=n.closedLoop,t.showSelectedNodes=n.showSelectedNodes,t.alwaysOnTop=n.alwaysOnTop,t.linesProperty.set(n.linesProperty),e.initNodesData(n.nodes),e.buildLines(),e.buildLocator(),e.modified()}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ee,n),c.default.extend(e,t,n),u.default.setGet(e,t,["alwaysOnTop"]),u.default.get(e,t,["cursorShape","activeCursorShape","property","activeProperty","linesProperty"]),i(e,t),t.interactionState=d.State.OUTSIDE,t.handleSize=.01,t.pointPlacer=m.default.newInstance(),t.pointPlacer.setOffset(-.001),t.lineInterpolator=p.default.newInstance(),t.focalPoint=h.default.newInstance(),t.focalPoint.setNumberOfPoints(100),t.focalPoint.setNumberOfPoints(1),t.focalPoint.setPoint(0,0,0,0);var r=b.default.newInstance({numberOfComponents:3,values:Float32Array.from([0,0,0]),name:"Normals"});t.focalData=T.default.newInstance(),t.focalData.setPoints(t.focalPoint),t.focalData.getPointData().setNormals(r),t.activeFocalPoint=h.default.newInstance(),t.activeFocalPoint.setNumberOfPoints(100),t.activeFocalPoint.setNumberOfPoints(1),t.activeFocalPoint.setPoint(0,0,0,0);var a=b.default.newInstance({numberOfComponents:3,values:Float32Array.from([0,0,0]),name:"Normals"});t.activeFocalData=T.default.newInstance(),t.activeFocalData.setPoints(t.activeFocalPoint),t.activeFocalData.getPointData().setNormals(a),t.glypher=q.default.newInstance(),t.glypher.setInputData(t.focalData),t.glypher.setVectorModeToUseNormal(),t.glypher.setOrient(1),t.glypher.setScaling(1),t.glypher.setScaleModeToDataScalingOff(),t.glypher.setScaleFactor(1),t.activeGlypher=q.default.newInstance(),t.activeGlypher.setInputData(t.activeFocalData),t.activeGlypher.setVectorModeToUseNormal(),t.activeGlypher.setOrient(1),t.activeGlypher.setScaling(1),t.activeGlypher.setScaleModeToDataScalingOff(),t.activeGlypher.setScaleFactor(1);var o=I.default.newInstance();o.allOff(),o.setPoint(1),o.update(),e.setCursorShape(o.getOutputData());var s=C.default.newInstance();s.setResolution(64),s.setRadius(.5),s.setHeight(0),s.setCapping(0),s.setCenter(0,0,0);var l=P.default.newInstance();l.setPointMerging(1),l.createDefaultLocator(),l.setInputConnection(s.getOutputPort());var f=E.default.newInstance();f.rotateZ(90);var g=L.default.newInstance();g.setInputConnection(l.getOutputPort()),g.setTransform(f),g.update(),e.setActiveCursorShape(g.getOutputData()),t.glypher.setSourceData(t.cursorShape),t.activeGlypher.setSourceData(t.activeCursorShape),t.mapper=R.default.newInstance(),t.mapper.setInputConnection(t.glypher.getOutputPort()),t.mapper.setResolveCoincidentTopologyToPolygonOffset(),t.mapper.setScalarVisibility(0),t.mapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.mapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.mapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1),t.activeMapper=R.default.newInstance(),t.activeMapper.setInputConnection(t.activeGlypher.getOutputPort()),t.activeMapper.setScalarVisibility(0),t.activeMapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.activeMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.activeMapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1),e.createDefaultProperties(),t.actor=B.default.newInstance(),t.actor.setMapper(t.mapper),t.actor.setProperty(t.property),t.activeActor=B.default.newInstance(),t.activeActor.setMapper(t.activeMapper),t.activeActor.setProperty(t.activeProperty),t.lines=T.default.newInstance(),t.linesMapper=R.default.newInstance(),t.linesMapper.setInputData(t.lines),t.linesMapper.setResolveCoincidentTopologyToPolygonOffset(),t.linesMapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.linesMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.linesMapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1),t.linesActor=B.default.newInstance(),t.linesActor.setMapper(t.linesMapper),t.linesActor.setProperty(t.linesProperty)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(522),c=r(l),d=n(154),f=n(268),m=r(f),g=n(525),p=r(g),v=n(6),h=r(v),y=n(11),A=r(y),S=n(4),T=r(S),M=n(2),b=r(M),D=n(526),I=r(D),w=n(527),C=r(w),N=n(528),P=r(N),x=n(96),E=r(x),O=n(156),L=r(O),_=n(20),R=r(_),k=n(24),B=r(k),V=n(21),F=r(V),j=n(1),U=r(j),z=n(30),G=r(z),W=n(97),Q=r(W),Y=n(530),q=r(Y),H=n(5),Z=n(273),K=r(Z),X=n(274),J=r(X),$=u.default.vtkDebugMacro,ee={actor:null,mapper:null,glypher:null,activeActor:null,activeMapper:null,activeGlypher:null,cursorShape:null,activeCursorShape:null,focalData:null,focalPoint:null,activeFocalData:null,activeFocalPoint:null,selectedNodesData:null,selectedNodesPoints:null,selectedNodesActor:null,selectedNodesMapper:null,selectedNodesGlypher:null,selectedNodesCursorShape:null,lines:null,linesMapper:null,linesActor:null,property:null,activeProperty:null,linesProperty:null,lastPickPosition:[0,0,0],lastEventPosition:[0,0],interactionOffset:[0,0],alwaysOnTop:0},te=t.newInstance=u.default.newInstance(o,"vtkOrientedGlyphContourRepresentation");t.default={newInstance:te,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){return{worldPosition:[0,0,0],normalizedDisplayPosition:[0,0],pointId:-1}}function o(){return{worldPosition:[0,0,0],worldOrientation:[0,0,0,0,0,0,0,0,0],normalizedDisplayPosition:[0,0],selected:0,points:[],pointId:-1}}function s(){var e={};return e.nodes=[],e.clearNodes=function(){e.nodes.length=0},e}function u(e,t){t.classHierarchy.push("vtkContourRepresentation"),e.setPixelTolerance=function(n){return t.pixelTolerance!==n&&(t.pixelTolerance=T.default.clampValue(n,1,100),e.modified(),!0)},e.setWorldTolerance=function(n){return t.worldTolerance!==n&&(t.worldTolerance=T.default.clampValue(n,0,Number.MAX_VALUE),e.modified(),!0)},e.resetLocator=function(){t.locator=A.default.newInstance(),t.locator.setBuildCubicOctree(1),t.rebuildLocator=1},e.addNodeAtWorldPosition=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=Array.isArray(r[0])?r[0]:r;if(!t.pointPlacer.validateWorldPosition(i))return 0;var o=[1,0,0,0,1,0,0,0,1],s=[0,0];return e.getRendererComputedDisplayPositionFromWorldPosition(i,o,s),e.addNodeAtPositionInternal(i,o,s),1},e.addNodeAtWorldPositionWithOrient=function(n,r){if(!t.pointPlacer.validateWorldPosition(n,r))return 0;var a=[0,0];return e.getRendererComputedDisplayPositionFromWorldPosition(n,r,a),e.addNodeAtPositionInternal(n,r,a),1},e.addNodeAtDisplayPosition=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=Array.isArray(r[0])?r[0]:r,o=[],s=[1,0,0,0,1,0,0,0,1];return t.pointPlacer.computeWorldPosition(t.renderer,i,o,s)?(e.addNodeAtPositionInternal(o,s,i),1):0},e.sizeHandlesInPixels=function(e,n,r){var a=t.renderer;if(!a||!a.getActiveCamera())return n*e;var i=p.default.computeWorldToDisplay(a,r[0],r[1],r[2]),o=i[2],s=i[0]-n/2,u=i[1]-n/2,l=p.default.computeDisplayToWorld(a,s,u,o);s=i[0]+n/2,u=i[1]+n/2;for(var c=p.default.computeDisplayToWorld(a,s,u,o),d=0,f=0;f<3;f++)d+=(c[f]-l[f])*(c[f]-l[f]);return e*(Math.sqrt(d)/2)},e.activateNode=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=Array.isArray(r[0])?r[0]:r;e.buildLocator();var o=[i[0],i[1],0],s=[Number.MAX_VALUE],u=t.pixelTolerance,l=t.locator.findClosestPointWithinRadius(u,o,s);return l!==t.activeNode&&(t.activeNode=l,t.needToRender=1),t.activeNode>=0},e.setActiveNodeToWorldPosition=function(n){if(t.activeNode<0||t.activeNode>=t.internal.nodes.length)return 0;if(!t.pointPlacer.validateWorldPosition(n))return 0;var r=[1,0,0,0,1,0,0,0,1];return e.setNthNodeWorldPositionInternal(t.activeNode,n,r),1},e.setActiveNodeToWorldPositionWithOrient=function(n,r){return t.activeNode<0||t.activeNode>=t.internal.nodes.length?0:t.pointPlacer.validateWorldPosition(n,r)?(e.setNthNodeWorldPositionInternal(t.activeNode,n,r),1):0},e.setActiveNodeToDisplayPosition=function(n){if(t.activeNode<0||t.activeNode>=t.internal.nodes.length)return 0;var r=[0,0,0],a=[1,0,0,0,1,0,0,0,1];return t.pointPlacer.computeWorldPosition(t.renderer,n,r,a)?(e.setNthNodeWorldPositionInternal(t.activeNode,r,a),1):0},e.setActiveNodeToDisplayPositionXY=function(t,n){return e.setActiveNodeToDisplayPosition([t,n])},e.toggleActiveNodeSelected=function(){return t.activeNode<0||t.activeNode>=t.internal.nodes.length?0:(t.internal.nodes[t.activeNode].selected=t.internal.nodes[t.activeNode].selected?0:1,t.needToRender=1,e.modified(),1)},e.getActiveNodeSelected=function(){return e.getNthNodeSelected(t.activeNode)},e.getNthNodeSelected=function(e){return e<0||e>=t.internal.nodes.length?0:t.internal.nodes[e].selected},e.setNthNodeSelected=function(n){if(n<0||n>=t.internal.nodes.length)return 0;var r=n>0?1:0;return t.internal.nodes[n].selected!==r&&(t.internal.nodes[n].selected=r,t.needToRender=1,e.modified()),1},e.getActiveNodeWorldPosition=function(){return e.getNthNodeWorldPosition(t.activeNode)},e.getActiveNodeWorldOrientation=function(){return e.getNthNodeWorldOrientation(t.activeNode)},e.getActiveNodeDisplayPosition=function(){return e.getNthNodeDisplayPosition(t.activeNode)},e.getNumberOfNodes=function(){return t.internal.nodes.length},e.getNthNodeDisplayPosition=function(e){var n=[];if(e<0||e>=t.internal.nodes.length)return n;var r=[];return r[0]=t.internal.nodes[e].worldPosition[0],r[1]=t.internal.nodes[e].worldPosition[1],r[2]=t.internal.nodes[e].worldPosition[2],r[3]=1,r=p.default.computeWorldToDisplay(t.renderer,r[0],r[1],r[2]),n[0]=r[0],n[1]=r[1],n},e.getNthNodeWorldPosition=function(t){var n=[],r=e.getNthNode(t);return r?(n[0]=r.worldPosition[0],n[1]=r.worldPosition[1],n[2]=r.worldPosition[2],n):n},e.getNthNode=function(e){return e<0||e>=t.internal.nodes.length?0:t.internal.nodes[e]},e.getNthNodeWorldOrientation=function(e){return e<0||e>=t.internal.nodes.length?[]:t.internal.nodes[e].worldOrientation},e.setNthNodeDisplayPosition=function(n,r){var a=[],i=[1,0,0,0,1,0,0,0,1];return t.pointPlacer.computeWorldPosition(t.renderer,r,a,i)?e.setNthNodeWorldPosition(n,a,i):0},e.setNthNodeDisplayPosition=function(t,n,r){return e.setNthNodeDisplayPosition(t,[n,r])},e.setNthNodeWorldPositionWithOrient=function(n,r,a){return n<0||n>=t.internal.nodes.length?0:t.pointPlacer.validateWorldPosition(r,a)?(e.setNthNodeWorldPositionInternal(n,r,a),1):0},e.setNthNodeWorldPosition=function(n,r){if(n<0||n>=t.internal.nodes.length)return 0;if(!t.pointPlacer.validateWorldPosition(r))return 0;var a=[1,0,0,0,1,0,0,0,1];return e.setNthNodeWorldPositionInternal(n,r,a),1},e.getNthNodeSlope=function(n){var r=[];if(n<0||n>=t.internal.nodes.length)return r;var a=0,i=0;return 0!==n||t.closedLoop?n!==e.getNumberOfNodes()-1||t.closedLoop?(a=n-1,i=n+1,a<0&&(a+=e.getNumberOfNodes()),i>=e.getNumberOfNodes()&&(i-=e.getNumberOfNodes())):(a=e.getNumberOfNodes()-2,i=a+1):(a=0,i=1),r[0]=t.internal.nodes[i].worldPosition[0]-t.internal.nodes[a].worldPosition[0],r[1]=t.internal.nodes[i].worldPosition[1]-t.internal.nodes[a].worldPosition[1],r[2]=t.internal.nodes[i].worldPosition[2]-t.internal.nodes[a].worldPosition[2],T.default.normalize(r),r},e.getNumberOfIntermediatePoints=function(e){return e<0||e>=t.internal.nodes.length?0:t.internal.nodes[e].points.length},e.getIntermediatePointWorldPosition=function(e,n,r){return e<0||e>=t.internal.nodes.length?0:n<0||n>=t.internal.nodes[e].points.length?0:(r[0]=t.internal.nodes[e].points[n].worldPosition[0],r[1]=t.internal.nodes[e].points[n].worldPosition[1],r[2]=t.internal.nodes[e].points[n].worldPosition[2],1)},e.addIntermediatePointWorldPosition=function(n,r,o){if(n<0||n>=t.internal.nodes.length)return 0;var s=i();s.worldPosition[0]=r[0],s.worldPosition[1]=r[1],s.worldPosition[2]=r[2],s.pointId=o;var u=[1,0,0,0,1,0,0,0,1];return e.getRendererComputedDisplayPositionFromWorldPosition(r,u,s.normalizedDisplayPosition),s.normalizedDisplayPosition=p.default.computeDisplayToNormalizedDisplay.apply(p.default,[t.renderer].concat(a(s.normalizedDisplayPosition))),s.normalizedDisplayPosition.length=2,t.internal.nodes[n].points.push(s),1},e.deleteLastNode=function(){return e.deleteNthNode(t.internal.nodes.length-1)},e.deleteActiveNode=function(){return e.deleteNthNode(t.activeNode)},e.deleteNthNode=function(n){return n<0||n>=t.internal.nodes.length?0:(t.internal.nodes.splice(n,1),n?e.updateLines(n-1):e.updateLines(e.getNumberOfNodes()-1),t.needToRender=1,1)},e.clearAllNodes=function(){e.resetLocator(),t.internal.clearNodes(),e.buildLines(),e.buildLocator(),t.needToRender=1,e.modified()},e.addNodeOnContour=function(n,r){var i=[0],s=[],u=[1,0,0,0,1,0,0,0,1],l=[n,r];if(!t.pointPlacer.computeWorldPosition(t.renderer,l,s,u))return 0;var c=[];if(!e.findClosestPointOnContour(n,r,c,i))return 0;if(!t.pointPlacer.computeWorldPositionWithRef(t.renderer,l,c,s,u))return 0;var d=o();return d.worldPosition[0]=s[0],d.worldPosition[1]=s[1],d.worldPosition[2]=s[2],d.selected=0,d.normalizedDisplayPosition=e.getRendererComputedDisplayPositionFromWorldPosition(s),d.normalizedDisplayPosition=p.default.computeDisplayToNormalizedDisplay.apply(p.default,[t.renderer].concat(a(d.normalizedDisplayPosition))),d.normalizedDisplayPosition.length=2,d.worldOrientation=u,t.internal.nodes.splice(i[0],0,d),e.updateLines(i[0]),t.needToRender=1,1},e.setClosedLoop=function(n){t.closedLoop!==n&&(t.closedLoop=n,e.updateLines(e.getNumberOfNodes()-1),t.needToRender=1,e.modified())},e.setShowSelectedNodes=function(n){t.showSelectedNodes!==n&&(t.showSelectedNodes=n,e.modified())},e.setNthNodeWorldPositionInternal=function(n,r,i){t.internal.nodes[n].worldPosition[0]=r[0],t.internal.nodes[n].worldPosition[1]=r[1],t.internal.nodes[n].worldPosition[2]=r[2];var o=t.internal.nodes[n];o.normalizedDisplayPosition=e.getRendererComputedDisplayPositionFromWorldPosition(r,i),o.normalizedDisplayPosition.length=2,o.worldOrientation=p.default.computeDisplayToNormalizedDisplay.apply(p.default,[t.renderer].concat(a(o.normalizedDisplayPosition))),e.updateLines(n),t.needToRender=1},e.getRendererComputedDisplayPositionFromWorldPosition=function(e,n){return p.default.computeWorldToDisplay(t.renderer,e[0],e[1],e[2])},e.updateLines=function(n){var r=[0,0];if(t.lineInterpolator){var a=b.default.newInstance({numberOfComponents:1,values:new Int32Array});t.lineInterpolator.getSpan(n,a,e);for(var i=a.getNumberOfTuples(),o=0;o<i;o++)r=a.getTuple(o),e.updateLine(r[0],r[1])}if(!t.closedLoop&&e.getNumberOfNodes()>0){var s=t.internal.nodes.length-1;t.internal.nodes[s].points.length=0}e.buildLines(),t.rebuildLocator=1},e.updateLine=function(n,r){t.lineInterpolator&&(t.internal.nodes[n].points.length=0,t.lineInterpolator.interpolateLine(t.renderer,e,n,r))},e.computeInteractionState=function(){return t.interactionState},e.updateContour=function(){if(t.pointPlacer.updateInternalState(),t.locator.getMTime()<t.renderer.getActiveCamera().getMTime()&&(t.rebuildLocator=1),t.contourBuildTime.getMTime()>t.pointPlacer.getMTime())return 0;var n=0;for(n=0;n<t.internal.nodes.length;n++)t.pointPlacer.updateWorldPosition(t.renderer,t.internal.nodes[n].worldPosition,t.internal.nodes[n].worldOrientation);for(n=0;n+1<t.internal.nodes.length;n++)e.updateLine(n,n+1);return t.closedLoop&&e.updateLine(t.internal.nodes.length-1,0),e.buildLines(),t.rebuildLocator=1,t.contourBuildTime.modified(),1},e.initialize=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.initializeContour(t,n)},e.initializeContour=function(n,r){var i=n.getPoints(),s=i.getNumberOfPoints();if(!(s<=0)){t.internal.nodes=[],t.locator.setDataSet(n);var u=n.getCell(0).getPointIds(),l=[0,0,0],c=[0,0],d=[0,0,0],f=[1,0,0,0,1,0,0,0,1];t.pointPlacer.computeWorldPositionWithRef(t.renderer,c,l,d,f);for(var m=[],g=0;g<s;g++){m=i.getPoint(g),c=e.getRendererComputedDisplayPositionFromWorldPosition(m,f);var v=o();v.worldPosition=m.concat(),v.selected=0,r&&r.getNumberOfIds()===s&&t.pointPlacer.updateNodeWorldPosition(m,r.getId(g)),v.normalizedDisplayPosition[0]=c[0],v.normalizedDisplayPosition[1]=c[1],v.normalizedDisplayPosition=p.default.computeDisplayToNormalizedDisplay.apply(p.default,[t.renderer].concat(a(v.normalizedDisplayPosition))),v.normalizedDisplayPosition.length=2,v.worldOrientation=f,t.internal.nodes.push(v),t.lineInterpolator&&t.getNumberOfNodes()>1&&t.lineInterpolator.updateNode(t.renderer,e,v.worldPosition,e.getNumberOfNodes()-1)&&!t.pointPlacer.validateWorldPosition(v.worldPosition,f)&&(v.worldPosition=d.concat())}u.getNumberOfIds()>s&&(t.closedLoop=1);for(var h=1;h<=s;++h)e.updateLines(h);e.buildRepresentation(),t.visibility=1}},e.buildLocator=function(){if(t.rebuildLocator||t.needToRender){var e=t.internal.nodes.length,n=P.default.newInstance();n.setNumberOfPoints(e);var r=t.renderer.getActiveCamera().getCompositeProjectionMatrix(p.default.getTiledAspectRatio(t.renderer),0,1),a=[0,0];if(t.renderer.getRenderWindow()){var i=t.renderer.getViewport(),o=t.renderer.getRenderWindow().getViews()[0].getSize(),s=o[0],u=o[1];a[0]=s*(i[2]-i[0])/2+s*i[0],a[1]=u*(i[3]-i[1])/2+u*i[1];for(var l=[0,0,0,0],c=[0,0,0],d=null,f=0;f<e;++f)d=t.internal.nodes[f].worldPosition,c[0]=t.internal.nodes[f].worldPosition[0],c[1]=t.internal.nodes[f].worldPosition[1],c[2]=t.internal.nodes[f].worldPosition[2],l[0]=d[0]*r[0]+d[1]*r[1]+d[2]*r[2]+r[3],l[1]=d[0]*r[4]+d[1]*r[5]+d[2]*r[6]+r[7],l[2]=d[0]*r[8]+d[1]*r[9]+d[2]*r[10]+r[11],l[3]=d[0]*r[12]+d[1]*r[13]+d[2]*r[14]+r[15],0!==l[3]&&(c[0]=l[0]/l[3],c[1]=l[1]/l[3]),c[0]=(c[0]+1)*a[0],c[1]=(c[1]+1)*a[1],c[2]=0,n.setPoint(f,c[0],c[1],c[2]);var m=C.default.newInstance();m.setPoints(n),t.locator.setDataSet(m),t.rebuildLocator=0}}},e.findClosestPointOnContour=function(n,r,a,i){var o=[0,0,0,0],s=[0,0,0,0],u=[],l=[],c=[n,r,0,0],d=[0,0,0,0];o=p.default.computeDisplayToWorld(t.renderer,c[0],c[1],c[2]),c[2]=1,s=p.default.computeDisplayToWorld(t.renderer,c[0],c[1],c[2]);var f=Number.MAX_VALUE,m=0,g=t.renderer.getActiveCamera().getFocalPoint();g[3]=1,c=p.default.computeWorldToDisplay(t.renderer,g[0],g[1],g[2]),c[0]=0,c[1]=0,d=p.default.computeDisplayToWorld(t.renderer,c[0],c[1],c[2]),c[0]=t.pixelTolerance,c=p.default.computeDisplayToWorld(t.renderer,c[0],c[1],c[2]);for(var v=T.default.distance2BetweenPoints(c,d),h=0;h<t.internal.nodes.length;h++)for(var y=0;y<=t.internal.nodes[h].points.length;y++){if(0===y)u=t.internal.nodes[h].worldPosition,t.internal.nodes[h].points.length?l=t.internal.nodes[h].points[y].worldPosition:h<t.internal.nodes.length-1?l=t.internal.nodes[h+1].worldPosition:t.closedLoop&&(l=t.internal.nodes[0].worldPosition);else if(y===t.internal.nodes[h].points.length)if(u=t.internal.nodes[h].points[y-1].worldPosition,h<t.internal.nodes.length-1)l=t.internal.nodes[h+1].worldPosition;else{if(!t.closedLoop)continue;l=t.internal.nodes[0].worldPosition}else u=t.internal.nodes[h].points[y-1].worldPosition,l=t.internal.nodes[h].points[y].worldPosition;var A=[],S=[];if(E.default.intersection(o,s,u,l,A,S)){var M=[0,0,0],b=[0,0,0];M[0]=o[0]+A*(s[0]-o[0]),M[1]=o[1]+A*(s[1]-o[1]),M[2]=o[2]+A*(s[2]-o[2]),b[0]=u[0]+S*(l[0]-u[0]),b[1]=u[1]+S*(l[1]-u[1]),b[2]=u[2]+S*(l[2]-u[2]);var D=T.default.distance2BetweenPoints(M,b);D<v&&D<f&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],f=D,m=h)}else{var I=E.default.distanceToLine(u,o,s);I<v&&I<f&&(a[0]=u[0],a[1]=u[1],a[2]=u[2],f=I,m=h),(I=E.default.distanceToLine(l,o,s))<v&&I<f&&(a[0]=l[0],a[1]=l[1],a[2]=l[2],f=I,m=h)}}if(f<Number.MAX_VALUE){if(m<e.getNumberOfNodes()-1)return i[0]=m+1,1;if(t.closedLoop)return i[0]=0,1}return 0},e.setCurrentOperationToInactive=function(){e.setCurrentOperation(O.INACTIVE)},e.setCurrentOperationToTranslate=function(){e.setCurrentOperation(O.TRANSLATE)},e.setCurrentOperationToShift=function(){e.setCurrentOperation(O.SHIFT)},e.setCurrentOperationToScale=function(){e.setCurrentOperation(O.SCALE)},e.getNodePolyData=function(n){n.reset();var r=e.getNumberOfNodes();if(0!==r){var a=P.default.newInstance(),i=I.default.newInstance();a.setNumberOfPoints(r);var o=r;t.closedLoop&&o++;for(var s=Array(o),u=0,l=0;l<e.getNumberOfNodes();l++){var c=e.getNthNodeWorldPosition(l);a.setPoint(u,c[0],c[1],c[2]),s[u]=u,u++}t.closedLoop&&(s[u]=0),s.unshift(o);var d=new Int32Array(s);i.setData(d),n.setPoints(a),n.setLines(i)}},e.addNodeAtPositionInternal=function(n,r,a){var i=o();i.worldPosition[0]=n[0],i.worldPosition[1]=n[1],i.worldPosition[2]=n[2],i.selected=0,i.normalizedDisplayPosition[0]=a[0],i.normalizedDisplayPosition[1]=a[1],i.normalizedDisplayPosition=p.default.computeDisplayToNormalizedDisplay(t.renderer,i.normalizedDisplayPosition[0],i.normalizedDisplayPosition[1]),i.normalizedDisplayPosition.length=2,i.worldOrientation=r.concat(),t.internal.nodes.push(i),t.lineInterpolator&&e.getNumberOfNodes()>1&&t.lineInterpolator.updateNode(t.renderer,e,i.worldPosition,e.getNumberOfNodes()-1)&&!t.pointPlacer.validateWorldPosition(i.worldPosition,r)&&(i.WorldPosition[0]=n[0],i.WorldPosition[1]=n[1],i.WorldPosition[2]=n[2]),e.updateLines(t.internal.nodes.length-1),t.needToRender=1},e.computeMidpoint=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2,(e[2]+t[2])/2]},e.initNodesData=function(n){n&&(t.internal.clearNodes(),n.forEach(function(e){t.internal.nodes.push(e)}),e.modified())}}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,L,n),h.default.extend(e,t,n),d.default.setGet(e,t,["pixelTolerance","worldTolerance","currentOperation","closedLoop","showSelectedNodes","pointPlacer","lineInterpolator"]),d.default.set(e,t,["rebuildLocator"]),t.internal=s(),t.contourBuildTime={},d.default.obj(t.contourBuildTime,{mtime:0}),t.needToRender=0,u(e,t),e.resetLocator()}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=l;var c=n(0),d=r(c),f=n(154),m=r(f),g=n(21),p=r(g),v=n(155),h=r(v),y=n(523),A=r(y),S=n(1),T=r(S),M=n(2),b=r(M),D=n(11),I=r(D),w=n(4),C=r(w),N=n(6),P=r(N),x=n(123),E=r(x),O=m.default.Operation,L={pixelTolerance:7,worldTolerance:.001,pointPlacer:null,lineInterpolator:null,activeNode:-1,currentOperation:O.INACTIVE,closedLoop:0,showSelectedNodes:0,internal:null,contourBuildTime:null,locator:null,rebuildLocator:0},_=t.newInstance=d.default.newInstance(l,"vtkContourRepresentation");t.default={newInstance:_,extend:l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){var r=0,a=[],i=[],o=[],s=t.getNextTupleId(),u=e.getBounds();for(r=0;r<8;r++)a[0]=u[1&r],a[1]=u[2&r],a[2]=u[4&r],i[r]=s+r,t.setPoint(s+r,a[0],a[1],a[2]);s+=8,t.setNextTupleId(s);var l=n.getNextValueId();for(r=0;r<6;r++)o[0]=i[w[r][0]],o[1]=i[w[r][1]],o[2]=i[w[r][2]],o[3]=i[w[r][3]],n.setCell(l,o),l+=5;n.setNextValueId(l)}function i(e){if(!e.isLeaf()){for(var t=0;t<8;t++)i(e.getChild(t));e.deleteChildNodes()}}function o(e){var t={};t.numberPoints=0,t.numRequested=e,t.largestDist2=Number.MAX_VALUE,t.dist2ToIds=new Map,t.insertPoint=function(e,n){if(e<=t.largestDist2||t.numberPoints<t.numRequested){t.numberPoints++;var r=t.dist2ToIds.get(e);if(r?r.push(n):t.dist2ToIds.set(e,[n]),t.numberPoints>t.numRequested){var a=[];t.dist2ToIds.forEach(function(e,t,n){a.push(t)});var i=a[a.length-1];r=t.dist2ToIds[i],t.numberPoints-r.length>t.numRequested&&(t.numberPoints-=r.length,t.dist2ToIds.delete(i),t.largestDist2=a[a.length-2])}}},t.getSortedIds=function(e){e.reset();var n=t.numRequested<t.numberPoints?t.numRequested:t.numberPoints;e.setNumberOfIds(n);var r=0;t.dist2ToIds.forEach(function(t,a,i){for(var o=0;o<t.length;o++){if(r>=n)return!0;e.insertId(r,t[o]),r++}return!1})},t.getLargestDist2=function(){return t.largestDist2}}function s(e,t){t.classHierarchy.push("vtkIncrementalOctreePointLocator"),e.setMaxPointsPerLeaf=function(n){return t.maxPointsPerLeaf!==n&&(t.maxPointsPerLeaf=S.default.clampValue(n,16,256),e.modified(),!0)},e.initialize=function(){e.freeSearchStructure()},e.freeSearchStructure=function(){t.octreeRootNode&&(i(t.octreeRootNode),t.octreeRootNode=null),t.locatorPoints&&(t.locatorPoints=null)},e.getBounds=function(){var e=[];if(t.octreeRootNode){var n=t.octreeRootNode.getMinBounds(),r=t.octreeRootNode.getMaxBounds();e[0]=n[0],e[1]=r[0],e[2]=n[1],e[3]=r[1],e[4]=n[2],e[5]=r[2]}return e},e.getNumberOfPoints=function(){return t.octreeRootNode?t.octreeRootNode.getNumberOfPoints():0},e.findClosestInsertedPoint=function(n){if(!t.octreeRootNode||!t.octreeRootNode.getNumberOfPoints()||!t.octreeRootNode.containsPoint(n))return-1;var r=[t.octreeMaxDimSize*t.octreeMaxDimSize*4],a=[0],i=0,o=e.getLeafContainer(t.octreeRootNode,n),s=e.findClosestPointInLeafNode(o,n,r);return r[0]>0&&o.getDistance2ToInnerBoundary(n,t.octreeRootNode)<r[0]&&(i=e.findClosestPointInSphereWithoutTolerance(n,r[0],o,a),a[0]<r[0]&&(s=i,r[0]=a[0])),s},e.generateRepresentation=function(e,n){if(!t.octreeRootNode)return D("vtkIncrementalOctreePointLocator::GenerateRepresentation"),void D("(): the octree is not yet available");var r=null,i=null,o=null,s=[],u=[];for(u.push({key:t.octreeRootNode,value:0});u.length>0;){var l=u.shift();if(o=l.key,l.value===e)s.push(o);else if(!o.isLeaf())for(var c=0;c<8;c++)u.push({key:o.getChild(c),value:e+1})}r=g.default.newInstance(),r.setNumberOfPoints(8*s.length),r.setNextTupleId(0),i=v.default.newInstance({numberOfComponents:1,size:6*s.length*5}),i.setNextValueId(0);for(var d=0;d<s.length;d++)a(s[d],r,i);n.setPoints(r),n.setPolys(i)},e.buildLocator=function(){if(!t.dataSet||!t.dataSet.isA("vtkPointSet"))return void D("Dataset is NULL or it is not of type vtkPointSet");var n=t.dataSet.getPoints().getNumberOfPoints();if(n<1||n>=Number.MAX_SAFE_INTEGER)return D("No points to build an octree with or "),void D("failure to support 64-bit point ids");if(!(t.buildTime.getMTime()>t.mtime&&t.buildTime.getMTime()>t.dataSet.getMTime())){var r=[],a=t.dataSet.getPoints(),i=a.getBounds();e.initPointInsertion(a,i);for(var o=0;o<n;o++)a.getPoint(o,r),e.insertPointWithoutChecking(r,o,0);t.buildTime.modified()}},e.findClosestPoint=function(n,r){if(e.buildLocator(),r[0]=t.octreeMaxDimSize*t.octreeMaxDimSize*4,!t.octreeRootNode||0===t.octreeRootNode.getNumberOfPoints())return-1;var a=[0],i=0,o=-1,s=null;if(t.octreeRootNode.containsPoint(n))s=e.getLeafContainer(t.octreeRootNode,n),o=e.findClosestPointInLeafNode(s,n,r),r[0]>0&&s.getDistance2ToInnerBoundary(n,t.octreeRootNode)<r[0]&&(i=e.findClosestPointInSphereWithoutTolerance(n,r[0],s,a),a[0]<r[0]&&(o=i,r[0]=a[0]));else{var u=[],l=t.octreeRootNode.getMinBounds(),c=t.octreeRootNode.getMaxBounds();t.octreeRootNode.getDistance2ToBoundary(n,u,t.octreeRootNode,1),u[0]<=l[0]?u[0]=l[0]+t.fudgeFactor:u[0]>=c[0]&&(u[0]=c[0]-t.fudgeFactor),u[1]<=l[1]?u[1]=l[1]+t.fudgeFactor:u[1]>=c[1]&&(u[1]=c[1]-t.fudgeFactor),u[2]<=l[2]?u[2]=l[2]+t.fudgeFactor:u[2]>=c[2]&&(u[2]=c[2]-t.fudgeFactor),s=e.getLeafContainer(t.octreeRootNode,u),o=e.findClosestPointInLeafNode(s,n,r),i=e.findClosestPointInSphereWithoutTolerance(n,r[0],s,a),a[0]<r[0]&&(o=i,r[0]=a[0])}return o},e.findClosestPointWithinRadius=function(t,n,r){return e.buildLocator(),e.findClosestPointInSphereWithoutTolerance(n,t*t,null,r)},e.findClosestPointWithinSquaredRadius=function(t,n,r){return e.buildLocator(),e.findClosestPointInSphereWithoutTolerance(n,t,null,r)},e.findClosestPointInSphereWithoutTolerance=function(t,n,r,a){return a[0]=1.1*n,e.findClosestPointInSphere(t,n,r,a,a[0])},e.findClosestPointInSphere=function(n,r,a,i,o){var s=-1,u=[];for(u.push(t.octreeRootNode);u.length>0&&i[0]>0;){var l=u.pop();if(l.isLeaf()){var c=[0],d=e.findClosestPointInLeafNode(l,n,c);c[0]<i[0]&&(i[0]=c[0],s=d)}else for(var f=0;f<8;f++){var m=l.getChild(f),g=m.getNumberOfPoints()?m.getDistance2ToBoundary(n,t.octreeRootNode,1):r+r;m!==a&&(g<=o||1===m.containsPoint(n))&&u.push(m)}}return i[0]<=r?s:-1},e.findPointsWithinSquaredRadius=function(n,r,a,i){var o=0,s=0,u=0,l=0,c=0,d=[],f=[],m=0,g=0,p=0,v=0,h=null;for(f=n.getBounds(),o=0;o<3;o++)s=2*o,l=a[o]-f[s],c=f[s+1]-a[o],l<0?(m+=l*l,g+=c*c):c<0?(m+=c*c,g+=l*l):g+=c>l?c*c:l*l;if(!(m>r)){if(g<=r)return void n.exportAllPointIdsByInsertion(i);if(n.isLeaf())for(u=n.getNumberOfPoints(),h=n.getPointIdSet(),p=0;p<u;p++)v=h.getId(p),t.locatorPoints.getPoint(v,d),S.default.distance2BetweenPoints(d,a)<=r&&i.insertNextId(v);else for(o=0;o<8;o++)e.findPointsWithinSquaredRadius(n.getChild(o),r,a,i)}},e.findPointsWithinSquaredRadius2=function(n,r,a){e.buildLocator(),e.findPointsWithinSquaredRadius(t.octreeRootNode,n,r,a)},e.findPointsWithinRadius=function(n,r,a){a.reset(),e.buildLocator(),e.findPointsWithinSquaredRadius(t.octreeRootNode,n*n,r,a)},e.findClosestNPoints=function(n,r,a){var i=n;e.buildLocator();var s=t.octreeRootNode.getNumberOfPoints();if(i>s&&(i=s,I("Number of requested points > that of available points")),i<=0)return void I("invalid N or the octree is still empty");var u=0,l=0,c=0,d=0,f=0,m=null,g=null,p=t.octreeRootNode,v=p;for(l=0,c=p.getNumberOfPoints();0===l;){if(p.containsPoint(r)){for(;!p.isLeaf()&&c>i;)v=p,p=p.getChild(p.getChildIndex(r)),c=p.getNumberOfPoints();if(c)l=1,p=c>=i?p:v;else for(f=Number.MAX_VALUE,u=0;u<8;u++)g=v.getChild(u),(d=g.getDistance2ToBoundary(r,t.octreeRootNode,1))<f&&(f=d,p=g)}else{for(;!p.isLeaf()&&c>i;){for(v=p,f=Number.MAX_VALUE,u=0;u<8;u++)g=v.getChild(u),(d=g.getDistance2ToBoundary(r,t.octreeRootNode,1))<f&&(f=d,p=g);c=p.getNumberOfPoints()}l=1,p=c>=i?p:v}c=p.getNumberOfPoints()}m=p,c=m.getNumberOfPoints();var h=o(i),A=[0],T=0,M=y.default.newInstance(),b=[],D=[0,0,0];for(M.setNumberOfIds(c),m.exportAllPointIdsByDirectSet(A,M),u=0;u<c;u++)A[0]=M.getId(u),t.locatorPoints.getPoint(A[0],D),d=S.default.distance2BetweenPoints(r,D),h.insertPoint(d,A[0]);for(b.push(t.octreeRootNode),T=h.getLargestDist2();b.length>0;)if(p=b.front(),b.pop(),p!==m)if(p.isLeaf()){if(p.getDistance2ToBoundary(r,t.octreeRootNode,1)<T){for(c=p.getNumberOfPoints(),A=[0],M.reset(),M.setNumberOfIds(c),p.exportAllPointIdsByDirectSet(A,M),u=0;u<c;u++)A[0]=M.getId(u),t.locatorPoints.getPoint(A[0],D),d=S.default.distance2BetweenPoints(r,D),h.insertPoint(d,A[0]);T=h.getLargestDist2()}}else for(u=0;u<8;u++)g=p.getChild(u),(1===g.containsPointByData(r)||g.getDistance2ToBoundary(r,t.octreeRootNode,1)<T)&&b.push(g);a.setNumberOfIds(i),h.getSortedIds(a)},e.initPointInsertion=function(n,r){var a=0,i=0,o=[],s=[];if(!n)return 0;for(e.freeSearchStructure(),t.locatorPoints=n,t.insertTolerance2=t.tolerance*t.tolerance,t.octreeMaxDimSize=0,a=0;a<3;a++)i=2*a,s[i]=r[i],s[i+1]=r[i+1],o[a]=s[i+1]-s[i],t.octreeMaxDimSize=o[a]>t.octreeMaxDimSize?o[a]:t.octreeMaxDimSize;if(t.buildCubicOctree)for(a=0;a<3;a++)if(o[a]!==t.octreeMaxDimSize){var u=t.octreeMaxDimSize-o[a];s[2*a]-=.5*u,s[2*a+1]+=.5*u,o[a]=t.octreeMaxDimSize}t.fudgeFactor=1e-5*t.octreeMaxDimSize;var l=.1*t.octreeMaxDimSize;for(a=0;a<3;a++)if(o[a]<l){i=2*a;var c=s[i];s[i]=s[i+1]-l,s[i+1]=c+l}else s[2*a]-=t.fudgeFactor;return t.octreeRootNode=M.default.newInstance(),t.octreeRootNode.setBounds(s[0],s[1],s[2],s[3],s[4],s[5]),1},e.findClosestPointInSphereWithTolerance=function(n,r,a,i){return i[0]=t.octreeMaxDimSize*t.octreeMaxDimSize*4,e.findClosestPointInSphere(n,r,a,i,r)},e.findDuplicateFloatTypePointInVisitedLeafNode=function(e,n){var r=0,a=-1,i=-1,o=[];o[0]=n[0],o[1]=n[1],o[2]=n[2];for(var s=e.getPointIdSet(),u=s.getNumberOfIds(),l=t.locatorPoints.getData(),c=0;c<u;c++)if(a=s.getId(c),r=l+(2*a+a),o[0]===r[0]&&o[1]===r[1]&&o[2]===r[2]){i=a;break}return i},e.findDuplicateDoubleTypePointInVisitedLeafNode=function(e,n){for(var r=0,a=-1,i=-1,o=e.getPointIdSet(),s=o.getNumberOfIds(),u=t.locatorPoints.getData(),l=0;l<s;l++)if(a=o.getId(l),r=u+(2*a+a),n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2]){i=a;break}return i},e.findDuplicatePointInLeafNode=function(n,r){return n.getPointIdSet()?t.locatorPoints.getDataType()===b.VtkDataTypes.FLOAT?e.findDuplicateFloatTypePointInVisitedLeafNode(n,r):e.findDuplicateDoubleTypePointInVisitedLeafNode(n,r):-1},e.isInsertedPointForZeroTolerance=function(n,r){return r[0]=e.getLeafContainer(t.octreeRootNode,n),e.findDuplicatePointInLeafNode(r[0],n)},e.isInsertedPointForNonZeroTolerance=function(n,r){var a=[0],i=0,o=0;r[0]=e.getLeafContainer(t.octreeRootNode,n);var s=e.findClosestPointInLeafNode(r[0],n,a);return 0===a[0]?s:(i=r[0].getDistance2ToInnerBoundary(n,t.octreeRootNode),i<t.insertTolerance2&&(o=e.findClosestPointInSphereWithTolerance(n,t.insertTolerance2,r[0],0),0<a[0]&&(a[0]=0,s=o)),a[0]<=t.insertTolerance2?s:-1)},e.isInsertedPoint=function(n,r){return 0===t.insertTolerance2?e.isInsertedPointForZeroTolerance(n,r):e.isInsertedPointForNonZeroTolerance(n,r)},e.insertUniquePoint=function(n,r){var a=[null];return r[0]=e.isInsertedPoint(n,a),r[0]>-1?0:a[0].insertPoint(t.locatorPoints,n,t.maxPointsPerLeaf,r,2)},e.insertPointWithoutChecking=function(n,r,a){e.getLeafContainer(t.octreeRootNode,n).insertPoint(t.locatorPoints,n,t.maxPointsPerLeaf,r,2*a)},e.insertPoint=function(n,r){e.getLeafContainer(t.octreeRootNode,r).insertPoint(t.locatorPoints,r,t.maxPointsPerLeaf,n,1)},e.insertNextPoint=function(n){var r=[-1];return e.getLeafContainer(t.octreeRootNode,n).insertPoint(t.locatorPoints,n,t.maxPointsPerLeaf,r,2),r[0]},e.getLeafContainer=function(t,n){return t.isLeaf()?t:e.getLeafContainer(t.getChild(t.getChildIndex(n)),n)},e.findClosestPointInLeafNode=function(e,n,r){if(r[0]=Number.MAX_VALUE,!e.getPointIdSet())return-1;for(var a=[],i=-1,o=-1,s=e.getPointIdSet(),u=s.getNumberOfIds(),l=0;l<u;l++){i=s.getId(l),t.locatorPoints.getPoint(i,a);var c=S.default.distance2BetweenPoints(a,n);if(c<r[0]&&(r[0]=c,o=i),0===r[0])break}return o}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,N,n),f.default.extend(e,t,n),c.default.setGet(e,t,["maxPointsPerLeaf","buildCubicOctree"]),c.default.get(e,t,["locatorPoints"]),s(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=u;var l=n(0),c=r(l),d=n(252),f=r(d),m=n(6),g=r(m),p=n(11),v=r(p),h=n(18),y=r(h),A=n(1),S=r(A),T=n(524),M=r(T),b=n(5),D=c.default.vtkErrorMacro,I=c.default.vtkWarningMacro,w=[[0,1,5,4],[0,4,6,2],[6,7,3,2],[1,3,7,5],[2,3,1,0],[4,5,7,6]],C=t.STATIC={addPolys:a,deleteAllDescendants:i},N={buildCubicOctree:0,maxPointsPerLeaf:128,insertTolerance2:1e-6,octreeMaxDimSize:0,fudgeFactor:0,locatorPoints:null,octreeRootNode:null},P=t.newInstance=c.default.newInstance(u,"vtkIncrementalOctreePointLocator");t.default=Object.assign({newInstance:P,extend:u},C)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){}function i(e,t,n){e.setPoint(t,n)}function o(e,t,n){return e.insertNextPoint(n)}function s(e,t){t.classHierarchy.push("vtkIncrementalOctreeNode"),e.getMinDataBounds=function(){return t.numberOfPoints?t.minDataBounds:t.minBounds},e.getMaxDataBounds=function(){return t.numberOfPoints?t.maxDataBounds:t.maxBounds},e.isLeaf=function(){return t.children?0:1},e.getChildIndex=function(e){var n=e[0]>t.children[0].maxBounds[0]?1:0;return e[1]>t.children[0].maxBounds[1]&&(n+=2),e[2]>t.children[0].maxBounds[2]&&(n+=4),n},e.getChild=function(e){return t.children[e]},e.containsPoint=function(e){return t.minBounds[0]<e[0]&&e[0]<=t.maxBounds[0]&&t.minBounds[1]<e[1]&&e[1]<=t.maxBounds[1]&&t.minBounds[2]<e[2]&&e[2]<=t.maxBounds[2]},e.containsPointByData=function(e){return t.minDataBounds[0]<=e[0]&&e[0]<=t.maxDataBounds[0]&&t.minDataBounds[1]<=e[1]&&e[1]<=t.maxDataBounds[1]&&t.minDataBounds[2]<=e[2]&&e[2]<=t.maxDataBounds[2]},e.deleteChildNodes=function(){t.children&&(t.children.splice(0,t.children.length),t.children=null)},e.createPointIdSet=function(e,n){t.pointIdSet||(t.pointIdSet=f.default.newInstance(),t.pointIdSet.allocate(e))},e.deletePointIdSet=function(){t.pointIdSet&&(t.pointIdSet=null)},e.setBounds=function(e,n,r,a,i,o){t.minBounds[0]=e,t.maxBounds[0]=n,t.minBounds[1]=r,t.maxBounds[1]=a,t.minBounds[2]=i,t.maxBounds[2]=o,t.minDataBounds[0]=n,t.maxDataBounds[0]=e,t.minDataBounds[1]=a,t.maxDataBounds[1]=r,t.minDataBounds[2]=o,t.maxDataBounds[2]=i},e.getBounds=function(){var e=[];return e[0]=t.minBounds[0],e[1]=t.maxBounds[0],e[2]=t.minBounds[1],e[3]=t.maxBounds[1],e[4]=t.minBounds[2],e[5]=t.maxBounds[2],e},e.updateCounterAndDataBounds2=function(e){t.numberOfPoints++,t.minDataBounds[0]=e[0]<t.minDataBounds[0]?e[0]:t.minDataBounds[0],t.minDataBounds[1]=e[1]<t.minDataBounds[1]?e[1]:t.minDataBounds[1],t.minDataBounds[2]=e[2]<t.minDataBounds[2]?e[2]:t.minDataBounds[2],t.maxDataBounds[0]=e[0]>t.maxDataBounds[0]?e[0]:t.maxDataBounds[0],t.maxDataBounds[1]=e[1]>t.maxDataBounds[1]?e[1]:t.maxDataBounds[1],t.maxDataBounds[2]=e[2]>t.maxDataBounds[2]?e[2]:t.maxDataBounds[2]},e.updateCounterAndDataBounds2=function(e,n,r){if(t.numberOfPoints+=n,0===r)return 0;var a=0;return e[0]<t.minDataBounds[0]&&(a=1,t.minDataBounds[0]=e[0]),e[0]>t.maxDataBounds[0]&&(a=1,t.maxDataBounds[0]=e[0]),e[1]<t.minDataBounds[1]&&(a=1,t.minDataBounds[1]=e[1]),e[1]>t.maxDataBounds[1]&&(a=1,t.maxDataBounds[1]=e[1]),e[2]<t.minDataBounds[2]&&(a=1,t.minDataBounds[2]=e[2]),e[2]>t.maxDataBounds[2]&&(a=1,t.maxDataBounds[2]=e[2]),a},e.seperateExactlyDuplicatePointsFromNewInsertion=function(t,n,r,a,i,o){var u=0,l=[],c=[],d=[],f=[],m=[[]],g=null,v=e,y=e;for(t.getPoint(n.getId(0),l);v===y;){for(g=v,d[0]=.5*(g.minBounds[0]+g.maxBounds[0]),d[1]=.5*(g.minBounds[1]+g.maxBounds[1]),d[2]=.5*(g.minBounds[2]+g.maxBounds[2]),m[0]=g.minBounds,m[1]=d,m[2]=g.maxBounds,g.children=[],u=0;u<8;u++)c[0]=m[p[u][0][0]][0],f[0]=m[p[u][0][1]][0],c[1]=m[p[u][1][0]][1],f[1]=m[p[u][1][1]][1],c[2]=m[p[u][2][0]][2],f[2]=m[p[u][2][1]][2],g.children[u]=s.newInstance(),g.children[u].setParent(g),g.children[u].setBounds(c[0],f[0],c[1],f[1],c[2],f[2]);v=g.children[g.getChildIndex(l)],y=g.children[g.getChildIndex(r)],h[o](t,a,r),y.createPointIdSet(i/4,i/2),y.getPointIdSet().insertNextId(a),y.updateCounterAndDataBoundsRecursively(r,1,1,null),v.setPointIdSet(n),v.updateCounterAndDataBoundsRecursively(l,n.getNumberOfIds(),1,e)}},e.createChildNodes=function(n,r,a,i,o,u){var l=[0,0,0];if(n.getPoint(r.getId(0),l),1===e.containsDuplicatePointsOnly(l))return e.seperateExactlyDuplicatePointsFromNewInsertion(n,r,a,i,o,u),0;var c=0,d=void 0,f=-1,m=-1,g=[0,0,0,0,0,0,0,0],v=[0,0,0],y=[0,0,0],A=[0,0,0],S=0,T=[.5*(t.minBounds[0]+t.maxBounds[0]),.5*(t.minBounds[1]+t.maxBounds[1]),.5*(t.minBounds[2]+t.maxBounds[2])],M=[[]];for(M[0]=t.minBounds,M[1]=T,M[2]=t.maxBounds,t.children=[],c=0;c<8;c++)v[0]=M[p[c][0][0]][0],y[0]=M[p[c][0][1]][0],v[1]=M[p[c][1][0]][1],y[1]=M[p[c][1][1]][1],v[2]=M[p[c][2][0]][2],y[2]=M[p[c][2][1]][2],t.children[c]=s.newInstance(),t.children[c].setParent(e),t.children[c].setBounds(v[0],y[0],v[1],y[1],v[2],y[2]),t.children[c].createPointIdSet(o/4,o/2);for(c=0;c<o;c++)S=r.getId(c),n.getPoint(S,A),d=e.getChildIndex(A),t.children[d].getPointIdSet().insertNextId(S),t.children[d].updateCounterAndDataBounds(A),g[d]++;for(c=0;c<8;c++)if(g[c]===o){m=c;break}for(d=t.getChildIndex(a),m===d?(t.children[d].createChildNodes(n,r,a,i,o,u),f=m):(h[u](n,i,a),t.children[d].getPointIdSet().insertNextId(i),t.children[d].updateCounterAndDataBoundsRecursively(a,1,1,null),g[d]++),c=0;c<8;c++)0!==g[c]&&c!==f||t.children[c].deletePointIdSet();return 1},e.insertPoint=function(n,r,a,i,o){return t.pointIdSet?t.pointIdSet.getNumberOfIds()<a||1===e.containsDuplicatePointsOnly(r)?(h[o](n,i,r),t.pointIdSet.insertNextId(i),e.updateCounterAndDataBoundsRecursively(r,1,1,null)):(e.createChildNodes(n,t.pointIdSet,r,i,a,o),t.pointIdSet=null,t.pointIdSet=null):(h[o](n,i,r),t.pointIdSet=f.default.newInstance(),t.pointIdSet.allocate(a/4,a/2),t.pointIdSet.insertNextId(i),e.updateCounterAndDataBoundsRecursively(r,1,1,null)),1},e.getDistance2ToBoundary3=function(n,r,a,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=[],u=[],l=[],c=[],d=Number.MAX_VALUE;o?(s=e.getMinDataBounds(),u=e.getMaxDataBounds(),l=i.getMinDataBounds(),c=i.getMaxDataBounds()):(s=t.minBounds,u=t.maxBounds,l=i.getMinBounds(),c=i.getMaxBounds());var f=0,m=n[0]<s[0]?1:0,p=n[0]>u[0]?1:0,v=n[1]<s[1]?1:0,h=n[1]>u[1]?1:0,y=n[2]<s[2]?1:0,A=n[2]>u[2]?1:0,S=m||p?0:1,T=v||h?0:1,M=y||A?0:1,b=4*M+2*T+S,D=0;switch(b){case 0:r[0]=m?s[0]:u[0],r[1]=v?s[1]:u[1],r[2]=y?s[2]:u[2],d=g.default.distance2BetweenPoints(n,r);break;case 1:r[0]=n[0],r[1]=v?s[1]:u[1],r[2]=y?s[2]:u[2],d=g.default.distance2BetweenPoints(n,r);break;case 2:r[0]=m?s[0]:u[0],r[1]=n[1],r[2]=y?s[2]:u[2],d=g.default.distance2BetweenPoints(n,r);break;case 3:y?(d=s[2]-n[2],r[2]=s[2]):(d=n[2]-u[2],r[2]=u[2]),d*=d,r[0]=n[0],r[1]=n[1];break;case 4:r[0]=m?s[0]:u[0],r[1]=v?s[1]:u[1],r[2]=n[2],d=g.default.distance2BetweenPoints(n,r);break;case 5:v?(d=s[1]-n[1],r[1]=s[1]):(d=n[1]-u[1],r[1]=u[1]),d*=d,r[0]=n[0],r[2]=n[2];break;case 6:m?(d=s[0]-n[0],r[0]=s[0]):(d=n[0]-u[0],r[0]=u[0]),d*=d,r[1]=n[1],r[2]=n[2];break;case 7:if(a)D=n[0]-s[0],s[0]!==l[0]&&D<d&&(f=0,d=D),D=u[0]-n[0],u[0]!==c[0]&&D<d&&(f=1,d=D),D=n[1]-s[1],s[1]!==l[1]&&D<d&&(f=2,d=D),D=u[1]-n[1],u[1]!==c[1]&&D<d&&(f=3,d=D),D=n[2]-s[2],s[2]!==l[2]&&D<d&&(f=4,d=D),D=u[2]-n[2],u[2]!==c[2]&&D<d&&(f=5,d=D);else{var I=[];I[0]=n[0]-s[0],I[1]=u[0]-n[0],I[2]=n[1]-s[1],I[3]=u[1]-n[1],I[4]=n[2]-s[2],I[5]=u[2]-n[2];for(var w=0;w<6;w++)I[w]<d&&(f=w,d=I[w])}d!==Number.MAX_VALUE&&(d*=d),r[0]=n[0],r[1]=n[1],r[2]=n[2];var C=[s,u],N=f/4;r[N]=C[f%2][N],C[0]=null,C[1]=null}return d},e.getDistance2ToBoundary=function(t,n,r){var a=[0,0,0];return 1===r&&0===e.getNumberOfPoints()?Number.MAX_VALUE:e.getDistance2ToBoundary3(t,a,0,n,r)},e.getDistance2ToBoundary2=function(t,n,r,a){return 1===a&&0===e.getNumberOfPoints()?Number.MAX_VALUE:e.getDistance2ToBoundary3(t,n,0,r,a)},e.getDistance2ToInnerBoundary=function(t,n){var r=[0,0,0];return e.getDistance2ToBoundary3(t,r,1,n,0)},e.exportAllPointIdsByInsertion=function(e){if(t.children)for(var n=0;n<8;n++)t.children[n].exportAllPointIdsByInsertion(e);else for(var r=0;r<t.numberOfPoints;r++)e.insertNextId(t.pointIdSet.getId(r))},e.exportAllPointIdsByDirectSet=function(e,n){if(t.children)for(var r=0;r<8;r++)t.children[r].exportAllPointIdsByDirectSet(e,n);else for(var a=0;a<t.numberOfPoints;a++)n.setId(e[0],t.pointIdSet.getId(a)),e[0]++},e.updateCounterAndDataBoundsRecursively=function(n,r,a,i){var o=e.updateCounterAndDataBounds2(n,r,a);return t.parent===i?o:t.parent.updateCounterAndDataBoundsRecursively(n,r,o,i)},e.containsDuplicatePointsOnly=function(e){return t.minDataBounds[0]===e[0]&&e[0]===t.maxDataBounds[0]&&t.minDataBounds[1]===e[1]&&e[1]===t.maxDataBounds[1]&&t.minDataBounds[2]===e[2]&&e[2]===t.maxDataBounds[2]?1:0}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),c.default.obj(e,t);for(var r=0;r<3;r++)t.minBounds[r]=-Number.MIN_VALUE,t.minDataBounds[r]=-Number.MIN_VALUE,t.maxBounds[r]=Number.MAX_VALUE,t.maxDataBounds[r]=Number.MAX_VALUE;c.default.get(e,t,["numberOfPoints","pointIdSet"]),c.default.getArray(e,t,["minBounds","maxBounds"],3),s(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=u;var l=n(0),c=r(l),d=n(18),f=r(d),m=n(1),g=r(m),p=[[[0,1],[0,1],[0,1]],[[1,2],[0,1],[0,1]],[[0,1],[1,2],[0,1]],[[1,2],[1,2],[0,1]],[[0,1],[0,1],[1,2]],[[1,2],[0,1],[1,2]],[[0,1],[1,2],[1,2]],[[1,2],[1,2],[1,2]]],v=t.STATIC={octreeNodeGetPointId:a,octreeNodeInsertPoint:i,octreeNodeInsertNextPoint:o},h=[a,i,o],y={numberOfPoints:0,minBounds:[0,0,0],maxBounds:[0,0,0],minDataBounds:[0,0,0],maxDataBounds:[0,0,0],pointIdSet:null,parent:null,children:null},A=t.newInstance=c.default.newInstance(u,"vtkIncrementalOctreeNode");t.default=Object.assign({newInstance:A,extend:u},v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkBezierContourLineInterpolator"),e.setMaximumCurveError=function(n){return t.maximumCurveError!==n&&(t.maximumCurveError=d.default.clampValue(n,0,Number.MAX_VALUE),e.modified(),!0)},e.setMaximumCurveLineSegments=function(n){return t.maximumCurveLineSegments!==n&&(t.maximumCurveLineSegments=d.default.clampValue(n,1,1e3),e.modified(),!0)},e.getSpan=function(e,t,n){var r=e-1,a=e,i=0,o=0,s=n.getClosedLoop(),u=n.getNumberOfNodes();t.setNumberOfComponents(2),t.setNumberOfTuples(0);for(var l=[],c=0;c<4;c++)i=r++,o=a++,s&&(i<0&&(i+=u),o<0&&(o+=u),i>=u&&(i-=u),o>=u&&(o-=u)),i>=0&&i<u&&o>=0&&o<u&&l.push(i,o);t.setData(new Int32Array(l),2)},e.computeMidpoint=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2,(e[2]+t[2])/2]},e.interpolateLine=function(n,r,a,i){for(var o=0,s=3;2*s<t.maximumCurveLineSegments;)s*=2,o++;if(0===o)return 1;for(var u=Array(o+1),l=0;l<o+1;l++)u[l]=function(){return{p1:[],p2:[],p3:[],p4:[],level:0}}();var c=0,f=r.getNthNodeSlope(a),m=r.getNthNodeSlope(i);u[0].level=0,u[0].p1=r.getNthNodeWorldPosition(a),u[0].p4=r.getNthNodeWorldPosition(i);var g=Math.sqrt(d.default.distance2BetweenPoints(u[0].p1,u[0].p4));for(u[0].p2[0]=u[0].p1[0]+.333*g*f[0],u[0].p2[1]=u[0].p1[1]+.333*g*f[1],u[0].p2[2]=u[0].p1[2]+.333*g*f[2],u[0].p3[0]=u[0].p4[0]-.333*g*m[0],u[0].p3[1]=u[0].p4[1]-.333*g*m[1],u[0].p3[2]=u[0].p4[2]-.333*g*m[2],c++;c;){var p=u[c-1],v=u[c],h=p.level,y=0;if(y+=Math.sqrt(d.default.distance2BetweenPoints(p.p1,p.p2)),y+=Math.sqrt(d.default.distance2BetweenPoints(p.p2,p.p3)),y+=Math.sqrt(d.default.distance2BetweenPoints(p.p3,p.p4)),g=Math.sqrt(d.default.distance2BetweenPoints(p.p1,p.p4)),h>=o||0===g||(y-g)/g<t.maximumCurveError)r.addIntermediatePointWorldPosition(a,p.p2,0),r.addIntermediatePointWorldPosition(a,p.p3,0),c>1&&r.addIntermediatePointWorldPosition(a,p.p4,0),c--;else{var A=e.computeMidpoint(p.p1,p.p2),S=e.computeMidpoint(p.p2,p.p3),T=e.computeMidpoint(p.p3,p.p4),M=e.computeMidpoint(A,S),b=e.computeMidpoint(S,T),D=e.computeMidpoint(M,b);p.level=h+1,v.level=h+1,v.p1[0]=p.p1[0],v.p1[1]=p.p1[1],v.p1[2]=p.p1[2],v.p2[0]=A[0],v.p2[1]=A[1],v.p2[2]=A[2],v.p3[0]=M[0],v.p3[1]=M[1],v.p3[2]=M[2],v.p4[0]=D[0],v.p4[1]=D[1],v.p4[2]=D[2],p.p1[0]=D[0],p.p1[1]=D[1],p.p1[2]=D[2],p.p2[0]=b[0],p.p2[1]=b[1],p.p2[2]=b[2],p.p3[0]=T[0],p.p3[1]=T[1],p.p3[2]=T[2],c++}}return 1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),l.default.extend(e,t,n),s.default.setGet(e,t,["maximumCurveError","maximumCurveLineSegments"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(270),l=r(u),c=n(1),d=r(c),f={maximumCurveError:.005,maximumCurveLineSegments:100},m=t.newInstance=s.default.newInstance(i,"vtkBezierContourLineInterpolator");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkCursor2D"),e.setRadius=function(n){return t.radius!==n&&(t.radius=d.default.clampValue(n,0,Number.MAX_VALUE),e.modified(),!0)},e.requestData=function(e,n){if(!t.deleted){var r=n[0],a=r?r.getPoints().getDataType():"Float32Array",i=l.default.newInstance(),o=0,s=0,u=[0,0,0],c=[0,0,0,0,0];if(t.wrap)for(o=0;o<2;o++){var d=t.focalPoint[o]-t.modelBounds[2*o],f=t.modelBounds[2*o+1]-t.modelBounds[2*o];t.focalPoint[o]=t.modelBounds[2*o]+d%f}else for(o=0;o<2;o++)t.focalPoint[o]<t.modelBounds[2*o]&&(t.focalPoint[o]=t.modelBounds[2*o]),t.focalPoint[o]>t.modelBounds[2*o+1]&&(t.focalPoint[o]=t.modelBounds[2*o+1]);s+=0!==t.point?1:0,s+=0!==t.axes?8:0,s+=0!==t.outline?4:0;var m=null;if(s){m=new window[a](3*s),i.getPoints().setData(m,3);var g=null;t.point&&(g=new Uint32Array(2),i.getVerts().setData(g,1));var p=null;if(t.axes||t.outline){var v=(0!==t.axes?12:0)+(0!==t.outline?6:0);p=new Uint32Array(v),i.getLines().setData(p,1)}var h=0;t.point&&(u[0]=t.focalPoint[0],u[1]=t.focalPoint[1],u[2]=0,c[0]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],g[0]=1,g[1]=c[0],h++);var y=0;t.axes&&(u[0]=t.modelBounds[0],u[1]=t.focalPoint[1],u[2]=t.modelBounds[4],c[0]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],h++,u[0]=t.focalPoint[0]-t.radius,u[1]=t.focalPoint[1],u[2]=t.modelBounds[4],c[1]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],p[3*y]=2,p[3*y+1]=c[0],p[3*y+2]=c[1],h++,y++,u[0]=t.focalPoint[0]+t.radius,u[1]=t.focalPoint[1],u[2]=t.modelBounds[4],c[0]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],h++,u[0]=t.modelBounds[1],u[1]=t.focalPoint[1],u[2]=t.modelBounds[4],c[1]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],p[3*y]=2,p[3*y+1]=c[0],p[3*y+2]=c[1],h++,y++,u[0]=t.focalPoint[0],u[1]=t.modelBounds[2],u[2]=t.modelBounds[4],c[0]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],h++,u[0]=t.focalPoint[0],u[1]=t.focalPoint[1]-t.radius,u[2]=t.modelBounds[4],c[1]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],p[3*y]=2,p[3*y+1]=c[0],p[3*y+2]=c[1],h++,y++,u[0]=t.focalPoint[0],u[1]=t.focalPoint[1]+t.radius,u[2]=t.modelBounds[4],c[0]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],h++,u[0]=t.focalPoint[0],u[1]=t.modelBounds[3],u[2]=t.modelBounds[4],c[1]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],p[3*y]=2,p[3*y+1]=c[0],p[3*y+2]=c[1],h++,y++),t.outline&&(u[0]=t.modelBounds[0],u[1]=t.modelBounds[2],u[2]=t.modelBounds[4],c[0]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],h++,u[0]=t.modelBounds[1],u[1]=t.modelBounds[2],u[2]=t.modelBounds[4],c[1]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],h++,u[0]=t.modelBounds[1],u[1]=t.modelBounds[3],u[2]=t.modelBounds[4],c[2]=h,m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],h++,u[0]=t.modelBounds[0],u[1]=t.modelBounds[3],u[2]=t.modelBounds[4],c[3]=h,c[4]=c[0],m[3*h]=u[0],m[3*h+1]=u[1],m[3*h+2]=u[2],p[3*y]=5,p[3*y+1]=c[0],p[3*y+2]=c[1],p[3*y+3]=c[2],p[3*y+4]=c[3],p[3*y+5]=c[4]),n[0]=i}}},e.setFocalPoint=function(n){if(n[0]!==t.focalPoint[0]||n[1]!==t.focalPoint[1]){e.modified();for(var r=[0,0,0],a=0;a<2;a++)if(r[a]=n[a]-t.focalPoint[a],t.focalPoint[a]=n[a],t.translationMode)t.modelBounds[2*a]+=r[a],t.modelBounds[2*a+1]+=r[a];else if(t.wrap){var i=t.focalPoint[a]-t.modelBounds[2*a],o=t.modelBounds[2*a+1]-t.modelBounds[2*a];t.focalPoint[a]=t.modelBounds[2*a]+i%o}else n[a]<t.modelBounds[2*a]&&(t.focalPoint[a]=t.modelBounds[2*a]),n[a]>t.modelBounds[2*a+1]&&(t.focalPoint[a]=t.modelBounds[2*a+1])}},e.setModelBounds=function(n){var r=n[0],a=n[1],i=n[2],o=n[3],s=n[4],u=n[5];if(r!==t.modelBounds[0]||a!==t.modelBounds[1]||i!==t.modelBounds[2]||o!==t.modelBounds[3]||s!==t.modelBounds[4]||u!==t.modelBounds[5]){e.modified(),t.modelBounds[0]=r,t.modelBounds[1]=a,t.modelBounds[2]=i,t.modelBounds[3]=o,t.modelBounds[4]=s,t.modelBounds[5]=u;for(var l=0;l<3;l++)t.modelBounds[2*l]>t.modelBounds[2*l+1]&&(t.modelBounds[2*l]=t.modelBounds[2*l+1])}},e.allOn=function(){t.outline=1,t.axes=1,t.point=1,e.modified()},e.allOff=function(){t.outline=0,t.axes=0,t.point=0,e.modified()}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),s.default.obj(e,t),s.default.setGetArray(e,t,["modelBounds"],6),s.default.setGetArray(e,t,["focalPoint"],3),s.default.setGet(e,t,["outline","axes","radius","point","translationMode","wrap"]),s.default.algo(e,t,0,1),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(4),l=r(u),c=n(1),d=r(c),f={modelBounds:[-10,10,-10,10,0,0],focalPoint:[0,0,0],outline:1,axes:1,points:1,radius:2,translationMode:0,wrap:0,pointType:"Float32Array"},m=t.newInstance=s.default.newInstance(i,"vtkCursor2D");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){function n(e,n){if(!t.deleted){var r=n[0],a=2*Math.PI/t.resolution,i=2*t.resolution,o=5*t.resolution;t.capping&&(i=4*t.resolution,o=7*t.resolution+2);for(var s=new window[t.pointType](3*i),u=0,c=new Uint32Array(o),f=new Float32Array(3*i),m=l.default.newInstance({numberOfComponents:3,values:f,name:"Normals"}),g=new Float32Array(2*i),p=l.default.newInstance({numberOfComponents:2,values:g,name:"TCoords"}),v=[0,0,0],h=[0,0,0],y=[0,0,0],A=[0,0,0],S=[0,0],T=[0,0],M=0;M<t.resolution;M++){v[0]=Math.cos(M*a),h[0]=v[0],y[0]=t.radius*v[0]+t.center[0],A[0]=y[0],S[0]=Math.abs(2*M/t.resolution-1),T[0]=S[0],y[1]=.5*t.height+t.center[1],A[1]=-.5*t.height+t.center[1],S[1]=0,T[1]=1,v[2]=-Math.sin(M*a),h[2]=v[2],y[2]=t.radius*v[2]+t.center[2],A[2]=y[2];for(var b=2*M,D=0;D<3;D++)f[3*b+D]=v[D],f[3*(b+1)+D]=h[D],s[3*b+D]=y[D],s[3*(b+1)+D]=A[D],D<2&&(g[2*b+D]=S[D],g[2*(b+1)+D]=T[D])}for(var I=0;I<t.resolution;I++){c[u++]=4,c[u++]=2*I,c[u++]=2*I+1;var w=(2*I+3)%(2*t.resolution);c[u++]=w,c[u++]=w-1}if(t.capping){for(var C=0;C<t.resolution;C++){y[0]=t.radius*Math.cos(C*a),A[0]=y[0],S[0]=y[0],T[0]=y[0],y[0]+=t.center[0],A[0]+=t.center[0],v[1]=1,h[1]=-1,y[1]=.5*t.height+t.center[1],A[1]=-.5*t.height+t.center[1],y[2]=-t.radius*Math.sin(C*a),A[2]=y[2],S[1]=y[2],T[1]=y[2],y[2]+=t.center[2],A[2]+=t.center[2];for(var N=2*t.resolution+C,P=3*t.resolution+t.resolution-C-1,x=0;x<3;x++)f[3*N+x]=v[x],f[3*P+x]=h[x],s[3*N+x]=y[x],s[3*P+x]=A[x],x<2&&(g[2*N+x]=S[x],g[2*P+x]=T[x])}c[u++]=t.resolution;for(var E=0;E<t.resolution;E++)c[u++]=2*t.resolution+E;c[u++]=t.resolution;for(var O=0;O<t.resolution;O++)c[u++]=3*t.resolution+O}r=d.default.newInstance(),r.getPoints().setData(s,3),r.getPolys().setData(c,5),r.getPointData().setNormals(m),r.getPointData().setTCoords(p),n[0]=r}}t.classHierarchy.push("vtkCylinderSource"),e.requestData=n}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,f,n),s.default.obj(e,t),s.default.setGet(e,t,["height","radius","resolution","capping"]),s.default.setGetArray(e,t,["center"],3),s.default.algo(e,t,0,1),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(2),l=r(u),c=n(4),d=r(c),f={height:1,radius:1,resolution:6,center:[0,0,0],capping:!0,pointType:"Float32Array"},m=t.newInstance=s.default.newInstance(i,"vtkCylinderSource");t.default={newInstance:m,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){e[t]=n;for(var a=0;a<n;a++)e[t+a+1]=r[a];return t+n+1}function i(e,t){t.classHierarchy.push("vtkCleanPolyData");var n=Object.assign({},e);e.setTolerance=function(n){return t.tolerance!==n&&(t.tolerance=v.default.clampValue(n,0,1),e.modified(),!0)},e.setAbsoluteTolerance=function(n){return t.absoluteTolerance!==n&&(t.absoluteTolerance=v.default.clampValue(n,0,Number.MAX_VALUE),e.modified(),!0)},e.createDefaultLocator=function(n){var r=0;if(t.toleranceIsAbsolute)r=t.absoluteTolerance;else if(n){var a=M.default.getDiagonalLength(n.getBounds());r=t.tolerance*a}else r=t.tolerance;t.locator?r>0&&0===e.getLocator().getTolerance()&&(e.setLocator(null),t.locator=S.default.newInstance()):t.locator=0===r?y.default.newInstance():S.default.newInstance()},e.releaseLocator=function(){e.setLocator(null)},e.getMTime=function(){var e=n.getMTime(),r=null;return t.locator&&(r=t.locator.getMTime(),e=r>e?r:e),e},e.operateOnPoint=function(e,t){var n=t||[];return n[0]=e[0],n[1]=e[1],n[2]=e[2],n},e.operateOnBounds=function(e,t){var n=t||[];return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n},e.requestData=function(n,r){var i=n[0];if(!i)return void w("Invalid or missing input");var o=c.default.newInstance();r[0]=o;var s=i.getPoints();if(s){var u=s.getNumberOfPoints();if(!(u<1)){var l=Array(8),d=0,m=0,p=null,v=[];p=2===t.outputPointsPrecision?f.default.newInstance({numberOfComponents:3,size:3*u,dataType:s.getDataType()}):0===t.outputPointsPrecision?f.default.newInstance({numberOfComponents:3,size:3*u,dataType:I.VtkDataTypes.FLOAT}):1===t.outputPointsPrecision?f.default.newInstance({numberOfComponents:3,size:3*u,dataType:I.VtkDataTypes.DOUBLE}):f.default.newInstance({numberOfComponents:3,size:3*u});var h=0,y=0,A=0,S=0,T=[0],b=0,C=null,N=[],P=[0,0,0],x=[0,0,0],E=null,O=i.getVerts(),L=null,_=[],R=i.getLines(),k=null,B=[],V=i.getPolys(),F=null,j=[],U=i.getStrips(),z=null,G=[],W=i.getPointData(),Q=i.getCellData();if(t.pointMerging){if(e.createDefaultLocator(i),t.toleranceIsAbsolute)t.locator.setTolerance(t.absoluteTolerance);else{var Y=M.default.getDiagonalLength(i.getBounds());t.locator.setTolerance(t.tolerance*Y)}var q=i.getBounds(),H=e.operateOnBounds(q);t.locator.initPointInsertion(v,H)}else for(E=[],A=0;A<u;A++)E[A]=-1;var Z=o.getPointData(),K=o.getCellData();Z.initialize(),Z.copyAllocate(W),K.initialize(),K.copyAllocate(Q);var X=null,J=null,$=null,ee=0,te=0,ne=0,re=0,ae=0,ie=0,oe=0,se=0,ue=0,le=0,ce=0,de=0;if(h=0,O.getNumberOfCells()>0){L=g.default.newInstance({numberOfComponents:O.getNumberOfComponents(),size:O.getSize(),dataType:O.getDataType()});for(var fe=0;fe<O.getSize();h++){for(O.getCell(fe,N),b=N.length,C=N,fe+=b+1,d=0,A=0;A<b;A++){if(s.getPoint(C[A],P),e.operateOnPoint(P,x),t.pointMerging){var me=t.locator.insertUniquePoint(x,T);S=T[0],me&&Z.copyData(W,C[A],S)}else-1===(S=E[C[A]])&&(S=m++,E[C[A]]=S,p.setPoint(S,x),Z.copyData(W,C[A],S));l[d++]=S}d>0&&(ue=a(_,ue,d,l),y=ae++,K.copyData(Q,h,y),ee!==y&&w("Vertex ID fault in vertex test"),ee++)}}if(R.getNumberOfCells()>0){k=g.default.newInstance({numberOfComponents:R.getNumberOfComponents(),size:R.getSize(),dataType:R.getDataType()}),X=D.default.newInstance(),X.initialize(),X.copyAllocate(Q);for(var ge=0;ge<R.getSize();h++){for(R.getCell(ge,N),b=N.length,C=N,ge+=b+1,d=0,A=0;A<b;A++){if(s.getPoint(C[A],P),e.operateOnPoint(P,x),t.pointMerging){var pe=t.locator.insertUniquePoint(x,T);S=T[0],pe&&Z.copyData(W,C[A],S)}else-1===(S=E[C[A]])&&(S=m++,E[C[A]]=S,p.setPoint(S,x),Z.copyData(W,C[A],S));0!==A&&S===l[d-1]||(l[d++]=S)}d>1||!t.convertLinesToPoints?(le=a(B,le,d,l),y=ie++,X.copyData(Q,h,y),te!==y&&w("Line ID fault in line test"),te++):1===d&&(L||(L=g.default.newInstance({numberOfComponents:O.getNumberOfComponents(),size:5,dataType:O.getDataType()})),ue=a(_,ue,d,l),y=ae++,K.copyData(Q,h,y),ee!==y&&w("Vertex ID fault in line test"),ee++)}}if(V.getNumberOfCells()>0){F=g.default.newInstance({numberOfComponents:V.getNumberOfComponents(),size:V.getSize(),dataType:V.getDataType()}),J=D.default.newInstance(),J.initialize(),J.copyAllocate(Q);for(var ve=0;ve<V.getSize();h++){for(V.getCell(ve,N),b=N.length,C=N,ve+=b+1,d=0,A=0;A<b;A++){if(s.getPoint(C[A],P),e.operateOnPoint(P,x),t.pointMerging){var he=t.locator.insertUniquePoint(x,T);S=T[0],he&&Z.copyData(W,C[A],S)}else-1===(S=E[C[A]])&&(S=m++,E[C[A]]=S,p.setPoint(S,x),Z.copyData(W,C[A],S));0!==A&&S===l[d-1]||(l[d++]=S)}d>2&&l[0]===l[d-1]&&d--,d>2||!t.convertPolysToLines?(ce=a(j,ce,d,l),y=oe++,J.copyData(Q,h,y),ne!==y&&w("Poly ID fault in poly test"),ne++):2!==d&&t.convertLinesToPoints?1===d&&(L||(L=g.default.newInstance({numberOfComponents:O.getNumberOfComponents(),size:5,dataType:O.getDataType()})),ue=a(_,ue,d,l),y=ae++,K.copyData(Q,h,y),ee!==y&&w("Vertex ID fault in poly test"),ee++):(k||(k=g.default.newInstance({numberOfComponents:R.getNumberOfComponents(),size:5,dataType:R.getDataType()}),X=D.default.newInstance(),X.initialize(),X.copyAllocate(Q)),le=a(B,le,d,l),y=ie++,X.copyData(Q,h,y),te!==y&&w("Line ID fault in poly test"),te++)}}if(U.getNumberOfCells()>0){z=g.default.newInstance({numberOfComponents:U.getNumberOfComponents(),size:U.getSize(),dataType:U.getDataType()}),$=D.default.newInstance(),$.initialize(),$.copyAllocate(Q);for(var ye=0;ye<U.getSize();h++){for(U.getCell(ye,N),b=N.length,C=N,ye+=b+1,d=0,A=0;A<b;A++){if(s.getPoint(C[A],P),e.operateOnPoint(P,x),t.pointMerging){var Ae=t.locator.insertUniquePoint(x,T);S=T[0],Ae&&Z.copyData(W,C[A],S)}else-1===(S=E[C[A]])&&(S=m++,E[C[A]]=S,p.setPoint(S,x),Z.copyData(W,C[A],S));0!==A&&S===l[d-1]||(l[d++]=S)}d>3||!t.convertStripsToPolys?(de=a(G,de,d,l),y=se++,$.copyData(Q,h,y),re!==y&&w("Strip ID fault in strip test"),re++):3!==d&&t.convertPolysToLines?2!==d&&t.convertLinesToPoints?1===d&&(L||(L=g.default.newInstance({numberOfComponents:O.getNumberOfComponents(),size:5,dataType:O.getDataType()})),ue=a(_,ue,d,l),y=ae++,K.copyData(Q,h,y),ee!==y&&w("Vertex ID fault in strip test"),ee++):(k||(k=g.default.newInstance({numberOfComponents:R.getNumberOfComponents(),size:5,dataType:R.getDataType()}),X=D.default.newInstance(),X.initialize(),X.copyAllocate(Q)),le=a(B,le,d,l),y=ie++,X.copyData(Q,h,y),te!==y&&w("Line ID fault in strip test"),te++):(F||(F=g.default.newInstance({numberOfComponents:V.getNumberOfComponents(),size:5,dataType:V.getDataType()}),J=D.default.newInstance(),J.initialize(),J.copyAllocate(Q)),ce=a(j,ce,d,l),y=oe++,J.copyData(Q,h,y),ne!==y&&w("Poly ID fault in strip test"),ne++)}}l.length=0,t.pointMerging?(t.locator.initialize(),p.setData(new(window[p.getDataType()])(v),3)):(p.setNumberOfPoints(m),E=null);var Se=ee;if(k)for(A=0;A<te;A++,Se++)K.copyData(X,A,Se);if(F)for(A=0;A<ne;A++,Se++)K.copyData(J,A,Se);if(z)for(A=0;A<re;A++,Se++)K.copyData($,A,Se);o.setPoints(p),L&&(L.setData(new(window[O.getDataType()])(_)),o.setVerts(L)),k&&(k.setData(new(window[R.getDataType()])(B)),o.setLines(k)),F&&(F.setData(new(window[V.getDataType()])(j)),o.setPolys(F)),z&&(z.setData(new(window[U.getDataType()])(G)),o.setStrips(z)),r[0]=o}}}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,C,n),u.default.obj(e,t),u.default.algo(e,t,1,1),u.default.setGet(e,t,["toleranceIsAbsolute","tolerance","absoluteTolerance","convertLinesToPoints","convertPolysToLines","convertStripsToPolys","pointMerging","locator","pieceInvariant","outputPointsPrecision"]),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(4),c=r(l),d=n(6),f=r(d),m=n(11),g=r(m),p=n(1),v=r(p),h=n(149),y=r(h),A=n(150),S=r(A),T=n(35),M=r(T),b=n(99),D=r(b),I=n(5),w=u.default.vtkErrorMacro,C={pointMerging:1,tolerance:0,absoluteTolerance:1,convertLinesToPoints:1,convertPolysToLines:1,convertStripsToPolys:1,toleranceIsAbsolute:0,locator:null,pieceInvariant:1,outputPointsPrecision:2},N=t.newInstance=u.default.newInstance(o,"vtkCleanPolyData");t.default={newInstance:N,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){n[0]=e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3],n[1]=e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7],n[2]=e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]}function i(e,t,n,r){a(e,t,n);for(var i=0;i<3;i++)r[i]=e[i],r[3+i]=e[4+i],r[6+i]=e[8+i]}function o(e,t,n){n[0]=e[0]*t[0]+e[1]*t[1]+e[2]*t[2],n[1]=e[4]*t[0]+e[5]*t[1]+e[6]*t[2],n[2]=e[8]*t[0]+e[9]*t[1]+e[10]*t[2]}function s(e,t,n){var r=m.mat4.create();m.mat4.invert(r,e),m.mat4.transpose(r,r),o(r,t,n),h.default.normalize(n)}function u(e,t,n,r){for(var i=0;i<r;i++){var o=[t[3*i],t[3*i+1],t[3*i+2]],s=[];a(e,o,s),n[3*i]=s[0],n[3*i+1]=s[1],n[3*i+2]=s[2]}}function l(e,t,n,r){for(var a=0;a<r;a++){var i=[t[3*a],t[3*a+1],t[3*a+2]],s=[];o(e,i,s),n[3*a]=s[0],n[3*a+1]=s[1],n[3*a+2]=s[2]}}function c(e,t,n,r){for(var a=0;a<r;a++)o(e,[t[3*a],t[3*a+1],t[3*a+2]],n),h.default.normalize(n)}function d(e,t){t.classHierarchy.push("vtkLandmarkTransform"),e.transformNormal=function(n,r){var a=r||t.internalPoint;return e.update(),e.internalTransformNormal(n,a),a},e.transformNormalXYZ=function(t,n,r){return e.transformNormalReturn([t,n,r])},e.transformVector=function(n,r){var a=r||t.internalPoint;return e.update(),e.internalTransformVector(n,a),a},e.transformVectorXYZ=function(t,n,r){return e.transformVectorReturn([t,n,r])},e.internalTransformDerivative=function(e,n,r){i(t.matrix.getElement(),e,n,r)},e.internalTransformPoint=function(e,n){a(t.matrix.getElement(),e,n)},e.internalTransformNormal=function(e,n){s(t.matrix.getElement(),e,n)},e.internalTransformVector=function(e,n){o(t.matrix.getElement(),e,n)},e.transformPointsNormalsVectors=function(t,n,r,a,i,o){e.transformPoints(t,n),r&&e.transformNormals(r,a),i&&e.transformVectors(i,o)},e.getLinearInverse=function(){return e.getInverse()},e.transformPoints=function(n,r){var i=n.getNumberOfPoints();e.update();for(var o=r.getNextTupleId(),s=0;s<i;s++){var u=n.getPoint(s),l=[];a(t.matrix.getElement(),u,l),r.setPoint(o++,l[0],l[1],l[2])}r.setNextTupleId(o)},e.transformNormals=function(n,r){var a=n.getNumberOfTuples(),i=m.mat4.create();e.update(),m.mat4.copy(i,t.matrix.getElement()),m.mat4.invert(i,i),m.mat4.transpose(i,i);for(var o=r.getNextTupleId(),u=0;u<a;u++){var l=n.getTuple(u),c=[];s(t.matrix.getElement(),l,c),r.setTuple(o++,c)}r.setNextTupleId(o)},e.transformVectors=function(n,r){var a=n.getNumberOfTuples();e.update();for(var i=r.getNextTupleId(),s=0;s<a;s++){var u=n.getTuple(s),l=[];o(t.matrix.getElement(),u,l),r.setTuple(i++,l)}r.setNextTupleId(i)}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),p.default.obj(e,t),A.default.extend(e,t,n),d(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=f;var m=n(3),g=n(0),p=r(g),v=n(1),h=r(v),y=n(271),A=r(y),S=t.STATIC={vtkLinearTransformDerivative:i,vtkLinearTransformPoint:a,vtkLinearTransformVector:o,vtkLinearTransformNormal:s,vtkLinearTransformPoints:u,vtkLinearTransformVectors:l,vtkLinearTransformNormals:c},T={},M=t.newInstance=p.default.newInstance(f,"vtkLinearTransform");t.default=Object.assign({newInstance:M,extend:f},S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("vtkGlyph3D");var n=Object.assign({},e);e.setScaleModeToScaleByScalar=function(){e.setScaleMode(c.ScaleMode.SCALE_BY_SCALAR)},e.setScaleModeToScaleByVector=function(){e.setScaleMode(c.ScaleMode.SCALE_BY_VECTOR)},e.setScaleModeToScaleByVectorComponents=function(){e.setScaleMode(c.ScaleMode.SCALE_BY_VECTORCOMPONENTS)},e.setScaleModeToDataScalingOff=function(){e.setScaleMode(c.ScaleMode.DATA_SCALING_OFF)},e.getScaleModeAsString=function(){return t.scaleMode===c.ScaleMode.SCALE_BY_SCALAR?"ScaleByScalar":t.scaleMode===c.ScaleMode.SCALE_BY_VECTOR?"ScaleByVector":"DataScalingOff"},e.setColorModeToColorByScale=function(){e.setColorMode(c.ColorMode.COLOR_BY_SCALE)},e.setColorModeToColorByScalar=function(){e.setColorMode(c.ColorMode.COLOR_BY_SCALAR)},e.setColorModeToColorByVector=function(){e.setColorMode(c.ColorMode.COLOR_BY_VECTOR)},e.getColorModeAsString=function(){return t.colorMode===c.ColorMode.COLOR_BY_SCALAR?"ColorByScalar":t.colorMode===c.ColorMode.COLOR_BY_VECTOR?"ColorByVector":"ColorByScale"},e.setVectorModeToUseVector=function(){e.setVectorMode(c.VectorMode.USE_VECTOR)},e.setVectorModeToUseNormal=function(){e.setVectorMode(c.VectorMode.USE_NORMAL)},e.setVectorModeToVectorRotationOff=function(){e.setVectorMode(c.VectorMode.VECTOR_ROTATION_OFF)},e.getVectorModeAsString=function(){return t.vectorMode===c.VectorMode.USE_VECTOR?"UseVector":t.vectorMode===c.VectorMode.USE_NORMAL?"UseNormal":"VectorRotationOff"},e.setIndexModeToScalar=function(){e.setIndexMode(c.IndexMode.INDEXING_BY_SCALAR)},e.setIndexModeToVector=function(){e.setIndexMode(c.IndexMode.INDEXING_BY_VECTOR)},e.setIndexModeToOff=function(){e.setIndexMode(c.IndexMode.INDEXING_OFF)},e.getIndexModeAsString=function(){return t.indexMode===c.IndexMode.INDEXING_OFF?"IndexingOff":t.indexMode===c.IndexMode.INDEXING_BY_SCALAR?"IndexingByScalar":"IndexingByVector"},e.getMTime=function(){var e=n.getMTime();if(t.sourceTransform){var r=t.sourceTransform.getMTime();e=r>e?r:e}return e},e.isPointVisible=function(e,t){return 1},e.setSourceData=function(t){e.setSourceDataWithId(0,t)},e.setSourceDataWithId=function(t,n){e.setInputData(n,1)},e.setSourceConnection=function(t){e.setSourceConnectionWithId(0,t)},e.setSourceConnectionWithId=function(t){e.setInputConnection(t,1)},e.getSource=function(t){return e.getInputData(1)},e.requestData=function(n,r){var i=n[0],o=n[1],u=f.default.newInstance(),l=null,d=null;if(r[0]=null,i&&u){var m=i.getPoints().getNumberOfPoints();if(m<1)return I("No points to glyph!"),void(r[0]=u);var p=u.getPointData(),A=u.getCellData(),T=i.getPointData(),b=T.getNormals(),N=T.getScalars();N||(N=l);var P=0,x=0,E=0,O=0,L=0,_=0,R=0,k=0,B=0,V=0,F=0,j=[0,0,0],U=[0,0,0],z=[0,0,0],G=[0,0,0],W=0,Q=0,Y=0,q=0,H=0,Z=null,K=null,X=null,J=null,$=null,ee=null,te=null,ne=null,re=null,ae=null,ie=null,oe=D.default.newInstance(),se=S.default.newInstance(),ue=M.default.newInstance(),le=M.default.newInstance(),ce=M.default.newInstance(),de=M.default.newInstance(),fe=null;if(T&&(fe=T.getArray(y.ghostArrayName)),fe&&fe.getDataType()===h.VtkDataTypes.UNSIGNED_CHAR&&1===fe.getNumberOfComponents()&&(Z=fe.getData()),L=t.range[1]-t.range[0],0===L&&(L=1),W=t.vectorMode!==c.VectorMode.VECTOR_ROTATION_OFF&&(t.vectorMode,c.VectorMode.USE_VECTOR,t.vectorMode===c.VectorMode.USE_NORMAL&&null!==b)?1:0,t.indexMode===c.IndexMode.INDEXING_BY_SCALAR&&!l||t.indexMode===c.IndexMode.INDEXING_BY_VECTOR&&(t.vectorMode===c.VectorMode.USE_VECTOR||!b&&t.vectorMode===c.VectorMode.USE_NORMAL)){if(!o)return void w("Indexing on but don't have data to index with");C("Turning indexing off: no data to index with"),t.indexMode=c.IndexMode.INDEXING_OFF}if(p.copyVectorsOff(),p.copyNormalsOff(),p.copyTCoordsOff(),!o){X=f.default.newInstance();var me=S.default.newInstance({numberOfComponents:3,values:new Float32Array(6)});me.setPoint(0,0,0,0),me.setPoint(1,1,0,0);var ge=new Uint32Array(3);ge[0]=2,ge[1]=0,ge[2]=1,X.setPoints(me),X.getLines().setData(ge,1),o=X}if(t.indexMode!==c.IndexMode.INDEXING_OFF)for(T=null,Q=1,P=0,x=0,E=0;E<1;E++)null!==(o=n[1])&&(o.getPoints().getNumberOfPoints()>P&&(P=o.getPoints().getNumberOfPoints()),o.getNumberOfCells()>x&&(x=o.getNumberOfCells()),(K=o.getPointData().getNormals())||(Q=0));else J=o.getPoints(),P=J.getNumberOfPoints(),x=o.getNumberOfCells(),K=o.getPointData().getNormals(),Q=K?1:0,$=o.getPointData().getTCoords(),Y=$?1:0,T=i.getPointData(),p.copyAllocate(T,m*P),t.fillCellData&&A.copyAllocate(T,m*x);if(ue.setNumberOfIds(P),le.setNumberOfIds(P),ce.setNumberOfIds(x),de.setNumberOfIds(x),ae=S.default.newInstance(),ae.setNumberOfPoints(m*P),ae.setNextTupleId(0),t.generatePointIds&&(ie=v.default.newInstance({numberOfComponents:1,size:m*P,dataType:h.VtkDataTypes.INT}),ie.setName(t.pointIdsName),p.addArray(ie)),t.colorMode===c.ColorMode.COLOR_BY_SCALAR&&N?(ee=v.default.newInstance({numberOfComponents:N.getNumberOfComponents(),size:N.getNumberOfComponents()*m*P,dataType:N.getDataType()}),ee.setName(N.getName())):t.colorMode===c.ColorMode.COLOR_BY_SCALE&&l?(ee=v.default.newInstance({numberOfComponents:1,size:m*P,dataType:h.VtkDataTypes.FLOAT}),ee.setName("GlyphScale"),t.scaleMode===c.ScaleMode.SCALE_BY_SCALAR&&ee.setName(l.getName())):t.colorMode===c.ColorMode.COLOR_BY_VECTOR&&W&&(ee=v.default.newInstance({numberOfComponents:1,size:m*P,dataType:h.VtkDataTypes.FLOAT}),ee.setName("VectorMagnitude")),W&&(te=v.default.newInstance({numberOfComponents:3,size:3*m*P,dataType:h.VtkDataTypes.FLOAT}),te.setName("GlyphVector")),Q&&(ne=v.default.newInstance({numberOfComponents:3,size:3*m*P,dataType:h.VtkDataTypes.FLOAT}),ne.setName("Normals")),Y){var pe=$.getNumberOfComponents();re=v.default.newInstance({numberOfComponents:pe,size:pe*m*P,dataType:h.VtkDataTypes.FLOAT}),re.setName("TCoords")}for(se.setNumberOfPoints(P),q=0,H=0,O=0;O<m;O++){var ve=function(){if(_=1,R=1,k=1,l&&(B=l.getComponent(O,0),t.scaleMode!==c.ScaleMode.SCALE_BY_SCALAR&&t.scaleMode!==c.ScaleMode.DATA_SCALING_OFF||(_=B,R=B,k=B)),W){var r=t.vectorMode===c.VectorMode.USE_NORMAL?b:null;if(r.getNumberOfComponents()>3)return w("vtkDataArray "+r.getName()+" has more than 3 components.\n"),{v:void 0};U[0]=0,U[1]=0,U[2]=0,r.getTuple(O,U),F=g.default.norm(U),t.scaleMode===c.ScaleMode.SCALE_BY_VECTORCOMPONENTS?(_=U[0],R=U[1],k=U[2]):t.scaleMode===c.ScaleMode.SCALE_BY_VECTOR&&(_=F,R=F,k=F)}if(t.clamping&&(_=g.default.clampValue(_,t.range[0],t.range[1]),_=(_-t.range[0])/L,R=g.default.clampValue(R,t.range[0],t.range[1]),R=(R-t.range[0])/L,k=g.default.clampValue(k,t.range[0],t.range[1]),k=(k-t.range[0])/L),t.indexMode!==c.IndexMode.INDEXING_OFF){V=t.indexMode===c.IndexMode.INDEXING_BY_SCALAR?B:F;var s=1*(V-t.range[0])/L;s=g.default.clampValue(s,0,0),null!==(o=n[1])&&(J=o.getPoints(),K=o.getPointData().getNormals(),P=J.getNumberOfPoints(),x=o.getNumberOfCells())}if(!o)return"continue";if(Z&&Z[O]===y.PointGhostTypes.DUPLICATEPOINT)return"continue";if(d&&!d.isPointVisible(O))return"continue";if(!e.isPointVisible(i,O))return"continue";oe.identity();var f={verts:[o.getVerts(),Array.from(u.getVerts().getData()),u.getVerts()],lines:[o.getLines(),Array.from(u.getLines().getData()),u.getLines()],polys:[o.getPolys(),Array.from(u.getPolys().getData()),u.getPolys()],strips:[o.getStrips(),Array.from(u.getStrips().getData()),u.getStrips()]};if(Object.keys(f).forEach(function(e){for(var t=f[e][0],n=f[e][1],r=f[e][2],i=0;i<t.getData().length;){var o=t.getCell(i);if(0!==q)for(var s=0;s<o.length;s++)o[s]+=q;n.push(o.length),n.push.apply(n,a(o)),i+=o.length+1}r.setData(new(window[r.getDataType()])(n))}),i.getPoints().getPoint(O,j),oe.translate(j[0],j[1],j[2]),W){for(E=0;E<P;E++)te.setTuple(E+q,U);t.orient&&F>0&&(0===U[1]&&0===U[2]?U[0]<0&&oe.rotateWXYZ(180,0,1,0):(z[0]=(U[0]+F)/2,z[1]=U[1]/2,z[2]=U[2]/2,oe.rotateWXYZ(180,z)))}if(Y)for(E=0;E<P;E++)$.getTuple(E,G),re.setTuple(E+q,G);if(l&&t.colorMode===c.ColorMode.COLOR_BY_SCALE)for(E=0;E<P;E++)ee.setTuple(E+q,_);else if(N&&t.colorMode===c.ColorMode.COLOR_BY_SCALAR)for(E=0;E<P;E++){var m=N.getTuple(O);ee.setTuple(q+E,m)}if(W&&t.colorMode===c.ColorMode.COLOR_BY_VECTOR)for(E=0;E<P;E++)ee.setTuple(E+q,F);if(t.scaling&&(t.scaleMode===c.ScaleMode.DATA_SCALING_OFF?(_=t.scaleFactor,R=t.scaleFactor,k=t.scaleFactor):(_*=t.scaleFactor,R*=t.scaleFactor,k*=t.scaleFactor),0===_&&(_=1e-10),0===R&&(R=1e-10),0===k&&(k=1e-10),oe.scale([_,R,k])),t.sourceTransform?(se.reset(),t.sourceTransform.transformPoints(J,se),oe.transformPoints(se,ae)):oe.transformPoints(J,ae),Q&&oe.transformNormals(K,ne),T){for(E=0;E<P;++E)ue.insertId(E,O),le.insertId(E,q+E);if(p.copyDataWithIds(T,ue,le),t.fillCellData){for(E=0;E<x;++E)ce.insertId(E,O),de.insertId(E,H+E);A.copyDataWithIds(T,ce,de)}}if(t.generatePointIds){var v=ie.getNextTupleId();for(E=0;E<P;E++)ie.setTuple(v+E,O);ie.setNextTupleId(v+P)}q+=P,H+=x}();switch(ve){case"continue":continue;default:if("object"===(void 0===ve?"undefined":s(ve)))return ve.v}}if(u.setPoints(ae),ee){var he=p.addArray(ee);p.setActiveAttributeByIndex(he,y.AttributeTypes.SCALARS)}te&&p.setVectors(te),ne&&p.setNormals(ne),re&&p.setTCoords(re),r[0]=u}}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,N,n),l.default.obj(e,t),l.default.setGetArray(e,t,["range"],2),l.default.setGet(e,t,["scaling","scaleMode","colorMode","scaleFactor","orient","clamping","vectorMode","indexMode","generatePointIds","pointIdsName","fillCellData","sourceTransform"]),l.default.algo(e,t,2,1),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.extend=o;var u=n(0),l=r(u),c=n(531),d=n(4),f=r(d),m=n(1),g=r(m),p=n(2),v=r(p),h=n(5),y=n(40),A=n(6),S=r(A),T=n(18),M=r(T),b=n(96),D=r(b),I=l.default.vtkDebugMacro,w=l.default.vtkErrorMacro,C=l.default.vtkWarningMacro,N={source:null,scaling:1,scaleMode:c.ScaleMode.SCALE_BY_SCALAR,colorMode:c.ColorMode.COLOR_BY_SCALE,scaleFactor:1,range:[0,1],orient:1,vectorMode:c.VectorMode.USE_VECTOR,clamping:0,indexMode:c.IndexMode.INDEXING_OFF,generatePointIds:0,fillCellData:0,pointIdsName:"InputPointIds",sourceTransform:null},P=t.newInstance=l.default.newInstance(o,"vtkGlyph3D");t.default={newInstance:P,extend:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.ScaleMode={SCALE_BY_SCALAR:0,SCALE_BY_VECTOR:1,SCALE_BY_VECTORCOMPONENTS:2,DATA_SCALING_OFF:3},a=t.ColorMode={COLOR_BY_SCALE:0,COLOR_BY_SCALAR:1,COLOR_BY_VECTOR:2},i=t.VectorMode={USE_VECTOR:0,USE_NORMAL:1,VECTOR_ROTATION_OFF:2},o=t.IndexMode={INDEXING_OFF:0,INDEXING_BY_SCALAR:1,INDEXING_BY_VECTOR:2};t.default={ScaleMode:r,ColorMode:a,VectorMode:i,IndexMode:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPolyDataPointPlacer"),e.addProp=function(e){t.surfaceProps.push(e),t.propPicker.addPickList(e)},e.removeViewProp=function(e){var n=t.surfaceProps.indexOf(e);n>=0&&t.surfaceProps.splice(n,1),t.propPicker.deletePickList(e)},e.removeAllProps=function(){t.surfaceProps.length=0,t.propPicker.initializePickList()},e.hasProp=function(e){return t.surfaceProps.indexOf(e)>=0},e.getNumberOfProps=function(){return t.surfaceProps.length},e.computeWorldPosition=function(e,n,r,a){if(t.propPicker.pick([n[0],n[1],0],e)){var i=t.propPicker.getActors();if(i.length>0)for(var o=!1,s=0;s<t.surfaceProps.length;s++){for(var u=t.surfaceProps[s],l=0;l<i.length&&!o;l++){var c=i[l];o=c===u}if(o){var f=t.propPicker.getPickPosition(),m=d.default.computeWorldToDisplay(e,f[0],f[1],f[2]);m[2]-=.01;var g=d.default.computeDisplayToWorld(e,m[0],m[1],m[2]);return r[0]=g[0],r[1]=g[1],r[2]=g[2],1}}}return 0},e.computeWorldPositionWithRef=function(t,n,r,a,i){return e.computeWorldPosition(t,n,a,i)},e.validateWorldPosition=function(e){var n=[1e-12,1e-12,1e-12];return t.pointBounds[0]<t.pointBounds[1]&&!m.default.pointIsWithinBounds(e,t.pointBounds,n)?0:1},e.validateWorldPositionWithOrient=function(t,n){return e.validateWorldPosition(t)},e.validateDisplayPosition=function(e,t){return 1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,v,n),l.default.extend(e,t,n),s.default.get(e,t,["PropPicker"]),t.propPicker=p.default.newInstance(),t.propPicker.setPickFromList(1),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(269),l=r(u),c=n(21),d=r(c),f=n(1),m=r(f),g=n(533),p=r(g),v={surfaceProps:[],propPicker:null},h=t.newInstance=s.default.newInstance(i,"vtkPolyDataPointPlacer");t.default={newInstance:h,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPropPicker")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(217),l=r(u),c={pickFromProps:null,worldPointPicker:null},d=t.newInstance=s.default.newInstance(i,"vtkPropPicker");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";e.exports=function(){return n(133)('!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){"use strict";function r(t,n,e,r){const o=e[0]-n[0],i=e[1]-n[1],u=e[2]-n[2],a=t[0]-n[0],c=t[1]-n[1],s=t[2]-n[2];r[0]=i*s-u*c,r[1]=u*a-o*s,r[2]=o*c-i*a}function o(t){var n,e=0;const r=[];r[0]=t[0],r[1]=t[1],r[2]=1-t[0]-t[1];for(var o=0;o<3;o++)(n=r[o]<0?-r[o]:r[o]>1?r[o]-1:0)>e&&(e=n);return e}function i(t,n,e,r){const o={intersection:!1,t:Number.MAX_VALUE,x:[]},i=[];l.subtract(n,t,i);const u=l.dot(r,e)-l.dot(r,t),a=l.dot(r,i);var c,s;return c=a<0?-a:a,s=u<0?-u*p:u*p,c<=s?o:(o.t=u/a,o.x[0]=t[0]+o.t*i[0],o.x[1]=t[1]+o.t*i[1],o.x[2]=t[2]+o.t*i[2],o.intersection=o.t>=0&&o.t<=1,o)}function u(t,n,e,r){const o=[];l.subtract(t,n,o);const i=l.dot(e,o),u=l.dot(e,e);0!==u?(r[0]=t[0]-i*e[0]/u,r[1]=t[1]-i*e[1]/u,r[2]=t[2]-i*e[2]/u):(r[0]=t[0],r[1]=t[1],r[2]=t[2])}function a(t,n,e,r,o,i){const a={dist2:0,evaluation:-1},c=[],s=[],f=[],p=[],y=[];i[2]=0,u(o,t,r,y);for(var v=0,b=0,d=0,h=0;d<3;d++){const m=r[d]<0?-r[d]:r[d];m>v&&(v=m,b=d)}for(d=0;d<3;d++)d!==b&&(p[h++]=d);for(d=0;d<2;d++)c[d]=y[p[d]]-e[p[d]],s[d]=t[p[d]]-e[p[d]],f[d]=n[p[d]]-e[p[d]];const _=l.determinant2x2(s,f);if(0===_)return i[0]=0,i[1]=0,a.evaluation=-1,a;i[0]=l.determinant2x2(c,f)/_,i[1]=l.determinant2x2(s,c)/_;const g=[];return g[0]=1-(i[0]+i[1]),g[1]=i[0],g[2]=i[1],g[0]>=0&&g[0]<=1&&g[1]>=0&&g[1]<=1&&g[2]>=0&&g[2]<=1?a.evaluation=1:a.evaluation=0,a}function c(t,n,e,o,u,c,s,f){const l={t:0,intersect:-1};f[2]=0;const p=[];r(t,n,e,p);const y=[p[0],p[1],p[2]],v=y[0]*y[0]+y[1]*y[1]+y[2]*y[2];if(0!==v){const b=Math.sqrt(v);y[0]/=b,y[1]/=b,y[2]/=b}if(0!==y[0]||0!==y[1]||0!==y[2]){const d=i(o,u,t,y);if(l.t=d.t,s[0]=d.x[0],s[1]=d.x[1],s[2]=d.x[2],!d.intersection)return f[0]=0,f[1]=0,l.intersect=0,l;const h=a(t,n,e,p,s,f);if(h.evaluation>=0)return l.intersect=h.evaluation,l}return l.intersect=0,l}Object.defineProperty(n,"__esModule",{value:!0});var s=e(1),f=e.n(s);const l={subtract:function(t,n,e){e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2]},dot:function(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]},distance2BetweenPoints:function(t,n){return(t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1])+(t[2]-n[2])*(t[2]-n[2])},determinant2x2:function(){const t=arguments;return 2===arg.length?t[0][0]*t[1][1]-t[1][0]*t[0][1]:4===t.length?t[0]*t[3]-t[1]*t[2]:Number.NaN}},p=1e-6;f()(function(t,n){const e=t.inputData,r=t.pointsData,i=t.cellStart,u=t.p1,a=t.p2,s=t.t1,l=t.t2,p=t.tol,y=t.tolerance,v=[[],[],[]],b=[0,0,0],d=[0,0,0];var h=Number.MAX_VALUE,m=Number.MAX_VALUE;const _=[0,0,0];var g=-1;const w=[0,0,0];for(var x=0,O=0,j=0;O<e.length;x++)if(!(e[O++]<3)){for(j=0;j<3;j++){const P=e[O++];v[j][0]=r[3*P],v[j][1]=r[3*P+1],v[j][2]=r[3*P+2]}const A=c(v[1],v[2],v[0],u,a,p,b,d);if(1===A.intersect&&A.t<=h+y&&A.t>=s&&A.t<=l){const S=o(d);(S<m||S===m&&A.t<h)&&(h=A.t,m=S,g=x,w[0]=b[0],w[1]=b[1],w[2]=b[2],_[0]=d[0],_[1]=d[1],_[2]=d[2])}}const N={};return N.tMin=h,N.pDistMin=m,N.minCellId=g>=0?i+g:-1,N.minPCoords=_,N.minXYZ=w,Promise.resolve(new f.a.TransferableResponse(N,[]))})},function(t,n,e){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!n||"object"!==(void 0===n?"undefined":s(n))&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+(void 0===n?"undefined":s(n)));t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function a(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function c(t){var n=a({},m,t),e=self.postMessage.bind(self),c=new(function(t){function r(){return o(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return u(r,t),f(r,[{key:"emit",value:function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e({eventName:t,args:r}),this}},{key:"emitLocally",value:function(t){for(var n,e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];(n=l(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"emit",this)).call.apply(n,[this,t].concat(o))}},{key:"operation",value:function(t,e){return n[t]=e,this}}]),r}(y)),s=function(t,n,e){var r=function(n){n&&n instanceof g?w(t,h,n.payload,n.transferable):w(t,h,n)},o=function(n){w(t,d,{message:n.message,stack:n.stack})};try{var i=p(t,n,e);_(i)?i.then(r).catch(o):r(i)}catch(t){o(t)}},p=function(t,e,r){var o=n[r||m];if(!o)throw new Error("Not found handler for this request");return o(e,x.bind(null,t))},w=function(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];e([v,t,n,r],o)},x=function(t,n,r){if(!n)throw new Error("eventName is required");if("string"!=typeof n)throw new Error("eventName should be string");e([b,t,n,r])};return self.addEventListener("message",function(t){var n=t.data;Array.isArray(n)?s.apply(void 0,r(n)):n&&n.eventName&&c.emitLocally.apply(c,[n.eventName].concat(r(n.args)))}),c}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),l=function t(n,e,r){null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,e);if(void 0===o){var i=Object.getPrototypeOf(n);return null===i?void 0:t(i,e,r)}if("value"in o)return o.value;var u=o.get;return void 0!==u?u.call(r):void 0},p="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return void 0===t?"undefined":s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":s(t)},y=e(2),v=0,b=1,d=0,h=1,m="main",_=function(t){return"object"===(void 0===t?"undefined":p(t))&&"function"==typeof t.then&&"function"==typeof t.catch},g=function t(n,e){o(this,t),this.payload=n,this.transferable=e};t.exports=c,t.exports.TransferableResponse=g},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(){function t(){r(this,t),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return o(t,[{key:"emit",value:function(t){if(!this.__listeners[t])return this;for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];var o=!0,i=!1,u=void 0;try{for(var a,c=this.__listeners[t][Symbol.iterator]();!(o=(a=c.next()).done);o=!0)a.value.apply(void 0,e)}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return this}},{key:"once",value:function(t,n){var e=this,r=function r(){e.off(t,r),n.apply(void 0,arguments)};return this.on(t,r)}},{key:"on",value:function(t,n){return this.__listeners[t]||(this.__listeners[t]=[]),this.__listeners[t].push(n),this}},{key:"off",value:function(t,n){return this.__listeners[t]=n?this.__listeners[t].filter(function(t){return t!==n}):[],this}}]),t}();t.exports=i}]);',null)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkPolyDataContourLineInterpolator")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),s.default.get(e,t,["polys"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(270),l=r(u),c={polys:[]},d=t.newInstance=s.default.newInstance(i,"vtkPolyDataContourLineInterpolator");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e={};return e.adjacency={},e.graph=null,e.path=[],e}function i(e,t){t.classHierarchy.push("vtkDijkstraGraphGeodesicPath2"),e.requestData=function(n,r){var a=n[0];if(a){r[0]||(r[0]=g.default.newInstance());var i=r[0];t.adjacencyBuildTime.getMTime()<a.getMTime()?e.initialize(a):e.reset(),0!==a.getPoints().getNumberOfPoints()&&(e.shortestPath(t.startVertex,t.endVertex),e.traceShortestPath(a,i))}},e.initialize=function(t){e.reset(),e.buildAdjacency(t)},e.reset=function(){t.idList.reset()},e.buildAdjacency=function(n){for(var r=n,a=r.getNumberOfCells(),i=[],o="vtkDijkstraGraphGeodesicPath2"===e.getClassName(),s=0;s<a;s++){var u=r.getCellType(s);if(u===T.VTKCellTypes.VTK_POLYGON||u===T.VTKCellTypes.VTK_TRIANGLE||u===T.VTKCellTypes.VTK_LINE){r.getCellPoints(s,i);for(var l=i.length,c=0;c<l;++c){var d=i[c],f=i[(c+1)%l],m=t.internals.adjacency[d];m||(m={},t.internals.adjacency[d]=m);var g=m[f];"number"!==g&&(g=e.calculateStaticEdgeCost(n,d,f),m[f]=g);var p=t.internals.adjacency[f];p||(p={},t.internals.adjacency[f]=p),"number"!=typeof p[d]&&(o&&"number"==typeof g||(g=e.calculateStaticEdgeCost(n,f,d)),p[d]=g)}}}t.internals.graph=new M(t.internals.adjacency),t.adjacencyBuildTime.modified()},e.calculateStaticEdgeCost=function(e,n,r){var a=[],i=[];e.getPoints().getPoint(n,a),e.getPoints().getPoint(r,i);var o=Math.sqrt(v.default.distance2BetweenPoints(a,i));if(t.useScalarWeights){var s=e.getPointData().getScalars(),u=s.getValue(r),l=u*u;0!==l&&(o/=l)}return o},e.shortestPath=function(e,n){var r=[e.toString()];e!==n&&(r=t.internals.graph.path(e.toString(),n.toString())),r||(r=[e.toString()]),t.internals.path=r},e.traceShortestPath=function(e,n){for(var r=y.default.newInstance(),a=S.default.newInstance(),i=e.getPoints(),o=[],s=[t.internals.path.length],u=t.internals.path,l=[0,0,0],c=0;c<u.length;c++){var d=Number(u[u.length-1-c]);t.idList.insertNextId(d),i.getPoint(d,l),o.push(l[0],l[1],l[2]),s.push(c)}r.setData(new(window[r.getDataType()])(o),3),s[0]=r.getNumberOfPoints(),a.setData(new Int32Array(s)),n.setPoints(r),n.setLines(a)}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,b,n),c.default.extend(e,t,n),u.default.get(e,t,["idList"]),u.default.setGet(e,t,["useScalarWeights"]),t.adjacencyBuildTime={},u.default.obj(t.adjacencyBuildTime,{mtime:0}),t.idList=f.default.newInstance(),t.internals=a(),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(537),c=r(l),d=n(18),f=r(d),m=n(4),g=r(m),p=n(1),v=r(p),h=n(6),y=r(h),A=n(11),S=r(A),T=n(121),M=n(539),b={adjacencyBuildTime:0,idList:null,useScalarWeights:0,internals:null},D=t.newInstance=u.default.newInstance(o,"vtkDijkstraGraphGeodesicPath2");t.default={newInstance:D,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtkGraphGeodesicPath")}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,c,n),l.default.extend(e,t,n),s.default.setGet(e,t,["startVertex","endVertex"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(538),l=r(u),c={startVertex:0,endVertex:0},d=t.newInstance=s.default.newInstance(i,"vtkGraphGeodesicPath");t.default={newInstance:d,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtkGeodesicPath")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.algo(e,t,1,1),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={},u=t.newInstance=o.default.newInstance(a,"vtkGeodesicPath");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";function r(e){var t=this;e instanceof Map?(s(e),this.graph=e):this.graph=e?o(e):new Map,this.addNode=function(e,n){var r=void 0;return n instanceof Map?(s(n),r=n):r=o(n),t.graph.set(e,r),t},this.addVertex=function(e,n){return t.addNode(e,n)},this.removeNode=function(e){return t.graph=i(t.graph,e),t},this.path=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.graph.size)return r.cost?{path:null,cost:0}:null;var i=new Set,o=new a,s=new Map,u=[],l=0,c=[];if(r.avoid&&(c=[].concat(r.avoid)),c.includes(e))throw new Error("Starting node ("+e+") cannot be avoided");if(c.includes(n))throw new Error("Ending node ("+n+") cannot be avoided");for(o.set(e,0);!o.isEmpty()&&"break"!==function(){var e=o.next();if(e.key===n){l=e.priority;for(var r=e.key;s.has(r);)u.push(r),r=s.get(r);return"break"}i.add(e.key),(t.graph.get(e.key)||new Map).forEach(function(t,n){if(i.has(n)||c.includes(n))return null;if(!o.has(n))return s.set(n,e.key),o.set(n,e.priority+t);var r=o.get(n).priority,a=e.priority+t;return a<r?(s.set(n,e.key),o.set(n,a)):null})}(););return u.length?(r.trim?u.shift():u=u.concat([e]),r.reverse||(u=u.reverse()),r.cost?{path:u,cost:l}:u):r.cost?{path:null,cost:0}:null},this.shortestPath=function(){return t.path.apply(t,arguments)}}var a=n(540),i=n(541),o=n(542),s=n(543);e.exports=r},function(e,t,n){"use strict";function r(){var e=this;this.keys=new Set,this.queue=[],this.sort=function(){e.queue.sort(function(e,t){return e.priority-t.priority})},this.set=function(t,n){var r=Number(n);if(Number.isNaN(r))throw new TypeError('"priority" must be a number');return e.keys.has(t)?e.queue.map(function(e){return e.key===t&&Object.assign(e,{priority:r}),e}):(e.keys.add(t),e.queue.push({key:t,priority:r})),e.sort(),e.queue.length},this.next=function(){var t=e.queue.shift();return e.keys.delete(t.key),t},this.isEmpty=function(){return Boolean(0===e.queue.length)},this.has=function(t){return e.keys.has(t)},this.get=function(t){return e.queue.find(function(e){return e.key===t})}}e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=new Map,i=!0,o=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var c=u.value,d=a(c,2),f=d[0],m=d[1];f!==t&&m instanceof Map?n.set(f,r(m,t)):f!==t&&n.set(f,m)}}catch(e){o=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}return n}var a=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=r},function(e,t,n){"use strict";function r(e){var t=Number(e);return!(Number.isNaN(t)||t<=0)}function a(e){var t=new Map;return Object.keys(e).forEach(function(n){var o=e[n];if(null!==o&&"object"===(void 0===o?"undefined":i(o))&&!Array.isArray(o))return t.set(n,a(o));if(!r(o))throw new Error('Could not add node at key "'+n+"\", make sure it's a valid node",o);return t.set(n,Number(o))}),t}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=a},function(e,t,n){"use strict";function r(e){if(!(e instanceof Map))throw new Error("Invalid graph: Expected Map instead found "+(void 0===e?"undefined":a(e)));e.forEach(function(e,t){if("object"===(void 0===e?"undefined":a(e))&&e instanceof Map)return void r(e);if("number"!=typeof e||e<=0)throw new Error("Values must be numbers greater than 0. Found value "+e+" at "+t)})}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){for(var r=n,a=e,i=n-e,o=1;r>=1;)o*=r,r--,a>1&&(o/=a,a--),i>1&&(o/=i,i--);return e>0&&(o*=Math.pow(t,e)),n-e>0&&(o*=Math.pow(1-t,n-e)),o}function i(e,t,n){if(e.getNumberOfCells()<=0)return!1;var r=t.getNumberOfIds();if(r<=0)return!1;n.reset();for(var a=[],i=[],o=[],s=0,u=0;u<r;u++){var l=t.getId(u),c=[];e.getCellPoints(l,c);var d=c.length;i.push(d);for(var f=0;f<d;f++)e.getPoints().getPoint(c[f],a),o.push(a[0]+re[0],a[1]+re[1],a[2]+re[2]),i.push(s),s++}var m=new Int32Array(i);n.getPolys().setData(m);var g=new Float32Array(o);return n.getPoints().setData(g,3),n.getPoints().modified(),!0}function o(e,t,n){if(e.getNumberOfCells()<=0)return!1;for(var r=g.default.newInstance(),a=[],o=0;o<t.getNumberOfIds();o++){var s=t.getId(o);e.getPointCells(s,a);for(var u=0;u<a.length;u++)r.insertUniqueId(a[u])}i(e,r,n);var l=n.getPoints();return!(!l||l.getNumberOfPoints()<=0)}function s(e,t){t.classHierarchy.push("yExtrudeWidget");var n=Object.assign({},e);e.setNumberOfControlPoints=function(e,n){t.numberOfControlPoints[0]===e&&t.numberOfControlPoints[1]===n||(t.numberOfControlPoints[0]=e,t.numberOfControlPoints[1]=n,t.numberOfControlPoints[0]<2&&(t.numberOfControlPoints[0]=2),t.numberOfControlPoints[1]<2&&(t.numberOfControlPoints[1]=2))},e.createDefaultProperties=function(){t.handleProperty=x.default.newInstance(),t.handleProperty.setColor(0,0,1),t.selectedHandleProperty=x.default.newInstance(),t.selectedHandleProperty.setColor(1,0,0),t.faceProperty=x.default.newInstance(),t.faceProperty.setColor(0,0,1),t.faceProperty.setOpacity(0),t.selectedFaceProperty=x.default.newInstance(),t.selectedFaceProperty.setColor(0,1,1),t.selectedFaceProperty.setOpacity(.25),t.outlineProperty=x.default.newInstance(),t.outlineProperty.setRepresentationToWireframe(),t.outlineProperty.setAmbient(1),t.outlineProperty.setAmbientColor(0,0,1),t.outlineProperty.setLineWidth(2),t.selectedOutlineProperty=x.default.newInstance(),t.selectedOutlineProperty.setRepresentationToWireframe(),t.selectedOutlineProperty.setAmbient(1),t.selectedOutlineProperty.setAmbientColor(0,1,0),t.selectedOutlineProperty.setLineWidth(2),t.centerHandle.setProperty(t.selectedHandleProperty)},e.setYorktalWidgetProperties=function(){t.handleProperty.setColor(1,0,0),t.handleProperty.setOpacity(1),t.selectedHandleProperty.setColor(0,1,0),t.selectedHandleProperty.setOpacity(1),t.selectedHandleProperty.setAmbient(.3),t.selectedHandleProperty.setAmbientColor(1,0,0),t.outlineProperty.setColor(.8,0,0),t.outlineProperty.setOpacity(1),t.outlineProperty.setLineWidth(2),t.selectedOutlineProperty.setColor(0,.8,0),t.selectedOutlineProperty.setOpacity(1),t.selectedOutlineProperty.setAmbient(.3),t.selectedOutlineProperty.setAmbientColor(0,1,0),t.selectedOutlineProperty.setLineWidth(2),t.faceProperty.setColor(.5,0,0),t.faceProperty.setOpacity(1),t.selectedFaceProperty.setColor(0,.5,0),t.selectedFaceProperty.setOpacity(1),t.selectedFaceProperty.setAmbient(.3),t.selectedFaceProperty.setAmbientColor(0,1,0)},e.getSurfaceInterplator=function(){return t.nurbs},e.setSurfaceInterplator=function(e){t.nurbs=e};var r=e.setEnabled;e.setEnabled=function(n){if(!t.interactor)return void te("The interactor must be set prior to enabling/disabling widget");var a=t.interactor.getCurrentRenderer();if(n){if(ne("Enabling widget"),t.enabled&&t.surfacePicker)return;if(!a)return;r(1),t.dataChanged=!1,t.surfacePicker=_.default.newInstance(),t.surfacePicker.setPickFromList(1);var i=e.getCurrActor();if(i&&t.surfacePicker.addPickList(i),e.invokeEnableEvent(),1===t.interactionMode&&t.nurbs){var o=t.nurbs.getDegree();t.degree[0]=o[0],t.degree[1]=o[1],e.updateCtrlPoints(null,!0)}}else{if(ne("Disabling widget"),!t.enabled&&!t.surfacePicker)return;r(0),a&&(t.selectData.reset(),a.hasViewProp(t.selectActor)&&a.removeActor(t.selectActor),a.hasViewProp(t.centerHandle)&&a.removeActor(t.centerHandle)),e.invokeDisableEvent(),t.surfacePicker=null}t.interactor.render()},e.placeWidget=function(e){},e.setPlaneCenter=function(e){t.planeCenter[0]=e[0],t.planeCenter[1]=e[1],t.planeCenter[2]=e[2],t.planeCetnerSet=!0},e.isDataChanged=function(){return t.dataChanged},e.setInteractionMode=function(e){t.interactionMode=e},e.rollback=function(){var n=e.getInput();if(t.nclip<3){if(1==++t.nclip){if(t.prePolyData1.getNumberOfPoints()<=0)return!1;n.reset(),n.deepCopy(t.prePolyData1)}else if(2===t.nclip){if(t.prePolyData2.getNumberOfPoints()<=0)return!1;n.reset(),n.deepCopy(t.prePolyData2)}else if(3===t.nclip){if(t.prePolyData3.getNumberOfPoints()<=0)return!1;n.reset(),n.deepCopy(t.prePolyData3)}}else n.reset(),n.deepCopy(t.initalData);return e.getInput().modified(),t.interactor.render(),!0},e.handleLeftButtonPress=function(n){var r=t.surfaceActor.getMapper().getInputData();e.setInputData(r);var a=e.onLeftButtonDown(n);return e.setLastEventPosition(n.position.x,n.position.y),a},e.onLeftButtonDown=function(n){t.moustion=!1;var r=n.position.x,a=n.position.y,i=n.pokedRenderer;return 0===t.interactionMode?i&&e.isInViewport(r,a,i)?(t.surfacePicker.pickSimple([r,a,0],i),t.surfacePicker.getActors().length>0?(t.state=ee.WidgetState.EXTRUDE,e.circlePick(e.getInput(),n)&&(e.constructHandles(n),i.hasViewProp(t.centerHandle)||i.addActor(t.centerHandle)),e.startInteraction(),e.invokeStartInteractionEvent(),t.interactor.render(),c.default.EVENT_ABORT):(t.state=ee.WidgetState.START,c.default.VOID)):(t.state=ee.WidgetState.OUTSIDE,c.default.VOID):c.default.VOID},e.handleMouseMove=function(n){var r=t.surfaceActor.getMapper().getInputData();e.setInputData(r);var a=e.onMouseMove(n);return e.setLastEventPosition(n.position.x,n.position.y),a},e.onMouseMove=function(n){if(t.state===ee.WidgetState.OUTSIDE)return c.default.VOID;var r=n.position.x,a=n.position.y,i=n.pokedRenderer;if(t.state===ee.WidgetState.SCALING)a>t.lastEventPosition[1]?e.zoomPlane(1,e.getInput(),n):e.zoomPlane(0,e.getInput(),n);else if(t.state===ee.WidgetState.MOVING)e.movePlane(e.getInput(),n);else if(t.state===ee.WidgetState.EXTRUDE)t.moustion=!0,e.adjustPoints(n);else{if(0!==t.interactionMode)return c.default.VOID;t.surfacePicker.pickSimple([r,a,0],i);var o=t.surfacePicker.getActors();if(!(o.length>0&&t.moustionPick))return c.default.VOID;e.circlePick(e.getInput(),n)}return t.interactor.render(),e.invokeInteractionEvent(),c.default.EVENT_ABORT},e.handleLeftButtonRelease=function(n){var r=t.surfaceActor.getMapper().getInputData();return e.setInputData(r),e.onLeftButtonUp(n)},e.onLeftButtonUp=function(n){var r=n.pokedRenderer;if(r.hasViewProp(t.centerHandle)&&r.removeActor(t.centerHandle),t.state===ee.WidgetState.OUTSIDE||t.state===ee.WidgetState.START)return t.state=ee.WidgetState.START,c.default.VOID;if(t.state===ee.WidgetState.EXTRUDE&&t.moustion){e.smoothBound(e.getInput(),t.pointIdList),e.getInput().modified();var a=O.default.newInstance();a.setInputData(e.getInput()),a.setComputePointNormals(1),a.setConsistency(0),a.setSplitting(0),a.update(),e.getInput().deepCopy(a.getOutputData()),e.getInput().modified(),r.hasViewProp(t.selectActor)&&r.removeActor(t.selectActor)}return t.state=ee.WidgetState.START,t.moustion=!1,e.endInteraction(),e.invokeEndInteractionEvent(),t.interactor.render(),c.default.EVENT_ABORT},e.handleMiddleButtonPress=function(n){var r=t.surfaceActor.getMapper().getInputData();e.setInputData(r);var a=e.onMiddleButtonDown(n);return e.setLastEventPosition(n.position.x,n.position.y),a},e.onMiddleButtonDown=function(n){var r=n.position.x,a=n.position.y,i=n.pokedRenderer;return i&&e.isInViewport(r,a,i)?(t.surfacePicker.pickSimple([r,a,0],i),t.surfacePicker.getActors().length>0&&t.panEnable?(t.state=ee.WidgetState.MOVING,t.worldPickPosition=t.surfacePicker.getPickPosition(),e.highlightCurrentActor(!0),i.hasViewProp(t.centerHandle)&&i.removeActor(t.centerHandle),e.startInteraction(),e.invokeStartInteractionEvent(),t.interactor.render(),c.default.EVENT_ABORT):(t.state=ee.WidgetState.OUTSIDE,c.default.VOID)):(t.state=ee.WidgetState.OUTSIDE,c.default.VOID)},e.handleMiddleButtonRelease=function(n){var r=t.surfaceActor.getMapper().getInputData();return e.setInputData(r),e.onMiddleButtonUp(n)},e.onMiddleButtonUp=function(n){return t.state===ee.WidgetState.OUTSIDE||t.state===ee.WidgetState.START?(t.state=ee.WidgetState.START,c.default.VOID):(e.highlightCurrentActor(!1),t.state=ee.WidgetState.START,e.endInteraction(),e.invokeEndInteractionEvent(),t.interactor.render(),c.default.EVENT_ABORT)},e.handleRightButtonPress=function(n){var r=t.surfaceActor.getMapper().getInputData();e.setInputData(r);var a=e.onRightButtonDown(n);return e.setLastEventPosition(n.position.x,n.position.y),a},e.onRightButtonDown=function(n){var r=n.position.x,a=n.position.y,i=n.pokedRenderer;return i&&e.isInViewport(r,a,i)?(t.surfacePicker.pickSimple([r,a,0],i),t.surfacePicker.getActors().length>0&&t.zoomEnable?(t.state=ee.WidgetState.SCALING,e.highlightCurrentActor(!0),i.hasViewProp(t.centerHandle)&&i.removeActor(t.centerHandle),e.startInteraction(),e.invokeStartInteractionEvent(),t.interactor.render(),c.default.EVENT_ABORT):(t.state=ee.WidgetState.OUTSIDE,c.default.VOID)):(t.state=ee.WidgetState.OUTSIDE,c.default.VOID)},e.handleRightButtonRelease=function(n){var r=t.surfaceActor.getMapper().getInputData();return e.setInputData(r),e.onRightButtonUp(n)},e.onRightButtonUp=function(n){return t.state===ee.WidgetState.OUTSIDE||t.state===ee.WidgetState.START?(t.state=ee.WidgetState.START,c.default.VOID):(e.highlightCurrentActor(!1),t.state=ee.WidgetState.START,e.endInteraction(),e.invokeEndInteractionEvent(),t.interactor.render(),c.default.EVENT_ABORT)},e.handleMouseWheel=function(n){var r=t.surfaceActor.getMapper().getInputData();return e.setInputData(r),n.spinY>0?e.onMouseWheelBackward(n):e.onMouseWheelForward(n)},e.handleStartMouseWheel=function(t){return e.handleMouseWheel(t)},e.handleEndMouseWheel=function(){},e.onMouseWheelBackward=function(n){if(0===t.interactionMode){var r=t.lastEventPosition[0],a=t.lastEventPosition[1],i=n.pokedRenderer;return i&&e.isInViewport(r,a,i)?(t.surfacePicker.pickSimple([r,a,0],i),t.surfacePicker.getActors().length>0?(t.state=ee.WidgetState.RADIUSSCALING,t.radius>5&&(t.radius-=1),t.centerPointId=t.surfacePicker.getPointId(),e.getInput().getPoint(t.centerPointId,t.centerpoint),e.getCircleData(t.centerPointId,t.radius,e.getInput(),t.selectData,t.pointIdList,n),i.hasViewProp(t.centerHandle)&&i.removeActor(t.centerHandle),e.endInteraction(),e.invokeEndInteractionEvent(),t.interactor.render(),c.default.EVENT_ABORT):(t.state=ee.WidgetState.OUTSIDE,c.default.VOID)):(t.state=ee.WidgetState.OUTSIDE,c.default.VOID)}return c.default.VOID},e.onMouseWheelForward=function(n){if(0===t.interactionMode){var r=t.lastEventPosition[0],a=t.lastEventPosition[1],i=n.pokedRenderer;return i&&e.isInViewport(r,a,i)?(t.surfacePicker.pickSimple([r,a,0],i),t.surfacePicker.getActors().length>0?(t.state=ee.WidgetState.RADIUSSCALING,t.radius+=1,t.centerPointId=t.surfacePicker.getPointId(),e.getInput().getPoint(t.centerPointId,t.centerpoint),e.getCircleData(t.centerPointId,t.radius,e.getInput(),t.selectData,t.pointIdList,n),i.hasViewProp(t.centerHandle)&&i.removeActor(t.centerHandle),e.endInteraction(),e.invokeEndInteractionEvent(),t.interactor.render(),c.default.EVENT_ABORT):(t.state=ee.WidgetState.OUTSIDE,c.default.VOID)):(t.state=ee.WidgetState.OUTSIDE,c.default.VOID)}return c.default.VOID},e.getCurrActor=function(){for(var n=t.interactor.getCurrentRenderer(),r=n.getActors(),a=e.getInput(),i=0;i<r.length;i++){var o=r[i];if(o.getMapper()&&a===o.getMapper().getInputData())return o}return null},e.highlightCurrentActor=function(t){var n=e.getCurrActor();n&&(t?(n.getProperty().setEdgeVisibility(!0),n.getProperty().setEdgeColor(n.getProperty().getColor())):n.getProperty().setEdgeVisibility(!1))},e.updateCtrlPoints=function(n,r){if(n){var a=v.default.newInstance();a.setPoints(n),t.nurbs.setInputData(a),t.nurbs.setCtrlPoints(n,t.degree[0],t.degree[1]),t.nurbs.update();var i=t.nurbs.getCtrlPoints();if(r)for(var o=i.getNumberOfPoints(),s=0;s<o;s++);var u=t.nurbs.getOutputData(),l=O.default.newInstance();l.setInputData(u),l.setComputeCellNormals(1),l.update(),u=l.getOutputData(),e.setInputData(u),t.surfaceActor.getMapper().setInputData(u);var c=t.interactor.getCurrentRenderer();c&&!c.hasViewProp(t.surfaceActor)&&c.addActor(t.surfaceActor)}},e.zoomPlane=function(e,n,r){var a=r.pokedRenderer,i=[];t.planeCetnerSet?(i[0]=t.planeCenter[0],i[1]=t.planeCenter[1],i[2]=t.planeCenter[2]):i=n.getCenter();for(var o=[],s=0;s<3;++s)o[s]=-1*i[s];var u=N.default.newInstance();u.translate(i),e?u.scale(1.02,1.02,1.02):u.scale(.98,.98,.98),u.translate(o);var l=k.default.newInstance();l.setInputData(n),l.setTransform(u),l.update(),n.deepCopy(l.getOutputData()),n.modified(),a&&a.hasViewProp(t.selectActor)&&a.removeActor(t.selectActor),t.dataChanged=!0},e.movePlane=function(e,n){var r=n.position.x,a=n.position.y,i=n.pokedRenderer,o=t.interactor.getInteractorStyle().computeWorldToDisplay(i,t.worldPickPosition[0],t.worldPickPosition[1],t.worldPickPosition[2]),s=o[2],u=t.interactor.getInteractorStyle().computeDisplayToWorld(i,t.lastEventPosition[0],t.lastEventPosition[1],s),l=t.interactor.getInteractorStyle().computeDisplayToWorld(i,r,a,s),c=[l[0]-u[0],l[1]-u[1],l[2]-u[2]],d=N.default.newInstance();d.translate(c);var f=y.default.newInstance();f.setNumberOfPoints(e.getPoints().getNumberOfPoints()),d.transformPoints(e.getPoints(),f),e.setPoints(f),i.hasViewProp(t.selectActor)&&i.removeActor(t.selectActor),t.dataChanged=!0},e.circlePick=function(n,r){return t.lastPickPosition=t.surfacePicker.getPickPosition(),!(n.getPolys().getNumberOfCells()<=0||(t.centerPointId=t.surfacePicker.getPointId(),n.getPoint(t.centerPointId,t.centerpoint),t.centerHandleGeometry.setCenter(t.centerpoint),e.getCircleData(t.centerPointId,t.radius,n,t.selectData,t.pointIdList,r),e.computerNormal(t.selectData,t.selectednormal),0))},e.translatePoints=function(e,t,n){var r=0,a=[],i=[0,0,1],o=V.default.dot(t,i);Math.abs(1-o)<1e-6?(a[0]=1,a[1]=0,a[2]=0,r=0):Math.abs(1+o)<1e-6?(a[0]=1,a[1]=0,a[2]=0,r=180):(V.default.cross(t,i,a),V.default.normalize(a),r=V.default.degreesFromRadians(Math.acos(V.default.dot(i,t)))),n.identity(),n.rotateWXYZ(r,a)},e.computerNormal=function(n,r){var a=n.getPoints();if(a&&!(a.getNumberOfPoints()<=0)){for(var i=[0,0,0],o=n.getPolys(),s=0;s<o.getData().length;){var u=o.getCell(s),l=u.length,c=[];j.default.computeNormal(a,l,u,c),V.default.add(i,c,i),s+=l+1}V.default.normalize(i),e.translatePoints(t.selectData,i,t.trans);for(var d=0;d<3;++d)r[d]=i[d]}},e.constructHandles=function(t){t.pokedRenderer&&(e.initialControlPoints(),e.evalDist(),e.modified())},e.initialControlPoints=function(){var e=t.numberOfControlPoints[0],n=t.numberOfControlPoints[1],r=[];t.trans.transformPoint(t.centerpoint,r);for(var a=2*t.radius/(e-1),i=2*t.radius/(n-1),o=r[0]-t.radius,s=r[1]-t.radius,u=r[2],l=0,c=0;c<e;c++)for(var d=0;d<n;d++){var f=t.yControlPoints[l];f[0]=o+c*a,f[1]=s+d*i,f[2]=u,++l}},e.evalDist=function(){var n=t.numberOfControlPoints[0],r=t.numberOfControlPoints[1],i=[];t.trans.transformPoint(t.centerpoint,i);var o=i[0]-t.radius,s=i[1]-t.radius;t.dist.length=0;for(var u=[],l=[],c=t.pointIdList.getNumberOfIds(),d=0;d<c;d++){var f=t.pointIdList.getId(d);e.getInput().getPoint(f,u),t.trans.transformPoint(u,l);for(var m=(l[0]-o)/(2*t.radius-1),g=(l[1]-s)/(2*t.radius-1),p=[0,0,0],v=0,h=0;h<n;h++)for(var y=a(h,m,n-1),A=0;A<r;A++){var S=a(A,g,r-1),T=t.yControlPoints[v];p[0]+=T[0]*y*S,p[1]+=T[1]*y*S,p[2]+=T[2]*y*S,++v}t.dist.push(l[2]-p[2])}},e.inverseTransformPoint=function(e,t,n){var r=N.default.newInstance(),a=z.default.newInstance();e.getInverseWithMatrix(a),r.setMatrix(a),r.transformPoint(t,n)},e.evalBezierSurface=function(n,r,i,s){var u=[];t.trans.transformPoint(t.centerpoint,u);for(var l=u[0]-t.radius,c=u[1]-t.radius,d=t.pointIdList.getNumberOfIds(),f=0;f<d;f++){var m=t.pointIdList.getId(f),g=[];n.getPoint(m,g);var p=[];t.trans.transformPoint(g,p);for(var v=(p[0]-l)/(2*t.radius),h=(p[1]-c)/(2*t.radius),y=[0,0,0],A=0,S=0;S<r;S++)for(var T=a(S,v,r-1),M=0;M<i;M++){var b=a(M,h,i-1),D=t.yControlPoints[A];y[0]+=D[0]*T*b,y[1]+=D[1]*T*b,y[2]+=D[2]*T*b,++A}y[2]+=t.dist[f];var I=[];e.inverseTransformPoint(t.trans,y,I),s.setPoint(m,I[0],I[1],I[2])}t.selectData.reset(),o(n,t.pointIdList,t.selectData),e.creatCircleColorTable(t.selectData,t.radius,t.centerpoint,t.selectActor),t.selectData.modified()},e.adjustPoints=function(n){t.dataChanged=!0;var r=n.position.x,a=n.position.y,i=n.pokedRenderer,o=t.interactor.getInteractorStyle().computeWorldToDisplay(i,t.centerpoint[0],t.centerpoint[1],t.centerpoint[2]),s=o[2],u=t.interactor.getInteractorStyle().computeDisplayToWorld(i,t.lastEventPosition[0],t.lastEventPosition[1],s),l=t.interactor.getInteractorStyle().computeDisplayToWorld(i,r,a,s),c=[];V.default.subtract(l,u,c);var d=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);V.default.normalize(c),V.default.normalize(t.selectednormal),d*=V.default.dot(c,t.selectednormal),e.setControlPoint(1,1,d);var f=t.numberOfControlPoints[0],m=t.numberOfControlPoints[1],g=v.default.newInstance();g.deepCopy(e.getInput());var p=g.getPoints();e.evalBezierSurface(g,f,m,p),g.modified(),e.getInput().deepCopy(g),e.getInput().modified();var h=e.getInput().getPoint(t.centerPointId);t.centerHandleGeometry.setCenter(h),t.interactor.render()},e.setControlPoint=function(n,r,a){if(!(n<0||n>=t.numberOfControlPoints[0]||r<0||r>=t.numberOfControlPoints[1])){var i=r+n*t.numberOfControlPoints[0];t.yControlPoints[i][2]+=a,e.modified()}},e.smoothBound=function(t,n){var r=g.default.newInstance(),a=K.default.newInstance();a.setInputData(e.getInput()),a.setOldList(r),a.setBoundaryEdges(1),a.setFeatureEdges(0),a.setNonManifoldEdges(0),a.setManifoldEdges(0),a.update();var i=t.getPolys().getNumberOfCells();if(i<=0)return!1;var o=n.getNumberOfIds();if(o<=0)return!1;var s=J.default.newInstance();s.initialAdjacency(t);for(var u=[],l=g.default.newInstance(),c=g.default.newInstance(),d=null,f=0;f<o;f++){var m=n.getId(f);e.isIdInList(m,r)||l.insertNextId(m)}var p=Array(i);p.fill(-1);for(var v=0;v<2;v++){for(var h=l.getNumberOfIds(),A=0;A<h;A++)c.insertUniqueId(l.getId(A));for(var S=0;S<h;S++){var T=l.getId(S),M=s.getPointCellNumber(T);if(!(M<1)){s.getPointCells(T,u);for(var b=0;b<M;b++){var D=u[b];if(p[D]<0){p[D]=1;var I=[];t.getCellPoints(D,I);for(var w=I.length,C=0;C<w;C++)I[C]===T||e.isIdInList(I[C],r)||c.insertUniqueId(I[C])}}}}d=l,l=c,c=d,d.reset()}if(d=l,(o=d.getNumberOfIds())<0)return!1;for(var N=g.default.newInstance(),P=y.default.newInstance(),x=0;x<1;x++){P.reset();for(var E=[],O=0;O<o;O++){N.reset();var L=d.getId(O),_=t.getPoints().getPoint(L),R=s.getPointCellNumber(L);if(R<1)E.push(_[0],_[1],_[2]);else{s.getPointCells(L,u);for(var k=[0,0,0],B=0;B<R;B++){var F=u[B],j=[];t.getCellPoints(F,j);for(var U=j.length,z=0;z<U;z++)j[z]!==L&&N.insertUniqueId(j[z])}var G=N.getNumberOfIds();if(G<=0)E.push(_[0],_[1],_[2]);else{for(var W=0;W<G;W++){var Q=N.getId(W),Y=t.getPoints().getPoint(Q),q=[];V.default.subtract(Y,_,q),k[0]+=q[0],k[1]+=q[1],k[2]+=q[2]}var H=G/.6307;k[0]/=H,k[1]/=H,k[2]/=H,_[0]+=k[0],_[1]+=k[1],_[2]+=k[2],E.push(_[0],_[1],_[2])}}}P.setData(new Float32Array(E),3);for(var Z=0;Z<o;Z++){var X=d.getId(Z),$=P.getPoint(Z);t.getPoints().setPoint(X,$[0],$[1],$[2])}}return!0},e.isIdInList=function(e,t){for(var n=t.getNumberOfIds(),r=0;r<n;++r)if(e===t.getId(r))return!0;return!1},e.creatCircleColorTable=function(n,r,a,i){for(var o=n.getNumberOfPoints(),s=W.default.newInstance({dataType:$.VtkDataTypes.FLOAT,numberOfComponents:1,size:o,values:new Float32Array(Array(o))}),u=[],l=0;l<o;++l){n.getPoint(l,u);var c=Math.sqrt(V.default.distance2BetweenPoints(u,a)),d=Math.floor(32*c/r);d>31?s.setComponent(l,0,31):s.setComponent(l,0,d)}n.getPointData().setScalars(s);var f=Y.default.newInstance();f.setNumberOfColors(32);var m=[0,1,1],g=[1,1,0],p=e.getCurrActor();p&&(m=p.getProperty().getColor()),g=t.selectedFaceProperty.getColor();for(var v=0;v<16;v++)f.setTableValue(v,(g[0]*(16-v)+v)/16,(16-v)*g[1]/16,(16-v)*g[2]/16);for(var h=16;h<32;h++)f.setTableValue(h,(m[0]*(h-16)+32-h)/16,m[1]*(h-16)/16,m[2]*(h-16)/16);f.build(),f.setTableRange(0,31);var y=i.getMapper();y.setInputData(n),y.setScalarRange(0,31),y.setLookupTable(f),i.setMapper(y)},e.getCircleData=function(n,r,a,i,s,u){if(n<0||r<0)return!1;var l=[];if(a.getPoint(n,l),s.reset(),t.locator.setDataSet(a),t.locator.findPointsWithinRadius(r,l,s),u.touch)return!0;if(i.reset(),o(a,s,i),i.modified(),i.getNumberOfCells()<0)return!1;e.creatCircleColorTable(t.selectData,t.radius,t.centerpoint,t.selectActor);var c=u.pokedRenderer;return c.hasViewProp(t.selectActor)||c.addActor(t.selectActor),!0},e.isInViewport=function(e,n,r){return t.interactor.getView().isInViewport(e,n,r)},e.setLastEventPosition=function(e,n){t.lastEventPosition[0]=e,t.lastEventPosition[1]=n},e.getWidgetParams=function(r){var a=n.getWidgetParams(r);return a.dataChanged=t.dataChanged,a.state=t.state,a.handleProperty={},a.handleProperty.color=t.handleProperty.getColor().concat(),a.handleProperty.opacity=t.handleProperty.getOpacity(),a.selectedHandleProperty={},a.selectedHandleProperty.color=t.selectedHandleProperty.getColor().concat(),a.selectedHandleProperty.opacity=t.selectedHandleProperty.getOpacity(),a.selectedHandleProperty.ambient=t.selectedHandleProperty.getAmbient(),a.selectedHandleProperty.lineWidth=t.selectedHandleProperty.getLineWidth(),a.selectedHandleProperty.ambientColor=t.selectedHandleProperty.getAmbientColor(),a.faceProperty={},a.faceProperty.color=t.faceProperty.getColor().concat(),a.faceProperty.opacity=t.faceProperty.getOpacity(),a.selectedFaceProperty={},a.selectedFaceProperty.color=t.selectedFaceProperty.getColor().concat(),a.selectedFaceProperty.opacity=t.selectedFaceProperty.getOpacity(),a.selectedFaceProperty.ambient=t.selectedFaceProperty.getAmbient(),a.selectedFaceProperty.lineWidth=t.selectedFaceProperty.getLineWidth(),a.selectedFaceProperty.ambientColor=t.selectedFaceProperty.getAmbientColor(),a.outlineProperty={},a.outlineProperty.color=t.outlineProperty.getColor().concat(),a.outlineProperty.opacity=t.outlineProperty.getOpacity(),a.outlineProperty.ambient=t.outlineProperty.getAmbient(),a.outlineProperty.lineWidth=t.outlineProperty.getLineWidth(),a.outlineProperty.ambientColor=t.outlineProperty.getAmbientColor(),a.selectedOutlineProperty={},a.selectedOutlineProperty.color=t.selectedOutlineProperty.getColor().concat(),a.selectedOutlineProperty.opacity=t.selectedOutlineProperty.getOpacity(),a.selectedOutlineProperty.ambient=t.selectedOutlineProperty.getAmbient(),a.selectedOutlineProperty.lineWidth=t.selectedOutlineProperty.getLineWidth(),a.selectedOutlineProperty.ambientColor=t.selectedOutlineProperty.getAmbientColor(),a.radius=t.radius,a.planeCenter=t.planeCenter.concat(),a.planeCetnerSet=t.planeCetnerSet,a.moustionPick=t.moustionPick,a.zoomEnable=t.zoomEnable,a.panEnable=t.panEnable,a.interactionMode=t.interactionMode,a.degree=t.degree.concat(),a.numberOfControlPoints=t.numberOfControlPoints.concat(),a.surfacePolyData=e.getInput().getSerialData(),a},e.setWidgetParams=function(r){n.setWidgetParams(r),t.dataChanged=r.dataChanged,t.state=r.state;var a=r.handleProperty.color;t.handleProperty.setColor(a[0],a[1],a[2]),t.handleProperty.setOpacity(r.handleProperty.opacity),a=r.selectedHandleProperty.color,t.selectedHandleProperty.setColor(a[0],a[1],a[2]),t.selectedHandleProperty.setOpacity(r.selectedHandleProperty.opacity),t.selectedHandleProperty.setAmbient(r.selectedHandleProperty.ambient),t.selectedHandleProperty.setLineWidth(r.selectedHandleProperty.lineWidth),a=r.selectedHandleProperty.ambientColor,t.selectedHandleProperty.setAmbientColor(a[0],a[1],a[2]),a=r.faceProperty.color,t.faceProperty.setColor(a[0],a[1],a[2]),t.faceProperty.setOpacity(r.faceProperty.opacity),a=r.selectedFaceProperty.color,t.selectedFaceProperty.setColor(a[0],a[1],a[2]),t.selectedFaceProperty.setOpacity(r.selectedFaceProperty.opacity),t.selectedFaceProperty.setAmbient(r.selectedFaceProperty.ambient),t.selectedFaceProperty.setLineWidth(r.selectedFaceProperty.lineWidth),a=r.selectedFaceProperty.ambientColor,t.selectedFaceProperty.setAmbientColor(a[0],a[1],a[2]),a=r.outlineProperty.color,t.outlineProperty.setColor(a[0],a[1],a[2]),t.outlineProperty.setOpacity(r.outlineProperty.opacity),t.outlineProperty.setAmbient(r.outlineProperty.ambient),t.outlineProperty.setLineWidth(r.outlineProperty.lineWidth),a=r.outlineProperty.ambientColor,t.outlineProperty.setAmbientColor(a[0],a[1],a[2]),a=r.selectedOutlineProperty.color,t.selectedOutlineProperty.setColor(a[0],a[1],a[2]),t.selectedOutlineProperty.setOpacity(r.selectedOutlineProperty.opacity),t.selectedOutlineProperty.setAmbient(r.selectedOutlineProperty.ambient),t.selectedOutlineProperty.setLineWidth(r.selectedOutlineProperty.lineWidth),a=r.selectedOutlineProperty.color,t.selectedOutlineProperty.setAmbientColor(a[0],a[1],a[2]),t.radius=r.radius,t.planeCenter=r.planeCenter.concat(),t.planeCetnerSet=r.planeCetnerSet,t.moustionPick=r.moustionPick,t.zoomEnable=r.zoomEnable,t.panEnable=r.panEnable,t.interactionMode=r.interactionMode,t.degree=r.degree.concat(),t.numberOfControlPoints=r.numberOfControlPoints.concat();var i=t.numberOfControlPoints[0]*t.numberOfControlPoints[1];t.yControlPoints=Array(i);for(var o=0;o<i;o++)t.yControlPoints[o]=[];var s=t.interactor.getCurrentRenderer();s&&s.hasViewProp(t.centerHandle)&&s.removeActor(t.centerHandle),s&&s.hasViewProp(t.selectActor)&&s.removeActor(t.selectActor);var u=t.surfaceActor.getMapper().getInputData();u||(u=v.default.newInstance()),u.setSerialData(r.surfacePolyData);var l=O.default.newInstance();l.setInputData(u),l.setComputeCellNormals(1),l.update(),u=l.getOutputData(),e.setInputData(u),t.surfaceActor.getMapper().setInputData(u),s&&!s.hasViewProp(t.surfaceActor)&&s.addActor(t.surfaceActor),e.modified()},e.initSurfaceActor=function(n,r){t.surfaceActor=n,t.surfacePicker&&(t.surfacePicker.initializePickList(),t.surfacePicker.addPickList(t.surfaceActor));var a=t.surfaceActor.getMapper().getInputData();e.setInputData(a),t.nurbs=r},e.destroy=function(){if(!t.interactor)return void n.destroy();var e=t.interactor.getCurrentRenderer();e&&(e.hasViewProp(t.centerHandle)&&e.removeActor(t.centerHandle),e.hasViewProp(t.selectActor)&&e.removeActor(t.selectActor),e.hasViewProp(t.surfaceActor)&&e.removeActor(t.surfaceActor)),n.destroy()}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,ae,n),f.default.extend(e,t,n),c.default.event(e,t,"EnableEvent"),c.default.event(e,t,"DisableEvent"),t.selectData=v.default.newInstance();var r=y.default.newInstance();t.selectData.setPoints(r);var a=S.default.newInstance();t.selectData.setPolys(a);var i=M.default.newInstance();i.setInputData(t.selectData),t.selectActor=D.default.newInstance(),t.selectActor.setMapper(i),t.selectActor.setPickable(!1),t.centerHandleGeometry=w.default.newInstance(),t.centerHandleGeometry.setRadius(2);var o=M.default.newInstance();o.setInputConnection(t.centerHandleGeometry.getOutputPort()),t.centerHandle=D.default.newInstance(),t.centerHandle.setMapper(o),t.pointIdList=g.default.newInstance(),t.trans=N.default.newInstance(),t.locator=H.default.newInstance(),c.default.setGet(e,t,["handleProperty","selectedHandleProperty","faceProperty","selectedFaceProperty","outlineProperty","selectedOutlineProperty","moustionPick","zoomEnable","panEnable"]),s(e,t),e.setNumberOfControlPoints(3,3),e.createDefaultProperties(),e.setYorktalWidgetProperties();var u=t.numberOfControlPoints[0]*t.numberOfControlPoints[1];t.yControlPoints=Array(u);for(var l=0;l<u;l++)t.yControlPoints[l]=[]}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=u;var l=n(0),c=r(l),d=n(545),f=r(d),m=n(18),g=r(m),p=n(4),v=r(p),h=n(6),y=r(h),A=n(11),S=r(A),T=n(20),M=r(T),b=n(24),D=r(b),I=n(97),w=r(I),C=n(96),N=r(C),P=n(30),x=r(P),E=n(56),O=r(E),L=n(157),_=r(L),R=n(156),k=r(R),B=n(1),V=r(B),F=n(139),j=r(F),U=n(59),z=r(U),G=n(2),W=r(G),Q=n(128),Y=r(Q),q=n(150),H=r(q),Z=n(547),K=r(Z),X=n(548),J=r(X),$=n(5),ee=n(549),te=c.default.vtkErrorMacro,ne=c.default.vtkDebugMacro,re=[0,0,0],ae={dataChanged:!1,state:ee.WidgetState.START,handleProperty:null,selectedHandleProperty:null,faceProperty:null,selectedFaceProperty:null,outlineProperty:null,selectedOutlineProperty:null,surfacePicker:null,nurbs:null,centerHandleGeometry:null,centerHandle:null,selectData:null,selectActor:null,pointIdList:null,trans:null,moustion:!1,dist:[],numberOfControlPoints:[0,0],centerPointId:0,centerpoint:[0,0,0],radius:15,yControlPoints:null,worldPickPosition:[0,0,0],selectednormal:[0,0,0],planeCenter:[0,0,0],planeCetnerSet:!1,moustionPick:1,zoomEnable:0,panEnable:0,interactionMode:0,degree:[0,0],lastEventPosition:[0,0,0],surfaceActor:null},ie=t.newInstance=c.default.newInstance(u,"yExtrudeWidget");t.default={newInstance:ie,extend:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("vtk3DWidget");var n=Object.assign({},e);e.createDefaultRepresentation=function(){},e.destroy=function(){e.setEnabled(0),e.setInteractor(null)},e.placeWidget0=function(){var n=[];t.prop3D?t.prop3D.getBounds(n):e.getInput()?(t.connectionHolder.getInput().update(),e.getInput().getBounds(n)):(g("No input or prop defined for widget placement"),n[0]=-1,n[1]=1,n[2]=-1,n[3]=1,n[4]=-1,n[5]=1),e.placeWidget6(n[0],n[1],n[2],n[3],n[4],n[5])},e.placeWidget6=function(n,r,a,i,o,s){var u=[n,r,a,i,o,s];e.placeWidget(u),e.invokeEvent({type:"placeWidgetEvent"},null),t.placed=1},e.setPlaceFactor=function(n){return t.placeFactor!==n&&(t.placeFactor=d.default.clampValue(n,.01,Number.MAX_VALUE),e.modified(),!0)},e.setHandleSize=function(n){return t.handleSize!==n&&(t.handleSize=d.default.clampValue(n,.001,.5),e.modified(),!0)},e.adjustBounds=function(e,n,r){r[0]=(e[0]+e[1])/2,r[1]=(e[2]+e[3])/2,r[2]=(e[4]+e[5])/2,n[0]=r[0]+t.placeFactor*(e[0]-r[0]),n[1]=r[0]+t.placeFactor*(e[1]-r[0]),n[2]=r[1]+t.placeFactor*(e[2]-r[1]),n[3]=r[1]+t.placeFactor*(e[3]-r[1]),n[4]=r[2]+t.placeFactor*(e[4]-r[2]),n[5]=r[2]+t.placeFactor*(e[5]-r[2])},e.sizeHandlesV=function(){},e.sizeHandles=function(n){var r=t.interactor.getCurrentRenderer();if(!t.validPick||!r||!r.getActiveCamera())return t.handleSize*n*t.initialLength;var a=r.getViewport(),i=r.getRenderWindow().getViews()[0].getSize(),o=e.computeWorldToDisplay(r,t.lastPickPosition[0],t.lastPickPosition[1],t.lastPickPosition[2]),s=o[2],u=i[0]*a[0],l=i[1]*a[1],c=e.computeDisplayToWorld(r,u,l,s);u=i[0]*a[2],l=i[1]*a[3];for(var d=e.computeDisplayToWorld(r,u,l,s),f=0,m=0;m<3;m++)f+=(d[m]-c[m])*(d[m]-c[m]);return Math.sqrt(f)*n*t.handleSize},e.setInputData=function(e){t.connectionHolder.setInputData(e)},e.setInputConnection=function(e){t.connectionHolder.setInputConnection(e)},e.getInput=function(){return t.connectionHolder.getInputData()},e.updateInput=function(){t.connectionHolder.getInput().update()},e.getWidgetParams=function(e){var r=n.getWidgetParams(e);return r.placeFactor=t.placeFactor,r.placed=t.placed,r.initialLength=t.initialLength,r.handleSize=t.handleSize,r.validPick=t.validPick,r},e.setWidgetParams=function(e){n.setWidgetParams(e),t.placeFactor=e.placeFactor,t.placed=e.placed,t.initialLength=e.initialLength,t.handleSize=e.handleSize,t.validPick=e.validPick}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),l.default.extend(e,t,n),e.setPriority(.5),s.default.setGet(e,t,["prop3D","placeFactor","handleSize"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(21),l=r(u),c=n(1),d=r(c),f=n(546),m=r(f),g=s.default.vtkErrorMacro,p={prop3D:null,connectionHolder:m.default.newInstance(),placeFactor:.5,placed:0,initialBounds:[0,0,0,0,0,0],initialLength:0,handleSize:.01,validPick:0,lastPickPosition:[0,0,0]},v=t.newInstance=s.default.newInstance(i,"vtk3DWidget");t.default={newInstance:v,extend:i}},function(e,t,n){"use strict";function r(e,t){t.classHierarchy.push("vtk3DWidgetConnection")}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,s,n),o.default.obj(e,t),o.default.algo(e,t,1,1),r(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=a;var i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(i),s={},u=t.newInstance=o.default.newInstance(a,"vtk3DWidgetConnection");t.default={newInstance:u,extend:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yVtkFeatureEdges");var n=Object.assign({},e);e.setFeatureAngle=function(n){return t.featureAngle!==n&&(t.featureAngle=l.default.clampValue(n,0,180),e.modified(),!0)},e.getMTime=function(){var e=n.getMTime();if(t.locator){var r=t.locator.getMTime();e=r>e?r:e}return e},e.createDefaultLocator=function(){t.locator||(t.locator=d.default.newInstance())},e.requestData=function(n,r){var a=n[0],i=m.default.newInstance(),o=a.getPointData(),s=i.getPointData(),u=a.getCellData(),c=i.getCellData();N("Executing feature edges");var d=null,f=null;u&&(d=u.getArray(C.ghostArrayName)),d&&d.getDataType()===M.VtkDataTypes.UNSIGNED_CHAR&&1===d.getNumberOfComponents()?f=d.getData():N("No appropriate ghost levels field available.");var g=a.getPoints(),v=a.getNumberOfCells(),y=a.getNumberOfPolys(),S=a.getNumberOfStrips(),b=a.getNumberOfPoints();if(b<1||!g||y<1&&S<1)return N("No input data!"),1;t.boundaryEdges||t.nonManifoldEdges||t.featureEdges||t.manifoldEdges||N("All edge types turned off!");var I=m.default.newInstance();I.setPoints(g);var P=a.getPolys(),x=null;if(S>0){x=p.default.newInstance();var E=null;y>0?(x.deepCopy(P),E=Array.from(x.getData())):(x.allocate(x.estimateSize(S,5)),E=[]);for(var O=a.getStrips(),L=0;L<O.getData().length;){var _=O.getCell(L),R=_.length;T.default.decomposeStrip(R,_,E),L+=R+1}x.setData(E),I.setPolys(x)}else x=P,I.setPolys(x);I.buildLinks();var k=h.default.newInstance({numberOfComponents:3}),B=p.default.newInstance(),V=[],F=null,j=null;t.coloring&&(F=A.default.newInstance({numberOfComponents:1,dataType:M.VtkDataTypes.FLOAT,size:1}),F.setName("Edge Types"),j=[]),s.copyAllocate(o,b),c.copyAllocate(u,v),t.locator||e.createDefaultLocator();var U=[];t.locator.initPointInsertion(U,a.getBounds()),k.setData(U);var z=null,G=0;if(t.featureEdges){for(var W=[],Q=[],Y=0;Y<x.getData().length;){var q=x.getCell(Y),H=q.length;w.default.computeNormal(g,H,q,W),Q.push(W[0],W[1],W[2]),Y+=H+1}z=A.default.newInstance({numberOfComponents:3,dataType:M.VtkDataTypes.FLOAT,size:Q.length,values:new Float32Array(Q)}),G=Math.cos(l.default.radiansFromDegrees(t.featureAngle))}var Z=D.default.newInstance();Z.allocate(512);for(var K=0,X=0,J=0,$=0,ee=[0],te=[0],ne=0,re=0;ne<x.getData().length;re++){for(var ae=x.getCell(ne),ie=ae.length,oe=[],se=[],ue=0;ue<ie;ue++){var le=ae[ue],ce=ae[(ue+1)%ie];I.getCellEdgeNeighbors(re,le,ce,Z);var de=Z.getNumberOfIds(),fe=0;if(t.boundaryEdges&&de<1){if(f&&f[re]&C.CellGhostTypes.DUPLICATECELL)continue;K++,fe=0}else if(t.nonManifoldEdges&&de>1){for(var me=0;me<de&&!(Z.getId(me)<re);me++);if(!(me>=de))continue;if(f&&f[re]&C.CellGhostTypes.DUPLICATECELL)continue;X++,fe=.222222}else if(t.featureEdges&&1===de&&Z.getId(0)>re){var ge=Z.getId(0),pe=[],ve=[];if(z.getTuple(ge,pe),z.getTuple(re,ve),!(l.default.dot(pe,ve)<=G))continue;if(f&&f[re]&C.CellGhostTypes.DUPLICATECELL)continue;J++,fe=.444444}else{if(!(t.manifoldEdges&&1===de&&Z.getId(0)>re))continue;if(f&&f[re]&C.CellGhostTypes.DUPLICATECELL)continue;$++,fe=.666667}I.getPoint(le,oe),I.getPoint(ce,se),t.locator.insertUniquePoint(oe,ee)&&(s.copyData(o,le,ee[0]),t.oldList&&t.oldList.insertNextId(le)),t.locator.insertUniquePoint(se,te)&&(s.copyData(o,ce,te[0]),t.oldList&&t.oldList.insertNextId(ce));var he=Math.floor(V.length/3);V.push(2,ee[0],te[0]),c.copyData(u,re,he),t.coloring&&j.push(fe)}ne+=ie+1}if(N("Created "+K+" boundary edges, "+X+" non-manifold edges, "+J+" feature edges, "+$+" manifold edges"),i.setPoints(k),B.setData(new(window[B.getDataType()])(V)),i.setLines(B),t.locator.initialize(),t.coloring){F.setData(new Float32Array(j));var ye=c.addArray(F);c.setActiveAttributeByIndex(ye,C.AttributeTypes.SCALARS)}return 1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,P,n),s.default.obj(e,t),s.default.algo(e,t,1,1),s.default.setGet(e,t,["boundaryEdges","featureEdges","featureAngle","nonManifoldEdges","manifoldEdges","coloring","locator","oldList"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(1),l=r(u),c=n(149),d=r(c),f=n(4),m=r(f),g=n(11),p=r(g),v=n(6),h=r(v),y=n(2),A=r(y),S=n(225),T=r(S),M=n(5),b=n(18),D=r(b),I=n(139),w=r(I),C=n(40),N=s.default.vtkDebugMacro,P={featureAngle:30,boundaryEdges:1,featureEdges:1,nonManifoldEdges:1,manifoldEdges:0,coloring:1,locator:null,oldList:null},x=t.newInstance=s.default.newInstance(i,"yVtkFeatureEdges");t.default={newInstance:x,extend:i}},function(e,t,n){"use strict";function r(){var e={};return e.index=0,e.cells=Array(10),e}function a(e,t){t.classHierarchy.push("yVtkPolyDataLink"),e.getPointCellNumber=function(e){return e<0&&e>t.pointNumber-1?0:t.pointCells[e].index},e.getPointCells=function(e,n){if(e<0&&e>t.pointNumber-1)return!1;n.length=0;for(var r=0;r<t.pointCells[e].index;r++)n.push(t.pointCells[e].cells[r]);return!0},e.inserNextAdjacenctPoint=function(){var e=r();t.pointCells.push(e)},e.addPointAdjacency=function(n,r){return!(n<0&&n>t.pointNumber-1||(e.insertNextId(t.ppointCells[n],r),0))},e.addAdjacenctCell=function(n,r,a){for(var i=0;i<r;i++)e.insertNextId(t.pointCells[a[i]],n)},e.insertNextId=function(e,t){if(e.index<e.cells.length)e.cells[e.index]=t,e.index++;else{var n=e.cells.length;e.cells.length=n+20,e.cells[n]=t,e.index++}},e.initialAdjacency=function(n){var a=n.getNumberOfPoints();if(a<=0)return!1;t.pointNumber=a;for(var i=0;i<t.pointNumber;i++){var o=r();t.pointCells.push(o)}for(var s=n.getPolys(),u=0,l=0;l<s.getData().length;u++){for(var c=s.getCell(l),d=c.length,f=0;f<d;f++)e.insertNextId(t.pointCells[c[f]],u);l+=d+1}return!0}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,u,n),s.default.obj(e,t),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u={memoryPool:[],pointCells:[],pointNumber:-1},l=t.newInstance=s.default.newInstance(i,"yVtkPolyDataLink");t.default={newInstance:l,extend:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.WidgetState={START:0,MOVING:1,SCALING:2,RADIUSSCALING:3,EXTRUDE:4,OUTSIDE:5},a=t.PlaneState={EMPTY:0,INITIALIZED:1,BUILT:2};t.default={WidgetState:r,PlaneState:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function i(e,t){t.classHierarchy.push("yVtkPolyNurbsSurface"),e.getInput=function(t){return t<0||t>=2?(w("Index "+t+" is out of range in GetInput. Only two inputs allowed!"),null):e.getInputData(t)},e.setSurfacePoints=function(e){t.surfacePoints=c.default.newInstance(),t.surfacePoints.deepCopy(e),t.isSurfacePointsSet=!0},e.setPointCloud=function(e){t.pointCloud=c.default.newInstance(),t.pointCloud.deepCopy(e),t.isPointCloudSet=!0},e.setCtrlPoints=function(e,n,r){t.ctrlPoints.deepCopy(e),t.xDegree=n,t.yDegree=r,(t.xDegree<=0||t.yDegree<=0)&&(t.xDegree=t.nGridNum+1,t.yDegree=t.nGridNum+1),t.isCtrlPointsSet=!0},e.turnTransitionOff=function(){t.isTransitionOn=!1},e.getCtrlPoints=function(){return t.ctrlPoints},e.getDegree=function(){return[t.xDegree,t.yDegree]},e.setSurfaceCenter=function(e){t.central[0]=e[0],t.central[1]=e[1],t.central[2]=e[2],t.isCentral=!0},e.setRingNum=function(e){t.nRingNum=e},e.setRingWidth=function(e){t.dRingWidth=e},e.setSearchNum=function(e){t.nSearchNum=e},e.newSurface=function(e){var n=e.getPoints(),r=n.getNumberOfPoints(),a=[];n.getPoint(0,a);for(var i=a[0],o=a[0],s=a[1],u=a[1],l=1;l<r;l++)n.getPoint(l,a),a[0]<i&&(i=a[0]),a[0]>o&&(o=a[0]),a[1]<s&&(s=a[1]),a[1]>u&&(u=a[1]);var d=i,m=o,g=s,p=u,v=m-d,h=p-g,y=v/t.nGridNum,A=h/t.nGridNum;t.xBegin=d,t.xFinish=m,t.yBegin=g,t.yFinish=p;var S=0,T=c.default.newInstance();T.setNumberOfPoints(Math.pow(t.nGridNum+1,2));for(var M=0;M<t.nGridNum+1;M++)for(var b=0;b<t.nGridNum+1;b++){var D=t.xBegin+M*y,I=t.yBegin+b*A;n.getPoint(0,a);for(var w=(a[0]-D)*(a[0]-D)+(a[1]-I)*(a[1]-I),C=0,N=t.nSearchNum;N<r;N+=t.nSearchNum){n.getPoint(N,a);var P=(a[0]-D)*(a[0]-D)+(a[1]-I)*(a[1]-I);P<w&&(w=P,C=N)}n.getPoint(C,a),T.setPoint(S,a[0],a[1],a[2]),S++}var x=f.default.newInstance();return x.setPoints(T),x},e.newSurface2=function(e){var n=e.getPoints(),r=n.getNumberOfPoints(),a=[];n.getPoint(0,a);for(var i=a[0],o=a[0],s=a[1],u=a[1],l=1;l<r;l++)n.getPoint(l,a),a[0]<i&&(i=a[0]),a[0]>o&&(o=a[0]),a[1]<s&&(s=a[1]),a[1]>u&&(u=a[1]);var d=i,m=o,g=s,p=u,v=m-d,h=p-g;t.xNum=Math.floor(v),t.yNum=Math.floor(h),t.xBegin=d,t.xFinish=m,t.yBegin=g,t.yFinish=p;var y=0,A=c.default.newInstance();A.setNumberOfPoints(t.xNum*t.yNum);for(var S=0;S<t.xNum;S++)for(var T=0;T<t.yNum;T++){var M=t.xBegin+10*S,b=t.yBegin+10*T;n.getPoint(0,a);for(var D=(a[0]-M)*(a[0]-M)+(a[1]-b)*(a[1]-b),I=0,w=t.nSearchNum;w<r;w+=t.nSearchNum){n.getPoint(w,a);var C=(a[0]-M)*(a[0]-M)+(a[1]-b)*(a[1]-b);C<D&&(D=C,I=w)}n.getPoint(I,a),A.setPoint(y,a[0],a[1],a[2]),y++}var N=f.default.newInstance();return N.setPoints(A),N},e.computerLineNormal=function(e,t,n){var r=e.getNumberOfPoints();if(!(r<=0)){n[0]=0,n[1]=0,n[2]=0;for(var a=0;a<r;++a){var i=[],o=[],s=[],u=[];a!==r-1?(e.getPoint(a,s),e.getPoint(a+1,u),v.default.subtract(s,t,i),v.default.subtract(u,t,o),v.default.normalize(i),v.default.normalize(o)):(e.getPoint(a,s),e.getPoint(0,u),v.default.subtract(s,t,i),v.default.subtract(u,t,o),v.default.normalize(i),v.default.normalize(o));var l=[];v.default.cross(i,o,l),v.default.add(n,l,n)}v.default.normalize(n)}},e.requestData=function(n,r){C("Beginning execution...");var a=n[0],i=f.default.newInstance(),o=c.default.newInstance(),s=f.default.newInstance();t.isSurfacePointsSet&&(s.setPoints(t.surfacePoints),o=s.getPoints()),t.isPointCloudSet&&(s.setPoints(t.pointCloud),o=s.getPoints()),t.isCtrlPointsSet&&(s.setPoints(t.ctrlPoints),o=s.getPoints());var u=[0,0,0],l=a.getCenter();e.computerLineNormal(o,l,u);var d=g.default.newInstance(),m=0,p=[0,0,0],h=[0,0,1],A=v.default.dot(u,h);Math.abs(1-A)<1e-6?(p[0]=1,p[1]=0,p[2]=0,m=0):Math.abs(1+A)<1e-6?(p[0]=1,p[1]=0,p[2]=0,m=180):(v.default.cross(u,h,p),v.default.normalize(p),m=v.default.degreesFromRadians(Math.acos(v.default.dot(h,u)))),d.identity(),d.rotateWXYZ(m,p);var T=y.default.newInstance();T.setInputData(s),T.setTransform(d),T.update();var b=T.getOutputData(),w=b.getBounds().concat(),N=.3*Math.abs(w[1]-w[0]),P=.3*Math.abs(w[3]-w[2]);if(w[0]-=N,w[1]+=N,w[2]-=P,w[3]+=P,t.isSurfacePointsSet&&t.isTransitionOn&&t.surfacePoints.deepCopy(b.getPoints()),t.isCtrlPointsSet&&t.isTransitionOn){var x=f.default.newInstance();x.setPoints(t.ctrlPoints);var E=y.default.newInstance();E.setInputData(x),E.setTransform(d),E.update();var O=E.getOutputData();t.ctrlPoints.deepCopy(O.getPoints())}t.isPointCloudSet&&t.isTransitionOn&&t.pointCloud.deepCopy(b.getPoints());var L=S.default.newInstance();if(d.getInverseWithMatrix(L),d.setMatrix(L),t.isCtrlPointsSet){for(var _=t.xDegree*t.yDegree,R=Array(_),k=0;k<_;k++){var B=t.ctrlPoints.getPoint(k);R[k]=D.default.snlCtrlPoint(),R[k].elements[0]=B[0],R[k].elements[1]=B[1],R[k].elements[2]=B[2]}var V=D.default.snlSurface(2,2,t.xDegree,t.yDegree,R);V.refine(.1);for(var F=V.ctrlPtNet.sizeU,j=V.ctrlPtNet.sizeV,U=F*j,z=Array(F),G=0;G<F;G++)z[G]=Array(j);for(var W=0;W<U;W++){var Q=V.ctrlPtNet.ctrlPts[W].elements,Y=Math.floor(W/j),q=W%j;z[Y][q]=[Q[0],Q[1],Q[2]]}var H=I.geom.NurbsSurface.byKnotsControlPointsWeights(V.degU,V.degV,V.knotVectU.knots,V.knotVectV.knots,z),Z=H.tessellate(),K=c.default.newInstance();K.setNumberOfPoints(Z.points.length);for(var X=0;X<Z.points.length;X++){var J=Z.points[X];K.setPoint(X,J[0],J[1],J[2])}for(var $=M.default.newInstance(),ee=[],te=0;te<Z.faces.length;te++){var ne=Z.faces[te];ee.push(3,ne[0],ne[1],ne[2])}$.setData(new Int32Array(ee)),i.setPoints(K),i.setPolys($),i.buildLinks(),e.setCtrlPoints(t.ctrlPoints,t.xDegree,t.yDegree),t.isCtrlPointsSet=!1}if(t.isSurfacePointsSet){for(var re=t.surfacePoints.getNumberOfPoints(),ae=[0,0,0],ie=[0,0,0],oe=0;oe<re;oe++){var se=t.surfacePoints.getPoint(oe);ie[0]+=se[0],ie[1]+=se[1],ie[2]+=se[2]}ae[0]=ie[0]/re,ae[1]=ie[1]/re,ae[2]=ie[2]/re;for(var ue=Array(re+1),le=0;le<re+1;le++)ue[le]=Array(t.nRingNum);for(var ce=0;ce<re;ce++){for(var de=t.surfacePoints.getPoint(ce),fe=0;fe<t.nRingNum;fe++){var me=ae[0]+fe*t.dRingWidth*(de[0]-ae[0]),ge=ae[1]+fe*t.dRingWidth*(de[1]-ae[1]),pe=ae[2]+fe*t.dRingWidth*(de[2]-ae[2]);ue[ce][fe]=[me,ge,pe]}if(0===ce)for(var ve=0;ve<t.nRingNum;ve++){var he=ae[0]+ve*t.dRingWidth*(de[0]-ae[0]),ye=ae[1]+ve*t.dRingWidth*(de[1]-ae[1]),Ae=ae[2]+ve*t.dRingWidth*(de[2]-ae[2]);ue[re][ve]=[he,ye,Ae]}}var Se=D.default.snlKnotVector2(0,1,re+1+3+1,3),Te=D.default.snlKnotVector2(0,1,t.nRingNum+3+1,3),Me=I.geom.NurbsSurface.byKnotsControlPointsWeights(3,3,Se,Te,ue),be=Me.tessellate(),De=c.default.newInstance();De.setNumberOfPoints(be.points.length);for(var Ie=0;Ie<be.points.length;Ie++){var we=be.points[Ie];De.setPoint(Ie,we[0],we[1],we[2])}for(var Ce=M.default.newInstance(),Ne=[],Pe=0;Pe<be.faces.length;Pe++){var xe=be.faces[Pe];Ne.push(3,xe[0],xe[1],xe[2])}Ce.setData(new Int32Array(Ne));var Ee=f.default.newInstance();Ee.setPoints(De),Ee.setPolys(Ce);var Oe=e.newSurface(Ee),Le=Oe.getPoints(),_e=Le.getNumberOfPoints();t.xDegree=t.nGridNum+1,t.yDegree=t.nGridNum+1;for(var Re=Array(t.xDegree),ke=0;ke<t.xDegree;ke++)Re[ke]=Array(t.yDegree);for(var Be=0;Be<_e;Be++){var Ve=Le.getPoint(Be),Fe=Math.floor(Be/t.yDegree),je=Be%t.yDegree;Re[Fe][je]=Ve.concat()}e.setCtrlPoints(Oe.getPoints(),t.xDegree,t.yDegree),Se=D.default.snlKnotVector2(0,1,t.xDegree+3+1,3),Te=D.default.snlKnotVector2(0,1,t.yDegree+3+1,3),Me=I.geom.NurbsSurface.byKnotsControlPointsWeights(3,3,Se,Te,Re),be=Me.tessellate();var Ue=c.default.newInstance();Ue.setNumberOfPoints(be.points.length);for(var ze=0;ze<be.points.length;ze++){var Ge=be.points[ze];Ue.setPoint(ze,Ge[0],Ge[1],Ge[2])}for(var We=M.default.newInstance(),Qe=[],Ye=0;Ye<be.faces.length;Ye++){var qe=be.faces[Ye];Qe.push(3,qe[0],qe[1],qe[2])}We.setData(new Int32Array(Qe)),i.setPoints(Ue),i.setPolys(We),i.buildLinks(),t.isSurfacePointsSet=!1}if(t.isPointCloudSet){var He=f.default.newInstance();He.setPoints(t.pointCloud);for(var Ze=e.newSurface2(He),Ke=Ze.getPoints(),Xe=Ke.getNumberOfPoints(),Je=Array(t.xNum),$e=0;$e<t.xNum;$e++)Je[$e]=Array(t.yNum);for(var et=0;et<Xe;et++){var tt=Ke.getPoint(et),nt=Math.floor(et/t.yNum),rt=et%t.yNum;Je[nt][rt]=tt.concat()}t.xDegree=t.nGridNum+1,t.yDegree=t.nGridNum+1;var at=D.default.snlKnotVector2(0,1,t.xNum+3+1,3),it=D.default.snlKnotVector2(0,1,t.yNum+3+1,3),ot=I.geom.NurbsSurface.byKnotsControlPointsWeights(3,3,at,it,Je),st=ot.tessellate(),ut=c.default.newInstance();ut.setNumberOfPoints(st.points.length);for(var lt=0;lt<st.points.length;lt++){var ct=st.points[lt];ut.setPoint(lt,ct[0],ct[1],ct[2])}for(var dt=M.default.newInstance(),ft=[],mt=0;mt<st.faces.length;mt++){var gt=st.faces[mt];ft.push(3,gt[0],gt[1],gt[2])}dt.setData(new Int32Array(ft)),i.setPoints(ut),i.setPolys(dt),i.buildLinks(),t.isPointCloudSet=!1}T=y.default.newInstance(),T.setInputData(i),T.setTransform(d),T.update(),t.isTransitionOn&&(i=T.getOutputData());var pt=f.default.newInstance();pt.setPoints(t.ctrlPoints);var vt=y.default.newInstance();vt.setInputData(pt),vt.setTransform(d),vt.update();var ht=vt.getOutputData();return t.ctrlPoints.deepCopy(ht.getPoints()),r[0]=i,1},e.getSerialData=function(){var n={};n.isPointCloudSet=t.isPointCloudSet,n.isSurfacePointsSet=t.isSurfacePointsSet,n.isCtrlPointsSet=t.isCtrlPointsSet,n.isTransitionOn=t.isTransitionOn,n.isCentral=t.isCentral,n.central=t.central.concat(),n.xDegree=t.xDegree,n.yDegree=t.yDegree,n.nRingNum=t.nRingNum,n.dRingWidth=t.dRingWidth,n.nSearchNum=t.nSearchNum;var r=e.getInputData();if(r.getPoints()){var a=r.getPoints();n.inputData={numberOfComponents:a.getNumberOfComponents(),dataType:a.getDataType(),values:Array.from(a.getData())}}return t.ctrlPoints&&(n.ctrlPoints={numberOfComponents:t.ctrlPoints.getNumberOfComponents(),dataType:t.ctrlPoints.getDataType(),values:Array.from(t.ctrlPoints.getData())}),t.surfacePoints&&(n.surfacePoints={numberOfComponents:t.surfacePoints.getNumberOfComponents(),dataType:t.surfacePoints.getDataType(),values:Array.from(t.surfacePoints.getData())}),t.pointCloud&&(n.pointCloud={numberOfComponents:t.pointCloud.getNumberOfComponents(),dataType:t.pointCloud.getDataType(),values:Array.from(t.pointCloud.getData())}),n}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,P,n),u.default.obj(e,t),t.ctrlPoints=c.default.newInstance(),t.xDegree=t.nGridNum+1,t.yDegree=t.nGridNum+1,u.default.algo(e,t,1,1),i(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=t.STATIC=void 0,t.extend=o;var s=n(0),u=r(s),l=n(6),c=r(l),d=n(4),f=r(d),m=n(96),g=r(m),p=n(1),v=r(p),h=n(156),y=r(h),A=n(59),S=r(A),T=n(11),M=r(T),b=n(551),D=r(b),I=n(275),w=u.default.vtkErrorMacro,C=u.default.vtkDebugMacro,N=t.STATIC={distanceCompute:a},P={xDegree:0,yDegree:0,xBegin:0,xFinish:0,yBegin:0,yFinish:0,nGridNum:3,xNum:0,yNum:0,isCentral:!1,central:[0,0,0],cirCenter:[0,0,0],nRingNum:10,dRingWidth:.15,nSearchNum:1,isPointCloudSet:!1,isSurfacePointsSet:!1,isCtrlPointsSet:!1,isTransitionOn:!0,ctrlPoints:null,surfacePoints:null,pointCloud:null},x=t.newInstance=u.default.newInstance(o,"yVtkPolyNurbsSurface");t.default=Object.assign({newInstance:x,extend:o},N)},function(e,t,n){"use strict";function r(e,t,n,r){for(var a=(t-e)/(n-2*r-1),i=Array(n),o=0;o<n;o++)i[o]=o<r?e:o>n-1-r?t:e+a*(o-r);return i}function a(){var e={};return e.elements=[0,0,0,1],e.distSqrd=function(t){var n=0;if(1===e.elements[3]&&1===t.elements[3])for(var r=0;r<3;r++){var a=e.elements[r]-t.elements[r];n+=a*a}else for(var i=0;i<3;i++){var o=e.elements[i]/e.elements[3]-t.elements[i]/t.elements[3];n+=o*o}return n},e.normalise=function(){if(0!==e.elements[3]&&1!==e.elements[3]){var t=e.elements[3];e.elements[0]/=t,e.elements[1]/=t,e.elements[2]/=t,e.elements[3]=1}},e.deepCopy=function(t){e.elements[0]=t.elements[0],e.elements[1]=t.elements[1],e.elements[2]=t.elements[2],e.elements[3]=t.elements[3]},e}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={};return r.homogeneous=n,r.elements=[0,0,0,0],r.calc=function(e,t){if(r.homogeneous)for(var n=0;n<4;n++)r.elements[n]=t.elements[n]-e.elements[n];else{for(var a=0;a<3;a++)r.elements[a]=t.elements[a]/t.elements[3]-e.elements[a]/e.elements[3];r.elements[3]=0}},r.length=function(){return Math.sqrt(r.lengthSqrd())},r.lengthSqrd=function(){for(var e=0,t=0;t<3;t++)e+=r.elements[t]*r.elements[t];return r.homogeneous&&(e+=r.elements[3]*r.elements[3]),e},r.dot=function(e){return r.homogeneous?r.elements[0]*e.elements[0]+r.elements[1]*e.elements[1]+r.elements[2]*e.elements[2]+r.elements[3]*e.elements[3]:r.elements[0]*e.elements[0]+r.elements[1]*e.elements[1]+r.elements[2]*e.elements[2]},r.calc(e,t),r}function o(e,t,n){var r={};return r.sizeU=t,r.sizeV=n,r.ctrlPtArraySize=r.sizeU*r.sizeV,r.ctrlPts=e,r.getPoint=function(e,t){return r.ctrlPts[e*n+t]},r.calcDeg1Flatness=function(e){for(var t=a(),n=[a(),a(),a(),a()],r=0;r<4;r++)n[r].deepCopy(e[r]),n[r].normalise();return t.elements[0]=n[0].elements[0]+.5*(n[3].elements[0]-n[0].elements[0]),t.elements[1]=n[0].elements[1]+.5*(n[3].elements[1]-n[0].elements[1]),t.elements[2]=n[0].elements[2]+.5*(n[3].elements[2]-n[0].elements[2]),t.elements[0]=t.elements[0]-n[1].elements[0]+.5*(n[2].elements[0]-n[1].elements[0]),t.elements[1]=t.elements[1]-n[1].elements[1]+.5*(n[2].elements[1]-n[1].elements[1]),t.elements[2]=t.elements[2]-n[1].elements[2]+.5*(n[2].elements[2]-n[1].elements[2]),Math.sqrt(t.elements[0]*t.elements[0]+t.elements[1]*t.elements[1]+t.elements[2]*t.elements[2])},r.locatePointsU=function(e,t,n,a){for(var i=e*r.sizeV+t,o=0;o<n&&i<r.ctrlPtArraySize;o++)a[o]=r.ctrlPts[i],i+=r.sizeV},r.locatePointsV=function(e,t,n,a){for(var i=e*r.sizeV+t,o=0;o<n&&i<r.ctrlPtArraySize;o++)a[o]=r.ctrlPts[i],i++},r.calcFlatness=function(e,t){var n=0;if(t<3)return 0;var r=a();r.deepCopy(e[0]);var o=a();o.deepCopy(e[t-1]),r.normalise(),o.normalise();var s=i(r,o),u=!1;0===s.length()&&(u=!0);for(var l=1;l<t-1;l++){o.deepCopy(e[l]),o.normalise();var c=0;if(u)c=Math.sqrt(r.distSqrd(o));else{var d=i(r,o),f=s.dot(d),m=f/s.length(),g=d.length();c=Math.sqrt(g*g-m*m)}c>n&&(n=c)}return n},r.calcFlatnessU=function(e,t,n,a){var i=Array(n),o=0;return a?(i[0]=r.getPoint(e,t),i[1]=r.getPoint(e+1,t),i[2]=r.getPoint(e,t+1),i[3]=r.getPoint(e+1,t+1),o=r.calcDeg1Flatness(i)):(r.locatePointsU(e,t,n,i),o=r.calcFlatness(i,n)),o},r.calcFlatnessV=function(e,t,n,a){var i=Array(n),o=0;return a?(i[0]=r.getPoint(e,t),i[1]=r.getPoint(e,t+1),i[2]=r.getPoint(e+1,t),i[3]=r.getPoint(e+1,t+1),o=r.calcDeg1Flatness(i)):(r.locatePointsV(e,t,n,i),o=r.calcFlatness(i,n)),o},r.growU=function(e,t){if(!r.ctrlPts)return null;if(t){for(var n=Array(r.ctrlPtArraySize+r.sizeV*e),i=0;i<r.ctrlPtArraySize;i++)n[i]=r.ctrlPts[i];for(var o=0;o<r.sizeV*e;o++)n[r.ctrlPtArraySize+o]=a();r.ctrlPts=n,r.ctrlPtArraySize+=r.sizeV*e}return r.sizeU+=e,r.ctrlPts},r.growV=function(e,t){if(!r.ctrlPts)return null;var n=null;if(t){var i=r.ctrlPtArraySize+r.sizeU*e;n=Array(i);for(var o=0;o<i;o++)n[o]=a()}else n=r.ctrlPts;for(var s=r.sizeU*r.sizeV-1,u=r.sizeU*(r.sizeV+e)-1-e,l=r.sizeU-1;l>-1;l--){for(var c=r.sizeV-1;c>-1;c--)n[u--]=r.ctrlPts[s--];u-=e}return t&&(r.ctrlPts=n,r.ctrlPtArraySize+=r.sizeU*e),r.sizeV+=e,r.ctrlPts},r}function s(e,t,n,r){for(var a={},i=(t-e)/(n-2*r-1),o=Array(n),s=0;s<n;s++)o[s]=s<r?e:s>n-1-r?t:e+i*(s-r);return a.deg=r,a.knots=o,a.vectorSize=a.knots.length,a.getNumSpans=function(){for(var e=0,t=0;t<a.vectorSize-1;t++)a.knots[t+1]>a.knots[t]&&e++;return e},a.getFirstSpan=function(){for(var e=0;e<a.vectorSize-1;e++)if(a.knots[e+1]>a.knots[e])return e;return 0},a.getNextSpan=function(e){for(var t=e+1;t<a.vectorSize-1;t++)if(a.knots[t+1]>a.knots[t])return t;return 0},a.findSpan=function(e){var t=e,n=a.vectorSize,r=0;if(t>a.knots[n-1]&&(t=a.knots[n-1]),t===a.knots[n-1])for(var i=n-1;i>0;i--)t<=a.knots[i]&&t>a.knots[i-1]&&(r=i-1);else for(var o=0;o<n-1;o++)t>=a.knots[o]&&t<a.knots[o+1]&&(r=o);return r},a.insertKnot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(a.knots){for(var n=a.findSpan(e),r=Array(a.vectorSize+t),i=0;i<=n;i++)r[i]=a.knots[i];for(var o=0;o<t;o++)r[n+o+1]=e;for(var s=n+t+1;s<a.vectorSize+t;s++)r[s]=a.knots[s-t];a.knots=r,a.vectorSize+=t}},a}function u(e,t,n,r,i){var u={};return u.degU=e,u.degV=t,u.ctrlPtNet=o(i,n,r),u.knotVectU=s(0,1,n+u.degU+1,e),u.knotVectV=s(0,1,r+u.degV+1,t),u.insertKnot=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=a(),i=a(),o=0,s=0,l=0,d=0,f=null,m=null;t===c?(l=u.degV,d=u.degU,f=u.knotVectV,m=u.knotVectU,u.ctrlPtNet.growV(1,n)):(l=u.degU,d=u.degV,f=u.knotVectU,m=u.knotVectV,u.ctrlPtNet.growU(1,n));var g=f.findSpan(e),p=Array(l);for(o=0;o<l;o++)s=g-l+1+o,p[o]=(e-f.knots[s])/(f.knots[s+l]-f.knots[s]);var v=Array(l);for(o=0;o<l;o++)v[o]=a();for(var h=u.ctrlPtNet.ctrlPts,y=0;y<m.knots.length-d-1;y++){for(o=0;o<l;o++)s=g-l+1+o,t===c?(r.deepCopy(h[y*u.ctrlPtNet.sizeV+s]),i.deepCopy(h[y*u.ctrlPtNet.sizeV+s-1])):(r.deepCopy(h[s*u.ctrlPtNet.sizeV+y]),i.deepCopy(h[(s-1)*u.ctrlPtNet.sizeV+y])),v[o].elements[0]=p[o]*r.elements[0]+(1-p[o])*i.elements[0],v[o].elements[1]=p[o]*r.elements[1]+(1-p[o])*i.elements[1],v[o].elements[2]=p[o]*r.elements[2]+(1-p[o])*i.elements[2],v[o].elements[3]=p[o]*r.elements[3]+(1-p[o])*i.elements[3];if(t===c){var A=y*u.ctrlPtNet.sizeV;for(o=u.ctrlPtNet.sizeV-1;o>g;o--)h[A+o].deepCopy(h[A+o-1]);for(o=0;o<l;o++)s=g-l+1+o+A,h[s].deepCopy(v[o])}else{for(o=u.ctrlPtNet.sizeU-1;o>g;o--)s=o*u.ctrlPtNet.sizeV+y,h[s].deepCopy(h[s-u.ctrlPtNet.sizeV]);for(o=0;o<l;o++)s=(g-l+1+o)*u.ctrlPtNet.sizeV+y,h[s].deepCopy(v[o])}}f.insertKnot(e)},u.refine=function(e){if(e<=0)return!0;for(var t=!1,n=0;!(t||(t=!0,u.refineHull_U(e,!0)||(t=!1),u.refineHull_V(e,!0)||(t=!1),++n>100)););return n<100},u.refineHull_U=function(e,t){if(u.degU<2)return!0;for(var n=!1;!n;){n=!0;var r=u.knotVectU.getNumSpans(),a=Array(r),i=Array(r);a.fill(!1);for(var o=0;o<u.ctrlPtNet.sizeV;o++)for(var s=u.knotVectU.getFirstSpan(),c=0;s;){var d=u.ctrlPtNet.calcFlatnessU(s-u.degU,o,u.degU+1,!1);if(d>e){var f=s,m=(u.knotVectU.knots[f+1]-u.knotVectU.knots[f])/2+u.knotVectU.knots[f];i[c]=m,a[c]=!0,n=!1}s=u.knotVectU.getNextSpan(s),c++}for(var g=0;g<r;g++)a[g]&&u.insertKnot(i[g],l);if(t)break}return n},u.refineHull_V=function(e,t){if(u.degV<2)return!0;for(var n=!1;!n;){n=!0;var r=u.knotVectV.getNumSpans(),a=Array(r),i=Array(r);a.fill(!1);for(var o=0;o<u.ctrlPtNet.sizeU;o++)for(var s=u.knotVectV.getFirstSpan(),l=0;s;){var d=u.ctrlPtNet.calcFlatnessV(o,s-u.degV,u.degV+1,!1);if(d>e){var f=s,m=(u.knotVectV.knots[f+1]-u.knotVectV.knots[f])/2+u.knotVectV.knots[f];i[l]=m,a[l]=!0,n=!1}s=u.knotVectV.getNextSpan(s),l++}for(var g=0;g<r;g++)a[g]&&u.insertKnot(i[g],c);if(t)break}return n},u}Object.defineProperty(t,"__esModule",{value:!0});var l=0,c=1;t.default={snlKnotVector2:r,snlCtrlPoint:a,snlVector:i,snlCtrlPointNetSurface:o,snlKnotVector:s,snlSurface:u}},function(e,t,n){"use strict";var r=n(553)("WebWorkerThreads");e.exports=r},function(e,t,n){"use strict";(function(r,a){function i(e){"string"==typeof e?e={bindings:e}:e||(e={}),Object.keys(f).map(function(t){t in e||(e[t]=f[t])}),e.module_root||(e.module_root=t.getRoot(t.getFileName())),".node"!=s.extname(e.bindings)&&(e.bindings+=".node");for(var n,r,a,i=require,o=[],u=0,c=e.try.length;u<c;u++){n=l.apply(null,e.try[u].map(function(t){return e[t]||t})),o.push(n);try{return r=e.path?i.resolve(n):i(n),e.path||(r.path=n),r}catch(e){if("MODULE_NOT_FOUND"!==e.code&&"QUALIFIED_PATH_RESOLUTION_FAILED"!==e.code&&!/not find/i.test(e.message))throw e}}throw a=new Error("Could not locate the bindings file. Tried:\n"+o.map(function(t){return e.arrow+t}).join("\n")),a.tries=o,a}var o=n(554),s=n(276),u=n(555),l=s.join,c=s.dirname,d=o.accessSync&&function(e){try{o.accessSync(e)}catch(e){return!1}return!0}||o.existsSync||s.existsSync,f={arrow:Object({NODE_ENV:"production"}).NODE_BINDINGS_ARROW||"  ",compiled:Object({NODE_ENV:"production"}).NODE_BINDINGS_COMPILED_DIR||"compiled",platform:r.platform,arch:r.arch,nodePreGyp:"node-v"+r.versions.modules+"-"+r.platform+"-"+r.arch,version:r.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};e.exports=t=i,t.getFileName=function(e){var t,n=Error.prepareStackTrace,r=Error.stackTraceLimit,i={};return Error.stackTraceLimit=10,Error.prepareStackTrace=function(n,r){for(var i=0,o=r.length;i<o;i++)if((t=r[i].getFileName())!==a){if(!e)return;if(t!==e)return}},Error.captureStackTrace(i),Error.prepareStackTrace=n,Error.stackTraceLimit=r,0===t.indexOf("file://")&&(t=u(t)),t},t.getRoot=function(e){for(var t,n=c(e);;){if("."===n&&(n=r.cwd()),d(l(n,"package.json"))||d(l(n,"node_modules")))return n;if(t===n)throw new Error('Could not find module root given file: "'+e+'". Do you have a `package.json` file? ');t=n,n=l(n,"..")}}}).call(t,n(16),"/index.js")},function(e,t,n){"use strict"},function(e,t,n){"use strict";function r(e){if("string"!=typeof e||e.length<=7||"file://"!=e.substring(0,7))throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),n=t.indexOf("/"),r=t.substring(0,n),i=t.substring(n+1);return"localhost"==r&&(r=""),r&&(r=a+a+r),i=i.replace(/^(.+)\|/,"$1:"),"\\"==a&&(i=i.replace(/\//g,"\\")),/^.+\:/.test(i)||(i=a+i),r+i}var a=n(276).sep||"/";e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("ySeedWidget3DMapper");var n=Object.assign({},e);e.setEnabled=function(t){n.setEnabled(t),t&&e.updateData("enable")},e.addPoint=function(e){t.widgetRep.addPoint(e)},e.createDefaultRepresentation=function(){if(!t.widgetRep){var e=d.default.newInstance();t.widgetRep=e}},e.setInteraction=function(t){e.setMovePoint(t)},e.handleLeftButtonPress=function(n){var r=[n.position.x,n.position.y];if(t.position=[r[0],r[1]],t.mouseUpdateCounter=t.mouseMoveCounter,t.movePoint){var a=t.widgetRep.getMoveActor(r,t.moveOutsideSurface);if(a)return t.moveActor=a.moveActor,t.moveSphere=a.moveSphere,t.moveActor.getProperty().setColor(0,1,0),t.position[0]-=100,t.position[1]-=100,e.render(),s.default.EVENT_ABORT}return s.default.VOID},e.handleMouseMove=function(n){var r=[n.position.x,n.position.y];if(t.mouseMoveLastPos=[n.position.x,n.position.y],!t.moveActor)return s.default.VOID;if(t.moveActor){var a=t.widgetRep.getCellPicker();t.interactor.setPicker(a),a.pick([r[0],r[1],0],t.widgetRep.getRenderer());var i=a.getPickPosition();if(t.moveOutsideSurface){var o=t.moveSphere.getCenter(),u=m.default.newInstance(),l=[],c=[1,0,0,0,1,0,0,0,1];u.computeWorldPositionWithRef(t.widgetRep.getRenderer(),r,o,l,c),t.moveSphere.setCenter(l),e.updateData("mousemove")}else a.getCellId()>0&&(t.moveSphere.setCenter(i),e.updateData("mousemove"));e.render()}else{if(!t.movePoint)return s.default.VOID;var d=t.widgetRep.getCellPickerActor(r);if(d)return t.mouseMoveActor=d.moveActor,t.mouseMoveActor.getProperty().setColor(0,1,0),e.render(),s.default.EVENT_ABORT;if(t.mouseMoveActor)return t.mouseMoveActor.getProperty().setColor(t.color[0],t.color[1],t.color[2]),t.mouseMoveActor=null,e.render(),s.default.EVENT_ABORT}return s.default.VOID},e.handleLeftButtonRelease=function(n){var r=[n.position.x,n.position.y];if(t.moveActor)return t.moveActor=null,t.moveSphere=null,e.updateData("release"),e.render(),e.invokeEndInteractionEvent(),s.default.VOID;if(t.addPoint&&t.position[0]===r[0]&&t.position[1]===r[1]){var a=t.widgetRep.getCellPicker();if(a.pick([r[0],r[1],0],t.widgetRep.getRenderer()),a.getActors().length>0){var i=a.getPickPosition();e.addPoint(i),e.invokeEndInteractionEvent()}}return s.default.VOID},e.setMoveActorByIndex=function(e){var n=t.widgetRep.getActorSphereByIndex(e);n?(t.moveActor=n.moveActor,t.moveSphere=n.moveSphere):(t.moveActor=null,t.moveSphere=null)},e.getMoveActorIndex=function(){return t.widgetRep.getActorIndex(t.moveActor)},e.setMouseMoveActorByIndex=function(e){var n=t.widgetRep.getActorSphereByIndex(e);t.mouseMoveActor=n?n.moveActor:null},e.getMouseMoveActorIndex=function(){return t.widgetRep.getActorIndex(t.mouseMoveActor)},e.getWidgetParams=function(t){var n=e.getWidgetRep(),r={id:t.getInstanceId(e)};return r.actorsAndSpheres=n.getActorsAndSpheresData(),r.moveActor=e.getMoveActorIndex(),r.mouseMoveActor=e.getMouseMoveActorIndex(),r.movePoint=e.getMovePoint(),r.addPoint=e.getAddPoint(),r.position=e.getPosition(),r.color=e.getColor(),r.opacity=e.getOpacity(),r},e.callbackEndInteractionEvent=function(){var n=t.interactor.getView().getRenderable(),r=n.getVtkPVView();r&&r.updateRemoteWidgets(!1,[e])},e.updateDataByLocal=function(){if(t.nurbs){var n=h.default.newInstance();e.getWidgetRep().getPoints(n);var r=t.nurbs.getInputData(),a=null;if(t.nurbs.isA("yVtkPolyNurbsSurface")){r.setPoints(n);var i=t.nurbs.getDegree();t.nurbs.setCtrlPoints(n,i[0],i[1]),t.nurbs.update(),a=t.nurbs.getOutputData()}else{r.setPoints(n),t.nurbs.setLineNum(t.nLineNum),t.nurbs.setCtrlPoints(n),t.nurbs.update(),a=t.nurbs.getOutputData();var o=A.default.newInstance();o.setInputData(a),o.setComputeCellNormals(1),o.update(),a=o.getOutputData()}e.getWidgetRep().setSurfaceData(null,a)}},e.updateDataByRpc=function(){if(t.nurbs&&t.nurbs.isA("yVtkPolyNurbsSurface")){var n=h.default.newInstance();e.getWidgetRep().getPoints(n),t.nurbs.getInputData().setPoints(n);var r=t.nurbs.getDegree();t.nurbs.setCtrlPoints(n,r[0],r[1]);var a=t.interactor.getView().getRenderable().getVtkPVView();if(a){var i=t.nurbs.getSerialData(),o=function(n){if(t.interactor.getView().getRenderable()){var r=e.getWidgetRep().getSurfaceData();r||(r=p.default.newInstance()),r.setSerialData(n.return),e.getWidgetRep().setSurfaceData(null,r),e.render(),t.mouseUpdateCounter++}};a.callRpcMethod("yVtkPolyNurbsSurface::RequestData",i,o)}}},e.updateData=function(n){var r=t.widgetRep.getRenderer();if(r&&!r.hasViewProp(t.widgetRep.getSurfaceActor())?t.widgetRep.setShowSurfaceActor(!0):t.widgetRep.setShowSurfaceActor(!1),!t.updateByRpc)return void e.updateDataByLocal();if("enable"===n)return void e.updateDataByRpc();if("release"===n)return void e.updateDataByRpc();var a=t.mouseMoveCounter-t.mouseUpdateCounter;a>=3?Math.floor(Math.random()*a)===Math.floor(a/2)&&(e.updateDataByRpc(),t.mouseMoveCounter++):(e.updateDataByRpc(),t.mouseMoveCounter++)},e.testNurbs=function(){for(var e=[[[60.79348,205.285675,-61.763451],[67.374924,213.053604,-55.348175],[378.802582,139.400848,-50.581638],[82.065079,237.510681,-55.284859]],[[39.664371,156.111755,-78.978271],[60.903938,216.763229,-65.95089],[70.625267,233.079681,-63.926537],[76.106651,248.987137,-61.196011]],[[42.166145,207.453369,-78.400284],[52.159454,223.059357,-76.364754],[60.477688,240.58873,-76.550743],[134.287872,325.401367,-74.523834]],[[42.24353,215.699356,-82.59127],[43.417919,229.885864,-87.14019],[47.926666,281.866669,-92.494911],[61.678234,255.906189,-83.562645]]],t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)e[t][n][0]+=-250,e[t][n][1]+=-100,e[t][n][2]+=-100;var r=[0,0,0,.5,1,1,1],a=[0,0,0,.5,1,1,1];S.geom.NurbsSurface.byKnotsControlPointsWeights(2,2,r,a,e).tessellate()},e.initSurfaceActor=function(n,r){e.getWidgetRep().setSurfaceData(n,null),t.nurbs=r}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,T,n),l.default.extend(e,t,n),s.default.setGet(e,t,["movePoint","addPoint","opacity","surfaceType"]),s.default.setGetArray(e,t,["position"],2),s.default.setGetArray(e,t,["color"],3),a(e,t),e.createDefaultRepresentation()}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(153),l=r(u),c=n(557),d=r(c),f=n(268),m=r(f),g=n(4),p=r(g),v=n(6),h=r(v),y=n(56),A=r(y),S=n(275),T={moveActor:null,moveSphere:null,mouseMoveActor:null,movePoint:!1,addPoint:!1,position:[0,0],color:[1,1,1],opacity:1,moveOutsideSurface:!0,mouseMoveLastPos:[0,0],mouseMoveCounter:0,mouseUpdateCounter:0,updateByRpc:!1,nurbs:null,nLineNum:3,surfaceType:""},M=t.newInstance=s.default.newInstance(i,"ySeedWidget3DMapper");t.default={newInstance:M,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("ySeed3DRepresentation");var n=Object.assign({},e);e.addPoint=function(t){var n=m.default.newInstance();n.setCenter(t[0],t[1],t[2]),e.addSphere(n)},e.addSphere=function(n){t.spheres.push(n),e.modified()},e.clearSphere=function(){t.spheres.length=0,e.modified()},e.setRenderer=function(e){n.setRenderer(e)},e.getBounds=function(){var t=l.default.newInstance();return e.getActors().forEach(function(e,n){0===n?t.setBounds(e.getBounds()):t.addBounds(e.getBounds())}),t.getBounds()},e.buildRepresentation=function(){if(e.updateRadius(),e.getMTime()>t.buildTime.getMTime()){for(t.spheres.forEach(function(e,n){if(!t.actors[n]){var r=p.default.newInstance();r.setInputConnection(e.getOutputPort());var a=h.default.newInstance();a.setMapper(r),a.getProperty().setPointSize(3),t.actors[n]=a}});t.actors.length>t.spheres.length;){var n=t.actors.pop();t.renderer.removeViewProp(n)}t.buildTime.modified()}},e.getNestedProps=function(){return e.buildRepresentation(),e.getActors()},e.getActors=function(){var e=t.actors.concat();return t.showSurfaceActor&&t.surfaceActor&&t.surfaceActor.getMapper().getInputData()&&e.push(t.surfaceActor),e},e.releaseGraphicsResources=function(e){t.actors.forEach(function(t){t.releaseGraphicsResources(e)})},e.renderOverlay=function(n){e.buildRepresentation(),t.actors.forEach(function(e){e.getVisibility()&&e.renderOverlay(n)})},e.renderOpaqueGeometry=function(n){e.buildRepresentation(),t.actors.forEach(function(e){e.getVisibility()&&e.renderOpaqueGeometry(n)})},e.renderTranslucentPolygonalGeometry=function(n){e.buildRepresentation(),t.actors.forEach(function(e){e.getVisibility()&&e.renderTranslucentPolygonalGeometry(n)})},e.hasTranslucentPolygonalGeometry=function(){var e=0;return t.actors.forEach(function(t){t.getVisibility()&&(e+=t.hasTranslucentPolygonalGeometry())}),e},e.updateRadius=function(){if(t.renderer){var e=[0,0,0,0],n=t.renderer.getActiveCamera().getFocalPoint();n=A.default.computeWorldToView(t.renderer,n[0],n[1],n[2]),n[3]=1;var r=n[2],a=A.default.getAspectRatio(t.renderer);n[0]=-a[0],n[1]=-a[1],n=A.default.computeViewToWorld(t.renderer,n[0],n[1],n[2]),e[0]=a[0],e[1]=a[1],e[2]=r,e[3]=1,e=A.default.computeViewToWorld(t.renderer,e[0],e[1],e[2]);var i=Math.sqrt(T.default.distance2BetweenPoints(n,e)),o=t.renderer.getRenderWindow().getViews()[0].getSize(),s=t.renderer.getViewport(),u=o[0]*(s[2]-s[0]),l=o[1]*(s[3]-s[1]);i=1*i/Math.sqrt(u*u+l*l);var c=1*i*8;t.spheres.forEach(function(e){e.setRadius(c)})}},e.getMoveActor=function(n,r){e.buildRepresentation();var a=-1;if(r){var i=e.getCellPicker();if(i.pick([n[0],n[1],0],t.renderer)&&i.getActors().length>0){var o=i.getActors()[0];t.actors.forEach(function(e,t){o===e&&(a=t)})}}else t.actors.forEach(function(e,r){var i=e.getCenter(),o=b.default.newInstance();o.setCoordinateSystemToWorld(),o.setValue(i),t.renderer.updateLightsGeometryToFollowCamera();var s=o.getComputedDisplayValue(t.renderer),u=[s[0],s[1]];Math.abs(u[0]-n[0])<8&&Math.abs(u[1]-n[1])<8&&(a=r)});return a<0?null:{moveActor:t.actors[a],moveSphere:t.spheres[a]}},e.getCellPickerActor=function(n){var r=-1,a=e.getCellPicker();if(a.pick([n[0],n[1],0],t.renderer)&&a.getActors().length>0){var i=a.getActors()[0];t.actors.forEach(function(e,t){i===e&&(r=t)})}return r<0?null:{moveActor:t.actors[r],moveSphere:t.spheres[r]}},e.getCellPicker=function(){e.buildRepresentation();var n=I.default.newInstance();return n.initializePickList(),t.actors.forEach(function(e){n.addPickList(e)}),n.setPickFromList(!0),n.setTolerance(.01),n},e.getActorSphereByIndex=function(n){return e.buildRepresentation(),n<0||n>=t.actors.length?null:{moveActor:t.actors[n],moveSphere:t.spheres[n]}},e.getActorIndex=function(n){e.buildRepresentation();var r=-1;return t.actors.some(function(e,t){return e===n&&(r=t,!0)}),r},e.getSphereIndex=function(e){var n=-1;return t.spheres.some(function(t,r){return t===e&&(n=r,!0)}),n},e.getPoints=function(e){e.setNumberOfPoints(t.spheres.length),t.spheres.forEach(function(t,n){var r=t.getCenter();e.setPoint(n,r[0],r[1],r[2])})},e.setActorsAndSpheresData=function(n){e.buildRepresentation();for(var r=0;r<n.spheres.length;r++){var a=n.spheres[r].center,i=n.spheres[r].radius;r>=t.spheres.length&&e.addPoint(a),t.spheres[r].setCenter(a),t.spheres[r].setRadius(i)}for(;n.spheres.length<t.spheres.length;)t.spheres.pop(),e.modified();e.buildRepresentation();for(var o=0;o<n.actors.length;o++){var s=n.actors[o].color,u=n.actors[o].opacity;t.actors[o].getProperty().setColor(s[0],s[1],s[2]),t.actors[o].getProperty().setOpacity(u)}},e.getActorsAndSpheresData=function(){e.buildRepresentation();var n={};return n.actors=[],t.actors.forEach(function(e,t){var r={};r.color=e.getProperty().getColor(),r.opacity=e.getProperty().getOpacity(),n.actors.push(r)}),n.spheres=[],t.spheres.forEach(function(e,t){var r={};r.center=e.getCenter(),r.radius=e.getRadius(),n.spheres.push(r)}),n},e.setSurfaceData=function(e,n){e&&(t.surfaceActor=e),n&&t.surfaceActor.getMapper().setInputData(n)},e.getSurfaceData=function(){return t.surfaceActor?t.surfaceActor.getMapper().getInputData():null}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,N,n),d.default.extend(e,t,n),s.default.setGet(e,t,["showSurfaceActor"]),s.default.get(e,t,["surfaceActor"]),t.property=C.default.newInstance(),t.surfaceActor=h.default.newInstance();var r=p.default.newInstance();t.surfaceActor.setMapper(r),s.default.get(e,t,["property"]),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(131),l=r(u),c=n(155),d=r(c),f=n(97),m=r(f),g=n(20),p=r(g),v=n(24),h=r(v),y=n(21),A=r(y),S=n(1),T=r(S),M=n(53),b=r(M),D=n(157),I=r(D),w=n(30),C=r(w),N={spheres:[],actors:[],property:null,surfaceActor:null,showSurfaceActor:!0},P=t.newInstance=s.default.newInstance(i,"ySeed3DRepresentation");t.default={newInstance:P,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yPenTool");var n=Object.assign({},e);e.updateTool=function(e){},e.active=function(){return n.active(),e.subscribeEvents(),1},e.inactive=function(){return t.penWidget&&(t.penWidget.setEnabled(0),t.penWidget=null,t.renderWindow.render()),e.unsubscribeEvents(),n.inactive(),1},e.subscribeEvents=function(){for(;t.subscribedEvents2D.length;)t.subscribedEvents2D.pop().unsubscribe();[v.MultiView.getRenderWindowXY(),v.MultiView.getRenderWindowYZ(),v.MultiView.getRenderWindowXZ()].forEach(function(n){var r=n.getInteractor().onLeftButtonPress(e.handleLeftButtonPress2D,t.priority);t.subscribedEvents2D.push(r)})},e.unsubscribeEvents=function(){for(;t.subscribedEvents2D.length;)t.subscribedEvents2D.pop().unsubscribe()},e.handleLeftButtonPress2D=function(n){if(t.penWidget)return s.default.VOID;if(t.nodeIndex=e.getSelectedNode(),t.nodeIndex<0)return h("No node selected, or be sure it's visible"),s.default.VOID;var r=n.pokedRenderer;t.interactor=r.getRenderWindow().getInteractor();var a=v.MultiView.getRenderWindowXY(),i=v.MultiView.getRenderWindowYZ(),o=v.MultiView.getRenderWindowXZ();a.getRenderer()===r?t.renderWindow=a:i.getRenderer()===r?t.renderWindow=i:o.getRenderer()===r?t.renderWindow=o:t.renderWindow=null,t.penWidget=m.default.newInstance(),t.penWidget.setOrientation(t.renderWindow.getOrientation()),t.penWidget.setNodeIndex(t.nodeIndex),t.penWidget.setInteractor(t.interactor),t.penWidget.createDefaultRepresentation();var u=t.penWidget.getWidgetRep();return u.setAlwaysOnTop(!1),u.getProperty().setColor(0,0,1),u.getProperty().setOpacity(1),u.getActiveProperty().setColor(0,1,0),u.getActiveProperty().setOpacity(1),t.penWidget.setEnabled(1),t.interactor.invokeLeftButtonPress(n),s.default.EVENT_ABORT},e.getSelectedNode=function(){var e=v.DataManagement,t=e.getSelectedNode();return t<0?-1:e.getDataNodeType(t)!==g.DataNodeTypes.MASKV_DATA?-1:e.getNodeName(t)&&e.getNodeVisible(t)?t:-1}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),l.default.extend(e,t,n),t.toolId=p,a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(279),l=r(u),c=n(46),d=r(c),f=n(559),m=r(f),g=n(27),p="PenSegment",v=s.default.GlobalObjects,h=s.default.vtkErrorMacro,y={penWidget:null,priority:.5,subscribedEvents2D:[]},A=t.newInstance=s.default.newInstance(i,"yPenTool");d.default.registerTool(p,{newInstance:A,toolName:"",toolId:p,toolType:"2D",toolUpdate:[]}),t.default={newInstance:A,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yPenWidget");var n=Object.assign({},e);e.setEnabled=function(e){e?t.widgetRep.setVisibility(1):t.widgetRep.setVisibility(0),n.setEnabled(e)},e.createDefaultRepresentation=function(){if(!t.widgetRep){var e=m.default.newInstance();t.widgetRep=e;var n=e.getProperty();n&&(n.setRepresentationToSurface(),n.setAmbient(.1),n.setDiffuse(.9),n.setSpecular(0),n.setColor(.25,1,.25)),(n=e.getActiveProperty())&&(n.setRepresentationToSurface(),n.setAmbient(.1),n.setDiffuse(.9),n.setSpecular(0),n.setColor(1,.25,1))}},e.handleLeftButtonPress=function(n){var r=n.position.x,a=n.position.y,i=n.pokedRenderer;return t.lastPressPosition[0]=r,t.lastPressPosition[1]=a,t.pressDown=!0,e.checkClosedLoop(r,a,i)?(t.widgetRep.setClosedLoop(!0),t.widgetRep.setAllActive(!0)):(t.widgetRep.setClosedLoop(!1),t.widgetRep.setAllActive(!1),e.addPoint(r,a,i)),t.widgetRep.buildRepresentation(),t.interactor.render(),s.default.EVENT_ABORT},e.handleMouseMove=function(n){var r=n.position.x,a=n.position.y,i=n.pokedRenderer;return e.checkClosedLoop(r,a,i)?(t.widgetRep.setClosedLoop(!0),t.widgetRep.setAllActive(!0)):(t.widgetRep.setClosedLoop(!1),t.widgetRep.setAllActive(!1),t.pressDown?(e.addPoint(r,a,i),e.setActivePoint(r,a,i)):e.setActivePoint(r,a,i)),t.widgetRep.buildRepresentation(),t.interactor.render(),t.pressDown?s.default.EVENT_ABORT:s.default.VOID},e.handleLeftButtonRelease=function(n){var r=n.position.x,a=n.position.y,i=n.pokedRenderer;if(e.checkClosedLoop(r,a,i)){t.widgetRep.setClosedLoop(!0),t.widgetRep.setAllActive(!0);var o=t.widgetRep.getPoints();t.widgetRep.clearPoints(),t.widgetRep.buildRepresentation(),t.interactor.render(),e.updateMaskData(o),t.interactor.render()}else t.widgetRep.setClosedLoop(!1),t.widgetRep.setAllActive(!1),t.pressDown?(e.addPoint(r,a,i),e.setActivePoint(r,a,i)):e.setActivePoint(r,a,i),t.widgetRep.buildRepresentation(),t.interactor.render();return t.pressDown=!1,s.default.EVENT_ABORT},e.handleRightButtonPress=function(e){var n=e.position.x,r=e.position.y;return t.lastPressPosition[0]=n,t.lastPressPosition[1]=r,s.default.VOID},e.handleRightButtonRelease=function(e){var n=e.position.x,r=e.position.y;return t.pressDown=!1,n===t.lastPressPosition[0]&&r===t.lastPressPosition[1]&&(t.widgetRep.clearPoints(),t.widgetRep.buildRepresentation(),t.interactor.render()),s.default.VOID},e.addPoint=function(e,n,r){var a=d.default.computeDisplayToWorld(r,e,n,t.zpos);t.widgetRep.addPoint(a)},e.setActivePoint=function(e,n,r){var a=d.default.computeDisplayToWorld(r,e,n,t.zpos);t.widgetRep.setActivePoint(a)},e.checkClosedLoop=function(e,n,r){var a=t.widgetRep.getPoints();if(a.length<=2)return!1;var i=a[0],o=d.default.computeWorldToDisplay(r,i[0],i[1],i[2],1);return(o[0]-e)*(o[0]-e)+(o[1]-n)*(o[1]-n)<=t.pixelTolerance*t.pixelTolerance},e.get2DPosition=function(e,t){var n=[0,0,0];switch(n[e]=0,e){case 0:n[1]=t[0],n[2]=t[1];break;case 1:n[0]=t[0],n[2]=t[1];break;case 2:n[0]=t[0],n[1]=t[1]}return n},e.updateMaskData=function(n){var r=g.DataManagement.getVisibleRootIndex();if(!(r<0)){var a=g.DataManagement.getData(r);if(a&&!(n.length<3)){var i=t.orientation,o=a.getOrigin(),s=a.getSpacing(),u=a.getDimensions(),l=[],c=null;if(0===i)l[0]=u[1],l[1]=u[2],c=n.map(function(e){return[Math.round((e[0]-o[1])/s[1]),Math.round((e[1]-o[2])/s[2])]});else if(1===i)l[0]=u[0],l[1]=u[2],c=n.map(function(e){return[Math.round((e[0]-o[0])/s[0]),Math.round((e[1]-o[2])/s[2])]});else{if(2!==i)return;l[0]=u[0],l[1]=u[1],c=n.map(function(e){return[Math.round((e[0]-o[0])/s[0]),Math.round((e[1]-o[1])/s[1])]})}var d=document.createElement("canvas");d.width=l[0],d.height=l[1];var f=d.getContext("2d");f.beginPath(),f.moveTo(c[0][0],c[0][1]);for(var m=1;m<c.length;m++)f.lineTo(c[m][0],c[m][1]);f.closePath(),f.strokeStyle="#ffffff",f.stroke(),f.fillStyle="#ffffff",f.fill();var p=f.getImageData(0,0,d.width,d.height);e.doUpdateMaskData(p)}}},e.doUpdateMaskData=function(e){var n=t.orientation,r=g.MultiView.getCurrentSlices(),a=g.DataManagement,i=a.getData(t.nodeIndex);if(i){var o=i.getPointData().getScalars().getData();if(o){var s=i.getDimensions(),u=s[0]*s[1],l=a.getNodeProperty(t.nodeIndex,"mask_bit"),c=128;c>>=8-l-1;var d=255&c,f=e.width,m=e.height;if(0===n){if(s[1]!==f||s[2]!==m)return;for(var p=0;p<m;p++)for(var v=0;v<f;v++){var h=f*p+v;if(e.data[4*h]){var y=p*u+v*s[0]+r[0];o[y]|=d}}}else if(1===n){if(s[0]!==f||s[2]!==m)return;for(var A=0;A<m;A++)for(var S=0;S<f;S++){var T=f*A+S;if(e.data[4*T]){var M=A*u+r[1]*s[0]+S;o[M]|=d}}}else if(2===n){if(s[0]!==f||s[1]!==m)return;for(var b=0;b<m;b++)for(var D=0;D<f;D++){var I=f*b+D;if(e.data[4*I]){var w=r[2]*u+b*s[0]+D;o[w]|=d}}}i.modified()}}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,p,n),l.default.extend(e,t,n),s.default.setGet(e,t,["zpos","pixelTolerance","nodeIndex","orientation"]),e.setPriority(.4),a(e,t),e.createDefaultRepresentation()}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(153),l=r(u),c=n(21),d=r(c),f=n(560),m=r(f),g=s.default.GlobalObjects,p={zpos:.5,pixelTolerance:7,nodeIndex:-1,orientation:0,pressDown:!1,lastPressPosition:[]},v=t.newInstance=s.default.newInstance(i,"yPenWidget");t.default={newInstance:v,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){t.classHierarchy.push("yPenRepresentation"),e.buildRepresentation=function(){t.alwaysOnTop?(t.linesMapper.setRelativeCoincidentTopologyLineOffsetParameters(0,-66e3),t.linesMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(0,-66e3),t.linesMapper.setRelativeCoincidentTopologyPointOffsetParameters(0,-66e3),t.activeLinesMapper.setRelativeCoincidentTopologyLineOffsetParameters(0,-66e3),t.activeLinesMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(0,-66e3),t.activeLinesMapper.setRelativeCoincidentTopologyPointOffsetParameters(0,-66e3)):(t.linesMapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.linesMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.linesMapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1),t.activeLinesMapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.activeLinesMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.activeLinesMapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1)),e.buildLines()},e.getActors=function(){return[].concat(t.linesActor.getActors(),t.activeLinesActor.getActors())},e.getNestedProps=function(){return e.buildRepresentation(),e.getActors()},e.renderOverlay=function(e){t.linesActor.renderOverlay(e),t.activeLinesActor.renderOverlay(e)},e.renderOpaqueGeometry=function(n){e.buildRepresentation(),t.linesActor.renderOpaqueGeometry(n),t.activeLinesActor.renderOpaqueGeometry(n)},e.renderTranslucentPolygonalGeometry=function(e){t.linesActor.renderTranslucentPolygonalGeometry(e),t.activeLinesActor.renderTranslucentPolygonalGeometry(e)},e.hasTranslucentPolygonalGeometry=function(){var e=0;return e+=t.linesActor.hasTranslucentPolygonalGeometry(),e+=t.activeLinesActor.hasTranslucentPolygonalGeometry()},e.getBounds=function(){var e=t.linesData.getPoints()?t.linesData.getPoints().getBounds():null,n=t.activeLinesData.getPoints()?t.activeLinesData.getPoints().getBounds():null;return e&&n?(e[0]=Math.min(e[0],n[0]),e[1]=Math.max(e[1],n[1]),e[2]=Math.min(e[2],n[2]),e[3]=Math.max(e[3],n[3]),e[4]=Math.min(e[4],n[4]),e[5]=Math.max(e[5],n[5]),e):e||n},e.createDefaultProperties=function(){t.property=M.default.newInstance(),t.property.setAmbient(1),t.property.setDiffuse(0),t.property.setSpecular(0),t.property.setColor(1,0,0),t.property.setLineWidth(1),t.activeProperty=M.default.newInstance(),t.activeProperty.setAmbient(1),t.activeProperty.setDiffuse(0),t.activeProperty.setSpecular(0),t.activeProperty.setColor(0,1,1),t.activeProperty.setLineWidth(1)},e.buildLines=function(){var e=t.linesData.getPoints();e||(e=f.default.newInstance());var n=t.linesData.getLines();n||(n=g.default.newInstance());var r=t.points.length;e.setNumberOfPoints(r),n.reset();var i=0,o=0;if((o=t.closedLoop&&r>0?r+1:r)>0){for(var s=new Array(o),u=void 0,l=0;l<r;l++){var c;u=t.points[l],(c=e).setPoint.apply(c,[i].concat(a(u))),s[i]=i,i++}t.closedLoop&&(s[i]=0),s.unshift(o);var d=new Int32Array(s);n.setData(d)}if(t.linesData.setPoints(e),t.linesData.setLines(n),t.linesData.modified(),e=t.activeLinesData.getPoints(),e||(e=f.default.newInstance()),n=t.activeLinesData.getLines(),n||(n=g.default.newInstance()),r>0&&!t.closedLoop){var m,p;e.setNumberOfPoints(2),(m=e).setPoint.apply(m,[0].concat(a(t.points[r-1]))),(p=e).setPoint.apply(p,[1].concat(a(t.activePoint))),n.reset();var v=new Int32Array([2,0,1]);n.setData(v)}else e.setNumberOfPoints(0),n.reset();t.activeLinesData.setPoints(e),t.activeLinesData.setLines(n),t.activeLinesData.modified()},e.addPoint=function(e){if(0===t.points.length)t.points.push(e.concat());else{var n=t.points[t.points.length-1];n[0]===e[0]&&n[1]===e[1]&&n[2]===e[2]||t.points.push(e.concat())}},e.setActivePoint=function(e){t.activePoint[0]=e[0],t.activePoint[1]=e[1],t.activePoint[2]=e[2]},e.getPoints=function(){return t.points},e.getActivePoint=function(){return t.activePoint},e.clearPoints=function(){t.points=[],t.activePoint.length=0},e.setAllActive=function(e){e?t.linesActor.setProperty(t.activeProperty):t.linesActor.setProperty(t.property)}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,b,n),c.default.extend(e,t,n),u.default.setGet(e,t,["alwaysOnTop","closedLoop"]),u.default.get(e,t,["property","activeProperty"]),i(e,t),e.createDefaultProperties(),t.linesData=v.default.newInstance(),t.linesMapper=y.default.newInstance(),t.linesMapper.setInputData(t.linesData),t.linesMapper.setResolveCoincidentTopologyToPolygonOffset(),t.linesMapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.linesMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.linesMapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1),t.linesActor=S.default.newInstance(),t.linesActor.setMapper(t.linesMapper),t.linesActor.setProperty(t.property),t.activeLinesData=v.default.newInstance(),t.activeLinesMapper=y.default.newInstance(),t.activeLinesMapper.setInputData(t.activeLinesData),t.activeLinesMapper.setResolveCoincidentTopologyToPolygonOffset(),t.activeLinesMapper.setRelativeCoincidentTopologyLineOffsetParameters(-1,-1),t.activeLinesMapper.setRelativeCoincidentTopologyPolygonOffsetParameters(-1,-1),t.activeLinesMapper.setRelativeCoincidentTopologyPointOffsetParameters(-1,-1),t.activeLinesActor=S.default.newInstance(),t.activeLinesActor.setMapper(t.activeLinesMapper),t.activeLinesActor.setProperty(t.activeProperty)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=o;var s=n(0),u=r(s),l=n(155),c=r(l),d=n(6),f=r(d),m=n(11),g=r(m),p=n(4),v=r(p),h=n(20),y=r(h),A=n(24),S=r(A),T=n(30),M=r(T),b={points:[],activePoint:[],linesData:null,linesMapper:null,linesActor:null,activeLinesData:null,activeLinesMapper:null,activeLinesActor:null,property:null,activeProperty:null,alwaysOnTop:0,closedLoop:!1},D=t.newInstance=u.default.newInstance(o,"yPenRepresentation");t.default={newInstance:D,extend:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yRegionGrowingUI");var n=Object.assign({},e);e.getToolParams=function(){var n={},r={},a=h.DataManagement,i=a.getVisibleRootIndex();if(i<0)return n;n.inputSeriesList=e.getImageNodeList(),r.inputSeries=-1;for(var o=0;o<n.inputSeriesList.length;o++)if(n.inputSeriesList[o].index===i){r.inputSeries=o;break}n.maskTypeList=["--","",""],r.maskType=t.maskType,n.maskROIList=e.getMaskNodeList(),r.maskROI=n.maskROIList.length>0?t.maskROI:-1;var s={};return s.type="MaskData",s.index=-1,s.parentIndex=i,s.name="<>",s.color=[1,0,0],s.opacity=1,s.visible=!1,s.volume="0",n.outputROIList=[].concat([s],n.maskROIList),r.outputROI=n.outputROIList.length>0?t.outputROI:-1,n.histogram=e.getHistogram(),n.predefinedList=y,r.predefined=t.predefined,r.CTLow=t.CTLow,r.CTHigh=t.CTHigh,r.CTCur=e.getCurrentCTValue(),r.seed=t.seed,r.replace=t.replace,r.fillHoles=t.fillHoles,n.options=r,n},e.updateTool=function(t){return"Preview"===t.cmd?(e.doPreview(t),1):"Save"===t.cmd?(e.doSave(t),1):0},e.registerCallbacks=function(){h.MultiView.registerCallback("LeftButtonPress",e.handleLeftButtonPress),h.MultiView.registerCallback("SliceChanged",e.handleSliceChanged),h.MultiView.registerCallback("SliceChanged2",e.handleSliceChanged)},e.unregisterCallbacks=function(){h.MultiView.unregisterCallback("SliceChanged2",e.handleSliceChanged),h.MultiView.unregisterCallback("SliceChanged",e.handleSliceChanged),h.MultiView.unregisterCallback("LeftButtonPress",e.handleLeftButtonPress)},e.active=function(){return n.active(),e.getHistogram(),e.updateTempMaskNode(),e.updateTempMaskNodeGrowing(),e.doPreview({}),e.registerCallbacks(),1},e.inactive=function(){return e.unregisterCallbacks(),e.removeAllTempMaskNodes(),n.inactive(),1},e.handleLeftButtonPress=function(n){var r=n.orientation;r<0||r>2||(t.needThresholdSeg3D&&(performance.now(),e.thresholdSeg3D(),performance.now()),performance.now(),e.calculate(),performance.now(),h.MultiView.render())},e.handleSliceChanged=function(){e.thresholdSeg2D(),h.MultiView.render()},e.getImageNodeList=function(){var e=h.DataManagement;return e.getVisibleRootIndex()<0?[]:e.getImageNodeList(!0)},e.getMaskNodeList=function(){var e=h.DataManagement;return e.getVisibleRootIndex()<0?[]:e.getMaskNodeList()},e.getCurrentCTValue=function(){var e=h.DataManagement,t=e.getVisibleRootIndex();if(!(t<0)){var n=e.getData(t);if(n){var r=h.MultiView.getDisplayPosition(),a=n.getOrigin(),i=n.getSpacing(),o=n.getDimensions(),s=[];s[0]=Math.floor((r[0]-a[0])/i[0]+.5),s[1]=Math.floor((r[1]-a[1])/i[1]+.5),s[2]=Math.floor((r[2]-a[2])/i[2]+.5);var u=s[2]*o[1]*o[0]+s[1]*o[0]+s[0];return n.getPointData().getScalars().getTuple(u)[0]}}},e.updateStats=function(){var e=h.DataManagement,n=e.getVisibleRootIndex();if(n<0)return!1;if(t.histIndex===n)return!1;t.histIndex=-1,t.histMin=0,t.histMax=0,t.histLowDef=0,t.histHighDef=0,t.histData=[];var r=e.getData(n);if(!r)return!1;for(var a=r.getPointData().getScalars().getData(),i=a.length,o=new Map,s=0;s<i;s++){var u=a[s],l=o.get(u)||0;o.set(u,l+1)}var c=Array.from(o.keys());if(c.sort(function(e,t){return e-t}),0===c.length)return!1;t.histMin=c[0],t.histMax=c[c.length-1],t.histData.length=c.length,t.histIndex=n;for(var d=t.histData,f=c.length,m=0;m<f;m++)d[m]=[c[m],o.get(c[m])];t.histLowDef=d[0][0],t.histHighDef=d[f-1][0];for(var g=.025*i,p=0,v=f-1;v>=0;v--)if((p+=d[v][1])>g){t.histLowDef=d[v][0],t.histHighDef=d[f-1][0];break}return!0},e.getHistogram=function(){var n=e.updateStats();return e.updateCTRange(n),{min:t.histMin,max:t.histMax,data:t.histData}},e.updateCTRange=function(e){if(e)return t.CTLow=t.histLowDef,t.CTHigh=t.histHighDef,void(t.predefined=0);t.predefined>0&&(t.CTLow=y[t.predefined].low,t.CTHigh=y[t.predefined].high),t.CTLow<t.histMin&&(t.CTLow=t.histMin),t.CTHigh>t.histMax&&(t.CTHigh=t.histMax)},e.updateInputSeries=function(n){if(t.inputSeries===n||n<0)return!1;var r=e.getImageNodeList(),a=r[n].index;return h.MultiView.getNodeOps().switchToImageNode(a),e.updateTempMaskNode(!0),e.updateTempMaskNodeGrowing(!0),t.inputSeries=n,!0},e.updateMaskType=function(e){return!(t.maskType===e||e<0||(t.maskType=e,0))},e.updateMaskROI=function(e){return!(t.maskROI===e||e<0||(t.maskROI=e,0))},e.updateOutputROI=function(e){return!(t.outputROI===e||e<0||(t.outputROI=e,0))},e.updateSeed=function(e){return t.seed!==e&&(t.seed=e,!0)},e.updateReplace=function(e){return t.replace!==e&&(t.replace=e,!0)},e.updateFillHoles=function(e){return t.fillHoles!==e&&(t.fillHoles=e,!0)},e.updatePredefined=function(n){return!(t.predefined===n||n<0||(t.predefined=n,e.updateCTRange(0===n),0))},e.updateCTHigh=function(n){return t.CTHigh!==n&&(t.CTHigh=n,t.predefined=0,e.updateCTRange(),!0)},e.updateCTLow=function(n){return t.CTLow!==n&&(t.CTLow=n,t.predefined=0,e.updateCTRange(),!0)},e.removeAllTempMaskNodes=function(){if(t.tempMaskNode>=0||t.tempMaskNodeGrowing>=0){var e=[];t.tempMaskNode>=0&&(h.DataManagement.removeMaskNode(t.tempMaskNode),e.push(t.tempMaskNode),t.tempMaskNode=-1),t.tempMaskNodeGrowing>=0&&(h.DataManagement.removeMaskNode(t.tempMaskNodeGrowing),e.push(t.tempMaskNodeGrowing),t.tempMaskNodeGrowing=-1),h.MultiView.updateNodesAndRender(e)}},e.updateTempMaskNode=function(e){var n=h.DataManagement,r=n.getVisibleRootIndex();if(!(r<0))if(t.tempMaskNode<0){if(t.tempMaskNode=h.DataManagement.createMaskNode("THRESH_SEG","THRESH_SEG",r),t.tempMaskNode<0)return;n.setNodeColor(t.tempMaskNode,[0,1,0]),n.setNodeOpacity(t.tempMaskNode,.5),n.updateTempMaskNodeParent(t.tempMaskNode,r,!0),h.RemoteData.addMaskMapperNode(t.tempMaskNode),t.tempMaskEmpty=!0,t.needThresholdSeg3D=!1}else e&&(n.updateTempMaskNodeParent(t.tempMaskNode,r,!0),t.tempMaskEmpty=!0,t.needThresholdSeg3D=!1)},e.thresholdSeg2D=function(){var n=h.DataManagement,r=n.getVisibleRootIndex();if(!(r<0)){var a=n.getData(r);if(a){if(t.thresholding.setInputData(a),0!==t.maskType){var i=e.getMaskNodeList(),o=i[t.maskROI].index,s=n.getData(o);if(s){var u=n.getNodeProperty(o,"mask_bit"),l=128;l>>=8-u-1;var c=255&l;t.thresholding.setMaskROI(s,c),t.thresholding.setMaskType(1===t.maskType?"Inner":"Outer")}else t.thresholding.setMaskROI(null,0),t.thresholding.setMaskType("--")}else t.thresholding.setMaskROI(null,0),t.thresholding.setMaskType("--");t.thresholding.setThreshLow(t.CTLow),t.thresholding.setThreshHigh(t.CTHigh);var d=n.getData(t.tempMaskNode),f=n.getNodeProperty(t.tempMaskNode,"mask_bit"),m=128;m>>=8-f-1;var g=255&m;t.thresholding.setOutputMaskData(d,g);for(var p=h.MultiView.getCurrentSlices(),v=0;v<3;v++)t.thresholding.setDirection(v),t.thresholding.setSliceIndex(p[v]),t.thresholding.update();t.tempMaskEmpty=!1,t.needThresholdSeg3D=!0}}},e.thresholdSeg3D=function(){var n=h.DataManagement,r=n.getVisibleRootIndex();if(!(r<0)){var a=n.getData(r);if(a){if(t.thresholding.setInputData(a),0!==t.maskType){var i=e.getMaskNodeList(),o=i[t.maskROI].index,s=n.getData(o);if(s){var u=n.getNodeProperty(o,"mask_bit"),l=128;l>>=8-u-1;var c=255&l;t.thresholding.setMaskROI(s,c),t.thresholding.setMaskType(1===t.maskType?"Inner":"Outer")}else t.thresholding.setMaskROI(null,0),t.thresholding.setMaskType("--")}else t.thresholding.setMaskROI(null,0),t.thresholding.setMaskType("--");t.thresholding.setThreshLow(t.CTLow),t.thresholding.setThreshHigh(t.CTHigh);var d=n.getData(t.tempMaskNode),f=n.getNodeProperty(t.tempMaskNode,"mask_bit"),m=128;m>>=8-f-1;var g=255&m;t.thresholding.setOutputMaskData(d,g),t.thresholding.setDirection(-1),t.thresholding.update(),t.tempMaskEmpty=!1,t.needThresholdSeg3D=!1}}},e.updateTempMaskNodeGrowing=function(e){var n=h.DataManagement,r=n.getVisibleRootIndex();if(!(r<0))if(t.tempMaskNodeGrowing<0){if(t.tempMaskNodeGrowing=h.DataManagement.createMaskNode("REGION_GROWING","REGION_GROWING",r),t.tempMaskNodeGrowing<0)return;n.setNodeColor(t.tempMaskNodeGrowing,[1,0,0]),n.setNodeOpacity(t.tempMaskNodeGrowing,.5),n.updateTempMaskNodeParent(t.tempMaskNodeGrowing,r,!0),h.RemoteData.addMaskMapperNode(t.tempMaskNodeGrowing),t.tempMaskGrowingEmpty=!0}else e&&(n.updateTempMaskNodeParent(t.tempMaskNodeGrowing,r,!0),t.tempMaskGrowingEmpty=!0)},e.calculate=function(){if(t.seed){var e=h.DataManagement,n=e.getData(t.tempMaskNode);if(n){t.regionGrowing.setInputData(n),t.regionGrowing.setThreshLow(.5),t.regionGrowing.setThreshHigh(1.5),t.regionGrowing.setReplace(t.replace);var r=h.MultiView.getCurrentSlices();t.regionGrowing.clearAllSeeds(),t.regionGrowing.addSeed(r);var a=e.getData(t.tempMaskNodeGrowing),i=e.getNodeProperty(t.tempMaskNodeGrowing,"mask_bit"),o=128;o>>=8-i-1;var s=255&o;t.regionGrowing.setOutputMaskData(a,s),t.regionGrowing.modified(),t.regionGrowing.update(),t.tempMaskGrowingEmpty=!1}}},e.updateOptions=function(t){var n=0;return"number"==typeof t.inputSeries&&(n+=e.updateInputSeries(t.inputSeries)),"number"==typeof t.maskType&&(n+=e.updateMaskType(t.maskType)),"number"==typeof t.maskROI&&(n+=e.updateMaskROI(t.maskROI)),"number"==typeof t.outputROI&&e.updateOutputROI(t.outputROI),"boolean"==typeof t.seed&&e.updateSeed(t.seed),"boolean"==typeof t.replace&&e.updateReplace(t.replace),"boolean"==typeof t.fillHoles&&e.updateFillHoles(t.fillHoles),"number"==typeof t.predefined&&(n+=e.updatePredefined(t.predefined)),"number"==typeof t.CTHigh&&(n+=e.updateCTHigh(t.CTHigh)),"number"==typeof t.CTLow&&(n+=e.updateCTLow(t.CTLow)),n},e.doPreview=function(n){(e.updateOptions(n)||t.tempMaskEmpty)&&e.thresholdSeg2D(),h.MultiView.render()},e.doSave=function(n,r){e.updateOptions(n);var a=h.DataManagement,i=a.getVisibleRootIndex();if(!(i<0)){if(t.tempMaskGrowingEmpty&&t.tempMaskEmpty)return void(r&&(e.removeAllTempMaskNodes(),e.unregisterCallbacks()));var o=null;if(t.tempMaskGrowingEmpty?(t.needThresholdSeg3D&&(performance.now(),e.thresholdSeg3D(),performance.now()),o=a.getData(t.tempMaskNode)):o=a.getData(t.tempMaskNodeGrowing),!o)return void(r&&(e.removeAllTempMaskNodes(),e.unregisterCallbacks()));if(t.fillHoles,0===t.outputROI){var s=a.getValidNodeName(""),u=a.createMaskNode(s,"THRESH_SEG",i);if(u<0)return;a.setNodeColor(u,[0,1,0]),a.setNodeOpacity(u,.5),a.updateMaskNodeParent(u,i);var l=a.getData(u),c=a.getNodeProperty(u,"mask_bit");a.copyMaskDataToBit(o,0,l,c),h.RemoteData.addMaskMapperNode(u)}else{var d=e.getMaskNodeList(),f=[].concat([{}],d),m=f[t.outputROI].index,g=a.getData(m),p=a.getNodeProperty(m,"mask_bit");a.copyMaskDataToBit(o,0,g,p)}r&&(e.removeAllTempMaskNodes(),e.unregisterCallbacks()),h.MultiView.render()}}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,A,n),l.default.extend(e,t,n),t.toolId=v,t.thresholding=m.default.newInstance(),t.regionGrowing=p.default.newInstance(),a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(279),l=r(u),c=n(46),d=r(c),f=n(280),m=r(f),g=n(281),p=r(g),v="RegionGrowing",h=s.default.GlobalObjects,y=[{id:"",low:-3e3,high:3e3},{id:"Bone(CT)",low:226,high:3071},{id:"Soft Tissue(CT)",low:-700,high:225},{id:"Enamel(CT,Adult)",low:1553,high:2850},{id:"Enamel(CT,Child)",low:2042,high:3071},{id:"Compact Bone(CT,Adult)",low:662,high:1988},{id:"Compact Bone(CT,Child)",low:586,high:2198},{id:"Spongial Bone(CT,Adult)",low:148,high:661},{id:"Spongial Bone(CT,Child)",low:156,high:585},{id:"Muscle Tissue(CT,Adult)",low:-5,high:135},{id:"Muscle Tissue(CT,Child)",low:-25,high:139},{id:"Fat Tissue(CT,Adult)",low:-205,high:-51},{id:"Fat Tissue(CT,Child)",low:-212,high:-72},{id:"Skin Tissue(CT,Adult)",low:-718,high:-177},{id:"Skin Tissue(CT,Child)",low:-766,high:-202},{id:"Tooth(CT)",low:1200,high:3071},{id:"Prosthesis(CT)",low:800,high:3071}],A={thresholding:null,regionGrowing:null,tempMaskNode:-1,tempMaskEmpty:!0,needThresholdSeg3D:!0,tempMaskNodeGrowing:-1,tempMaskGrowingEmpty:!0,histIndex:-1,histMin:0,histMax:0,histLowDef:0,histHighDef:0,histData:[],inputSeries:0,maskType:0,maskROI:0,outputROI:0,seed:!1,replace:!0,fillHoles:!1,predefined:0,CTHigh:0,CTLow:0,CTCur:0},S=t.newInstance=s.default.newInstance(i,"yRegionGrowingUI");d.default.registerTool(v,{newInstance:S,toolName:"",toolId:v,toolType:"2D",toolUpdate:[{name:"",cmd:"Preview"},{name:"",cmd:"Save"}]}),t.default={newInstance:S,extend:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){t.classHierarchy.push("yReconstruction3D"),e.updateTool=function(n){n.reduction&&(t.reduction=n.reduction),n.thickness&&(t.thickness=n.thickness);var r=n.cmd;"ReconstSelected"===r?(t.maskIndex=e.getSelectedNode(),e.reconstruction3D()):"ReconstIndex"===r&&(t.maskIndex=n.index,e.reconstruction3D())},e.setupPipeline=function(){},e.resetPipeline=function(){},e.getSelectedNode=function(){var e=h.DataManagement,t=e.getSelectedNode();return t<0?-1:e.getDataNodeType(t)!==g.DataNodeTypes.MASKV_DATA?-1:e.getNodeName(t)?t:-1},e.reconstruction3D=function(){var e=t.maskIndex,n=t.reduction,r=t.thickness,a=h.DataManagement;if(!a.isNodeExist(e))return v("node "+e+" not exists"),!1;if(a.getDataNodeType(e)!==g.DataNodeTypes.MASKV_DATA)return v("node "+e+" is not MASK node"),!1;var i=a.getData(e),o=a.getNodeProperty(e,"mask_bit");if(!i||"number"!=typeof o)return v("node "+e+" empty data"),!1;h.MultiView.onCallback("WaitingLock",!0);var s={maskData:i.toJson(),maskbit:o,reduction:n,thickness:r,optimize:!1};return h.AlgoServer.runAPI("Reconstruction3D",s,function(t,n){var r=l.default.newInstance();r.fromJson(t.polyData);var i=a.getValidNodeName(a.getNodeName(e)),o=a.createSurfaceNode(i,e),s=a.getNodeColor(e);a.setNodeColor(o,s);var u=a.getNodeOpacity(e);a.setNodeOpacity(o,u);var c=a.getNodeProperty(e,"organ_name");a.setNodeProperty(o,"organ_name",c),a.setData(o,r),h.MultiView.getRenderWindow3D().createSurfaceMapper(o),h.MultiView.getRenderWindow3D().render(),h.MultiView.onCallback("WaitingLock",!1),h.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"Reconstruction3D",result:"Success"})},function(e){h.MultiView.onCallback("WaitingLock",!1),h.MultiView.onCallback("ToolDone",{toolId:"Misc.",toolCmd:"Reconstruction3D",result:"Error",reason:e})}),!0}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.assign(t,y,n),d.default.extend(e,t,n),t.toolId=p,a(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.newInstance=void 0,t.extend=i;var o=n(0),s=r(o),u=n(4),l=r(u),c=n(277),d=r(c),f=n(46),m=r(f),g=n(27),p="Reconstruction3D",v=s.default.vtkErrorMacro,h=s.default.GlobalObjects,y={maskIndex:-1,reduction:.5,thickness:.5},A=t.newInstance=s.default.newInstance(i,"yReconstruction3D");m.default.registerTool(p,{newInstance:A,toolName:"",toolId:p,toolType:"3D",toolUpdate:[{name:"",cmd:"ReconstSelected"},{name:"",cmd:"ReconstIndex"}]}),t.default={newInstance:A,extend:i}}])});